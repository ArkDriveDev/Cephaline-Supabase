function u9e(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}function rV(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const r=Object.getOwnPropertyDescriptor(i,o);r&&Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();var dn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}),n}var gO={exports:{}},v1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sV=Symbol.for("react.transitional.element"),aV=Symbol.for("react.fragment");function bO(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var o in e)o!=="key"&&(n[o]=e[o])}else n=e;return e=n.ref,{$$typeof:sV,type:t,key:i,ref:e!==void 0?e:null,props:n}}v1.Fragment=aV;v1.jsx=bO;v1.jsxs=bO;gO.exports=v1;var T=gO.exports,xO={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS=Symbol.for("react.transitional.element"),lV=Symbol.for("react.portal"),cV=Symbol.for("react.fragment"),uV=Symbol.for("react.strict_mode"),dV=Symbol.for("react.profiler"),hV=Symbol.for("react.consumer"),pV=Symbol.for("react.context"),fV=Symbol.for("react.forward_ref"),mV=Symbol.for("react.suspense"),gV=Symbol.for("react.memo"),yO=Symbol.for("react.lazy"),Y_=Symbol.iterator;function bV(t){return t===null||typeof t!="object"?null:(t=Y_&&t[Y_]||t["@@iterator"],typeof t=="function"?t:null)}var vO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wO=Object.assign,kO={};function Zh(t,e,n){this.props=t,this.context=e,this.refs=kO,this.updater=n||vO}Zh.prototype.isReactComponent={};Zh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SO(){}SO.prototype=Zh.prototype;function ZS(t,e,n){this.props=t,this.context=e,this.refs=kO,this.updater=n||vO}var JS=ZS.prototype=new SO;JS.constructor=ZS;wO(JS,Zh.prototype);JS.isPureReactComponent=!0;var Z_=Array.isArray,$n={H:null,A:null,T:null,S:null},CO=Object.prototype.hasOwnProperty;function QS(t,e,n,i,o,r){return n=r.ref,{$$typeof:YS,type:t,key:e,ref:n!==void 0?n:null,props:r}}function xV(t,e){return QS(t.type,e,void 0,void 0,void 0,t.props)}function eC(t){return typeof t=="object"&&t!==null&&t.$$typeof===YS}function yV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var J_=/\/+/g;function Rw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yV(""+t.key):e.toString(36)}function Q_(){}function vV(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Q_,Q_):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Nd(t,e,n,i,o){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(r){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case YS:case lV:s=!0;break;case yO:return s=t._init,Nd(s(t._payload),e,n,i,o)}}if(s)return o=o(t),s=i===""?"."+Rw(t,0):i,Z_(o)?(n="",s!=null&&(n=s.replace(J_,"$&/")+"/"),Nd(o,e,n,"",function(c){return c})):o!=null&&(eC(o)&&(o=xV(o,n+(o.key==null||t&&t.key===o.key?"":(""+o.key).replace(J_,"$&/")+"/")+s)),e.push(o)),1;s=0;var a=i===""?".":i+":";if(Z_(t))for(var l=0;l<t.length;l++)i=t[l],r=a+Rw(i,l),s+=Nd(i,e,n,r,o);else if(l=bV(t),typeof l=="function")for(t=l.call(t),l=0;!(i=t.next()).done;)i=i.value,r=a+Rw(i,l++),s+=Nd(i,e,n,r,o);else if(r==="object"){if(typeof t.then=="function")return Nd(vV(t),e,n,i,o);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function _0(t,e,n){if(t==null)return t;var i=[],o=0;return Nd(t,i,"","",function(r){return e.call(n,r,o++)}),i}function wV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var e$=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function kV(){}Tt.Children={map:_0,forEach:function(t,e,n){_0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _0(t,function(){e++}),e},toArray:function(t){return _0(t,function(e){return e})||[]},only:function(t){if(!eC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Tt.Component=Zh;Tt.Fragment=cV;Tt.Profiler=dV;Tt.PureComponent=ZS;Tt.StrictMode=uV;Tt.Suspense=mV;Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$n;Tt.act=function(){throw Error("act(...) is not supported in production builds of React.")};Tt.cache=function(t){return function(){return t.apply(null,arguments)}};Tt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=wO({},t.props),o=t.key,r=void 0;if(e!=null)for(s in e.ref!==void 0&&(r=void 0),e.key!==void 0&&(o=""+e.key),e)!CO.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return QS(t.type,o,void 0,void 0,r,i)};Tt.createContext=function(t){return t={$$typeof:pV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:hV,_context:t},t};Tt.createElement=function(t,e,n){var i,o={},r=null;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)CO.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(o[i]=e[i]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];o.children=a}if(t&&t.defaultProps)for(i in s=t.defaultProps,s)o[i]===void 0&&(o[i]=s[i]);return QS(t,r,void 0,void 0,null,o)};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(t){return{$$typeof:fV,render:t}};Tt.isValidElement=eC;Tt.lazy=function(t){return{$$typeof:yO,_payload:{_status:-1,_result:t},_init:wV}};Tt.memo=function(t,e){return{$$typeof:gV,type:t,compare:e===void 0?null:e}};Tt.startTransition=function(t){var e=$n.T,n={};$n.T=n;try{var i=t(),o=$n.S;o!==null&&o(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(kV,e$)}catch(r){e$(r)}finally{$n.T=e}};Tt.unstable_useCacheRefresh=function(){return $n.H.useCacheRefresh()};Tt.use=function(t){return $n.H.use(t)};Tt.useActionState=function(t,e,n){return $n.H.useActionState(t,e,n)};Tt.useCallback=function(t,e){return $n.H.useCallback(t,e)};Tt.useContext=function(t){return $n.H.useContext(t)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(t,e){return $n.H.useDeferredValue(t,e)};Tt.useEffect=function(t,e){return $n.H.useEffect(t,e)};Tt.useId=function(){return $n.H.useId()};Tt.useImperativeHandle=function(t,e,n){return $n.H.useImperativeHandle(t,e,n)};Tt.useInsertionEffect=function(t,e){return $n.H.useInsertionEffect(t,e)};Tt.useLayoutEffect=function(t,e){return $n.H.useLayoutEffect(t,e)};Tt.useMemo=function(t,e){return $n.H.useMemo(t,e)};Tt.useOptimistic=function(t,e){return $n.H.useOptimistic(t,e)};Tt.useReducer=function(t,e,n){return $n.H.useReducer(t,e,n)};Tt.useRef=function(t){return $n.H.useRef(t)};Tt.useState=function(t){return $n.H.useState(t)};Tt.useSyncExternalStore=function(t,e,n){return $n.H.useSyncExternalStore(t,e,n)};Tt.useTransition=function(){return $n.H.useTransition()};Tt.version="19.0.0";xO.exports=Tt;var ae=xO.exports;const Ae=dc(ae);var TO={exports:{}},w1={},EO={exports:{}},IO={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,V){var q=z.length;z.push(V);e:for(;0<q;){var U=q-1>>>1,X=z[U];if(0<o(X,V))z[U]=V,z[q]=X,q=U;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var V=z[0],q=z.pop();if(q!==V){z[0]=q;e:for(var U=0,X=z.length,G=X>>>1;U<G;){var W=2*(U+1)-1,le=z[W],oe=W+1,ie=z[oe];if(0>o(le,q))oe<X&&0>o(ie,le)?(z[U]=ie,z[oe]=q,U=oe):(z[U]=le,z[W]=q,U=W);else if(oe<X&&0>o(ie,q))z[U]=ie,z[oe]=q,U=oe;else break e}}return V}function o(z,V){var q=z.sortIndex-V.sortIndex;return q!==0?q:z.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,f=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function y(z){for(var V=n(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=z)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function v(z){if(m=!1,y(z),!f)if(n(l)!==null)f=!0,_();else{var V=n(c);V!==null&&L(v,V.startTime-z)}}var w=!1,C=-1,S=5,E=-1;function I(){return!(t.unstable_now()-E<S)}function N(){if(w){var z=t.unstable_now();E=z;var V=!0;try{e:{f=!1,m&&(m=!1,g(C),C=-1),p=!0;var q=h;try{t:{for(y(z),d=n(l);d!==null&&!(d.expirationTime>z&&I());){var U=d.callback;if(typeof U=="function"){d.callback=null,h=d.priorityLevel;var X=U(d.expirationTime<=z);if(z=t.unstable_now(),typeof X=="function"){d.callback=X,y(z),V=!0;break t}d===n(l)&&i(l),y(z)}else i(l);d=n(l)}if(d!==null)V=!0;else{var G=n(c);G!==null&&L(v,G.startTime-z),V=!1}}break e}finally{d=null,h=q,p=!1}V=void 0}}finally{V?B():w=!1}}}var B;if(typeof x=="function")B=function(){x(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,P=D.port2;D.port1.onmessage=N,B=function(){P.postMessage(null)}}else B=function(){b(N,0)};function _(){w||(w=!0,B())}function L(z,V){C=b(function(){z(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,_())},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var q=h;h=V;try{return z()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=h;h=z;try{return V()}finally{h=q}},t.unstable_scheduleCallback=function(z,V,q){var U=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?U+q:U):q=U,z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,z={id:u++,callback:V,priorityLevel:z,startTime:q,expirationTime:X,sortIndex:-1},q>U?(z.sortIndex=q,e(c,z),n(l)===null&&z===n(c)&&(m?(g(C),C=-1):m=!0,L(v,q-U))):(z.sortIndex=X,e(l,z),f||p||(f=!0,_())),z},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(z){var V=h;return function(){var q=h;h=V;try{return z.apply(this,arguments)}finally{h=q}}}})(IO);EO.exports=IO;var SV=EO.exports,_O={exports:{}},_o={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CV=ae;function $O(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function al(){}var wo={d:{f:al,r:function(){throw Error($O(522))},D:al,C:al,L:al,m:al,X:al,S:al,M:al},p:0,findDOMNode:null},TV=Symbol.for("react.portal");function EV(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:TV,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var mf=CV.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function k1(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}_o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=wo;_o.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error($O(299));return EV(t,e,null,n)};_o.flushSync=function(t){var e=mf.T,n=wo.p;try{if(mf.T=null,wo.p=2,t)return t()}finally{mf.T=e,wo.p=n,wo.d.f()}};_o.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,wo.d.C(t,e))};_o.prefetchDNS=function(t){typeof t=="string"&&wo.d.D(t)};_o.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=k1(n,e.crossOrigin),o=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?wo.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:r}):n==="script"&&wo.d.X(t,{crossOrigin:i,integrity:o,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};_o.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=k1(e.as,e.crossOrigin);wo.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&wo.d.M(t)};_o.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=k1(n,e.crossOrigin);wo.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};_o.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=k1(e.as,e.crossOrigin);wo.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else wo.d.m(t)};_o.requestFormReset=function(t){wo.d.r(t)};_o.unstable_batchedUpdates=function(t,e){return t(e)};_o.useFormState=function(t,e,n){return mf.H.useFormState(t,e,n)};_o.useFormStatus=function(){return mf.H.useHostTransitionStatus()};_o.version="19.0.0";function AO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AO)}catch(t){console.error(t)}}AO(),_O.exports=_o;var tC=_O.exports;const IV=dc(tC);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=SV,NO=ae,_V=tC;function Te(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function OO(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var $V=Symbol.for("react.element"),$0=Symbol.for("react.transitional.element"),tf=Symbol.for("react.portal"),Wd=Symbol.for("react.fragment"),DO=Symbol.for("react.strict_mode"),bk=Symbol.for("react.profiler"),AV=Symbol.for("react.provider"),RO=Symbol.for("react.consumer"),_a=Symbol.for("react.context"),nC=Symbol.for("react.forward_ref"),xk=Symbol.for("react.suspense"),yk=Symbol.for("react.suspense_list"),iC=Symbol.for("react.memo"),xl=Symbol.for("react.lazy"),LO=Symbol.for("react.offscreen"),NV=Symbol.for("react.memo_cache_sentinel"),t$=Symbol.iterator;function zp(t){return t===null||typeof t!="object"?null:(t=t$&&t[t$]||t["@@iterator"],typeof t=="function"?t:null)}var OV=Symbol.for("react.client.reference");function vk(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===OV?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wd:return"Fragment";case tf:return"Portal";case bk:return"Profiler";case DO:return"StrictMode";case xk:return"Suspense";case yk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _a:return(t.displayName||"Context")+".Provider";case RO:return(t._context.displayName||"Context")+".Consumer";case nC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iC:return e=t.displayName||null,e!==null?e:vk(t.type)||"Memo";case xl:e=t._payload,t=t._init;try{return vk(t(e))}catch(n){}}return null}var bt=NO.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wn=Object.assign,Lw,n$;function nf(t){if(Lw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lw=e&&e[1]||"",n$=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Lw+t+n$}var zw=!1;function Fw(t,e){if(!t||zw)return"";zw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var h=p}Reflect.construct(t,[],d)}else{try{d.call()}catch(p){h=p}t.call(d.prototype)}}else{try{throw Error()}catch(p){h=p}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),s=r[0],a=r[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(o=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(i===l.length||o===c.length)for(i=l.length-1,o=c.length-1;1<=i&&0<=o&&l[i]!==c[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==c[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==c[o]){var u="\n"+l[i].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=i&&0<=o);break}}}finally{zw=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?nf(n):""}function DV(t){switch(t.tag){case 26:case 27:case 5:return nf(t.type);case 16:return nf("Lazy");case 13:return nf("Suspense");case 19:return nf("SuspenseList");case 0:case 15:return t=Fw(t.type,!1),t;case 11:return t=Fw(t.type.render,!1),t;case 1:return t=Fw(t.type,!0),t;default:return""}}function i$(t){try{var e="";do e+=DV(t),t=t.return;while(t);return e}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function Jh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o$(t){if(Jh(t)!==t)throw Error(Te(188))}function RV(t){var e=t.alternate;if(!e){if(e=Jh(t),e===null)throw Error(Te(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var r=o.alternate;if(r===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===n)return o$(o),t;if(r===i)return o$(o),e;r=r.sibling}throw Error(Te(188))}if(n.return!==i.return)n=o,i=r;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s){for(a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s)throw Error(Te(189))}}if(n.alternate!==i)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?t:e}function FO(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=FO(t),e!==null)return e;t=t.sibling}return null}var of=Array.isArray,yn=_V.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,au={pending:!1,data:null,method:null,action:null},wk=[],Gd=-1;function sa(t){return{current:t}}function $i(t){0>Gd||(t.current=wk[Gd],wk[Gd]=null,Gd--)}function Cn(t,e){Gd++,wk[Gd]=t.current,t.current=e}var qs=sa(null),zf=sa(null),Rl=sa(null),Wb=sa(null);function Gb(t,e){switch(Cn(Rl,e),Cn(zf,t),Cn(qs,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?r5(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=r5(t),e=XR(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$i(qs),Cn(qs,e)}function Sh(){$i(qs),$i(zf),$i(Rl)}function kk(t){t.memoizedState!==null&&Cn(Wb,t);var e=qs.current,n=XR(e,t.type);e!==n&&(Cn(zf,t),Cn(qs,n))}function qb(t){zf.current===t&&($i(qs),$i(zf)),Wb.current===t&&($i(Wb),qf._currentValue=au)}var Sk=Object.prototype.hasOwnProperty,oC=fi.unstable_scheduleCallback,Pw=fi.unstable_cancelCallback,LV=fi.unstable_shouldYield,zV=fi.unstable_requestPaint,Ks=fi.unstable_now,FV=fi.unstable_getCurrentPriorityLevel,PO=fi.unstable_ImmediatePriority,BO=fi.unstable_UserBlockingPriority,Kb=fi.unstable_NormalPriority,PV=fi.unstable_LowPriority,MO=fi.unstable_IdlePriority,BV=fi.log,MV=fi.unstable_setDisableYieldValue,Tm=null,cr=null;function jV(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Tm,t,void 0,(t.current.flags&128)===128)}catch(e){}}function $l(t){if(typeof BV=="function"&&MV(t),cr&&typeof cr.setStrictMode=="function")try{cr.setStrictMode(Tm,t)}catch(e){}}var ur=Math.clz32?Math.clz32:HV,UV=Math.log,VV=Math.LN2;function HV(t){return t>>>=0,t===0?32:31-(UV(t)/VV|0)|0}var A0=128,N0=4194304;function Bc(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function S1(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,o=t.suspendedLanes,r=t.pingedLanes,s=t.warmLanes;t=t.finishedLanes!==0;var a=n&134217727;return a!==0?(n=a&~o,n!==0?i=Bc(n):(r&=a,r!==0?i=Bc(r):t||(s=a&~s,s!==0&&(i=Bc(s))))):(a=n&~o,a!==0?i=Bc(a):r!==0?i=Bc(r):t||(s=n&~s,s!==0&&(i=Bc(s)))),i===0?0:e!==0&&e!==i&&!(e&o)&&(o=i&-i,s=e&-e,o>=s||o===32&&(s&4194176)!==0)?e:i}function Em(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function WV(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jO(){var t=A0;return A0<<=1,!(A0&4194176)&&(A0=128),t}function UO(){var t=N0;return N0<<=1,!(N0&62914560)&&(N0=4194304),t}function Bw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Im(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function GV(t,e,n,i,o,r){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var a=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var u=31-ur(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];p!==null&&(p.lane&=-536870913)}n&=~d}i!==0&&VO(t,i,0),r!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=r&~(s&~e))}function VO(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-ur(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194218}function HO(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ur(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}function WO(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function GO(){var t=yn.p;return t!==0?t:(t=window.event,t===void 0?32:r8(t.type))}function qV(t,e){var n=yn.p;try{return yn.p=t,e()}finally{yn.p=n}}var hc=Math.random().toString(36).slice(2),no="__reactFiber$"+hc,Vo="__reactProps$"+hc,Qh="__reactContainer$"+hc,Ck="__reactEvents$"+hc,KV="__reactListeners$"+hc,XV="__reactHandles$"+hc,r$="__reactResources$"+hc,Ff="__reactMarker$"+hc;function rC(t){delete t[no],delete t[Vo],delete t[Ck],delete t[KV],delete t[XV]}function Zc(t){var e=t[no];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qh]||n[no]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=a5(t);t!==null;){if(n=t[no])return n;t=a5(t)}return e}t=n,n=t.parentNode}return null}function ep(t){if(t=t[no]||t[Qh]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function rf(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Te(33))}function rh(t){var e=t[r$];return e||(e=t[r$]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Si(t){t[Ff]=!0}var qO=new Set,KO={};function Hu(t,e){Ch(t,e),Ch(t+"Capture",e)}function Ch(t,e){for(KO[t]=e,t=0;t<e.length;t++)qO.add(e[t])}var ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),YV=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),s$={},a$={};function ZV(t){return Sk.call(a$,t)?!0:Sk.call(s$,t)?!1:YV.test(t)?a$[t]=!0:(s$[t]=!0,!1)}function kb(t,e,n){if(ZV(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function O0(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ha(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Rr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JV(t){var e=XO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){i=""+s,r.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xb(t){t._valueTracker||(t._valueTracker=JV(t))}function YO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=XO(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Yb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}var QV=/[\n"\\]/g;function Fr(t){return t.replace(QV,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Tk(t,e,n,i,o,r,s,a){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Rr(e)):t.value!==""+Rr(e)&&(t.value=""+Rr(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?Ek(t,s,Rr(e)):n!=null?Ek(t,s,Rr(n)):i!=null&&t.removeAttribute("value"),o==null&&r!=null&&(t.defaultChecked=!!r),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.name=""+Rr(a):t.removeAttribute("name")}function ZO(t,e,n,i,o,r,s,a){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null))return;n=n!=null?""+Rr(n):"",e=e!=null?""+Rr(e):n,a||e===t.value||(t.value=e),t.defaultValue=e}i=i!=null?i:o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=a?t.checked:!!i,t.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function Ek(t,e,n){e==="number"&&Yb(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function sh(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Rr(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function JO(t,e,n){if(e!=null&&(e=""+Rr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Rr(n):""}function QO(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(Te(92));if(of(i)){if(1<i.length)throw Error(Te(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Rr(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function Th(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eH=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function l$(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||eH.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function eD(t,e,n){if(e!=null&&typeof e!="object")throw Error(Te(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var o in e)i=e[o],e.hasOwnProperty(o)&&n[o]!==i&&l$(t,o,i)}else for(var r in e)e.hasOwnProperty(r)&&l$(t,r,e[r])}function sC(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tH=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nH=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sb(t){return nH.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ik=null;function aC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qd=null,ah=null;function c$(t){var e=ep(t);if(e&&(t=e.stateNode)){var n=t[Vo]||null;e:switch(t=e.stateNode,e.type){case"input":if(Tk(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Fr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=i[Vo]||null;if(!o)throw Error(Te(90));Tk(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&YO(i)}break e;case"textarea":JO(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&sh(t,!!n.multiple,e,!1)}}}var Mw=!1;function tD(t,e,n){if(Mw)return t(e,n);Mw=!0;try{var i=t(e);return i}finally{if(Mw=!1,(qd!==null||ah!==null)&&(D1(),qd&&(e=qd,t=ah,ah=qd=null,c$(e),t)))for(e=0;e<t.length;e++)c$(t[e])}}function Pf(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Vo]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Te(231,e,typeof n));return n}var _k=!1;if(ja)try{var Fp={};Object.defineProperty(Fp,"passive",{get:function(){_k=!0}}),window.addEventListener("test",Fp,Fp),window.removeEventListener("test",Fp,Fp)}catch(t){_k=!1}var Al=null,lC=null,Cb=null;function nD(){if(Cb)return Cb;var t,e=lC,n=e.length,i,o="value"in Al?Al.value:Al.textContent,r=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===o[r-i];i++);return Cb=o.slice(t,1<i?1-i:void 0)}function Tb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function D0(){return!0}function u$(){return!1}function Yo(t){function e(n,i,o,r,s){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?D0:u$,this.isPropagationStopped=u$,this}return wn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=D0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=D0)},persist:function(){},isPersistent:D0}),e}var Wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C1=Yo(Wu),_m=wn({},Wu,{view:0,detail:0}),iH=Yo(_m),jw,Uw,Pp,T1=wn({},_m,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pp&&(Pp&&t.type==="mousemove"?(jw=t.screenX-Pp.screenX,Uw=t.screenY-Pp.screenY):Uw=jw=0,Pp=t),jw)},movementY:function(t){return"movementY"in t?t.movementY:Uw}}),d$=Yo(T1),oH=wn({},T1,{dataTransfer:0}),rH=Yo(oH),sH=wn({},_m,{relatedTarget:0}),Vw=Yo(sH),aH=wn({},Wu,{animationName:0,elapsedTime:0,pseudoElement:0}),lH=Yo(aH),cH=wn({},Wu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uH=Yo(cH),dH=wn({},Wu,{data:0}),h$=Yo(dH),hH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fH[t])?!!e[t]:!1}function cC(){return mH}var gH=wn({},_m,{key:function(t){if(t.key){var e=hH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cC,charCode:function(t){return t.type==="keypress"?Tb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bH=Yo(gH),xH=wn({},T1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p$=Yo(xH),yH=wn({},_m,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cC}),vH=Yo(yH),wH=wn({},Wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),kH=Yo(wH),SH=wn({},T1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CH=Yo(SH),TH=wn({},Wu,{newState:0,oldState:0}),EH=Yo(TH),IH=[9,13,27,32],uC=ja&&"CompositionEvent"in window,gf=null;ja&&"documentMode"in document&&(gf=document.documentMode);var _H=ja&&"TextEvent"in window&&!gf,iD=ja&&(!uC||gf&&8<gf&&11>=gf),f$=" ",m$=!1;function oD(t,e){switch(t){case"keyup":return IH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kd=!1;function $H(t,e){switch(t){case"compositionend":return rD(e);case"keypress":return e.which!==32?null:(m$=!0,f$);case"textInput":return t=e.data,t===f$&&m$?null:t;default:return null}}function AH(t,e){if(Kd)return t==="compositionend"||!uC&&oD(t,e)?(t=nD(),Cb=lC=Al=null,Kd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iD&&e.locale!=="ko"?null:e.data;default:return null}}var NH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g$(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NH[t.type]:e==="textarea"}function sD(t,e,n,i){qd?ah?ah.push(i):ah=[i]:qd=i,e=hx(e,"onChange"),0<e.length&&(n=new C1("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var bf=null,Bf=null;function OH(t){GR(t,0)}function E1(t){var e=rf(t);if(YO(e))return t}function b$(t,e){if(t==="change")return e}var aD=!1;if(ja){var Hw;if(ja){var Ww="oninput"in document;if(!Ww){var x$=document.createElement("div");x$.setAttribute("oninput","return;"),Ww=typeof x$.oninput=="function"}Hw=Ww}else Hw=!1;aD=Hw&&(!document.documentMode||9<document.documentMode)}function y$(){bf&&(bf.detachEvent("onpropertychange",lD),Bf=bf=null)}function lD(t){if(t.propertyName==="value"&&E1(Bf)){var e=[];sD(e,Bf,t,aC(t)),tD(OH,e)}}function DH(t,e,n){t==="focusin"?(y$(),bf=e,Bf=n,bf.attachEvent("onpropertychange",lD)):t==="focusout"&&y$()}function RH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return E1(Bf)}function LH(t,e){if(t==="click")return E1(e)}function zH(t,e){if(t==="input"||t==="change")return E1(e)}function FH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mr=typeof Object.is=="function"?Object.is:FH;function Mf(t,e){if(mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Sk.call(e,o)||!mr(t[o],e[o]))return!1}return!0}function v$(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w$(t,e){var n=v$(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=v$(n)}}function cD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uD(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Yb(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(i){n=!1}if(n)t=e.contentWindow;else break;e=Yb(t.document)}return e}function dC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PH(t,e){var n=uD(e);e=t.focusedElem;var i=t.selectionRange;if(n!==e&&e&&e.ownerDocument&&cD(e.ownerDocument.documentElement,e)){if(i!==null&&dC(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var o=e.textContent.length,r=Math.min(i.start,o);i=i.end===void 0?r:Math.min(i.end,o),!n.extend&&r>i&&(o=i,i=r,r=o),o=w$(e,r);var s=w$(e,i);o&&s&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),n.removeAllRanges(),r>i?(n.addRange(t),n.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var BH=ja&&"documentMode"in document&&11>=document.documentMode,Xd=null,$k=null,xf=null,Ak=!1;function k$(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ak||Xd==null||Xd!==Yb(i)||(i=Xd,"selectionStart"in i&&dC(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),xf&&Mf(xf,i)||(xf=i,i=hx($k,"onSelect"),0<i.length&&(e=new C1("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Xd)))}function Dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yd={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionrun:Dc("Transition","TransitionRun"),transitionstart:Dc("Transition","TransitionStart"),transitioncancel:Dc("Transition","TransitionCancel"),transitionend:Dc("Transition","TransitionEnd")},Gw={},dD={};ja&&(dD=document.createElement("div").style,"AnimationEvent"in window||(delete Yd.animationend.animation,delete Yd.animationiteration.animation,delete Yd.animationstart.animation),"TransitionEvent"in window||delete Yd.transitionend.transition);function Gu(t){if(Gw[t])return Gw[t];if(!Yd[t])return t;var e=Yd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dD)return Gw[t]=e[n];return t}var hD=Gu("animationend"),pD=Gu("animationiteration"),fD=Gu("animationstart"),MH=Gu("transitionrun"),jH=Gu("transitionstart"),UH=Gu("transitioncancel"),mD=Gu("transitionend"),gD=new Map,S$="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ns(t,e){gD.set(t,e),Hu(e,[t])}var Or=[],Zd=0,hC=0;function I1(){for(var t=Zd,e=hC=Zd=0;e<t;){var n=Or[e];Or[e++]=null;var i=Or[e];Or[e++]=null;var o=Or[e];Or[e++]=null;var r=Or[e];if(Or[e++]=null,i!==null&&o!==null){var s=i.pending;s===null?o.next=o:(o.next=s.next,s.next=o),i.pending=o}r!==0&&bD(n,o,r)}}function _1(t,e,n,i){Or[Zd++]=t,Or[Zd++]=e,Or[Zd++]=n,Or[Zd++]=i,hC|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function pC(t,e,n,i){return _1(t,e,n,i),Zb(t)}function Kl(t,e){return _1(t,null,null,e),Zb(t)}function bD(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var o=!1,r=t.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(o=!0)),t=r,r=r.return;o&&e!==null&&t.tag===3&&(r=t.stateNode,o=31-ur(n),r=r.hiddenUpdates,t=r[o],t===null?r[o]=[e]:t.push(e),e.lane=n|536870912)}function Zb(t){if(50<Af)throw Af=0,Jk=null,Error(Te(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Jd={},C$=new WeakMap;function Pr(t,e){if(typeof t=="object"&&t!==null){var n=C$.get(t);return n!==void 0?n:(e={value:t,source:e,stack:i$(e)},C$.set(t,e),e)}return{value:t,source:e,stack:i$(e)}}var Qd=[],eh=0,Jb=null,Qb=0,Lr=[],zr=0,lu=null,$a=1,Aa="";function Mc(t,e){Qd[eh++]=Qb,Qd[eh++]=Jb,Jb=t,Qb=e}function xD(t,e,n){Lr[zr++]=$a,Lr[zr++]=Aa,Lr[zr++]=lu,lu=t;var i=$a;t=Aa;var o=32-ur(i)-1;i&=~(1<<o),n+=1;var r=32-ur(e)+o;if(30<r){var s=o-o%5;r=(i&(1<<s)-1).toString(32),i>>=s,o-=s,$a=1<<32-ur(e)+o|n<<o|i,Aa=r+t}else $a=1<<r|n<<o|i,Aa=t}function fC(t){t.return!==null&&(Mc(t,1),xD(t,1,0))}function mC(t){for(;t===Jb;)Jb=Qd[--eh],Qd[eh]=null,Qb=Qd[--eh],Qd[eh]=null;for(;t===lu;)lu=Lr[--zr],Lr[zr]=null,Aa=Lr[--zr],Lr[zr]=null,$a=Lr[--zr],Lr[zr]=null}var bo=null,Vi=null,Ut=!1,ms=null,Hs=!1,Nk=Error(Te(519));function xu(t){var e=Error(Te(418,""));throw jf(Pr(e,t)),Nk}function T$(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[no]=t,e[Vo]=i,n){case"dialog":Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":case"embed":Lt("load",e);break;case"video":case"audio":for(n=0;n<Hf.length;n++)Lt(Hf[n],e);break;case"source":Lt("error",e);break;case"img":case"image":case"link":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"input":Lt("invalid",e),ZO(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Xb(e);break;case"select":Lt("invalid",e);break;case"textarea":Lt("invalid",e),QO(e,i.value,i.defaultValue,i.children),Xb(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||KR(e.textContent,n)?(i.popover!=null&&(Lt("beforetoggle",e),Lt("toggle",e)),i.onScroll!=null&&Lt("scroll",e),i.onScrollEnd!=null&&Lt("scrollend",e),i.onClick!=null&&(e.onclick=L1),e=!0):e=!1,e||xu(t)}function E$(t){for(bo=t.return;bo;)switch(bo.tag){case 3:case 27:Hs=!0;return;case 5:case 13:Hs=!1;return;default:bo=bo.return}}function Bp(t){if(t!==bo)return!1;if(!Ut)return E$(t),Ut=!0,!1;var e=!1,n;if((n=t.tag!==3&&t.tag!==27)&&((n=t.tag===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||r3(t.type,t.memoizedProps)),n=!n),n&&(e=!0),e&&Vi&&xu(t),E$(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Vi=vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Vi=null}}else Vi=bo?vs(t.stateNode.nextSibling):null;return!0}function $m(){Vi=bo=null,Ut=!1}function jf(t){ms===null?ms=[t]:ms.push(t)}var yf=Error(Te(460)),yD=Error(Te(474)),Ok={then:function(){}};function I$(t){return t=t.status,t==="fulfilled"||t==="rejected"}function R0(){}function vD(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(R0,R0),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===yf?Error(Te(483)):t;default:if(typeof e.status=="string")e.then(R0,R0);else{if(t=pn,t!==null&&100<t.shellSuspendCounter)throw Error(Te(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=i}},function(i){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===yf?Error(Te(483)):t}throw vf=e,yf}}var vf=null;function _$(){if(vf===null)throw Error(Te(459));var t=vf;return vf=null,t}var lh=null,Uf=0;function L0(t){var e=Uf;return Uf+=1,lh===null&&(lh=[]),vD(lh,t,e)}function Mp(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function z0(t,e){throw e.$$typeof===$V?Error(Te(525)):(t=Object.prototype.toString.call(e),Error(Te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function $$(t){var e=t._init;return e(t._payload)}function wD(t){function e(g,x){if(t){var y=g.deletions;y===null?(g.deletions=[x],g.flags|=16):y.push(x)}}function n(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function i(g){for(var x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function o(g,x){return g=Fl(g,x),g.index=0,g.sibling=null,g}function r(g,x,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<x?(g.flags|=33554434,x):y):(g.flags|=33554434,x)):(g.flags|=1048576,x)}function s(g){return t&&g.alternate===null&&(g.flags|=33554434),g}function a(g,x,y,v){return x===null||x.tag!==6?(x=o2(y,g.mode,v),x.return=g,x):(x=o(x,y),x.return=g,x)}function l(g,x,y,v){var w=y.type;return w===Wd?u(g,x,y.props.children,v,y.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xl&&$$(w)===x.type)?(x=o(x,y.props),Mp(x,y),x.return=g,x):(x=Ab(y.type,y.key,y.props,null,g.mode,v),Mp(x,y),x.return=g,x)}function c(g,x,y,v){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=r2(y,g.mode,v),x.return=g,x):(x=o(x,y.children||[]),x.return=g,x)}function u(g,x,y,v,w){return x===null||x.tag!==7?(x=uu(y,g.mode,v,w),x.return=g,x):(x=o(x,y),x.return=g,x)}function d(g,x,y){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=o2(""+x,g.mode,y),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $0:return y=Ab(x.type,x.key,x.props,null,g.mode,y),Mp(y,x),y.return=g,y;case tf:return x=r2(x,g.mode,y),x.return=g,x;case xl:var v=x._init;return x=v(x._payload),d(g,x,y)}if(of(x)||zp(x))return x=uu(x,g.mode,y,null),x.return=g,x;if(typeof x.then=="function")return d(g,L0(x),y);if(x.$$typeof===_a)return d(g,F0(g,x),y);z0(g,x)}return null}function h(g,x,y,v){var w=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return w!==null?null:a(g,x,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $0:return y.key===w?l(g,x,y,v):null;case tf:return y.key===w?c(g,x,y,v):null;case xl:return w=y._init,y=w(y._payload),h(g,x,y,v)}if(of(y)||zp(y))return w!==null?null:u(g,x,y,v,null);if(typeof y.then=="function")return h(g,x,L0(y),v);if(y.$$typeof===_a)return h(g,x,F0(g,y),v);z0(g,y)}return null}function p(g,x,y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return g=g.get(y)||null,a(x,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $0:return g=g.get(v.key===null?y:v.key)||null,l(x,g,v,w);case tf:return g=g.get(v.key===null?y:v.key)||null,c(x,g,v,w);case xl:var C=v._init;return v=C(v._payload),p(g,x,y,v,w)}if(of(v)||zp(v))return g=g.get(y)||null,u(x,g,v,w,null);if(typeof v.then=="function")return p(g,x,y,L0(v),w);if(v.$$typeof===_a)return p(g,x,y,F0(x,v),w);z0(x,v)}return null}function f(g,x,y,v){for(var w=null,C=null,S=x,E=x=0,I=null;S!==null&&E<y.length;E++){S.index>E?(I=S,S=null):I=S.sibling;var N=h(g,S,y[E],v);if(N===null){S===null&&(S=I);break}t&&S&&N.alternate===null&&e(g,S),x=r(N,x,E),C===null?w=N:C.sibling=N,C=N,S=I}if(E===y.length)return n(g,S),Ut&&Mc(g,E),w;if(S===null){for(;E<y.length;E++)S=d(g,y[E],v),S!==null&&(x=r(S,x,E),C===null?w=S:C.sibling=S,C=S);return Ut&&Mc(g,E),w}for(S=i(S);E<y.length;E++)I=p(S,g,E,y[E],v),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?E:I.key),x=r(I,x,E),C===null?w=I:C.sibling=I,C=I);return t&&S.forEach(function(B){return e(g,B)}),Ut&&Mc(g,E),w}function m(g,x,y,v){if(y==null)throw Error(Te(151));for(var w=null,C=null,S=x,E=x=0,I=null,N=y.next();S!==null&&!N.done;E++,N=y.next()){S.index>E?(I=S,S=null):I=S.sibling;var B=h(g,S,N.value,v);if(B===null){S===null&&(S=I);break}t&&S&&B.alternate===null&&e(g,S),x=r(B,x,E),C===null?w=B:C.sibling=B,C=B,S=I}if(N.done)return n(g,S),Ut&&Mc(g,E),w;if(S===null){for(;!N.done;E++,N=y.next())N=d(g,N.value,v),N!==null&&(x=r(N,x,E),C===null?w=N:C.sibling=N,C=N);return Ut&&Mc(g,E),w}for(S=i(S);!N.done;E++,N=y.next())N=p(S,g,E,N.value,v),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?E:N.key),x=r(N,x,E),C===null?w=N:C.sibling=N,C=N);return t&&S.forEach(function(D){return e(g,D)}),Ut&&Mc(g,E),w}function b(g,x,y,v){if(typeof y=="object"&&y!==null&&y.type===Wd&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case $0:e:{for(var w=y.key;x!==null;){if(x.key===w){if(w=y.type,w===Wd){if(x.tag===7){n(g,x.sibling),v=o(x,y.props.children),v.return=g,g=v;break e}}else if(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xl&&$$(w)===x.type){n(g,x.sibling),v=o(x,y.props),Mp(v,y),v.return=g,g=v;break e}n(g,x);break}else e(g,x);x=x.sibling}y.type===Wd?(v=uu(y.props.children,g.mode,v,y.key),v.return=g,g=v):(v=Ab(y.type,y.key,y.props,null,g.mode,v),Mp(v,y),v.return=g,g=v)}return s(g);case tf:e:{for(w=y.key;x!==null;){if(x.key===w)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(g,x.sibling),v=o(x,y.children||[]),v.return=g,g=v;break e}else{n(g,x);break}else e(g,x);x=x.sibling}v=r2(y,g.mode,v),v.return=g,g=v}return s(g);case xl:return w=y._init,y=w(y._payload),b(g,x,y,v)}if(of(y))return f(g,x,y,v);if(zp(y)){if(w=zp(y),typeof w!="function")throw Error(Te(150));return y=w.call(y),m(g,x,y,v)}if(typeof y.then=="function")return b(g,x,L0(y),v);if(y.$$typeof===_a)return b(g,x,F0(g,y),v);z0(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,x!==null&&x.tag===6?(n(g,x.sibling),v=o(x,y),v.return=g,g=v):(n(g,x),v=o2(y,g.mode,v),v.return=g,g=v),s(g)):n(g,x)}return function(g,x,y,v){try{Uf=0;var w=b(g,x,y,v);return lh=null,w}catch(S){if(S===yf)throw S;var C=Mr(29,S,null,g.mode);return C.lanes=v,C.return=g,C}finally{}}}var yu=wD(!0),kD=wD(!1),Eh=sa(null),ex=sa(0);function A$(t,e){t=Ha,Cn(ex,t),Cn(Eh,e),Ha=t|e.baseLanes}function Dk(){Cn(ex,Ha),Cn(Eh,Eh.current)}function gC(){Ha=ex.current,$i(Eh),$i(ex)}var Zr=sa(null),Xs=null;function Sl(t){var e=t.alternate;Cn(di,di.current&1),Cn(Zr,t),Xs===null&&(e===null||Eh.current!==null||e.memoizedState!==null)&&(Xs=t)}function SD(t){if(t.tag===22){if(Cn(di,di.current),Cn(Zr,t),Xs===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Xs=t)}}else Cl()}function Cl(){Cn(di,di.current),Cn(Zr,Zr.current)}function Na(t){$i(Zr),Xs===t&&(Xs=null),$i(di)}var di=sa(0);function tx(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var VH=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},HH=fi.unstable_scheduleCallback,WH=fi.unstable_NormalPriority,li={$$typeof:_a,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bC(){return{controller:new VH,data:new Map,refCount:0}}function Am(t){t.refCount--,t.refCount===0&&HH(WH,function(){t.controller.abort()})}var wf=null,Rk=0,Ih=0,ch=null;function GH(t,e){if(wf===null){var n=wf=[];Rk=0,Ih=MC(),ch={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Rk++,e.then(N$,N$),e}function N$(){if(--Rk===0&&wf!==null){ch!==null&&(ch.status="fulfilled");var t=wf;wf=null,Ih=0,ch=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function qH(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var o=0;o<n.length;o++)(0,n[o])(e)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var O$=bt.S;bt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&GH(t,e),O$!==null&&O$(t,e)};var cu=sa(null);function xC(){var t=cu.current;return t!==null?t:pn.pooledCache}function Eb(t,e){e===null?Cn(cu,cu.current):Cn(cu,e.pool)}function CD(){var t=xC();return t===null?null:{parent:li._currentValue,pool:t}}var Xl=0,$t=null,Yt=null,Kn=null,nx=!1,uh=!1,vu=!1,ix=0,Vf=0,dh=null,KH=0;function Hn(){throw Error(Te(321))}function yC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mr(t[n],e[n]))return!1;return!0}function vC(t,e,n,i,o,r){return Xl=r,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bt.H=t===null||t.memoizedState===null?qu:pc,vu=!1,r=n(i,o),vu=!1,uh&&(r=ED(e,n,i,o)),TD(t),r}function TD(t){bt.H=ta;var e=Yt!==null&&Yt.next!==null;if(Xl=0,Kn=Yt=$t=null,nx=!1,Vf=0,dh=null,e)throw Error(Te(300));t===null||_i||(t=t.dependencies,t!==null&&sx(t)&&(_i=!0))}function ED(t,e,n,i){$t=t;var o=0;do{if(uh&&(dh=null),Vf=0,uh=!1,25<=o)throw Error(Te(301));if(o+=1,Kn=Yt=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}bt.H=Ku,r=e(n,i)}while(uh);return r}function XH(){var t=bt.H,e=t.useState()[0];return e=typeof e.then=="function"?Nm(e):e,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&($t.flags|=1024),e}function wC(){var t=ix!==0;return ix=0,t}function kC(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function SC(t){if(nx){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}nx=!1}Xl=0,Kn=Yt=$t=null,uh=!1,Vf=ix=0,dh=null}function Lo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?$t.memoizedState=Kn=t:Kn=Kn.next=t,Kn}function Qn(){if(Yt===null){var t=$t.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=Kn===null?$t.memoizedState:Kn.next;if(e!==null)Kn=e,Yt=t;else{if(t===null)throw $t.alternate===null?Error(Te(467)):Error(Te(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Kn===null?$t.memoizedState=Kn=t:Kn=Kn.next=t}return Kn}var $1;$1=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Nm(t){var e=Vf;return Vf+=1,dh===null&&(dh=[]),t=vD(dh,t,e),e=$t,(Kn===null?e.memoizedState:Kn.next)===null&&(e=e.alternate,bt.H=e===null||e.memoizedState===null?qu:pc),t}function A1(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nm(t);if(t.$$typeof===_a)return io(t)}throw Error(Te(438,String(t)))}function CC(t){var e=null,n=$t.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=$t.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=$1(),$t.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=NV;return e.index++,n}function Ua(t,e){return typeof e=="function"?e(t):e}function Ib(t){var e=Qn();return TC(e,Yt,t)}function TC(t,e,n){var i=t.queue;if(i===null)throw Error(Te(311));i.lastRenderedReducer=n;var o=t.baseQueue,r=i.pending;if(r!==null){if(o!==null){var s=o.next;o.next=r.next,r.next=s}e.baseQueue=o=r,i.pending=null}if(r=t.baseState,o===null)t.memoizedState=r;else{e=o.next;var a=s=null,l=null,c=e,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(Ft&d)===d:(Xl&d)===d){var h=c.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Ih&&(u=!0);else if((Xl&h)===h){c=c.next,h===Ih&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=d,s=r):l=l.next=d,$t.lanes|=h,Zl|=h;d=c.action,vu&&n(r,d),r=c.hasEagerState?c.eagerState:n(r,d)}else h={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=h,s=r):l=l.next=h,$t.lanes|=d,Zl|=d;c=c.next}while(c!==null&&c!==e);if(l===null?s=r:l.next=a,!mr(r,t.memoizedState)&&(_i=!0,u&&(n=ch,n!==null)))throw n;t.memoizedState=r,t.baseState=s,t.baseQueue=l,i.lastRenderedState=r}return o===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function qw(t){var e=Qn(),n=e.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,r=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do r=t(r,s.action),s=s.next;while(s!==o);mr(r,e.memoizedState)||(_i=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function ID(t,e,n){var i=$t,o=Qn(),r=Ut;if(r){if(n===void 0)throw Error(Te(407));n=n()}else n=e();var s=!mr((Yt||o).memoizedState,n);if(s&&(o.memoizedState=n,_i=!0),o=o.queue,EC(AD.bind(null,i,o,t),[t]),o.getSnapshot!==e||s||Kn!==null&&Kn.memoizedState.tag&1){if(i.flags|=2048,_h(9,$D.bind(null,i,o,n,e),{destroy:void 0},null),pn===null)throw Error(Te(349));r||Xl&60||_D(i,e,n)}return n}function _D(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$t.updateQueue,e===null?(e=$1(),$t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $D(t,e,n,i){e.value=n,e.getSnapshot=i,ND(e)&&OD(t)}function AD(t,e,n){return n(function(){ND(e)&&OD(t)})}function ND(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mr(t,n)}catch(i){return!0}}function OD(t){var e=Kl(t,2);e!==null&&ko(e,t,2)}function Lk(t){var e=Lo();if(typeof t=="function"){var n=t;if(t=n(),vu){$l(!0);try{n()}finally{$l(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:t},e}function DD(t,e,n,i){return t.baseState=n,TC(t,Yt,typeof i=="function"?i:Ua)}function YH(t,e,n,i,o){if(O1(t))throw Error(Te(485));if(t=e.action,t!==null){var r={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){r.listeners.push(s)}};bt.T!==null?n(!0):r.isTransition=!1,i(r),n=e.pending,n===null?(r.next=e.pending=r,RD(e,r)):(r.next=n.next,e.pending=n.next=r)}}function RD(t,e){var n=e.action,i=e.payload,o=t.state;if(e.isTransition){var r=bt.T,s={};bt.T=s;try{var a=n(o,i),l=bt.S;l!==null&&l(s,a),D$(t,e,a)}catch(c){zk(t,e,c)}finally{bt.T=r}}else try{r=n(o,i),D$(t,e,r)}catch(c){zk(t,e,c)}}function D$(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){R$(t,e,i)},function(i){return zk(t,e,i)}):R$(t,e,n)}function R$(t,e,n){e.status="fulfilled",e.value=n,LD(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,RD(t,n)))}function zk(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,LD(e),e=e.next;while(e!==i)}t.action=null}function LD(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function zD(t,e){return e}function FD(t,e){if(Ut){var n=pn.formState;if(n!==null){e:{var i=$t;if(Ut){if(Vi){t:{for(var o=Vi,r=Hs;o.nodeType!==8;){if(!r){o=null;break t}if(o=vs(o.nextSibling),o===null){o=null;break t}}r=o.data,o=r==="F!"||r==="F"?o:null}if(o){Vi=vs(o.nextSibling),i=o.data==="F!";break e}}xu(i)}i=!1}i&&(e=n[0])}}return n=Lo(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zD,lastRenderedState:e},n.queue=i,n=eR.bind(null,$t,i),i.dispatch=n,i=Lk(!1),r=AC.bind(null,$t,!1,i.queue),i=Lo(),o={state:e,dispatch:null,action:t,pending:null},i.queue=o,n=YH.bind(null,$t,o,r,n),o.dispatch=n,i.memoizedState=t,[e,n,!1]}function PD(t){var e=Qn();return BD(e,Yt,t)}function BD(t,e,n){e=TC(t,e,zD)[0],t=Ib(Ua)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?Nm(e):e;var i=Qn(),o=i.queue,r=o.dispatch;return n!==i.memoizedState&&($t.flags|=2048,_h(9,ZH.bind(null,o,n),{destroy:void 0},null)),[e,r,t]}function ZH(t,e){t.action=e}function MD(t){var e=Qn(),n=Yt;if(n!==null)return BD(e,n,t);Qn(),e=e.memoizedState,n=Qn();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function _h(t,e,n,i){return t={tag:t,create:e,inst:n,deps:i,next:null},e=$t.updateQueue,e===null&&(e=$1(),$t.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function jD(){return Qn().memoizedState}function _b(t,e,n,i){var o=Lo();$t.flags|=t,o.memoizedState=_h(1|e,n,{destroy:void 0},i===void 0?null:i)}function N1(t,e,n,i){var o=Qn();i=i===void 0?null:i;var r=o.memoizedState.inst;Yt!==null&&i!==null&&yC(i,Yt.memoizedState.deps)?o.memoizedState=_h(e,n,r,i):($t.flags|=t,o.memoizedState=_h(1|e,n,r,i))}function L$(t,e){_b(8390656,8,t,e)}function EC(t,e){N1(2048,8,t,e)}function UD(t,e){return N1(4,2,t,e)}function VD(t,e){return N1(4,4,t,e)}function HD(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WD(t,e,n){n=n!=null?n.concat([t]):null,N1(4,4,HD.bind(null,e,t),n)}function IC(){}function GD(t,e){var n=Qn();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&yC(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function qD(t,e){var n=Qn();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&yC(e,i[1]))return i[0];if(i=t(),vu){$l(!0);try{t()}finally{$l(!1)}}return n.memoizedState=[i,e],i}function _C(t,e,n){return n===void 0||Xl&1073741824?t.memoizedState=e:(t.memoizedState=n,t=LR(),$t.lanes|=t,Zl|=t,n)}function KD(t,e,n,i){return mr(n,e)?n:Eh.current!==null?(t=_C(t,n,i),mr(t,e)||(_i=!0),t):Xl&42?(t=LR(),$t.lanes|=t,Zl|=t,e):(_i=!0,t.memoizedState=n)}function XD(t,e,n,i,o){var r=yn.p;yn.p=r!==0&&8>r?r:8;var s=bt.T,a={};bt.T=a,AC(t,!1,e,n);try{var l=o(),c=bt.S;if(c!==null&&c(a,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=qH(l,i);kf(t,e,u,dr(t))}else kf(t,e,i,dr(t))}catch(d){kf(t,e,{then:function(){},status:"rejected",reason:d},dr())}finally{yn.p=r,bt.T=s}}function JH(){}function Fk(t,e,n,i){if(t.tag!==5)throw Error(Te(476));var o=YD(t).queue;XD(t,o,e,au,n===null?JH:function(){return ZD(t),n(i)})}function YD(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:au,baseState:au,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:au},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function ZD(t){var e=YD(t).next.queue;kf(t,e,{},dr())}function $C(){return io(qf)}function JD(){return Qn().memoizedState}function QD(){return Qn().memoizedState}function QH(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=dr();t=Ll(n);var i=zl(e,t,n);i!==null&&(ko(i,e,n),Cf(i,e,n)),e={cache:bC()},t.payload=e;return}e=e.return}}function eW(t,e,n){var i=dr();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},O1(t)?tR(e,n):(n=pC(t,e,n,i),n!==null&&(ko(n,t,i),nR(n,e,i)))}function eR(t,e,n){var i=dr();kf(t,e,n,i)}function kf(t,e,n,i){var o={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(O1(t))tR(e,o);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var s=e.lastRenderedState,a=r(s,n);if(o.hasEagerState=!0,o.eagerState=a,mr(a,s))return _1(t,e,o,0),pn===null&&I1(),!1}catch(l){}finally{}if(n=pC(t,e,o,i),n!==null)return ko(n,t,i),nR(n,e,i),!0}return!1}function AC(t,e,n,i){if(i={lane:2,revertLane:MC(),action:i,hasEagerState:!1,eagerState:null,next:null},O1(t)){if(e)throw Error(Te(479))}else e=pC(t,n,i,2),e!==null&&ko(e,t,2)}function O1(t){var e=t.alternate;return t===$t||e!==null&&e===$t}function tR(t,e){uh=nx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nR(t,e,n){if(n&4194176){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,HO(t,n)}}var ta={readContext:io,use:A1,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn};ta.useCacheRefresh=Hn;ta.useMemoCache=Hn;ta.useHostTransitionStatus=Hn;ta.useFormState=Hn;ta.useActionState=Hn;ta.useOptimistic=Hn;var qu={readContext:io,use:A1,useCallback:function(t,e){return Lo().memoizedState=[t,e===void 0?null:e],t},useContext:io,useEffect:L$,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,_b(4194308,4,HD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _b(4194308,4,t,e)},useInsertionEffect:function(t,e){_b(4,2,t,e)},useMemo:function(t,e){var n=Lo();e=e===void 0?null:e;var i=t();if(vu){$l(!0);try{t()}finally{$l(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Lo();if(n!==void 0){var o=n(e);if(vu){$l(!0);try{n(e)}finally{$l(!1)}}}else o=e;return i.memoizedState=i.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},i.queue=t,t=t.dispatch=eW.bind(null,$t,t),[i.memoizedState,t]},useRef:function(t){var e=Lo();return t={current:t},e.memoizedState=t},useState:function(t){t=Lk(t);var e=t.queue,n=eR.bind(null,$t,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:IC,useDeferredValue:function(t,e){var n=Lo();return _C(n,t,e)},useTransition:function(){var t=Lk(!1);return t=XD.bind(null,$t,t.queue,!0,!1),Lo().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=$t,o=Lo();if(Ut){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=e(),pn===null)throw Error(Te(349));Ft&60||_D(i,e,n)}o.memoizedState=n;var r={value:n,getSnapshot:e};return o.queue=r,L$(AD.bind(null,i,r,t),[t]),i.flags|=2048,_h(9,$D.bind(null,i,r,n,e),{destroy:void 0},null),n},useId:function(){var t=Lo(),e=pn.identifierPrefix;if(Ut){var n=Aa,i=$a;n=(i&~(1<<32-ur(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ix++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KH++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return Lo().memoizedState=QH.bind(null,$t)}};qu.useMemoCache=CC;qu.useHostTransitionStatus=$C;qu.useFormState=FD;qu.useActionState=FD;qu.useOptimistic=function(t){var e=Lo();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=AC.bind(null,$t,!0,n),n.dispatch=e,[t,e]};var pc={readContext:io,use:A1,useCallback:GD,useContext:io,useEffect:EC,useImperativeHandle:WD,useInsertionEffect:UD,useLayoutEffect:VD,useMemo:qD,useReducer:Ib,useRef:jD,useState:function(){return Ib(Ua)},useDebugValue:IC,useDeferredValue:function(t,e){var n=Qn();return KD(n,Yt.memoizedState,t,e)},useTransition:function(){var t=Ib(Ua)[0],e=Qn().memoizedState;return[typeof t=="boolean"?t:Nm(t),e]},useSyncExternalStore:ID,useId:JD};pc.useCacheRefresh=QD;pc.useMemoCache=CC;pc.useHostTransitionStatus=$C;pc.useFormState=PD;pc.useActionState=PD;pc.useOptimistic=function(t,e){var n=Qn();return DD(n,Yt,t,e)};var Ku={readContext:io,use:A1,useCallback:GD,useContext:io,useEffect:EC,useImperativeHandle:WD,useInsertionEffect:UD,useLayoutEffect:VD,useMemo:qD,useReducer:qw,useRef:jD,useState:function(){return qw(Ua)},useDebugValue:IC,useDeferredValue:function(t,e){var n=Qn();return Yt===null?_C(n,t,e):KD(n,Yt.memoizedState,t,e)},useTransition:function(){var t=qw(Ua)[0],e=Qn().memoizedState;return[typeof t=="boolean"?t:Nm(t),e]},useSyncExternalStore:ID,useId:JD};Ku.useCacheRefresh=QD;Ku.useMemoCache=CC;Ku.useHostTransitionStatus=$C;Ku.useFormState=MD;Ku.useActionState=MD;Ku.useOptimistic=function(t,e){var n=Qn();return Yt!==null?DD(n,Yt,t,e):(n.baseState=t,[t,n.queue.dispatch])};function Kw(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:wn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pk={isMounted:function(t){return(t=t._reactInternals)?Jh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=dr(),o=Ll(i);o.payload=e,n!=null&&(o.callback=n),e=zl(t,o,i),e!==null&&(ko(e,t,i),Cf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=dr(),o=Ll(i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=zl(t,o,i),e!==null&&(ko(e,t,i),Cf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dr(),i=Ll(n);i.tag=2,e!=null&&(i.callback=e),e=zl(t,i,n),e!==null&&(ko(e,t,n),Cf(e,t,n))}};function z$(t,e,n,i,o,r,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,s):e.prototype&&e.prototype.isPureReactComponent?!Mf(n,i)||!Mf(o,r):!0}function F$(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Pk.enqueueReplaceState(e,e.state,null)}function wu(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=wn({},n));for(var o in t)n[o]===void 0&&(n[o]=t[o])}return n}var ox=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function iR(t){ox(t)}function oR(t){console.error(t)}function rR(t){ox(t)}function rx(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function P$(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Bk(t,e,n){return n=Ll(n),n.tag=3,n.payload={element:null},n.callback=function(){rx(t,e)},n}function sR(t){return t=Ll(t),t.tag=3,t}function aR(t,e,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var r=i.value;t.payload=function(){return o(r)},t.callback=function(){P$(e,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){P$(e,n,i),typeof o!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var a=i.stack;this.componentDidCatch(i.value,{componentStack:a!==null?a:""})})}function tW(t,e,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Om(e,n,o,!0),n=Zr.current,n!==null){switch(n.tag){case 13:return Xs===null?e3():n.alternate===null&&Fn===0&&(Fn=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===Ok?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),a2(t,i,o)),!1;case 22:return n.flags|=65536,i===Ok?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),a2(t,i,o)),!1}throw Error(Te(435,n.tag))}return a2(t,i,o),e3(),!1}if(Ut)return e=Zr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=o,i!==Nk&&(t=Error(Te(422),{cause:i}),jf(Pr(t,n)))):(i!==Nk&&(e=Error(Te(423),{cause:i}),jf(Pr(e,n))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,i=Pr(i,n),o=Bk(t.stateNode,i,o),e2(t,o),Fn!==4&&(Fn=2)),!1;var r=Error(Te(520),{cause:i});if(r=Pr(r,n),_f===null?_f=[r]:_f.push(r),Fn!==4&&(Fn=2),e===null)return!0;i=Pr(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=o&-o,n.lanes|=t,t=Bk(n.stateNode,i,t),e2(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Pl===null||!Pl.has(r))))return n.flags|=65536,o&=-o,n.lanes|=o,o=sR(o),aR(o,t,n,i),e2(n,o),!1}n=n.return}while(n!==null);return!1}var lR=Error(Te(461)),_i=!1;function Ui(t,e,n,i){e.child=t===null?kD(e,null,n,i):yu(e,t.child,n,i)}function B$(t,e,n,i,o){n=n.render;var r=e.ref;if("ref"in i){var s={};for(var a in i)a!=="ref"&&(s[a]=i[a])}else s=i;return ku(e),i=vC(t,e,n,s,r,o),a=wC(),t!==null&&!_i?(kC(t,e,o),Va(t,e,o)):(Ut&&a&&fC(e),e.flags|=1,Ui(t,e,i,o),e.child)}function M$(t,e,n,i,o){if(t===null){var r=n.type;return typeof r=="function"&&!LC(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,cR(t,e,r,i,o)):(t=Ab(n.type,null,i,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!NC(t,o)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:Mf,n(s,i)&&t.ref===e.ref)return Va(t,e,o)}return e.flags|=1,t=Fl(r,i),t.ref=e.ref,t.return=e,e.child=t}function cR(t,e,n,i,o){if(t!==null){var r=t.memoizedProps;if(Mf(r,i)&&t.ref===e.ref)if(_i=!1,e.pendingProps=i=r,NC(t,o))t.flags&131072&&(_i=!0);else return e.lanes=t.lanes,Va(t,e,o)}return Mk(t,e,n,i,o)}function uR(t,e,n){var i=e.pendingProps,o=i.children,r=(e.stateNode._pendingVisibility&2)!==0,s=t!==null?t.memoizedState:null;if(Sf(t,e),i.mode==="hidden"||r){if(e.flags&128){if(i=s!==null?s.baseLanes|n:n,t!==null){for(o=e.child=t.child,r=0;o!==null;)r=r|o.lanes|o.childLanes,o=o.sibling;e.childLanes=r&~i}else e.childLanes=0,e.child=null;return j$(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Eb(e,s!==null?s.cachePool:null),s!==null?A$(e,s):Dk(),SD(e);else return e.lanes=e.childLanes=536870912,j$(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(Eb(e,s.cachePool),A$(e,s),Cl(),e.memoizedState=null):(t!==null&&Eb(e,null),Dk(),Cl());return Ui(t,e,o,n),e.child}function j$(t,e,n,i){var o=xC();return o=o===null?null:{parent:li._currentValue,pool:o},e.memoizedState={baseLanes:n,cachePool:o},t!==null&&Eb(e,null),Dk(),SD(e),t!==null&&Om(t,e,i,!0),null}function Sf(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(Te(284));(t===null||t.ref!==n)&&(e.flags|=2097664)}}function Mk(t,e,n,i,o){return ku(e),n=vC(t,e,n,i,void 0,o),i=wC(),t!==null&&!_i?(kC(t,e,o),Va(t,e,o)):(Ut&&i&&fC(e),e.flags|=1,Ui(t,e,n,o),e.child)}function U$(t,e,n,i,o,r){return ku(e),e.updateQueue=null,n=ED(e,i,n,o),TD(t),i=wC(),t!==null&&!_i?(kC(t,e,r),Va(t,e,r)):(Ut&&i&&fC(e),e.flags|=1,Ui(t,e,n,r),e.child)}function V$(t,e,n,i,o){if(ku(e),e.stateNode===null){var r=Jd,s=n.contextType;typeof s=="object"&&s!==null&&(r=io(s)),r=new n(i,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Pk,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=i,r.state=e.memoizedState,r.refs={},OC(e),s=n.contextType,r.context=typeof s=="object"&&s!==null?io(s):Jd,r.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Kw(e,n,s,i),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(s=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),s!==r.state&&Pk.enqueueReplaceState(r,r.state,null),Ef(e,i,r,o),Tf(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){r=e.stateNode;var a=e.memoizedProps,l=wu(n,a);r.props=l;var c=r.context,u=n.contextType;s=Jd,typeof u=="object"&&u!==null&&(s=io(u));var d=n.getDerivedStateFromProps;u=typeof d=="function"||typeof r.getSnapshotBeforeUpdate=="function",a=e.pendingProps!==a,u||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a||c!==s)&&F$(e,r,i,s),yl=!1;var h=e.memoizedState;r.state=h,Ef(e,i,r,o),Tf(),c=e.memoizedState,a||h!==c||yl?(typeof d=="function"&&(Kw(e,n,d,i),c=e.memoizedState),(l=yl||z$(e,n,l,i,h,c,s))?(u||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),r.props=i,r.state=c,r.context=s,i=l):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,Gk(t,e),s=e.memoizedProps,u=wu(n,s),r.props=u,d=e.pendingProps,h=r.context,c=n.contextType,l=Jd,typeof c=="object"&&c!==null&&(l=io(c)),a=n.getDerivedStateFromProps,(c=typeof a=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(s!==d||h!==l)&&F$(e,r,i,l),yl=!1,h=e.memoizedState,r.state=h,Ef(e,i,r,o),Tf();var p=e.memoizedState;s!==d||h!==p||yl||t!==null&&t.dependencies!==null&&sx(t.dependencies)?(typeof a=="function"&&(Kw(e,n,a,i),p=e.memoizedState),(u=yl||z$(e,n,u,i,h,p,l)||t!==null&&t.dependencies!==null&&sx(t.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,p,l),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,p,l)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),r.props=i,r.state=p,r.context=l,i=u):(typeof r.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return r=i,Sf(t,e),i=(e.flags&128)!==0,r||i?(r=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&i?(e.child=yu(e,t.child,null,o),e.child=yu(e,null,n,o)):Ui(t,e,n,o),e.memoizedState=r.state,t=e.child):t=Va(t,e,o),t}function H$(t,e,n,i){return $m(),e.flags|=256,Ui(t,e,n,i),e.child}var Xw={dehydrated:null,treeContext:null,retryLane:0};function Yw(t){return{baseLanes:t,cachePool:CD()}}function Zw(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=jr),t}function dR(t,e,n){var i=e.pendingProps,o=!1,r=(e.flags&128)!==0,s;if((s=r)||(s=t!==null&&t.memoizedState===null?!1:(di.current&2)!==0),s&&(o=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ut){if(o?Sl(e):Cl(),Ut){var a=Vi,l;if(l=a){e:{for(l=a,a=Hs;l.nodeType!==8;){if(!a){a=null;break e}if(l=vs(l.nextSibling),l===null){a=null;break e}}a=l}a!==null?(e.memoizedState={dehydrated:a,treeContext:lu!==null?{id:$a,overflow:Aa}:null,retryLane:536870912},l=Mr(18,null,null,0),l.stateNode=a,l.return=e,e.child=l,bo=e,Vi=null,l=!0):l=!1}l||xu(e)}if(a=e.memoizedState,a!==null&&(a=a.dehydrated,a!==null))return a.data==="$!"?e.lanes=16:e.lanes=536870912,null;Na(e)}return a=i.children,i=i.fallback,o?(Cl(),o=e.mode,a=Uk({mode:"hidden",children:a},o),i=uu(i,o,n,null),a.return=e,i.return=e,a.sibling=i,e.child=a,o=e.child,o.memoizedState=Yw(n),o.childLanes=Zw(t,s,n),e.memoizedState=Xw,i):(Sl(e),jk(e,a))}if(l=t.memoizedState,l!==null&&(a=l.dehydrated,a!==null)){if(r)e.flags&256?(Sl(e),e.flags&=-257,e=Jw(t,e,n)):e.memoizedState!==null?(Cl(),e.child=t.child,e.flags|=128,e=null):(Cl(),o=i.fallback,a=e.mode,i=Uk({mode:"visible",children:i.children},a),o=uu(o,a,n,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,yu(e,t.child,null,n),i=e.child,i.memoizedState=Yw(n),i.childLanes=Zw(t,s,n),e.memoizedState=Xw,e=o);else if(Sl(e),a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(Te(419)),i.stack="",i.digest=s,jf({value:i,source:null,stack:null}),e=Jw(t,e,n)}else if(_i||Om(t,e,n,!1),s=(n&t.childLanes)!==0,_i||s){if(s=pn,s!==null){if(i=n&-n,i&42)i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(i=i&(s.suspendedLanes|n)?0:i,i!==0&&i!==l.retryLane)throw l.retryLane=i,Kl(t,i),ko(s,t,i),lR}a.data==="$?"||e3(),e=Jw(t,e,n)}else a.data==="$?"?(e.flags|=128,e.child=t.child,e=gW.bind(null,t),a._reactRetry=e,e=null):(t=l.treeContext,Vi=vs(a.nextSibling),bo=e,Ut=!0,ms=null,Hs=!1,t!==null&&(Lr[zr++]=$a,Lr[zr++]=Aa,Lr[zr++]=lu,$a=t.id,Aa=t.overflow,lu=e),e=jk(e,i.children),e.flags|=4096);return e}return o?(Cl(),o=i.fallback,a=e.mode,l=t.child,c=l.sibling,i=Fl(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&31457280,c!==null?o=Fl(c,o):(o=uu(o,a,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=t.child.memoizedState,a===null?a=Yw(n):(l=a.cachePool,l!==null?(c=li._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=CD(),a={baseLanes:a.baseLanes|n,cachePool:l}),o.memoizedState=a,o.childLanes=Zw(t,s,n),e.memoizedState=Xw,i):(Sl(e),n=t.child,t=n.sibling,n=Fl(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function jk(t,e){return e=Uk({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Uk(t,e){return DR(t,e,0,null)}function Jw(t,e,n){return yu(e,t.child,null,n),t=jk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function W$(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Hk(t.return,e,n)}function Qw(t,e,n,i,o){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=o)}function hR(t,e,n){var i=e.pendingProps,o=i.revealOrder,r=i.tail;if(Ui(t,e,i.children,n),i=di.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W$(t,n,e);else if(t.tag===19)W$(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(Cn(di,i),o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&tx(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Qw(e,!1,o,n,r);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&tx(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Qw(e,!0,n,null,r);break;case"together":Qw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Va(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zl|=e.lanes,!(n&e.childLanes))if(t!==null){if(Om(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Te(153));if(e.child!==null){for(t=e.child,n=Fl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NC(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&sx(t)))}function nW(t,e,n){switch(e.tag){case 3:Gb(e,e.stateNode.containerInfo),Tl(e,li,t.memoizedState.cache),$m();break;case 27:case 5:kk(e);break;case 4:Gb(e,e.stateNode.containerInfo);break;case 10:Tl(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Sl(e),e.flags|=128,null):n&e.child.childLanes?dR(t,e,n):(Sl(e),t=Va(t,e,n),t!==null?t.sibling:null);Sl(e);break;case 19:var o=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Om(t,e,n,!1),i=(n&e.childLanes)!==0),o){if(i)return hR(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Cn(di,di.current),i)break;return null;case 22:case 23:return e.lanes=0,uR(t,e,n);case 24:Tl(e,li,t.memoizedState.cache)}return Va(t,e,n)}function pR(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)_i=!0;else{if(!NC(t,n)&&!(e.flags&128))return _i=!1,nW(t,e,n);_i=!!(t.flags&131072)}else _i=!1,Ut&&e.flags&1048576&&xD(e,Qb,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,o=i._init;if(i=o(i._payload),e.type=i,typeof i=="function")LC(i)?(t=wu(i,t),e.tag=1,e=V$(null,e,i,t,n)):(e.tag=0,e=Mk(null,e,i,t,n));else{if(i!=null){if(o=i.$$typeof,o===nC){e.tag=11,e=B$(null,e,i,t,n);break e}else if(o===iC){e.tag=14,e=M$(null,e,i,t,n);break e}}throw e=vk(i)||i,Error(Te(306,e,""))}}return e;case 0:return Mk(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,o=wu(i,e.pendingProps),V$(t,e,i,o,n);case 3:e:{if(Gb(e,e.stateNode.containerInfo),t===null)throw Error(Te(387));var r=e.pendingProps;o=e.memoizedState,i=o.element,Gk(t,e),Ef(e,r,null,n);var s=e.memoizedState;if(r=s.cache,Tl(e,li,r),r!==o.cache&&Wk(e,[li],n,!0),Tf(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=H$(t,e,r,n);break e}else if(r!==i){i=Pr(Error(Te(424)),e),jf(i),e=H$(t,e,r,n);break e}else for(Vi=vs(e.stateNode.containerInfo.firstChild),bo=e,Ut=!0,ms=null,Hs=!0,n=kD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($m(),r===i){e=Va(t,e,n);break e}Ui(t,e,r,n)}e=e.child}return e;case 26:return Sf(t,e),t===null?(n=c5(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ut||(n=e.type,t=e.pendingProps,i=px(Rl.current).createElement(n),i[no]=e,i[Vo]=t,Hi(i,n,t),Si(i),e.stateNode=i):e.memoizedState=c5(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return kk(e),t===null&&Ut&&(i=e.stateNode=ZR(e.type,e.pendingProps,Rl.current),bo=e,Hs=!0,Vi=vs(i.firstChild)),i=e.pendingProps.children,t!==null||Ut?Ui(t,e,i,n):e.child=yu(e,null,i,n),Sf(t,e),e.child;case 5:return t===null&&Ut&&((o=i=Vi)&&(i=OW(i,e.type,e.pendingProps,Hs),i!==null?(e.stateNode=i,bo=e,Vi=vs(i.firstChild),Hs=!1,o=!0):o=!1),o||xu(e)),kk(e),o=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,i=r.children,r3(o,r)?i=null:s!==null&&r3(o,s)&&(e.flags|=32),e.memoizedState!==null&&(o=vC(t,e,XH,null,null,n),qf._currentValue=o),Sf(t,e),Ui(t,e,i,n),e.child;case 6:return t===null&&Ut&&((t=n=Vi)&&(n=DW(n,e.pendingProps,Hs),n!==null?(e.stateNode=n,bo=e,Vi=null,t=!0):t=!1),t||xu(e)),null;case 13:return dR(t,e,n);case 4:return Gb(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=yu(e,null,i,n):Ui(t,e,i,n),e.child;case 11:return B$(t,e,e.type,e.pendingProps,n);case 7:return Ui(t,e,e.pendingProps,n),e.child;case 8:return Ui(t,e,e.pendingProps.children,n),e.child;case 12:return Ui(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Tl(e,e.type,i.value),Ui(t,e,i.children,n),e.child;case 9:return o=e.type._context,i=e.pendingProps.children,ku(e),o=io(o),i=i(o),e.flags|=1,Ui(t,e,i,n),e.child;case 14:return M$(t,e,e.type,e.pendingProps,n);case 15:return cR(t,e,e.type,e.pendingProps,n);case 19:return hR(t,e,n);case 22:return uR(t,e,n);case 24:return ku(e),i=io(li),t===null?(o=xC(),o===null&&(o=pn,r=bC(),o.pooledCache=r,r.refCount++,r!==null&&(o.pooledCacheLanes|=n),o=r),e.memoizedState={parent:i,cache:o},OC(e),Tl(e,li,o)):(t.lanes&n&&(Gk(t,e),Ef(e,null,null,n),Tf()),o=t.memoizedState,r=e.memoizedState,o.parent!==i?(o={parent:i,cache:i},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),Tl(e,li,i)):(i=r.cache,Tl(e,li,i),i!==o.cache&&Wk(e,[li],n,!0))),Ui(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Te(156,e.tag))}var Vk=sa(null),Xu=null,Oa=null;function Tl(t,e,n){Cn(Vk,e._currentValue),e._currentValue=n}function Ra(t){t._currentValue=Vk.current,$i(Vk)}function Hk(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Wk(t,e,n,i){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var r=o.dependencies;if(r!==null){var s=o.child;r=r.firstContext;e:for(;r!==null;){var a=r;r=o;for(var l=0;l<e.length;l++)if(a.context===e[l]){r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),Hk(r.return,n,t),i||(s=null);break e}r=a.next}}else if(o.tag===18){if(s=o.return,s===null)throw Error(Te(341));s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),Hk(s,n,t),s=null}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}}function Om(t,e,n,i){t=null;for(var o=e,r=!1;o!==null;){if(!r){if(o.flags&524288)r=!0;else if(o.flags&262144)break}if(o.tag===10){var s=o.alternate;if(s===null)throw Error(Te(387));if(s=s.memoizedProps,s!==null){var a=o.type;mr(o.pendingProps.value,s.value)||(t!==null?t.push(a):t=[a])}}else if(o===Wb.current){if(s=o.alternate,s===null)throw Error(Te(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(qf):t=[qf])}o=o.return}t!==null&&Wk(e,t,n,i),e.flags|=262144}function sx(t){for(t=t.firstContext;t!==null;){if(!mr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ku(t){Xu=t,Oa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function io(t){return fR(Xu,t)}function F0(t,e){return Xu===null&&ku(t),fR(t,e)}function fR(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Oa===null){if(t===null)throw Error(Te(308));Oa=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Oa=Oa.next=e;return n}var yl=!1;function OC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ll(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zl(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,An&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,e=Zb(t),bD(t,null,n),e}return _1(t,i,e,n),Zb(t)}function Cf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194176)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,HO(t,n)}}function e2(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?o=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?o=r=e:r=r.next=e}else o=r=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var qk=!1;function Tf(){if(qk){var t=ch;if(t!==null)throw t}}function Ef(t,e,n,i){qk=!1;var o=t.updateQueue;yl=!1;var r=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?r=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var d=o.baseState;s=0,u=c=l=null,a=r;do{var h=a.lane&-536870913,p=h!==a.lane;if(p?(Ft&h)===h:(i&h)===h){h!==0&&h===Ih&&(qk=!0),u!==null&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var f=t,m=a;h=e;var b=n;switch(m.tag){case 1:if(f=m.payload,typeof f=="function"){d=f.call(b,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=m.payload,h=typeof f=="function"?f.call(b,d,h):f,h==null)break e;d=wn({},d,h);break e;case 2:yl=!0}}h=a.callback,h!==null&&(t.flags|=64,p&&(t.flags|=8192),p=o.callbacks,p===null?o.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,r===null&&(o.shared.lanes=0),Zl|=s,t.lanes=s,t.memoizedState=d}}function mR(t,e){if(typeof t!="function")throw Error(Te(191,t));t.call(e)}function gR(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)mR(n[t],e)}function Dm(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&t)===t){i=void 0;var r=n.create,s=n.inst;i=r(),s.destroy=i}n=n.next}while(n!==o)}}catch(a){on(e,e.return,a)}}function Yl(t,e,n){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var r=o.next;i=r;do{if((i.tag&t)===t){var s=i.inst,a=s.destroy;if(a!==void 0){s.destroy=void 0,o=e;var l=n;try{a()}catch(c){on(o,l,c)}}}i=i.next}while(i!==r)}}catch(c){on(e,e.return,c)}}function bR(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{gR(e,n)}catch(i){on(t,t.return,i)}}}function xR(t,e,n){n.props=wu(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){on(t,e,i)}}function Jc(t,e){try{var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 26:case 27:case 5:var o=i;break;default:o=i}typeof n=="function"?t.refCleanup=n(o):n.current=o}}catch(r){on(t,e,r)}}function rr(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){on(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){on(t,e,o)}else n.current=null}function yR(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){on(t,t.return,o)}}function G$(t,e,n){try{var i=t.stateNode;IW(i,t.type,n,e),i[Vo]=e}catch(o){on(t,t.return,o)}}function vR(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function t2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kk(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=L1));else if(i!==4&&i!==27&&(t=t.child,t!==null))for(Kk(t,e,n),t=t.sibling;t!==null;)Kk(t,e,n),t=t.sibling}function ax(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&i!==27&&(t=t.child,t!==null))for(ax(t,e,n),t=t.sibling;t!==null;)ax(t,e,n),t=t.sibling}var Sa=!1,zn=!1,n2=!1,q$=typeof WeakSet=="function"?WeakSet:Set,ki=null,K$=!1;function iW(t,e){if(t=t.containerInfo,i3=bx,t=uD(t),dC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch(m){n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==r||i!==0&&d.nodeType!==3||(l=s+i),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===o&&(a=s),h===r&&++u===i&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(o3={focusedElem:t,selectionRange:n},bx=!1,ki=e;ki!==null;)if(e=ki,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ki=t;else for(;ki!==null;){switch(e=ki,r=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,o=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var f=wu(n.type,o,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(f,r),i.__reactInternalSnapshotBeforeUpdate=t}catch(m){on(n,n.return,m)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)s3(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":s3(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Te(163))}if(t=e.sibling,t!==null){t.return=e.return,ki=t;break}ki=e.return}return f=K$,K$=!1,f}function wR(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:fa(t,n),i&4&&Dm(5,n);break;case 1:if(fa(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){on(n,n.return,a)}else{var o=wu(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){on(n,n.return,a)}}i&64&&bR(n),i&512&&Jc(n,n.return);break;case 3:if(fa(t,n),i&64&&(i=n.updateQueue,i!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{gR(i,t)}catch(a){on(n,n.return,a)}}break;case 26:fa(t,n),i&512&&Jc(n,n.return);break;case 27:case 5:fa(t,n),e===null&&i&4&&yR(n),i&512&&Jc(n,n.return);break;case 12:fa(t,n);break;case 13:fa(t,n),i&4&&CR(t,n);break;case 22:if(o=n.memoizedState!==null||Sa,!o){e=e!==null&&e.memoizedState!==null||zn;var r=Sa,s=zn;Sa=o,(zn=e)&&!s?ml(t,n,(n.subtreeFlags&8772)!==0):fa(t,n),Sa=r,zn=s}i&512&&(n.memoizedProps.mode==="manual"?Jc(n,n.return):rr(n,n.return));break;default:fa(t,n)}}function kR(t){var e=t.alternate;e!==null&&(t.alternate=null,kR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&rC(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qn=null,nr=!1;function pa(t,e,n){for(n=n.child;n!==null;)SR(t,e,n),n=n.sibling}function SR(t,e,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Tm,n)}catch(s){}switch(n.tag){case 26:zn||rr(n,e),pa(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zn||rr(n,e);var i=qn,o=nr;for(qn=n.stateNode,pa(t,e,n),n=n.stateNode,e=n.attributes;e.length;)n.removeAttributeNode(e[0]);rC(n),qn=i,nr=o;break;case 5:zn||rr(n,e);case 6:o=qn;var r=nr;if(qn=null,pa(t,e,n),qn=o,nr=r,qn!==null)if(nr)try{t=qn,i=n.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)}catch(s){on(n,e,s)}else try{qn.removeChild(n.stateNode)}catch(s){on(n,e,s)}break;case 18:qn!==null&&(nr?(e=qn,n=n.stateNode,e.nodeType===8?f2(e.parentNode,n):e.nodeType===1&&f2(e,n),Yf(e)):f2(qn,n.stateNode));break;case 4:i=qn,o=nr,qn=n.stateNode.containerInfo,nr=!0,pa(t,e,n),qn=i,nr=o;break;case 0:case 11:case 14:case 15:zn||Yl(2,n,e),zn||Yl(4,n,e),pa(t,e,n);break;case 1:zn||(rr(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&xR(n,e,i)),pa(t,e,n);break;case 21:pa(t,e,n);break;case 22:zn||rr(n,e),zn=(i=zn)||n.memoizedState!==null,pa(t,e,n),zn=i;break;default:pa(t,e,n)}}function CR(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yf(t)}catch(n){on(e,e.return,n)}}function oW(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new q$),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new q$),e;default:throw Error(Te(435,t.tag))}}function i2(t,e){var n=oW(t);e.forEach(function(i){var o=bW.bind(null,t,i);n.has(i)||(n.add(i),i.then(o,o))})}function Er(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],r=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 27:case 5:qn=a.stateNode,nr=!1;break e;case 3:qn=a.stateNode.containerInfo,nr=!0;break e;case 4:qn=a.stateNode.containerInfo,nr=!0;break e}a=a.return}if(qn===null)throw Error(Te(160));SR(r,s,o),qn=null,nr=!1,r=o.alternate,r!==null&&(r.return=null),o.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)TR(e,t),e=e.sibling}var hs=null;function TR(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Er(e,t),Ir(t),i&4&&(Yl(3,t,t.return),Dm(3,t),Yl(5,t,t.return));break;case 1:Er(e,t),Ir(t),i&512&&(zn||n===null||rr(n,n.return)),i&64&&Sa&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=hs;if(Er(e,t),Ir(t),i&512&&(zn||n===null||rr(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":r=o.getElementsByTagName("title")[0],(!r||r[Ff]||r[no]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=o.createElement(i),o.head.insertBefore(r,o.querySelector("head > title"))),Hi(r,i,n),r[no]=t,Si(r),i=r;break e;case"link":var s=d5("link","href",o).get(i+(n.href||""));if(s){for(var a=0;a<s.length;a++)if(r=s[a],r.getAttribute("href")===(n.href==null?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(a,1);break t}}r=o.createElement(i),Hi(r,i,n),o.head.appendChild(r);break;case"meta":if(s=d5("meta","content",o).get(i+(n.content||""))){for(a=0;a<s.length;a++)if(r=s[a],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(a,1);break t}}r=o.createElement(i),Hi(r,i,n),o.head.appendChild(r);break;default:throw Error(Te(468,i))}r[no]=t,Si(r),i=r}t.stateNode=i}else h5(o,t.type,t.stateNode);else t.stateNode=u5(o,i,t.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?h5(o,t.type,t.stateNode):u5(o,i,t.memoizedProps)):i===null&&t.stateNode!==null&&G$(t,t.memoizedProps,n.memoizedProps)}break;case 27:if(i&4&&t.alternate===null){o=t.stateNode,r=t.memoizedProps;try{for(var l=o.firstChild;l;){var c=l.nextSibling,u=l.nodeName;l[Ff]||u==="HEAD"||u==="BODY"||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&l.rel.toLowerCase()==="stylesheet"||o.removeChild(l),l=c}for(var d=t.type,h=o.attributes;h.length;)o.removeAttributeNode(h[0]);Hi(o,d,r),o[no]=t,o[Vo]=r}catch(f){on(t,t.return,f)}}case 5:if(Er(e,t),Ir(t),i&512&&(zn||n===null||rr(n,n.return)),t.flags&32){o=t.stateNode;try{Th(o,"")}catch(f){on(t,t.return,f)}}i&4&&t.stateNode!=null&&(o=t.memoizedProps,G$(t,o,n!==null?n.memoizedProps:o)),i&1024&&(n2=!0);break;case 6:if(Er(e,t),Ir(t),i&4){if(t.stateNode===null)throw Error(Te(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(f){on(t,t.return,f)}}break;case 3:if(Ob=null,o=hs,hs=fx(e.containerInfo),Er(e,t),hs=o,Ir(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Yf(e.containerInfo)}catch(f){on(t,t.return,f)}n2&&(n2=!1,ER(t));break;case 4:i=hs,hs=fx(t.stateNode.containerInfo),Er(e,t),Ir(t),hs=i;break;case 12:Er(e,t),Ir(t);break;case 13:Er(e,t),Ir(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(PC=Ks()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,i2(t,i)));break;case 22:if(i&512&&(zn||n===null||rr(n,n.return)),l=t.memoizedState!==null,c=n!==null&&n.memoizedState!==null,u=Sa,d=zn,Sa=u||l,zn=d||c,Er(e,t),zn=d,Sa=u,Ir(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,i&8192&&(e._visibility=l?e._visibility&-2:e._visibility|1,l&&(e=Sa||zn,n===null||c||e||Od(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(n=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(n===null){c=n=e;try{if(o=c.stateNode,l)r=o.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{s=c.stateNode,a=c.memoizedProps.style;var p=a!=null&&a.hasOwnProperty("display")?a.display:null;s.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(f){on(c,c.return,f)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(f){on(c,c.return,f)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,i2(t,n))));break;case 19:Er(e,t),Ir(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,i2(t,i)));break;case 21:break;default:Er(e,t),Ir(t)}}function Ir(t){var e=t.flags;if(e&2){try{if(t.tag!==27){e:{for(var n=t.return;n!==null;){if(vR(n)){var i=n;break e}n=n.return}throw Error(Te(160))}switch(i.tag){case 27:var o=i.stateNode,r=t2(t);ax(t,r,o);break;case 5:var s=i.stateNode;i.flags&32&&(Th(s,""),i.flags&=-33);var a=t2(t);ax(t,a,s);break;case 3:case 4:var l=i.stateNode.containerInfo,c=t2(t);Kk(t,c,l);break;default:throw Error(Te(161))}}}catch(u){on(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ER(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;ER(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function fa(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)wR(t,e.alternate,e),e=e.sibling}function Od(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Yl(4,e,e.return),Od(e);break;case 1:rr(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&xR(e,e.return,n),Od(e);break;case 26:case 27:case 5:rr(e,e.return),Od(e);break;case 22:rr(e,e.return),e.memoizedState===null&&Od(e);break;default:Od(e)}t=t.sibling}}function ml(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,o=t,r=e,s=r.flags;switch(r.tag){case 0:case 11:case 15:ml(o,r,n),Dm(4,r);break;case 1:if(ml(o,r,n),i=r,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(c){on(i,i.return,c)}if(i=r,o=i.updateQueue,o!==null){var a=i.stateNode;try{var l=o.shared.hiddenCallbacks;if(l!==null)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)mR(l[o],a)}catch(c){on(i,i.return,c)}}n&&s&64&&bR(r),Jc(r,r.return);break;case 26:case 27:case 5:ml(o,r,n),n&&i===null&&s&4&&yR(r),Jc(r,r.return);break;case 12:ml(o,r,n);break;case 13:ml(o,r,n),n&&s&4&&CR(o,r);break;case 22:r.memoizedState===null&&ml(o,r,n),Jc(r,r.return);break;default:ml(o,r,n)}e=e.sibling}}function DC(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Am(n))}function RC(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Am(t))}function ll(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)IR(t,e,n,i),e=e.sibling}function IR(t,e,n,i){var o=e.flags;switch(e.tag){case 0:case 11:case 15:ll(t,e,n,i),o&2048&&Dm(9,e);break;case 3:ll(t,e,n,i),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Am(t)));break;case 12:if(o&2048){ll(t,e,n,i),t=e.stateNode;try{var r=e.memoizedProps,s=r.id,a=r.onPostCommit;typeof a=="function"&&a(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){on(e,e.return,l)}}else ll(t,e,n,i);break;case 23:break;case 22:r=e.stateNode,e.memoizedState!==null?r._visibility&4?ll(t,e,n,i):If(t,e):r._visibility&4?ll(t,e,n,i):(r._visibility|=4,Dd(t,e,n,i,(e.subtreeFlags&10256)!==0)),o&2048&&DC(e.alternate,e);break;case 24:ll(t,e,n,i),o&2048&&RC(e.alternate,e);break;default:ll(t,e,n,i)}}function Dd(t,e,n,i,o){for(o=o&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var r=t,s=e,a=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Dd(r,s,a,l,o),Dm(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&4?Dd(r,s,a,l,o):If(r,s):(u._visibility|=4,Dd(r,s,a,l,o)),o&&c&2048&&DC(s.alternate,s);break;case 24:Dd(r,s,a,l,o),o&&c&2048&&RC(s.alternate,s);break;default:Dd(r,s,a,l,o)}e=e.sibling}}function If(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,o=i.flags;switch(i.tag){case 22:If(n,i),o&2048&&DC(i.alternate,i);break;case 24:If(n,i),o&2048&&RC(i.alternate,i);break;default:If(n,i)}e=e.sibling}}var sf=8192;function yd(t){if(t.subtreeFlags&sf)for(t=t.child;t!==null;)_R(t),t=t.sibling}function _R(t){switch(t.tag){case 26:yd(t),t.flags&sf&&t.memoizedState!==null&&GW(hs,t.memoizedState,t.memoizedProps);break;case 5:yd(t);break;case 3:case 4:var e=hs;hs=fx(t.stateNode.containerInfo),yd(t),hs=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=sf,sf=16777216,yd(t),sf=e):yd(t));break;default:yd(t)}}function $R(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function jp(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ki=i,NR(i,t)}$R(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)AR(t),t=t.sibling}function AR(t){switch(t.tag){case 0:case 11:case 15:jp(t),t.flags&2048&&Yl(9,t,t.return);break;case 3:jp(t);break;case 12:jp(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,$b(t)):jp(t);break;default:jp(t)}}function $b(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ki=i,NR(i,t)}$R(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Yl(8,e,e.return),$b(e);break;case 22:n=e.stateNode,n._visibility&4&&(n._visibility&=-5,$b(e));break;default:$b(e)}t=t.sibling}}function NR(t,e){for(;ki!==null;){var n=ki;switch(n.tag){case 0:case 11:case 15:Yl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Am(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ki=i;else e:for(n=t;ki!==null;){i=ki;var o=i.sibling,r=i.return;if(kR(i),i===n){ki=null;break e}if(o!==null){o.return=r,ki=o;break e}ki=r}}}function rW(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(t,e,n,i){return new rW(t,e,n,i)}function LC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fl(t,e){var n=t.alternate;return n===null?(n=Mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&31457280,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function OR(t,e){t.flags&=31457282;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ab(t,e,n,i,o,r){var s=0;if(i=t,typeof t=="function")LC(t)&&(s=1);else if(typeof t=="string")s=HW(t,n,qs.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Wd:return uu(n.children,o,r,e);case DO:s=8,o|=24;break;case bk:return t=Mr(12,n,e,o|2),t.elementType=bk,t.lanes=r,t;case xk:return t=Mr(13,n,e,o),t.elementType=xk,t.lanes=r,t;case yk:return t=Mr(19,n,e,o),t.elementType=yk,t.lanes=r,t;case LO:return DR(n,o,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AV:case _a:s=10;break e;case RO:s=9;break e;case nC:s=11;break e;case iC:s=14;break e;case xl:s=16,i=null;break e}s=29,n=Error(Te(130,t===null?"null":typeof t,"")),i=null}return e=Mr(s,n,e,o),e.elementType=t,e.type=i,e.lanes=r,e}function uu(t,e,n,i){return t=Mr(7,t,i,e),t.lanes=n,t}function DR(t,e,n,i){t=Mr(22,t,i,e),t.elementType=LO,t.lanes=n;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var r=o._current;if(r===null)throw Error(Te(456));if(!(o._pendingVisibility&2)){var s=Kl(r,2);s!==null&&(o._pendingVisibility|=2,ko(s,r,2))}},attach:function(){var r=o._current;if(r===null)throw Error(Te(456));if(o._pendingVisibility&2){var s=Kl(r,2);s!==null&&(o._pendingVisibility&=-3,ko(s,r,2))}}};return t.stateNode=o,t}function o2(t,e,n){return t=Mr(6,t,null,e),t.lanes=n,t}function r2(t,e,n){return e=Mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ma(t){t.flags|=4}function X$(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!e8(e)){if(e=Zr.current,e!==null&&((Ft&4194176)===Ft?Xs!==null:(Ft&62914560)!==Ft&&!(Ft&536870912)||e!==Xs))throw vf=Ok,yD;t.flags|=8192}}function P0(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?UO():536870912,t.lanes|=e,$h|=e)}function Up(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function In(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&31457280,i|=o.flags&31457280,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function sW(t,e,n){var i=e.pendingProps;switch(mC(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(e),null;case 1:return In(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ra(li),Sh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Bp(e)?ma(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ms!==null&&(Qk(ms),ms=null))),In(e),null;case 26:return n=e.memoizedState,t===null?(ma(e),n!==null?(In(e),X$(e,n)):(In(e),e.flags&=-16777217)):n?n!==t.memoizedState?(ma(e),In(e),X$(e,n)):(In(e),e.flags&=-16777217):(t.memoizedProps!==i&&ma(e),In(e),e.flags&=-16777217),null;case 27:qb(e),n=Rl.current;var o=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&ma(e);else{if(!i){if(e.stateNode===null)throw Error(Te(166));return In(e),null}t=qs.current,Bp(e)?T$(e):(t=ZR(o,i,n),e.stateNode=t,ma(e))}return In(e),null;case 5:if(qb(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&ma(e);else{if(!i){if(e.stateNode===null)throw Error(Te(166));return In(e),null}if(t=qs.current,Bp(e))T$(e);else{switch(o=px(Rl.current),t){case 1:t=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?o.createElement(n,{is:i.is}):o.createElement(n)}}t[no]=e,t[Vo]=i;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=t;e:switch(Hi(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ma(e)}}return In(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&ma(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Te(166));if(t=Rl.current,Bp(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,o=bo,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}t[no]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||KR(t.nodeValue,n)),t||xu(e)}else t=px(t).createTextNode(i),t[no]=e,e.stateNode=t}return In(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=Bp(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(Te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Te(317));o[no]=e}else $m(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),o=!1}else ms!==null&&(Qk(ms),ms=null),o=!0;if(!o)return e.flags&256?(Na(e),e):(Na(e),null)}if(Na(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool);var r=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),P0(e,e.updateQueue),In(e),null;case 4:return Sh(),t===null&&jC(e.stateNode.containerInfo),In(e),null;case 10:return Ra(e.type),In(e),null;case 19:if($i(di),o=e.memoizedState,o===null)return In(e),null;if(i=(e.flags&128)!==0,r=o.rendering,r===null)if(i)Up(o,!1);else{if(Fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=tx(t),r!==null){for(e.flags|=128,Up(o,!1),t=r.updateQueue,e.updateQueue=t,P0(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)OR(n,t),n=n.sibling;return Cn(di,di.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ks()>lx&&(e.flags|=128,i=!0,Up(o,!1),e.lanes=4194304)}else{if(!i)if(t=tx(r),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,P0(e,t),Up(o,!0),o.tail===null&&o.tailMode==="hidden"&&!r.alternate&&!Ut)return In(e),null}else 2*Ks()-o.renderingStartTime>lx&&n!==536870912&&(e.flags|=128,i=!0,Up(o,!1),e.lanes=4194304);o.isBackwards?(r.sibling=e.child,e.child=r):(t=o.last,t!==null?t.sibling=r:e.child=r,o.last=r)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ks(),e.sibling=null,t=di.current,Cn(di,i?t&1|2:t&1),e):(In(e),null);case 22:case 23:return Na(e),gC(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(In(e),e.subtreeFlags&6&&(e.flags|=8192)):In(e),n=e.updateQueue,n!==null&&P0(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&$i(cu),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ra(li),In(e),null;case 25:return null}throw Error(Te(156,e.tag))}function aW(t,e){switch(mC(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ra(li),Sh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return qb(e),null;case 13:if(Na(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Te(340));$m()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $i(di),null;case 4:return Sh(),null;case 10:return Ra(e.type),null;case 22:case 23:return Na(e),gC(),t!==null&&$i(cu),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ra(li),null;case 25:return null;default:return null}}function RR(t,e){switch(mC(e),e.tag){case 3:Ra(li),Sh();break;case 26:case 27:case 5:qb(e);break;case 4:Sh();break;case 13:Na(e);break;case 19:$i(di);break;case 10:Ra(e.type);break;case 22:case 23:Na(e),gC(),t!==null&&$i(cu);break;case 24:Ra(li)}}var lW={getCacheForType:function(t){var e=io(li),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},cW=typeof WeakMap=="function"?WeakMap:Map,An=0,pn=null,At=null,Ft=0,un=0,ir=null,Ca=!1,tp=!1,zC=!1,Ha=0,Fn=0,Zl=0,du=0,FC=0,jr=0,$h=0,_f=null,Ws=null,Xk=!1,PC=0,lx=1/0,cx=null,Pl=null,B0=!1,Hc=null,$f=0,Yk=0,Zk=null,Af=0,Jk=null;function dr(){if(An&2&&Ft!==0)return Ft&-Ft;if(bt.T!==null){var t=Ih;return t!==0?t:MC()}return GO()}function LR(){jr===0&&(jr=!(Ft&536870912)||Ut?jO():536870912);var t=Zr.current;return t!==null&&(t.flags|=32),jr}function ko(t,e,n){(t===pn&&un===2||t.cancelPendingCommit!==null)&&(Ah(t,0),Ta(t,Ft,jr,!1)),Im(t,n),(!(An&2)||t!==pn)&&(t===pn&&(!(An&2)&&(du|=n),Fn===4&&Ta(t,Ft,jr,!1)),aa(t))}function zR(t,e,n){if(An&6)throw Error(Te(327));var i=!n&&(e&60)===0&&(e&t.expiredLanes)===0||Em(t,e),o=i?hW(t,e):s2(t,e,!0),r=i;do{if(o===0){tp&&!i&&Ta(t,e,0,!1);break}else if(o===6)Ta(t,e,0,!Ca);else{if(n=t.current.alternate,r&&!uW(n)){o=s2(t,e,!1),r=!1;continue}if(o===2){if(r=e,t.errorRecoveryDisabledLanes&r)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var a=t;o=_f;var l=a.current.memoizedState.isDehydrated;if(l&&(Ah(a,s).flags|=256),s=s2(a,s,!1),s!==2){if(zC&&!l){a.errorRecoveryDisabledLanes|=r,du|=r,o=4;break e}r=Ws,Ws=o,r!==null&&Qk(r)}o=s}if(r=!1,o!==2)continue}}if(o===1){Ah(t,0),Ta(t,e,0,!0);break}e:{switch(i=t,o){case 0:case 1:throw Error(Te(345));case 4:if((e&4194176)===e){Ta(i,e,jr,!Ca);break e}break;case 2:Ws=null;break;case 3:case 5:break;default:throw Error(Te(329))}if(i.finishedWork=n,i.finishedLanes=e,(e&62914560)===e&&(r=PC+300-Ks(),10<r)){if(Ta(i,e,jr,!Ca),S1(i,0)!==0)break e;i.timeoutHandle=YR(Y$.bind(null,i,n,Ws,cx,Xk,e,jr,du,$h,Ca,2,-0,0),r);break e}Y$(i,n,Ws,cx,Xk,e,jr,du,$h,Ca,0,-0,0)}}break}while(!0);aa(t)}function Qk(t){Ws===null?Ws=t:Ws.push.apply(Ws,t)}function Y$(t,e,n,i,o,r,s,a,l,c,u,d,h){var p=e.subtreeFlags;if((p&8192||(p&16785408)===16785408)&&(Gf={stylesheets:null,count:0,unsuspend:WW},_R(e),e=qW(),e!==null)){t.cancelPendingCommit=e(J$.bind(null,t,n,i,o,s,a,l,1,d,h)),Ta(t,r,s,!c);return}J$(t,n,i,o,s,a,l,u,d,h)}function uW(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],r=o.getSnapshot;o=o.value;try{if(!mr(r(),o))return!1}catch(s){return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ta(t,e,n,i){e&=~FC,e&=~du,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var o=e;0<o;){var r=31-ur(o),s=1<<r;i[r]=-1,o&=~s}n!==0&&VO(t,n,e)}function D1(){return An&6?!0:(Rm(0),!1)}function BC(){if(At!==null){if(un===0)var t=At.return;else t=At,Oa=Xu=null,SC(t),lh=null,Uf=0,t=At;for(;t!==null;)RR(t.alternate,t),t=t.return;At=null}}function Ah(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,$W(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),BC(),pn=t,At=n=Fl(t.current,null),Ft=e,un=0,ir=null,Ca=!1,tp=Em(t,e),zC=!1,$h=jr=FC=du=Zl=Fn=0,Ws=_f=null,Xk=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var o=31-ur(i),r=1<<o;e|=t[o],i&=~r}return Ha=e,I1(),n}function FR(t,e){$t=null,bt.H=ta,e===yf?(e=_$(),un=3):e===yD?(e=_$(),un=4):un=e===lR?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ir=e,At===null&&(Fn=1,rx(t,Pr(e,t.current)))}function PR(){var t=bt.H;return bt.H=ta,t===null?ta:t}function BR(){var t=bt.A;return bt.A=lW,t}function e3(){Fn=4,Ca||(Ft&4194176)!==Ft&&Zr.current!==null||(tp=!0),!(Zl&134217727)&&!(du&134217727)||pn===null||Ta(pn,Ft,jr,!1)}function s2(t,e,n){var i=An;An|=2;var o=PR(),r=BR();(pn!==t||Ft!==e)&&(cx=null,Ah(t,e)),e=!1;var s=Fn;e:do try{if(un!==0&&At!==null){var a=At,l=ir;switch(un){case 8:BC(),s=6;break e;case 3:case 2:case 6:Zr.current===null&&(e=!0);var c=un;if(un=0,ir=null,th(t,a,l,c),n&&tp){s=0;break e}break;default:c=un,un=0,ir=null,th(t,a,l,c)}}dW(),s=Fn;break}catch(u){FR(t,u)}while(!0);return e&&t.shellSuspendCounter++,Oa=Xu=null,An=i,bt.H=o,bt.A=r,At===null&&(pn=null,Ft=0,I1()),s}function dW(){for(;At!==null;)MR(At)}function hW(t,e){var n=An;An|=2;var i=PR(),o=BR();pn!==t||Ft!==e?(cx=null,lx=Ks()+500,Ah(t,e)):tp=Em(t,e);e:do try{if(un!==0&&At!==null){e=At;var r=ir;t:switch(un){case 1:un=0,ir=null,th(t,e,r,1);break;case 2:if(I$(r)){un=0,ir=null,Z$(e);break}e=function(){un===2&&pn===t&&(un=7),aa(t)},r.then(e,e);break e;case 3:un=7;break e;case 4:un=5;break e;case 7:I$(r)?(un=0,ir=null,Z$(e)):(un=0,ir=null,th(t,e,r,7));break;case 5:var s=null;switch(At.tag){case 26:s=At.memoizedState;case 5:case 27:var a=At;if(!s||e8(s)){un=0,ir=null;var l=a.sibling;if(l!==null)At=l;else{var c=a.return;c!==null?(At=c,R1(c)):At=null}break t}}un=0,ir=null,th(t,e,r,5);break;case 6:un=0,ir=null,th(t,e,r,6);break;case 8:BC(),Fn=6;break e;default:throw Error(Te(462))}}pW();break}catch(u){FR(t,u)}while(!0);return Oa=Xu=null,bt.H=i,bt.A=o,An=n,At!==null?0:(pn=null,Ft=0,I1(),Fn)}function pW(){for(;At!==null&&!LV();)MR(At)}function MR(t){var e=pR(t.alternate,t,Ha);t.memoizedProps=t.pendingProps,e===null?R1(t):At=e}function Z$(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=U$(n,e,e.pendingProps,e.type,void 0,Ft);break;case 11:e=U$(n,e,e.pendingProps,e.type.render,e.ref,Ft);break;case 5:SC(e);default:RR(n,e),e=At=OR(e,Ha),e=pR(n,e,Ha)}t.memoizedProps=t.pendingProps,e===null?R1(t):At=e}function th(t,e,n,i){Oa=Xu=null,SC(e),lh=null,Uf=0;var o=e.return;try{if(tW(t,o,e,n,Ft)){Fn=1,rx(t,Pr(n,t.current)),At=null;return}}catch(r){if(o!==null)throw At=o,r;Fn=1,rx(t,Pr(n,t.current)),At=null;return}e.flags&32768?(Ut||i===1?t=!0:tp||Ft&536870912?t=!1:(Ca=t=!0,(i===2||i===3||i===6)&&(i=Zr.current,i!==null&&i.tag===13&&(i.flags|=16384))),jR(e,t)):R1(e)}function R1(t){var e=t;do{if(e.flags&32768){jR(e,Ca);return}t=e.return;var n=sW(e.alternate,e,Ha);if(n!==null){At=n;return}if(e=e.sibling,e!==null){At=e;return}At=e=t}while(e!==null);Fn===0&&(Fn=5)}function jR(t,e){do{var n=aW(t.alternate,t);if(n!==null){n.flags&=32767,At=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){At=t;return}At=t=n}while(t!==null);Fn=6,At=null}function J$(t,e,n,i,o,r,s,a,l,c){var u=bt.T,d=yn.p;try{yn.p=2,bt.T=null,fW(t,e,n,i,d,o,r,s,a,l,c)}finally{bt.T=u,yn.p=d}}function fW(t,e,n,i,o,r,s,a){do hh();while(Hc!==null);if(An&6)throw Error(Te(327));var l=t.finishedWork;if(i=t.finishedLanes,l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(Te(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(c|=hC,GV(t,i,c,r,s,a),t===pn&&(At=pn=null,Ft=0),!(l.subtreeFlags&10256)&&!(l.flags&10256)||B0||(B0=!0,Yk=c,Zk=n,xW(Kb,function(){return hh(),null})),n=(l.flags&15990)!==0,l.subtreeFlags&15990||n?(n=bt.T,bt.T=null,r=yn.p,yn.p=2,s=An,An|=4,iW(t,l),TR(l,t),PH(o3,t.containerInfo),bx=!!i3,o3=i3=null,t.current=l,wR(t,l.alternate,l),zV(),An=s,yn.p=r,bt.T=n):t.current=l,B0?(B0=!1,Hc=t,$f=i):UR(t,c),c=t.pendingLanes,c===0&&(Pl=null),jV(l.stateNode),aa(t),e!==null)for(o=t.onRecoverableError,l=0;l<e.length;l++)c=e[l],o(c.value,{componentStack:c.stack});return $f&3&&hh(),c=t.pendingLanes,i&4194218&&c&42?t===Jk?Af++:(Af=0,Jk=t):Af=0,Rm(0),null}function UR(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Am(e)))}function hh(){if(Hc!==null){var t=Hc,e=Yk;Yk=0;var n=WO($f),i=bt.T,o=yn.p;try{if(yn.p=32>n?32:n,bt.T=null,Hc===null)var r=!1;else{n=Zk,Zk=null;var s=Hc,a=$f;if(Hc=null,$f=0,An&6)throw Error(Te(331));var l=An;if(An|=4,AR(s.current),IR(s,s.current,a,n),An=l,Rm(0,!1),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Tm,s)}catch(c){}r=!0}return r}finally{yn.p=o,bt.T=i,UR(t,e)}}return!1}function Q$(t,e,n){e=Pr(n,e),e=Bk(t.stateNode,e,2),t=zl(t,e,2),t!==null&&(Im(t,2),aa(t))}function on(t,e,n){if(t.tag===3)Q$(t,t,n);else for(;e!==null;){if(e.tag===3){Q$(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Pl===null||!Pl.has(i))){t=Pr(n,t),n=sR(2),i=zl(e,n,2),i!==null&&(aR(n,i,e,t),Im(i,2),aa(i));break}}e=e.return}}function a2(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new cW;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(n)||(zC=!0,o.add(n),t=mW.bind(null,t,e,n),e.then(t,t))}function mW(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,pn===t&&(Ft&n)===n&&(Fn===4||Fn===3&&(Ft&62914560)===Ft&&300>Ks()-PC?!(An&2)&&Ah(t,0):FC|=n,$h===Ft&&($h=0)),aa(t)}function VR(t,e){e===0&&(e=UO()),t=Kl(t,e),t!==null&&(Im(t,e),aa(t))}function gW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VR(t,n)}function bW(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(Te(314))}i!==null&&i.delete(e),VR(t,n)}function xW(t,e){return oC(t,e)}var ux=null,Rd=null,t3=!1,dx=!1,l2=!1,hu=0;function aa(t){t!==Rd&&t.next===null&&(Rd===null?ux=Rd=t:Rd=Rd.next=t),dx=!0,t3||(t3=!0,vW(yW))}function Rm(t,e){if(!l2&&dx){l2=!0;do for(var n=!1,i=ux;i!==null;){if(t!==0){var o=i.pendingLanes;if(o===0)var r=0;else{var s=i.suspendedLanes,a=i.pingedLanes;r=(1<<31-ur(42|t)+1)-1,r&=o&~(s&~a),r=r&201326677?r&201326677|1:r?r|2:0}r!==0&&(n=!0,e5(i,r))}else r=Ft,r=S1(i,i===pn?r:0),!(r&3)||Em(i,r)||(n=!0,e5(i,r));i=i.next}while(n);l2=!1}}function yW(){dx=t3=!1;var t=0;hu!==0&&(_W()&&(t=hu),hu=0);for(var e=Ks(),n=null,i=ux;i!==null;){var o=i.next,r=HR(i,e);r===0?(i.next=null,n===null?ux=o:n.next=o,o===null&&(Rd=n)):(n=i,(t!==0||r&3)&&(dx=!0)),i=o}Rm(t)}function HR(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var s=31-ur(r),a=1<<s,l=o[s];l===-1?(!(a&n)||a&i)&&(o[s]=WV(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}if(e=pn,n=Ft,n=S1(t,t===e?n:0),i=t.callbackNode,n===0||t===e&&un===2||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Pw(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Em(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Pw(i),WO(n)){case 2:case 8:n=BO;break;case 32:n=Kb;break;case 268435456:n=MO;break;default:n=Kb}return i=WR.bind(null,t),n=oC(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Pw(i),t.callbackPriority=2,t.callbackNode=null,2}function WR(t,e){var n=t.callbackNode;if(hh()&&t.callbackNode!==n)return null;var i=Ft;return i=S1(t,t===pn?i:0),i===0?null:(zR(t,i,e),HR(t,Ks()),t.callbackNode!=null&&t.callbackNode===n?WR.bind(null,t):null)}function e5(t,e){if(hh())return null;zR(t,e,!0)}function vW(t){AW(function(){An&6?oC(PO,t):t()})}function MC(){return hu===0&&(hu=jO()),hu}function t5(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sb(""+t)}function n5(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function wW(t,e,n,i,o){if(e==="submit"&&n&&n.stateNode===o){var r=t5((o[Vo]||null).action),s=i.submitter;s&&(e=(e=s[Vo]||null)?t5(e.formAction):s.getAttribute("formAction"),e!==null&&(r=e,s=null));var a=new C1("action","action",null,i,o);t.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(hu!==0){var l=s?n5(o,s):new FormData(o);Fk(n,{pending:!0,data:l,method:o.method,action:r},null,l)}}else typeof r=="function"&&(a.preventDefault(),l=s?n5(o,s):new FormData(o),Fk(n,{pending:!0,data:l,method:o.method,action:r},r,l))},currentTarget:o}]})}}for(var c2=0;c2<S$.length;c2++){var u2=S$[c2],kW=u2.toLowerCase(),SW=u2[0].toUpperCase()+u2.slice(1);Ns(kW,"on"+SW)}Ns(hD,"onAnimationEnd");Ns(pD,"onAnimationIteration");Ns(fD,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(MH,"onTransitionRun");Ns(jH,"onTransitionStart");Ns(UH,"onTransitionCancel");Ns(mD,"onTransitionEnd");Ch("onMouseEnter",["mouseout","mouseover"]);Ch("onMouseLeave",["mouseout","mouseover"]);Ch("onPointerEnter",["pointerout","pointerover"]);Ch("onPointerLeave",["pointerout","pointerover"]);Hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hf));function GR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&o.isPropagationStopped())break e;r=a,o.currentTarget=c;try{r(o)}catch(u){ox(u)}o.currentTarget=null,r=l}else for(s=0;s<i.length;s++){if(a=i[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&o.isPropagationStopped())break e;r=a,o.currentTarget=c;try{r(o)}catch(u){ox(u)}o.currentTarget=null,r=l}}}}function Lt(t,e){var n=e[Ck];n===void 0&&(n=e[Ck]=new Set);var i=t+"__bubble";n.has(i)||(qR(e,t,2,!1),n.add(i))}function d2(t,e,n){var i=0;e&&(i|=4),qR(n,t,i,e)}var M0="_reactListening"+Math.random().toString(36).slice(2);function jC(t){if(!t[M0]){t[M0]=!0,qO.forEach(function(n){n!=="selectionchange"&&(CW.has(n)||d2(n,!1,t),d2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[M0]||(e[M0]=!0,d2("selectionchange",!1,e))}}function qR(t,e,n,i){switch(r8(e)){case 2:var o=YW;break;case 8:o=ZW;break;default:o=WC}n=o.bind(null,e,n,t),o=void 0,!_k||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function h2(t,e,n,i,o){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Zc(a),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){i=r=s;continue e}a=a.parentNode}}i=i.return}tD(function(){var c=r,u=aC(n),d=[];e:{var h=gD.get(t);if(h!==void 0){var p=C1,f=t;switch(t){case"keypress":if(Tb(n)===0)break e;case"keydown":case"keyup":p=bH;break;case"focusin":f="focus",p=Vw;break;case"focusout":f="blur",p=Vw;break;case"beforeblur":case"afterblur":p=Vw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=d$;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vH;break;case hD:case pD:case fD:p=lH;break;case mD:p=kH;break;case"scroll":case"scrollend":p=iH;break;case"wheel":p=CH;break;case"copy":case"cut":case"paste":p=uH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=p$;break;case"toggle":case"beforetoggle":p=EH}var m=(e&4)!==0,b=!m&&(t==="scroll"||t==="scrollend"),g=m?h!==null?h+"Capture":null:h;m=[];for(var x=c,y;x!==null;){var v=x;if(y=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||y===null||g===null||(v=Pf(x,g),v!=null&&m.push(Wf(x,v,y))),b)break;x=x.return}0<m.length&&(h=new p(h,f,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Ik&&(f=n.relatedTarget||n.fromElement)&&(Zc(f)||f[Qh]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=n.relatedTarget||n.toElement,p=c,f=f?Zc(f):null,f!==null&&(b=Jh(f),m=f.tag,f!==b||m!==5&&m!==27&&m!==6)&&(f=null)):(p=null,f=c),p!==f)){if(m=d$,v="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=p$,v="onPointerLeave",g="onPointerEnter",x="pointer"),b=p==null?h:rf(p),y=f==null?h:rf(f),h=new m(v,x+"leave",p,n,u),h.target=b,h.relatedTarget=y,v=null,Zc(u)===c&&(m=new m(g,x+"enter",f,n,u),m.target=y,m.relatedTarget=b,v=m),b=v,p&&f)t:{for(m=p,g=f,x=0,y=m;y;y=vd(y))x++;for(y=0,v=g;v;v=vd(v))y++;for(;0<x-y;)m=vd(m),x--;for(;0<y-x;)g=vd(g),y--;for(;x--;){if(m===g||g!==null&&m===g.alternate)break t;m=vd(m),g=vd(g)}m=null}else m=null;p!==null&&i5(d,h,p,m,!1),f!==null&&b!==null&&i5(d,b,f,m,!0)}}e:{if(h=c?rf(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=b$;else if(g$(h))if(aD)w=zH;else{w=RH;var C=DH}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&sC(c.elementType)&&(w=b$):w=LH;if(w&&(w=w(t,c))){sD(d,w,n,u);break e}C&&C(t,h,c),t==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&Ek(h,"number",h.value)}switch(C=c?rf(c):window,t){case"focusin":(g$(C)||C.contentEditable==="true")&&(Xd=C,$k=c,xf=null);break;case"focusout":xf=$k=Xd=null;break;case"mousedown":Ak=!0;break;case"contextmenu":case"mouseup":case"dragend":Ak=!1,k$(d,n,u);break;case"selectionchange":if(BH)break;case"keydown":case"keyup":k$(d,n,u)}var S;if(uC)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Kd?oD(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(iD&&n.locale!=="ko"&&(Kd||E!=="onCompositionStart"?E==="onCompositionEnd"&&Kd&&(S=nD()):(Al=u,lC="value"in Al?Al.value:Al.textContent,Kd=!0)),C=hx(c,E),0<C.length&&(E=new h$(E,t,null,n,u),d.push({event:E,listeners:C}),S?E.data=S:(S=rD(n),S!==null&&(E.data=S)))),(S=_H?$H(t,n):AH(t,n))&&(E=hx(c,"onBeforeInput"),0<E.length&&(C=new h$("onBeforeInput","beforeinput",null,n,u),d.push({event:C,listeners:E}),C.data=S)),wW(d,t,c,n,u)}GR(d,e)})}function Wf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hx(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,r=o.stateNode;o=o.tag,o!==5&&o!==26&&o!==27||r===null||(o=Pf(t,n),o!=null&&i.unshift(Wf(t,o,r)),o=Pf(t,e),o!=null&&i.push(Wf(t,o,r))),t=t.return}return i}function vd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i5(t,e,n,i,o){for(var r=e._reactName,s=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,l!==null&&l===i)break;a!==5&&a!==26&&a!==27||c===null||(l=c,o?(c=Pf(n,r),c!=null&&s.unshift(Wf(n,c,l))):o||(c=Pf(n,r),c!=null&&s.push(Wf(n,c,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var TW=/\r\n?/g,EW=/\u0000|\uFFFD/g;function o5(t){return(typeof t=="string"?t:""+t).replace(TW,"\n").replace(EW,"")}function KR(t,e){return e=o5(e),o5(t)===e}function L1(){}function Xt(t,e,n,i,o,r){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Th(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Th(t,""+i);break;case"className":O0(t,"class",i);break;case"tabIndex":O0(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":O0(t,n,i);break;case"style":eD(t,i,r);break;case"data":if(e!=="object"){O0(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Sb(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&Xt(t,e,"name",o.name,o,null),Xt(t,e,"formEncType",o.formEncType,o,null),Xt(t,e,"formMethod",o.formMethod,o,null),Xt(t,e,"formTarget",o.formTarget,o,null)):(Xt(t,e,"encType",o.encType,o,null),Xt(t,e,"method",o.method,o,null),Xt(t,e,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Sb(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=L1);break;case"onScroll":i!=null&&Lt("scroll",t);break;case"onScrollEnd":i!=null&&Lt("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(Te(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(Te(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Sb(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":Lt("beforetoggle",t),Lt("toggle",t),kb(t,"popover",i);break;case"xlinkActuate":ha(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ha(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ha(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ha(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ha(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ha(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ha(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ha(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ha(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":kb(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=tH.get(n)||n,kb(t,n,i))}}function n3(t,e,n,i,o,r){switch(n){case"style":eD(t,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(Te(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(Te(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Th(t,i):(typeof i=="number"||typeof i=="bigint")&&Th(t,""+i);break;case"onScroll":i!=null&&Lt("scroll",t);break;case"onScrollEnd":i!=null&&Lt("scrollend",t);break;case"onClick":i!=null&&(t.onclick=L1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!KO.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),e=n.slice(2,o?n.length-7:void 0),r=t[Vo]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,o),typeof i=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,o);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):kb(t,n,i)}}}function Hi(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",t),Lt("load",t);var i=!1,o=!1,r;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(s!=null)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Te(137,e));default:Xt(t,e,r,s,n,null)}}o&&Xt(t,e,"srcSet",n.srcSet,n,null),i&&Xt(t,e,"src",n.src,n,null);return;case"input":Lt("invalid",t);var a=r=s=o=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(u!=null)switch(i){case"name":o=u;break;case"type":s=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":r=u;break;case"defaultValue":a=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(Te(137,e));break;default:Xt(t,e,i,u,n,null)}}ZO(t,r,a,l,c,s,o,!1),Xb(t);return;case"select":Lt("invalid",t),i=s=r=null;for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"value":r=a;break;case"defaultValue":s=a;break;case"multiple":i=a;default:Xt(t,e,o,a,n,null)}e=r,n=s,t.multiple=!!i,e!=null?sh(t,!!i,e,!1):n!=null&&sh(t,!!i,n,!0);return;case"textarea":Lt("invalid",t),r=o=i=null;for(s in n)if(n.hasOwnProperty(s)&&(a=n[s],a!=null))switch(s){case"value":i=a;break;case"defaultValue":o=a;break;case"children":r=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(Te(91));break;default:Xt(t,e,s,a,n,null)}QO(t,i,o,r),Xb(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Xt(t,e,l,i,n,null)}return;case"dialog":Lt("cancel",t),Lt("close",t);break;case"iframe":case"object":Lt("load",t);break;case"video":case"audio":for(i=0;i<Hf.length;i++)Lt(Hf[i],t);break;case"image":Lt("error",t),Lt("load",t);break;case"details":Lt("toggle",t);break;case"embed":case"source":case"link":Lt("error",t),Lt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Te(137,e));default:Xt(t,e,c,i,n,null)}return;default:if(sC(e)){for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!==void 0&&n3(t,e,u,i,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(i=n[a],i!=null&&Xt(t,e,a,i,n,null))}function IW(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,r=null,s=null,a=null,l=null,c=null,u=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=d;default:i.hasOwnProperty(p)||Xt(t,e,p,null,i,d)}}for(var h in i){var p=i[h];if(d=n[h],i.hasOwnProperty(h)&&(p!=null||d!=null))switch(h){case"type":r=p;break;case"name":o=p;break;case"checked":c=p;break;case"defaultChecked":u=p;break;case"value":s=p;break;case"defaultValue":a=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(Te(137,e));break;default:p!==d&&Xt(t,e,h,p,i,d)}}Tk(t,s,a,l,c,u,r,o);return;case"select":p=s=a=h=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null)switch(r){case"value":break;case"multiple":p=l;default:i.hasOwnProperty(r)||Xt(t,e,r,null,i,l)}for(o in i)if(r=i[o],l=n[o],i.hasOwnProperty(o)&&(r!=null||l!=null))switch(o){case"value":h=r;break;case"defaultValue":a=r;break;case"multiple":s=r;default:r!==l&&Xt(t,e,o,r,i,l)}e=a,n=s,i=p,h!=null?sh(t,!!n,h,!1):!!i!=!!n&&(e!=null?sh(t,!!n,e,!0):sh(t,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null&&!i.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:Xt(t,e,a,null,i,o)}for(s in i)if(o=i[s],r=n[s],i.hasOwnProperty(s)&&(o!=null||r!=null))switch(s){case"value":h=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(Te(91));break;default:o!==r&&Xt(t,e,s,o,i,r)}JO(t,h,p);return;case"option":for(var f in n)if(h=n[f],n.hasOwnProperty(f)&&h!=null&&!i.hasOwnProperty(f))switch(f){case"selected":t.selected=!1;break;default:Xt(t,e,f,null,i,h)}for(l in i)if(h=i[l],p=n[l],i.hasOwnProperty(l)&&h!==p&&(h!=null||p!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Xt(t,e,l,h,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)h=n[m],n.hasOwnProperty(m)&&h!=null&&!i.hasOwnProperty(m)&&Xt(t,e,m,null,i,h);for(c in i)if(h=i[c],p=n[c],i.hasOwnProperty(c)&&h!==p&&(h!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Te(137,e));break;default:Xt(t,e,c,h,i,p)}return;default:if(sC(e)){for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!==void 0&&!i.hasOwnProperty(b)&&n3(t,e,b,void 0,i,h);for(u in i)h=i[u],p=n[u],!i.hasOwnProperty(u)||h===p||h===void 0&&p===void 0||n3(t,e,u,h,i,p);return}}for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!i.hasOwnProperty(g)&&Xt(t,e,g,null,i,h);for(d in i)h=i[d],p=n[d],!i.hasOwnProperty(d)||h===p||h==null&&p==null||Xt(t,e,d,h,i,p)}var i3=null,o3=null;function px(t){return t.nodeType===9?t:t.ownerDocument}function r5(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XR(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function r3(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var p2=null;function _W(){var t=window.event;return t&&t.type==="popstate"?t===p2?!1:(p2=t,!0):(p2=null,!1)}var YR=typeof setTimeout=="function"?setTimeout:void 0,$W=typeof clearTimeout=="function"?clearTimeout:void 0,s5=typeof Promise=="function"?Promise:void 0,AW=typeof queueMicrotask=="function"?queueMicrotask:typeof s5<"u"?function(t){return s5.resolve(null).then(t).catch(NW)}:YR;function NW(t){setTimeout(function(){throw t})}function f2(t,e){var n=e,i=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){t.removeChild(o),Yf(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);Yf(e)}function s3(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":s3(n),rC(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function OW(t,e,n,i){for(;t.nodeType===1;){var o=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Ff])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==o.rel||t.getAttribute("href")!==(o.href==null?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=vs(t.nextSibling),t===null)break}return null}function DW(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=vs(t.nextSibling),t===null))return null;return t}function vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function a5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function ZR(t,e,n){switch(e=px(n),t){case"html":if(t=e.documentElement,!t)throw Error(Te(452));return t;case"head":if(t=e.head,!t)throw Error(Te(453));return t;case"body":if(t=e.body,!t)throw Error(Te(454));return t;default:throw Error(Te(451))}}var Jr=new Map,l5=new Set;function fx(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ja=yn.d;yn.d={f:RW,r:LW,D:zW,C:FW,L:PW,m:BW,X:jW,S:MW,M:UW};function RW(){var t=Ja.f(),e=D1();return t||e}function LW(t){var e=ep(t);e!==null&&e.tag===5&&e.type==="form"?ZD(e):Ja.r(t)}var np=typeof document>"u"?null:document;function JR(t,e,n){var i=np;if(i&&typeof e=="string"&&e){var o=Fr(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),l5.has(o)||(l5.add(o),t={rel:t,crossOrigin:n,href:e},i.querySelector(o)===null&&(e=i.createElement("link"),Hi(e,"link",t),Si(e),i.head.appendChild(e)))}}function zW(t){Ja.D(t),JR("dns-prefetch",t,null)}function FW(t,e){Ja.C(t,e),JR("preconnect",t,e)}function PW(t,e,n){Ja.L(t,e,n);var i=np;if(i&&t&&e){var o='link[rel="preload"][as="'+Fr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Fr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Fr(n.imageSizes)+'"]')):o+='[href="'+Fr(t)+'"]';var r=o;switch(e){case"style":r=Nh(t);break;case"script":r=ip(t)}Jr.has(r)||(t=wn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Jr.set(r,t),i.querySelector(o)!==null||e==="style"&&i.querySelector(Lm(r))||e==="script"&&i.querySelector(zm(r))||(e=i.createElement("link"),Hi(e,"link",t),Si(e),i.head.appendChild(e)))}}function BW(t,e){Ja.m(t,e);var n=np;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+Fr(i)+'"][href="'+Fr(t)+'"]',r=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=ip(t)}if(!Jr.has(r)&&(t=wn({rel:"modulepreload",href:t},e),Jr.set(r,t),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(zm(r)))return}i=n.createElement("link"),Hi(i,"link",t),Si(i),n.head.appendChild(i)}}}function MW(t,e,n){Ja.S(t,e,n);var i=np;if(i&&t){var o=rh(i).hoistableStyles,r=Nh(t);e=e||"default";var s=o.get(r);if(!s){var a={loading:0,preload:null};if(s=i.querySelector(Lm(r)))a.loading=5;else{t=wn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Jr.get(r))&&UC(t,n);var l=s=i.createElement("link");Si(l),Hi(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Nb(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:a},o.set(r,s)}}}function jW(t,e){Ja.X(t,e);var n=np;if(n&&t){var i=rh(n).hoistableScripts,o=ip(t),r=i.get(o);r||(r=n.querySelector(zm(o)),r||(t=wn({src:t,async:!0},e),(e=Jr.get(o))&&VC(t,e),r=n.createElement("script"),Si(r),Hi(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(o,r))}}function UW(t,e){Ja.M(t,e);var n=np;if(n&&t){var i=rh(n).hoistableScripts,o=ip(t),r=i.get(o);r||(r=n.querySelector(zm(o)),r||(t=wn({src:t,async:!0,type:"module"},e),(e=Jr.get(o))&&VC(t,e),r=n.createElement("script"),Si(r),Hi(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(o,r))}}function c5(t,e,n,i){var o=(o=Rl.current)?fx(o):null;if(!o)throw Error(Te(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Nh(n.href),n=rh(o).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Nh(n.href);var r=rh(o).hoistableStyles,s=r.get(t);if(s||(o=o.ownerDocument||o,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,s),(r=o.querySelector(Lm(t)))&&!r._p&&(s.instance=r,s.state.loading=5),Jr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Jr.set(t,n),r||VW(o,t,n,s.state))),e&&i===null)throw Error(Te(528,""));return s}if(e&&i!==null)throw Error(Te(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ip(n),n=rh(o).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(Te(444,t))}}function Nh(t){return'href="'+Fr(t)+'"'}function Lm(t){return'link[rel="stylesheet"]['+t+"]"}function QR(t){return wn({},t,{"data-precedence":t.precedence,precedence:null})}function VW(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Hi(e,"link",n),Si(e),t.head.appendChild(e))}function ip(t){return'[src="'+Fr(t)+'"]'}function zm(t){return"script[async]"+t}function u5(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Fr(n.href)+'"]');if(i)return e.instance=i,Si(i),i;var o=wn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Si(i),Hi(i,"style",o),Nb(i,n.precedence,t),e.instance=i;case"stylesheet":o=Nh(n.href);var r=t.querySelector(Lm(o));if(r)return e.state.loading|=4,e.instance=r,Si(r),r;i=QR(n),(o=Jr.get(o))&&UC(i,o),r=(t.ownerDocument||t).createElement("link"),Si(r);var s=r;return s._p=new Promise(function(a,l){s.onload=a,s.onerror=l}),Hi(r,"link",i),e.state.loading|=4,Nb(r,n.precedence,t),e.instance=r;case"script":return r=ip(n.src),(o=t.querySelector(zm(r)))?(e.instance=o,Si(o),o):(i=n,(o=Jr.get(r))&&(i=wn({},n),VC(i,o)),t=t.ownerDocument||t,o=t.createElement("script"),Si(o),Hi(o,"link",i),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(Te(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Nb(i,n.precedence,t));return e.instance}function Nb(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,r=o,s=0;s<i.length;s++){var a=i[s];if(a.dataset.precedence===e)r=a;else if(r!==o)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function UC(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function VC(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Ob=null;function d5(t,e,n){if(Ob===null){var i=new Map,o=Ob=new Map;o.set(n,i)}else o=Ob,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),o=0;o<n.length;o++){var r=n[o];if(!(r[Ff]||r[no]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var s=r.getAttribute(e)||"";s=t+s;var a=i.get(s);a?a.push(r):i.set(s,[r])}}return i}function h5(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function HW(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function e8(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Gf=null;function WW(){}function GW(t,e,n){if(Gf===null)throw Error(Te(475));var i=Gf;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var o=Nh(n.href),r=t.querySelector(Lm(o));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=mx.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=r,Si(r);return}r=t.ownerDocument||t,n=QR(n),(o=Jr.get(o))&&UC(n,o),r=r.createElement("link"),Si(r);var s=r;s._p=new Promise(function(a,l){s.onload=a,s.onerror=l}),Hi(r,"link",n),e.instance=r}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=mx.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function qW(){if(Gf===null)throw Error(Te(475));var t=Gf;return t.stylesheets&&t.count===0&&a3(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&a3(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function mx(){if(this.count--,this.count===0){if(this.stylesheets)a3(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gx=null;function a3(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gx=new Map,e.forEach(KW,t),gx=null,mx.call(t))}function KW(t,e){if(!(e.state.loading&4)){var n=gx.get(t);if(n)var i=n.get(null);else{n=new Map,gx.set(t,n);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<o.length;r++){var s=o[r];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}o=e.instance,s=o.getAttribute("data-precedence"),r=n.get(s)||i,r===i&&n.set(null,o),n.set(s,o),this.count++,i=mx.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),r?r.parentNode.insertBefore(o,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var qf={$$typeof:_a,Provider:null,Consumer:null,_currentValue:au,_currentValue2:au,_threadCount:0};function XW(t,e,n,i,o,r,s,a){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bw(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bw(0),this.hiddenUpdates=Bw(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=r,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function t8(t,e,n,i,o,r,s,a,l,c,u,d){return t=new XW(t,e,n,s,a,l,c,d),e=1,r===!0&&(e|=24),r=Mr(3,null,null,e),t.current=r,r.stateNode=t,e=bC(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:e},OC(r),t}function n8(t){return t?(t=Jd,t):Jd}function i8(t,e,n,i,o,r){o=n8(o),i.context===null?i.context=o:i.pendingContext=o,i=Ll(e),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=zl(t,i,e),n!==null&&(ko(n,t,e),Cf(n,t,e))}function p5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function HC(t,e){p5(t,e),(t=t.alternate)&&p5(t,e)}function o8(t){if(t.tag===13){var e=Kl(t,67108864);e!==null&&ko(e,t,67108864),HC(t,67108864)}}var bx=!0;function YW(t,e,n,i){var o=bt.T;bt.T=null;var r=yn.p;try{yn.p=2,WC(t,e,n,i)}finally{yn.p=r,bt.T=o}}function ZW(t,e,n,i){var o=bt.T;bt.T=null;var r=yn.p;try{yn.p=8,WC(t,e,n,i)}finally{yn.p=r,bt.T=o}}function WC(t,e,n,i){if(bx){var o=l3(i);if(o===null)h2(t,e,i,xx,n),f5(t,i);else if(QW(o,t,e,n,i))i.stopPropagation();else if(f5(t,i),e&4&&-1<JW.indexOf(t)){for(;o!==null;){var r=ep(o);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var s=Bc(r.pendingLanes);if(s!==0){var a=r;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-ur(s);a.entanglements[1]|=l,s&=~l}aa(r),!(An&6)&&(lx=Ks()+500,Rm(0))}}break;case 13:a=Kl(r,2),a!==null&&ko(a,r,2),D1(),HC(r,2)}if(r=l3(i),r===null&&h2(t,e,i,xx,n),r===o)break;o=r}o!==null&&i.stopPropagation()}else h2(t,e,i,null,n)}}function l3(t){return t=aC(t),GC(t)}var xx=null;function GC(t){if(xx=null,t=Zc(t),t!==null){var e=Jh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=zO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return xx=t,null}function r8(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(FV()){case PO:return 2;case BO:return 8;case Kb:case PV:return 32;case MO:return 268435456;default:return 32}default:return 32}}var c3=!1,Bl=null,Ml=null,jl=null,Kf=new Map,Xf=new Map,El=[],JW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f5(t,e){switch(t){case"focusin":case"focusout":Bl=null;break;case"dragenter":case"dragleave":Ml=null;break;case"mouseover":case"mouseout":jl=null;break;case"pointerover":case"pointerout":Kf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xf.delete(e.pointerId)}}function Vp(t,e,n,i,o,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[o]},e!==null&&(e=ep(e),e!==null&&o8(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function QW(t,e,n,i,o){switch(e){case"focusin":return Bl=Vp(Bl,t,e,n,i,o),!0;case"dragenter":return Ml=Vp(Ml,t,e,n,i,o),!0;case"mouseover":return jl=Vp(jl,t,e,n,i,o),!0;case"pointerover":var r=o.pointerId;return Kf.set(r,Vp(Kf.get(r)||null,t,e,n,i,o)),!0;case"gotpointercapture":return r=o.pointerId,Xf.set(r,Vp(Xf.get(r)||null,t,e,n,i,o)),!0}return!1}function s8(t){var e=Zc(t.target);if(e!==null){var n=Jh(e);if(n!==null){if(e=n.tag,e===13){if(e=zO(n),e!==null){t.blockedOn=e,qV(t.priority,function(){if(n.tag===13){var i=dr(),o=Kl(n,i);o!==null&&ko(o,n,i),HC(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Db(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=l3(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Ik=i,n.target.dispatchEvent(i),Ik=null}else return e=ep(n),e!==null&&o8(e),t.blockedOn=n,!1;e.shift()}return!0}function m5(t,e,n){Db(t)&&n.delete(e)}function eG(){c3=!1,Bl!==null&&Db(Bl)&&(Bl=null),Ml!==null&&Db(Ml)&&(Ml=null),jl!==null&&Db(jl)&&(jl=null),Kf.forEach(m5),Xf.forEach(m5)}function j0(t,e){t.blockedOn===e&&(t.blockedOn=null,c3||(c3=!0,fi.unstable_scheduleCallback(fi.unstable_NormalPriority,eG)))}var U0=null;function g5(t){U0!==t&&(U0=t,fi.unstable_scheduleCallback(fi.unstable_NormalPriority,function(){U0===t&&(U0=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],o=t[e+2];if(typeof i!="function"){if(GC(i||n)===null)continue;break}var r=ep(n);r!==null&&(t.splice(e,3),e-=3,Fk(r,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function Yf(t){function e(l){return j0(l,t)}Bl!==null&&j0(Bl,t),Ml!==null&&j0(Ml,t),jl!==null&&j0(jl,t),Kf.forEach(e),Xf.forEach(e);for(var n=0;n<El.length;n++){var i=El[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<El.length&&(n=El[0],n.blockedOn===null);)s8(n),n.blockedOn===null&&El.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],r=n[i+1],s=o[Vo]||null;if(typeof r=="function")s||g5(n);else if(s){var a=null;if(r&&r.hasAttribute("formAction")){if(o=r,s=r[Vo]||null)a=s.formAction;else if(GC(o)!==null)continue}else a=s.action;typeof a=="function"?n[i+1]=a:(n.splice(i,3),i-=3),g5(n)}}}function qC(t){this._internalRoot=t}z1.prototype.render=qC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Te(409));var n=e.current,i=dr();i8(n,i,t,e,null,null)};z1.prototype.unmount=qC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&hh(),i8(t.current,2,null,t,null,null),D1(),e[Qh]=null}};function z1(t){this._internalRoot=t}z1.prototype.unstable_scheduleHydration=function(t){if(t){var e=GO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<El.length&&e!==0&&e<El[n].priority;n++);El.splice(n,0,t),n===0&&s8(t)}};var b5=NO.version;if(b5!=="19.0.0")throw Error(Te(527,b5,"19.0.0"));yn.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Te(188)):(t=Object.keys(t).join(","),Error(Te(268,t)));return t=RV(e),t=t!==null?FO(t):null,t=t===null?null:t.stateNode,t};var tG={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:bt,findFiberByHostInstance:Zc,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var V0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!V0.isDisabled&&V0.supportsFiber)try{Tm=V0.inject(tG),cr=V0}catch(t){}}w1.createRoot=function(t,e){if(!OO(t))throw Error(Te(299));var n=!1,i="",o=iR,r=oR,s=rR,a=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(a=e.unstable_transitionCallbacks)),e=t8(t,1,!1,null,null,n,i,o,r,s,a,null),t[Qh]=e.current,jC(t.nodeType===8?t.parentNode:t),new qC(e)};w1.hydrateRoot=function(t,e,n){if(!OO(t))throw Error(Te(299));var i=!1,o="",r=iR,s=oR,a=rR,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=t8(t,1,!0,e,n!=null?n:null,i,o,r,s,a,l,c),e.context=n8(null),n=e.current,i=dr(),o=Ll(i),o.callback=null,zl(n,o,i),e.current.lanes=i,Im(e,i),aa(e),t[Qh]=e.current,jC(t),new z1(e)};w1.version="19.0.0";function a8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a8)}catch(t){console.error(t)}}a8(),TO.exports=w1;var nG=TO.exports;const iG="modulepreload",oG=function(t){return"/Cephaline-Supabase/"+t},x5={},ci=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),s=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));o=Promise.all(n.map(a=>{if(a=oG(a),a in x5)return;x5[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(a,'"]').concat(c)))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":iG,l||(u.as="script",u.crossOrigin=""),u.href=a,s&&u.setAttribute("nonce",s),document.head.appendChild(u),l)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error("Unable to preload CSS for ".concat(a))))})}))}return o.then(()=>e()).catch(r=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=r,window.dispatchEvent(s),!s.defaultPrevented)throw r})};var xs={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},rG=Object.defineProperty,sG=(t,e)=>{for(var n in e)rG(t,n,{get:e[n],enumerable:!0})},aG={isBrowser:!0},l8=new WeakMap,fc=t=>l8.get(t),lG=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return l8.set(t,n)},y5=(t,e)=>e in t,Fm=(t,e)=>(0,console.error)(t,e),yx=new Map,c8=[],cG="slot-fb{display:contents}slot-fb[hidden]{display:none}",v5="http://www.w3.org/1999/xlink",Pm=typeof window<"u"?window:{},ws=Pm.document||{head:{}},Je=Pm.HTMLElement||class{},Ki={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,i)=>t.addEventListener(e,n,i),rel:(t,e,n,i)=>t.removeEventListener(e,n,i),ce:(t,e)=>new CustomEvent(t,e)},uG=(()=>{let t=!1;try{ws.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),dG=t=>Promise.resolve(t),hG=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),u3=!1,d3=[],u8=[],d8=(t,e)=>n=>{t.push(n),u3||(u3=!0,e&&Ki.$flags$&4?pG(h3):Ki.raf(h3))},w5=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Fm(n)}t.length=0},h3=()=>{w5(d3),w5(u8),(u3=d3.length>0)&&Ki.raf(h3)},pG=t=>dG().then(t),Su=d8(d3,!1),Ho=d8(u8,!0),h8=t=>{const e=new URL(t,Ki.$resourcesUrl$);return e.origin!==Pm.location.origin?e.href:e.pathname},k5={},fG="http://www.w3.org/2000/svg",mG="http://www.w3.org/1999/xhtml",gG=t=>t!=null,KC=t=>(t=typeof t,t==="object"||t==="function");function bG(t){var e,n,i;return(i=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?i:void 0}var xG={};sG(xG,{err:()=>p8,map:()=>yG,ok:()=>p3,unwrap:()=>vG,unwrapErr:()=>wG});var p3=t=>({isOk:!0,isErr:!1,value:t}),p8=t=>({isOk:!1,isErr:!0,value:t});function yG(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(i=>p3(i)):p3(n)}if(t.isErr){const n=t.value;return p8(n)}throw"should never get here"}var vG=t=>{if(t.isOk)return t.value;throw t.value},wG=t=>{if(t.isErr)return t.value;throw t.value},Cu=(t,e="")=>()=>{},F=(t,e,...n)=>{let i=null,o=null,r=null,s=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((s=typeof t!="function"&&!KC(i))&&(i=String(i)),s&&a?l[l.length-1].$text$+=i:l.push(s?vx(null,i):i),a=s)};if(c(n),e){e.key&&(o=e.key),e.name&&(r=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,SG);const u=vx(t,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=o,u.$name$=r,u},vx=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},tt={},kG=t=>t&&t.$tag$===tt,SG={forEach:(t,e)=>t.map(S5).forEach(e),map:(t,e)=>t.map(S5).map(e).map(CG)},S5=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),CG=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),F(t.vtag,n,...t.vchildren||[])}const e=vx(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},TG=t=>c8.map(e=>e(t)).find(e=>!!e),EG=t=>c8.push(t),IG=t=>fc(t).$modeName$,_G=(t,e)=>t!=null&&!KC(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,$G=t=>t,ke=(t,e,n)=>{const i=$G(t);return{emit:o=>AG(i,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:o})}},AG=(t,e,n)=>{const i=Ki.ce(e,n);return t.dispatchEvent(i),i},C5=new WeakMap,NG=(t,e,n)=>{let i=yx.get(t);hG&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,yx.set(t,i)},OG=(t,e,n)=>{var i;const o=f8(e,n),r=yx.get(o);if(t=t.nodeType===11?t:ws,r)if(typeof r=="string"){t=t.head||t;let s=C5.get(t),a;if(s||C5.set(t,s=new Set),!s.has(o)){{a=ws.createElement("style"),a.innerHTML=r;const l=(i=Ki.$nonce$)!=null?i:bG(ws);l!=null&&a.setAttribute("nonce",l),(!(e.$flags$&1)||e.$flags$&1&&t.nodeName!=="HEAD")&&t.insertBefore(a,t.querySelector("link"))}e.$flags$&4&&(a.innerHTML+=cG),s&&s.add(o)}}else t.adoptedStyleSheets.includes(r)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,r]);return o},DG=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,i=e.$flags$,o=Cu("attachStyles",e.$tagName$),r=OG(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);i&10&&i&2&&(n["s-sc"]=r,n.classList.add(r+"-h"),i&2&&n.classList.add(r+"-s")),o()},f8=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),T5=(t,e,n,i,o,r)=>{if(n!==i){let s=y5(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,c=E5(n),u=E5(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in n)(!i||i[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in i)(!n||i[l]!==n[l])&&(l.includes("-")?t.style.setProperty(l,i[l]):t.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):y5(Pm,a)?e=a.slice(2):e=a[2]+e.slice(3),n||i){const l=e.endsWith(m8);e=e.replace(LG,""),n&&Ki.rel(t,e,n,l),i&&Ki.ael(t,e,i,l)}}else{const l=KC(i);if((s||l&&i!==null)&&!o)try{if(t.tagName.includes("-"))t[e]=i;else{const u=i==null?"":i;e==="list"?s=!1:(n==null||t[e]!=u)&&(t[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||t.getAttribute(e)==="")&&(c?t.removeAttributeNS(v5,e):t.removeAttribute(e)):(!s||r&4||o)&&!l&&(i=i===!0?"":i,c?t.setAttributeNS(v5,e,i):t.setAttribute(e,i))}}},RG=/\s/,E5=t=>t?t.split(RG):[],m8="Capture",LG=new RegExp(m8+"$"),g8=(t,e,n)=>{const i=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||k5,r=e.$attrs$||k5;for(const s of I5(Object.keys(o)))s in r||T5(i,s,o[s],void 0,n,e.$flags$);for(const s of I5(Object.keys(r)))T5(i,s,o[s],r[s],n,e.$flags$)};function I5(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var Ld,f3,Zf,wx=!1,kx=!1,XC=!1,or=!1,Sx=(t,e,n,i)=>{var o;const r=e.$children$[n];let s=0,a,l,c;if(wx||(XC=!0,r.$tag$==="slot"&&(Ld&&i.classList.add(Ld+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)a=r.$elm$=ws.createTextNode(r.$text$);else if(r.$flags$&1)a=r.$elm$=ws.createTextNode("");else{if(or||(or=r.$tag$==="svg"),a=r.$elm$=ws.createElementNS(or?fG:mG,!wx&&xs.slotRelocation&&r.$flags$&2?"slot-fb":r.$tag$),or&&r.$tag$==="foreignObject"&&(or=!1),g8(null,r,or),!!a.getRootNode().querySelector("body")&&xs.scoped&&gG(Ld)&&a["s-si"]!==Ld&&a.classList.add(a["s-si"]=Ld),ZC(a,i),r.$children$)for(s=0;s<r.$children$.length;++s)l=Sx(t,r,s,a),l&&a.appendChild(l);r.$tag$==="svg"?or=!1:a.tagName==="foreignObject"&&(or=!0)}return a["s-hn"]=Zf,r.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=f3,a["s-sn"]=r.$name$||"",a["s-rf"]=(o=r.$attrs$)==null?void 0:o.ref,c=t&&t.$children$&&t.$children$[n],c&&c.$tag$===r.$tag$&&t.$elm$&&Jf(t.$elm$,!1)),a},Jf=(t,e)=>{Ki.$flags$|=1;const n=Array.from(t.childNodes);t["s-sr"]&&xs.experimentalSlotFixes;for(let i=n.length-1;i>=0;i--){const o=n[i];o["s-hn"]!==Zf&&o["s-ol"]&&(Ul(y8(o),o,YC(o)),o["s-ol"].remove(),o["s-ol"]=void 0,o["s-sh"]=void 0,XC=!0),e&&Jf(o,e)}Ki.$flags$&=-2},b8=(t,e,n,i,o,r)=>{let s=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(s.shadowRoot&&s.tagName===Zf&&(s=s.shadowRoot);o<=r;++o)i[o]&&(a=Sx(null,n,o,t),a&&(i[o].$elm$=a,Ul(s,a,YC(e))))},x8=(t,e,n)=>{for(let i=e;i<=n;++i){const o=t[i];if(o){const r=o.$elm$;k8(o),r&&(kx=!0,r["s-ol"]?r["s-ol"].remove():Jf(r,!0),r.remove())}}},zG=(t,e,n,i,o=!1)=>{let r=0,s=0,a=0,l=0,c=e.length-1,u=e[0],d=e[c],h=i.length-1,p=i[0],f=i[h],m,b;for(;r<=c&&s<=h;)if(u==null)u=e[++r];else if(d==null)d=e[--c];else if(p==null)p=i[++s];else if(f==null)f=i[--h];else if(H0(u,p,o))zd(u,p,o),u=e[++r],p=i[++s];else if(H0(d,f,o))zd(d,f,o),d=e[--c],f=i[--h];else if(H0(u,f,o))(u.$tag$==="slot"||f.$tag$==="slot")&&Jf(u.$elm$.parentNode,!1),zd(u,f,o),Ul(t,u.$elm$,d.$elm$.nextSibling),u=e[++r],f=i[--h];else if(H0(d,p,o))(u.$tag$==="slot"||f.$tag$==="slot")&&Jf(d.$elm$.parentNode,!1),zd(d,p,o),Ul(t,d.$elm$,u.$elm$),d=e[--c],p=i[++s];else{for(a=-1,l=r;l<=c;++l)if(e[l]&&e[l].$key$!==null&&e[l].$key$===p.$key$){a=l;break}a>=0?(b=e[a],b.$tag$!==p.$tag$?m=Sx(e&&e[s],n,a,t):(zd(b,p,o),e[a]=void 0,m=b.$elm$),p=i[++s]):(m=Sx(e&&e[s],n,s,t),p=i[++s]),m&&Ul(y8(u.$elm$),m,YC(u.$elm$))}r>c?b8(t,i[h+1]==null?null:i[h+1].$elm$,n,i,s,h):s>h&&x8(e,r,c)},H0=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?"$nodeId$"in t&&n&&t.$elm$.nodeType!==8?!1:t.$name$===e.$name$:n?!0:t.$key$===e.$key$:!1,YC=t=>t&&t["s-ol"]||t,y8=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,zd=(t,e,n=!1)=>{const i=e.$elm$=t.$elm$,o=t.$children$,r=e.$children$,s=e.$tag$,a=e.$text$;let l;a===null?(or=s==="svg"?!0:s==="foreignObject"?!1:or,s==="slot"&&!wx||g8(t,e,or),o!==null&&r!==null?zG(i,o,e,r,n):r!==null?(t.$text$!==null&&(i.textContent=""),b8(i,null,e,r,0,r.length-1)):!n&&xs.updatable&&o!==null&&x8(o,0,o.length-1),or&&s==="svg"&&(or=!1)):(l=i["s-cr"])?l.parentNode.textContent=a:t.$text$!==a&&(i.data=a)},v8=t=>{const e=t.childNodes;for(const n of e)if(n.nodeType===1){if(n["s-sr"]){const i=n["s-sn"];n.hidden=!1;for(const o of e)if(o!==n){if(o["s-hn"]!==n["s-hn"]||i!==""){if(o.nodeType===1&&(i===o.getAttribute("slot")||i===o["s-sn"])||o.nodeType===3&&i===o["s-sn"]){n.hidden=!0;break}}else if(o.nodeType===1||o.nodeType===3&&o.textContent.trim()!==""){n.hidden=!0;break}}}v8(n)}},xa=[],w8=t=>{let e,n,i;for(const o of t.childNodes){if(o["s-sr"]&&(e=o["s-cr"])&&e.parentNode){n=e.parentNode.childNodes;const r=o["s-sn"];for(i=n.length-1;i>=0;i--)if(e=n[i],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==o["s-hn"])if(_5(e,r)){let s=xa.find(a=>a.$nodeToRelocate$===e);kx=!0,e["s-sn"]=e["s-sn"]||r,s?(s.$nodeToRelocate$["s-sh"]=o["s-hn"],s.$slotRefNode$=o):(e["s-sh"]=o["s-hn"],xa.push({$slotRefNode$:o,$nodeToRelocate$:e})),e["s-sr"]&&xa.map(a=>{_5(a.$nodeToRelocate$,e["s-sn"])&&(s=xa.find(l=>l.$nodeToRelocate$===e),s&&!a.$slotRefNode$&&(a.$slotRefNode$=s.$slotRefNode$))})}else xa.some(s=>s.$nodeToRelocate$===e)||xa.push({$nodeToRelocate$:e})}o.nodeType===1&&w8(o)}},_5=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",k8=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(k8)},Ul=(t,e,n)=>{const i=t==null?void 0:t.insertBefore(e,n);return ZC(e,t),i},S8=t=>{const e=[];return t&&e.push(...t["s-scs"]||[],t["s-si"],t["s-sc"],...S8(t.parentElement)),e},ZC=(t,e,n=!1)=>{var i;if(t&&e&&t.nodeType===1){const o=new Set(S8(e).filter(Boolean));if(o.size&&((i=t.classList)==null||i.add(...t["s-scs"]=[...o]),t["s-ol"]||n))for(const r of Array.from(t.childNodes))ZC(r,t,!0)}},FG=(t,e,n=!1)=>{var i,o,r,s,a;const l=t.$hostElement$,c=t.$cmpMeta$,u=t.$vnode$||vx(null,null),d=kG(e)?e:F(null,null,e);if(Zf=l.tagName,c.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},c.$attrsToReflect$.map(([h,p])=>d.$attrs$[p]=l[h])),n&&d.$attrs$)for(const h of Object.keys(d.$attrs$))l.hasAttribute(h)&&!["key","ref","style","class"].includes(h)&&(d.$attrs$[h]=l[h]);d.$tag$=null,d.$flags$|=4,t.$vnode$=d,d.$elm$=u.$elm$=l.shadowRoot||l,Ld=l["s-sc"],wx=(c.$flags$&1)!==0,f3=l["s-cr"],kx=!1,zd(u,d,n);{if(Ki.$flags$|=1,XC){w8(d.$elm$);for(const h of xa){const p=h.$nodeToRelocate$;if(!p["s-ol"]){const f=ws.createTextNode("");f["s-nr"]=p,Ul(p.parentNode,p["s-ol"]=f,p)}}for(const h of xa){const p=h.$nodeToRelocate$,f=h.$slotRefNode$;if(f){const m=f.parentNode;let b=f.nextSibling;{let g=(i=p["s-ol"])==null?void 0:i.previousSibling;for(;g;){let x=(o=g["s-nr"])!=null?o:null;if(x&&x["s-sn"]===p["s-sn"]&&m===x.parentNode){for(x=x.nextSibling;x===p||x!=null&&x["s-sr"];)x=x==null?void 0:x.nextSibling;if(!x||!x["s-nr"]){b=x;break}}g=g.previousSibling}}(!b&&m!==p.parentNode||p.nextSibling!==b)&&p!==b&&(!p["s-hn"]&&p["s-ol"]&&(p["s-hn"]=p["s-ol"].parentNode.nodeName),Ul(m,p,b),p.nodeType===1&&(p.hidden=(r=p["s-ih"])!=null?r:!1)),p&&typeof f["s-rf"]=="function"&&f["s-rf"](p)}else p.nodeType===1&&(n&&(p["s-ih"]=(s=p.hidden)!=null?s:!1),p.hidden=!0)}}kx&&v8(d.$elm$),Ki.$flags$&=-2,xa.length=0}if(xs.experimentalScopedSlotChanges&&c.$flags$&2)for(const h of d.$elm$.childNodes)h["s-hn"]!==Zf&&!h["s-sh"]&&(n&&h["s-ih"]==null&&(h["s-ih"]=(a=h.hidden)!=null?a:!1),h.hidden=!0);f3=void 0},PG=(t,e)=>{},JC=(t,e)=>(t.$flags$|=16,PG(t,t.$ancestorComponent$),Ho(()=>BG(t,e))),BG=(t,e)=>{const n=t.$hostElement$,i=Cu("scheduleUpdate",t.$cmpMeta$.$tagName$),o=n;if(!o)throw new Error("Can't render component <".concat(n.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));let r;return e?r=ph(o,"componentWillLoad"):r=ph(o,"componentWillUpdate"),r=$5(r,()=>ph(o,"componentWillRender")),i(),$5(r,()=>jG(t,o,e))},$5=(t,e)=>MG(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),MG=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",jG=async(t,e,n)=>{const i=t.$hostElement$,o=Cu("update",t.$cmpMeta$.$tagName$);i["s-rc"],n&&DG(t);const r=Cu("render",t.$cmpMeta$.$tagName$);UG(t,e,i,n),r(),o(),VG(t)},A5=null,UG=(t,e,n,i)=>{try{A5=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(xs.hasRenderFn||xs.reflect)&&(xs.vdomRender||xs.reflect)&&(xs.hydrateServerSide||FG(t,e,i))}catch(l){Fm(l,t.$hostElement$)}return A5=null,null},VG=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,i=Cu("postUpdate",e),o=n;t.$ancestorComponent$,ph(o,"componentDidRender"),t.$flags$&64?(ph(o,"componentDidUpdate"),i()):(t.$flags$|=64,ph(o,"componentDidLoad"),i())},Gi=t=>{{const e=fc(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&JC(e,!1),n}},ph=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(i){Fm(i)}},HG=(t,e)=>fc(t).$instanceValues$.get(e),WG=(t,e,n,i)=>{const o=fc(t),r=t,s=o.$instanceValues$.get(e),a=o.$flags$,l=r;n=_G(n,i.$members$[e][0]);const c=Number.isNaN(s)&&Number.isNaN(n);if(n!==s&&!c){o.$instanceValues$.set(e,n);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](n,s,e)}catch(p){Fm(p,r)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,s,e)===!1)return;JC(o,!1)}}}},GG=(t,e,n)=>{var i,o;const r=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const s=Object.entries((i=e.$members$)!=null?i:{});s.map(([a,[l]])=>{(l&31||l&32)&&Object.defineProperty(r,a,{get(){return HG(this,a)},set(c){WG(this,a,c,e)},configurable:!0,enumerable:!0})});{const a=new Map;r.attributeChangedCallback=function(l,c,u){Ki.jmp(()=>{var d;const h=a.get(l);if(this.hasOwnProperty(h))u=this[h],delete this[h];else{if(r.hasOwnProperty(h)&&typeof this[h]=="number"&&this[h]==u)return;if(h==null){const p=fc(this),f=p==null?void 0:p.$flags$;if(f&&!(f&8)&&f&128&&u!==c){const b=this,g=(d=e.$watchers$)==null?void 0:d[l];g==null||g.forEach(x=>{b[x]!=null&&b[x].call(b,u,c,l)})}return}}this[h]=u===null&&typeof this[h]=="boolean"?!1:u})},t.observedAttributes=Array.from(new Set([...Object.keys((o=e.$watchers$)!=null?o:{}),...s.filter(([l,c])=>c[0]&15).map(([l,c])=>{var u;const d=c[1]||l;return a.set(d,l),c[0]&512&&((u=e.$attrsToReflect$)==null||u.push([l,d])),d})]))}}return t},qG=async(t,e,n,i)=>{let o;if(!(e.$flags$&32)){e.$flags$|=32,n.$lazyBundleId$;{o=t.constructor;const s=t.localName;customElements.whenDefined(s).then(()=>e.$flags$|=128)}if(o&&o.style){let s;typeof o.style=="string"?s=o.style:typeof o.style!="string"&&(e.$modeName$=TG(t),e.$modeName$&&(s=o.style[e.$modeName$]));const a=f8(n,e.$modeName$);if(!yx.has(a)){const l=Cu("registerStyles",n.$tagName$);NG(a,s,!!(n.$flags$&1)),l()}}}e.$ancestorComponent$,JC(e,!0)},N5=t=>{},KG=t=>{if(!(Ki.$flags$&1)){const e=fc(t),n=e.$cmpMeta$,i=Cu("connectedCallback",n.$tagName$);e.$flags$&1?(C8(t,e,n.$listeners$),e!=null&&e.$lazyInstance$?N5(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>N5(e.$lazyInstance$))):(e.$flags$|=1,n.$flags$&12&&XG(t),n.$members$&&Object.entries(n.$members$).map(([o,[r]])=>{if(r&31&&t.hasOwnProperty(o)){const s=t[o];delete t[o],t[o]=s}}),qG(t,e,n)),i()}},XG=t=>{const e=t["s-cr"]=ws.createComment("");e["s-cn"]=!0,Ul(t,e,t.firstChild)},YG=async t=>{if(!(Ki.$flags$&1)){const e=fc(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},Qe=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const i=t.prototype.connectedCallback,o=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){lG(this,n)},connectedCallback(){const r=fc(this);C8(this,r,n.$listeners$),KG(this),i&&i.call(this)},disconnectedCallback(){YG(this),o&&o.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error("Unable to re-use existing shadow root for ".concat(n.$tagName$,"! Mode is set to ").concat(this.shadowRoot.mode," but Stencil only supports open shadow roots."))}}),t.is=n.$tagName$,GG(t,n)},C8=(t,e,n,i)=>{n&&n.map(([o,r,s])=>{const a=JG(t,o),l=ZG(e,s),c=QG(o);Ki.ael(a,r,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Ki.rel(a,r,l,c))})},ZG=(t,e)=>n=>{var i;try{xs.lazyLoad||t.$hostElement$[e](n)}catch(o){Fm(o)}},JG=(t,e)=>e&4?ws:e&8?Pm:e&16?ws.body:t,QG=t=>uG?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class eq{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const i=this.m.get(e);return i!==void 0?i:n}getBoolean(e,n=!1){const i=this.m.get(e);return i===void 0?n:typeof i=="string"?i==="true":!!i}getNumber(e,n){const i=parseFloat(this.m.get(e));return isNaN(i)?n!==void 0?n:NaN:i}set(e,n){this.m.set(e,n)}}const rt=new eq,tq=t=>{try{const e=t.sessionStorage.getItem(T8);return e!==null?JSON.parse(e):{}}catch(e){return{}}},nq=(t,e)=>{try{t.sessionStorage.setItem(T8,JSON.stringify(e))}catch(n){return}},iq=t=>{const e={};return t.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,i])=>{try{return[decodeURIComponent(n),decodeURIComponent(i)]}catch(o){return["",""]}}).filter(([n])=>oq(n,O5)).map(([n,i])=>[n.slice(O5.length),i]).forEach(([n,i])=>{e[n]=i}),e},oq=(t,e)=>t.substr(0,e.length)===e,O5="ionic:",T8="ionic-persist-config";var pu;(function(t){t.OFF="OFF",t.ERROR="ERROR",t.WARN="WARN"})(pu||(pu={}));const hn=(t,...e)=>{const n=rt.get("logLevel",pu.WARN);if([pu.WARN].includes(n))return console.warn("[Ionic Warning]: ".concat(t),...e)},Qr=(t,...e)=>{const n=rt.get("logLevel",pu.ERROR);if([pu.ERROR,pu.WARN].includes(n))return console.error("[Ionic Error]: ".concat(t),...e)},rq=(t,...e)=>console.error("<".concat(t.tagName.toLowerCase(),"> must be used inside ").concat(e.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Gt=typeof window<"u"?window:void 0,hr=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let m2;const sq=t=>{if(m2===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;m2=!e&&n?"-webkit-":""}return m2},g2=(t,e,n)=>{const i=e.startsWith("animation")?sq(t):"";t.style.setProperty(i+e,n)},W0=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},Re=t=>{let e,n,i,o,r,s,a=[],l=[],c=[],u=!1,d,h={},p=[],f=[],m={},b=0,g=!1,x=!1,y,v,w,C=!0,S=!1,E=!0,I,N=!1;const B=t,D=[],P=[],_=[],L=[],z=[],V=[],q=[],U=[],X=[],G=[],W=[],le=typeof AnimationEffect=="function"||Gt!==void 0&&typeof Gt.AnimationEffect=="function",oe=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&le,ie=()=>W,we=xe=>(z.forEach(qe=>{qe.destroy(xe)}),$e(xe),L.length=0,z.length=0,a.length=0,st(),u=!1,E=!0,I),$e=xe=>{O(),xe&&me()},_e=()=>{g=!1,x=!1,E=!0,y=void 0,v=void 0,w=void 0,b=0,S=!1,C=!0,N=!1},Oe=()=>b!==0&&!N,We=(xe,qe)=>{const vt=qe.findIndex(kn=>kn.c===xe);vt>-1&&qe.splice(vt,1)},Ge=(xe,qe)=>(_.push({c:xe,o:qe}),I),ot=(xe,qe)=>((qe!=null&&qe.oneTimeCallback?P:D).push({c:xe,o:qe}),I),st=()=>(D.length=0,P.length=0,I),O=()=>{oe&&(W.forEach(xe=>{xe.cancel()}),W.length=0)},me=()=>{V.forEach(xe=>{xe!=null&&xe.parentNode&&xe.parentNode.removeChild(xe)}),V.length=0},he=xe=>(q.push(xe),I),Y=xe=>(U.push(xe),I),K=xe=>(X.push(xe),I),se=xe=>(G.push(xe),I),ye=xe=>(l=W0(l,xe),I),Ce=xe=>(c=W0(c,xe),I),de=(xe={})=>(h=xe,I),Ie=(xe=[])=>{for(const qe of xe)h[qe]="";return I},Fe=xe=>(p=W0(p,xe),I),Ne=xe=>(f=W0(f,xe),I),He=(xe={})=>(m=xe,I),mt=(xe=[])=>{for(const qe of xe)m[qe]="";return I},ct=()=>r!==void 0?r:d?d.getFill():"both",Vt=()=>y!==void 0?y:s!==void 0?s:d?d.getDirection():"normal",ho=()=>g?"linear":i!==void 0?i:d?d.getEasing():"linear",sn=()=>x?0:v!==void 0?v:n!==void 0?n:d?d.getDuration():0,$o=()=>o!==void 0?o:d?d.getIterations():1,Bt=()=>w!==void 0?w:e!==void 0?e:d?d.getDelay():0,Ao=()=>a,er=xe=>(s=xe,fo(!0),I),po=xe=>(r=xe,fo(!0),I),Ac=xe=>(e=xe,fo(!0),I),ol=xe=>(i=xe,fo(!0),I),pd=xe=>(!oe&&xe===0&&(xe=1),n=xe,fo(!0),I),fd=xe=>(o=xe,fo(!0),I),Nc=xe=>(d=xe,I),ri=xe=>{if(xe!=null)if(xe.nodeType===1)L.push(xe);else if(xe.length>=0)for(let qe=0;qe<xe.length;qe++)L.push(xe[qe]);else Qr("createAnimation - Invalid addElement value.");return I},an=xe=>{if(xe!=null)if(Array.isArray(xe))for(const qe of xe)qe.parent(I),z.push(qe);else xe.parent(I),z.push(xe);return I},x0=xe=>{const qe=a!==xe;return a=xe,qe&&kr(a),I},kr=xe=>{oe&&ie().forEach(qe=>{const vt=qe.effect;if(vt.setKeyframes)vt.setKeyframes(xe);else{const kn=new KeyframeEffect(vt.target,xe,vt.getTiming());qe.effect=kn}})},md=()=>{q.forEach(kn=>kn()),U.forEach(kn=>kn());const xe=l,qe=c,vt=h;L.forEach(kn=>{const Mi=kn.classList;xe.forEach(Sr=>Mi.add(Sr)),qe.forEach(Sr=>Mi.remove(Sr));for(const Sr in vt)vt.hasOwnProperty(Sr)&&g2(kn,Sr,vt[Sr])})},y0=()=>{X.forEach(Mi=>Mi()),G.forEach(Mi=>Mi());const xe=C?1:0,qe=p,vt=f,kn=m;L.forEach(Mi=>{const Sr=Mi.classList;qe.forEach(da=>Sr.add(da)),vt.forEach(da=>Sr.remove(da));for(const da in kn)kn.hasOwnProperty(da)&&g2(Mi,da,kn[da])}),v=void 0,y=void 0,w=void 0,D.forEach(Mi=>Mi.c(xe,I)),P.forEach(Mi=>Mi.c(xe,I)),P.length=0,E=!0,C&&(S=!0),C=!0},Oc=()=>{b!==0&&(b--,b===0&&(y0(),d&&d.animationFinish()))},v0=()=>{L.forEach(xe=>{const qe=xe.animate(a,{id:B,delay:Bt(),duration:sn(),easing:ho(),iterations:$o(),fill:ct(),direction:Vt()});qe.pause(),W.push(qe)}),W.length>0&&(W[0].onfinish=()=>{Oc()})},w0=()=>{md(),a.length>0&&oe&&v0(),u=!0},rl=xe=>{xe=Math.min(Math.max(xe,0),.9999),oe&&W.forEach(qe=>{qe.currentTime=qe.effect.getComputedTiming().delay+sn()*xe,qe.pause()})},Np=xe=>{W.forEach(qe=>{qe.effect.updateTiming({delay:Bt(),duration:sn(),easing:ho(),iterations:$o(),fill:ct(),direction:Vt()})}),xe!==void 0&&rl(xe)},fo=(xe=!1,qe=!0,vt)=>(xe&&z.forEach(kn=>{kn.update(xe,qe,vt)}),oe&&Np(vt),I),Tw=(xe=!1,qe)=>(z.forEach(vt=>{vt.progressStart(xe,qe)}),Op(),g=xe,u||w0(),fo(!1,!0,qe),I),Ew=xe=>(z.forEach(qe=>{qe.progressStep(xe)}),rl(xe),I),gd=(xe,qe,vt)=>(g=!1,z.forEach(kn=>{kn.progressEnd(xe,qe,vt)}),vt!==void 0&&(v=vt),S=!1,C=!0,xe===0?(y=Vt()==="reverse"?"normal":"reverse",y==="reverse"&&(C=!1),oe?(fo(),rl(1-qe)):(w=(1-qe)*sn()*-1,fo(!1,!1))):xe===1&&(oe?(fo(),rl(qe)):(w=qe*sn()*-1,fo(!1,!1))),xe!==void 0&&!d&&Dp(),I),Op=()=>{u&&(oe?W.forEach(xe=>{xe.pause()}):L.forEach(xe=>{g2(xe,"animation-play-state","paused")}),N=!0)},bd=()=>(z.forEach(xe=>{xe.pause()}),Op(),I),k0=()=>{Oc()},S0=()=>{W.forEach(xe=>{xe.play()}),(a.length===0||L.length===0)&&Oc()},xd=()=>{oe&&(rl(0),Np())},Dp=xe=>new Promise(qe=>{xe!=null&&xe.sync&&(x=!0,ot(()=>x=!1,{oneTimeCallback:!0})),u||w0(),S&&(xd(),S=!1),E&&(b=z.length+1,E=!1);const vt=()=>{We(kn,P),qe()},kn=()=>{We(vt,_),qe()};ot(kn,{oneTimeCallback:!0}),Ge(vt,{oneTimeCallback:!0}),z.forEach(Mi=>{Mi.play()}),oe?S0():k0(),N=!1}),C0=()=>{z.forEach(xe=>{xe.stop()}),u&&(O(),u=!1),_e(),_.forEach(xe=>xe.c(0,I)),_.length=0},T0=(xe,qe)=>{const vt=a[0];return vt!==void 0&&(vt.offset===void 0||vt.offset===0)?vt[xe]=qe:a=[{offset:0,[xe]:qe},...a],I};return I={parentAnimation:d,elements:L,childAnimations:z,id:B,animationFinish:Oc,from:T0,to:(xe,qe)=>{const vt=a[a.length-1];return vt!==void 0&&(vt.offset===void 0||vt.offset===1)?vt[xe]=qe:a=[...a,{offset:1,[xe]:qe}],I},fromTo:(xe,qe,vt)=>T0(xe,qe).to(xe,vt),parent:Nc,play:Dp,pause:bd,stop:C0,destroy:we,keyframes:x0,addAnimation:an,addElement:ri,update:fo,fill:po,direction:er,iterations:fd,duration:pd,easing:ol,delay:Ac,getWebAnimations:ie,getKeyframes:Ao,getFill:ct,getDirection:Vt,getDelay:Bt,getIterations:$o,getEasing:ho,getDuration:sn,afterAddRead:K,afterAddWrite:se,afterClearStyles:mt,afterStyles:He,afterRemoveClass:Ne,afterAddClass:Fe,beforeAddRead:he,beforeAddWrite:Y,beforeClearStyles:Ie,beforeStyles:de,beforeRemoveClass:Ce,beforeAddClass:ye,onFinish:ot,isRunning:Oe,progressStart:Tw,progressStep:Ew,progressEnd:gd}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Es=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):mi(()=>e(t))},Qf=t=>t.componentOnReady!==void 0,la=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},aq=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Os=(t,e)=>la(t,aq),QC=(t,e,n,i)=>t.addEventListener(e,n,i),E8=(t,e,n,i)=>t.removeEventListener(e,n,i),Bn=(t,e=t)=>t.shadowRoot||e,mi=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),lq=t=>!!t.shadowRoot&&!!t.attachShadow,Cx=t=>{if(t.focus(),t.classList.contains("ion-focusable")){const e=t.closest("ion-app");e&&e.setFocus([t])}},Bm=(t,e,n,i,o)=>{{let r=e.querySelector("input.aux-input");r||(r=e.ownerDocument.createElement("input"),r.type="hidden",r.classList.add("aux-input"),e.appendChild(r)),r.disabled=o,r.name=n,r.value=i||""}},xo=(t,e,n)=>Math.max(t,Math.min(e,n)),yi=(t,e)=>{if(!t){const n="ASSERT: "+e;Qr(n);debugger;throw new Error(n)}},d9e=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},D5=t=>{const e=document.dir==="rtl";switch(t){case"start":return e;case"end":return!e;default:throw new Error('"'.concat(t,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},F1=(t,e)=>{const n=t._original||t;return{_original:t,emit:cq(n.emit.bind(n),e)}},cq=(t,e=0)=>{let n;return(...i)=>{clearTimeout(n),n=setTimeout(t,e,...i)}},I8=(t,e)=>{if(t!=null||(t={}),e!=null||(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const i of n)if(!(i in e)||t[i]!==e[i])return!1;return!0},vl=t=>typeof t=="number"&&!isNaN(t)&&isFinite(t),uq="ionViewWillEnter",dq="ionViewDidEnter",_8="ionViewWillLeave",$8="ionViewDidLeave",b2="ionViewWillUnload",Hp=t=>{t.tabIndex=-1,t.focus()},G0=t=>t.offsetParent!==null,hq=()=>({saveViewFocus:n=>{if(rt.get("focusManagerPriority",!1)){const o=document.activeElement;o!==null&&(n!=null&&n.contains(o))&&o.setAttribute(R5,"true")}},setViewFocus:n=>{const i=rt.get("focusManagerPriority",!1);if(Array.isArray(i)&&!n.contains(document.activeElement)){const o=n.querySelector("[".concat(R5,"]"));if(o&&G0(o)){Hp(o);return}for(const r of i)switch(r){case"content":const s=n.querySelector('main, [role="main"]');if(s&&G0(s)){Hp(s);return}break;case"heading":const a=n.querySelector('h1, [role="heading"][aria-level="1"]');if(a&&G0(a)){Hp(a);return}break;case"banner":const l=n.querySelector('header, [role="banner"]');if(l&&G0(l)){Hp(l);return}break;default:hn("Unrecognized focus manager priority value ".concat(r));break}Hp(n)}}}),R5="ion-last-focus",pq=()=>ci(()=>import("./ios.transition-CYO5yC4R.js"),[]),fq=()=>ci(()=>import("./md.transition-Cvqoipz3.js"),[]),A8=hq(),N8=t=>new Promise((e,n)=>{Ho(()=>{mq(t),gq(t).then(i=>{i.animation&&i.animation.destroy(),L5(t),e(i)},i=>{L5(t),n(i)})})}),mq=t=>{const e=t.enteringEl,n=t.leavingEl;A8.saveViewFocus(n),kq(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),m3(e,!1),e.style.setProperty("pointer-events","none"),n&&(m3(n,!1),n.style.setProperty("pointer-events","none"))},gq=async t=>{const e=await bq(t);return e&&aG.isBrowser?xq(e,t):yq(t)},L5=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),A8.setViewFocus(e)},bq=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await pq()).iosTransitionAnimation:(await fq()).mdTransitionAnimation,xq=async(t,e)=>{await O8(e,!0);const n=t(e.baseEl,e);D8(e.enteringEl,e.leavingEl);const i=await wq(n,e);return e.progressCallback&&e.progressCallback(void 0),i&&R8(e.enteringEl,e.leavingEl),{hasCompleted:i,animation:n}},yq=async t=>{const e=t.enteringEl,n=t.leavingEl,i=rt.get("focusManagerPriority",!1);return await O8(t,i),D8(e,n),R8(e,n),{hasCompleted:!0}},O8=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([em(t.enteringEl),em(t.leavingEl)]),await vq(t.viewIsReady,t.enteringEl)},vq=async(t,e)=>{t&&await t(e)},wq=(t,e)=>{const n=e.progressCallback,i=new Promise(o=>{t.onFinish(r=>o(r===1))});return n?(t.progressStart(!0),n(t)):t.play(),i},D8=(t,e)=>{Ea(e,_8),Ea(t,uq)},R8=(t,e)=>{Ea(t,dq),Ea(e,$8)},Ea=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},L8=()=>new Promise(t=>mi(()=>mi(()=>t()))),em=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(i=>mi(i));return}await Promise.all(Array.from(e.children).map(em))}},m3=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},kq=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},h9e=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Tu=(t,e,n,i,o)=>Cq(t[1],e[1],n[1],i[1],o).map(r=>Sq(t[0],e[0],n[0],i[0],r)),Sq=(t,e,n,i,o)=>{const r=3*e*Math.pow(o-1,2),s=-3*n*o+3*n+i*o,a=t*Math.pow(o-1,3);return o*(r+o*s)-a},Cq=(t,e,n,i,o)=>(t-=o,e-=o,n-=o,i-=o,Eq(i-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(s=>s>=0&&s<=1)),Tq=(t,e,n)=>{const i=e*e-4*t*n;return i<0?[]:[(-e+Math.sqrt(i))/(2*t),(-e-Math.sqrt(i))/(2*t)]},Eq=(t,e,n,i)=>{if(t===0)return Tq(e,n,i);e/=t,n/=t,i/=t;const o=(3*n-e*e)/3,r=(2*e*e*e-9*e*n+27*i)/27;if(o===0)return[Math.pow(-r,1/3)];if(r===0)return[Math.sqrt(-o),-Math.sqrt(-o)];const s=Math.pow(r/2,2)+Math.pow(o/3,3);if(s===0)return[Math.pow(r/2,1/2)-e/3];if(s>0)return[Math.pow(-(r/2)+Math.sqrt(s),1/3)-Math.pow(r/2+Math.sqrt(s),1/3)-e/3];const a=Math.sqrt(Math.pow(-(o/3),3)),l=Math.acos(-(r/(2*Math.sqrt(Math.pow(-(o/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class Iq{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var n;return new _q(this,this.newID(),e.name,(n=e.priority)!==null&&n!==void 0?n:0,!!e.disableScroll)}createBlocker(e={}){return new $q(this,this.newID(),e.disable,!!e.disableScroll)}start(e,n,i){return this.canStart(e)?(this.requestedStart.set(n,i),!0):(this.requestedStart.delete(n),!1)}capture(e,n,i){if(!this.start(e,n,i))return!1;const o=this.requestedStart;let r=-1e4;if(o.forEach(s=>{r=Math.max(r,s)}),r===i){this.capturedId=n,o.clear();const s=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(s),!0}return o.delete(n),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,n){let i=this.disabledGestures.get(e);i===void 0&&(i=new Set,this.disabledGestures.set(e,i)),i.add(n)}enableGesture(e,n){const i=this.disabledGestures.get(e);i!==void 0&&i.delete(n)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(Tx)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(Tx)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const n=this.disabledGestures.get(e);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class _q{constructor(e,n,i,o,r){this.id=n,this.name=i,this.disableScroll=r,this.priority=o*1e6+n,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class $q{constructor(e,n,i,o){this.id=n,this.disable=i,this.disableScroll=o,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Tx="backdrop-no-scroll",e4=new Iq;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Rc=(t,e,n,i)=>{const o=Aq(t)?{capture:!1,passive:!!i.passive}:!1;let r,s;return t.__zone_symbol__addEventListener?(r="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(r="addEventListener",s="removeEventListener"),t[r](e,n,o),()=>{t[s](e,n,o)}},Aq=t=>{if(q0===void 0)try{const e=Object.defineProperty({},"passive",{get:()=>{q0=!0}});t.addEventListener("optsTest",()=>{},e)}catch(e){q0=!1}return!!q0};let q0;const Nq=2e3,Oq=(t,e,n,i,o)=>{let r,s,a,l,c,u,d,h=0;const p=C=>{h=Date.now()+Nq,e(C)&&(!s&&n&&(s=Rc(t,"touchmove",n,o)),a||(a=Rc(C.target,"touchend",m,o)),l||(l=Rc(C.target,"touchcancel",m,o)))},f=C=>{h>Date.now()||e(C)&&(!u&&n&&(u=Rc(z5(t),"mousemove",n,o)),d||(d=Rc(z5(t),"mouseup",b,o)))},m=C=>{g(),i&&i(C)},b=C=>{x(),i&&i(C)},g=()=>{s&&s(),a&&a(),l&&l(),s=a=l=void 0},x=()=>{u&&u(),d&&d(),u=d=void 0},y=()=>{g(),x()},v=(C=!0)=>{C?(r||(r=Rc(t,"touchstart",p,o)),c||(c=Rc(t,"mousedown",f,o))):(r&&r(),c&&c(),r=c=void 0,y())};return{enable:v,stop:y,destroy:()=>{v(!1),i=n=e=void 0}}},z5=t=>t instanceof Document?t:t.ownerDocument,Dq=(t,e,n)=>{const i=n*(Math.PI/180),o=t==="x",r=Math.cos(i),s=e*e;let a=0,l=0,c=!1,u=0;return{start(d,h){a=d,l=h,u=0,c=!0},detect(d,h){if(!c)return!1;const p=d-a,f=h-l,m=p*p+f*f;if(m<s)return!1;const b=Math.sqrt(m),g=(o?p:f)/b;return g>r?u=1:g<-r?u=-1:u=0,c=!1,!0},isGesture(){return u!==0},getDirection(){return u}}},Mm=t=>{let e=!1,n=!1,i=!0,o=!1;const r=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),s=r.canStart,a=r.onWillStart,l=r.onStart,c=r.onEnd,u=r.notCaptured,d=r.onMove,h=r.threshold,p=r.passive,f=r.blurOnStart,m={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},b=Dq(r.direction,r.threshold,r.maxAngle),g=e4.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),x=D=>{const P=F8(D);return n||!i||(z8(D,m),m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime=P,m.velocityX=m.velocityY=m.deltaX=m.deltaY=0,m.event=D,s&&s(m)===!1)||(g.release(),!g.start())?!1:(n=!0,h===0?w():(b.start(m.startX,m.startY),!0))},y=D=>{if(e){!o&&i&&(o=!0,x2(m,D),requestAnimationFrame(v));return}x2(m,D),b.detect(m.currentX,m.currentY)&&(!b.isGesture()||!w())&&B()},v=()=>{e&&(o=!1,d&&d(m))},w=()=>g.capture()?(e=!0,i=!1,m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime,a?a(m).then(S):S(),!0):!1,C=()=>{if(typeof document<"u"){const D=document.activeElement;D!=null&&D.blur&&D.blur()}},S=()=>{f&&C(),l&&l(m),i=!0},E=()=>{e=!1,n=!1,o=!1,i=!0,g.release()},I=D=>{const P=e,_=i;if(E(),!!_){if(x2(m,D),P){c&&c(m);return}u&&u(m)}},N=Oq(r.el,x,y,I,{passive:p}),B=()=>{E(),N.stop(),u&&u(m)};return{enable(D=!0){D||(e&&I(void 0),E()),N.enable(D)},destroy(){g.destroy(),N.destroy()}}},x2=(t,e)=>{if(!e)return;const n=t.currentX,i=t.currentY,o=t.currentTime;z8(e,t);const r=t.currentX,s=t.currentY,l=(t.currentTime=F8(e))-o;if(l>0&&l<100){const c=(r-n)/l,u=(s-i)/l;t.velocityX=c*.7+t.velocityX*.3,t.velocityY=u*.7+t.velocityY*.3}t.deltaX=r-t.startX,t.deltaY=s-t.startY,t.event=e},z8=(t,e)=>{let n=0,i=0;if(t){const o=t.changedTouches;if(o&&o.length>0){const r=o[0];n=r.clientX,i=r.clientY}else t.pageX!==void 0&&(n=t.pageX,i=t.pageY)}e.currentX=n,e.currentY=i},F8=t=>t.timeStamp||Date.now(),t4=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:e4,createGesture:Mm},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Rq=t=>P8(t),Ur=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),Rq(t).includes(e)),P8=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=Lq(t),e.forEach(n=>t.document.documentElement.classList.add("plt-".concat(n)))),e},Lq=t=>{const e=rt.get("platform");return Object.keys(F5).filter(n=>{const i=e==null?void 0:e[n];return typeof i=="function"?i(t):F5[n](t)})},zq=t=>P1(t)&&!M8(t),n4=t=>!!(Eu(t,/iPad/i)||Eu(t,/Macintosh/i)&&P1(t)),Fq=t=>Eu(t,/iPhone/i),Pq=t=>Eu(t,/iPhone|iPod/i)||n4(t),B8=t=>Eu(t,/android|sink/i),Bq=t=>B8(t)&&!Eu(t,/mobile/i),Mq=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),o=Math.max(e,n);return i>390&&i<520&&o>620&&o<800},jq=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),o=Math.max(e,n);return n4(t)||Bq(t)||i>460&&i<820&&o>780&&o<1400},P1=t=>Wq(t,"(any-pointer:coarse)"),Uq=t=>!P1(t),M8=t=>j8(t)||U8(t),j8=t=>!!(t.cordova||t.phonegap||t.PhoneGap),U8=t=>{const e=t.Capacitor;return!!(e!=null&&e.isNative||e!=null&&e.isNativePlatform&&e.isNativePlatform())},Vq=t=>Eu(t,/electron/i),Hq=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},Eu=(t,e)=>e.test(t.navigator.userAgent),Wq=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},F5={ipad:n4,iphone:Fq,ios:Pq,android:B8,phablet:Mq,tablet:jq,cordova:j8,capacitor:U8,electron:Vq,pwa:Hq,mobile:P1,mobileweb:zq,desktop:Uq,hybrid:M8};let Fd;const De=t=>t&&IG(t)||Fd,Gq=(t={})=>{if(typeof window>"u")return;const e=window.document,n=window,i=n.Ionic=n.Ionic||{},o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},tq(n)),{persistConfig:!1}),i.config),iq(n)),t);rt.reset(o),rt.getBoolean("persistConfig")&&nq(n,o),P8(n),i.config=rt,i.mode=Fd=rt.get("mode",e.documentElement.getAttribute("mode")||(Ur(n,"ios")?"ios":"md")),rt.set("mode",Fd),e.documentElement.setAttribute("mode",Fd),e.documentElement.classList.add(Fd),rt.getBoolean("_testing")&&rt.set("animated",!1);const r=a=>{var l;return(l=a.tagName)===null||l===void 0?void 0:l.startsWith("ION-")},s=a=>["ios","md"].includes(a);EG(a=>{for(;a;){const l=a.mode||a.getAttribute("mode");if(l){if(s(l))return l;r(a)&&hn('Invalid ionic mode: "'+l+'", expected: "ios" or "md"')}a=a.parentElement}return Fd})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const i4=t=>{try{if(t instanceof Yq)return t.value;if(!qq()||typeof t!="string"||t==="")return t;if(t.includes("onload="))return"";const e=document.createDocumentFragment(),n=document.createElement("div");e.appendChild(n),n.innerHTML=t,Xq.forEach(s=>{const a=e.querySelectorAll(s);for(let l=a.length-1;l>=0;l--){const c=a[l];c.parentNode?c.parentNode.removeChild(c):e.removeChild(c);const u=b3(c);for(let d=0;d<u.length;d++)g3(u[d])}});const i=b3(e);for(let s=0;s<i.length;s++)g3(i[s]);const o=document.createElement("div");o.appendChild(e);const r=o.querySelector("div");return r!==null?r.innerHTML:o.innerHTML}catch(e){return Qr("sanitizeDOMString",e),""}},g3=t=>{if(t.nodeType&&t.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(t.attributes instanceof NamedNodeMap)){t.remove();return}for(let n=t.attributes.length-1;n>=0;n--){const i=t.attributes.item(n),o=i.name;if(!Kq.includes(o.toLowerCase())){t.removeAttribute(o);continue}const r=i.value,s=t[o];(r!=null&&r.toLowerCase().includes("javascript:")||s!=null&&s.toLowerCase().includes("javascript:"))&&t.removeAttribute(o)}const e=b3(t);for(let n=0;n<e.length;n++)g3(e[n])},b3=t=>t.children!=null?t.children:t.childNodes,qq=()=>{var t;const e=window,n=(t=e==null?void 0:e.Ionic)===null||t===void 0?void 0:t.config;return n?n.get?n.get("sanitizerEnabled",!0):n.sanitizerEnabled===!0||n.sanitizerEnabled===void 0:!0},Kq=["class","id","href","src","name","slot"],Xq=["script","style","iframe","meta","link","object","embed"];class Yq{constructor(e){this.value=e}}const o4=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Nn=(t,e)=>e.closest(t)!==null,en=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(t)]:!0},e):e,Zq=t=>t!==void 0?(Array.isArray(t)?t:t.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],oo=t=>{const e={};return Zq(t).forEach(n=>e[n]=!0),e},Jq=/^[a-z][a-z0-9+\-.]*:/,B1=async(t,e,n,i)=>{if(t!=null&&t[0]!=="#"&&!Jq.test(t)){const o=document.querySelector("ion-router");if(o)return e!=null&&e.preventDefault(),o.push(t,n,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Oh=()=>rt.get("experimentalCloseWatcher",!1)&&Gt!==void 0&&"CloseWatcher"in Gt,Qq=()=>{document.addEventListener("backbutton",()=>{})},eK=()=>{const t=document;let e=!1;const n=()=>{if(e)return;let i=0,o=[];const r=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(l,c){o.push({priority:l,handler:c,id:i++})}}});t.dispatchEvent(r);const s=async l=>{try{if(l!=null&&l.handler){const c=l.handler(a);c!=null&&await c}}catch(c){Qr("[ion-app] - Exception in startHardwareBackButton:",c)}},a=()=>{if(o.length>0){let l={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};o.forEach(c=>{c.priority>=l.priority&&(l=c)}),e=!0,o=o.filter(c=>c.id!==l.id),s(l).then(()=>e=!1)}};a()};if(Oh()){let i;const o=()=>{i==null||i.destroy(),i=new Gt.CloseWatcher,i.onclose=()=>{n(),o()}};o()}else t.addEventListener("backbutton",n)},V8=100,H8=99,tK=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:H8,OVERLAY_BACK_BUTTON_PRIORITY:V8,blockHardwareBackButton:Qq,shouldUseCloseWatcher:Oh,startHardwareBackButton:eK},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const r4=t=>Re().duration(t?400:300),nK=t=>{let e,n;const i=t.width+8,o=Re(),r=Re();t.isEndSide?(e=i+"px",n="0px"):(e=-i+"px",n="0px"),o.addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(e,")"),"translateX(".concat(n,")"));const a=De(t)==="ios",l=a?.2:.25;return r.addElement(t.backdropEl).fromTo("opacity",.01,l),r4(a).addAnimation([o,r])},iK=t=>{let e,n;const i=De(t),o=t.width;t.isEndSide?(e=-o+"px",n=o+"px"):(e=o+"px",n=-o+"px");const r=Re().addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(n,")"),"translateX(0px)"),s=Re().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(e,")")),a=Re().addElement(t.backdropEl).fromTo("opacity",.01,.32);return r4(i==="ios").addAnimation([r,s,a])},oK=t=>{const e=De(t),n=t.width*(t.isEndSide?-1:1)+"px",i=Re().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(n,")"));return r4(e==="ios").addAnimation(i)},rK=()=>{const t=new Map,e=[],n=async S=>{const E=await c(S,!0);return E?E.open():!1},i=async S=>{const E=await(S!==void 0?c(S,!0):u());return E!==void 0?E.close():!1},o=async S=>{const E=await c(S,!0);return E?E.toggle():!1},r=async(S,E)=>{const I=await c(E);return I&&(I.disabled=!S),I},s=async(S,E)=>{const I=await c(E);return I&&(I.swipeGesture=S),I},a=async S=>{if(S!=null){const E=await c(S);return E!==void 0&&E.isOpen()}else return await u()!==void 0},l=async S=>{const E=await c(S);return E?!E.disabled:!1},c=async(S,E=!1)=>{if(await C(),S==="start"||S==="end"){const N=e.filter(D=>D.side===S&&!D.disabled);if(N.length>=1)return N.length>1&&E&&hn('menuController queried for a menu on the "'.concat(S,'" side, but ').concat(N.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),N.map(D=>D.el)),N[0].el;const B=e.filter(D=>D.side===S);if(B.length>=1)return B.length>1&&E&&hn('menuController queried for a menu on the "'.concat(S,'" side, but ').concat(B.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),B.map(D=>D.el)),B[0].el}else if(S!=null)return w(N=>N.menuId===S);const I=w(N=>!N.disabled);return I||(e.length>0?e[0].el:void 0)},u=async()=>(await C(),x()),d=async()=>(await C(),y()),h=async()=>(await C(),v()),p=(S,E)=>{t.set(S,E)},f=S=>{e.indexOf(S)<0&&e.push(S)},m=S=>{const E=e.indexOf(S);E>-1&&e.splice(E,1)},b=async(S,E,I,N)=>{if(v())return!1;if(E){const B=await u();B&&S.el!==B&&await B.setOpen(!1,!1)}return S._setOpen(E,I,N)},g=(S,E)=>{const I=t.get(S);if(!I)throw new Error("animation not registered");return I(E)},x=()=>w(S=>S._isOpen),y=()=>e.map(S=>S.el),v=()=>e.some(S=>S.isAnimating),w=S=>{const E=e.find(S);if(E!==void 0)return E.el},C=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(S=>new Promise(E=>Es(S,E))));return p("reveal",oK),p("push",iK),p("overlay",nK),hr==null||hr.addEventListener("ionBackButton",S=>{const E=x();E&&S.detail.register(H8,()=>E.close())}),{registerAnimation:p,get:c,getMenus:d,getOpen:u,isEnabled:l,swipeGesture:s,isAnimating:h,isOpen:a,enable:r,toggle:o,close:i,open:n,_getOpenSync:x,_createAnimation:g,_register:f,_unregister:m,_setOpen:b}},Il=rK();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jm=async(t,e,n,i,o,r)=>{var s;if(t)return t.attachViewToDom(e,n,o,i);if(!r&&typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(s=e.ownerDocument)===null||s===void 0?void 0:s.createElement(n):n;return i&&i.forEach(l=>a.classList.add(l)),o&&Object.assign(a,o),e.appendChild(a),await new Promise(l=>Es(a,l)),a},s4=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()},a4=()=>{let t,e;return{attachViewToDom:async(o,r,s={},a=[])=>{var l,c;t=o;let u;if(r){const h=typeof r=="string"?(l=t.ownerDocument)===null||l===void 0?void 0:l.createElement(r):r;a.forEach(p=>h.classList.add(p)),Object.assign(h,s),t.appendChild(h),u=h,await new Promise(p=>Es(h,p))}else if(t.children.length>0&&(t.tagName==="ION-MODAL"||t.tagName==="ION-POPOVER")&&!(u=t.children[0]).classList.contains("ion-delegate-host")){const p=(c=t.ownerDocument)===null||c===void 0?void 0:c.createElement("div");p.classList.add("ion-delegate-host"),a.forEach(f=>p.classList.add(f)),p.append(...t.children),t.appendChild(p),u=p}const d=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),t.parentNode.insertBefore(e,t),d.appendChild(t),u!=null?u:t},removeViewFromDom:()=>(t&&e&&(e.parentNode.insertBefore(t,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Um='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ex=(t,e)=>{const n=t.querySelector(Um);W8(n,e!=null?e:t)},x3=(t,e)=>{const n=Array.from(t.querySelectorAll(Um)),i=n.length>0?n[n.length-1]:null;W8(i,e!=null?e:t)},W8=(t,e)=>{let n=t;const i=t==null?void 0:t.shadowRoot;if(i&&(n=i.querySelector(Um)||t),n){const o=n.closest("ion-radio-group");o?o.setFocus():Cx(n)}else e.focus()};let y3=0,sK=0;const Ix=new WeakMap,Vm=t=>({create(e){return hK(t,e)},dismiss(e,n,i){return gK(document,e,n,t,i)},async getTop(){return Dh(document,t)}}),aK=Vm("ion-alert"),lK=Vm("ion-action-sheet"),cK=Vm("ion-modal"),uK=Vm("ion-popover"),dK=Vm("ion-toast"),op=t=>{typeof document<"u"&&mK(document);const e=y3++;t.overlayIndex=e},rp=t=>(t.hasAttribute("id")||(t.id="ion-overlay-".concat(++sK)),t.id),hK=(t,e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(t).then(()=>{const n=document.createElement(t);return n.classList.add("overlay-hidden"),Object.assign(n,Object.assign(Object.assign({},e),{hasController:!0})),q8(document).appendChild(n),new Promise(i=>Es(n,i))}):Promise.resolve(),pK=t=>t.classList.contains("overlay-hidden"),P5=(t,e)=>{let n=t;const i=t==null?void 0:t.shadowRoot;i&&(n=i.querySelector(Um)||t),n?Cx(n):e.focus()},fK=(t,e)=>{const n=Dh(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),i=t.target;if(!n||!i||n.classList.contains(tm))return;const o=()=>{if(n===i)n.lastFocus=void 0;else if(i.tagName==="ION-TOAST")P5(n.lastFocus,n);else{const s=Bn(n);if(!s.contains(i))return;const a=s.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(i)||i===s.querySelector("ion-backdrop"))n.lastFocus=i;else{const l=n.lastFocus;Ex(a,n),l===e.activeElement&&x3(a,n),n.lastFocus=e.activeElement}}},r=()=>{if(n.contains(i))n.lastFocus=i;else if(i.tagName==="ION-TOAST")P5(n.lastFocus,n);else{const s=n.lastFocus;Ex(n),s===e.activeElement&&x3(n),n.lastFocus=e.activeElement}};n.shadowRoot?r():o()},mK=t=>{y3===0&&(y3=1,t.addEventListener("focus",e=>{fK(e,t)},!0),t.addEventListener("ionBackButton",e=>{const n=Dh(t);n!=null&&n.backdropDismiss&&e.detail.register(V8,()=>{n.dismiss(void 0,na)})}),Oh()||t.addEventListener("keydown",e=>{if(e.key==="Escape"){const n=Dh(t);n!=null&&n.backdropDismiss&&n.dismiss(void 0,na)}}))},gK=(t,e,n,i,o)=>{const r=Dh(t,i,o);return r?r.dismiss(e,n):Promise.reject("overlay does not exist")},bK=(t,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(n=>n.overlayIndex>0)),M1=(t,e)=>bK(t,e).filter(n=>!pK(n)),Dh=(t,e,n)=>{const i=M1(t,e);return n===void 0?i[i.length-1]:i.find(o=>o.id===n)},G8=(t=!1)=>{const n=q8(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},sp=async(t,e,n,i,o)=>{var r,s;if(t.presented)return;t.el.tagName!=="ION-TOAST"&&(G8(!0),document.body.classList.add(Tx)),wK(t.el),Y8(t.el),t.presented=!0,t.willPresent.emit(),(r=t.willPresentShorthand)===null||r===void 0||r.emit();const a=De(t),l=t.enterAnimation?t.enterAnimation:rt.get(e,a==="ios"?n:i);await K8(t,l,t.el,o)&&(t.didPresent.emit(),(s=t.didPresentShorthand)===null||s===void 0||s.emit()),t.el.tagName!=="ION-TOAST"&&xK(t.el),t.keyboardClose&&(document.activeElement===null||!t.el.contains(document.activeElement))&&t.el.focus(),t.el.removeAttribute("aria-hidden")},xK=async t=>{let e=document.activeElement;if(!e)return;const n=e==null?void 0:e.shadowRoot;n&&(e=n.querySelector(Um)||e),await t.onDidDismiss(),(document.activeElement===null||document.activeElement===document.body)&&e.focus()},ap=async(t,e,n,i,o,r,s)=>{var a,l;if(!t.presented)return!1;const u=(hr!==void 0?M1(hr):[]).filter(h=>h.tagName!=="ION-TOAST");u.length===1&&u[0].id===t.el.id&&(G8(!1),document.body.classList.remove(Tx)),t.presented=!1;try{Y8(t.el),t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:n}),(a=t.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:n});const h=De(t),p=t.leaveAnimation?t.leaveAnimation:rt.get(i,h==="ios"?o:r);n!==La&&await K8(t,p,t.el,s),t.didDismiss.emit({data:e,role:n}),(l=t.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:n}),(Ix.get(t)||[]).forEach(m=>m.destroy()),Ix.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),t.el.lastFocus!==void 0&&(t.el.lastFocus=void 0)}catch(h){Qr("[".concat(t.el.tagName.toLowerCase(),"] - "),h)}return t.el.remove(),kK(),!0},q8=t=>t.querySelector("ion-app")||t.body,K8=async(t,e,n,i)=>{n.classList.remove("overlay-hidden");const o=t.el,r=e(o,i);(!t.animated||!rt.getBoolean("animated",!0))&&r.duration(0),t.keyboardClose&&r.beforeAddWrite(()=>{const a=n.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});const s=Ix.get(t)||[];return Ix.set(t,[...s,r]),await r.play(),!0},es=(t,e)=>{let n;const i=new Promise(o=>n=o);return yK(t,e,o=>{n(o.detail)}),i},yK=(t,e,n)=>{const i=o=>{E8(t,e,i),n(o)};QC(t,e,i)},Iu=t=>t==="cancel"||t===na,vK=t=>t(),fu=(t,e)=>{if(typeof t=="function")return rt.get("_zoneGate",vK)(()=>{try{return t(e)}catch(i){throw i}})},na="backdrop",La="gesture",X8=39,j1=t=>{let e=!1,n;const i=a4(),o=(a=!1)=>{if(n&&!a)return{delegate:n,inline:e};const{el:l,hasController:c,delegate:u}=t;return e=l.parentNode!==null&&!c,n=e?u||i:u,{inline:e,delegate:n}};return{attachViewToDom:async a=>{const{delegate:l}=o(!0);if(l)return await l.attachViewToDom(t.el,a);const{hasController:c}=t;if(c&&a!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:a}=o();a&&t.el!==void 0&&a.removeViewFromDom(t.el.parentElement,t.el)}}},Hm=()=>{let t;const e=()=>{t&&(t(),t=void 0)};return{addClickListener:(i,o)=>{e();const r=o!==void 0?document.getElementById(o):null;if(!r){hn("[".concat(i.tagName.toLowerCase(),'] - A trigger element with the ID "').concat(o,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.'),i);return}t=((a,l)=>{const c=()=>{l.present()};return a.addEventListener("click",c),()=>{a.removeEventListener("click",c)}})(r,i)},removeClickListener:e}},Y8=t=>{hr!==void 0&&Ur("android")&&t.setAttribute("aria-hidden","true")},wK=t=>{var e;if(hr===void 0)return;const n=M1(hr);for(let i=n.length-1;i>=0;i--){const o=n[i],r=(e=n[i+1])!==null&&e!==void 0?e:t;(r.hasAttribute("aria-hidden")||r.tagName!=="ION-TOAST")&&o.setAttribute("aria-hidden","true")}},kK=()=>{if(hr===void 0)return;const t=M1(hr);for(let e=t.length-1;e>=0;e--){const n=t[e];if(n.removeAttribute("aria-hidden"),n.tagName!=="ION-TOAST")break}},tm="ion-disable-focus-trap";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Z8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",SK="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>",CK="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",TK="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",EK="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M136 208l120-104 120 104M136 304l120 104 120-104' stroke-width='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none'/></svg>",B5="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",J8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",Q8="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",IK="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",_K="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='64'/><path d='M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 00-.1-34.76zM256 352a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",$K="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 448a15.92 15.92 0 01-11.31-4.69l-352-352a16 16 0 0122.62-22.62l352 352A16 16 0 01432 448zM248 315.85l-51.79-51.79a2 2 0 00-3.39 1.69 64.11 64.11 0 0053.49 53.49 2 2 0 001.69-3.39zM264 196.15L315.87 248a2 2 0 003.4-1.69 64.13 64.13 0 00-53.55-53.55 2 2 0 00-1.72 3.39z'/><path d='M491 273.36a32.2 32.2 0 00-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.54 226.54 0 00-71.82 11.79 4 4 0 00-1.56 6.63l47.24 47.24a4 4 0 003.82 1.05 96 96 0 01116 116 4 4 0 001.05 3.81l67.95 68a4 4 0 005.4.24 343.81 343.81 0 0067.24-77.4zM256 352a96 96 0 01-93.3-118.63 4 4 0 00-1.05-3.81l-66.84-66.87a4 4 0 00-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.22 238.22 0 0072.64-11.55 4 4 0 001.61-6.64l-47.47-47.46a4 4 0 00-3.81-1.05A96 96 0 01256 352z'/></svg>",AK="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",NK="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",M5="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",OK="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",DK="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let y2;const RK=()=>{if(typeof window>"u")return new Map;if(!y2){const t=window;t.Ionicons=t.Ionicons||{},y2=t.Ionicons.map=t.Ionicons.map||new Map}return y2},LK=t=>{let e=v2(t.src);return e||(e=e7(t.name,t.icon,t.mode,t.ios,t.md),e?zK(e,t):t.icon&&(e=v2(t.icon),e||(e=v2(t.icon[t.mode]),e))?e:null)},zK=(t,e)=>{const n=RK().get(t);if(n)return n;try{return h8("svg/".concat(t,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},e7=(t,e,n,i,o)=>(n=(n&&K0(n))==="ios"?"ios":"md",i&&n==="ios"?t=K0(i):o&&n==="md"?t=K0(o):(!t&&e&&!t7(e)&&(t=e),_x(t)&&(t=K0(t))),!_x(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),v2=t=>_x(t)&&(t=t.trim(),t7(t))?t:null,t7=t=>t.length>0&&/(\/|\.)/.test(t),_x=t=>typeof t=="string",K0=t=>t.toLowerCase(),FK=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},PK=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",BK=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),n7(n))return e.innerHTML}return""},n7=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(_x(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!n7(t.childNodes[e]))return!1}return!0},MK=t=>t.startsWith("data:image/svg+xml"),jK=t=>t.indexOf(";utf8,")!==-1,Qc=new Map,j5=new Map;let w2;const UK=(t,e)=>{let n=j5.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(MK(t)&&jK(t)){w2||(w2=new DOMParser);const o=w2.parseFromString(t,"text/html").querySelector("svg");return o&&Qc.set(t,o.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(o=>{o&&e!==!1&&(o=BK(o)),Qc.set(t,o||"")});Qc.set(t,"")}),j5.set(t,n);else return Qc.set(t,""),Promise.resolve();return n},VK=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",HK=VK,WK=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=GK(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=FK(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const o=this.io=new window.IntersectionObserver(r=>{r[0].isIntersecting&&(o.disconnect(),this.io=void 0,i())},{rootMargin:n});o.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=LK(this);e&&(Qc.has(e)?this.svgContent=Qc.get(e):UK(e,this.sanitize).then(()=>this.svgContent=Qc.get(e)),this.didLoadIcon=!0)}this.iconName=e7(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:i,el:o}=this,r=this.mode||"md",s=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||s;return F(tt,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},qK(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&PK(o)})},i),this.svgContent?F("div",{class:"icon-inner",innerHTML:this.svgContent}):F("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return HK}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),GK=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",qK=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function os(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,WK);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const KK=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:48px;height:48px}",XK=KK,YK=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:64px;height:64px}",ZK=YK,JK=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return F(tt,{key:"998217066084f966bf5d356fed85bcbd451f675a",class:De(this)},F("slot",{key:"1a6f7c9d4dc6a875f86b5b3cda6d59cb39587f22"}))}static get style(){return{ios:XK,md:ZK}}},[33,"ion-avatar"]);function QK(){if(typeof customElements>"u")return;["ion-avatar"].forEach(e=>{switch(e){case"ion-avatar":customElements.get(e)||customElements.define(e,JK);break}})}const eX=QK;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const tX=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",nX=tX,iX=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",oX=iX,rX=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=ke(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=De(this);return F(tt,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:nX,md:oX}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function Yu(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,rX);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sX=":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px;font-size:max(13px, 0.8125rem)}",aX=sX,lX=":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}",cX=lX,uX=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=De(this);return F(tt,{key:"1a2d39c5deec771a2f2196447627b62a7d4c8389",class:en(this.color,{[e]:!0})},F("slot",{key:"fc1b6587f1ed24715748eb6785e7fb7a57cdd5cd"}))}static get style(){return{ios:aX,md:cX}}},[33,"ion-badge",{color:[513]}]);function dX(){if(typeof customElements>"u")return;["ion-badge"].forEach(e=>{switch(e){case"ion-badge":customElements.get(e)||customElements.define(e,uX);break}})}const hX=dX;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pX=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",fX=pX,mX=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",gX=mX,bX=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=De(this);return F(tt,{key:"58c1fc5eb867d0731c63549b1ccb3ec3bbbe6e1b",class:{[e]:!0,"buttons-collapse":this.collapse}},F("slot",{key:"0c8f95b9840c8fa0c4e50be84c5159620a3eb5c8"}))}static get style(){return{ios:fX,md:gX}}},[38,"ion-buttons",{collapse:[4]}]);function l4(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,bX);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xX=l4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yX="ion-card-content{display:block;position:relative}.card-content-ios{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:20px;font-size:1rem;line-height:1.4}.card-content-ios h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-ios h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-ios h3,.card-content-ios h4,.card-content-ios h5,.card-content-ios h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-ios p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem}ion-card-header+.card-content-ios{padding-top:0}",vX=yX,wX="ion-card-content{display:block;position:relative}.card-content-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:13px;padding-bottom:13px;font-size:0.875rem;line-height:1.5}.card-content-md h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-md h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-md h3,.card-content-md h4,.card-content-md h5,.card-content-md h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-md p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:1.5}ion-card-header+.card-content-md{padding-top:0}",kX=wX,SX=Qe(class extends Je{constructor(){super(),this.__registerHost()}render(){const e=De(this);return F(tt,{key:"d98e4d1fc6ad3237549f9bc17e4c67ec5059b1b3",class:{[e]:!0,["card-content-".concat(e)]:!0}})}static get style(){return{ios:vX,md:kX}}},[32,"ion-card-content"]);function CX(){if(typeof customElements>"u")return;["ion-card-content"].forEach(e=>{switch(e){case"ion-card-content":customElements.get(e)||customElements.define(e,SX);break}})}const TX=CX;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const EX=":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:16px;-ms-flex-direction:column-reverse;flex-direction:column-reverse}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.card-header-translucent){background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(30px);backdrop-filter:saturate(180%) blur(30px)}}",IX=EX,_X=":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:16px;padding-bottom:16px}::slotted(ion-card-title:not(:first-child)),::slotted(ion-card-subtitle:not(:first-child)){margin-top:8px}",$X=_X,AX=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.translucent=!1}render(){const e=De(this);return F(tt,{key:"64246b81931203a64d553c788cd736f41e23f37b",class:en(this.color,{"card-header-translucent":this.translucent,"ion-inherit-color":!0,[e]:!0})},F("slot",{key:"af2da2dfe266889afeb57fac25c6a730558dbba4"}))}static get style(){return{ios:IX,md:$X}}},[33,"ion-card-header",{color:[513],translucent:[4]}]);function NX(){if(typeof customElements>"u")return;["ion-card-header"].forEach(e=>{switch(e){case"ion-card-header":customElements.get(e)||customElements.define(e,AX);break}})}const OX=NX;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const DX=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));margin-left:0;margin-right:0;margin-top:0;margin-bottom:4px;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.75rem;font-weight:700;letter-spacing:0.4px;text-transform:uppercase}",RX=DX,LX=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.875rem;font-weight:500}",zX=LX,FX=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=De(this);return F(tt,{key:"84d820a19d9074f9c8bc61ccba1ca40062a60b73",role:"heading","aria-level":"3",class:en(this.color,{"ion-inherit-color":!0,[e]:!0})},F("slot",{key:"e4d07d395a1f4469a90847636083101b32b776a1"}))}static get style(){return{ios:RX,md:zX}}},[33,"ion-card-subtitle",{color:[513]}]);function PX(){if(typeof customElements>"u")return;["ion-card-subtitle"].forEach(e=>{switch(e){case"ion-card-subtitle":customElements.get(e)||customElements.define(e,FX);break}})}const BX=PX;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const MX=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-text-color, #000);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.75rem;font-weight:700;line-height:1.2}",jX=MX,UX=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;line-height:1.2}",VX=UX,HX=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=De(this);return F(tt,{key:"fca001a86396e83718d5211cd71912fdf40dea2f",role:"heading","aria-level":"2",class:en(this.color,{"ion-inherit-color":!0,[e]:!0})},F("slot",{key:"2ba416aed488b2ff462fa75fb3b70373a6dd7da6"}))}static get style(){return{ios:jX,md:VX}}},[33,"ion-card-title",{color:[513]}]);function WX(){if(typeof customElements>"u")return;["ion-card-title"].forEach(e=>{switch(e){case"ion-card-title":customElements.get(e)||customElements.define(e,HX);break}})}const GX=WX;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qX=":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}.checkbox-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.checkbox-label-placement-stacked) .checkbox-bottom{font-size:1rem}.checkbox-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.checkbox-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .checkbox-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .checkbox-bottom .helper-text{display:none}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:50%;--border-width:0.125rem;--border-style:solid;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.23);--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--size:min(1.375rem, 55.836px);--checkmark-width:1.5px}:host(.checkbox-disabled){opacity:0.3}",KX=qX,XX=":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}.checkbox-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.checkbox-label-placement-stacked) .checkbox-bottom{font-size:1rem}.checkbox-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.checkbox-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .checkbox-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .checkbox-bottom .helper-text{display:none}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:calc(var(--size) * .125);--border-width:2px;--border-style:solid;--border-color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--checkmark-width:3;--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--transition:background 180ms cubic-bezier(0.4, 0, 0.2, 1);--size:18px}.checkbox-icon path{stroke-dasharray:30;stroke-dashoffset:30}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{stroke-dashoffset:0;-webkit-transition:stroke-dashoffset 90ms linear 90ms;transition:stroke-dashoffset 90ms linear 90ms}:host(.checkbox-disabled) .label-text-wrapper{opacity:0.38}:host(.checkbox-disabled) .native-wrapper{opacity:0.63}",YX=XX,ZX=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ke(this,"ionChange",7),this.ionFocus=ke(this,"ionFocus",7),this.ionBlur=ke(this,"ionBlur",7),this.inputId="ion-cb-".concat(JX++),this.inputLabelId="".concat(this.inputId,"-lbl"),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.setChecked=e=>{const n=this.checked=e;this.ionChange.emit({checked:n,value:this.value})},this.toggleChecked=e=>{e.preventDefault(),this.setFocus(),this.setChecked(!this.checked),this.indeterminate=!1},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.onKeyDown=e=>{e.key===" "&&(e.preventDefault(),this.disabled||this.toggleChecked(e))},this.onClick=e=>{this.disabled||this.toggleChecked(e)},this.color=void 0,this.name=this.inputId,this.checked=!1,this.indeterminate=!1,this.disabled=!1,this.errorText=void 0,this.helperText=void 0,this.value="on",this.labelPlacement="start",this.justify=void 0,this.alignment=void 0,this.required=!1}componentWillLoad(){this.inheritedAttributes=Object.assign({},Os(this.el))}async setFocus(){this.focusEl&&this.focusEl.focus()}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:o,errorTextId:r}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return r;if(n)return o}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:o}=this;if(e||n)return F("div",{class:"checkbox-bottom"},F("div",{id:i,class:"helper-text",part:"supporting-text helper-text"},e),F("div",{id:o,class:"error-text",part:"supporting-text error-text"},n))}render(){const{color:e,checked:n,disabled:i,el:o,getSVGPath:r,indeterminate:s,inheritedAttributes:a,inputId:l,justify:c,labelPlacement:u,name:d,value:h,alignment:p,required:f}=this,m=De(this),b=r(m,s),g=o.textContent!=="";return Bm(!0,o,d,n?h:"",i),F(tt,{key:"90bb17a4fae17088524555968a002327400807cf",role:"checkbox","aria-checked":s?"mixed":"".concat(n),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,"aria-labelledby":g?this.inputLabelId:null,"aria-label":a["aria-label"]||null,"aria-disabled":i?"true":null,tabindex:i?void 0:0,onKeyDown:this.onKeyDown,class:en(e,{[m]:!0,"in-item":Nn("ion-item",o),"checkbox-checked":n,"checkbox-disabled":i,"checkbox-indeterminate":s,interactive:!0,["checkbox-justify-".concat(c)]:c!==void 0,["checkbox-alignment-".concat(p)]:p!==void 0,["checkbox-label-placement-".concat(u)]:!0}),onClick:this.onClick},F("label",{key:"58b5762aa358dff81910874631e06620a2ae1561",class:"checkbox-wrapper",htmlFor:l},F("input",Object.assign({key:"6abe299d690c345d36d6fd76ab113fdccfbbac52",type:"checkbox",checked:n?!0:void 0,disabled:i,id:l,onChange:this.toggleChecked,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:x=>this.focusEl=x,required:f},a)),F("div",{key:"2654168e45ccfdbcfe13af8c97e0e21d61ba0150",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!g},part:"label",id:this.inputLabelId},F("slot",{key:"a91f3f67d9ddd6b616e48799aba11cae3564d1ab"}),this.renderHintText()),F("div",{key:"d5a9170b084d09df6b02f416e744085b5bcf0dde",class:"native-wrapper"},F("svg",{key:"b1968ce4aa9d652a9f2bdc427ea3a65e6c04df51",class:"checkbox-icon",viewBox:"0 0 24 24",part:"container"},b))))}getSVGPath(e,n){let i=n?F("path",{d:"M6 12L18 12",part:"mark"}):F("path",{d:"M5.9,12.5l3.8,3.8l8.8-8.8",part:"mark"});return e==="md"&&(i=n?F("path",{d:"M2 12H22",part:"mark"}):F("path",{d:"M1.73,12.91 8.1,19.28 22.79,4.59",part:"mark"})),i}get el(){return this}static get style(){return{ios:KX,md:YX}}},[33,"ion-checkbox",{color:[513],name:[1],checked:[1028],indeterminate:[1028],disabled:[4],errorText:[1,"error-text"],helperText:[1,"helper-text"],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],required:[4],setFocus:[64]}]);let JX=0;function c4(){if(typeof customElements>"u")return;["ion-checkbox"].forEach(e=>{switch(e){case"ion-checkbox":customElements.get(e)||customElements.define(e,ZX);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const QX=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",eY=QX,tY=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(i=>{Su(()=>{const o=this.el.getBoundingClientRect(),r=o.width,s=o.height,a=Math.sqrt(r*r+s*s),l=Math.max(s,r),c=this.unbounded?l:a+iY,u=Math.floor(l*oY),d=c/u;let h=e-o.left,p=n-o.top;this.unbounded&&(h=r*.5,p=s*.5);const f=h-u*.5,m=p-u*.5,b=r*.5-h,g=s*.5-p;Ho(()=>{const x=document.createElement("div");x.classList.add("ripple-effect");const y=x.style;y.top=m+"px",y.left=f+"px",y.width=y.height=u+"px",y.setProperty("--final-scale","".concat(d)),y.setProperty("--translate-end","".concat(b,"px, ").concat(g,"px")),(this.el.shadowRoot||this.el).appendChild(x),setTimeout(()=>{i(()=>{nY(x)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=De(this);return F(tt,{key:"40c7f73e7f5f67e29f83e1236a61c6e1c9943c42",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return eY}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),nY=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},iY=10,oY=.5;function rs(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,tY);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rY={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},sY=t=>{if(t===void 0||t==="")return!0;if(window.matchMedia){const e=rY[t];return window.matchMedia(e).matches}return!1},aY=":host{-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}",lY=aY,X0=typeof window<"u"?window:void 0,U5=X0&&!!(X0.CSS&&X0.CSS.supports&&X0.CSS.supports("--a: 0")),cY=["","xs","sm","md","lg","xl"],uY=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.offset=void 0,this.offsetXs=void 0,this.offsetSm=void 0,this.offsetMd=void 0,this.offsetLg=void 0,this.offsetXl=void 0,this.pull=void 0,this.pullXs=void 0,this.pullSm=void 0,this.pullMd=void 0,this.pullLg=void 0,this.pullXl=void 0,this.push=void 0,this.pushXs=void 0,this.pushSm=void 0,this.pushMd=void 0,this.pushLg=void 0,this.pushXl=void 0,this.size=void 0,this.sizeXs=void 0,this.sizeSm=void 0,this.sizeMd=void 0,this.sizeLg=void 0,this.sizeXl=void 0}onResize(){Gi(this)}getColumns(e){let n;for(const i of cY){const o=sY(i),r=this[e+i.charAt(0).toUpperCase()+i.slice(1)];o&&r!==void 0&&(n=r)}return n}calculateSize(){const e=this.getColumns("size");if(!e||e==="")return;const n=e==="auto"?"auto":U5?"calc(calc(".concat(e," / var(--ion-grid-columns, 12)) * 100%)"):e/12*100+"%";return{flex:"0 0 ".concat(n),width:"".concat(n),"max-width":"".concat(n)}}calculatePosition(e,n){const i=this.getColumns(e);if(!i)return;const o=U5?"calc(calc(".concat(i," / var(--ion-grid-columns, 12)) * 100%)"):i>0&&i<12?i/12*100+"%":"auto";return{[n]:o}}calculateOffset(e){return this.calculatePosition("offset",e?"margin-right":"margin-left")}calculatePull(e){return this.calculatePosition("pull",e?"left":"right")}calculatePush(e){return this.calculatePosition("push",e?"right":"left")}render(){const e=document.dir==="rtl",n=De(this);return F(tt,{key:"32ed75d81dd09d9bc8999f6d42e5b3cb99c84d91",class:{[n]:!0},style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(e)),this.calculatePull(e)),this.calculatePush(e)),this.calculateSize())},F("slot",{key:"38f8d0440c20cc6d1b1d6a654d07f16de61d8134"}))}static get style(){return lY}},[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);function dY(){if(typeof customElements>"u")return;["ion-col"].forEach(e=>{switch(e){case"ion-col":customElements.get(e)||customElements.define(e,uY);break}})}const hY=dY;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const za=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pY=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',fY=pY,mY=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=ke(this,"ionScrollStart",7),this.ionScroll=ke(this,"ionScroll",7),this.ionScrollEnd=ke(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=Os(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,Qf(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),Qf(this.el)){const{tabsElement:e,tabsLoadCallback:n}=this;e!==null&&n!==void 0&&e.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,n=De(this);return e===void 0?n==="ios"&&Ur("ios"):e}resize(){this.fullscreen?Su(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,Gi(this))}readDimensions(){const e=bY(this.el),n=Math.max(this.el.offsetTop,0),i=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||i!==this.cBottom)&&(this.cTop=n,this.cBottom=i,Gi(this))}onScroll(e){const n=Date.now(),i=!this.isScrolling;this.lastScroll=n,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Su(o=>{this.queued=!1,this.detail.event=e,xY(this.detail,this.scrollEl,o,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>Es(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>Es(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const n=await this.getScrollElement(),i=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,i,e)}async scrollByPoint(e,n,i){const o=await this.getScrollElement();return this.scrollToPoint(e+o.scrollLeft,n+o.scrollTop,i)}async scrollToPoint(e,n,i=0){const o=await this.getScrollElement();if(i<32){n!=null&&(o.scrollTop=n),e!=null&&(o.scrollLeft=e);return}let r,s=0;const a=new Promise(p=>r=p),l=o.scrollTop,c=o.scrollLeft,u=n!=null?n-l:0,d=e!=null?e-c:0,h=p=>{const f=Math.min(1,(p-s)/i)-1,m=Math.pow(f,3)+1;u!==0&&(o.scrollTop=Math.floor(m*u+l)),d!==0&&(o.scrollLeft=Math.floor(m*d+c)),m<1?requestAnimationFrame(h):r()};return requestAnimationFrame(p=>{s=p,h(p)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:n,isMainContent:i,scrollX:o,scrollY:r,el:s}=this,a=za(s)?"rtl":"ltr",l=De(this),c=this.shouldForceOverscroll(),u=l==="ios";return this.resize(),F(tt,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:i?"main":void 0,class:en(this.color,{[l]:!0,"content-sizing":Nn("ion-popover",this.el),overscroll:c,["content-".concat(a)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},n),F("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:d=>this.backgroundContentEl=d,id:"background-content",part:"background"}),e==="before"?F("slot",{name:"fixed"}):null,F("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":o,"scroll-y":r,overscroll:(o||r)&&c},ref:d=>this.scrollEl=d,onScroll:this.scrollEvents?d=>this.onScroll(d):void 0,part:"scroll"},F("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),u?F("div",{class:"transition-effect"},F("div",{class:"transition-cover"}),F("div",{class:"transition-shadow"})):null,e==="after"?F("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return fY}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),gY=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},bY=t=>{const e=t.closest("ion-tabs");if(e)return e;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||gY(t)},xY=(t,e,n,i)=>{const o=t.currentX,r=t.currentY,s=t.currentTime,a=e.scrollLeft,l=e.scrollTop,c=n-s;if(i&&(t.startTime=n,t.startX=a,t.startY=l,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=l,t.deltaX=a-t.startX,t.deltaY=l-t.startY,c>0&&c<100){const u=(a-o)/c,d=(l-r)/c;t.velocityX=u*.7+t.velocityX*.3,t.velocityY=d*.7+t.velocityY*.3}};function u4(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,mY);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yY=u4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vY=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #004acd);--background-focused:var(--ion-color-primary-shade, #004acd);--background-hover:var(--ion-color-primary-tint, #1a65eb);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #0054e9);--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.125em, 60px);min-height:clamp(30px, 2.125em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 1.125em, 43.02px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(12.1394px, 1.308125em, 40.1856px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 0.9em, 43.056px)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',wY=vY,kY=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-strong){font-weight:bold}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.86em, 60px);min-height:clamp(30px, 2.86em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.104px, 1.6em, 43.008px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(13.002px, 1.23125em, 40.385px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.008px, 1.4em, 43.008px)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}',SY=kY,i7=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ke(this,"ionFocus",7),this.ionBlur=ke(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:n}=this;this.type==="button"?B1(this.href,e,this.routerDirection,this.routerAnimation):lq(n)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.slotChanged=()=>{this.isCircle=this.hasIconOnly},this.isCircle=!1,this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:n}=this;if(n!==null&&e.contains(n))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,e.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=Os(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if(typeof e=="string"){const n=document.getElementById(e);return n?n instanceof HTMLFormElement?n:(hn('[ion-button] - Form with selector: "#'.concat(e,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(hn('[ion-button] - Form with selector: "#'.concat(e,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return e!==void 0?(hn('[ion-button] - The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=De(this),{buttonType:n,type:i,disabled:o,rel:r,target:s,size:a,href:l,color:c,expand:u,hasIconOnly:d,shape:h,strong:p,inheritedAttributes:f}=this,m=a===void 0&&this.inItem?"small":a,b=l===void 0?"button":"a",g=b==="button"?{type:i}:{download:this.download,href:l,rel:r,target:s};let x=this.fill;return x==null&&(x=this.inToolbar||this.inListHeader?"clear":"solid"),i!=="button"&&this.renderHiddenButton(),F(tt,{key:"e213b0bb76b3f90f883b1a0ea463bb86c2df69c3",onClick:this.handleClick,"aria-disabled":o?"true":null,class:en(c,{[e]:!0,[n]:!0,["".concat(n,"-").concat(u)]:u!==void 0,["".concat(n,"-").concat(m)]:m!==void 0,["".concat(n,"-").concat(h)]:h!==void 0,["".concat(n,"-").concat(x)]:!0,["".concat(n,"-strong")]:p,"in-toolbar":Nn("ion-toolbar",this.el),"in-toolbar-color":Nn("ion-toolbar[color]",this.el),"in-buttons":Nn("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":o,"ion-activatable":!0,"ion-focusable":!0})},F(b,Object.assign({key:"b7c2a46fb994024841219316f4089335fa463d84"},g,{class:"button-native",part:"native",disabled:o,onFocus:this.onFocus,onBlur:this.onBlur},f),F("span",{key:"3e07a5c9f86836f9fbaefc6c617bdde6eb6f70cd",class:"button-inner"},F("slot",{key:"41c08ae09aed16faaa57707d229ff75d97f0731c",name:"icon-only",onSlotchange:this.slotChanged}),F("slot",{key:"ab8b749e4572884cc04970a7594466b4a24c886e",name:"start"}),F("slot",{key:"397f7ff48ea45e82029414be95d29ae86e12c3a9"}),F("slot",{key:"9a5627713002e8be3738d392b616f6e951b70e12",name:"end"})),e==="md"&&F("ion-ripple-effect",{key:"105566543ceda102474edab7ca8a44c7e71af589",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:wY,md:SY}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1],isCircle:[32]},void 0,{disabled:["disabledChanged"]}]);function d4(){if(typeof customElements>"u")return;["ion-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-button":customElements.get(e)||customElements.define(e,i7);break;case"ion-ripple-effect":customElements.get(e)||rs();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $x=()=>{if(Gt!==void 0)return Gt.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var v3;(function(t){t.Heavy="HEAVY",t.Medium="MEDIUM",t.Light="LIGHT"})(v3||(v3={}));var V5;(function(t){t.Success="SUCCESS",t.Warning="WARNING",t.Error="ERROR"})(V5||(V5={}));const Wm={getEngine(){const t=$x();if(t!=null&&t.isPluginAvailable("Haptics"))return t.Plugins.Haptics},available(){if(!this.getEngine())return!1;const e=$x();return(e==null?void 0:e.getPlatform())==="web"?typeof navigator<"u"&&navigator.vibrate!==void 0:!0},impact(t){const e=this.getEngine();e&&e.impact({style:t.style})},notification(t){const e=this.getEngine();e&&e.notification({type:t.type})},selection(){this.impact({style:v3.Light})},selectionStart(){const t=this.getEngine();t&&t.selectionStart()},selectionChanged(){const t=this.getEngine();t&&t.selectionChanged()},selectionEnd(){const t=this.getEngine();t&&t.selectionEnd()}},U1=()=>Wm.available(),CY=()=>{U1()&&Wm.selection()},TY=()=>{U1()&&Wm.selectionStart()},EY=()=>{U1()&&Wm.selectionChanged()},IY=()=>{U1()&&Wm.selectionEnd()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Zu=()=>{let t;return{lock:async()=>{const n=t;let i;return t=new Promise(o=>i=o),n!==void 0&&await n,i}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _Y=t=>{if(!t)return{arrowWidth:0,arrowHeight:0};const{width:e,height:n}=t.getBoundingClientRect();return{arrowWidth:e,arrowHeight:n}},o7=(t,e,n)=>{const i=e.getBoundingClientRect(),o=i.height;let r=i.width;return t==="cover"&&n&&(r=n.getBoundingClientRect().width),{contentWidth:r,contentHeight:o}},$Y=(t,e,n,i)=>{let o=[];const s=Bn(i).querySelector(".popover-content");switch(e){case"hover":o=[{eventName:"mouseenter",callback:a=>{document.elementFromPoint(a.clientX,a.clientY)!==t&&n.dismiss(void 0,void 0,!1)}}];break;case"context-menu":case"click":default:o=[{eventName:"click",callback:a=>{if(a.target.closest("[data-ion-popover-trigger]")===t){a.stopPropagation();return}n.dismiss(void 0,void 0,!1)}}];break}return o.forEach(({eventName:a,callback:l})=>s.addEventListener(a,l)),()=>{o.forEach(({eventName:a,callback:l})=>s.removeEventListener(a,l))}},AY=(t,e,n)=>{let i=[];switch(e){case"hover":let o;i=[{eventName:"mouseenter",callback:async r=>{r.stopPropagation(),o&&clearTimeout(o),o=setTimeout(()=>{mi(()=>{n.presentFromTrigger(r),o=void 0})},100)}},{eventName:"mouseleave",callback:r=>{o&&clearTimeout(o);const s=r.relatedTarget;s&&s.closest("ion-popover")!==n&&n.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:r=>r.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:r=>n.presentFromTrigger(r,!0)}];break;case"context-menu":i=[{eventName:"contextmenu",callback:r=>{r.preventDefault(),n.presentFromTrigger(r)}},{eventName:"click",callback:r=>r.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:r=>n.presentFromTrigger(r,!0)}];break;case"click":default:i=[{eventName:"click",callback:r=>n.presentFromTrigger(r)},{eventName:"ionPopoverActivateTrigger",callback:r=>n.presentFromTrigger(r,!0)}];break}return i.forEach(({eventName:o,callback:r})=>t.addEventListener(o,r)),t.setAttribute("data-ion-popover-trigger","true"),()=>{i.forEach(({eventName:o,callback:r})=>t.removeEventListener(o,r)),t.removeAttribute("data-ion-popover-trigger")}},r7=(t,e)=>!e||e.tagName!=="ION-ITEM"?-1:t.findIndex(n=>n===e),NY=(t,e)=>{const n=r7(t,e);return t[n+1]},OY=(t,e)=>{const n=r7(t,e);return t[n-1]},Y0=t=>{const n=Bn(t).querySelector("button");n&&mi(()=>n.focus())},DY=t=>t.hasAttribute("data-ion-popover-trigger"),RY=t=>{const e=async n=>{var i;const o=document.activeElement;let r=[];const s=(i=n.target)===null||i===void 0?void 0:i.tagName;if(!(s!=="ION-POPOVER"&&s!=="ION-ITEM")){try{r=Array.from(t.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(a){}switch(n.key){case"ArrowLeft":await t.getParentPopover()&&t.dismiss(void 0,void 0,!1);break;case"ArrowDown":n.preventDefault();const l=NY(r,o);l!==void 0&&Y0(l);break;case"ArrowUp":n.preventDefault();const c=OY(r,o);c!==void 0&&Y0(c);break;case"Home":n.preventDefault();const u=r[0];u!==void 0&&Y0(u);break;case"End":n.preventDefault();const d=r[r.length-1];d!==void 0&&Y0(d);break;case"ArrowRight":case" ":case"Enter":if(o&&DY(o)){const h=new CustomEvent("ionPopoverActivateTrigger");o.dispatchEvent(h)}break}}};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},s7=(t,e,n,i,o,r,s,a,l,c,u)=>{var d;let h={top:0,left:0,width:0,height:0};switch(r){case"event":if(!u)return l;const w=u;h={top:w.clientY,left:w.clientX,width:1,height:1};break;case"trigger":default:const C=u,S=c||((d=C==null?void 0:C.detail)===null||d===void 0?void 0:d.ionShadowTarget)||(C==null?void 0:C.target);if(!S)return l;const E=S.getBoundingClientRect();h={top:E.top,left:E.left,width:E.width,height:E.height};break}const p=FY(s,h,e,n,i,o,t),f=PY(a,s,h,e,n),m=p.top+f.top,b=p.left+f.left,{arrowTop:g,arrowLeft:x}=zY(s,i,o,m,b,e,n,t),{originX:y,originY:v}=LY(s,a,t);return{top:m,left:b,referenceCoordinates:h,arrowTop:g,arrowLeft:x,originX:y,originY:v}},LY=(t,e,n)=>{switch(t){case"top":return{originX:H5(e),originY:"bottom"};case"bottom":return{originX:H5(e),originY:"top"};case"left":return{originX:"right",originY:Z0(e)};case"right":return{originX:"left",originY:Z0(e)};case"start":return{originX:n?"left":"right",originY:Z0(e)};case"end":return{originX:n?"right":"left",originY:Z0(e)}}},H5=t=>{switch(t){case"start":return"left";case"center":return"center";case"end":return"right"}},Z0=t=>{switch(t){case"start":return"top";case"center":return"center";case"end":return"bottom"}},zY=(t,e,n,i,o,r,s,a)=>{const l={arrowTop:i+s/2-e/2,arrowLeft:o+r-e/2},c={arrowTop:i+s/2-e/2,arrowLeft:o-e*1.5};switch(t){case"top":return{arrowTop:i+s,arrowLeft:o+r/2-e/2};case"bottom":return{arrowTop:i-n,arrowLeft:o+r/2-e/2};case"left":return l;case"right":return c;case"start":return a?c:l;case"end":return a?l:c;default:return{arrowTop:0,arrowLeft:0}}},FY=(t,e,n,i,o,r,s)=>{const a={top:e.top,left:e.left-n-o},l={top:e.top,left:e.left+e.width+o};switch(t){case"top":return{top:e.top-i-r,left:e.left};case"right":return l;case"bottom":return{top:e.top+e.height+r,left:e.left};case"left":return a;case"start":return s?l:a;case"end":return s?a:l}},PY=(t,e,n,i,o)=>{switch(t){case"center":return MY(e,n,i,o);case"end":return BY(e,n,i,o);case"start":default:return{top:0,left:0}}},BY=(t,e,n,i)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(i-e.height),left:0};case"top":case"bottom":default:return{top:0,left:-(n-e.width)}}},MY=(t,e,n,i)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(i/2-e.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(n/2-e.width/2)}}},a7=(t,e,n,i,o,r,s,a,l,c,u,d,h=0,p=0,f=0)=>{let m=h;const b=p;let g=n,x=e,y,v=c,w=u,C=!1,S=!1;const E=d?d.top+d.height:r/2-a/2,I=d?d.height:0;let N=!1;return g<i+l?(g=i,C=!0,v="left"):s+i+g+l>o&&(S=!0,g=o-s-i,v="right"),E+I+a>r&&(t==="top"||t==="bottom")&&(E-a>0?(x=Math.max(12,E-a-I-(f-1)),m=x+a,w="bottom",N=!0):y=i),{top:x,left:g,bottom:y,originX:v,originY:w,checkSafeAreaLeft:C,checkSafeAreaRight:S,arrowTop:m,arrowLeft:b,addPopoverBottomClass:N}},jY=(t,e=!1,n,i)=>!(!n&&!i||t!=="top"&&t!=="bottom"&&e),UY=5,VY=(t,e)=>{var n;const{event:i,size:o,trigger:r,reference:s,side:a,align:l}=e,c=t.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,p=Bn(t),f=p.querySelector(".popover-content"),m=p.querySelector(".popover-arrow"),b=r||((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(i==null?void 0:i.target),{contentWidth:g,contentHeight:x}=o7(o,f,b),{arrowWidth:y,arrowHeight:v}=_Y(m),w={top:h/2-x/2,left:d/2-g/2,originX:u?"right":"left",originY:"top"},C=s7(u,g,x,y,v,s,a,l,w,r,i),S=o==="cover"?0:UY,E=o==="cover"?0:25,{originX:I,originY:N,top:B,left:D,bottom:P,checkSafeAreaLeft:_,checkSafeAreaRight:L,arrowTop:z,arrowLeft:V,addPopoverBottomClass:q}=a7(a,C.top,C.left,S,d,h,g,x,E,C.originX,C.originY,C.referenceCoordinates,C.arrowTop,C.arrowLeft,v),U=Re(),X=Re(),G=Re();return X.addElement(p.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),G.addElement(p.querySelector(".popover-arrow")).addElement(p.querySelector(".popover-content")).fromTo("opacity",.01,1),U.easing("ease").duration(100).beforeAddWrite(()=>{o==="cover"&&t.style.setProperty("--width","".concat(g,"px")),q&&t.classList.add("popover-bottom"),P!==void 0&&f.style.setProperty("bottom","".concat(P,"px"));const W=" + var(--ion-safe-area-left, 0)",le=" - var(--ion-safe-area-right, 0)";let oe="".concat(D,"px");if(_&&(oe="".concat(D,"px").concat(W)),L&&(oe="".concat(D,"px").concat(le)),f.style.setProperty("top","calc(".concat(B,"px + var(--offset-y, 0))")),f.style.setProperty("left","calc(".concat(oe," + var(--offset-x, 0))")),f.style.setProperty("transform-origin","".concat(N," ").concat(I)),m!==null){const ie=C.top!==B||C.left!==D;jY(a,ie,i,r)?(m.style.setProperty("top","calc(".concat(z,"px + var(--offset-y, 0))")),m.style.setProperty("left","calc(".concat(V,"px + var(--offset-x, 0))"))):m.style.setProperty("display","none")}}).addAnimation([X,G])},HY=t=>{const e=Bn(t),n=e.querySelector(".popover-content"),i=e.querySelector(".popover-arrow"),o=Re(),r=Re(),s=Re();return r.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),s.addElement(e.querySelector(".popover-arrow")).addElement(e.querySelector(".popover-content")).fromTo("opacity",.99,0),o.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin"),i&&(i.style.removeProperty("top"),i.style.removeProperty("left"),i.style.removeProperty("display"))}).duration(300).addAnimation([r,s])},WY=12,GY=(t,e)=>{var n;const{event:i,size:o,trigger:r,reference:s,side:a,align:l}=e,c=t.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,p=Bn(t),f=p.querySelector(".popover-content"),m=r||((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(i==null?void 0:i.target),{contentWidth:b,contentHeight:g}=o7(o,f,m),x={top:h/2-g/2,left:d/2-b/2,originX:u?"right":"left",originY:"top"},y=s7(u,b,g,0,0,s,a,l,x,r,i),v=o==="cover"?0:WY,{originX:w,originY:C,top:S,left:E,bottom:I}=a7(a,y.top,y.left,v,d,h,b,g,0,y.originX,y.originY,y.referenceCoordinates),N=Re(),B=Re(),D=Re(),P=Re(),_=Re();return B.addElement(p.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),D.addElement(p.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),P.addElement(f).beforeStyles({top:"calc(".concat(S,"px + var(--offset-y, 0px))"),left:"calc(".concat(E,"px + var(--offset-x, 0px))"),"transform-origin":"".concat(C," ").concat(w)}).beforeAddWrite(()=>{I!==void 0&&f.style.setProperty("bottom","".concat(I,"px"))}).fromTo("transform","scale(0.8)","scale(1)"),_.addElement(p.querySelector(".popover-viewport")).fromTo("opacity",.01,1),N.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{o==="cover"&&t.style.setProperty("--width","".concat(b,"px")),C==="bottom"&&t.classList.add("popover-bottom")}).addAnimation([B,D,P,_])},qY=t=>{const e=Bn(t),n=e.querySelector(".popover-content"),i=Re(),o=Re(),r=Re();return o.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(e.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),i.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin")}).duration(150).addAnimation([o,r])},KY=':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',XY=KY,YY=":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}",ZY=YY,JY=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ke(this,"ionPopoverDidPresent",7),this.willPresent=ke(this,"ionPopoverWillPresent",7),this.willDismiss=ke(this,"ionPopoverWillDismiss",7),this.didDismiss=ke(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=ke(this,"didPresent",7),this.willPresentShorthand=ke(this,"willPresent",7),this.willDismissShorthand=ke(this,"willDismiss",7),this.didDismissShorthand=ke(this,"didDismiss",7),this.ionMount=ke(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=a4(),this.lockController=Zu(),this.inline=!1,this.focusDescendantOnPresent=!1,this.onBackdropTap=()=>{this.dismiss(void 0,na)},this.onLifecycle=e=>{const n=this.usersElement,i=QY[e.type];if(n&&i){const o=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(o)}},this.configureTriggerInteraction=()=>{const{trigger:e,triggerAction:n,el:i,destroyTriggerInteraction:o}=this;if(o&&o(),e===void 0)return;const r=this.triggerEl=e!==void 0?document.getElementById(e):null;if(!r){hn('[ion-popover] - A trigger element with the ID "'.concat(e,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.'),this.el);return}this.destroyTriggerInteraction=AY(r,n,i)},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:e,el:n}=this;e&&e(),this.destroyKeyboardInteraction=RY(n)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:e,parentPopover:n,triggerAction:i,triggerEl:o,el:r}=this;!n||!o||(e&&e(),this.destroyDismissInteraction=$Y(o,i,r,n))},this.presented=!1,this.hasController=!1,this.delegate=void 0,this.overlayIndex=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.component=void 0,this.componentProps=void 0,this.keyboardClose=!0,this.cssClass=void 0,this.backdropDismiss=!0,this.event=void 0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.triggerAction="click",this.trigger=void 0,this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment=void 0,this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}connectedCallback(){const{configureTriggerInteraction:e,el:n}=this;op(n),e()}disconnectedCallback(){const{destroyTriggerInteraction:e}=this;e&&e()}componentWillLoad(){var e,n;const{el:i}=this,o=(n=(e=this.htmlAttributes)===null||e===void 0?void 0:e.id)!==null&&n!==void 0?n:rp(i);this.parentPopover=i.closest("ion-popover:not(#".concat(o,")")),this.alignment===void 0&&(this.alignment=De(this)==="ios"?"center":"start")}componentDidLoad(){const{parentPopover:e,isOpen:n}=this;n===!0&&mi(()=>this.present()),e&&QC(e,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}async presentFromTrigger(e,n=!1){this.focusDescendantOnPresent=n,await this.present(e),this.focusDescendantOnPresent=!1}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const n=this.el.parentNode,i=this.inline=n!==null&&!this.hasController,o=this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate;return{inline:i,delegate:o}}async present(e){const n=await this.lockController.lock();if(this.presented){n();return}const{el:i}=this,{inline:o,delegate:r}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await jm(r,i,this.component,["popover-viewport"],this.componentProps,o),this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),Qf(i)?await em(this.usersElement):this.keepContentsMounted||await L8(),await sp(this,"popoverEnter",VY,GY,{event:e||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),this.focusDescendantOnPresent&&Ex(i),n()}async dismiss(e,n,i=!0){const o=await this.lockController.lock(),{destroyKeyboardInteraction:r,destroyDismissInteraction:s}=this;i&&this.parentPopover&&this.parentPopover.dismiss(e,n,i);const a=await ap(this,e,n,"popoverLeave",HY,qY,this.event);if(a){r&&(r(),this.destroyKeyboardInteraction=void 0),s&&(s(),this.destroyDismissInteraction=void 0);const{delegate:l}=this.getDelegate();await s4(l,this.usersElement)}return o(),a}async getParentPopover(){return this.parentPopover}onDidDismiss(){return es(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return es(this.el,"ionPopoverWillDismiss")}render(){const e=De(this),{onLifecycle:n,parentPopover:i,dismissOnSelect:o,side:r,arrow:s,htmlAttributes:a,focusTrap:l}=this,c=Ur("desktop"),u=s&&!i;return F(tt,Object.assign({key:"ff24e8d9677711248a36994cce568e74ba151499","aria-modal":"true","no-router":!0,tabindex:"-1"},a,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign({},oo(this.cssClass)),{[e]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":c,["popover-side-".concat(r)]:!0,[tm]:l===!1,"popover-nested":!!i}),onIonPopoverDidPresent:n,onIonPopoverWillPresent:n,onIonPopoverWillDismiss:n,onIonPopoverDidDismiss:n,onIonBackdropTap:this.onBackdropTap}),!i&&F("ion-backdrop",{key:"aca68b4002a08b0e563a976a867141162c20f8b4",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),F("div",{key:"62d21d1eab5c6d675d49932559ffb161747e5fec",class:"popover-wrapper ion-overlay-wrapper",onClick:o?()=>this.dismiss():void 0},u&&F("div",{key:"1b46cc77d5302637fc979353483bb5fd780fd1d3",class:"popover-arrow",part:"arrow"}),F("div",{key:"a5657bff26e46d1959b71eb0992e7dc8fcae86f1",class:"popover-content",part:"content"},F("slot",{key:"e1a98007226a46b51109e7004c4d338ca1bc0f9e"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:XY,md:ZY}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),QY={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};function eZ(){if(typeof customElements>"u")return;["ion-popover","ion-backdrop"].forEach(e=>{switch(e){case"ion-popover":customElements.get(e)||customElements.define(e,JY);break;case"ion-backdrop":customElements.get(e)||Yu();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const tZ="ION-CONTENT",l7="ion-content",c7=".ion-content-scroll-host",u7="".concat(l7,", ").concat(c7),Ys=t=>t.tagName===tZ,w3=async t=>Ys(t)?(await new Promise(e=>Es(t,e)),t.getScrollElement()):t,Ax=t=>{const e=t.querySelector(c7);return e||t.querySelector(u7)},Nx=t=>t.closest(u7),_9e=(t,e)=>Ys(t)?t.scrollToTop(e):Promise.resolve(t.scrollTo({top:0,left:0,behavior:"smooth"})),$9e=(t,e,n,i)=>Ys(t)?t.scrollByPoint(e,n,i):Promise.resolve(t.scrollBy({top:n,left:e,behavior:i>0?"smooth":"auto"})),Ox=t=>rq(t,l7),k3=t=>{if(Ys(t)){const e=t,n=e.scrollY;return e.scrollY=!1,n}else return t.style.setProperty("overflow","hidden"),!0},d7=(t,e)=>{Ys(t)?t.scrollY=e:t.style.removeProperty("overflow")};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var S3;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(S3||(S3={}));var C3;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(C3||(C3={}));const h7={getEngine(){const t=$x();if(t!=null&&t.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t!=null&&t.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!==S3.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const p7=t=>{if(hr===void 0||t===C3.None||t===void 0)return null;const e=hr.querySelector("ion-app");return e!=null?e:hr.body},W5=t=>{const e=p7(t);return e===null?0:e.clientHeight},f7=async t=>{let e,n,i,o;const r=async()=>{const u=await h7.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{o===void 0&&(o=W5(d)),i=!0,s(i,d)},n=()=>{i=!1,s(i,d)},Gt==null||Gt.addEventListener("keyboardWillShow",e),Gt==null||Gt.addEventListener("keyboardWillHide",n)},s=(u,d)=>{t&&t(u,a(d))},a=u=>{if(o===0||o===W5(u))return;const d=p7(u);if(d!==null)return new Promise(h=>{const p=()=>{d.clientHeight===o&&(f.disconnect(),h())},f=new ResizeObserver(p);f.observe(d)})},l=()=>{Gt==null||Gt.removeEventListener("keyboardWillShow",e),Gt==null||Gt.removeEventListener("keyboardWillHide",n),e=n=void 0},c=()=>i;return await r(),{init:r,destroy:l,isKeyboardVisible:c}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const G5=(t,e)=>{Su(()=>{const n=t.scrollTop,i=t.scrollHeight-t.clientHeight,o=10,r=i-o,s=n-r,a=xo(0,1-s/o,1);Ho(()=>{e.style.setProperty("--opacity-scale",a.toString())})})},nZ="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",iZ=nZ,oZ="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.footer-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",rZ=oZ,sZ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.keyboardCtrl=null,this.checkCollapsibleFooter=()=>{if(De(this)!=="ios")return;const{collapse:n}=this,i=n==="fade";if(this.destroyCollapsibleFooter(),i){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),r=o?Ax(o):null;if(!r){Ox(this.el);return}this.setupFadeFooter(r)}},this.setupFadeFooter=async e=>{const n=this.scrollEl=await w3(e);this.contentScrollCallback=()=>{G5(n,this.el)},n.addEventListener("scroll",this.contentScrollCallback),G5(n,this.el)},this.keyboardVisible=!1,this.collapse=void 0,this.translucent=!1}componentDidLoad(){this.checkCollapsibleFooter()}componentDidUpdate(){this.checkCollapsibleFooter()}async connectedCallback(){this.keyboardCtrl=await f7(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}destroyCollapsibleFooter(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{translucent:e,collapse:n}=this,i=De(this),o=this.el.closest("ion-tabs"),r=o==null?void 0:o.querySelector(":scope > ion-tab-bar");return F(tt,{key:"ddc228f1a1e7fa4f707dccf74db2490ca3241137",role:"contentinfo",class:{[i]:!0,["footer-".concat(i)]:!0,"footer-translucent":e,["footer-translucent-".concat(i)]:e,"footer-toolbar-padding":!this.keyboardVisible&&(!r||r.slot!=="bottom"),["footer-collapse-".concat(n)]:n!==void 0}},i==="ios"&&e&&F("div",{key:"e16ed4963ff94e06de77eb8038201820af73937c",class:"footer-background"}),F("slot",{key:"f186934febf85d37133d9351a96c1a64b0a4b203"}))}get el(){return this}static get style(){return{ios:iZ,md:rZ}}},[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);function aZ(){if(typeof customElements>"u")return;["ion-footer"].forEach(e=>{switch(e){case"ion-footer":customElements.get(e)||customElements.define(e,sZ);break}})}const lZ=aZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cZ=":host{-webkit-padding-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;display:block;-ms-flex:1;flex:1}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}}:host(.grid-fixed){width:var(--ion-grid-width-xs, var(--ion-grid-width, 100%));max-width:100%}@media (min-width: 576px){:host(.grid-fixed){width:var(--ion-grid-width-sm, var(--ion-grid-width, 540px))}}@media (min-width: 768px){:host(.grid-fixed){width:var(--ion-grid-width-md, var(--ion-grid-width, 720px))}}@media (min-width: 992px){:host(.grid-fixed){width:var(--ion-grid-width-lg, var(--ion-grid-width, 960px))}}@media (min-width: 1200px){:host(.grid-fixed){width:var(--ion-grid-width-xl, var(--ion-grid-width, 1140px))}}:host(.ion-no-padding){--ion-grid-column-padding:0;--ion-grid-column-padding-xs:0;--ion-grid-column-padding-sm:0;--ion-grid-column-padding-md:0;--ion-grid-column-padding-lg:0;--ion-grid-column-padding-xl:0}",uZ=cZ,dZ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.fixed=!1}render(){const e=De(this);return F(tt,{key:"617127ecfabf9bf615bef1dda1be3fed5a065949",class:{[e]:!0,"grid-fixed":this.fixed}},F("slot",{key:"c781fff853b093d8f44bdb7943bbc4f17c903803"}))}static get style(){return uZ}},[1,"ion-grid",{fixed:[4]}]);function hZ(){if(typeof customElements>"u")return;["ion-grid"].forEach(e=>{switch(e){case"ion-grid":customElements.get(e)||customElements.define(e,dZ);break}})}const pZ=hZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fZ="all 0.2s ease-in-out",q5=t=>{const e=document.querySelector("".concat(t,".ion-cloned-element"));if(e!==null)return e;const n=document.createElement(t);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},K5=t=>{if(!t)return;const e=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(e).map(n=>{const i=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},mZ=(t,e,n)=>{Su(()=>{const i=t.scrollTop,o=xo(1,1+-i/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&Ho(()=>{xZ(e.toolbars,o)})})},h4=(t,e)=>{t.collapse!=="fade"&&(e===void 0?t.style.removeProperty("--opacity-scale"):t.style.setProperty("--opacity-scale",e.toString()))},gZ=(t,e,n)=>{if(!t[0].isIntersecting)return;const i=t[0].intersectionRatio>.9||n<=0?0:(1-t[0].intersectionRatio)*100/75;h4(e.el,i===1?void 0:i)},bZ=(t,e,n,i)=>{Ho(()=>{const o=i.scrollTop;gZ(t,e,o);const r=t[0],s=r.intersectionRect,a=s.width*s.height,l=r.rootBounds.width*r.rootBounds.height,c=a===0&&l===0,u=Math.abs(s.left-r.boundingClientRect.left),d=Math.abs(s.right-r.boundingClientRect.right),h=a>0&&(u>=5||d>=5);c||h||(r.isIntersecting?(af(e,!1),af(n)):(s.x===0&&s.y===0||s.width!==0&&s.height!==0)&&o>0&&(af(e),af(n,!1),h4(e.el)))})},af=(t,e=!0)=>{const n=t.el,o=t.toolbars.map(r=>r.ionTitleEl);e?(n.classList.remove("header-collapse-condense-inactive"),o.forEach(r=>{r&&r.removeAttribute("aria-hidden")})):(n.classList.add("header-collapse-condense-inactive"),o.forEach(r=>{r&&r.setAttribute("aria-hidden","true")}))},xZ=(t=[],e=1,n=!1)=>{t.forEach(i=>{const o=i.ionTitleEl,r=i.innerTitleEl;!o||o.size!=="large"||(r.style.transition=n?fZ:"",r.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"))})},X5=(t,e,n)=>{Su(()=>{const i=t.scrollTop,o=e.clientHeight,r=n?n.clientHeight:0;if(n!==null&&i<r){e.style.setProperty("--opacity-scale","0"),t.style.setProperty("clip-path","inset(".concat(o,"px 0px 0px 0px)"));return}const s=i-r,l=xo(0,s/10,1);Ho(()=>{t.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},yZ="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",vZ=yZ,wZ="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",kZ=wZ,SZ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,n)=>{const i=this.scrollEl=await w3(e);this.contentScrollCallback=()=>{X5(this.scrollEl,this.el,n)},i.addEventListener("scroll",this.contentScrollCallback),X5(this.scrollEl,this.el,n)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=Os(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(De(this)!=="ios")return;const{collapse:n}=this,i=n==="condense",o=n==="fade";if(this.destroyCollapsibleHeader(),i){const r=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=r?Ax(r):null;Ho(()=>{const a=q5("ion-title");a.size="large",q5("ion-back-button")}),await this.setupCondenseHeader(s,r)}else if(o){const r=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=r?Ax(r):null;if(!s){Ox(this.el);return}const a=s.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(s,a)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,n){if(!e||!n){Ox(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await w3(e);const i=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;const o=K5(this.collapsibleMainHeader),r=K5(this.el);if(!o||!r)return;af(o,!1),h4(o.el,0);const s=a=>{bZ(a,o,r,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(s,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(r.toolbars[r.toolbars.length-1].el),this.contentScrollCallback=()=>{mZ(this.scrollEl,r,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),Ho(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:n}=this,i=De(this),o=this.collapse||"none",r=Nn("ion-menu",this.el)?"none":"banner";return F(tt,Object.assign({key:"b6cc27f0b08afc9fcc889683525da765d80ba672",role:r,class:{[i]:!0,["header-".concat(i)]:!0,"header-translucent":this.translucent,["header-collapse-".concat(o)]:!0,["header-translucent-".concat(i)]:this.translucent}},n),i==="ios"&&e&&F("div",{key:"395766d4dcee3398bc91960db21f922095292f14",class:"header-background"}),F("slot",{key:"09a67ece27b258ff1248805d43d92a49b2c6859a"}))}get el(){return this}static get style(){return{ios:vZ,md:kZ}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function p4(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,SZ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const CZ=p4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TZ=":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}",EZ=TZ,IZ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=ke(this,"ionImgWillLoad",7),this.ionImgDidLoad=ke(this,"ionImgDidLoad",7),this.ionError=ke(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()},this.loadSrc=void 0,this.loadError=void 0,this.alt=void 0,this.src=void 0}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=la(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){this.src!==void 0&&(typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver(e=>{e[e.length-1].isIntersecting&&(this.load(),this.removeIO())}),this.io.observe(this.el)):setTimeout(()=>this.load(),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:e,alt:n,onLoad:i,loadError:o,inheritedAttributes:r}=this,{draggable:s}=r;return F(tt,{key:"da600442894427dee1974a28e545613afac69fca",class:De(this)},F("img",{key:"16df0c7069af86c0fa7ce5af598bc0f63b4eb71a",decoding:"async",src:e,alt:n,onLoad:i,onError:o,part:"image",draggable:_Z(s)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return EZ}},[1,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]},void 0,{src:["srcChanged"]}]),_Z=t=>{switch(t){case"true":return!0;case"false":return!1;default:return}};function $Z(){if(typeof customElements>"u")return;["ion-img"].forEach(e=>{switch(e){case"ion-img":customElements.get(e)||customElements.define(e,IZ);break}})}const AZ=$Z;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const NZ={bubbles:{dur:1e3,circles:9,fn:(t,e,n)=>{const i="".concat(t*e/n-t,"ms"),o=2*Math.PI*e/n;return{r:5,style:{top:"".concat(32*Math.sin(o),"%"),left:"".concat(32*Math.cos(o),"%"),"animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(t,e,n)=>{const i=e/n,o="".concat(t*i-t,"ms"),r=2*Math.PI*i;return{r:5,style:{top:"".concat(32*Math.sin(r),"%"),left:"".concat(32*Math.cos(r),"%"),"animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>{const n=-(110*e)+"ms";return{r:6,style:{left:"".concat(32-32*e,"%"),"animation-delay":n}}}},lines:{dur:1e3,lines:8,fn:(t,e,n)=>{const i="rotate(".concat(360/n*e+(e<n/2?180:-180),"deg)"),o="".concat(t*e/n-t,"ms");return{y1:14,y2:26,style:{transform:i,"animation-delay":o}}}},"lines-small":{dur:1e3,lines:8,fn:(t,e,n)=>{const i="rotate(".concat(360/n*e+(e<n/2?180:-180),"deg)"),o="".concat(t*e/n-t,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":o}}}},"lines-sharp":{dur:1e3,lines:12,fn:(t,e,n)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),o="".concat(t*e/n-t,"ms");return{y1:17,y2:29,style:{transform:i,"animation-delay":o}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:(t,e,n)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),o="".concat(t*e/n-t,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":o}}}}},Y5=NZ,OZ=":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}",DZ=OZ,RZ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||rt.get("spinner"),n=De(this);return e||(n==="ios"?"lines":"circular")}render(){var e;const n=this,i=De(n),o=n.getName(),r=(e=Y5[o])!==null&&e!==void 0?e:Y5.lines,s=typeof n.duration=="number"&&n.duration>10?n.duration:r.dur,a=[];if(r.circles!==void 0)for(let l=0;l<r.circles;l++)a.push(LZ(r,s,l,r.circles));else if(r.lines!==void 0)for(let l=0;l<r.lines;l++)a.push(zZ(r,s,l,r.lines));return F(tt,{key:"e0dfa8a3ee2a0469eb31323f506750bd77d65797",class:en(n.color,{[i]:!0,["spinner-".concat(o)]:!0,"spinner-paused":n.paused||rt.getBoolean("_testing")}),role:"progressbar",style:r.elmDuration?{animationDuration:s+"ms"}:{}},a)}static get style(){return DZ}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),LZ=(t,e,n,i)=>{const o=t.fn(e,n,i);return o.style["animation-duration"]=e+"ms",F("svg",{viewBox:o.viewBox||"0 0 64 64",style:o.style},F("circle",{transform:o.transform||"translate(32,32)",cx:o.cx,cy:o.cy,r:o.r,style:t.elmDuration?{animationDuration:e+"ms"}:{}}))},zZ=(t,e,n,i)=>{const o=t.fn(e,n,i);return o.style["animation-duration"]=e+"ms",F("svg",{viewBox:o.viewBox||"0 0 64 64",style:o.style},F("line",{transform:"translate(32,32)",y1:o.y1,y2:o.y2}))};function m7(){if(typeof customElements>"u")return;["ion-spinner"].forEach(e=>{switch(e){case"ion-spinner":customElements.get(e)||customElements.define(e,RZ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const f4=(t,e,n)=>{let i;const o=()=>!(e()===void 0||t.label!==void 0||n()===null),r=()=>{o()&&mi(()=>{s()})},s=()=>{const l=e();if(l===void 0)return;if(!o()){l.style.removeProperty("width");return}const c=n().scrollWidth;if(c===0&&l.offsetParent===null&&Gt!==void 0&&"IntersectionObserver"in Gt){if(i!==void 0)return;const u=i=new IntersectionObserver(d=>{d[0].intersectionRatio===1&&(s(),u.disconnect(),i=void 0)},{threshold:.01,root:t});u.observe(l);return}l.style.setProperty("width","".concat(c*.75,"px"))};return{calculateNotchWidth:r,destroy:()=>{i&&(i.disconnect(),i=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const g7=(t,e,n)=>{let i,o;if(Gt!==void 0&&"MutationObserver"in Gt){const l=Array.isArray(e)?e:[e];i=new MutationObserver(c=>{for(const u of c)for(const d of u.addedNodes)if(d.nodeType===Node.ELEMENT_NODE&&l.includes(d.slot)){n(),mi(()=>r(d));return}}),i.observe(t,{childList:!0,subtree:!0})}const r=l=>{var c;o&&(o.disconnect(),o=void 0),o=new MutationObserver(u=>{n();for(const d of u)for(const h of d.removedNodes)h.nodeType===Node.ELEMENT_NODE&&h.slot===e&&a()}),o.observe((c=l.parentElement)!==null&&c!==void 0?c:l,{subtree:!0,childList:!0})},s=()=>{i&&(i.disconnect(),i=void 0),a()},a=()=>{o&&(o.disconnect(),o=void 0)};return{destroy:s}},b7=(t,e,n)=>{const i=t==null?0:t.toString().length,o=FZ(i,e);if(n===void 0)return o;try{return n(i,e)}catch(r){return Qr("[ion-input] - Exception in provided `counterFormatter`:",r),o}},FZ=(t,e)=>"".concat(t," / ").concat(e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const PZ=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;height:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-ios{inset-inline-start:0}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.label-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-ios-h[disabled].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[disabled] .sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly] .sc-ion-input-ios-s>ion-input-password-toggle{display:none}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px;font-size:inherit}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.input-disabled.sc-ion-input-ios-h{opacity:0.3}.sc-ion-input-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",BZ=PZ,MZ=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-md-h,.input-label-placement-stacked.sc-ion-input-md-h{min-height:56px}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;height:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-md{inset-inline-start:0}.cloned-input.sc-ion-input-md:disabled{opacity:1}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.label-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-md-h[disabled].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[disabled] .sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly] .sc-ion-input-md-s>ion-input-password-toggle{display:none}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.label-floating.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px;font-size:inherit}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.input-highlight.sc-ion-input-md{inset-inline-start:0}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}.sc-ion-input-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",jZ=MZ,UZ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.ionInput=ke(this,"ionInput",7),this.ionChange=ke(this,"ionChange",7),this.ionBlur=ke(this,"ionBlur",7),this.ionFocus=ke(this,"ionFocus",7),this.inputId="ion-input-".concat(VZ++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.isComposing=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const n=e.target;n&&(this.value=n.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearInputIcon=void 0,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:F1(e,n)}onTypeChange(){const e=this.el.querySelector("ion-input-password-toggle");e&&(e.type=this.type)}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&!this.isComposing&&(e.value=n)}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),Gi(this)}onClickCapture(e){const n=this.nativeInput;n&&e.target===n&&(e.stopPropagation(),this.el.click())}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},Os(this.el)),la(this.el,["tabindex","title","data-form-type","dir"]))}connectedCallback(){const{el:e}=this;this.slotMutationController=g7(e,["label","start","end"],()=>Gi(this)),this.notchController=f4(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput,this.onTypeChange(),this.debounceChanged()}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>Es(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this,i=n==null?n:n.toString();this.ionInput.emit({value:i,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:n}=this;return n===void 0?e==="password":n}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}checkClearOnEdit(e){if(!this.shouldClearOnEdit())return;const i=["Enter","Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didInputClearOnEdit&&this.hasValue()&&!i&&(this.value="",this.emitInputChange(e)),i||(this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:o}=this;return[F("div",{id:i,class:"helper-text"},e),F("div",{id:o,class:"error-text"},n)]}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:o,errorTextId:r}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return r;if(n)return o}renderCounter(){const{counter:e,maxlength:n,counterFormatter:i,value:o}=this;if(!(e!==!0||n===void 0))return F("div",{class:"counter"},b7(o,n,i))}renderBottomContent(){const{counter:e,helperText:n,errorText:i,maxlength:o}=this;if(!(!(n||i)&&!(e===!0&&o!==void 0)))return F("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return F("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?F("slot",{name:"label"}):F("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return De(this)==="md"&&this.fill==="outline"?[F("div",{class:"input-outline-container"},F("div",{class:"input-outline-start"}),F("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},F("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),F("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}render(){const{disabled:e,fill:n,readonly:i,shape:o,inputId:r,labelPlacement:s,el:a,hasFocus:l,clearInputIcon:c}=this,u=De(this),d=this.getValue(),h=Nn("ion-item",this.el),p=u==="md"&&n!=="outline"&&!h,f=u==="ios"?J8:Q8,m=c!=null?c:f,b=this.hasValue(),g=a.querySelector('[slot="start"], [slot="end"]')!==null,x=s==="stacked"||s==="floating"&&(b||l||g);return F(tt,{key:"1094be43093d71694bf0e503d3015401b8cd9574",class:en(this.color,{[u]:!0,"has-value":b,"has-focus":l,"label-floating":x,["input-fill-".concat(n)]:n!==void 0,["input-shape-".concat(o)]:o!==void 0,["input-label-placement-".concat(s)]:!0,"in-item":h,"in-item-color":Nn("ion-item.ion-color",this.el),"input-disabled":e})},F("label",{key:"697c6decb1fb8403777db7a37f54853863421ad9",class:"input-wrapper",htmlFor:r},this.renderLabelContainer(),F("div",{key:"d35f44c3afcf8e075f7f845416cb8500606d3546",class:"native-wrapper"},F("slot",{key:"41ef868873ffd8262d53fd1a5e506c62030dc3f1",name:"start"}),F("input",Object.assign({key:"d98e0aaa285b5424e9589ce36ed4f9910a6859cd",class:"native-input",ref:y=>this.nativeInput=y,id:r,disabled:e,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,type:this.type,value:d,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes)),this.clearInput&&!i&&!e&&F("button",{key:"367d1a1c2eb69d4887fe29ab96ead3230d7dd513","aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:y=>{y.preventDefault()},onFocusin:y=>{y.stopPropagation()},onClick:this.clearTextInput},F("ion-icon",{key:"69afc5c7ea6bfa1bff301635281b536e84277965","aria-hidden":"true",icon:m})),F("slot",{key:"6f770a0ab703b4d19e936a0e1955274bc9f3e941",name:"end"})),p&&F("div",{key:"a048e240432c4d5e11b2c92fa99a0cff07f9a778",class:"input-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"],dir:["onDirChanged"]}}static get style(){return{ios:BZ,md:jZ}}},[38,"ion-input",{color:[513],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearInputIcon:[1,"clear-input-icon"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[516],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[516],required:[4],shape:[1],spellcheck:[4],step:[1],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]},[[2,"click","onClickCapture"]],{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"],dir:["onDirChanged"]}]);let VZ=0;function HZ(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,UZ);break;case"ion-icon":customElements.get(e)||os();break}})}const WZ=HZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const GZ="",qZ=GZ,KZ="",XZ=KZ,YZ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.togglePasswordVisibility=()=>{const{inputElRef:e}=this;e&&(e.type=e.type==="text"?"password":"text")},this.color=void 0,this.showIcon=void 0,this.hideIcon=void 0,this.type="password"}onTypeChange(e){if(e!=="text"&&e!=="password"){hn('[ion-input-password-toggle] - Only inputs of type "text" or "password" are supported. Input of type "'.concat(e,'" is not compatible.'),this.el);return}}connectedCallback(){const{el:e}=this,n=this.inputElRef=e.closest("ion-input");if(!n){hn("[ion-input-password-toggle] - No ancestor ion-input found. This component must be slotted inside of an ion-input.",e);return}this.type=n.type}disconnectedCallback(){this.inputElRef=null}render(){var e,n;const{color:i,type:o}=this,r=De(this),s=(e=this.showIcon)!==null&&e!==void 0?e:_K,a=(n=this.hideIcon)!==null&&n!==void 0?n:$K,l=o==="text";return F(tt,{key:"1a28e078c83e74c72d8bb8189ece93ec2e3fa3d0",class:en(i,{[r]:!0})},F("ion-button",{key:"039d1bab764093bb6fe4a34299b0872abda087fd",mode:r,color:i,fill:"clear",shape:"round","aria-checked":l?"true":"false","aria-label":"show password",role:"switch",type:"button",onPointerDown:c=>{c.preventDefault()},onClick:this.togglePasswordVisibility},F("ion-icon",{key:"26477ee97b808c3d79944bf5e33d4e05f1ae0b3f",slot:"icon-only","aria-hidden":"true",icon:l?a:s})))}get el(){return this}static get watchers(){return{type:["onTypeChange"]}}static get style(){return{ios:qZ,md:XZ}}},[33,"ion-input-password-toggle",{color:[513],showIcon:[1,"show-icon"],hideIcon:[1,"hide-icon"],type:[1025]},void 0,{type:["onTypeChange"]}]);function ZZ(){if(typeof customElements>"u")return;["ion-input-password-toggle","ion-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-input-password-toggle":customElements.get(e)||customElements.define(e,YZ);break;case"ion-button":customElements.get(e)||d4();break;case"ion-icon":customElements.get(e)||os();break;case"ion-ripple-effect":customElements.get(e)||rs();break}})}const JZ=ZZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const QZ=(t,e,n)=>{if(typeof MutationObserver>"u")return;const i=new MutationObserver(o=>{n(eJ(o,e))});return i.observe(t,{childList:!0,subtree:!0}),i},eJ=(t,e)=>{let n;return t.forEach(i=>{for(let o=0;o<i.addedNodes.length;o++)n=tJ(i.addedNodes[o],e)||n}),n},tJ=(t,e)=>{if(t.nodeType!==1)return;const n=t;return(n.tagName===e.toUpperCase()?[n]:Array.from(n.querySelectorAll(e))).find(o=>o.value===n.value)};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nJ=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999))}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",iJ=nJ,oJ=".item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #0054e9)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}",rJ=oJ,sJ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.ionColor=ke(this,"ionColor",7),this.ionStyle=ke(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,["ion-color-".concat(e)]:e!==void 0})}emitStyle(){const{inRange:e,position:n}=this;e||this.ionStyle.emit({label:!0,["label-".concat(n)]:n!==void 0})}render(){const e=this.position,n=De(this);return F(tt,{key:"4da84c95351a74b547f8224ecfa66924d21398c5",class:en(this.color,{[n]:!0,"in-item-color":Nn("ion-item.ion-color",this.el),["label-".concat(e)]:e!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})},F("slot",{key:"ea158ebb620275e5492965234d0ab925d391f919"}))}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:iJ,md:rJ}}},[38,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);function m4(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,sJ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const aJ=m4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lJ="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",cJ=lJ,uJ="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",dJ=uJ,hJ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e!=null&&e.closeOpened?e.closeOpened():!1}render(){const e=De(this),{lines:n,inset:i}=this;return F(tt,{key:"5ff2b0b3989cc99ce17abb8bcd7ec1847940d1ec",role:"list",class:{[e]:!0,["list-".concat(e)]:!0,"list-inset":i,["list-lines-".concat(n)]:n!==void 0,["list-".concat(e,"-lines-").concat(n)]:n!==void 0}})}get el(){return this}static get style(){return{ios:cJ,md:dJ}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function V1(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,hJ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pJ=V1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fJ=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);position:relative;-ms-flex-align:end;align-items:flex-end;font-size:min(1.375rem, 56.1px);font-weight:700;letter-spacing:0}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}::slotted(ion-button),::slotted(ion-label){margin-top:29px;margin-bottom:6px}::slotted(ion-button){--padding-top:0;--padding-bottom:0;-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:3px;margin-inline-end:3px;min-height:1.4em}:host(.list-header-lines-full){--border-width:0 0 0.55px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 0.55px 0}",mJ=fJ,gJ=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-text-color, #000);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);min-height:45px;font-size:0.875rem}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}:host(.list-header-lines-full){--border-width:0 0 1px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 1px 0}",bJ=gJ,xJ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.lines=void 0}render(){const{lines:e}=this,n=De(this);return F(tt,{key:"95ce2135e2b1ad4d7d6020b0fb9bc6e02b3c0851",class:en(this.color,{[n]:!0,["list-header-lines-".concat(e)]:e!==void 0})},F("div",{key:"3065b0a094bc31a90518898a5126a813c8a33816",class:"list-header-inner"},F("slot",{key:"fe15c87d7867f3e5d8185645c49c0228496697b8"})))}static get style(){return{ios:mJ,md:bJ}}},[33,"ion-list-header",{color:[513],lines:[1]}]);function x7(){if(typeof customElements>"u")return;["ion-list-header"].forEach(e=>{switch(e){case"ion-list-header":customElements.get(e)||customElements.define(e,xJ);break}})}const yJ=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",vJ=yJ,wJ=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",kJ=wJ,SJ="cubic-bezier(0.32,0.72,0,1)",CJ="cubic-bezier(0.0,0.0,0.2,1)",TJ="cubic-bezier(1, 0, 0.68, 0.28)",EJ="cubic-bezier(0.4, 0, 0.6, 1)",IJ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=ke(this,"ionWillOpen",7),this.ionWillClose=ke(this,"ionWillClose",7),this.ionDidOpen=ke(this,"ionDidOpen",7),this.ionDidClose=ke(this,"ionDidClose",7),this.ionMenuChange=ke(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=e4.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const n=Dh(document);n&&!n.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,n){const i=this.contentEl;i&&(n!==void 0&&i.classList.remove("menu-content-".concat(n)),i.classList.add("menu-content-".concat(e)),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=D5(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=rt.get("menuType","overlay"));const e=this.contentId!==void 0?document.getElementById(this.contentId):null;if(e===null){Qr('[ion-menu] - Must have a "content" element to listen for drag events on.');return}this.el.contains(e)&&Qr('[ion-menu] - The "contentId" should refer to the main view\'s ion-content, not the ion-content inside of the ion-menu.'),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),Il._register(this),this.menuChanged(),this.gesture=(await ci(()=>Promise.resolve().then(()=>t4),void 0)).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:n=>this.canStart(n),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=Os(this.el)}async componentDidLoad(){this.didLoad=!0;const e=this.el.closest("ion-split-pane");e!==null&&(this.isPaneVisible=await e.isVisible()),this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),Il._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){const n=this.el.closest("ion-split-pane");n!==null&&n===e.target&&(this.isPaneVisible=e.detail.visible,this.updateState())}onBackdropClick(e){this._isOpen&&this.lastOnEnd<e.timeStamp-100&&(e.composedPath&&!e.composedPath().includes(this.menuInnerEl))&&(e.preventDefault(),e.stopPropagation(),this.close(void 0,na))}onKeydown(e){e.key==="Escape"&&this.close(void 0,na)}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0,n){return this.setOpen(!1,e,n)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,n=!0,i){return Il._setOpen(this,e,n,i)}trapKeyboardFocus(e,n){const i=e.target;if(i)if(this.el.contains(i))this.lastFocus=i;else{const{el:o}=this;Ex(o),this.lastFocus===n.activeElement&&x3(o)}}async _setOpen(e,n=!0,i){return!this._isActive()||this.isAnimating||e===this._isOpen?!1:(this.beforeAnimation(e,i),await this.loadAnimation(),await this.startAnimation(e,n),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(e,i),!0))}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,n=D5(this.side);if(e===this.width&&this.animation!==void 0&&n===this.isEndSide)return;this.width=e,this.isEndSide=n,this.animation&&(this.animation.destroy(),this.animation=void 0);const i=this.animation=await Il._createAnimation(this.type,this);rt.getBoolean("animated",!0)||i.duration(0),i.fill("both")}async startAnimation(e,n){const i=!e,o=De(this),r=o==="ios"?SJ:CJ,s=o==="ios"?TJ:EJ,a=this.animation.direction(i?"reverse":"normal").easing(i?s:r);n?await a.play():a.play({sync:!0}),a.getDirection()==="reverse"&&a.direction("normal")}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:Il._getOpenSync()?!1:_J(window,e.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen,La),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){yi(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(e){if(!this.isAnimating||!this.animation){yi(!1,"isAnimating has to be true");return}const i=Z5(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-i:i)}onEnd(e){if(!this.isAnimating||!this.animation){yi(!1,"isAnimating has to be true");return}const n=this._isOpen,i=this.isEndSide,o=Z5(e.deltaX,n,i),r=this.width,s=o/r,a=e.velocityX,l=r/2,c=a>=0&&(a>.2||e.deltaX>l),u=a<=0&&(a<-.2||e.deltaX<-l),d=n?i?c:u:i?u:c;let h=!n&&d;n&&!d&&(h=!0),this.lastOnEnd=e.currentTime;let p=d?.001:-.001;const f=s<0?.01:s;p+=Tu([0,0],[.4,0],[.6,1],[1,1],xo(0,f,.9999))[0]||0;const m=this._isOpen?!d:d;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(h,La),{oneTimeCallback:!0}).progressEnd(m?1:0,this._isOpen?1-p:p,300)}beforeAnimation(e,n){yi(!this.isAnimating,"_before() should not be called while animating"),Ur("android")&&this.el.setAttribute("aria-hidden","true"),this.el.classList.add(J5),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(Q5),this.contentEl&&(this.contentEl.classList.add(e6),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit({role:n})}afterAnimation(e,n){var i;this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e?(Ur("android")&&this.el.removeAttribute("aria-hidden"),this.ionDidOpen.emit(),((i=document.activeElement)===null||i===void 0?void 0:i.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.removeAttribute("aria-hidden"),this.el.classList.remove(J5),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(e6),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(Q5),this.animation&&this.animation.stop(),this.ionDidClose.emit({role:n}),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),e||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1,La))}render(){const{type:e,disabled:n,el:i,isPaneVisible:o,inheritedAttributes:r,side:s}=this,a=De(this);return F(tt,{key:"0a2ba4ff5600b80b54d1b5b45124779c6aa0d2f2",onKeyDown:Oh()?null:this.onKeydown,role:"navigation","aria-label":r["aria-label"]||"menu",class:{[a]:!0,["menu-type-".concat(e)]:!0,"menu-enabled":!n,["menu-side-".concat(s)]:!0,"menu-pane-visible":o,"split-pane-side":Nn("ion-split-pane",i)}},F("div",{key:"40a222bcde4b959abc9939c44e89ea0cf8967aba",class:"menu-inner",part:"container",ref:l=>this.menuInnerEl=l},F("slot",{key:"6a7ec5583294bb314990ff4ce6f25045652c07cb"})),F("ion-backdrop",{key:"95f1e87237f3cc24845d91b744f935bad6bb460d",ref:l=>this.backdropEl=l,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:vJ,md:kJ}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}]),Z5=(t,e,n)=>Math.max(0,e!==n?-t:t),_J=(t,e,n,i)=>n?e>=t.innerWidth-i:e<=i,J5="show-menu",Q5="show-backdrop",e6="menu-content-open";function $J(){if(typeof customElements>"u")return;["ion-menu","ion-backdrop"].forEach(e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,IJ);break;case"ion-backdrop":customElements.get(e)||Yu();break}})}const AJ=$J;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const y7=async t=>{const e=await Il.get(t);return!!(e&&await e.isActive())};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const NJ=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--padding-start:5px;--padding-end:5px;min-height:32px;font-size:clamp(31px, 1.9375rem, 38.13px)}:host(.ion-activated){opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',OJ=NJ,DJ=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:.04;--border-radius:50%;--color:initial;--padding-start:8px;--padding-end:8px;width:3rem;height:3rem;font-size:1.5rem}:host(.ion-color.ion-focused)::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',RJ=DJ,LJ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async()=>Il.toggle(this.menu),this.visible=!1,this.color=void 0,this.disabled=!1,this.menu=void 0,this.autoHide=!0,this.type="button"}componentWillLoad(){this.inheritedAttributes=Os(this.el)}componentDidLoad(){this.visibilityChanged()}async visibilityChanged(){this.visible=await y7(this.menu)}render(){const{color:e,disabled:n,inheritedAttributes:i}=this,o=De(this),r=rt.get("menuIcon",o==="ios"?AK:NK),s=this.autoHide&&!this.visible,a={type:this.type},l=i["aria-label"]||"menu";return F(tt,{key:"3cde3704f28eb275f4a5ff2985bbb68c1024e79c",onClick:this.onClick,"aria-disabled":n?"true":null,"aria-hidden":s?"true":null,class:en(e,{[o]:!0,button:!0,"menu-button-hidden":s,"menu-button-disabled":n,"in-toolbar":Nn("ion-toolbar",this.el),"in-toolbar-color":Nn("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0})},F("button",Object.assign({key:"a02a3374288bd1759b6e352ada8eab0d45c6422f"},a,{disabled:n,class:"button-native",part:"native","aria-label":l}),F("span",{key:"ba699f2277a4e7b27ce5e42faeefc53d8805bb43",class:"button-inner"},F("slot",{key:"829fe6cbdeb173f50d1a670389d1565baa6273e4"},F("ion-icon",{key:"a9a9f7b8dcffc648a8429fe0adbe766869de72fd",part:"icon",icon:r,mode:o,lazy:!1,"aria-hidden":"true"}))),o==="md"&&F("ion-ripple-effect",{key:"48deca9a771a249f2fc76eaa8b9741c8d66d8355",type:"unbounded"})))}get el(){return this}static get style(){return{ios:OJ,md:RJ}}},[33,"ion-menu-button",{color:[513],disabled:[4],menu:[1],autoHide:[4,"auto-hide"],type:[1],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function zJ(){if(typeof customElements>"u")return;["ion-menu-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-menu-button":customElements.get(e)||customElements.define(e,LJ);break;case"ion-icon":customElements.get(e)||os();break;case"ion-ripple-effect":customElements.get(e)||rs();break}})}const FJ=zJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const PJ=":host(.menu-toggle-hidden){display:none}",BJ=PJ,MJ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=()=>Il.toggle(this.menu),this.visible=!1,this.menu=void 0,this.autoHide=!0}connectedCallback(){this.visibilityChanged()}async visibilityChanged(){this.visible=await y7(this.menu)}render(){const e=De(this),n=this.autoHide&&!this.visible;return F(tt,{key:"88e88fa13ac7f10ba3acfe378bd11cda0c7e2749",onClick:this.onClick,"aria-hidden":n?"true":null,class:{[e]:!0,"menu-toggle-hidden":n}},F("slot",{key:"0a14c7b63eda64702d2fd1b4bc7db4809892842d"}))}static get style(){return BJ}},[1,"ion-menu-toggle",{menu:[1],autoHide:[4,"auto-hide"],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function jJ(){if(typeof customElements>"u")return;["ion-menu-toggle"].forEach(e=>{switch(e){case"ion-menu-toggle":customElements.get(e)||customElements.define(e,MJ);break}})}const UJ=jJ,v7=1,w7=2,Dx=3;class T3{constructor(e,n){this.component=e,this.params=n,this.state=v7}async init(e){if(this.state=w7,!this.element){const n=this.component;this.element=await jm(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){yi(this.state!==Dx,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=Dx}}const t6=(t,e,n)=>!t||t.component!==e?!1:I8(t.params,n),n6=(t,e)=>t?t instanceof T3?t:new T3(t,e):null,VJ=t=>t.map(e=>e instanceof T3?e:"component"in e?n6(e.component,e.componentProps===null?void 0:e.componentProps):n6(e,void 0)).filter(e=>e!==null),HJ=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",WJ=HJ,GJ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ke(this,"ionNavWillLoad",7),this.ionNavWillChange=ke(this,"ionNavWillChange",3),this.ionNavDidChange=ke(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=De(this);this.swipeGesture=rt.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await ci(()=>import("./swipe-back-DS_JDPX3.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Ea(e.element,b2),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,i,o){return this.insert(-1,e,n,i,o)}insert(e,n,i,o,r){return this.insertPages(e,[{component:n,componentProps:i}],o,r)}insertPages(e,n,i,o){return this.queueTrns({insertStart:e,insertViews:n,opts:i},o)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,i){const o={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(o.removeView=e,o.removeStart=1):typeof e=="number"&&(o.removeStart=e+1),this.queueTrns(o,i)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,i,o){return this.queueTrns({removeStart:e,removeCount:n,opts:i},o)}setRoot(e,n,i,o){return this.setPages([{component:e,componentProps:n}],i,o)}setPages(e,n,i){return n!=null||(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},i)}setRouteId(e,n,i,o){const r=this.getActiveSync();if(t6(r,e,n))return Promise.resolve({changed:!1,element:r.element});let s;const a=new Promise(u=>s=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const h=new Promise(p=>d=p);return s({changed:!0,element:u,markVisible:async()=>{d(),await l}}),h}};if(i==="root")l=this.setRoot(e,n,c);else{const u=this.views.find(d=>t6(d,e,n));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:o})):i==="forward"?l=this.push(e,n,Object.assign(Object.assign({},c),{animationBuilder:o})):i==="back"&&(l=this.setRoot(e,n,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:o})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,i=n.indexOf(e);return i>0?n[i-1]:void 0}async queueTrns(e,n){var i,o;if(this.isTransitioning&&(!((i=e.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const r=new Promise((s,a)=>{e.resolve=s,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const s=document.querySelector("ion-router");if(s){const a=await s.canTransition();if(a===!1)return!1;if(typeof a=="string")return s.push(a,e.opts.direction||"back"),!1}}return((o=e.insertViews)===null||o===void 0?void 0:o.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),r}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const o=e.direction==="back"?"back":"forward";i.navChanged(o)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),i=this.getEnteringView(e,n);if(!n&&!i)throw new Error("no views in the stack to be removed");i&&i.state===v7&&await i.init(this.el),this.postViewInit(i,n,e);const o=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==n;o&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),n.animationBuilder=e.opts.animationBuilder);let r;o?r=await this.transition(i,n,e):r={hasCompleted:!0,requiresTransition:!1},this.success(r,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,i,o;const r=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(i=(o=e.opts).delegate)!==null&&i!==void 0||(o.delegate=this.delegate),e.removeView!==void 0){yi(e.removeStart!==void 0,"removeView needs removeStart"),yi(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=r-1),e.removeCount<0&&(e.removeCount=r-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===r),e.insertViews&&((e.insertStart<0||e.insertStart>r)&&(e.insertStart=r),e.enteringRequiresTransition=e.insertStart===r);const s=e.insertViews;if(!s)return;yi(s.length>0,"length can not be zero");const a=VJ(s);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===Dx)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const i=e.insertViews;if(i!==void 0)return i[i.length-1];const o=e.removeStart;if(o!==void 0){const r=this.views,s=o+e.removeCount;for(let a=r.length-1;a>=0;a--){const l=r[a];if((a<o||a>=s)&&l!==n)return l}}}postViewInit(e,n,i){var o,r,s;yi(n||e,"Both leavingView and enteringView are null"),yi(i.resolve,"resolve must be valid"),yi(i.reject,"reject must be valid");const a=i.opts,{insertViews:l,removeStart:c,removeCount:u}=i;let d;if(c!==void 0&&u!==void 0){yi(c>=0,"removeStart can not be negative"),yi(u>=0,"removeCount can not be negative"),d=[];for(let p=c;p<c+u;p++){const f=this.views[p];f!==void 0&&f!==e&&f!==n&&d.push(f)}(o=a.direction)!==null&&o!==void 0||(a.direction="back")}const h=this.views.length+((r=l==null?void 0:l.length)!==null&&r!==void 0?r:0)-(u!=null?u:0);if(yi(h>=0,"final balance can not be negative"),h===0)throw hn("[ion-nav] - You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let p=i.insertStart;for(const f of l)this.insertViewAt(f,p),p++;i.enteringRequiresTransition&&((s=a.direction)!==null&&s!==void 0||(a.direction="forward"))}if(d&&d.length>0){for(const p of d)Ea(p.element,_8),Ea(p.element,$8),Ea(p.element,b2);for(const p of d)this.destroyView(p)}}async transition(e,n,i){const o=i.opts,r=o.progressAnimation?d=>{d!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,d.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),d.progressEnd(0,0,0)):this.sbAni=d}:void 0,s=De(this),a=e.element,l=n&&n.element,c=Object.assign(Object.assign({mode:s,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:r,animated:this.animated&&rt.getBoolean("animated",!0),enteringEl:a,leavingEl:l},o),{animationBuilder:o.animationBuilder||this.animation||rt.get("navAnimation")}),{hasCompleted:u}=await N8(c);return this.transitionFinish(u,e,n,o)}transitionFinish(e,n,i,o){const r=e?n:i;return r&&this.unmountInactiveViews(r),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:i,direction:o.direction}}insertViewAt(e,n){const i=this.views,o=i.indexOf(e);o>-1?(yi(e.nav===this,"view is not part of the nav"),i.splice(o,1),i.splice(n,0,e)):(yi(!e.nav,"nav is used"),e.nav=this,i.splice(n,0,e))}removeView(e){yi(e.state===w7||e.state===Dx,"view state should be loaded or destroyed");const n=this.views,i=n.indexOf(e);yi(i>-1,"view must be part of the stack"),i>=0&&n.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,i=n.indexOf(e);for(let o=n.length-1;o>=0;o--){const r=n[o],s=r.element;s&&(o>i?(Ea(s,b2),this.destroyView(r)):o<i&&m3(s,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,i){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let o=e?-.001:.001;e?o+=Tu([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),o+=Tu([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,o,i)}else this.gestureOrAnimationInProgress=!1}render(){return F("slot",{key:"188d0abd6c047d235380f07aac81223b757010e8"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return WJ}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function qJ(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,GJ);break}})}const KJ=qJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const XJ=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-350, var(--ion-text-color-step-650, #a6a6a6));font-size:max(14px, 1rem)}",YJ=XJ,ZJ=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:0.875rem}",JJ=ZJ,QJ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=De(this);return F(tt,{key:"3c3d9b2aa805c0bc1fdc6270a2bbf4dcc1b96c5b",class:en(this.color,{[e]:!0})},F("slot",{key:"39e34682009fcb705ecafe51825162734bdf14d3"}))}static get style(){return{ios:YJ,md:JJ}}},[33,"ion-note",{color:[513]}]);function eQ(){if(typeof customElements>"u")return;["ion-note"].forEach(e=>{switch(e){case"ion-note":customElements.get(e)||customElements.define(e,QJ);break}})}const tQ=eQ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const E3=(t,e,n)=>typeof n=="function"?n(t,e):typeof n=="string"?t[n]===e[n]:Array.isArray(e)?e.includes(t):t===e,Rb=(t,e,n)=>t===void 0?!1:Array.isArray(t)?t.some(i=>E3(i,e,n)):E3(t,e,n),nQ=':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color-checked:var(--ion-color-primary, #0054e9)}:host(.ion-color.radio-checked) .radio-inner{border-color:var(--ion-color-base)}.item-radio.item-ios ion-label{-webkit-margin-start:0;margin-inline-start:0}.radio-inner{width:33%;height:50%}:host(.radio-checked) .radio-inner{-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--color-checked)}:host(.radio-disabled){opacity:0.3}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);top:-8px;display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}:host(.ion-focused) .radio-icon::after{inset-inline-start:-9px}.native-wrapper .radio-icon{width:0.9375rem;height:1.5rem}',iQ=nQ,oQ=':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--color-checked:var(--ion-color-primary, #0054e9);--border-width:0.125rem;--border-style:solid;--border-radius:50%}:host(.ion-color) .radio-inner{background:var(--ion-color-base)}:host(.ion-color.radio-checked) .radio-icon{border-color:var(--ion-color-base)}.radio-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--color)}.radio-inner{border-radius:var(--inner-border-radius);width:calc(50% + var(--border-width));height:calc(50% + var(--border-width));-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background:var(--color-checked)}:host(.radio-checked) .radio-icon{border-color:var(--color-checked)}:host(.radio-checked) .radio-inner{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}:host(.radio-disabled) .label-text-wrapper{opacity:0.38}:host(.radio-disabled) .native-wrapper{opacity:0.63}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}.native-wrapper .radio-icon{width:1.25rem;height:1.25rem}',rQ=oQ,sQ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ke(this,"ionFocus",7),this.ionBlur=ke(this,"ionBlur",7),this.inputId="ion-rb-".concat(aQ++),this.radioGroup=null,this.updateState=()=>{if(this.radioGroup){const{compareWith:e,value:n}=this.radioGroup;this.checked=Rb(n,this.value,e)}},this.onClick=()=>{const{radioGroup:e,checked:n,disabled:i}=this;i||(n&&(e!=null&&e.allowEmptySelection)?this.checked=!1:this.checked=!0)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.checked=!1,this.buttonTabindex=-1,this.color=void 0,this.name=this.inputId,this.disabled=!1,this.value=void 0,this.labelPlacement="start",this.justify=void 0,this.alignment=void 0}valueChanged(){this.updateState()}componentDidLoad(){this.updateState()}async setFocus(e){e!==void 0&&(e.stopPropagation(),e.preventDefault()),this.el.focus()}async setButtonTabindex(e){this.buttonTabindex=e}connectedCallback(){this.value===void 0&&(this.value=this.inputId);const e=this.radioGroup=this.el.closest("ion-radio-group");e&&(this.updateState(),QC(e,"ionValueChange",this.updateState))}disconnectedCallback(){const e=this.radioGroup;e&&(E8(e,"ionValueChange",this.updateState),this.radioGroup=null)}get hasLabel(){return this.el.textContent!==""}renderRadioControl(){return F("div",{class:"radio-icon",part:"container"},F("div",{class:"radio-inner",part:"mark"}),F("div",{class:"radio-ripple"}))}render(){const{checked:e,disabled:n,color:i,el:o,justify:r,labelPlacement:s,hasLabel:a,buttonTabindex:l,alignment:c}=this,u=De(this),d=Nn("ion-item",o);return F(tt,{key:"8badd4aec277addc0793e14df21f73bb345e99b7",onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.onClick,class:en(i,{[u]:!0,"in-item":d,"radio-checked":e,"radio-disabled":n,["radio-justify-".concat(r)]:r!==void 0,["radio-alignment-".concat(c)]:c!==void 0,["radio-label-placement-".concat(s)]:!0,"ion-activatable":!d,"ion-focusable":!d}),role:"radio","aria-checked":e?"true":"false","aria-disabled":n?"true":null,tabindex:l},F("label",{key:"8765b847edc93a1b5a16506e155ed03da807bb10",class:"radio-wrapper"},F("div",{key:"3d568a0192a32d4f0b8a920019c79ff02639b5c9",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!a},part:"label"},F("slot",{key:"331f3dc2ce5f6ed8f124fc4560f92e0f7c668a85"})),F("div",{key:"473bd4aaf448753e385f2dda3fddc9f56379aa19",class:"native-wrapper"},this.renderRadioControl())))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:iQ,md:rQ}}},[33,"ion-radio",{color:[513],name:[1],disabled:[4],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],checked:[32],buttonTabindex:[32],setFocus:[64],setButtonTabindex:[64]},void 0,{value:["valueChanged"]}]);let aQ=0;function g4(){if(typeof customElements>"u")return;["ion-radio"].forEach(e=>{switch(e){case"ion-radio":customElements.get(e)||customElements.define(e,sQ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lQ="ion-radio-group{vertical-align:top}.radio-group-wrapper{display:inline}.radio-group-top{line-height:1.5}.radio-group-top .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.radio-group-top .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid .radio-group-top .error-text{display:block}.ion-touched.ion-invalid .radio-group-top .helper-text{display:none}ion-list .radio-group-top{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}",cQ=lQ,uQ="ion-radio-group{vertical-align:top}.radio-group-wrapper{display:inline}.radio-group-top{line-height:1.5}.radio-group-top .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.radio-group-top .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid .radio-group-top .error-text{display:block}.ion-touched.ion-invalid .radio-group-top .helper-text{display:none}ion-list .radio-group-top{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}",dQ=uQ,hQ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.ionChange=ke(this,"ionChange",7),this.ionValueChange=ke(this,"ionValueChange",7),this.inputId="ion-rg-".concat(pQ++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.labelId="".concat(this.inputId,"-lbl"),this.setRadioTabindex=e=>{const n=this.getRadios(),i=n.find(s=>!s.disabled),o=n.find(s=>s.value===e&&!s.disabled);if(!i&&!o)return;const r=o||i;for(const s of n){const a=s===r?0:-1;s.setButtonTabindex(a)}},this.onClick=e=>{e.preventDefault();const n=e.target&&e.target.closest("ion-radio");if(n&&!n.disabled){const i=this.value,o=n.value;o!==i?(this.value=o,this.emitValueChange(e)):this.allowEmptySelection&&(this.value=void 0,this.emitValueChange(e))}},this.allowEmptySelection=!1,this.compareWith=void 0,this.name=this.inputId,this.value=void 0,this.helperText=void 0,this.errorText=void 0}valueChanged(e){this.setRadioTabindex(e),this.ionValueChange.emit({value:e})}componentDidLoad(){this.valueChanged(this.value)}async connectedCallback(){const e=this.el.querySelector("ion-list-header")||this.el.querySelector("ion-item-divider");if(e){const n=this.label=e.querySelector("ion-label");n&&(this.labelId=n.id=this.name+"-lbl")}}getRadios(){return Array.from(this.el.querySelectorAll("ion-radio"))}emitValueChange(e){const{value:n}=this;this.ionChange.emit({value:n,event:e})}onKeydown(e){const n=!!this.el.closest("ion-select-popover")||!!this.el.closest("ion-select-modal");if(e.target&&!this.el.contains(e.target))return;const i=this.getRadios().filter(o=>!o.disabled);if(e.target&&i.includes(e.target)){const o=i.findIndex(a=>a===e.target),r=i[o];let s;if(["ArrowDown","ArrowRight"].includes(e.key)&&(s=o===i.length-1?i[0]:i[o+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(s=o===0?i[i.length-1]:i[o-1]),s&&i.includes(s)&&(s.setFocus(e),n||(this.value=s.value,this.emitValueChange(e))),[" "].includes(e.key)){const a=this.value;this.value=this.allowEmptySelection&&this.value!==void 0?void 0:r.value,(a!==this.value||this.allowEmptySelection)&&this.emitValueChange(e),e.preventDefault()}}}async setFocus(){const e=this.getRadios().find(n=>n.tabIndex!==-1);e==null||e.setFocus()}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:o}=this;if(e||n)return F("div",{class:"radio-group-top"},F("div",{id:i,class:"helper-text"},e),F("div",{id:o,class:"error-text"},n))}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:o,errorTextId:r}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return r;if(n)return o}render(){const{label:e,labelId:n,el:i,name:o,value:r}=this,s=De(this);return Bm(!0,i,o,r,!1),F(tt,{key:"cac92777297029d7fd1b6af264d92850e35dfbba",role:"radiogroup","aria-labelledby":e?n:null,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,onClick:this.onClick,class:s},this.renderHintText(),F("div",{key:"6b5c634dba30d54eedc031b077863f3d6a9d9e9b",class:"radio-group-wrapper"},F("slot",{key:"443edb3ff6f4c59d4c4324c8a19f2d6def47a322"})))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:cQ,md:dQ}}},[36,"ion-radio-group",{allowEmptySelection:[4,"allow-empty-selection"],compareWith:[1,"compare-with"],name:[1],value:[1032],helperText:[1,"helper-text"],errorText:[1,"error-text"],setFocus:[64]},[[4,"keydown","onKeydown"]],{value:["valueChanged"]}]);let pQ=0;function b4(){if(typeof customElements>"u")return;["ion-radio-group"].forEach(e=>{switch(e){case"ion-radio-group":customElements.get(e)||customElements.define(e,hQ);break}})}function fQ(t){return!vl(t)||t%1===0?0:t.toString().split(".")[1].length}function mQ(t,...e){if(!vl(t))return 0;const n=Math.max(...e.map(i=>fQ(i)));return Number(t.toFixed(n))}const gQ=":host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-pack:center;justify-content:center;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}.range-knob-handle{inset-inline-start:0}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}.range-bar-container{inset-inline-start:0}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.range-label-placement-stacked) .range-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}:host(.range-label-placement-stacked) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host-context([dir=rtl]):host(.range-label-placement-stacked) .label-text-wrapper,:host-context([dir=rtl]).range-label-placement-stacked .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.range-label-placement-stacked:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.in-item.range-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.range-label-placement-stacked) .native-wrapper{margin-bottom:0px}:host{--knob-border-radius:50%;--knob-background:#ffffff;--knob-box-shadow:0px 0.5px 4px rgba(0, 0, 0, 0.12), 0px 6px 13px rgba(0, 0, 0, 0.12);--knob-size:26px;--bar-height:4px;--bar-background:var(--ion-color-step-900, var(--ion-background-color-step-900, #e6e6e6));--bar-background-active:var(--ion-color-primary, #0054e9);--bar-border-radius:2px;--height:42px}:host(.range-item-start-adjustment){-webkit-padding-start:24px;padding-inline-start:24px}:host(.range-item-end-adjustment){-webkit-padding-end:24px;padding-inline-end:24px}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-tick-active{background:var(--ion-color-base)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin:not(.range-label-placement-stacked)){padding-top:calc(8px + 0.75rem)}:host(.range-has-pin.range-label-placement-stacked) .label-text-wrapper{margin-bottom:calc(8px + 0.75rem)}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-bar-active.has-ticks{border-radius:0;-webkit-margin-start:-2px;margin-inline-start:-2px;-webkit-margin-end:-2px;margin-inline-end:-2px}.range-tick{-webkit-margin-start:-2px;margin-inline-start:-2px;border-radius:0;position:absolute;top:17px;width:4px;height:8px;background:var(--ion-color-step-900, var(--ion-background-color-step-900, #e6e6e6));pointer-events:none}.range-tick-active{background:var(--bar-background-active)}.range-pin{-webkit-transform:translate3d(0,  100%,  0) scale(0.01);transform:translate3d(0,  100%,  0) scale(0.01);-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;min-width:28px;-webkit-transition:-webkit-transform 120ms ease;transition:-webkit-transform 120ms ease;transition:transform 120ms ease;transition:transform 120ms ease, -webkit-transform 120ms ease;background:transparent;color:var(--ion-text-color, #000);font-size:0.75rem;text-align:center}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0, calc(-100% + 11px), 0) scale(1);transform:translate3d(0, calc(-100% + 11px), 0) scale(1)}:host(.range-disabled){opacity:0.3}",bQ=gQ,xQ=':host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-pack:center;justify-content:center;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}.range-knob-handle{inset-inline-start:0}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}.range-bar-container{inset-inline-start:0}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.range-label-placement-stacked) .range-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}:host(.range-label-placement-stacked) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host-context([dir=rtl]):host(.range-label-placement-stacked) .label-text-wrapper,:host-context([dir=rtl]).range-label-placement-stacked .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.range-label-placement-stacked:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.in-item.range-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.range-label-placement-stacked) .native-wrapper{margin-bottom:0px}:host{--knob-border-radius:50%;--knob-background:var(--bar-background-active);--knob-box-shadow:none;--knob-size:18px;--bar-height:2px;--bar-background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.26);--bar-background-active:var(--ion-color-primary, #0054e9);--bar-border-radius:0;--height:42px;--pin-background:var(--ion-color-primary, #0054e9);--pin-color:var(--ion-color-primary-contrast, #fff)}::slotted(:not(ion-icon)[slot=start]),::slotted(:not(ion-icon)[slot=end]),.native-wrapper{font-size:0.75rem}:host(.range-item-start-adjustment){-webkit-padding-start:18px;padding-inline-start:18px}:host(.range-item-end-adjustment){-webkit-padding-end:18px;padding-inline-end:18px}:host(.ion-color) .range-bar{background:rgba(var(--ion-color-base-rgb), 0.26)}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-knob,:host(.ion-color) .range-knob::before,:host(.ion-color) .range-pin,:host(.ion-color) .range-pin::before,:host(.ion-color) .range-tick{background:var(--ion-color-base);color:var(--ion-color-contrast)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:14px;margin-inline-end:14px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:14px;margin-inline-start:14px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin:not(.range-label-placement-stacked)){padding-top:1.75rem}:host(.range-has-pin.range-label-placement-stacked) .label-text-wrapper{margin-bottom:1.75rem}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-knob{-webkit-transform:scale(0.67);transform:scale(0.67);-webkit-transition-duration:120ms;transition-duration:120ms;-webkit-transition-property:background-color, border, -webkit-transform;transition-property:background-color, border, -webkit-transform;transition-property:transform, background-color, border;transition-property:transform, background-color, border, -webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;z-index:2}.range-knob::before{border-radius:50%;position:absolute;width:var(--knob-size);height:var(--knob-size);-webkit-transform:scale(1);transform:scale(1);-webkit-transition:0.267s cubic-bezier(0, 0, 0.58, 1);transition:0.267s cubic-bezier(0, 0, 0.58, 1);background:var(--knob-background);content:"";opacity:0.13;pointer-events:none}.range-knob::before{inset-inline-start:0}.range-tick{position:absolute;top:calc((var(--height) - var(--bar-height)) / 2);width:var(--bar-height);height:var(--bar-height);background:var(--bar-background-active);z-index:1;pointer-events:none}.range-tick-active{background:transparent}.range-pin{padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;border-radius:50%;-webkit-transform:translate3d(0,  0,  0) scale(0.01);transform:translate3d(0,  0,  0) scale(0.01);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:1.75rem;height:1.75rem;-webkit-transition:background 120ms ease, -webkit-transform 120ms ease;transition:background 120ms ease, -webkit-transform 120ms ease;transition:transform 120ms ease, background 120ms ease;transition:transform 120ms ease, background 120ms ease, -webkit-transform 120ms ease;background:var(--pin-background);color:var(--pin-color)}.range-pin::before{bottom:-1px;-webkit-margin-start:-13px;margin-inline-start:-13px;border-radius:50% 50% 50% 0;position:absolute;width:26px;height:26px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transition:background 120ms ease;transition:background 120ms ease;background:var(--pin-background);content:"";z-index:-1}.range-pin::before{inset-inline-start:50%}:host-context([dir=rtl]) .range-pin::before{left:unset}[dir=rtl] .range-pin::before{left:unset}@supports selector(:dir(rtl)){.range-pin::before:dir(rtl){left:unset}}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0, calc(-100% + 4px), 0) scale(1);transform:translate3d(0, calc(-100% + 4px), 0) scale(1)}@media (any-hover: hover){.range-knob-handle:hover .range-knob:before{-webkit-transform:scale(2);transform:scale(2);opacity:0.13}}.range-knob-handle.ion-activated .range-knob:before,.range-knob-handle.ion-focused .range-knob:before,.range-knob-handle.range-knob-pressed .range-knob:before{-webkit-transform:scale(2);transform:scale(2)}.range-knob-handle.ion-focused .range-knob::before{opacity:0.13}.range-knob-handle.ion-activated .range-knob::before,.range-knob-handle.range-knob-pressed .range-knob::before{opacity:0.25}:host(:not(.range-has-pin)) .range-knob-pressed .range-knob,:host(:not(.range-has-pin)) .range-knob-handle.ion-focused .range-knob{-webkit-transform:scale(1);transform:scale(1)}:host(.range-disabled) .range-bar-active,:host(.range-disabled) .range-bar,:host(.range-disabled) .range-tick{background-color:var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf))}:host(.range-disabled) .range-knob{-webkit-transform:scale(0.55);transform:scale(0.55);outline:5px solid #fff;background-color:var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf))}:host(.range-disabled) .label-text-wrapper,:host(.range-disabled) ::slotted([slot=start]),:host(.range-disabled) ::slotted([slot=end]){opacity:0.38}',yQ=xQ,vQ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ke(this,"ionChange",7),this.ionInput=ke(this,"ionInput",7),this.ionFocus=ke(this,"ionFocus",7),this.ionBlur=ke(this,"ionBlur",7),this.ionKnobMoveStart=ke(this,"ionKnobMoveStart",7),this.ionKnobMoveEnd=ke(this,"ionKnobMoveEnd",7),this.rangeId="ion-r-".concat(wQ++),this.didLoad=!1,this.noUpdate=!1,this.hasFocus=!1,this.inheritedAttributes={},this.contentEl=null,this.initialContentScrollY=!0,this.compareValues=(e,n)=>typeof e=="object"&&typeof n=="object"?e.lower!==n.lower||e.upper!==n.upper:e!==n,this.clampBounds=e=>xo(this.min,e,this.max),this.ensureValueInBounds=e=>this.dualKnobs?{lower:this.clampBounds(e.lower),upper:this.clampBounds(e.upper)}:this.clampBounds(e),this.setupGesture=async()=>{const e=this.rangeSlider;e&&(this.gesture=(await ci(()=>Promise.resolve().then(()=>t4),void 0)).createGesture({el:e,gestureName:"range",gesturePriority:100,threshold:10,onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.gesture.enable(!this.disabled))},this.handleKeyboard=(e,n)=>{const{ensureValueInBounds:i}=this;let o=this.step;o=o>0?o:1,o=o/(this.max-this.min),n||(o*=-1),e==="A"?this.ratioA=xo(0,this.ratioA+o,1):this.ratioB=xo(0,this.ratioB+o,1),this.ionKnobMoveStart.emit({value:i(this.value)}),this.updateValue(),this.emitValueChange(),this.ionKnobMoveEnd.emit({value:i(this.value)})},this.onBlur=()=>{this.hasFocus&&(this.hasFocus=!1,this.ionBlur.emit())},this.onFocus=()=>{this.hasFocus||(this.hasFocus=!0,this.ionFocus.emit())},this.ratioA=0,this.ratioB=0,this.pressedKnob=void 0,this.color=void 0,this.debounce=void 0,this.name=this.rangeId,this.label=void 0,this.dualKnobs=!1,this.min=0,this.max=100,this.pin=!1,this.pinFormatter=e=>Math.round(e),this.snaps=!1,this.step=1,this.ticks=!0,this.activeBarStart=void 0,this.disabled=!1,this.value=0,this.labelPlacement="start"}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:F1(e,n)}minChanged(e){vl(e)||(this.min=0),this.noUpdate||this.updateRatio()}maxChanged(e){vl(e)||(this.max=100),this.noUpdate||this.updateRatio()}stepChanged(e){vl(e)||(this.step=1)}activeBarStartChanged(){const{activeBarStart:e}=this;e!==void 0&&(e>this.max?(hn("[ion-range] - The value of activeBarStart (".concat(e,") is greater than the max (").concat(this.max,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.max):e<this.min&&(hn("[ion-range] - The value of activeBarStart (".concat(e,") is less than the min (").concat(this.min,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.min))}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}valueChanged(e,n){this.compareValues(e,n)&&this.ionInput.emit({value:this.value}),this.noUpdate||this.updateRatio()}componentWillLoad(){this.el.hasAttribute("id")&&(this.rangeId=this.el.getAttribute("id")),this.inheritedAttributes=Os(this.el),this.min=vl(this.min)?this.min:0,this.max=vl(this.max)?this.max:100,this.step=vl(this.step)?this.step:1}componentDidLoad(){this.originalIonInput=this.ionInput,this.setupGesture(),this.updateRatio(),this.didLoad=!0}connectedCallback(){var e;this.updateRatio(),this.debounceChanged(),this.disabledChanged(),this.activeBarStartChanged(),this.didLoad&&this.setupGesture();const n=Nx(this.el);this.contentEl=(e=n==null?void 0:n.querySelector(".ion-content-scroll-host"))!==null&&e!==void 0?e:n}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}getValue(){var e;const n=(e=this.value)!==null&&e!==void 0?e:0;return this.dualKnobs?typeof n=="object"?n:{lower:0,upper:n}:typeof n=="object"?n.upper:n}emitValueChange(){this.value=this.ensureValueInBounds(this.value),this.ionChange.emit({value:this.value})}onStart(){this.ionKnobMoveStart.emit({value:this.ensureValueInBounds(this.value)})}onMove(e){const{contentEl:n,pressedKnob:i}=this,o=e.currentX;n&&this.pressedKnob===void 0&&(this.initialContentScrollY=k3(n)),i===void 0&&this.setPressedKnob(o),this.update(o)}onEnd(e){var n;const{contentEl:i,initialContentScrollY:o}=this,r=(n=e.currentX)!==null&&n!==void 0?n:e.clientX;this.pressedKnob===void 0&&this.setPressedKnob(r),i&&this.pressedKnob!==void 0&&d7(i,o),this.update(r),this.pressedKnob=void 0,this.emitValueChange(),this.ionKnobMoveEnd.emit({value:this.ensureValueInBounds(this.value)})}update(e){const n=this.rect;let i=xo(0,(e-n.left)/n.width,1);za(this.el)&&(i=1-i),this.snaps&&(i=wd(k2(i,this.min,this.max,this.step),this.min,this.max)),this.pressedKnob==="A"?this.ratioA=i:this.ratioB=i,this.updateValue()}setPressedKnob(e){const n=this.rect=this.rangeSlider.getBoundingClientRect();let i=xo(0,(e-n.left)/n.width,1);za(this.el)&&(i=1-i),this.pressedKnob=!this.dualKnobs||Math.abs(this.ratioA-i)<Math.abs(this.ratioB-i)?"A":"B",this.setFocus(this.pressedKnob)}get valA(){return k2(this.ratioA,this.min,this.max,this.step)}get valB(){return k2(this.ratioB,this.min,this.max,this.step)}get ratioLower(){if(this.dualKnobs)return Math.min(this.ratioA,this.ratioB);const{activeBarStart:e}=this;return e==null?0:wd(e,this.min,this.max)}get ratioUpper(){return this.dualKnobs?Math.max(this.ratioA,this.ratioB):this.ratioA}updateRatio(){const e=this.getValue(),{min:n,max:i}=this;this.dualKnobs?(this.ratioA=wd(e.lower,n,i),this.ratioB=wd(e.upper,n,i)):this.ratioA=wd(e,n,i)}updateValue(){this.noUpdate=!0;const{valA:e,valB:n}=this;this.value=this.dualKnobs?{lower:Math.min(e,n),upper:Math.max(e,n)}:e,this.noUpdate=!1}setFocus(e){if(this.el.shadowRoot){const n=this.el.shadowRoot.querySelector(e==="A"?".range-knob-a":".range-knob-b");n&&n.focus()}}get hasStartSlotContent(){return this.el.querySelector('[slot="start"]')!==null}get hasEndSlotContent(){return this.el.querySelector('[slot="end"]')!==null}get hasLabel(){return this.label!==void 0||this.el.querySelector('[slot="label"]')!==null}renderRangeSlider(){var e;const{min:n,max:i,step:o,handleKeyboard:r,pressedKnob:s,disabled:a,pin:l,ratioLower:c,ratioUpper:u,pinFormatter:d,inheritedAttributes:h}=this;let p="".concat(c*100,"%"),f="".concat(100-u*100,"%");const m=za(this.el),b=m?"right":"left",g=m?"left":"right",x=w=>({[b]:w[b]});this.dualKnobs===!1&&(this.valA<((e=this.activeBarStart)!==null&&e!==void 0?e:this.min)?(p="".concat(u*100,"%"),f="".concat(100-c*100,"%")):(p="".concat(c*100,"%"),f="".concat(100-u*100,"%")));const y={[b]:p,[g]:f},v=[];if(this.snaps&&this.ticks)for(let w=n;w<=i;w+=o){const C=wd(w,n,i),S=Math.min(c,u),E=Math.max(c,u),I={ratio:C,active:C>=S&&C<=E};I[b]="".concat(C*100,"%"),v.push(I)}return F("div",{class:"range-slider",ref:w=>this.rangeSlider=w,onPointerUp:w=>{this.pressedKnob===void 0&&(this.onStart(),this.onEnd(w))}},v.map(w=>F("div",{style:x(w),role:"presentation",class:{"range-tick":!0,"range-tick-active":w.active},part:w.active?"tick-active":"tick"})),F("div",{class:"range-bar-container"},F("div",{class:"range-bar",role:"presentation",part:"bar"}),F("div",{class:{"range-bar":!0,"range-bar-active":!0,"has-ticks":v.length>0},role:"presentation",style:y,part:"bar-active"})),i6(m,{knob:"A",pressed:s==="A",value:this.valA,ratio:this.ratioA,pin:l,pinFormatter:d,disabled:a,handleKeyboard:r,min:n,max:i,inheritedAttributes:h}),this.dualKnobs&&i6(m,{knob:"B",pressed:s==="B",value:this.valB,ratio:this.ratioB,pin:l,pinFormatter:d,disabled:a,handleKeyboard:r,min:n,max:i,inheritedAttributes:h}))}render(){const{disabled:e,el:n,hasLabel:i,rangeId:o,pin:r,pressedKnob:s,labelPlacement:a,label:l}=this,c=Nn("ion-item",n),u=i&&(a==="start"||a==="fixed")||this.hasStartSlotContent,d=c&&!u,h=i&&a==="end"||this.hasEndSlotContent,p=c&&!h,f=De(this);return Bm(!0,n,this.name,JSON.stringify(this.getValue()),e),F(tt,{key:"3e065039ee048f1f70d97dba5dae98fa1315d867",onFocusin:this.onFocus,onFocusout:this.onBlur,id:o,class:en(this.color,{[f]:!0,"in-item":c,"range-disabled":e,"range-pressed":s!==void 0,"range-has-pin":r,["range-label-placement-".concat(a)]:!0,"range-item-start-adjustment":d,"range-item-end-adjustment":p})},F("label",{key:"27ff22842c9ea79a1b9495302b926f70c9080a95",class:"range-wrapper",id:"range-label"},F("div",{key:"da1f9784be02dfe87d2fef34931d8b7f2148189e",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!i},part:"label"},l!==void 0?F("div",{class:"label-text"},l):F("slot",{name:"label"})),F("div",{key:"4389bf30b08214f5b5917fc30976b38f7bcdd29b",class:"native-wrapper"},F("slot",{key:"ad1b2745f8b061ee189617bb5c567e4f1d02250c",name:"start"}),this.renderRangeSlider(),F("slot",{key:"c6dec9e843e232af2a5f16a0f8ee56439c545d7a",name:"end"}))))}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],step:["stepChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}}static get style(){return{ios:bQ,md:yQ}}},[33,"ion-range",{color:[513],debounce:[2],name:[1],label:[1],dualKnobs:[4,"dual-knobs"],min:[2],max:[2],pin:[4],pinFormatter:[16],snaps:[4],step:[2],ticks:[4],activeBarStart:[1026,"active-bar-start"],disabled:[4],value:[1026],labelPlacement:[1,"label-placement"],ratioA:[32],ratioB:[32],pressedKnob:[32]},void 0,{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],step:["stepChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}]),i6=(t,{knob:e,value:n,ratio:i,min:o,max:r,disabled:s,pressed:a,pin:l,handleKeyboard:c,pinFormatter:u,inheritedAttributes:d})=>{const h=t?"right":"left",p=()=>{const m={};return m[h]="".concat(i*100,"%"),m},f=d["aria-label"];return F("div",{onKeyDown:m=>{const b=m.key;b==="ArrowLeft"||b==="ArrowDown"?(c(e,!1),m.preventDefault(),m.stopPropagation()):(b==="ArrowRight"||b==="ArrowUp")&&(c(e,!0),m.preventDefault(),m.stopPropagation())},class:{"range-knob-handle":!0,"range-knob-a":e==="A","range-knob-b":e==="B","range-knob-pressed":a,"range-knob-min":n===o,"range-knob-max":n===r,"ion-activatable":!0,"ion-focusable":!0},style:p(),role:"slider",tabindex:s?-1:0,"aria-label":f!==void 0?f:null,"aria-labelledby":f===void 0?"range-label":null,"aria-valuemin":o,"aria-valuemax":r,"aria-disabled":s?"true":null,"aria-valuenow":n},l&&F("div",{class:"range-pin",role:"presentation",part:"pin"},u(n)),F("div",{class:"range-knob",role:"presentation",part:"knob"}))},k2=(t,e,n,i)=>{let o=(n-e)*t;i>0&&(o=Math.round(o/i)*i+e);const r=xo(e,o,n);return mQ(r,e,n,i)},wd=(t,e,n)=>xo(0,(t-e)/(n-e),1);let wQ=0;function kQ(){if(typeof customElements>"u")return;["ion-range"].forEach(e=>{switch(e){case"ion-range":customElements.get(e)||customElements.define(e,vQ);break}})}const SQ=kQ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const CQ=":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}",TQ=CQ,EQ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return F(tt,{key:"a690022e2abdce6946d24264574e4aa0886a8ea5",class:De(this)},F("slot",{key:"d1a0e831dd1dbfe7877d3ad01d0a3045a5fb29e3"}))}static get style(){return TQ}},[1,"ion-row"]);function IQ(){if(typeof customElements>"u")return;["ion-row"].forEach(e=>{switch(e){case"ion-row":customElements.get(e)||customElements.define(e,EQ);break}})}const _Q=IQ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $Q=".sc-ion-searchbar-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-searchbar-ios-h{color:var(--ion-color-contrast)}.ion-color.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{background:var(--ion-color-base)}.ion-color.sc-ion-searchbar-ios-h .searchbar-clear-button.sc-ion-searchbar-ios,.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.ion-color.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{color:inherit}.searchbar-search-icon.sc-ion-searchbar-ios{color:var(--icon-color);pointer-events:none}.searchbar-input-container.sc-ion-searchbar-ios{display:block;position:relative;-ms-flex-negative:1;flex-shrink:1;width:100%}.searchbar-input.sc-ion-searchbar-ios{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;border-radius:var(--border-radius);display:block;width:100%;min-height:inherit;border:0;outline:none;background:var(--background);font-family:inherit;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-input.sc-ion-searchbar-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-webkit-search-cancel-button,.searchbar-input.sc-ion-searchbar-ios::-ms-clear{display:none}.searchbar-cancel-button.sc-ion-searchbar-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:none;height:100%;border:0;outline:none;color:var(--cancel-button-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-cancel-button.sc-ion-searchbar-ios>div.sc-ion-searchbar-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.searchbar-clear-button.sc-ion-searchbar-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:none;min-height:0;outline:none;color:var(--clear-button-color);-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-clear-button.sc-ion-searchbar-ios:focus{opacity:0.5}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-ios-h .searchbar-clear-button.sc-ion-searchbar-ios{display:block}.searchbar-disabled.sc-ion-searchbar-ios-h{cursor:default;opacity:0.4;pointer-events:none}.sc-ion-searchbar-ios-h{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.07);--border-radius:10px;--box-shadow:none;--cancel-button-color:var(--ion-color-primary, #0054e9);--clear-button-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--color:var(--ion-text-color, #000);--icon-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:12px;padding-bottom:12px;min-height:60px;contain:content}.searchbar-input-container.sc-ion-searchbar-ios{min-height:36px}.searchbar-search-icon.sc-ion-searchbar-ios{-webkit-margin-start:calc(50% - 60px);margin-inline-start:calc(50% - 60px);top:0;position:absolute;width:1.375rem;height:100%;contain:strict}.searchbar-search-icon.sc-ion-searchbar-ios{inset-inline-start:5px}.searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:6px;padding-bottom:6px;height:100%;font-size:1.0625rem;font-weight:400;contain:strict}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:1.75rem;padding-inline-start:1.75rem;-webkit-padding-end:1.75rem;padding-inline-end:1.75rem}.searchbar-clear-button.sc-ion-searchbar-ios{top:0;background-position:center;position:absolute;width:1.875rem;height:100%;border:0;background-color:transparent}.searchbar-clear-button.sc-ion-searchbar-ios{inset-inline-end:0}.searchbar-clear-icon.sc-ion-searchbar-ios{width:1.125rem;height:100%}.searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:0;padding-inline-end:0;padding-top:0;padding-bottom:0;-ms-flex-negative:0;flex-shrink:0;background-color:transparent;font-size:17px}.searchbar-left-aligned.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{-webkit-margin-start:0;margin-inline-start:0}.searchbar-left-aligned.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:1.875rem;padding-inline-start:1.875rem}.searchbar-has-focus.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-should-show-cancel.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{display:block}.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-transition:all 300ms ease;transition:all 300ms ease}.searchbar-animated.searchbar-has-focus.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-animated.searchbar-should-show-cancel.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{opacity:1;pointer-events:auto}.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-margin-end:-100%;margin-inline-end:-100%;-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);-webkit-transition:all 300ms ease;transition:all 300ms ease;opacity:0;pointer-events:none}.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios,.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-transition-duration:0ms;transition-duration:0ms}.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{color:var(--ion-color-base)}@media (any-hover: hover){.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios:hover{color:var(--ion-color-tint)}}ion-toolbar.sc-ion-searchbar-ios-h,ion-toolbar .sc-ion-searchbar-ios-h{padding-top:1px;padding-bottom:15px;min-height:52px}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color),ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color){color:inherit}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-cancel-button.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-cancel-button.sc-ion-searchbar-ios{color:currentColor}ion-toolbar.ion-color.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{color:currentColor;opacity:0.5}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-input.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-input.sc-ion-searchbar-ios{background:rgba(var(--ion-color-contrast-rgb), 0.07);color:currentColor}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-clear-button.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-clear-button.sc-ion-searchbar-ios{color:currentColor;opacity:0.5}",AQ=$Q,NQ=".sc-ion-searchbar-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-searchbar-md-h{color:var(--ion-color-contrast)}.ion-color.sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md{background:var(--ion-color-base)}.ion-color.sc-ion-searchbar-md-h .searchbar-clear-button.sc-ion-searchbar-md,.ion-color.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md,.ion-color.sc-ion-searchbar-md-h .searchbar-search-icon.sc-ion-searchbar-md{color:inherit}.searchbar-search-icon.sc-ion-searchbar-md{color:var(--icon-color);pointer-events:none}.searchbar-input-container.sc-ion-searchbar-md{display:block;position:relative;-ms-flex-negative:1;flex-shrink:1;width:100%}.searchbar-input.sc-ion-searchbar-md{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;border-radius:var(--border-radius);display:block;width:100%;min-height:inherit;border:0;outline:none;background:var(--background);font-family:inherit;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-input.sc-ion-searchbar-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-webkit-search-cancel-button,.searchbar-input.sc-ion-searchbar-md::-ms-clear{display:none}.searchbar-cancel-button.sc-ion-searchbar-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:none;height:100%;border:0;outline:none;color:var(--cancel-button-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-cancel-button.sc-ion-searchbar-md>div.sc-ion-searchbar-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.searchbar-clear-button.sc-ion-searchbar-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:none;min-height:0;outline:none;color:var(--clear-button-color);-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-clear-button.sc-ion-searchbar-md:focus{opacity:0.5}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-md-h .searchbar-clear-button.sc-ion-searchbar-md{display:block}.searchbar-disabled.sc-ion-searchbar-md-h{cursor:default;opacity:0.4;pointer-events:none}.sc-ion-searchbar-md-h{--background:var(--ion-background-color, #fff);--border-radius:2px;--box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);--cancel-button-color:var(--ion-color-step-900, var(--ion-text-color-step-100, #1a1a1a));--clear-button-color:initial;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--icon-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;background:inherit}.searchbar-search-icon.sc-ion-searchbar-md{top:11px;width:1.3125rem;height:1.3125rem}.searchbar-search-icon.sc-ion-searchbar-md{inset-inline-start:16px}.searchbar-cancel-button.sc-ion-searchbar-md{top:0;background-color:transparent;font-size:1.5em}.searchbar-cancel-button.sc-ion-searchbar-md{inset-inline-start:9px}.searchbar-search-icon.sc-ion-searchbar-md,.searchbar-cancel-button.sc-ion-searchbar-md{position:absolute}.searchbar-search-icon.ion-activated.sc-ion-searchbar-md,.searchbar-cancel-button.ion-activated.sc-ion-searchbar-md{background-color:transparent}.searchbar-input.sc-ion-searchbar-md{-webkit-padding-start:3.4375rem;padding-inline-start:3.4375rem;-webkit-padding-end:3.4375rem;padding-inline-end:3.4375rem;padding-top:0.375rem;padding-bottom:0.375rem;background-position:left 8px center;height:auto;font-size:1rem;font-weight:400;line-height:30px}[dir=rtl].sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md,[dir=rtl] .sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md{background-position:right 8px center}[dir=rtl].sc-ion-searchbar-md .searchbar-input.sc-ion-searchbar-md{background-position:right 8px center}@supports selector(:dir(rtl)){.searchbar-input.sc-ion-searchbar-md:dir(rtl){background-position:right 8px center}}.searchbar-clear-button.sc-ion-searchbar-md{top:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;position:absolute;height:100%;border:0;background-color:transparent}.searchbar-clear-button.sc-ion-searchbar-md{inset-inline-end:13px}.searchbar-clear-button.ion-activated.sc-ion-searchbar-md{background-color:transparent}.searchbar-clear-icon.sc-ion-searchbar-md{width:1.375rem;height:100%}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-search-icon.sc-ion-searchbar-md{display:block}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md,.searchbar-should-show-cancel.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md{display:block}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md+.searchbar-search-icon.sc-ion-searchbar-md,.searchbar-should-show-cancel.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md+.searchbar-search-icon.sc-ion-searchbar-md{display:none}ion-toolbar.sc-ion-searchbar-md-h,ion-toolbar .sc-ion-searchbar-md-h{-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:3px;padding-bottom:3px}",OQ=NQ,DQ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.ionInput=ke(this,"ionInput",7),this.ionChange=ke(this,"ionChange",7),this.ionCancel=ke(this,"ionCancel",7),this.ionClear=ke(this,"ionClear",7),this.ionBlur=ke(this,"ionBlur",7),this.ionFocus=ke(this,"ionFocus",7),this.ionStyle=ke(this,"ionStyle",7),this.isCancelVisible=!1,this.shouldAlignLeft=!0,this.inputId="ion-searchbar-".concat(RQ++),this.inheritedAttributes={},this.onClearInput=async e=>(this.ionClear.emit(),new Promise(n=>{setTimeout(()=>{const i=this.getValue();i!==""&&(this.value="",this.emitInputChange(),e&&!this.focused&&(this.setFocus(),this.focusedValue=i)),n()},16*4)})),this.onCancelSearchbar=async e=>{e&&(e.preventDefault(),e.stopPropagation()),this.ionCancel.emit();const n=this.getValue(),i=this.focused;await this.onClearInput(),n&&!i&&this.emitValueChange(e),this.nativeInput&&this.nativeInput.blur()},this.onInput=e=>{const n=e.target;n&&(this.value=n.value),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.focused=!1,this.ionBlur.emit(),this.positionElements(),this.focusedValue!==this.value&&this.emitValueChange(e),this.focusedValue=void 0},this.onFocus=()=>{this.focused=!0,this.focusedValue=this.value,this.ionFocus.emit(),this.positionElements()},this.focused=!1,this.noAnimate=!0,this.color=void 0,this.animated=!1,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.cancelButtonIcon=rt.get("backButtonIcon",Z8),this.cancelButtonText="Cancel",this.clearIcon=void 0,this.debounce=void 0,this.disabled=!1,this.inputmode=void 0,this.enterkeyhint=void 0,this.maxlength=void 0,this.minlength=void 0,this.name=this.inputId,this.placeholder="Search",this.searchIcon=void 0,this.showCancelButton="never",this.showClearButton="always",this.spellcheck=!1,this.type="search",this.value=""}onLangChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{lang:e}),Gi(this)}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),Gi(this)}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:F1(e,n)}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&(e.value=n)}showCancelButtonChanged(){requestAnimationFrame(()=>{this.positionElements(),Gi(this)})}connectedCallback(){this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign({},la(this.el,["lang","dir"]))}componentDidLoad(){this.originalIonInput=this.ionInput,this.positionElements(),this.debounceChanged(),setTimeout(()=>{this.noAnimate=!1},300)}emitStyle(){this.ionStyle.emit({searchbar:!0})}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>Es(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this;this.ionInput.emit({value:n,event:e})}positionElements(){const e=this.getValue(),n=this.shouldAlignLeft,i=De(this),o=!this.animated||e.trim()!==""||!!this.focused;this.shouldAlignLeft=o,i==="ios"&&(n!==o&&this.positionPlaceholder(),this.animated&&this.positionCancelButton())}positionPlaceholder(){const e=this.nativeInput;if(!e)return;const n=za(this.el),i=(this.el.shadowRoot||this.el).querySelector(".searchbar-search-icon");if(this.shouldAlignLeft)e.removeAttribute("style"),i.removeAttribute("style");else{const o=document,r=o.createElement("span");r.innerText=this.placeholder||"",o.body.appendChild(r),mi(()=>{const s=r.offsetWidth;r.remove();const a="calc(50% - "+s/2+"px)",l="calc(50% - "+(s/2+i.clientWidth+8)+"px)";n?(e.style.paddingRight=a,i.style.marginRight=l):(e.style.paddingLeft=a,i.style.marginLeft=l)})}}positionCancelButton(){const e=za(this.el),n=(this.el.shadowRoot||this.el).querySelector(".searchbar-cancel-button"),i=this.shouldShowCancelButton();if(n!==null&&i!==this.isCancelVisible){const o=n.style;if(this.isCancelVisible=i,i)e?o.marginLeft="0":o.marginRight="0";else{const r=n.offsetWidth;r>0&&(e?o.marginLeft=-r+"px":o.marginRight=-r+"px")}}}getValue(){return this.value||""}hasValue(){return this.getValue()!==""}shouldShowCancelButton(){return!(this.showCancelButton==="never"||this.showCancelButton==="focus"&&!this.focused)}shouldShowClearButton(){return!(this.showClearButton==="never"||this.showClearButton==="focus"&&!this.focused)}render(){const{cancelButtonText:e,autocapitalize:n}=this,i=this.animated&&rt.getBoolean("animated",!0),o=De(this),r=this.clearIcon||(o==="ios"?J8:Q8),s=this.searchIcon||(o==="ios"?OK:DK),a=this.shouldShowCancelButton(),l=this.showCancelButton!=="never"&&F("button",{key:"989f3e84c472ada6e66dd9b249d0d268bf17ce26","aria-label":e,"aria-hidden":a?void 0:"true",type:"button",tabIndex:o==="ios"&&!a?-1:void 0,onMouseDown:this.onCancelSearchbar,onTouchStart:this.onCancelSearchbar,class:"searchbar-cancel-button"},F("div",{key:"7d335d4fde33822dc79d26b748ba2e98db7494bb","aria-hidden":"true"},o==="md"?F("ion-icon",{"aria-hidden":"true",mode:o,icon:this.cancelButtonIcon,lazy:!1}):e));return F(tt,{key:"d1a1972725e949fb102c91487aaa7b9d10c2d718",role:"search","aria-disabled":this.disabled?"true":null,class:en(this.color,{[o]:!0,"searchbar-animated":i,"searchbar-disabled":this.disabled,"searchbar-no-animate":i&&this.noAnimate,"searchbar-has-value":this.hasValue(),"searchbar-left-aligned":this.shouldAlignLeft,"searchbar-has-focus":this.focused,"searchbar-should-show-clear":this.shouldShowClearButton(),"searchbar-should-show-cancel":this.shouldShowCancelButton()})},F("div",{key:"add53640b2994cb6b2bf02792dafe51aba6b1684",class:"searchbar-input-container"},F("input",Object.assign({key:"160cc36459a4a652e7f41ccd14dcdc782278779e","aria-label":"search text",disabled:this.disabled,ref:c=>this.nativeInput=c,class:"searchbar-input",inputMode:this.inputmode,enterKeyHint:this.enterkeyhint,name:this.name,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,minLength:this.minlength,maxLength:this.maxlength,placeholder:this.placeholder,type:this.type,value:this.getValue(),autoCapitalize:n==="default"?void 0:n,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,spellcheck:this.spellcheck},this.inheritedAttributes)),o==="md"&&l,F("ion-icon",{key:"8825fd13af0d2dea451ccc0e00ae7b5021dc01c4","aria-hidden":"true",mode:o,icon:s,lazy:!1,class:"searchbar-search-icon"}),F("button",{key:"8a7b56da278b9ca5c4f5a4ee9c01924fd5ae29d8","aria-label":"reset",type:"button","no-blur":!0,class:"searchbar-clear-button",onPointerDown:c=>{c.preventDefault()},onClick:()=>this.onClearInput(!0)},F("ion-icon",{key:"24c55274516ab012d8c25f03525c6cdb9409e52f","aria-hidden":"true",mode:o,icon:r,lazy:!1,class:"searchbar-clear-icon"}))),o==="ios"&&l)}get el(){return this}static get watchers(){return{lang:["onLangChanged"],dir:["onDirChanged"],debounce:["debounceChanged"],value:["valueChanged"],showCancelButton:["showCancelButtonChanged"]}}static get style(){return{ios:AQ,md:OQ}}},[34,"ion-searchbar",{color:[513],animated:[4],autocapitalize:[1],autocomplete:[1],autocorrect:[1],cancelButtonIcon:[1,"cancel-button-icon"],cancelButtonText:[1,"cancel-button-text"],clearIcon:[1,"clear-icon"],debounce:[2],disabled:[4],inputmode:[1],enterkeyhint:[1],maxlength:[2],minlength:[2],name:[1],placeholder:[1],searchIcon:[1,"search-icon"],showCancelButton:[1,"show-cancel-button"],showClearButton:[1,"show-clear-button"],spellcheck:[4],type:[1],value:[1025],focused:[32],noAnimate:[32],setFocus:[64],getInputElement:[64]},void 0,{lang:["onLangChanged"],dir:["onDirChanged"],debounce:["debounceChanged"],value:["valueChanged"],showCancelButton:["showCancelButtonChanged"]}]);let RQ=0;function LQ(){if(typeof customElements>"u")return;["ion-searchbar","ion-icon"].forEach(e=>{switch(e){case"ion-searchbar":customElements.get(e)||customElements.define(e,DQ);break;case"ion-icon":customElements.get(e)||os();break}})}const zQ=LQ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const k7=(t,e)=>{let n,i;const o=(a,l,c)=>{if(typeof document>"u")return;const u=document.elementFromPoint(a,l);if(!u||!e(u)||u.disabled){s();return}u!==n&&(s(),r(u,c))},r=(a,l)=>{n=a,i||(i=n);const c=n;Ho(()=>c.classList.add("ion-activated")),l()},s=(a=!1)=>{if(!n)return;const l=n;Ho(()=>l.classList.remove("ion-activated")),a&&i!==n&&n.click(),n=void 0};return Mm({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:a=>o(a.currentX,a.currentY,TY),onMove:a=>o(a.currentX,a.currentY,EY),onEnd:()=>{s(!0),IY(),i=void 0}})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const FQ=t=>{const e=Re(),n=Re(),i=Re();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,i])},PQ=t=>{const e=Re(),n=Re(),i=Re();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,i])},BQ=t=>{const e=Re(),n=Re(),i=Re();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,i])},MQ=t=>{const e=Re(),n=Re(),i=Re();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,i])},jQ='.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color-step-150, var(--ion-background-color, #fff)));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #0054e9);--button-color-disabled:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999));text-align:center}.action-sheet-wrapper.sc-ion-action-sheet-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);padding-bottom:var(--ion-safe-area-bottom, 0);-webkit-box-sizing:content-box;box-sizing:content-box}.action-sheet-container.sc-ion-action-sheet-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:0;padding-bottom:0}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-size:max(13px, 0.8125rem);font-weight:400;text-align:center}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:max(13px, 0.8125rem);font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px;padding-top:14px;padding-bottom:14px;min-height:56px;font-size:max(20px, 1.25rem);contain:content}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:max(28px, 1.75rem);pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #c5000f)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #c5000f)}}',UQ=jQ,VQ='.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--button-color-disabled:var(--button-color);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-wrapper.sc-ion-action-sheet-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:0}.action-sheet-title.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:1rem;text-align:start}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:0.875rem}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:var(--ion-safe-area-bottom)}.action-sheet-button.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:12px;position:relative;min-height:52px;font-size:1rem;text-align:start;contain:content;overflow:hidden}.action-sheet-icon.sc-ion-action-sheet-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:1.5rem}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}',HQ=VQ,WQ=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.didPresent=ke(this,"ionActionSheetDidPresent",7),this.willPresent=ke(this,"ionActionSheetWillPresent",7),this.willDismiss=ke(this,"ionActionSheetWillDismiss",7),this.didDismiss=ke(this,"ionActionSheetDidDismiss",7),this.didPresentShorthand=ke(this,"didPresent",7),this.willPresentShorthand=ke(this,"willPresent",7),this.willDismissShorthand=ke(this,"willDismiss",7),this.didDismissShorthand=ke(this,"didDismiss",7),this.delegateController=j1(this),this.lockController=Zu(),this.triggerController=Hm(),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,na)},this.dispatchCancelHandler=e=>{const n=e.detail.role;if(Iu(n)){const i=this.getButtons().find(o=>o.role==="cancel");this.callButtonHandler(i)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.buttons=[],this.cssClass=void 0,this.backdropDismiss=!0,this.header=void 0,this.subHeader=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await sp(this,"actionSheetEnter",FQ,BQ),e()}async dismiss(e,n){const i=await this.lockController.lock(),o=await ap(this,e,n,"actionSheetLeave",PQ,MQ);return o&&this.delegateController.removeViewFromDom(),i(),o}onDidDismiss(){return es(this.el,"ionActionSheetDidDismiss")}onWillDismiss(){return es(this.el,"ionActionSheetWillDismiss")}async buttonClick(e){const n=e.role;return Iu(n)?this.dismiss(e.data,n):await this.callButtonHandler(e)?this.dismiss(e.data,e.role):Promise.resolve()}async callButtonHandler(e){return!(e&&await fu(e.handler)===!1)}getButtons(){return this.buttons.map(e=>typeof e=="string"?{text:e}:e)}connectedCallback(){op(this.el),this.triggerChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.triggerController.removeClickListener()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||rp(this.el)}componentDidLoad(){const{groupEl:e,wrapperEl:n}=this;!this.gesture&&De(this)==="ios"&&n&&e&&Su(()=>{e.scrollHeight>e.clientHeight||(this.gesture=k7(n,o=>o.classList.contains("action-sheet-button")),this.gesture.enable(!0))}),this.isOpen===!0&&mi(()=>this.present()),this.triggerChanged()}render(){const{header:e,htmlAttributes:n,overlayIndex:i}=this,o=De(this),r=this.getButtons(),s=r.find(c=>c.role==="cancel"),a=r.filter(c=>c.role!=="cancel"),l="action-sheet-".concat(i,"-header");return F(tt,Object.assign({key:"7bbd202ca9e19727e7514abbe073687d982f80c3",role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?l:null,tabindex:"-1"},n,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign({[o]:!0},oo(this.cssClass)),{"overlay-hidden":!0,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),F("ion-backdrop",{key:"23344a9221a2e6720d7b9de5249dc37256cafa7b",tappable:this.backdropDismiss}),F("div",{key:"fbc2ba15549c2ab04e759e82df6e177fd80cc0a6",tabindex:"0","aria-hidden":"true"}),F("div",{key:"748ee5235d0b4cb26d6f1b7589f77af2e37ad28a",class:"action-sheet-wrapper ion-overlay-wrapper",ref:c=>this.wrapperEl=c},F("div",{key:"7ce5fa236cf75e9b1e49c4725c9a811078706554",class:"action-sheet-container"},F("div",{key:"dc2251f3bcee4a93e3449f09621cbd2b65d329e9",class:"action-sheet-group",ref:c=>this.groupEl=c},e!==void 0&&F("div",{key:"48d325c8a852f56ed57a9ada1a6709d05ba32ee2",id:l,class:{"action-sheet-title":!0,"action-sheet-has-sub-title":this.subHeader!==void 0}},e,this.subHeader&&F("div",{key:"66093728052eb67f37a35f3232761ce4a08896f3",class:"action-sheet-sub-title"},this.subHeader)),a.map(c=>F("button",Object.assign({},c.htmlAttributes,{type:"button",id:c.id,class:o6(c),onClick:()=>this.buttonClick(c),disabled:c.disabled}),F("span",{class:"action-sheet-button-inner"},c.icon&&F("ion-icon",{icon:c.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),c.text),o==="md"&&F("ion-ripple-effect",null)))),s&&F("div",{key:"f4eb8e3e2885b85af5080df18d0de0bdd1d719de",class:"action-sheet-group action-sheet-group-cancel"},F("button",Object.assign({key:"169f4eb09255aba85062baad49ceb151239fbfb7"},s.htmlAttributes,{type:"button",class:o6(s),onClick:()=>this.buttonClick(s)}),F("span",{key:"25fb8a466dd67ea94c79cfb4f9965527e1ce6d42",class:"action-sheet-button-inner"},s.icon&&F("ion-icon",{key:"eb5b071e120a2c86afdf967af6a763a43044d1ca",icon:s.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),s.text),o==="md"&&F("ion-ripple-effect",{key:"452ad7e1052b2c681e2d98de8193949755ad4d54"}))))),F("div",{key:"e1cecf280c987c050d9445e2c458b903f153089b",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:UQ,md:HQ}}},[34,"ion-action-sheet",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],buttons:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],header:[1],subHeader:[1,"sub-header"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),o6=t=>Object.assign({"action-sheet-button":!0,"ion-activatable":!t.disabled,"ion-focusable":!t.disabled,["action-sheet-".concat(t.role)]:t.role!==void 0},oo(t.cssClass));function S7(){if(typeof customElements>"u")return;["ion-action-sheet","ion-backdrop","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-action-sheet":customElements.get(e)||customElements.define(e,WQ);break;case"ion-backdrop":customElements.get(e)||Yu();break;case"ion-icon":customElements.get(e)||os();break;case"ion-ripple-effect":customElements.get(e)||rs();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const GQ=t=>{const e=Re(),n=Re(),i=Re();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},qQ=t=>{const e=Re(),n=Re(),i=Re();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},KQ=t=>{const e=Re(),n=Re(),i=Re();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(150).addAnimation([n,i])},XQ=t=>{const e=Re(),n=Re(),i=Re();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),e.addElement(t).easing("ease-in-out").duration(150).addAnimation([n,i])},YQ=".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-ios,.alert-radio-label.sc-ion-alert-ios{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:clamp(270px, 16.875rem, 324px);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:max(14px, 0.875rem)}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:max(17px, 1.0625rem);font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:max(14px, 0.875rem)}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:max(13px, 0.8125rem);text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:7px;margin-top:10px;-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:7px;padding-bottom:7px;border:0.55px solid var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf));background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1rem}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-input.sc-ion-alert-ios::-webkit-date-and-time-value{height:18px}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #0054e9)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:min(1.375rem, 55.836px);height:min(1.375rem, 55.836px);border-width:0.125rem;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:calc(min(1.375rem, 55.836px) / 8);position:absolute;width:calc(min(1.375rem, 55.836px) / 6 + 1px);height:calc(min(1.375rem, 55.836px) * 0.5);-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:calc(min(1.375rem, 55.836px) / 3)}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios{border-right:none}[dir=rtl].sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}[dir=rtl].sc-ion-alert-ios .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}@supports selector(:dir(rtl)){.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:none}}.alert-button.sc-ion-alert-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:max(44px, 2.75rem);border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #0054e9);font-size:max(17px, 1.0625rem);overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #c5000f)}",ZQ=YQ,JQ=".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-md,.alert-radio-label.sc-ion-alert-md{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:0.875rem}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1.25rem;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1rem}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.alert-message.sc-ion-alert-md{font-size:1rem}@media screen and (max-width: 767px){.alert-message.sc-ion-alert-md{max-height:266px}}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #0054e9)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;border-top:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));overflow:auto}@media screen and (max-width: 767px){.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{max-height:266px}}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373))}.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #0054e9)}.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626))}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;width:calc(100% - 53px);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373));contain:strict}.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #0054e9);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}@media screen and (min-width: 768px){.sc-ion-alert-md-h{--max-width:min(100vw - 96px, 560px);--max-height:min(100vh - 96px, 560px)}}",QQ=JQ,eee=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.didPresent=ke(this,"ionAlertDidPresent",7),this.willPresent=ke(this,"ionAlertWillPresent",7),this.willDismiss=ke(this,"ionAlertWillDismiss",7),this.didDismiss=ke(this,"ionAlertDidDismiss",7),this.didPresentShorthand=ke(this,"didPresent",7),this.willPresentShorthand=ke(this,"willPresent",7),this.willDismissShorthand=ke(this,"willDismiss",7),this.didDismissShorthand=ke(this,"didDismiss",7),this.delegateController=j1(this),this.lockController=Zu(),this.triggerController=Hm(),this.customHTMLEnabled=rt.get("innerHTMLTemplatesEnabled",o4),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,na)},this.dispatchCancelHandler=e=>{const n=e.detail.role;if(Iu(n)){const i=this.processedButtons.find(o=>o.role==="cancel");this.callButtonHandler(i)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}onKeydown(e){var n;const i=new Set(this.processedInputs.map(l=>l.type));if(i.has("checkbox")&&e.key==="Enter"){e.preventDefault();return}if(e.target.classList.contains("alert-wrapper")&&e.key==="Tab"&&e.shiftKey){e.preventDefault(),((n=this.wrapperEl)===null||n===void 0?void 0:n.querySelector(".alert-button:last-child")).focus();return}if(!i.has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button"))return;const o=this.el.querySelectorAll(".alert-radio"),r=Array.from(o).filter(l=>!l.disabled),s=r.findIndex(l=>l.id===e.target.id);let a;if(["ArrowDown","ArrowRight"].includes(e.key)&&(a=s===r.length-1?r[0]:r[s+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(a=s===0?r[r.length-1]:r[s-1]),a&&r.includes(a)){const l=this.processedInputs.find(c=>c.id===(a==null?void 0:a.id));l&&(this.rbClick(l),a.focus())}}buttonsChanged(){const e=this.buttons;this.processedButtons=e.map(n=>typeof n=="string"?{text:n,role:n.toLowerCase()==="cancel"?"cancel":void 0}:n)}inputsChanged(){const e=this.inputs,n=e.find(s=>!s.disabled),o=e.find(s=>s.checked&&!s.disabled)||n,r=new Set(e.map(s=>s.type));r.has("checkbox")&&r.has("radio")&&hn("[ion-alert] - Alert cannot mix input types: ".concat(Array.from(r.values()).join("/"),". Please see alert docs for more info.")),this.inputType=r.values().next().value,this.processedInputs=e.map((s,a)=>{var l;return{type:s.type||"text",name:s.name||"".concat(a),placeholder:s.placeholder||"",value:s.value,label:s.label,checked:!!s.checked,disabled:!!s.disabled,id:s.id||"alert-input-".concat(this.overlayIndex,"-").concat(a),handler:s.handler,min:s.min,max:s.max,cssClass:(l=s.cssClass)!==null&&l!==void 0?l:"",attributes:s.attributes||{},tabindex:s.type==="radio"&&s!==o?-1:0}})}connectedCallback(){op(this.el),this.triggerChanged()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||rp(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&De(this)==="ios"&&this.wrapperEl&&(this.gesture=k7(this.wrapperEl,e=>e.classList.contains("alert-button")),this.gesture.enable(!0)),this.isOpen===!0&&mi(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await sp(this,"alertEnter",GQ,KQ).then(()=>{var n,i;this.buttons.length===1&&this.inputs.length===0?((n=this.wrapperEl)===null||n===void 0?void 0:n.querySelector(".alert-button")).focus():(i=this.wrapperEl)===null||i===void 0||i.focus()}),e()}async dismiss(e,n){const i=await this.lockController.lock(),o=await ap(this,e,n,"alertLeave",qQ,XQ);return o&&this.delegateController.removeViewFromDom(),i(),o}onDidDismiss(){return es(this.el,"ionAlertDidDismiss")}onWillDismiss(){return es(this.el,"ionAlertWillDismiss")}rbClick(e){for(const n of this.processedInputs)n.checked=n===e,n.tabindex=n===e?0:-1;this.activeId=e.id,fu(e.handler,e),Gi(this)}cbClick(e){e.checked=!e.checked,fu(e.handler,e),Gi(this)}async buttonClick(e){const n=e.role,i=this.getValues();if(Iu(n))return this.dismiss({values:i},n);const o=await this.callButtonHandler(e,i);return o!==!1?this.dismiss(Object.assign({values:i},o),e.role):!1}async callButtonHandler(e,n){if(e!=null&&e.handler){const i=await fu(e.handler,n);if(i===!1)return!1;if(typeof i=="object")return i}return{}}getValues(){if(this.processedInputs.length===0)return;if(this.inputType==="radio"){const n=this.processedInputs.find(i=>!!i.checked);return n?n.value:void 0}if(this.inputType==="checkbox")return this.processedInputs.filter(n=>n.checked).map(n=>n.value);const e={};return this.processedInputs.forEach(n=>{e[n.name]=n.value||""}),e}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const e=this.processedInputs,n=De(this);return e.length===0?null:F("div",{class:"alert-checkbox-group"},e.map(i=>F("button",{type:"button",onClick:()=>this.cbClick(i),"aria-checked":"".concat(i.checked),id:i.id,disabled:i.disabled,tabIndex:i.tabindex,role:"checkbox",class:Object.assign(Object.assign({},oo(i.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":i.disabled||!1})},F("div",{class:"alert-button-inner"},F("div",{class:"alert-checkbox-icon"},F("div",{class:"alert-checkbox-inner"})),F("div",{class:"alert-checkbox-label"},i.label)),n==="md"&&F("ion-ripple-effect",null))))}renderRadio(){const e=this.processedInputs;return e.length===0?null:F("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map(n=>F("button",{type:"button",onClick:()=>this.rbClick(n),"aria-checked":"".concat(n.checked),disabled:n.disabled,id:n.id,tabIndex:n.tabindex,class:Object.assign(Object.assign({},oo(n.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":n.disabled||!1}),role:"radio"},F("div",{class:"alert-button-inner"},F("div",{class:"alert-radio-icon"},F("div",{class:"alert-radio-inner"})),F("div",{class:"alert-radio-label"},n.label)))))}renderInput(){const e=this.processedInputs;return e.length===0?null:F("div",{class:"alert-input-group"},e.map(n=>{var i,o,r,s;return n.type==="textarea"?F("div",{class:"alert-input-wrapper"},F("textarea",Object.assign({placeholder:n.placeholder,value:n.value,id:n.id,tabIndex:n.tabindex},n.attributes,{disabled:(o=(i=n.attributes)===null||i===void 0?void 0:i.disabled)!==null&&o!==void 0?o:n.disabled,class:r6(n),onInput:a=>{var l;n.value=a.target.value,!((l=n.attributes)===null||l===void 0)&&l.onInput&&n.attributes.onInput(a)}}))):F("div",{class:"alert-input-wrapper"},F("input",Object.assign({placeholder:n.placeholder,type:n.type,min:n.min,max:n.max,value:n.value,id:n.id,tabIndex:n.tabindex},n.attributes,{disabled:(s=(r=n.attributes)===null||r===void 0?void 0:r.disabled)!==null&&s!==void 0?s:n.disabled,class:r6(n),onInput:a=>{var l;n.value=a.target.value,!((l=n.attributes)===null||l===void 0)&&l.onInput&&n.attributes.onInput(a)}})))}))}renderAlertButtons(){const e=this.processedButtons,n=De(this),i={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return F("div",{class:i},e.map(o=>F("button",Object.assign({},o.htmlAttributes,{type:"button",id:o.id,class:tee(o),tabIndex:0,onClick:()=>this.buttonClick(o)}),F("span",{class:"alert-button-inner"},o.text),n==="md"&&F("ion-ripple-effect",null))))}renderAlertMessage(e){const{customHTMLEnabled:n,message:i}=this;return n?F("div",{id:e,class:"alert-message",innerHTML:i4(i)}):F("div",{id:e,class:"alert-message"},i)}render(){const{overlayIndex:e,header:n,subHeader:i,message:o,htmlAttributes:r}=this,s=De(this),a="alert-".concat(e,"-hdr"),l="alert-".concat(e,"-msg"),c="alert-".concat(e,"-sub-hdr"),u=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert",d=n&&i?"".concat(a," ").concat(c):n?a:i?c:null;return F(tt,{key:"f8ee04fe6a97a2585b302c8e1a9eea3b122e3479",tabindex:"-1",style:{zIndex:"".concat(2e4+e)},class:Object.assign(Object.assign({},oo(this.cssClass)),{[s]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap},F("ion-backdrop",{key:"e9592e879f51c27ef20016beec12c986be632cf3",tappable:this.backdropDismiss}),F("div",{key:"5e9425c3c8acdea6f8006389689c73220e2ce423",tabindex:"0","aria-hidden":"true"}),F("div",Object.assign({key:"615465703e357619681fc36ed7276591a6fe3787",class:"alert-wrapper ion-overlay-wrapper",role:u,"aria-modal":"true","aria-labelledby":d,"aria-describedby":o!==void 0?l:null,tabindex:"0",ref:h=>this.wrapperEl=h},r),F("div",{key:"934eba3759456cd4660e10f274edc7859f908461",class:"alert-head"},n&&F("h2",{key:"7d5d98d71f81f59a2cba227121b6fa01e6cc53b6",id:a,class:"alert-title"},n),i&&!n&&F("h2",{key:"e5f5d35748c58a98ee933eb15cb1dcaf8113e9a7",id:c,class:"alert-sub-title"},i),i&&n&&F("h3",{key:"a5cb89ca02bfa9c4828e694cb0835493a9088b05",id:c,class:"alert-sub-title"},i)),this.renderAlertMessage(l),this.renderAlertInputs(),this.renderAlertButtons()),F("div",{key:"cacffc31c911882df73e6845d15c8bb2d4acab56",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:ZQ,md:QQ}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]],{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}]),r6=t=>{var e,n,i;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":((n=(e=t.attributes)===null||e===void 0?void 0:e.disabled)!==null&&n!==void 0?n:t.disabled)||!1},oo(t.cssClass)),oo(t.attributes?(i=t.attributes.class)===null||i===void 0?void 0:i.toString():""))},tee=t=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,["alert-button-role-".concat(t.role)]:t.role!==void 0},oo(t.cssClass));function C7(){if(typeof customElements>"u")return;["ion-alert","ion-backdrop","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-alert":customElements.get(e)||customElements.define(e,eee);break;case"ion-backdrop":customElements.get(e)||Yu();break;case"ion-ripple-effect":customElements.get(e)||rs();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nee=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',iee=nee,oee=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}',ree=oee,T7=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=B5,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button"}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(e){const{color:n}=this;n===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,o={},r=this.itemStyles.get(n)||{};let s=!1;Object.keys(i).forEach(a=>{if(i[a]){const l="item-".concat(a);r[l]||(s=!0),o[l]=!0}}),!s&&Object.keys(o).length!==Object.keys(r).length&&(s=!0),s&&(this.itemStyles.set(n,o),Gi(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=la(this.el,["aria-label"])}componentDidLoad(){mi(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-router-link, ion-button, a, button");this.multipleInputs=e.length+n.length>1||e.length+i.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:e,detailIcon:n,download:i,labelColorStyles:o,lines:r,disabled:s,href:a,rel:l,target:c,routerAnimation:u,routerDirection:d,inheritedAriaAttributes:h,multipleInputs:p}=this,f={},m=De(this),b=this.isClickable(),g=this.canActivate(),x=b?a===void 0?"button":"a":"div",y=x==="button"?{type:this.type}:{download:i,href:a,rel:l,target:c};let v={};const w=this.getFirstInteractive();(b||w!==void 0&&!p)&&(v={onClick:N=>{if(b&&B1(a,N,d,u),w!==void 0&&!p){const D=N.composedPath()[0];N.isTrusted&&this.el.shadowRoot.contains(D)&&((w.tagName==="ION-INPUT"||w.tagName==="ION-TEXTAREA")&&w.setFocus(),w.click(),N.stopImmediatePropagation())}}});const C=e!==void 0?e:m==="ios"&&b;this.itemStyles.forEach(N=>{Object.assign(f,N)});const S=s||f["item-interactive-disabled"]?"true":null,E=Nn("ion-list",this.el)&&!Nn("ion-radio-group",this.el),I=w!==void 0&&!["ION-INPUT","ION-TEXTAREA"].includes(w.tagName);return F(tt,{key:"15e7d3b674c25232bc2d51573b291c72548690e5","aria-disabled":S,class:Object.assign(Object.assign(Object.assign({},f),o),en(this.color,{item:!0,[m]:!0,"item-lines-default":r===void 0,["item-lines-".concat(r)]:r!==void 0,"item-control-needs-pointer-cursor":I,"item-disabled":s,"in-list":E,"item-multiple-inputs":this.multipleInputs,"ion-activatable":g,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:E?"listitem":null},F(x,Object.assign({key:"f27ae647501e29db554efe8f12f498b165d1dbf6"},y,h,{class:"item-native",part:"native",disabled:s},v),F("slot",{key:"ba039a321df0e4bd5ce11e7a6e7e174c8623b112",name:"start"}),F("div",{key:"e67fdf4ad9086d855da8402ca04ffe292cf6ce67",class:"item-inner"},F("div",{key:"2434348a0b3f10052a340c57a7ac127ddc851729",class:"input-wrapper"},F("slot",{key:"3e27090ae4dab734541b3fd2c94de0f98c0f0030"})),F("slot",{key:"52dc633b60fe612d48d2efffbf2c4c62692bef85",name:"end"}),C&&F("ion-icon",{key:"4fb7397dc8cf4cecb82f19a6151f85112b73992b",icon:n,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":n===B5})),g&&m==="md"&&F("ion-ripple-effect",{key:"09b2413a7a484ecd8ffb00805223727da4d4e344"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:iee,md:ree}}},[33,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[516],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);function x4(){if(typeof customElements>"u")return;["ion-item","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-item":customElements.get(e)||customElements.define(e,T7);break;case"ion-icon":customElements.get(e)||os();break;case"ion-ripple-effect":customElements.get(e)||rs();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Rx="ionKeyboardDidShow",E7="ionKeyboardDidHide",see=150;let Lx={},Fa={},lp=!1;const aee=()=>{Lx={},Fa={},lp=!1},lee=t=>{if(h7.getEngine())cee(t);else{if(!t.visualViewport)return;Fa=k4(t.visualViewport),t.visualViewport.onresize=()=>{$7(t),I7()||_7(t)?y4(t):w4(t)&&v4(t)}}},cee=t=>{t.addEventListener("keyboardDidShow",e=>y4(t,e)),t.addEventListener("keyboardDidHide",()=>v4(t))},y4=(t,e)=>{uee(t,e),lp=!0},v4=t=>{dee(t),lp=!1},I7=()=>{const t=(Lx.height-Fa.height)*Fa.scale;return!lp&&Lx.width===Fa.width&&t>see},_7=t=>lp&&!w4(t),w4=t=>lp&&Fa.height===t.innerHeight,uee=(t,e)=>{const n=e?e.keyboardHeight:t.innerHeight-Fa.height,i=new CustomEvent(Rx,{detail:{keyboardHeight:n}});t.dispatchEvent(i)},dee=t=>{const e=new CustomEvent(E7);t.dispatchEvent(e)},$7=t=>{Lx=Object.assign({},Fa),Fa=k4(t.visualViewport)},k4=t=>({width:Math.round(t.width),height:Math.round(t.height),offsetTop:t.offsetTop,offsetLeft:t.offsetLeft,pageTop:t.pageTop,pageLeft:t.pageLeft,scale:t.scale}),hee=Object.freeze(Object.defineProperty({__proto__:null,KEYBOARD_DID_CLOSE:E7,KEYBOARD_DID_OPEN:Rx,copyVisualViewport:k4,keyboardDidClose:w4,keyboardDidOpen:I7,keyboardDidResize:_7,resetKeyboardAssist:aee,setKeyboardClose:v4,setKeyboardOpen:y4,startKeyboardAssist:lee,trackViewportChanges:$7},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Rh;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Rh||(Rh={}));const S4={getEngine(){const t=$x();if(t!=null&&t.isPluginAvailable("StatusBar"))return t.Plugins.StatusBar},setStyle(t){const e=this.getEngine();e&&e.setStyle(t)},getStyle:async function(){const t=this.getEngine();if(!t)return Rh.Default;const{style:e}=await t.getInfo();return e}},I3=(t,e)=>{if(e===1)return 0;const n=1/(1-e),i=-(e*n);return t*n+i},A7=()=>{!Gt||Gt.innerWidth>=768||S4.setStyle({style:Rh.Dark})},_3=(t=Rh.Default)=>{!Gt||Gt.innerWidth>=768||S4.setStyle({style:t})},N7=async(t,e)=>{typeof t.canDismiss!="function"||!await t.canDismiss(void 0,La)||(e.isRunning()?e.onFinish(()=>{t.dismiss(void 0,"handler")},{oneTimeCallback:!0}):t.dismiss(void 0,"handler"))},$3=t=>.00255275*2.71828**(-14.9619*t)-1.00255*2.71828**(-.0380968*t)+1,zx={MIN_PRESENTING_SCALE:.915},pee=(t,e,n,i)=>{const r=t.offsetHeight;let s=!1,a=!1,l=null,c=null;const u=.2;let d=!0,h=0;const p=()=>l&&Ys(l)?l.scrollY:!0,x=Mm({el:t,gestureName:"modalSwipeToClose",gesturePriority:X8,direction:"y",threshold:10,canStart:y=>{const v=y.event.target;return v===null||!v.closest?!0:(l=Nx(v),l?(Ys(l)?c=Bn(l).querySelector(".inner-scroll"):c=l,!!!l.querySelector("ion-refresher")&&c.scrollTop===0):v.closest("ion-footer")===null)},onStart:y=>{const{deltaY:v}=y;d=p(),a=t.canDismiss!==void 0&&t.canDismiss!==!0,v>0&&l&&k3(l),e.progressStart(!0,s?1:0)},onMove:y=>{const{deltaY:v}=y;v>0&&l&&k3(l);const w=y.deltaY/r,C=w>=0&&a,S=C?u:.9999,E=C?$3(w/S):w,I=xo(1e-4,E,S);e.progressStep(I),I>=.5&&h<.5?_3(n):I<.5&&h>=.5&&A7(),h=I},onEnd:y=>{const v=y.velocityY,w=y.deltaY/r,C=w>=0&&a,S=C?u:.9999,E=C?$3(w/S):w,I=xo(1e-4,E,S),N=(y.deltaY+v*1e3)/r,B=!C&&N>=.5;let D=B?-.001:.001;B?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),D+=Tu([0,0],[.32,.72],[0,1],[1,1],I)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),D+=Tu([0,0],[1,0],[.68,.28],[1,1],I)[0]);const P=s6(B?w*r:(1-I)*r,v);s=B,x.enable(!1),l&&d7(l,d),e.onFinish(()=>{B||x.enable(!0)}).progressEnd(B?1:0,D,P),C&&I>S/4?N7(t,e):B&&i()}});return x},s6=(t,e)=>xo(400,t/Math.abs(e*1.1),500),O7=t=>{const{currentBreakpoint:e,backdropBreakpoint:n,expandToScroll:i}=t,o=n===void 0||n<e,r=o?"calc(var(--backdrop-opacity) * ".concat(e,")"):"0",s=Re("backdropAnimation").fromTo("opacity",0,r);o&&s.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);const a=Re("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:"translateY(".concat(100-e*100,"%)")}]),l=i?void 0:Re("contentAnimation").keyframes([{offset:0,opacity:1,maxHeight:"".concat((1-e)*100,"%")},{offset:1,opacity:1,maxHeight:"".concat(e*100,"%")}]);return{wrapperAnimation:a,backdropAnimation:s,contentAnimation:l}},D7=t=>{const{currentBreakpoint:e,backdropBreakpoint:n}=t,i="calc(var(--backdrop-opacity) * ".concat(I3(e,n),")"),o=[{offset:0,opacity:i},{offset:1,opacity:0}],r=[{offset:0,opacity:i},{offset:n,opacity:0},{offset:1,opacity:0}],s=Re("backdropAnimation").keyframes(n!==0?r:o);return{wrapperAnimation:Re("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(".concat(100-e*100,"%)")},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:s}},fee=()=>{const t=Re().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=Re().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:t,wrapperAnimation:e,contentAnimation:void 0}},a6=(t,e)=>{const{presentingEl:n,currentBreakpoint:i,expandToScroll:o}=e,r=Bn(t),{wrapperAnimation:s,backdropAnimation:a,contentAnimation:l}=i!==void 0?O7(e):fee();a.addElement(r.querySelector("ion-backdrop")),s.addElement(r.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1}),!o&&(l==null||l.addElement(t.querySelector(".ion-page")));const c=Re("entering-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation([s]).beforeAddWrite(()=>{if(o)return;const u=t.querySelector("ion-footer"),d=t.shadowRoot.querySelector("ion-footer");if(u&&!d){const h=u.clientHeight,p=u.cloneNode(!0);t.shadowRoot.appendChild(p),u.style.setProperty("display","none"),u.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.setProperty("padding-bottom","".concat(h,"px"))}});if(l&&c.addAnimation(l),n){const u=window.innerWidth<768,d=n.tagName==="ION-MODAL"&&n.presentingElement!==void 0,h=Bn(n),p=Re().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),f=document.body;if(u){const m=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",b=d?"-10px":m,g=zx.MIN_PRESENTING_SCALE,x="translateY(".concat(b,") scale(").concat(g,")");p.afterStyles({transform:x}).beforeAddWrite(()=>f.style.setProperty("background-color","black")).addElement(n).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:x,borderRadius:"10px 10px 0 0"}]),c.addAnimation(p)}else if(c.addAnimation(a),!d)s.fromTo("opacity","0","1");else{const m=d?zx.MIN_PRESENTING_SCALE:1,b="translateY(-10px) scale(".concat(m,")");p.afterStyles({transform:b}).addElement(h.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:b}]);const g=Re().afterStyles({transform:b}).addElement(h.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:b}]);c.addAnimation([p,g])}}else c.addAnimation(a);return c},mee=()=>{const t=Re().fromTo("opacity","var(--backdrop-opacity)",0),e=Re().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:t,wrapperAnimation:e}},l6=(t,e,n=500)=>{const{presentingEl:i,currentBreakpoint:o,expandToScroll:r}=e,s=Bn(t),{wrapperAnimation:a,backdropAnimation:l}=o!==void 0?D7(e):mee();l.addElement(s.querySelector("ion-backdrop")),a.addElement(s.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const c=Re("leaving-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(a).beforeAddWrite(()=>{if(r)return;const u=t.querySelector("ion-footer");if(u){const d=t.shadowRoot.querySelector("ion-footer");u.style.removeProperty("display"),u.removeAttribute("aria-hidden"),d.style.setProperty("display","none"),d.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.removeProperty("padding-bottom")}});if(i){const u=window.innerWidth<768,d=i.tagName==="ION-MODAL"&&i.presentingElement!==void 0,h=Bn(i),p=Re().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(m=>{if(m!==1)return;i.style.setProperty("overflow",""),Array.from(f.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(g=>g.presentingElement!==void 0).length<=1&&f.style.setProperty("background-color","")}),f=document.body;if(u){const m=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",b=d?"-10px":m,g=zx.MIN_PRESENTING_SCALE,x="translateY(".concat(b,") scale(").concat(g,")");p.addElement(i).keyframes([{offset:0,filter:"contrast(0.85)",transform:x,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),c.addAnimation(p)}else if(c.addAnimation(l),!d)a.fromTo("opacity","1","0");else{const m=d?zx.MIN_PRESENTING_SCALE:1,b="translateY(-10px) scale(".concat(m,")");p.addElement(h.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:b},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const g=Re().addElement(h.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:b},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);c.addAnimation([p,g])}}else c.addAnimation(l);return c},gee=()=>{const t=Re().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=Re().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}]);return{backdropAnimation:t,wrapperAnimation:e,contentAnimation:void 0}},bee=(t,e)=>{const{currentBreakpoint:n,expandToScroll:i}=e,o=Bn(t),{wrapperAnimation:r,backdropAnimation:s,contentAnimation:a}=n!==void 0?O7(e):gee();s.addElement(o.querySelector("ion-backdrop")),r.addElement(o.querySelector(".modal-wrapper")),i&&(a==null||a.addElement(t.querySelector(".ion-page")));const l=Re().addElement(t).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([s,r]).beforeAddWrite(()=>{if(i)return;const c=t.querySelector("ion-footer"),u=t.shadowRoot.querySelector("ion-footer");if(c&&!u){const d=c.clientHeight,h=c.cloneNode(!0);t.shadowRoot.appendChild(h),c.style.setProperty("display","none"),c.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.setProperty("padding-bottom","".concat(d,"px"))}});return a&&l.addAnimation(a),l},xee=()=>{const t=Re().fromTo("opacity","var(--backdrop-opacity)",0),e=Re().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:t,wrapperAnimation:e}},yee=(t,e)=>{const{currentBreakpoint:n,expandToScroll:i}=e,o=Bn(t),{wrapperAnimation:r,backdropAnimation:s}=n!==void 0?D7(e):xee();return s.addElement(o.querySelector("ion-backdrop")),r.addElement(o.querySelector(".modal-wrapper")),Re().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([s,r]).beforeAddWrite(()=>{if(i)return;const l=t.querySelector("ion-footer");if(l){const c=t.shadowRoot.querySelector("ion-footer");l.style.removeProperty("display"),l.removeAttribute("aria-hidden"),c.style.setProperty("display","none"),c.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.removeProperty("padding-bottom")}})},vee=(t,e,n,i,o,r,s=[],a,l,c,u)=>{const d=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],h=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-o,opacity:0},{offset:1,opacity:0}],p={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:o!==0?h:d,CONTENT_KEYFRAMES:[{offset:0,maxHeight:"100%"},{offset:1,maxHeight:"0%"}]},f=t.querySelector("ion-content"),m=n.clientHeight;let b=i,g=0,x=!1,y=null;const v=.95,w=s[s.length-1],C=s[0],S=r.childAnimations.find(U=>U.id==="wrapperAnimation"),E=r.childAnimations.find(U=>U.id==="backdropAnimation"),I=r.childAnimations.find(U=>U.id==="contentAnimation"),N=()=>{t.style.setProperty("pointer-events","auto"),e.style.setProperty("pointer-events","auto"),t.classList.remove(tm)},B=()=>{t.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","none"),t.classList.add(tm)},D=U=>{const X=t.querySelector("ion-footer");if(!X)return;const G=n.nextElementSibling,W=U==="original"?G:X,le=U==="original"?X:G;le.style.removeProperty("display"),le.removeAttribute("aria-hidden");const oe=t.querySelector(".ion-page");if(U==="original")oe.style.removeProperty("padding-bottom");else{const ie=le.clientHeight;oe.style.setProperty("padding-bottom","".concat(ie,"px"))}W.style.setProperty("display","none"),W.setAttribute("aria-hidden","true")};S&&E&&(S.keyframes([...p.WRAPPER_KEYFRAMES]),E.keyframes([...p.BACKDROP_KEYFRAMES]),I==null||I.keyframes([...p.CONTENT_KEYFRAMES]),r.progressStart(!0,1-b),b>o?N():B()),f&&b!==w&&a&&(f.scrollY=!1);const P=U=>{const X=Nx(U.event.target);if(b=l(),!a&&X)return(Ys(X)?Bn(X).querySelector(".inner-scroll"):X).scrollTop===0;if(b===1&&X){const G=Ys(X)?Bn(X).querySelector(".inner-scroll"):X;return!!!X.querySelector("ion-refresher")&&G.scrollTop===0}return!0},_=U=>{if(x=t.canDismiss!==void 0&&t.canDismiss!==!0&&C===0,!a){const X=Nx(U.event.target);y=X&&Ys(X)?Bn(X).querySelector(".inner-scroll"):X}a||D("original"),U.deltaY>0&&f&&(f.scrollY=!1),mi(()=>{t.focus()}),r.progressStart(!0,1-b)},L=U=>{if(!a&&U.deltaY<=0&&y)return;U.deltaY>0&&f&&(f.scrollY=!1);const X=1-b,G=s.length>1?1-s[1]:void 0,W=X+U.deltaY/m,le=G!==void 0&&W>=G&&x,oe=le?v:.9999,ie=le&&G!==void 0?G+$3((W-G)/(oe-G)):W;g=xo(1e-4,ie,oe),r.progressStep(g)},z=U=>{if(!a&&U.deltaY<=0&&y&&y.scrollTop>0)return;const X=U.velocityY,G=(U.deltaY+X*350)/m,W=b-G,le=s.reduce((oe,ie)=>Math.abs(ie-W)<Math.abs(oe-W)?ie:oe);V({breakpoint:le,breakpointOffset:g,canDismiss:x,animated:!0})},V=U=>{const{breakpoint:X,canDismiss:G,breakpointOffset:W,animated:le}=U,oe=G&&X===0,ie=oe?b:X,we=ie!==0;return b=0,S&&E&&(S.keyframes([{offset:0,transform:"translateY(".concat(W*100,"%)")},{offset:1,transform:"translateY(".concat((1-ie)*100,"%)")}]),E.keyframes([{offset:0,opacity:"calc(var(--backdrop-opacity) * ".concat(I3(1-W,o),")")},{offset:1,opacity:"calc(var(--backdrop-opacity) * ".concat(I3(ie,o),")")}]),I&&I.keyframes([{offset:0,maxHeight:"".concat((1-W)*100,"%")},{offset:1,maxHeight:"".concat(ie*100,"%")}]),r.progressStep(0)),q.enable(!1),!a&&we&&D("cloned"),oe?N7(t,r):we||c(),f&&(ie===s[s.length-1]||!a)&&(f.scrollY=!0),new Promise($e=>{r.onFinish(()=>{we?S&&E?mi(()=>{S.keyframes([...p.WRAPPER_KEYFRAMES]),E.keyframes([...p.BACKDROP_KEYFRAMES]),I==null||I.keyframes([...p.CONTENT_KEYFRAMES]),r.progressStart(!0,1-ie),b=ie,u(b),b>o?N():B(),q.enable(!0),$e()}):(q.enable(!0),$e()):$e()},{oneTimeCallback:!0}).progressEnd(1,0,le?500:0)})},q=Mm({el:n,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:P,onStart:_,onMove:L,onEnd:z});return{gesture:q,moveSheetToBreakpoint:V}},wee=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer ion-toolbar:first-of-type{padding-top:6px}',kee=wee,See=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}',Cee=See,Tee=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ke(this,"ionModalDidPresent",7),this.willPresent=ke(this,"ionModalWillPresent",7),this.willDismiss=ke(this,"ionModalWillDismiss",7),this.didDismiss=ke(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=ke(this,"ionBreakpointDidChange",7),this.didPresentShorthand=ke(this,"didPresent",7),this.willPresentShorthand=ke(this,"willPresent",7),this.willDismissShorthand=ke(this,"willDismiss",7),this.didDismissShorthand=ke(this,"didDismiss",7),this.ionMount=ke(this,"ionMount",7),this.lockController=Zu(),this.triggerController=Hm(),this.coreDelegate=a4(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:e,handleBehavior:n}=this;n!=="cycle"||e!==void 0||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:e}=this;e===void 0&&this.dismiss(void 0,na)},this.onLifecycle=e=>{const n=this.usersElement,i=Eee[e.type];if(n&&i){const o=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(o)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.expandToScroll=!0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}breakpointsChanged(e){e!==void 0&&(this.sortedBreakpoints=e.sort((n,i)=>n-i))}connectedCallback(){const{el:e}=this;op(e),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;const{breakpoints:n,initialBreakpoint:i,el:o,htmlAttributes:r}=this,s=this.isSheetModal=n!==void 0&&i!==void 0,a=["aria-label","role"];this.inheritedAttributes=la(o,a),r!==void 0&&a.forEach(l=>{r[l]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[l]:r[l]}),delete r[l])}),s&&(this.currentBreakpoint=this.initialBreakpoint),n!==void 0&&i!==void 0&&!n.includes(i)&&hn("[ion-modal] - Your breakpoints array must include the initialBreakpoint value."),!((e=this.htmlAttributes)===null||e===void 0)&&e.id||rp(this.el)}componentDidLoad(){this.isOpen===!0&&mi(()=>this.present()),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const n=this.el.parentNode,i=this.inline=n!==null&&!this.hasController,o=this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate;return{inline:i,delegate:o}}async checkCanDismiss(e,n){const{canDismiss:i}=this;return typeof i=="function"?i(e,n):i}async present(){const e=await this.lockController.lock();if(this.presented){e();return}const{presentingElement:n,el:i}=this;this.currentBreakpoint=this.initialBreakpoint;const{inline:o,delegate:r}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await jm(r,i,this.component,["ion-page"],this.componentProps,o),Qf(i)?await em(this.usersElement):this.keepContentsMounted||await L8(),Ho(()=>this.el.classList.add("show-modal"));const s=n!==void 0;s&&De(this)==="ios"&&(this.statusBarStyle=await S4.getStyle(),A7()),await sp(this,"modalEnter",a6,bee,{presentingEl:n,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll}),typeof window<"u"&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),mi(()=>{this.gesture&&this.gesture.enable(!0)}))},window.addEventListener(Rx,this.keyboardOpenCallback)),this.isSheetModal?this.initSheetGesture():s&&this.initSwipeToClose(),e()}initSwipeToClose(){var e;if(De(this)!=="ios")return;const{el:n}=this,i=this.leaveAnimation||rt.get("modalLeave",l6),o=this.animation=i(n,{presentingEl:this.presentingElement,expandToScroll:this.expandToScroll});if(!Ax(n)){Ox(n);return}const s=(e=this.statusBarStyle)!==null&&e!==void 0?e:Rh.Default;this.gesture=pee(n,o,s,()=>{this.gestureAnimationDismissing=!0,_3(this.statusBarStyle),this.animation.onFinish(async()=>{await this.dismiss(void 0,La),this.gestureAnimationDismissing=!1})}),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:e,initialBreakpoint:n,backdropBreakpoint:i}=this;if(!e||n===void 0)return;const o=this.enterAnimation||rt.get("modalEnter",a6),r=this.animation=o(this.el,{presentingEl:this.presentingElement,currentBreakpoint:n,backdropBreakpoint:i,expandToScroll:this.expandToScroll});r.progressStart(!0,1);const{gesture:s,moveSheetToBreakpoint:a}=vee(this.el,this.backdropEl,e,n,i,r,this.sortedBreakpoints,this.expandToScroll,()=>{var l;return(l=this.currentBreakpoint)!==null&&l!==void 0?l:0},()=>this.sheetOnDismiss(),l=>{this.currentBreakpoint!==l&&(this.currentBreakpoint=l,this.ionBreakpointDidChange.emit({breakpoint:l}))});this.gesture=s,this.moveSheetToBreakpoint=a,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish(async()=>{this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),await this.dismiss(void 0,La),this.gestureAnimationDismissing=!1})}async dismiss(e,n){var i;if(this.gestureAnimationDismissing&&n!==La)return!1;const o=await this.lockController.lock();if(n!=="handler"&&!await this.checkCanDismiss(e,n))return o(),!1;const{presentingElement:r}=this;r!==void 0&&De(this)==="ios"&&_3(this.statusBarStyle),typeof window<"u"&&this.keyboardOpenCallback&&(window.removeEventListener(Rx,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);const a=await ap(this,e,n,"modalLeave",l6,yee,{presentingEl:r,currentBreakpoint:(i=this.currentBreakpoint)!==null&&i!==void 0?i:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll});if(a){const{delegate:l}=this.getDelegate();await s4(l,this.usersElement),Ho(()=>this.el.classList.remove("show-modal")),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy()}return this.currentBreakpoint=void 0,this.animation=void 0,o(),a}onDidDismiss(){return es(this.el,"ionModalDidDismiss")}onWillDismiss(){return es(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(e){if(!this.isSheetModal){hn("[ion-modal] - setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(e)){hn("[ion-modal] - Attempted to set invalid breakpoint value ".concat(e,". Please double check that the breakpoint value is part of your defined breakpoints."));return}const{currentBreakpoint:n,moveSheetToBreakpoint:i,canDismiss:o,breakpoints:r,animated:s}=this;n!==e&&i&&(this.sheetTransition=i({breakpoint:e,breakpointOffset:1-n,canDismiss:o!==void 0&&o!==!0&&r[0]===0,animated:s}),await this.sheetTransition,this.sheetTransition=void 0)}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:e,currentBreakpoint:n}=this;if(!e||n==null)return!1;const i=e.filter(a=>a!==0),r=(i.indexOf(n)+1)%i.length,s=i[r];return await this.setCurrentBreakpoint(s),!0}render(){const{handle:e,isSheetModal:n,presentingElement:i,htmlAttributes:o,handleBehavior:r,inheritedAttributes:s,focusTrap:a,expandToScroll:l}=this,c=e!==!1&&n,u=De(this),d=i!==void 0&&u==="ios",h=r==="cycle";return F(tt,Object.assign({key:"0991b2e4e32da511e59fb1463b47e4ac1b86d1ca","no-router":!0,tabindex:"-1"},o,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign({[u]:!0,"modal-default":!d&&!n,"modal-card":d,"modal-sheet":n,"modal-no-expand-scroll":n&&!l,"overlay-hidden":!0,[tm]:a===!1},oo(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),F("ion-backdrop",{key:"ca9453ffe1021fb252ad9460676cfabb5633f00f",ref:p=>this.backdropEl=p,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),u==="ios"&&F("div",{key:"9f8da446a7b0f3b26aec856e13f6d6d131a7e37b",class:"modal-shadow"}),F("div",Object.assign({key:"9d08bf600571849c97b58f66df40b496a358d1e1",role:"dialog"},s,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:p=>this.wrapperEl=p}),c&&F("button",{key:"f8bf0d1126e5376519101225d9965727121ee042",class:"modal-handle",tabIndex:h?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:h?this.onHandleClick:void 0,part:"handle"}),F("slot",{key:"6d52849df98f2c6c8fbc03996a931ea6a39a512b"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:kee,md:Cee}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],expandToScroll:[4,"expand-to-scroll"],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),Eee={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};function R7(){if(typeof customElements>"u")return;["ion-modal","ion-backdrop"].forEach(e=>{switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,Tee);break;case"ion-backdrop":customElements.get(e)||Yu();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Iee=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",_ee=Iee,$ee=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",Aee=$ee,Nee=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=ke(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({["title-".concat(e)]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=De(this),n=this.getSize();return F(tt,{key:"3f7b19c99961dbb86c0a925218332528b22e6880",class:en(this.color,{[e]:!0,["title-".concat(n)]:!0,"title-rtl":document.dir==="rtl"})},F("div",{key:"12054fbdd60e40a15875e442c20143766fc34fc3",class:"toolbar-title"},F("slot",{key:"9f14fb14a67d4bd1e4536a4d64a637fbe5a151c7"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:_ee,md:Aee}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function C4(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,Nee);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Oee=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",Dee=Oee,Ree=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",Lee=Ree,zee=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),n=e.find(r=>r.slot==="start");n&&n.classList.add("buttons-first-slot");const i=e.reverse(),o=i.find(r=>r.slot==="end")||i.find(r=>r.slot==="primary")||i.find(r=>r.slot==="secondary");o&&o.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,o={},r=this.childrenStyles.get(n)||{};let s=!1;Object.keys(i).forEach(a=>{const l="toolbar-".concat(a),c=i[a];c!==r[l]&&(s=!0),c&&(o[l]=!0)}),s&&(this.childrenStyles.set(n,o),Gi(this))}render(){const e=De(this),n={};return this.childrenStyles.forEach(i=>{Object.assign(n,i)}),F(tt,{key:"402afe7ce0c97883cedd0e48a5a0492a9bfe76ae",class:Object.assign(Object.assign({},n),en(this.color,{[e]:!0,"in-toolbar":Nn("ion-toolbar",this.el)}))},F("div",{key:"2465a6dc8d507ec650538378d1be2abd399c58ad",class:"toolbar-background",part:"background"}),F("div",{key:"6075096afd12303b961e4fe9ad345ef2887573af",class:"toolbar-container",part:"container"},F("slot",{key:"8b7eec1148cfeb339d87cdf9273f2104703e7601",name:"start"}),F("slot",{key:"b102d3926cade24faf78b7af78ad5e192c4c0308",name:"secondary"}),F("div",{key:"c6ab2e978328324c6f9e7892024cbcd8b8987067",class:"toolbar-content",part:"content"},F("slot",{key:"86f8952c4355a9df5b4bbb95e9d0cafefd272d5b"})),F("slot",{key:"501e43431da6b9dd35b47b79222f948d445f7a78",name:"primary"}),F("slot",{key:"84bf1a15a5e52e8e94df9f479c4ce18004f5ab57",name:"end"})))}get el(){return this}static get style(){return{ios:Dee,md:Lee}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function T4(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,zee);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Fee=".sc-ion-select-modal-ionic-h{height:100%}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(container){display:none}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-ionic{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-ionic{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-ionic{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",Pee=Fee,Bee='.sc-ion-select-modal-ios-h{height:100%}ion-item.sc-ion-select-modal-ios{--inner-padding-end:0}ion-radio.sc-ion-select-modal-ios::after{bottom:0;position:absolute;width:calc(100% - 0.9375rem - 16px);border-width:0px 0px 0.55px 0px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));content:""}ion-radio.sc-ion-select-modal-ios::after{inset-inline-start:calc(0.9375rem + 16px)}',Mee=Bee,jee=".sc-ion-select-modal-md-h{height:100%}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(container){display:none}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",Uee=jee,Vee=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.header=void 0,this.multiple=void 0,this.options=[]}closeModal(){const e=this.el.closest("ion-modal");e&&e.dismiss()}findOptionFromEvent(e){const{options:n}=this;return n.find(i=>i.value===e.target.value)}getValues(e){const{multiple:n,options:i}=this;if(n)return i.filter(r=>r.checked).map(r=>r.value);const o=e?this.findOptionFromEvent(e):null;return o?o.value:void 0}callOptionHandler(e){const n=this.findOptionFromEvent(e),i=this.getValues(e);n!=null&&n.handler&&fu(n.handler,i)}setChecked(e){const{multiple:n}=this,i=this.findOptionFromEvent(e);n&&i&&(i.checked=e.detail.checked)}renderRadioOptions(){const e=this.options.filter(n=>n.checked).map(n=>n.value)[0];return F("ion-radio-group",{value:e,onIonChange:n=>this.callOptionHandler(n)},this.options.map(n=>F("ion-item",{lines:"none",class:Object.assign({"item-radio-checked":n.value===e},oo(n.cssClass))},F("ion-radio",{value:n.value,disabled:n.disabled,justify:"start",labelPlacement:"end",onClick:()=>this.closeModal(),onKeyUp:i=>{i.key===" "&&this.closeModal()}},n.text))))}renderCheckboxOptions(){return this.options.map(e=>F("ion-item",{class:Object.assign({"item-checkbox-checked":e.checked},oo(e.cssClass))},F("ion-checkbox",{value:e.value,disabled:e.disabled,checked:e.checked,justify:"start",labelPlacement:"end",onIonChange:n=>{this.setChecked(n),this.callOptionHandler(n),Gi(this)}},e.text)))}render(){return F(tt,{key:"885198a9f21884e3bfb9bf0af53e0ee3ae37b231",class:De(this)},F("ion-header",{key:"d8b63726869747ac711e4fda78a50ce46f72970c"},F("ion-toolbar",{key:"9ab2a4c1480dd74eeae38d7b580a2e87fb71270e"},this.header!==void 0&&F("ion-title",{key:"87a7034385ef57f55cefdd0371dbb66a64827290"},this.header),F("ion-buttons",{key:"0a35424ea13ca002abc9a43b6138730254f187d0",slot:"end"},F("ion-button",{key:"238bf40b47128d9aa995d14d9ff9ebcae4f79492",onClick:()=>this.closeModal()},"Close")))),F("ion-content",{key:"4a256f3381f8cabbc7194337b8ae4aa1c3ab1066"},F("ion-list",{key:"acd38fc52024632176467ed6a84106a454021544"},this.multiple===!0?this.renderCheckboxOptions():this.renderRadioOptions())))}get el(){return this}static get style(){return{ionic:Pee,ios:Mee,md:Uee}}},[34,"ion-select-modal",{header:[1],multiple:[4],options:[16]}]);function Hee(){if(typeof customElements>"u")return;["ion-select-modal","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-list","ion-radio","ion-radio-group","ion-ripple-effect","ion-title","ion-toolbar"].forEach(e=>{switch(e){case"ion-select-modal":customElements.get(e)||customElements.define(e,Vee);break;case"ion-button":customElements.get(e)||d4();break;case"ion-buttons":customElements.get(e)||l4();break;case"ion-checkbox":customElements.get(e)||c4();break;case"ion-content":customElements.get(e)||u4();break;case"ion-header":customElements.get(e)||p4();break;case"ion-icon":customElements.get(e)||os();break;case"ion-item":customElements.get(e)||x4();break;case"ion-list":customElements.get(e)||V1();break;case"ion-radio":customElements.get(e)||g4();break;case"ion-radio-group":customElements.get(e)||b4();break;case"ion-ripple-effect":customElements.get(e)||rs();break;case"ion-title":customElements.get(e)||C4();break;case"ion-toolbar":customElements.get(e)||T4();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Wee=".sc-ion-select-popover-ios-h ion-list.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-ios,ion-label.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-ios-h{overflow-y:auto}",Gee=Wee,qee=".sc-ion-select-popover-md-h ion-list.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-md,ion-label.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-md-h{overflow-y:auto}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(container){display:none}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-popover-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-popover-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-popover-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",Kee=qee,Xee=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.header=void 0,this.subHeader=void 0,this.message=void 0,this.multiple=void 0,this.options=[]}findOptionFromEvent(e){const{options:n}=this;return n.find(i=>i.value===e.target.value)}callOptionHandler(e){const n=this.findOptionFromEvent(e),i=this.getValues(e);n!=null&&n.handler&&fu(n.handler,i)}dismissParentPopover(){const e=this.el.closest("ion-popover");e&&e.dismiss()}setChecked(e){const{multiple:n}=this,i=this.findOptionFromEvent(e);n&&i&&(i.checked=e.detail.checked)}getValues(e){const{multiple:n,options:i}=this;if(n)return i.filter(r=>r.checked).map(r=>r.value);const o=this.findOptionFromEvent(e);return o?o.value:void 0}renderOptions(e){const{multiple:n}=this;switch(n){case!0:return this.renderCheckboxOptions(e);default:return this.renderRadioOptions(e)}}renderCheckboxOptions(e){return e.map(n=>F("ion-item",{class:Object.assign({"item-checkbox-checked":n.checked},oo(n.cssClass))},F("ion-checkbox",{value:n.value,disabled:n.disabled,checked:n.checked,justify:"start",labelPlacement:"end",onIonChange:i=>{this.setChecked(i),this.callOptionHandler(i),Gi(this)}},n.text)))}renderRadioOptions(e){const n=e.filter(i=>i.checked).map(i=>i.value)[0];return F("ion-radio-group",{value:n,onIonChange:i=>this.callOptionHandler(i)},e.map(i=>F("ion-item",{class:Object.assign({"item-radio-checked":i.value===n},oo(i.cssClass))},F("ion-radio",{value:i.value,disabled:i.disabled,onClick:()=>this.dismissParentPopover(),onKeyUp:o=>{o.key===" "&&this.dismissParentPopover()}},i.text))))}render(){const{header:e,message:n,options:i,subHeader:o}=this,r=o!==void 0||n!==void 0;return F(tt,{key:"542367ab8fb72bfebf7e65630b91017d68827fd6",class:De(this)},F("ion-list",{key:"f2f0f37e1365cd7780b02de1a1698700d0df48a7"},e!==void 0&&F("ion-list-header",{key:"4b8800a68e800f19277a44b7074ca24b70218daf"},e),r&&F("ion-item",{key:"932b7903daf97d5a57d289b7ee49e868bb9b0cf5"},F("ion-label",{key:"fc3f1b69aa2a0bc6125d35692dcad3a8a99fd160",class:"ion-text-wrap"},o!==void 0&&F("h3",{key:"eceab2f47afa95f04b138342b0bdbfa1f50919a8"},o),n!==void 0&&F("p",{key:"70f4e27ad1316318efd0c17efce31e5e45c8fa02"},n))),this.renderOptions(i)))}get el(){return this}static get style(){return{ios:Gee,md:Kee}}},[34,"ion-select-popover",{header:[1],subHeader:[1,"sub-header"],message:[1],multiple:[4],options:[16]}]);function Yee(){if(typeof customElements>"u")return;["ion-select-popover","ion-checkbox","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-radio","ion-radio-group","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-select-popover":customElements.get(e)||customElements.define(e,Xee);break;case"ion-checkbox":customElements.get(e)||c4();break;case"ion-icon":customElements.get(e)||os();break;case"ion-item":customElements.get(e)||x4();break;case"ion-label":customElements.get(e)||m4();break;case"ion-list":customElements.get(e)||V1();break;case"ion-list-header":customElements.get(e)||x7();break;case"ion-radio":customElements.get(e)||g4();break;case"ion-radio-group":customElements.get(e)||b4();break;case"ion-ripple-effect":customElements.get(e)||rs();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Zee=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.has-focus) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.select-bottom{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}:host(.has-focus.ion-valid),:host(.select-expanded.ion-valid),:host(.ion-touched.ion-invalid),:host(.select-expanded.ion-touched.ion-invalid){--border-color:var(--highlight-color)}.select-bottom .error-text{display:none;color:var(--highlight-color-invalid)}.select-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .select-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .select-bottom .helper-text{display:none}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-focus.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px}.select-icon{width:1.125rem;height:1.125rem;color:var(--ion-color-step-650, var(--ion-text-color-step-350, #595959))}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 1.125rem - 4px)}:host(.select-disabled){opacity:0.3}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",Jee=Zee,Qee=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.has-focus) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.select-bottom{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}:host(.has-focus.ion-valid),:host(.select-expanded.ion-valid),:host(.ion-touched.ion-invalid),:host(.select-expanded.ion-touched.ion-invalid){--border-color:var(--highlight-color)}.select-bottom .error-text{display:none;color:var(--highlight-color-invalid)}.select-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .select-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .select-bottom .helper-text{display:none}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-focus.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.select-fill-solid){--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-solid) .select-wrapper{border-bottom:var(--border-width) var(--border-style) var(--border-color)}:host(.select-expanded.select-fill-solid.ion-valid),:host(.has-focus.select-fill-solid.ion-valid),:host(.select-fill-solid.ion-touched.ion-invalid){--border-color:var(--highlight-color)}:host(.select-fill-solid) .select-bottom{border-top:none}@media (any-hover: hover){:host(.select-fill-solid:hover){--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-solid.select-expanded),:host(.select-fill-solid.has-focus){--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--highlight-color)}:host(.select-fill-solid) .select-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}:host(.label-floating.select-fill-solid) .label-text-wrapper{max-width:calc(100% / 0.75)}:host(.in-item.select-expanded.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.has-focus.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid.select-fill-solid) .select-wrapper .select-icon{color:var(--highlight-color)}:host(.select-fill-outline){--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-outline.select-shape-round){--border-radius:28px;--padding-start:32px;--padding-end:32px}:host(.has-focus.select-fill-outline.ion-valid),:host(.select-fill-outline.ion-touched.ion-invalid){--border-color:var(--highlight-color)}@media (any-hover: hover){:host(.select-fill-outline:hover){--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-outline.select-expanded),:host(.select-fill-outline.has-focus){--border-width:var(--highlight-height);--border-color:var(--highlight-color)}:host(.select-fill-outline) .select-bottom{border-top:none}:host(.select-fill-outline) .select-wrapper{border-bottom:none}:host(.select-ltr.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-fill-outline.select-label-placement-floating) .label-text-wrapper{position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .label-text-wrapper{position:relative;z-index:1}:host(.label-floating.select-fill-outline) .label-text-wrapper{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}:host(.select-fill-outline.select-label-placement-stacked) select,:host(.select-fill-outline.select-label-placement-floating) select{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}:host(.select-fill-outline) .select-outline-container{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-end{pointer-events:none}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-notch,:host(.select-fill-outline) .select-outline-end{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.select-fill-outline) .select-outline-notch{max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .notch-spacer{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none}:host(.select-fill-outline) .select-outline-start{-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-start{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius)}:host(.select-fill-outline) .select-outline-start{width:calc(var(--padding-start) - 4px)}:host(.select-fill-outline) .select-outline-end{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-end{border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px}:host(.select-fill-outline) .select-outline-end{-ms-flex-positive:1;flex-grow:1}:host(.label-floating.select-fill-outline) .select-outline-notch{border-top:none}:host(.in-item.select-expanded.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.has-focus.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid.select-fill-outline) .select-wrapper .select-icon{color:var(--highlight-color)}:host{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px}:host(.select-label-placement-floating.select-expanded) .label-text-wrapper,:host(.select-label-placement-floating.has-focus) .label-text-wrapper,:host(.select-label-placement-stacked.select-expanded) .label-text-wrapper,:host(.select-label-placement-stacked.has-focus) .label-text-wrapper{color:var(--highlight-color)}:host(.has-focus.select-label-placement-floating.ion-valid) .label-text-wrapper,:host(.select-label-placement-floating.ion-touched.ion-invalid) .label-text-wrapper,:host(.has-focus.select-label-placement-stacked.ion-valid) .label-text-wrapper,:host(.select-label-placement-stacked.ion-touched.ion-invalid) .label-text-wrapper{color:var(--highlight-color)}.select-highlight{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.select-highlight{inset-inline-start:0}:host(.select-expanded) .select-highlight,:host(.has-focus) .select-highlight{-webkit-transform:scale(1);transform:scale(1)}:host(.in-item) .select-highlight{bottom:0}:host(.in-item) .select-highlight{inset-inline-start:0}.select-icon{width:0.8125rem;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);color:var(--ion-color-step-500, var(--ion-text-color-step-500, gray))}:host(.select-expanded:not(.has-expanded-icon)) .select-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.in-item.select-expanded) .select-wrapper .select-icon,:host(.in-item.has-focus) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid) .select-wrapper .select-icon{color:var(--ion-color-step-500, var(--ion-text-color-step-500, gray))}:host(.select-expanded) .select-wrapper .select-icon,:host(.has-focus.ion-valid) .select-wrapper .select-icon,:host(.ion-touched.ion-invalid) .select-wrapper .select-icon,:host(.has-focus) .select-wrapper .select-icon{color:var(--highlight-color)}:host(.select-shape-round){--border-radius:16px}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 0.8125rem - 4px)}:host(.select-disabled){opacity:0.38}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",ete=Qee,tte=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ke(this,"ionChange",7),this.ionCancel=ke(this,"ionCancel",7),this.ionDismiss=ke(this,"ionDismiss",7),this.ionFocus=ke(this,"ionFocus",7),this.ionBlur=ke(this,"ionBlur",7),this.ionStyle=ke(this,"ionStyle",7),this.inputId="ion-sel-".concat(ote++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.onClick=e=>{const n=e.target,i=n.closest('[slot="start"], [slot="end"]');n===this.el||i===null?(this.setFocus(),this.open(e)):e.preventDefault()},this.onFocus=()=>{this.hasFocus=!0,this.ionFocus.emit()},this.onBlur=()=>{this.hasFocus=!1,this.ionBlur.emit()},this.isExpanded=!1,this.hasFocus=!1,this.cancelText="Cancel",this.color=void 0,this.compareWith=void 0,this.disabled=!1,this.fill=void 0,this.errorText=void 0,this.helperText=void 0,this.interface="alert",this.interfaceOptions={},this.justify=void 0,this.label=void 0,this.labelPlacement="start",this.multiple=!1,this.name=this.inputId,this.okText="OK",this.placeholder=void 0,this.selectedText=void 0,this.toggleIcon=void 0,this.expandedIcon=void 0,this.shape=void 0,this.value=void 0,this.required=!1}styleChanged(){this.emitStyle()}setValue(e){this.value=e,this.ionChange.emit({value:e})}async connectedCallback(){const{el:e}=this;this.notchController=f4(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.updateOverlayOptions(),this.emitStyle(),this.mutationO=QZ(this.el,"ion-select-option",async()=>{this.updateOverlayOptions(),Gi(this)})}componentWillLoad(){this.inheritedAttributes=la(this.el,["aria-label"])}componentDidLoad(){this.emitStyle()}disconnectedCallback(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async open(e){if(this.disabled||this.isExpanded)return;this.isExpanded=!0;const n=this.overlay=await this.createOverlay(e),i=()=>{const o=this.childOpts.findIndex(r=>r.value===this.value);if(o>-1){const r=n.querySelector(".select-interface-option:nth-child(".concat(o+1,")"));if(r){const s=r.querySelector("ion-radio, ion-checkbox");s&&(r.scrollIntoView({block:"nearest"}),s.setFocus()),Cx(r)}}else{const r=n.querySelector("ion-radio:not(.radio-disabled), ion-checkbox:not(.checkbox-disabled)");r&&(r.setFocus(),Cx(r.closest("ion-item")))}};if(this.interface==="modal")n.addEventListener("ionModalWillPresent",i,{once:!0});else if(this.interface==="popover")n.addEventListener("ionPopoverWillPresent",i,{once:!0});else{const o=()=>{requestAnimationFrame(()=>{i()})};this.interface==="alert"?n.addEventListener("ionAlertWillPresent",o,{once:!0}):this.interface==="action-sheet"&&n.addEventListener("ionActionSheetWillPresent",o,{once:!0})}return n.onDidDismiss().then(()=>{this.overlay=void 0,this.isExpanded=!1,this.ionDismiss.emit(),this.setFocus()}),await n.present(),n}createOverlay(e){let n=this.interface;return n==="action-sheet"&&this.multiple&&(hn('[ion-select] - Interface cannot be "'.concat(n,'" with a multi-value select. Using the "alert" interface instead.')),n="alert"),n==="popover"&&!e&&(hn('[ion-select] - Interface cannot be a "'.concat(n,'" without passing an event. Using the "alert" interface instead.')),n="alert"),n==="action-sheet"?this.openActionSheet():n==="popover"?this.openPopover(e):n==="modal"?this.openModal():this.openAlert()}updateOverlayOptions(){const e=this.overlay;if(!e)return;const n=this.childOpts,i=this.value;switch(this.interface){case"action-sheet":e.buttons=this.createActionSheetButtons(n,i);break;case"popover":const o=e.querySelector("ion-select-popover");o&&(o.options=this.createOverlaySelectOptions(n,i));break;case"modal":const r=e.querySelector("ion-select-modal");r&&(r.options=this.createOverlaySelectOptions(n,i));break;case"alert":const s=this.multiple?"checkbox":"radio";e.inputs=this.createAlertInputs(n,s,i);break}}createActionSheetButtons(e,n){const i=e.map(o=>{const r=Lb(o),s=Array.from(o.classList).filter(l=>l!=="hydrated").join(" "),a="".concat(S2," ").concat(s);return{role:Rb(n,r,this.compareWith)?"selected":"",text:o.textContent,cssClass:a,handler:()=>{this.setValue(r)}}});return i.push({text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}}),i}createAlertInputs(e,n,i){return e.map(r=>{const s=Lb(r),a=Array.from(r.classList).filter(c=>c!=="hydrated").join(" "),l="".concat(S2," ").concat(a);return{type:n,cssClass:l,label:r.textContent||"",value:s,checked:Rb(i,s,this.compareWith),disabled:r.disabled}})}createOverlaySelectOptions(e,n){return e.map(o=>{const r=Lb(o),s=Array.from(o.classList).filter(l=>l!=="hydrated").join(" "),a="".concat(S2," ").concat(s);return{text:o.textContent||"",cssClass:a,value:r,checked:Rb(n,r,this.compareWith),disabled:o.disabled,handler:l=>{this.setValue(l),this.multiple||this.close()}}})}async openPopover(e){const{fill:n,labelPlacement:i}=this,o=this.interfaceOptions,r=De(this),s=r!=="md",a=this.multiple,l=this.value;let c=e,u="auto";i==="floating"||i==="stacked"||r==="md"&&n!==void 0?u="cover":c=Object.assign(Object.assign({},e),{detail:{ionShadowTarget:this.nativeWrapperEl}});const h=Object.assign(Object.assign({mode:r,event:c,alignment:"center",size:u,showBackdrop:s},o),{component:"ion-select-popover",cssClass:["select-popover",o.cssClass],componentProps:{header:o.header,subHeader:o.subHeader,message:o.message,multiple:a,value:l,options:this.createOverlaySelectOptions(this.childOpts,l)}});return uK.create(h)}async openActionSheet(){const e=De(this),n=this.interfaceOptions,i=Object.assign(Object.assign({mode:e},n),{buttons:this.createActionSheetButtons(this.childOpts,this.value),cssClass:["select-action-sheet",n.cssClass]});return lK.create(i)}async openAlert(){const e=this.interfaceOptions,n=this.multiple?"checkbox":"radio",i=De(this),o=Object.assign(Object.assign({mode:i},e),{header:e.header?e.header:this.labelText,inputs:this.createAlertInputs(this.childOpts,n,this.value),buttons:[{text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}},{text:this.okText,handler:r=>{this.setValue(r)}}],cssClass:["select-alert",e.cssClass,this.multiple?"multiple-select-alert":"single-select-alert"]});return aK.create(o)}openModal(){const{multiple:e,value:n,interfaceOptions:i}=this,o=De(this),r=Object.assign(Object.assign({},i),{mode:o,cssClass:["select-modal",i.cssClass],component:"ion-select-modal",componentProps:{header:i.header,multiple:e,value:n,options:this.createOverlaySelectOptions(this.childOpts,n)}});return cK.create(r)}close(){return this.overlay?this.overlay.dismiss():Promise.resolve(!1)}hasValue(){return this.getText()!==""}get childOpts(){return Array.from(this.el.querySelectorAll("ion-select-option"))}get labelText(){const{label:e}=this;if(e!==void 0)return e;const{labelSlot:n}=this;if(n!==null)return n.textContent}getText(){const e=this.selectedText;return e!=null&&e!==""?e:ite(this.childOpts,this.value,this.compareWith)}setFocus(){this.focusEl&&this.focusEl.focus()}emitStyle(){const{disabled:e}=this,n={"interactive-disabled":e};this.ionStyle.emit(n)}renderLabel(){const{label:e}=this;return F("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel},part:"label"},e===void 0?F("slot",{name:"label"}):F("div",{class:"label-text"},e))}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return De(this)==="md"&&this.fill==="outline"?[F("div",{class:"select-outline-container"},F("div",{class:"select-outline-start"}),F("div",{class:{"select-outline-notch":!0,"select-outline-notch-hidden":!this.hasLabel}},F("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),F("div",{class:"select-outline-end"})),this.renderLabel()]:this.renderLabel()}renderSelectText(){const{placeholder:e}=this,n=this.getText();let i=!1,o=n;return o===""&&e!==void 0&&(o=e,i=!0),F("div",{"aria-hidden":"true",class:{"select-text":!0,"select-placeholder":i},part:i?"placeholder":"text"},o)}renderSelectIcon(){const e=De(this),{isExpanded:n,toggleIcon:i,expandedIcon:o}=this;let r;if(n&&o!==void 0)r=o;else{const s=e==="ios"?EK:SK;r=i!=null?i:s}return F("ion-icon",{class:"select-icon",part:"icon","aria-hidden":"true",icon:r})}get ariaLabel(){var e;const{placeholder:n,inheritedAttributes:i}=this,o=this.getText(),r=(e=i["aria-label"])!==null&&e!==void 0?e:this.labelText;let s=o;return s===""&&n!==void 0&&(s=n),r!==void 0&&(s=s===""?r:"".concat(r,", ").concat(s)),s}renderListbox(){const{disabled:e,inputId:n,isExpanded:i,required:o}=this;return F("button",{disabled:e,id:n,"aria-label":this.ariaLabel,"aria-haspopup":"dialog","aria-expanded":"".concat(i),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,"aria-required":"".concat(o),onFocus:this.onFocus,onBlur:this.onBlur,ref:r=>this.focusEl=r})}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:o,errorTextId:r}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return r;if(n)return o}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:o}=this;return[F("div",{id:i,class:"helper-text",part:"supporting-text helper-text"},e),F("div",{id:o,class:"error-text",part:"supporting-text error-text"},n)]}renderBottomContent(){const{helperText:e,errorText:n}=this;if(e||n)return F("div",{class:"select-bottom"},this.renderHintText())}render(){const{disabled:e,el:n,isExpanded:i,expandedIcon:o,labelPlacement:r,justify:s,placeholder:a,fill:l,shape:c,name:u,value:d,hasFocus:h}=this,p=De(this),f=r==="floating"||r==="stacked",m=!f&&s!==void 0,b=za(n)?"rtl":"ltr",g=Nn("ion-item",this.el),x=p==="md"&&l!=="outline"&&!g,y=this.hasValue(),v=n.querySelector('[slot="start"], [slot="end"]')!==null;Bm(!0,n,u,nte(d),e);const w=r==="stacked"||r==="floating"&&(y||i||v);return F(tt,{key:"e6c0498d6c275f89344f4b5146752a047058ad88",onClick:this.onClick,class:en(this.color,{[p]:!0,"in-item":g,"in-item-color":Nn("ion-item.ion-color",n),"select-disabled":e,"select-expanded":i,"has-expanded-icon":o!==void 0,"has-value":y,"label-floating":w,"has-placeholder":a!==void 0,"has-focus":h,"ion-focusable":!0,["select-".concat(b)]:!0,["select-fill-".concat(l)]:l!==void 0,["select-justify-".concat(s)]:m,["select-shape-".concat(c)]:c!==void 0,["select-label-placement-".concat(r)]:!0})},F("label",{key:"f030b6bd329f8014c7227f5e5f1aeb7efa0e641a",class:"select-wrapper",id:"select-label"},this.renderLabelContainer(),F("div",{key:"7480e1b40d09e53a2942295d6c9dae474c9de810",class:"select-wrapper-inner"},F("slot",{key:"250fd2ff08b3e6ed04c7062455a044863481fe1c",name:"start"}),F("div",{key:"11b73ad5b7decfe2d307f9d54293c21c0df3ddb8",class:"native-wrapper",ref:C=>this.nativeWrapperEl=C,part:"container"},this.renderSelectText(),this.renderListbox()),F("slot",{key:"ddedafc89061372567bd46354ef972f08c60e19d",name:"end"}),!f&&this.renderSelectIcon()),f&&this.renderSelectIcon(),x&&F("div",{key:"792ce27aea18a0020c17dceb0f0e293171ded3a3",class:"select-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}}static get style(){return{ios:Jee,md:ete}}},[33,"ion-select",{cancelText:[1,"cancel-text"],color:[513],compareWith:[1,"compare-with"],disabled:[4],fill:[1],errorText:[1,"error-text"],helperText:[1,"helper-text"],interface:[1],interfaceOptions:[8,"interface-options"],justify:[1],label:[1],labelPlacement:[1,"label-placement"],multiple:[4],name:[1],okText:[1,"ok-text"],placeholder:[1],selectedText:[1,"selected-text"],toggleIcon:[1,"toggle-icon"],expandedIcon:[1,"expanded-icon"],shape:[1],value:[1032],required:[4],isExpanded:[32],hasFocus:[32],open:[64]},void 0,{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}]),Lb=t=>{const e=t.value;return e===void 0?t.textContent||"":e},nte=t=>{if(t!=null)return Array.isArray(t)?t.join(","):t.toString()},ite=(t,e,n)=>e===void 0?"":Array.isArray(e)?e.map(i=>c6(t,i,n)).filter(i=>i!==null).join(", "):c6(t,e,n)||"",c6=(t,e,n)=>{const i=t.find(o=>E3(e,Lb(o),n));return i?i.textContent:null};let ote=0;const S2="select-interface-option";function rte(){if(typeof customElements>"u")return;["ion-select","ion-action-sheet","ion-alert","ion-backdrop","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-modal","ion-popover","ion-radio","ion-radio-group","ion-ripple-effect","ion-select-modal","ion-select-popover","ion-title","ion-toolbar"].forEach(e=>{switch(e){case"ion-select":customElements.get(e)||customElements.define(e,tte);break;case"ion-action-sheet":customElements.get(e)||S7();break;case"ion-alert":customElements.get(e)||C7();break;case"ion-backdrop":customElements.get(e)||Yu();break;case"ion-button":customElements.get(e)||d4();break;case"ion-buttons":customElements.get(e)||l4();break;case"ion-checkbox":customElements.get(e)||c4();break;case"ion-content":customElements.get(e)||u4();break;case"ion-header":customElements.get(e)||p4();break;case"ion-icon":customElements.get(e)||os();break;case"ion-item":customElements.get(e)||x4();break;case"ion-label":customElements.get(e)||m4();break;case"ion-list":customElements.get(e)||V1();break;case"ion-list-header":customElements.get(e)||x7();break;case"ion-modal":customElements.get(e)||R7();break;case"ion-popover":customElements.get(e)||eZ();break;case"ion-radio":customElements.get(e)||g4();break;case"ion-radio-group":customElements.get(e)||b4();break;case"ion-ripple-effect":customElements.get(e)||rs();break;case"ion-select-modal":customElements.get(e)||Hee();break;case"ion-select-popover":customElements.get(e)||Yee();break;case"ion-title":customElements.get(e)||C4();break;case"ion-toolbar":customElements.get(e)||T4();break}})}const ste=rte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ate=":host{display:none}",lte=ate,cte=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputId="ion-selopt-".concat(ute++),this.disabled=!1,this.value=void 0}render(){return F(tt,{key:"8c96c199ce3a3065de3fe446500f567236e0610a",role:"option",id:this.inputId,class:De(this)})}get el(){return this}static get style(){return lte}},[1,"ion-select-option",{disabled:[4],value:[8]}]);let ute=0;function dte(){if(typeof customElements>"u")return;["ion-select-option"].forEach(e=>{switch(e){case"ion-select-option":customElements.get(e)||customElements.define(e,cte);break}})}const hte=dte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pte=m7;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fte=":host(.tab-hidden){display:none !important}",mte=fte,gte=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1,this.delegate=void 0,this.tab=void 0,this.component=void 0}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(e){e&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&this.component!=null){this.loaded=!0;try{return jm(this.delegate,this.el,this.component,["ion-page"])}catch(e){Qr("[ion-tab] - Exception in prepareLazyLoaded:",e)}}return Promise.resolve(void 0)}render(){const{tab:e,active:n,component:i}=this;return F(tt,{key:"c36c113e74e12b58459df9e3b546ad4856187e90",role:"tabpanel","aria-hidden":n?null:"true","aria-labelledby":"tab-button-".concat(e),class:{"ion-page":i===void 0,"tab-hidden":!n}},F("slot",{key:"0d7821dac70ba7a12edfb3331988f3df1566cc1a"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return mte}},[1,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);function bte(){if(typeof customElements>"u")return;["ion-tab"].forEach(e=>{switch(e){case"ion-tab":customElements.get(e)||customElements.define(e,gte);break}})}const xte=bte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yte=":host(.ion-color){color:var(--ion-color-base)}",vte=yte,wte=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=De(this);return F(tt,{key:"0c2546ea3f24b0a6bfd606199441d0a4edfa4ca1",class:en(this.color,{[e]:!0})},F("slot",{key:"b7623ccb06f9461090a1f33e9f85886c7a4d5eff"}))}static get style(){return vte}},[1,"ion-text",{color:[513]}]);function kte(){if(typeof customElements>"u")return;["ion-text"].forEach(e=>{switch(e){case"ion-text":customElements.get(e)||customElements.define(e,wte);break}})}const Ste=kte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Cte='.sc-ion-textarea-ios-h{--background:initial;--color:initial;--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0;--padding-end:0;--padding-bottom:8px;--padding-start:0;--border-radius:0;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}.textarea-label-placement-floating.sc-ion-textarea-ios-h,.textarea-label-placement-stacked.sc-ion-textarea-ios-h{--padding-top:0px;min-height:56px}[cols].sc-ion-textarea-ios-h:not([auto-grow]){width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.ion-color.sc-ion-textarea-ios-h{--highlight-color-focused:var(--ion-color-base);background:initial}ion-item.sc-ion-textarea-ios-h,ion-item .sc-ion-textarea-ios-h{-ms-flex-item-align:baseline;align-self:baseline}ion-item[slot=start].sc-ion-textarea-ios-h,ion-item [slot=start].sc-ion-textarea-ios-h,ion-item[slot=end].sc-ion-textarea-ios-h,ion-item [slot=end].sc-ion-textarea-ios-h{width:auto}.native-textarea.sc-ion-textarea-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;white-space:pre-wrap;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.native-textarea.sc-ion-textarea-ios::-webkit-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::-moz-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios:-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios{color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.cloned-input.sc-ion-textarea-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-textarea-ios{inset-inline-start:0}.cloned-input.sc-ion-textarea-ios:disabled{opacity:1}[auto-grow].sc-ion-textarea-ios-h .cloned-input.sc-ion-textarea-ios{height:100%}[auto-grow].sc-ion-textarea-ios-h .native-textarea.sc-ion-textarea-ios{overflow:hidden}.textarea-wrapper.sc-ion-textarea-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:0px;padding-bottom:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:start;align-items:flex-start;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-textarea-ios{position:relative;width:100%;height:100%}.has-focus.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{caret-color:var(--highlight-color)}.native-wrapper.sc-ion-textarea-ios textarea.sc-ion-textarea-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom)}.native-wrapper.sc-ion-textarea-ios{display:grid;min-width:inherit;max-width:inherit;min-height:inherit;max-height:inherit;grid-auto-rows:100%}.native-wrapper.sc-ion-textarea-ios::after{white-space:pre-wrap;content:attr(data-replicated-value) " ";visibility:hidden}.native-wrapper.sc-ion-textarea-ios::after{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.textarea-wrapper-inner.sc-ion-textarea-ios{display:-ms-flexbox;display:flex;width:100%;min-height:inherit}.ion-touched.ion-invalid.sc-ion-textarea-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-textarea-ios-h{--highlight-color:var(--highlight-color-valid)}.textarea-bottom.sc-ion-textarea-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-textarea-ios-h,.ion-touched.ion-invalid.sc-ion-textarea-ios-h{--border-color:var(--highlight-color)}.textarea-bottom.sc-ion-textarea-ios .error-text.sc-ion-textarea-ios{display:none;color:var(--highlight-color-invalid)}.textarea-bottom.sc-ion-textarea-ios .helper-text.sc-ion-textarea-ios{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-textarea-ios-h .textarea-bottom.sc-ion-textarea-ios .error-text.sc-ion-textarea-ios{display:block}.ion-touched.ion-invalid.sc-ion-textarea-ios-h .textarea-bottom.sc-ion-textarea-ios .helper-text.sc-ion-textarea-ios{display:none}.textarea-bottom.sc-ion-textarea-ios .counter.sc-ion-textarea-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.label-text-wrapper.sc-ion-textarea-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-textarea-ios,.sc-ion-textarea-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-textarea-ios,.textarea-outline-notch-hidden.sc-ion-textarea-ios{display:none}.textarea-wrapper.sc-ion-textarea-ios textarea.sc-ion-textarea-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.textarea-label-placement-start.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:row;flex-direction:row}.textarea-label-placement-start.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-end.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.textarea-label-placement-end.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-ios-h .label-text.sc-ion-textarea-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.textarea-label-placement-stacked.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:left top;transform-origin:left top;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;max-width:100%;z-index:2}[dir=rtl].sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-label-placement-stacked.sc-ion-textarea-ios-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-label-placement-stacked.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-ios-h .native-wrapper.sc-ion-textarea-ios::after,.textarea-label-placement-floating[auto-grow].sc-ion-textarea-ios-h .native-wrapper.sc-ion-textarea-ios::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:8px;margin-bottom:0px}.sc-ion-textarea-ios-h.textarea-label-placement-stacked.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-stacked .sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-stacked.sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-stacked .sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-floating.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-floating .sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-floating.sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-floating .sc-ion-textarea-ios-s>[slot=end]{margin-top:8px}.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{opacity:0}.has-focus.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.has-value.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{opacity:1}.label-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.start-slot-wrapper.sc-ion-textarea-ios,.end-slot-wrapper.sc-ion-textarea-ios{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:start}.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-s>[slot=end]{margin-top:0}.sc-ion-textarea-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-textarea-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-textarea-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--padding-top:10px;--padding-end:0px;--padding-bottom:8px;--padding-start:0px;--highlight-height:0px;font-size:inherit}.textarea-disabled.sc-ion-textarea-ios-h{opacity:0.3}.sc-ion-textarea-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-textarea-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}',Tte=Cte,Ete='.sc-ion-textarea-md-h{--background:initial;--color:initial;--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0;--padding-end:0;--padding-bottom:8px;--padding-start:0;--border-radius:0;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}.textarea-label-placement-floating.sc-ion-textarea-md-h,.textarea-label-placement-stacked.sc-ion-textarea-md-h{--padding-top:0px;min-height:56px}[cols].sc-ion-textarea-md-h:not([auto-grow]){width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.ion-color.sc-ion-textarea-md-h{--highlight-color-focused:var(--ion-color-base);background:initial}ion-item.sc-ion-textarea-md-h,ion-item .sc-ion-textarea-md-h{-ms-flex-item-align:baseline;align-self:baseline}ion-item[slot=start].sc-ion-textarea-md-h,ion-item [slot=start].sc-ion-textarea-md-h,ion-item[slot=end].sc-ion-textarea-md-h,ion-item [slot=end].sc-ion-textarea-md-h{width:auto}.native-textarea.sc-ion-textarea-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;white-space:pre-wrap;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.native-textarea.sc-ion-textarea-md::-webkit-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::-moz-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md:-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md{color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.cloned-input.sc-ion-textarea-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-textarea-md{inset-inline-start:0}.cloned-input.sc-ion-textarea-md:disabled{opacity:1}[auto-grow].sc-ion-textarea-md-h .cloned-input.sc-ion-textarea-md{height:100%}[auto-grow].sc-ion-textarea-md-h .native-textarea.sc-ion-textarea-md{overflow:hidden}.textarea-wrapper.sc-ion-textarea-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:0px;padding-bottom:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:start;align-items:flex-start;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-textarea-md{position:relative;width:100%;height:100%}.has-focus.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{caret-color:var(--highlight-color)}.native-wrapper.sc-ion-textarea-md textarea.sc-ion-textarea-md{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom)}.native-wrapper.sc-ion-textarea-md{display:grid;min-width:inherit;max-width:inherit;min-height:inherit;max-height:inherit;grid-auto-rows:100%}.native-wrapper.sc-ion-textarea-md::after{white-space:pre-wrap;content:attr(data-replicated-value) " ";visibility:hidden}.native-wrapper.sc-ion-textarea-md::after{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.textarea-wrapper-inner.sc-ion-textarea-md{display:-ms-flexbox;display:flex;width:100%;min-height:inherit}.ion-touched.ion-invalid.sc-ion-textarea-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-textarea-md-h{--highlight-color:var(--highlight-color-valid)}.textarea-bottom.sc-ion-textarea-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-textarea-md-h,.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}.textarea-bottom.sc-ion-textarea-md .error-text.sc-ion-textarea-md{display:none;color:var(--highlight-color-invalid)}.textarea-bottom.sc-ion-textarea-md .helper-text.sc-ion-textarea-md{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md .error-text.sc-ion-textarea-md{display:block}.ion-touched.ion-invalid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md .helper-text.sc-ion-textarea-md{display:none}.textarea-bottom.sc-ion-textarea-md .counter.sc-ion-textarea-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.label-text-wrapper.sc-ion-textarea-md{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-textarea-md,.sc-ion-textarea-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-textarea-md,.textarea-outline-notch-hidden.sc-ion-textarea-md{display:none}.textarea-wrapper.sc-ion-textarea-md textarea.sc-ion-textarea-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.textarea-label-placement-start.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:row;flex-direction:row}.textarea-label-placement-start.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-end.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.textarea-label-placement-end.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-md-h .label-text.sc-ion-textarea-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.textarea-label-placement-stacked.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:left top;transform-origin:left top;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;max-width:100%;z-index:2}[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-label-placement-stacked.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-label-placement-stacked.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after,.textarea-label-placement-floating[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:8px;margin-bottom:0px}.sc-ion-textarea-md-h.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=end]{margin-top:8px}.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{opacity:0}.has-focus.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.has-value.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{opacity:1}.label-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.start-slot-wrapper.sc-ion-textarea-md,.end-slot-wrapper.sc-ion-textarea-md{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:start}.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-s>[slot=end]{margin-top:0}.sc-ion-textarea-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-textarea-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.textarea-fill-solid.sc-ion-textarea-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.textarea-fill-solid.ion-valid.sc-ion-textarea-md-h,.textarea-fill-solid.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md{border-top:none}@media (any-hover: hover){.textarea-fill-solid.sc-ion-textarea-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.textarea-fill-solid.has-focus.sc-ion-textarea-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.textarea-fill-solid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{max-width:calc(100% / 0.75)}.textarea-fill-outline.sc-ion-textarea-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.textarea-fill-outline.textarea-shape-round.sc-ion-textarea-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.textarea-fill-outline.ion-valid.sc-ion-textarea-md-h,.textarea-fill-outline.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.textarea-fill-outline.sc-ion-textarea-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.textarea-fill-outline.has-focus.sc-ion-textarea-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md{border-top:none}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-bottom:none}.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-fill-outline.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{position:relative}.label-floating.textarea-fill-outline.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc(\n    (100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75\n  )}.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after,.textarea-fill-outline.textarea-label-placement-floating[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:12px;margin-bottom:0px}.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=end]{margin-top:12px}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-container.sc-ion-textarea-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{pointer-events:none}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.textarea-fill-outline.sc-ion-textarea-md-h .notch-spacer.sc-ion-textarea-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md{border-top:none}.sc-ion-textarea-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--padding-top:18px;--padding-end:0px;--padding-bottom:8px;--padding-start:0px;--highlight-height:2px;font-size:inherit}.textarea-bottom.sc-ion-textarea-md .counter.sc-ion-textarea-md{letter-spacing:0.0333333333em}.textarea-label-placement-floating.has-focus.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-stacked.has-focus.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{color:var(--highlight-color)}.has-focus.textarea-label-placement-floating.ion-valid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.ion-touched.ion-invalid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.has-focus.textarea-label-placement-stacked.ion-valid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-stacked.ion-touched.ion-invalid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{color:var(--highlight-color)}.textarea-disabled.sc-ion-textarea-md-h{opacity:0.38}.textarea-highlight.sc-ion-textarea-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.textarea-highlight.sc-ion-textarea-md{inset-inline-start:0}.has-focus.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{bottom:0}.in-item.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{inset-inline-start:0}.textarea-shape-round.sc-ion-textarea-md-h{--border-radius:16px}.sc-ion-textarea-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-textarea-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}',Ite=Ete,_te=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.ionChange=ke(this,"ionChange",7),this.ionInput=ke(this,"ionInput",7),this.ionBlur=ke(this,"ionBlur",7),this.ionFocus=ke(this,"ionFocus",7),this.inputId="ion-textarea-".concat($te++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.didTextareaClearOnEdit=!1,this.inheritedAttributes={},this.onInput=e=>{const n=e.target;n&&(this.value=n.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didTextareaClearOnEdit=!1,this.ionBlur.emit(e)},this.onKeyDown=e=>{this.checkClearOnEdit(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="none",this.autofocus=!1,this.clearOnEdit=!1,this.debounce=void 0,this.disabled=!1,this.fill=void 0,this.inputmode=void 0,this.enterkeyhint=void 0,this.maxlength=void 0,this.minlength=void 0,this.name=this.inputId,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.spellcheck=!1,this.cols=void 0,this.rows=void 0,this.wrap=void 0,this.autoGrow=!1,this.value="",this.counter=!1,this.counterFormatter=void 0,this.errorText=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.shape=void 0}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:F1(e,n)}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&(e.value=n),this.runAutoGrow()}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),Gi(this)}onClickCapture(e){const n=this.nativeInput;n&&e.target===n&&(e.stopPropagation(),this.el.click())}connectedCallback(){const{el:e}=this;this.slotMutationController=g7(e,["label","start","end"],()=>Gi(this)),this.notchController=f4(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:e}))}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},Os(this.el)),la(this.el,["data-form-type","title","tabindex","dir"]))}componentDidLoad(){this.originalIonInput=this.ionInput,this.runAutoGrow()}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>Es(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this;this.ionInput.emit({value:n,event:e})}runAutoGrow(){this.nativeInput&&this.autoGrow&&Ho(()=>{var e;this.textareaWrapper&&(this.textareaWrapper.dataset.replicatedValue=(e=this.value)!==null&&e!==void 0?e:"")})}checkClearOnEdit(e){if(!this.clearOnEdit)return;const i=["Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didTextareaClearOnEdit&&this.hasValue()&&!i&&(this.value="",this.emitInputChange(e)),i||(this.didTextareaClearOnEdit=!0)}hasValue(){return this.getValue()!==""}getValue(){return this.value||""}renderLabel(){const{label:e}=this;return F("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?F("slot",{name:"label"}):F("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return De(this)==="md"&&this.fill==="outline"?[F("div",{class:"textarea-outline-container"},F("div",{class:"textarea-outline-start"}),F("div",{class:{"textarea-outline-notch":!0,"textarea-outline-notch-hidden":!this.hasLabel}},F("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),F("div",{class:"textarea-outline-end"})),this.renderLabel()]:this.renderLabel()}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:o}=this;return[F("div",{id:i,class:"helper-text"},e),F("div",{id:o,class:"error-text"},n)]}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:o,errorTextId:r}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return r;if(n)return o}renderCounter(){const{counter:e,maxlength:n,counterFormatter:i,value:o}=this;if(!(e!==!0||n===void 0))return F("div",{class:"counter"},b7(o,n,i))}renderBottomContent(){const{counter:e,helperText:n,errorText:i,maxlength:o}=this;if(!(!(n||i)&&!(e===!0&&o!==void 0)))return F("div",{class:"textarea-bottom"},this.renderHintText(),this.renderCounter())}render(){const{inputId:e,disabled:n,fill:i,shape:o,labelPlacement:r,el:s,hasFocus:a}=this,l=De(this),c=this.getValue(),u=Nn("ion-item",this.el),d=l==="md"&&i!=="outline"&&!u,h=this.hasValue(),p=s.querySelector('[slot="start"], [slot="end"]')!==null,f=r==="stacked"||r==="floating"&&(h||a||p);return F(tt,{key:"f53b9060248d885b0b8639401871e52017e497db",class:en(this.color,{[l]:!0,"has-value":h,"has-focus":a,"label-floating":f,["textarea-fill-".concat(i)]:i!==void 0,["textarea-shape-".concat(o)]:o!==void 0,["textarea-label-placement-".concat(r)]:!0,"textarea-disabled":n})},F("label",{key:"3bc32a0799d1dd7253eb5a963877964de620ccd0",class:"textarea-wrapper",htmlFor:e},this.renderLabelContainer(),F("div",{key:"f5302723f4561b179b249cb28f5a31223c5c4394",class:"textarea-wrapper-inner"},F("div",{key:"75b85c5bd85af72a41da3310f10877a654397eaf",class:"start-slot-wrapper"},F("slot",{key:"7adc67b4c2917d20c35eecc11a5530e93bc581ea",name:"start"})),F("div",{key:"35cbeca046ec7a40bcbcbc4a70eb83628350ba54",class:"native-wrapper",ref:m=>this.textareaWrapper=m},F("textarea",Object.assign({key:"e3496262d163b70558a0188abdf322cbd8b44dfd",class:"native-textarea",ref:m=>this.nativeInput=m,id:e,disabled:n,autoCapitalize:this.autocapitalize,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,minLength:this.minlength,maxLength:this.maxlength,name:this.name,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,cols:this.cols,rows:this.rows,wrap:this.wrap,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeyDown,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes),c)),F("div",{key:"f274576d2e0bb6dace2ec36c362cb68ecfcd2c69",class:"end-slot-wrapper"},F("slot",{key:"70c881103410e74b3a3ffda4cc889be66f89bf20",name:"end"}))),d&&F("div",{key:"cf33a473dfb637d284acc2b62ca59c2839ee1104",class:"textarea-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],value:["valueChanged"],dir:["onDirChanged"]}}static get style(){return{ios:Tte,md:Ite}}},[38,"ion-textarea",{color:[513],autocapitalize:[1],autofocus:[4],clearOnEdit:[4,"clear-on-edit"],debounce:[2],disabled:[4],fill:[1],inputmode:[1],enterkeyhint:[1],maxlength:[2],minlength:[2],name:[1],placeholder:[1],readonly:[4],required:[4],spellcheck:[4],cols:[514],rows:[2],wrap:[1],autoGrow:[516,"auto-grow"],value:[1025],counter:[4],counterFormatter:[16],errorText:[1,"error-text"],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],shape:[1],hasFocus:[32],setFocus:[64],getInputElement:[64]},[[2,"click","onClickCapture"]],{debounce:["debounceChanged"],value:["valueChanged"],dir:["onDirChanged"]}]);let $te=0;function Ate(){if(typeof customElements>"u")return;["ion-textarea"].forEach(e=>{switch(e){case"ion-textarea":customElements.get(e)||customElements.define(e,_te);break}})}const Nte=Ate;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ote=":host{--size:48px;--border-radius:0;border-radius:var(--border-radius);display:block;width:var(--size);height:var(--size)}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}",Dte=Ote,Rte=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return F(tt,{key:"7f5fd6c056da2d82feb2c3c33f3e6dec898787f5",class:De(this)},F("slot",{key:"d15fd2b6cdc03777edc1930be95ad838e1b376c8"}))}static get style(){return Dte}},[1,"ion-thumbnail"]);function Lte(){if(typeof customElements>"u")return;["ion-thumbnail"].forEach(e=>{switch(e){case"ion-thumbnail":customElements.get(e)||customElements.define(e,Rte);break}})}const zte=Lte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Fte=C4,Pte=":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;max-width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}input{display:none}.toggle-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.toggle-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.toggle-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.toggle-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.toggle-label-placement-stacked) .toggle-bottom{font-size:1rem}.toggle-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.toggle-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .toggle-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .toggle-bottom .helper-text{display:none}:host(.toggle-label-placement-start) .toggle-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.toggle-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-end) .toggle-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.toggle-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.toggle-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.toggle-label-placement-stacked) .toggle-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.toggle-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.toggle-justify-space-between) .toggle-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.toggle-justify-start) .toggle-wrapper{-ms-flex-pack:start;justify-content:start}:host(.toggle-justify-end) .toggle-wrapper{-ms-flex-pack:end;justify-content:end}:host(.toggle-alignment-start) .toggle-wrapper{-ms-flex-align:start;align-items:start}:host(.toggle-alignment-center) .toggle-wrapper{-ms-flex-align:center;align-items:center}:host(.toggle-justify-space-between),:host(.toggle-justify-start),:host(.toggle-justify-end),:host(.toggle-alignment-start),:host(.toggle-alignment-center){display:block}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--track-background);overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--track-background-checked)}.toggle-inner{border-radius:var(--handle-border-radius);position:absolute;left:var(--handle-spacing);width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}:host(.toggle-ltr) .toggle-inner{left:var(--handle-spacing)}:host(.toggle-rtl) .toggle-inner{right:var(--handle-spacing)}:host(.toggle-ltr.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{background:var(--handle-background-checked)}:host(.toggle-ltr.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--track-background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.088);--track-background-checked:var(--ion-color-primary, #0054e9);--border-radius:15.5px;--handle-background:#ffffff;--handle-background-checked:#ffffff;--handle-border-radius:25.5px;--handle-box-shadow:0 3px 4px rgba(0, 0, 0, 0.06), 0 3px 8px rgba(0, 0, 0, 0.06);--handle-height:calc(31px - (2px * 2));--handle-max-height:calc(100% - var(--handle-spacing) * 2);--handle-width:calc(31px - (2px * 2));--handle-spacing:2px;--handle-transition:transform 300ms, width 120ms ease-in-out 80ms, left 110ms ease-in-out 80ms, right 110ms ease-in-out 80ms}.native-wrapper .toggle-icon{width:51px;height:31px;overflow:hidden}:host(.ion-color.toggle-checked) .toggle-icon{background:var(--ion-color-base)}:host(.toggle-activated) .toggle-switch-icon{opacity:0}.toggle-icon{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);-webkit-transition:background-color 300ms;transition:background-color 300ms}.toggle-inner{will-change:transform}.toggle-switch-icon{position:absolute;top:50%;width:11px;height:11px;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:opacity 300ms, color 300ms;transition:opacity 300ms, color 300ms}.toggle-switch-icon{position:absolute;color:var(--ion-color-dark, #222428)}:host(.toggle-ltr) .toggle-switch-icon{right:6px}:host(.toggle-rtl) .toggle-switch-icon{right:initial;left:6px;}:host(.toggle-checked) .toggle-switch-icon.toggle-switch-icon-checked{color:var(--ion-color-contrast, #fff)}:host(.toggle-checked) .toggle-switch-icon:not(.toggle-switch-icon-checked){opacity:0}.toggle-switch-icon-checked{position:absolute;width:15px;height:15px;-webkit-transform:translateY(-50%) rotate(90deg);transform:translateY(-50%) rotate(90deg)}:host(.toggle-ltr) .toggle-switch-icon-checked{right:initial;left:4px;}:host(.toggle-rtl) .toggle-switch-icon-checked{right:4px}:host(.toggle-activated) .toggle-icon::before,:host(.toggle-checked) .toggle-icon::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated.toggle-checked) .toggle-inner::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated) .toggle-inner{width:calc(var(--handle-width) + 6px)}:host(.toggle-ltr.toggle-activated.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0);transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0)}:host(.toggle-rtl.toggle-activated.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0);transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0)}:host(.toggle-disabled){opacity:0.3}",Bte=Pte,Mte=":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;max-width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}input{display:none}.toggle-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.toggle-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.toggle-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.toggle-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.toggle-label-placement-stacked) .toggle-bottom{font-size:1rem}.toggle-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.toggle-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .toggle-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .toggle-bottom .helper-text{display:none}:host(.toggle-label-placement-start) .toggle-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.toggle-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-end) .toggle-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.toggle-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.toggle-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.toggle-label-placement-stacked) .toggle-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.toggle-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.toggle-justify-space-between) .toggle-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.toggle-justify-start) .toggle-wrapper{-ms-flex-pack:start;justify-content:start}:host(.toggle-justify-end) .toggle-wrapper{-ms-flex-pack:end;justify-content:end}:host(.toggle-alignment-start) .toggle-wrapper{-ms-flex-align:start;align-items:start}:host(.toggle-alignment-center) .toggle-wrapper{-ms-flex-align:center;align-items:center}:host(.toggle-justify-space-between),:host(.toggle-justify-start),:host(.toggle-justify-end),:host(.toggle-alignment-start),:host(.toggle-alignment-center){display:block}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--track-background);overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--track-background-checked)}.toggle-inner{border-radius:var(--handle-border-radius);position:absolute;left:var(--handle-spacing);width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}:host(.toggle-ltr) .toggle-inner{left:var(--handle-spacing)}:host(.toggle-rtl) .toggle-inner{right:var(--handle-spacing)}:host(.toggle-ltr.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{background:var(--handle-background-checked)}:host(.toggle-ltr.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--track-background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.39);--track-background-checked:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.5);--border-radius:14px;--handle-background:#ffffff;--handle-background-checked:var(--ion-color-primary, #0054e9);--handle-border-radius:50%;--handle-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);--handle-width:20px;--handle-height:20px;--handle-max-height:calc(100% + 6px);--handle-spacing:0;--handle-transition:transform 160ms cubic-bezier(0.4, 0, 0.2, 1), background-color 160ms cubic-bezier(0.4, 0, 0.2, 1)}.native-wrapper .toggle-icon{width:36px;height:14px}:host(.ion-color.toggle-checked) .toggle-icon{background:rgba(var(--ion-color-base-rgb), 0.5)}:host(.ion-color.toggle-checked) .toggle-inner{background:var(--ion-color-base)}:host(.toggle-checked) .toggle-inner{color:var(--ion-color-contrast, #fff)}.toggle-icon{-webkit-transition:background-color 160ms;transition:background-color 160ms}.toggle-inner{will-change:background-color, transform;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;color:#000}.toggle-inner .toggle-switch-icon{-webkit-padding-start:1px;padding-inline-start:1px;-webkit-padding-end:1px;padding-inline-end:1px;padding-top:1px;padding-bottom:1px;width:100%;height:100%}:host(.toggle-disabled){opacity:0.38}",jte=Mte,Ute=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ke(this,"ionChange",7),this.ionFocus=ke(this,"ionFocus",7),this.ionBlur=ke(this,"ionBlur",7),this.inputId="ion-tg-".concat(Hte++),this.inputLabelId="".concat(this.inputId,"-lbl"),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.lastDrag=0,this.inheritedAttributes={},this.didLoad=!1,this.setupGesture=async()=>{const{toggleTrack:e}=this;e&&(this.gesture=(await ci(()=>Promise.resolve().then(()=>t4),void 0)).createGesture({el:e,gestureName:"toggle",gesturePriority:100,threshold:5,passive:!1,onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.disabledChanged())},this.onKeyDown=e=>{e.key===" "&&(e.preventDefault(),this.disabled||this.toggleChecked())},this.onClick=e=>{this.disabled||(e.preventDefault(),this.lastDrag+300<Date.now()&&this.toggleChecked())},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.getSwitchLabelIcon=(e,n)=>e==="md"?n?CK:M5:n?M5:IK,this.activated=!1,this.color=void 0,this.name=this.inputId,this.checked=!1,this.disabled=!1,this.errorText=void 0,this.helperText=void 0,this.value="on",this.enableOnOffLabels=rt.get("toggleOnOffLabels"),this.labelPlacement="start",this.justify=void 0,this.alignment=void 0,this.required=!1}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}toggleChecked(){const{checked:e,value:n}=this,i=!e;this.checked=i,this.setFocus(),this.ionChange.emit({checked:i,value:n})}async connectedCallback(){this.didLoad&&this.setupGesture()}componentDidLoad(){this.setupGesture(),this.didLoad=!0}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentWillLoad(){this.inheritedAttributes=Object.assign({},Os(this.el))}onStart(){this.activated=!0,this.setFocus()}onMove(e){Vte(za(this.el),this.checked,e.deltaX,-10)&&(this.toggleChecked(),CY())}onEnd(e){this.activated=!1,this.lastDrag=Date.now(),e.event.preventDefault(),e.event.stopImmediatePropagation()}getValue(){return this.value||""}setFocus(){this.focusEl&&this.focusEl.focus()}renderOnOffSwitchLabels(e,n){const i=this.getSwitchLabelIcon(e,n);return F("ion-icon",{class:{"toggle-switch-icon":!0,"toggle-switch-icon-checked":n},icon:i,"aria-hidden":"true"})}renderToggleControl(){const e=De(this),{enableOnOffLabels:n,checked:i}=this;return F("div",{class:"toggle-icon",part:"track",ref:o=>this.toggleTrack=o},n&&e==="ios"&&[this.renderOnOffSwitchLabels(e,!0),this.renderOnOffSwitchLabels(e,!1)],F("div",{class:"toggle-icon-wrapper"},F("div",{class:"toggle-inner",part:"handle"},n&&e==="md"&&this.renderOnOffSwitchLabels(e,i))))}get hasLabel(){return this.el.textContent!==""}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:o,errorTextId:r}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return r;if(n)return o}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:o}=this;if(e||n)return F("div",{class:"toggle-bottom"},F("div",{id:i,class:"helper-text",part:"supporting-text helper-text"},e),F("div",{id:o,class:"error-text",part:"supporting-text error-text"},n))}render(){const{activated:e,alignment:n,checked:i,color:o,disabled:r,el:s,errorTextId:a,hasLabel:l,inheritedAttributes:c,inputId:u,inputLabelId:d,justify:h,labelPlacement:p,name:f,required:m}=this,b=De(this),g=this.getValue(),x=za(s)?"rtl":"ltr";return Bm(!0,s,f,i?g:"",r),F(tt,{key:"63c67d52dc47661c5758049f6278e873ab867a22",role:"switch","aria-checked":"".concat(i),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===a,onClick:this.onClick,"aria-labelledby":l?d:null,"aria-label":c["aria-label"]||null,"aria-disabled":r?"true":null,tabindex:r?void 0:0,onKeyDown:this.onKeyDown,class:en(o,{[b]:!0,"in-item":Nn("ion-item",s),"toggle-activated":e,"toggle-checked":i,"toggle-disabled":r,["toggle-justify-".concat(h)]:h!==void 0,["toggle-alignment-".concat(n)]:n!==void 0,["toggle-label-placement-".concat(p)]:!0,["toggle-".concat(x)]:!0})},F("label",{key:"723cfac071ee5ec5c75984fc64762209452e9eea",class:"toggle-wrapper",htmlFor:u},F("input",Object.assign({key:"8fa79f49348afbce5e083d454b751f7f9cc04d3f",type:"checkbox",role:"switch","aria-checked":"".concat(i),checked:i,disabled:r,id:u,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:y=>this.focusEl=y,required:m},c)),F("div",{key:"00a4415539ef677be9f6981afddcec61f7fe9487",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!l},part:"label",id:d},F("slot",{key:"7ce338bd5116337c9ea90805fdee7285ef7c5811"}),this.renderHintText()),F("div",{key:"ecb5dfd2c7b534e357cba272dd4f189728555b3a",class:"native-wrapper"},this.renderToggleControl())))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:Bte,md:jte}}},[33,"ion-toggle",{color:[513],name:[1],checked:[1028],disabled:[4],errorText:[1,"error-text"],helperText:[1,"helper-text"],value:[1],enableOnOffLabels:[4,"enable-on-off-labels"],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],required:[4],activated:[32]},void 0,{disabled:["disabledChanged"]}]),Vte=(t,e,n,i)=>e?!t&&i>n||t&&10<n:!t&&10<n||t&&i>n;let Hte=0;function Wte(){if(typeof customElements>"u")return;["ion-toggle","ion-icon"].forEach(e=>{switch(e){case"ion-toggle":customElements.get(e)||customElements.define(e,Ute);break;case"ion-icon":customElements.get(e)||os();break}})}const Gte=Wte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qte=T4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Kte=i7;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Xte=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))));-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:24px;margin-bottom:24px;border-radius:8px;-webkit-transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1), -webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);font-size:0.875rem;-webkit-box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);box-shadow:0 4px 16px rgba(0, 0, 0, 0.12)}:host(.ion-activated){-webkit-transform:scale3d(0.97, 0.97, 1);transform:scale3d(0.97, 0.97, 1)}",Yte=Xte,Zte=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))));-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:10px;margin-bottom:10px;border-radius:4px;font-size:0.875rem;-webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}",Jte=Zte,Qte=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAriaAttributes={},this.color=void 0,this.button=!1,this.type="button",this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.target=void 0}componentWillLoad(){this.inheritedAriaAttributes=la(this.el,["aria-label"])}isClickable(){return this.href!==void 0||this.button}renderCard(e){const n=this.isClickable();if(!n)return[F("slot",null)];const{href:i,routerAnimation:o,routerDirection:r,inheritedAriaAttributes:s}=this,a=n?i===void 0?"button":"a":"div",l=a==="button"?{type:this.type}:{download:this.download,href:this.href,rel:this.rel,target:this.target};return F(a,Object.assign({},l,s,{class:"card-native",part:"native",disabled:this.disabled,onClick:c=>B1(i,c,r,o)}),F("slot",null),n&&e==="md"&&F("ion-ripple-effect",null))}render(){const e=De(this);return F(tt,{key:"85e9b30bd81e79a0c7ac75cb3664bdcf9e4afc4d",class:en(this.color,{[e]:!0,"card-disabled":this.disabled,"ion-activatable":this.isClickable()})},this.renderCard(e))}get el(){return this}static get style(){return{ios:Yte,md:Jte}}},[33,"ion-card",{color:[513],button:[4],type:[1],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1]}]),ene=Qte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const tne=T7;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nne=C7;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ine=t=>{const e=Re(),n=Re(),i=Re();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},one=t=>{const e=Re(),n=Re(),i=Re();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},rne=t=>{const e=Re(),n=Re(),i=Re();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},sne=t=>{const e=Re(),n=Re(),i=Re();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},ane=".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:0.875rem}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{-webkit-margin-start:16px;margin-inline-start:16px}",lne=ane,cne=".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #0054e9);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:0.875rem}.loading-wrapper.sc-ion-loading-md{border-radius:2px;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{-webkit-margin-start:16px;margin-inline-start:16px}",une=cne,dne=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.didPresent=ke(this,"ionLoadingDidPresent",7),this.willPresent=ke(this,"ionLoadingWillPresent",7),this.willDismiss=ke(this,"ionLoadingWillDismiss",7),this.didDismiss=ke(this,"ionLoadingDidDismiss",7),this.didPresentShorthand=ke(this,"didPresent",7),this.willPresentShorthand=ke(this,"willPresent",7),this.willDismissShorthand=ke(this,"willDismiss",7),this.didDismissShorthand=ke(this,"didDismiss",7),this.delegateController=j1(this),this.lockController=Zu(),this.triggerController=Hm(),this.customHTMLEnabled=rt.get("innerHTMLTemplatesEnabled",o4),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,na)},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.message=void 0,this.cssClass=void 0,this.duration=0,this.backdropDismiss=!1,this.showBackdrop=!0,this.spinner=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}connectedCallback(){op(this.el),this.triggerChanged()}componentWillLoad(){var e;if(this.spinner===void 0){const n=De(this);this.spinner=rt.get("loadingSpinner",rt.get("spinner",n==="ios"?"lines":"crescent"))}!((e=this.htmlAttributes)===null||e===void 0)&&e.id||rp(this.el)}componentDidLoad(){this.isOpen===!0&&mi(()=>this.present()),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await sp(this,"loadingEnter",ine,rne),this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(),this.duration+10)),e()}async dismiss(e,n){const i=await this.lockController.lock();this.durationTimeout&&clearTimeout(this.durationTimeout);const o=await ap(this,e,n,"loadingLeave",one,sne);return o&&this.delegateController.removeViewFromDom(),i(),o}onDidDismiss(){return es(this.el,"ionLoadingDidDismiss")}onWillDismiss(){return es(this.el,"ionLoadingWillDismiss")}renderLoadingMessage(e){const{customHTMLEnabled:n,message:i}=this;return n?F("div",{class:"loading-content",id:e,innerHTML:i4(i)}):F("div",{class:"loading-content",id:e},i)}render(){const{message:e,spinner:n,htmlAttributes:i,overlayIndex:o}=this,r=De(this),s="loading-".concat(o,"-msg");return F(tt,Object.assign({key:"d6066c8b56b1fe4b597a243a7dab191ef0d21286",role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?s:null,tabindex:"-1"},i,{style:{zIndex:"".concat(4e4+this.overlayIndex)},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},oo(this.cssClass)),{[r]:!0,"overlay-hidden":!0,"loading-translucent":this.translucent})}),F("ion-backdrop",{key:"2431eda00a2a3f510f5dfc39b7c7d47c056dfa3d",visible:this.showBackdrop,tappable:this.backdropDismiss}),F("div",{key:"cf210aaf5e754e4eccdb49cf7ead4647b3f9b2d1",tabindex:"0","aria-hidden":"true"}),F("div",{key:"fa9375143d391656d70e181d25b952c77c2fc6ec",class:"loading-wrapper ion-overlay-wrapper"},n&&F("div",{key:"8e4a4ed994f7f62df86b03696ac95162df41f52d",class:"loading-spinner"},F("ion-spinner",{key:"e5b323c272d365853ba92bd211e390b4fd4751d2",name:n,"aria-hidden":"true"})),e!==void 0&&this.renderLoadingMessage(s)),F("div",{key:"cae35ec8c34800477bff3ebcec8010e632158233",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:lne,md:une}}},[34,"ion-loading",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],message:[1],cssClass:[1,"css-class"],duration:[2],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],spinner:[1025],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]);function hne(){if(typeof customElements>"u")return;["ion-loading","ion-backdrop","ion-spinner"].forEach(e=>{switch(e){case"ion-loading":customElements.get(e)||customElements.define(e,dne);break;case"ion-backdrop":customElements.get(e)||Yu();break;case"ion-spinner":customElements.get(e)||m7();break}})}const pne=hne;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */function fne(t,e,n,i){let o;if(n==="md"?o=t==="top"?8:-8:o=t==="top"?10:-10,e&&Gt){mne(e,i);const r=e.getBoundingClientRect();return t==="top"?o+=r.bottom:t==="bottom"&&(o-=Gt.innerHeight-r.top),{top:"".concat(o,"px"),bottom:"".concat(o,"px")}}else return{top:"calc(".concat(o,"px + var(--ion-safe-area-top, 0px))"),bottom:"calc(".concat(o,"px - var(--ion-safe-area-bottom, 0px))")}}function mne(t,e){t.offsetParent===null&&hn("[ion-toast] - The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",e)}const E4=(t,e)=>Math.floor(t/2-e/2),gne=(t,e)=>{const n=Re(),i=Re(),{position:o,top:r,bottom:s}=e,l=Bn(t).querySelector(".toast-wrapper");switch(i.addElement(l),o){case"top":i.fromTo("transform","translateY(-100%)","translateY(".concat(r,")"));break;case"middle":const c=E4(t.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),i.fromTo("opacity",.01,1);break;default:i.fromTo("transform","translateY(100%)","translateY(".concat(s,")"));break}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(i)},bne=(t,e)=>{const n=Re(),i=Re(),{position:o,top:r,bottom:s}=e,l=Bn(t).querySelector(".toast-wrapper");switch(i.addElement(l),o){case"top":i.fromTo("transform","translateY(".concat(r,")"),"translateY(-100%)");break;case"middle":i.fromTo("opacity",.99,0);break;default:i.fromTo("transform","translateY(".concat(s,")"),"translateY(100%)");break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)},xne=(t,e)=>{const n=Re(),i=Re(),{position:o,top:r,bottom:s}=e,l=Bn(t).querySelector(".toast-wrapper");switch(i.addElement(l),o){case"top":l.style.setProperty("transform","translateY(".concat(r,")")),i.fromTo("opacity",.01,1);break;case"middle":const c=E4(t.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),i.fromTo("opacity",.01,1);break;default:l.style.setProperty("transform","translateY(".concat(s,")")),i.fromTo("opacity",.01,1);break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(i)},yne=t=>{const e=Re(),n=Re(),o=Bn(t).querySelector(".toast-wrapper");return n.addElement(o).fromTo("opacity",.99,0),e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},vne=(t,e,n)=>{const i=Bn(t).querySelector(".toast-wrapper"),o=t.clientHeight,r=i.getBoundingClientRect();let s=0;const a=.5,l=t.position==="middle"?.5:0,c=t.position==="top"?-1:1,u=E4(o,r.height),d=[{offset:0,transform:"translateY(-".concat(u+r.height,"px)")},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:"translateY(".concat(u+r.height,"px)")}],h=Re("toast-swipe-to-dismiss-animation").addElement(i).duration(100);switch(t.position){case"middle":s=o+r.height,h.keyframes(d),h.progressStart(!0,.5);break;case"top":s=r.bottom,h.keyframes([{offset:0,transform:"translateY(".concat(e.top,")")},{offset:1,transform:"translateY(-100%)"}]),h.progressStart(!0,0);break;case"bottom":default:s=o-r.top,h.keyframes([{offset:0,transform:"translateY(".concat(e.bottom,")")},{offset:1,transform:"translateY(100%)"}]),h.progressStart(!0,0);break}const p=g=>g*c/s,b=Mm({el:i,gestureName:"toast-swipe-to-dismiss",gesturePriority:X8,direction:"y",onMove:g=>{const x=l+p(g.deltaY);h.progressStep(x)},onEnd:g=>{const x=g.velocityY,y=(g.deltaY+x*1e3)/s*c;b.enable(!1);let v=!0,w=1,C=0,S=0;if(t.position==="middle"){v=y>=a/2||y<=-.5/2,w=1,C=0;const I=i.getBoundingClientRect(),N=I.top-u,B="".concat(N,"px"),D=g.deltaY<=0?-1:1,P=(u+I.height)*D,_=v?"".concat(P,"px"):"0px",L=[{offset:0,transform:"translateY(".concat(B,")")},{offset:1,transform:"translateY(".concat(_,")")}];h.keyframes(L),S=P-N}else v=y>=a,w=v?1:0,C=p(g.deltaY),S=(v?1-C:C)*s;const E=Math.min(Math.abs(S)/Math.abs(x),200);h.onFinish(()=>{v?(n(),h.destroy()):(t.position==="middle"?h.keyframes(d).progressStart(!0,.5):h.progressStart(!0,0),b.enable(!0))},{oneTimeCallback:!0}).progressEnd(w,C,E)}});return b},wne=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-radius:14px;--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",kne=wne,Sne=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, var(--ion-background-color-step-800, #333333));--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-50, var(--ion-text-color-step-950, #f2f2f2));--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, var(--ion-text-color-step-900, #e6e6e6))}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}",Cne=Sne,Tne=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ke(this,"ionToastDidPresent",7),this.willPresent=ke(this,"ionToastWillPresent",7),this.willDismiss=ke(this,"ionToastWillDismiss",7),this.didDismiss=ke(this,"ionToastDidDismiss",7),this.didPresentShorthand=ke(this,"didPresent",7),this.willPresentShorthand=ke(this,"willPresent",7),this.willDismissShorthand=ke(this,"willDismiss",7),this.didDismissShorthand=ke(this,"didDismiss",7),this.delegateController=j1(this),this.lockController=Zu(),this.triggerController=Hm(),this.customHTMLEnabled=rt.get("innerHTMLTemplatesEnabled",o4),this.presented=!1,this.dispatchCancelHandler=e=>{const n=e.detail.role;if(Iu(n)){const i=this.getButtons().find(o=>o.role==="cancel");this.callButtonHandler(i)}},this.createSwipeGesture=e=>{(this.gesture=vne(this.el,e,()=>{this.dismiss(void 0,La)})).enable(!0)},this.destroySwipeGesture=()=>{const{gesture:e}=this;e!==void 0&&(e.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:e}=this;return e==="vertical"},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=rt.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}connectedCallback(){op(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||rp(this.el)}componentDidLoad(){this.isOpen===!0&&mi(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:n,position:i}=this,o=this.getAnchorElement(),r=fne(i,o,De(this),n);this.lastPresentedPosition=r,await sp(this,"toastEnter",gne,xne,{position:i,top:r.top,bottom:r.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(r),e()}async dismiss(e,n){var i,o;const r=await this.lockController.lock(),{durationTimeout:s,position:a,lastPresentedPosition:l}=this;s&&clearTimeout(s);const c=await ap(this,e,n,"toastLeave",bne,yne,{position:a,top:(i=l==null?void 0:l.top)!==null&&i!==void 0?i:"",bottom:(o=l==null?void 0:l.bottom)!==null&&o!==void 0?o:""});return c&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),r(),c}onDidDismiss(){return es(this.el,"ionToastDidDismiss")}onWillDismiss(){return es(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(n=>typeof n=="string"?{text:n}:n):[]}getAnchorElement(){const{position:e,positionAnchor:n,el:i}=this;if(n!==void 0){if(e==="middle"&&n!==void 0){hn('[ion-toast] - The positionAnchor property is ignored when using position="middle".',this.el);return}if(typeof n=="string"){const o=document.getElementById(n);if(o===null){hn('[ion-toast] - An anchor element with an ID of "'.concat(n,'" was not found in the DOM.'),i);return}return o}if(n instanceof Je)return n;hn("[ion-toast] - Invalid positionAnchor value:",n,i)}}async buttonClick(e){const n=e.role;return Iu(n)?this.dismiss(void 0,n):await this.callButtonHandler(e)?this.dismiss(void 0,n):Promise.resolve()}async callButtonHandler(e){if(e!=null&&e.handler)try{if(await fu(e.handler)===!1)return!1}catch(n){Qr("[ion-toast] - Exception in callButtonHandler:",n)}return!0}renderButtons(e,n){if(e.length===0)return;const i=De(this),o={"toast-button-group":!0,["toast-button-group-".concat(n)]:!0};return F("div",{class:o},e.map(r=>F("button",Object.assign({},r.htmlAttributes,{type:"button",class:Ene(r),tabIndex:0,onClick:()=>this.buttonClick(r),part:Ine(r)}),F("div",{class:"toast-button-inner"},r.icon&&F("ion-icon",{"aria-hidden":"true",icon:r.icon,slot:r.text===void 0?"icon-only":void 0,class:"toast-button-icon"}),r.text),i==="md"&&F("ion-ripple-effect",{type:r.icon!==void 0&&r.text===void 0?"unbounded":"bounded"}))))}renderToastMessage(e,n=null){const{customHTMLEnabled:i,message:o}=this;return i?F("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message",innerHTML:i4(o)}):F("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message"},o)}renderHeader(e,n=null){return F("div",{key:e,class:"toast-header","aria-hidden":n,part:"header"},this.header)}render(){const{layout:e,el:n,revealContentToScreenReader:i,header:o,message:r}=this,s=this.getButtons(),a=s.filter(d=>d.side==="start"),l=s.filter(d=>d.side!=="start"),c=De(this),u={"toast-wrapper":!0,["toast-".concat(this.position)]:!0,["toast-layout-".concat(e)]:!0};return e==="stacked"&&a.length>0&&l.length>0&&hn("[ion-toast] - This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",n),F(tt,Object.assign({key:"a2216d860255c99337464370dcb12f6125871a50",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:"".concat(6e4+this.overlayIndex)},class:en(this.color,Object.assign(Object.assign({[c]:!0},oo(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),F("div",{key:"d5adf8bc4c6c52431600033a76c4795689f9b412",class:u},F("div",{key:"ab694497ae37ceba123217eb48800129b9bebb84",class:"toast-container",part:"container"},this.renderButtons(a,"start"),this.icon!==void 0&&F("ion-icon",{key:"224854fa3989ce0eb69416cb5b0cc55fc9f131ea",class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),F("div",{key:"c8e11fb5bdac202987f5c8613a0ebbd42bda946e",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!i&&o!==void 0&&this.renderHeader("oldHeader","true"),!i&&r!==void 0&&this.renderToastMessage("oldMessage","true"),i&&o!==void 0&&this.renderHeader("header"),i&&r!==void 0&&this.renderToastMessage("header")),this.renderButtons(l,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:kne,md:Cne}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),Ene=t=>({"toast-button":!0,"toast-button-icon-only":t.icon!==void 0&&t.text===void 0,["toast-button-".concat(t.role)]:t.role!==void 0,"ion-focusable":!0,"ion-activatable":!0}),Ine=t=>Iu(t.role)?"button cancel":"button";function _ne(){if(typeof customElements>"u")return;["ion-toast","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,Tne);break;case"ion-icon":customElements.get(e)||os();break;case"ion-ripple-effect":customElements.get(e)||rs();break}})}const L7=_ne;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $ne=S7;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ane=R7,Nne="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",One=Nne,Dne=Qe(class extends Je{constructor(){super(),this.__registerHost()}componentDidLoad(){Lne(async()=>{const e=Ur(window,"hybrid");if(rt.getBoolean("_testing")||ci(()=>import("./index9-DGRyh6Yd.js"),[]).then(o=>o.startTapClick(rt)),rt.getBoolean("statusTap",e)&&ci(()=>import("./status-tap-Bj1qPShC.js"),[]).then(o=>o.startStatusTap()),rt.getBoolean("inputShims",Rne())){const o=Ur(window,"ios")?"ios":"android";ci(()=>import("./input-shims-Cul0i4Ir.js"),[]).then(r=>r.startInputShims(rt,o))}const n=await ci(()=>Promise.resolve().then(()=>tK),void 0),i=e||Oh();rt.getBoolean("hardwareBackButton",i)?n.startHardwareBackButton():(Oh()&&hn("[ion-app] - experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&ci(()=>Promise.resolve().then(()=>hee),void 0).then(o=>o.startKeyboardAssist(window)),ci(()=>import("./focus-visible-supuXXMI.js"),[]).then(o=>this.focusVisible=o.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=De(this);return F(tt,{key:"03aa892f986330078d112b1e8b010df98fa7e39e",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":rt.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return One}},[0,"ion-app",{setFocus:[64]}]),Rne=()=>!!(Ur(window,"ios")&&Ur(window,"mobile")||Ur(window,"android")&&Ur(window,"mobileweb")),Lne=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function zne(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,Dne);break}})}const Fne=zne;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Pne=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',Bne=Pne,Mne=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',jne=Mne,Une=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const n=this.el.closest("ion-nav");return e.preventDefault(),n&&await n.canGoBack()?n.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):B1(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=Os(this.el),this.defaultHref===void 0&&(this.defaultHref=rt.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e!=null?e:De(this)==="ios"?rt.get("backButtonIcon",TK):rt.get("backButtonIcon",Z8)}get backButtonText(){const e=De(this)==="ios"?"Back":null;return this.text!=null?this.text:rt.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:n,disabled:i,type:o,hasIconOnly:r,backButtonIcon:s,backButtonText:a,icon:l,inheritedAttributes:c}=this,u=n!==void 0,d=De(this),h=c["aria-label"]||a||"back";return F(tt,{key:"5466624a10f1ab56f5469e6dc07080303880f2fe",onClick:this.onClick,class:en(e,{[d]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":r,"in-toolbar":Nn("ion-toolbar",this.el),"in-toolbar-color":Nn("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":u})},F("button",{key:"63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",type:o,disabled:i,class:"button-native",part:"native","aria-label":h},F("span",{key:"5d3eacbd11af2245c6e1151cab446a0d96559ad8",class:"button-inner"},s&&F("ion-icon",{key:"6439af0ae463764174e7d3207f02267811df666d",part:"icon",icon:s,"aria-hidden":"true",lazy:!1,"flip-rtl":l===void 0}),a&&F("span",{key:"8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",part:"text","aria-hidden":"true",class:"button-text"},a)),d==="md"&&F("ion-ripple-effect",{key:"63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",type:this.rippleType})))}get el(){return this}static get style(){return{ios:Bne,md:jne}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function Vne(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,Une);break;case"ion-icon":customElements.get(e)||os();break;case"ion-ripple-effect":customElements.get(e)||rs();break}})}const Hne=Vne,Wne=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",Gne=Wne,qne=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ke(this,"ionNavWillLoad",7),this.ionNavWillChange=ke(this,"ionNavWillChange",3),this.ionNavDidChange=ke(this,"ionNavDidChange",3),this.lockController=Zu(),this.gestureOrAnimationInProgress=!1,this.mode=De(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await ci(()=>import("./swipe-back-DS_JDPX3.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(n)},(n,i,o)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let r=n?-.001:.001;n?r+=Tu([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=Tu([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(n?1:0,r,o)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,i){const o=await this.lockController.lock();let r=!1;try{r=await this.transition(e,n,i)}catch(s){Qr("[ion-router-outlet] - Exception in commit:",s)}return o(),r}async setRouteId(e,n,i,o){return{changed:await this.setRoot(e,n,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:o}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,i){if(this.activeComponent===e&&I8(n,this.activeParams))return!1;const o=this.activeEl,r=await jm(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=r,this.activeParams=n,await this.commit(r,o,i),await s4(this.delegate,o),!0}async transition(e,n,i={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:o,mode:r}=this,s=this.animated&&rt.getBoolean("animated",!0),a=i.animationBuilder||this.animation||rt.get("navAnimation");return await N8(Object.assign(Object.assign({mode:r,animated:s,enteringEl:e,leavingEl:n,baseEl:o,deepWait:Qf(o),progressCallback:i.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},i),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}render(){return F("slot",{key:"e34e02b5154172c8d5cdd187b6ea58119b6946eb"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return Gne}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function Kne(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,qne);break}})}const Xne=Kne;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Yne=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",Zne=Yne,Jne=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",Qne=Jne,eie=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=ke(this,"ionTabBarChanged",7),this.ionTabBarLoaded=ke(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await f7(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:n,keyboardVisible:i}=this,o=De(this),r=i&&this.el.getAttribute("slot")!=="top";return F(tt,{key:"62303a7f9d8c98ffab51a5900c144c5117b9c543",role:"tablist","aria-hidden":r?"true":null,class:en(e,{[o]:!0,"tab-bar-translucent":n,"tab-bar-hidden":r})},F("slot",{key:"5771a9828f748c2bd6b5e26758b9723c6b3de5ff"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:Zne,md:Qne}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function tie(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,eie);break}})}const nie=tie;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const iie=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',oie=iie,rie=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',sie=rie,aie=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=ke(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const n=e.target,i=this.el.parentElement;(e.composedPath().includes(i)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},la(this.el,["aria-label"])),this.layout===void 0&&(this.layout=rt.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:i,href:o,rel:r,target:s,layout:a,selected:l,tab:c,inheritedAttributes:u}=this,d=De(this),h={download:this.download,href:o,rel:r,target:s};return F(tt,{key:"a86d441d8df350fe991f2f948fc6b6ad007728f7",onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?"tab-button-".concat(c):null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":i,"tab-has-icon":n,"tab-has-label-only":i&&!n,"tab-has-icon-only":n&&!i,["tab-layout-".concat(a)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},F("a",Object.assign({key:"8dfe1ccff2cf21601c5aea7f7f877c0fbe384e09"},h,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),F("span",{key:"3f557cf6e96e22b9318b4aee19ede810eb7fb720",class:"button-inner"},F("slot",{key:"836dd090dbe3c2ea97dc263fca7d01dea6ea0eb6"})),d==="md"&&F("ion-ripple-effect",{key:"488a924fd04602c1b23e03d1a4c84dfa0f2ca03d",type:"unbounded"})))}get el(){return this}static get style(){return{ios:oie,md:sie}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function lie(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,aie);break;case"ion-ripple-effect":customElements.get(e)||rs();break}})}const cie=lie;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const uie=":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}",die=uie,hie=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ke(this,"ionNavWillLoad",7),this.ionTabsWillChange=ke(this,"ionTabsWillChange",3),this.ionTabsDidChange=ke(this,"ionTabsDidChange",3),this.transitioning=!1,this.onTabClicked=e=>{const{href:n,tab:i}=e.detail;if(this.useRouter&&n!==void 0){const o=document.querySelector("ion-router");o&&o.push(n)}else this.select(i)},this.selectedTab=void 0,this.useRouter=!1}async componentWillLoad(){if(this.useRouter||(this.useRouter=(!!this.el.querySelector("ion-router-outlet")||!!document.querySelector("ion-router"))&&!this.el.closest("[no-router]")),!this.useRouter){const e=this.tabs;e.length>0&&await this.select(e[0])}this.ionNavWillLoad.emit()}componentWillRender(){const e=this.el.querySelector("ion-tab-bar");if(e){const n=this.selectedTab?this.selectedTab.tab:void 0;e.selectedTab=n}}async select(e){const n=C2(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),await this.notifyRouter(),this.tabSwitch(),!0):!1}async getTab(e){return C2(this.tabs,e)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(e){const n=C2(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var e;const n=(e=this.selectedTab)===null||e===void 0?void 0:e.tab;return n!==void 0?{id:n,element:this.selectedTab}:void 0}setActive(e){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=e,this.ionTabsWillChange.emit({tab:e.tab}),e.active=!0,Promise.resolve())}tabSwitch(){const e=this.selectedTab,n=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,e&&n!==e&&(n&&(n.active=!1),this.ionTabsDidChange.emit({tab:e.tab}))}notifyRouter(){if(this.useRouter){const e=document.querySelector("ion-router");if(e)return e.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(e){const n=this.selectedTab;return e!==void 0&&e!==n&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return F(tt,{key:"20b97196d78c1b3f3faf31618a8a2347e087f06b",onIonTabButtonClick:this.onTabClicked},F("slot",{key:"b0823fbae6e47743cfd12c376b365ad7e32cec7c",name:"top"}),F("div",{key:"eaffd7e4d69ab9489a387e3bbb36e3bab72203a0",class:"tabs-inner"},F("slot",{key:"20bb66a2937e3ec473aa59c4075ce581b5411677"})),F("slot",{key:"1529dd361f050f52074f51c73b3982ba827dc3a5",name:"bottom"}))}get el(){return this}static get style(){return die}},[1,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),C2=(t,e)=>{const n=typeof e=="string"?t.find(i=>i.tab===e):e;return n||Qr('[ion-tabs] - Tab with id: "'.concat(n,'" does not exist')),n};function pie(){if(typeof customElements>"u")return;["ion-tabs"].forEach(e=>{switch(e){case"ion-tabs":customElements.get(e)||customElements.define(e,hie);break}})}const fie=pie;let T2;const mie=()=>{if(typeof window>"u")return new Map;if(!T2){const t=window;t.Ionicons=t.Ionicons||{},T2=t.Ionicons.map=t.Ionicons.map||new Map}return T2},gie=t=>{let e=E2(t.src);return e||(e=z7(t.name,t.icon,t.mode,t.ios,t.md),e?bie(e,t):t.icon&&(e=E2(t.icon),e||(e=E2(t.icon[t.mode]),e))?e:null)},bie=(t,e)=>{const n=mie().get(t);if(n)return n;try{return h8("svg/".concat(t,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},z7=(t,e,n,i,o)=>(n=(n&&J0(n))==="ios"?"ios":"md",i&&n==="ios"?t=J0(i):o&&n==="md"?t=J0(o):(!t&&e&&!F7(e)&&(t=e),Fx(t)&&(t=J0(t))),!Fx(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),E2=t=>Fx(t)&&(t=t.trim(),F7(t))?t:null,F7=t=>t.length>0&&/(\/|\.)/.test(t),Fx=t=>typeof t=="string",J0=t=>t.toLowerCase(),xie=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},yie=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",vie=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),P7(n))return e.innerHTML}return""},P7=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Fx(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!P7(t.childNodes[e]))return!1}return!0},wie=t=>t.startsWith("data:image/svg+xml"),kie=t=>t.indexOf(";utf8,")!==-1,eu=new Map,u6=new Map;let I2;const Sie=(t,e)=>{let n=u6.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(wie(t)&&kie(t)){I2||(I2=new DOMParser);const o=I2.parseFromString(t,"text/html").querySelector("svg");return o&&eu.set(t,o.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(o=>{o&&e!==!1&&(o=vie(o)),eu.set(t,o||"")});eu.set(t,"")}),u6.set(t,n);else return eu.set(t,""),Promise.resolve();return n},Cie=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",Tie=Qe(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=Eie(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=xie(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const o=this.io=new window.IntersectionObserver(r=>{r[0].isIntersecting&&(o.disconnect(),this.io=void 0,i())},{rootMargin:n});o.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=gie(this);e&&(eu.has(e)?this.svgContent=eu.get(e):Sie(e,this.sanitize).then(()=>this.svgContent=eu.get(e)),this.didLoadIcon=!0)}this.iconName=z7(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:i,el:o}=this,r=this.mode||"md",s=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||s;return F(tt,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},Iie(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&yie(o)})},i),this.svgContent?F("div",{class:"icon-inner",innerHTML:this.svgContent}):F("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return Cie}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),Eie=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",Iie=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function _ie(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,Tie);break}})}const $ie=_ie,H1=Ae.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),Aie=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}teardownCallback(t,e){const n=e.filter(i=>i.id===t.id);n.length!==0&&(n.forEach(i=>{i&&typeof i.destructor=="function"&&i.destructor()}),e=e.filter(i=>i.id!==t.id))}cleanupIonViewWillEnter(t){this.teardownCallback(t,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(t){this.teardownCallback(t,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(t){this.teardownCallback(t,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(t){this.teardownCallback(t,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:t.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},Nie=(t,e=[])=>{const n=ae.useContext(H1),i=ae.useRef();i.current=i.current||Math.floor(Math.random()*1e6),ae.useEffect(()=>(t.id=i.current,n.onIonViewWillEnter(t),()=>{n.cleanupIonViewWillEnter(t)}),e)},Ds=Ae.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),I4=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),W1=t=>t.replace(/([A-Z])/g,e=>"-".concat(e[0].toLowerCase())),G1=(t,e,n={})=>{if(t instanceof Element){const i=Oie(t.classList,e,n);i!==""&&(t.className=i),Object.keys(e).forEach(o=>{if(!(o==="children"||o==="style"||o==="ref"||o==="class"||o==="className"||o==="forwardedRef"))if(o.indexOf("on")===0&&o[2]===o[2].toUpperCase()){const r=o.substring(2),s=r[0].toLowerCase()+r.substring(1);Gm(s)||Rie(t,s,e[o])}else t[o]=e[o],typeof e[o]==="string"&&t.setAttribute(W1(o),e[o])})}},Oie=(t,e,n)=>{const i=e.className||e.class,o=n.className||n.class,r=_2(t),s=_2(i?i.split(" "):[]),a=_2(o?o.split(" "):[]),l=[];return r.forEach(c=>{s.has(c)?(l.push(c),s.delete(c)):a.has(c)||l.push(c)}),s.forEach(c=>l.push(c)),l.join(" ")},Die=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const Gm=t=>{if(typeof document>"u")return!0;{const e="on"+Die(t);let n=e in document;if(!n){const i=document.createElement("div");i.setAttribute(e,"return;"),n=typeof i[e]=="function"}return n}},Rie=(t,e,n)=>{const i=t.__events||(t.__events={}),o=i[e];o&&t.removeEventListener(e,o),t.addEventListener(e,i[e]=function(s){n&&n.call(this,s)})},_2=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},Lie=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},q1=(...t)=>e=>{t.forEach(n=>{Lie(n,e)})},zie=(t,e)=>{const n=(i,o)=>T.jsx(t,{...i,forwardedRef:o});return n.displayName=e,Ae.forwardRef(n)},Fie=(t,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(t)&&customElements.define(t,e)},yt=(t,e,n,i)=>{i!==void 0&&i();const o=I4(t),r=class extends Ae.Component{constructor(s){super(s),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(s){G1(this.componentEl,this.props,s)}render(){const{children:s,forwardedRef:a,style:l,className:c,ref:u,...d}=this.props,p={...Object.keys(d).reduce((f,m)=>{const b=d[m];if(m.indexOf("on")===0&&m[2]===m[2].toUpperCase()){const g=m.substring(2).toLowerCase();typeof document<"u"&&Gm(g)&&(f[m]=b)}else{const g=typeof b;(g==="string"||g==="boolean"||g==="number")&&(f[W1(m)]=b)}return f},{}),ref:q1(a,this.setComponentElRef),style:l};return ae.createElement(t,p,s)}static get displayName(){return o}};return zie(r,o)},B7=yt("ion-avatar",void 0,void 0,eX),Px=yt("ion-badge",void 0,void 0,hX),ro=yt("ion-buttons",void 0,void 0,xX),So=yt("ion-card-content",void 0,void 0,TX),_4=yt("ion-card-header",void 0,void 0,OX),$2=yt("ion-card-subtitle",void 0,void 0,BX),nh=yt("ion-card-title",void 0,void 0,GX),pr=yt("ion-col",void 0,void 0,hY),On=yt("ion-content",void 0,void 0,yY),Pie=yt("ion-footer",void 0,void 0,lZ),Vl=yt("ion-grid",void 0,void 0,pZ),Ai=yt("ion-header",void 0,void 0,CZ),K1=yt("ion-img",void 0,void 0,AZ),Wn=yt("ion-input",void 0,void 0,WZ),fh=yt("ion-input-password-toggle",void 0,void 0,JZ),Ti=yt("ion-label",void 0,void 0,aJ),M7=yt("ion-list",void 0,void 0,pJ),Bie=yt("ion-menu",void 0,void 0,AJ),j7=yt("ion-menu-button",void 0,void 0,FJ),Mie=yt("ion-menu-toggle",void 0,void 0,UJ),jie=yt("ion-note",void 0,void 0,tQ),Uie=yt("ion-range",void 0,void 0,SQ),ks=yt("ion-row",void 0,void 0,_Q),Vie=yt("ion-searchbar",void 0,void 0,zQ),zb=yt("ion-select",void 0,void 0,ste),ya=yt("ion-select-option",void 0,void 0,hte),Wa=yt("ion-spinner",void 0,void 0,pte),Hie=yt("ion-tab",void 0,void 0,xte),Wi=yt("ion-text",void 0,void 0,Ste),$4=yt("ion-textarea",void 0,void 0,Nte),Wie=yt("ion-thumbnail",void 0,void 0,zte),so=yt("ion-title",void 0,void 0,Fte),X1=yt("ion-toggle",void 0,void 0,Gte),Ni=yt("ion-toolbar",void 0,void 0,qte),Ju=(t,e)=>{const n=(i,o)=>T.jsx(t,{...i,forwardedRef:o});return n.displayName=e,Ae.forwardRef(n)},A4=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},N4=(t,e)=>{Fie(t,e);const n=I4(t),i=class extends Ae.Component{constructor(o){super(o),this.handleClick=r=>{const{routerLink:s,routerDirection:a,routerOptions:l,routerAnimation:c}=this.props;s!==void 0&&(r.preventDefault(),this.context.navigate(s,a,void 0,c,l))},this.ref=Ae.createRef(),this.stableMergedRefs=q1(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(o){const r=this.ref.current;G1(r,this.props,o)}render(){const{children:o,forwardedRef:r,style:s,className:a,ref:l,...c}=this.props,d={...Object.keys(c).reduce((h,p)=>{if(p.indexOf("on")===0&&p[2]===p[2].toUpperCase()){const f=p.substring(2).toLowerCase();Gm(f)&&(h[p]=c[p])}else["string","boolean","number"].includes(typeof c[p])&&(h[W1(p)]=c[p]);return h},{}),ref:this.stableMergedRefs,style:s};if(this.props.routerLink&&!this.props.href&&(d.href=this.props.routerLink),d.onClick){const h=d.onClick;d.onClick=p=>{h(p),p.defaultPrevented||this.handleClick(p)}}else d.onClick=this.handleClick;return ae.createElement(t,d,o)}static get displayName(){return n}static get contextType(){return Ds}};return Ju(i,n)},ut=N4("ion-button",Kte),Co=N4("ion-card",ene),yo=N4("ion-item",tne),Gie=(t,e)=>{t instanceof Element&&Object.keys(e).forEach(n=>{if(n.indexOf("on")===0&&n[2]===n[2].toUpperCase()){const i=n.substring(2),o=i[0].toLowerCase()+i.substring(1);Gm(o)||qie(t,o)}})},qie=(t,e)=>{const n=t.__events||(t.__events={}),i=n[e];i&&(t.removeEventListener(e,i),n[e]=void 0)},qm=(t,e,n)=>{e&&e();const i=I4(t),o=class extends Ae.Component{constructor(r){super(r),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=s=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(s)},this.handleDidDismiss=s=>{const a=this.wrapperRef.current,l=this.ref.current;a&&l&&(l.append(a),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(s)},this.ref=Ae.createRef(),this.stableMergedRefs=q1(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=Ae.createRef()}componentDidMount(){var r,s,a;this.componentDidUpdate(this.props),(r=this.ref.current)==null||r.addEventListener("ionMount",this.handleIonMount),(s=this.ref.current)==null||s.addEventListener("willPresent",this.handleWillPresent),(a=this.ref.current)==null||a.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(r){const s=this.ref.current,{onDidDismiss:a,onWillPresent:l,...c}=this.props;G1(s,c,r)}componentWillUnmount(){const r=this.ref.current;r&&this.state.isOpen&&(r.removeEventListener("didDismiss",this.handleDidDismiss),r.remove(),Gie(r,this.props))}render(){const{children:r,forwardedRef:s,style:a,className:l,ref:c,...u}=this.props,h={...Object.keys(u).reduce((f,m)=>{if(m.indexOf("on")===0&&m[2]===m[2].toUpperCase()){const b=m.substring(2).toLowerCase();Gm(b)&&(f[m]=u[m])}else["string","boolean","number"].includes(typeof u[m])&&(f[W1(m)]=u[m]);return f},{}),ref:this.stableMergedRefs,style:a},p=()=>n?"".concat(d6," ion-page"):d6;return ae.createElement("template",{},ae.createElement(t,h,this.state.isOpen||this.props.keepContentsMounted?ae.createElement("div",{ref:this.wrapperRef,className:p()},r):null))}static get displayName(){return i}};return Ju(o,i)},d6="ion-delegate-host",mc=qm("ion-alert",nne),A3=qm("ion-loading",pne),gc=qm("ion-toast",L7),Kie=qm("ion-action-sheet",$ne),Pa=qm("ion-modal",Ane,!0),Xie=Ae.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),Yie=({onAddOverlay:t,onRemoveOverlay:e})=>{const[n,i]=ae.useState({}),o=ae.useRef({});ae.useEffect(()=>{t(r),e(s)},[]);const r=(l,c,u)=>{const d={...o.current};d[l]={component:c,containerElement:u},o.current=d,i(d)},s=l=>{const c={...o.current};delete c[l],o.current=c,i(c)},a=Object.keys(n);return T.jsx(T.Fragment,{children:a.map(l=>{const c=n[l];return IV.createPortal(c.component,c.containerElement,"overlay-".concat(l))})})},Zie=yt("ion-tab-button",void 0,void 0,cie),Jie=yt("ion-tab-bar",void 0,void 0,nie),h6=yt("ion-tabs",void 0,void 0,fie),Qie=yt("ion-back-button",void 0,void 0,Hne),N3=yt("ion-router-outlet",void 0,void 0,Xne),eoe=yt("ion-app",void 0,void 0,Fne),toe=yt("ion-icon",void 0,void 0,$ie);class U7 extends Ae.Component{constructor(e){super(e),this.ionContext={addOverlay:(n,i,o)=>{this.addOverlayCallback&&this.addOverlayCallback(n,i,o)},removeOverlay:n=>{this.removeOverlayCallback&&this.removeOverlayCallback(n)}}}render(){return T.jsxs(Xie.Provider,{value:this.ionContext,children:[T.jsx(eoe,{...this.props,children:this.props.children}),T.jsx(Yie,{onAddOverlay:e=>{this.addOverlayCallback=e},onRemoveOverlay:e=>{this.removeOverlayCallback=e}})]})}}U7.displayName="IonApp";const O4=Ae.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class D4 extends Ae.PureComponent{constructor(e){super(e),this.ionPageElementRef=Ae.createRef(),this.stableMergedRefs=q1(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{className:e,children:n,routeInfo:i,forwardedRef:o,...r}=this.props;return T.jsx(H1.Consumer,{children:s=>(this.ionLifeCycleContext=s,T.jsx("div",{className:e?"".concat(e," ion-page"):"ion-page",ref:this.stableMergedRefs,...r,children:n}))})}static get contextType(){return O4}}class noe extends Ae.Component{constructor(e){super(e)}render(){const{className:e,children:n,forwardedRef:i,...o}=this.props;return this.context.hasIonicRouter()?T.jsx(D4,{className:e?"".concat(e):"",routeInfo:this.context.routeInfo,forwardedRef:i,...o,children:n}):T.jsx("div",{className:e?"ion-page ".concat(e):"ion-page",ref:i,...o,children:n})}static get displayName(){return"IonPage"}static get contextType(){return Ds}}const fr=Ju(noe,"IonPage"),p6={main:0},nm=(t="main")=>{var n;const e=((n=p6[t])!=null?n:0)+1;return p6[t]=e,e.toString()},ioe=(t,e)=>{const n=new WeakMap,i="react-delegate-".concat(nm());let o=0;return{attachViewToDom:async(a,l,c,u)=>{const d=document.createElement("div");u&&d.classList.add(...u),a.appendChild(d);const h=l(c),p="".concat(i,"-").concat(o++),f=tC.createPortal(h,d,p);return n.set(d,f),t(f),Promise.resolve(d)},removeViewFromDom:(a,l)=>{const c=n.get(l);return c&&e(c),l.remove(),Promise.resolve()}}},ooe=yt("ion-nav",void 0,void 0,KJ),roe=({children:t,forwardedRef:e,...n})=>{const[i,o]=ae.useState([]),r=l=>o(c=>[...c,l]),s=l=>o(c=>c.filter(u=>u!==l)),a=ae.useMemo(()=>ioe(r,s),[]);return T.jsx(ooe,{delegate:a,ref:e,...n,children:i})};Ju(roe,"IonNav");const V7=Ae.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:Ae.createRef()}}),soe=typeof HTMLElement<"u"?HTMLElement:class{};class aoe extends Ae.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||Es(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{StackManager:e,children:n,routeInfo:i,...o}=this.props;return T.jsx(H1.Consumer,{children:r=>(this.ionLifeCycleContext=r,T.jsx(e,{routeInfo:i,children:T.jsx(N3,{setRef:s=>this.ionRouterOutlet=s,...o,children:n})}))})}static get contextType(){return O4}}class loe extends Ae.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),{children:n,forwardedRef:i,...o}=this.props;return this.context.hasIonicRouter()?o.ionPage?T.jsx(aoe,{StackManager:e,routeInfo:this.context.routeInfo,...o,children:n}):T.jsx(e,{routeInfo:this.context.routeInfo,children:T.jsx(N3,{...o,forwardedRef:i,children:n})}):T.jsx(N3,{ref:i,...this.props,children:this.props.children})}static get contextType(){return Ds}}const ih=Ju(loe,"IonRouterOutlet");class coe extends soe{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",coe));class wLe extends Ae.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.routerOutletRef=Ae.createRef(),this.tabBarRef=Ae.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:this.tabBarRef}}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=e=>{this.ionTabContextState.activeTab=e},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}renderTabsInner(e,n){return T.jsx(h6,{...this.props,children:Ae.Children.map(e,i=>Ae.isValidElement(i)&&(i.type===ih||i.type.isRouterOutlet||i.type===ae.Fragment&&i.props.children[0].type===ih)?n:i)})}render(){let e,n=!1;const{className:i,onIonTabsDidChange:o,onIonTabsWillChange:r,...s}=this.props,a=typeof this.props.children=="function"?this.props.children(this.ionTabContextState):this.props.children;if(Ae.Children.forEach(a,l=>{if(l==null||typeof l!="object"||!l.hasOwnProperty("type"))return;l.type===ih||l.type.isRouterOutlet?e=Ae.cloneElement(l):l.type===ae.Fragment&&l.props.children[0].type===ih?e=Ae.cloneElement(l.props.children[0]):l.type===Hie&&(n=!0),this.ionTabContextState.hasRouterOutlet=!!e;let c={...this.ionTabContextState.tabBarProps};o!==void 0&&(c={...c,onIonTabsDidChange:o}),r!==void 0&&(c={...c,onIonTabsWillChange:r}),this.ionTabContextState.tabBarProps=c}),!e&&!n)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab");if(e&&n)throw new Error("IonTabs cannot contain an IonRouterOutlet and an IonTab at the same time");return n?T.jsx(h6,{...this.props}):T.jsx(V7.Provider,{value:this.ionTabContextState,children:this.context.hasIonicRouter()?T.jsx(D4,{className:i?"".concat(i):"",routeInfo:this.context.routeInfo,...s,children:this.renderTabsInner(a,e)}):this.renderTabsInner(a,e)})}static get contextType(){return Ds}}class A2 extends Ae.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const{onClick:e,...n}=this.props;return T.jsx(Zie,{onIonTabButtonClick:this.handleIonTabButtonClick,...n})}static get displayName(){return"IonTabButton"}}class uoe extends Ae.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=i=>{};const n={};Ae.Children.forEach(e.children,i=>{var o,r,s,a;i!=null&&typeof i=="object"&&i.props&&(i.type===A2||i.type.isTabButton)&&(n[i.props.tab]={originalHref:i.props.href,currentHref:i.props.href,originalRouteOptions:i.props.href===((o=e.routeInfo)==null?void 0:o.pathname)?(r=e.routeInfo)==null?void 0:r.routeOptions:void 0,currentRouteOptions:i.props.href===((s=e.routeInfo)==null?void 0:s.pathname)?(a=e.routeInfo)==null?void 0:a.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,i=Object.keys(e).find(o=>{const r=e[o].originalHref;return this.props.routeInfo.pathname.startsWith(r)});i&&this.setState({activeTab:i})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){var a,l,c;const i={...n.tabs},r=Object.keys(n.tabs).find(u=>{const d=n.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});Ae.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===A2||u.type.isTabButton)){const d=i[u.props.tab];(!d||d.originalHref!==u.props.href)&&(i[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:s}=n;if(r&&s){const u=n.tabs[s].currentHref,d=n.tabs[s].currentRouteOptions;(r!==s||u!==((a=e.routeInfo)==null?void 0:a.pathname)||d!==((l=e.routeInfo)==null?void 0:l.routeOptions))&&(i[r]={originalHref:i[r].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:i[r].originalRouteOptions,currentRouteOptions:(c=e.routeInfo)==null?void 0:c.routeOptions},e.routeInfo.routeAction==="pop"&&r!==s&&(i[s]={originalHref:i[s].originalHref,currentHref:i[s].originalHref,originalRouteOptions:i[s].originalRouteOptions,currentRouteOptions:i[s].currentRouteOptions}))}return r&&e.onSetCurrentTab(r,e.routeInfo),{activeTab:r,tabs:i}}onTabButtonClick(e,n){var l;const i=this.state.tabs[e.detail.tab],o=i.originalHref,r=(l=this.props.tabsContext)==null?void 0:l.hasRouterOutlet,s=r?e.detail.href:"",{activeTab:a}=this.state;n&&n(e),a===e.detail.tab?o!==s&&this.context.resetTab(e.detail.tab,o,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),r&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,s,e.detail.routeOptions)))}renderTabButton(e){return n=>{var i,o;if(n!=null&&n.props&&(n.type===A2||n.type.isTabButton)){const r=n.props.tab===e?(i=this.props.routeInfo)==null?void 0:i.pathname:this.state.tabs[n.props.tab].currentHref,s=n.props.tab===e?(o=this.props.routeInfo)==null?void 0:o.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return Ae.cloneElement(n,{href:r,routeOptions:s,onClick:a=>this.onTabButtonClick(a,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return T.jsx(Jie,{...this.props,selectedTab:e,children:Ae.Children.map(this.props.children,this.renderTabButton(e))})}static get contextType(){return Ds}}const doe=Ae.memo(({forwardedRef:t,...e})=>{const n=ae.useContext(Ds),i=ae.useContext(V7),o=t||i.tabBarProps.ref,r={...i.tabBarProps,ref:o};return T.jsx(uoe,{ref:o,...e,routeInfo:e.routeInfo||n.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:n.setCurrentTab,tabsContext:{...i,tabBarProps:r},children:e.children})});Ju(doe,"IonTabBar");class im extends Ae.Component{constructor(){super(...arguments),this.clickButton=e=>{if(e.target&&e.target.closest("ion-nav")!==null)return;const{defaultHref:n,routerAnimation:i}=this.props;this.context.hasIonicRouter()?(e.stopPropagation(),this.context.goBack(n,i)):n!==void 0&&(window.location.href=n)}}render(){return T.jsx(Qie,{onClick:this.clickButton,...this.props})}static get displayName(){return"IonBackButton"}static get contextType(){return Ds}shouldComponentUpdate(){return!0}}class hoe extends Ae.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var c,u;const{icon:e,ios:n,md:i,mode:o,...r}=this.props;let s;const a=A4(),l=o||(a==null?void 0:a.get("mode"));return n||i?l==="ios"?s=(c=n!=null?n:i)!=null?c:e:s=(u=i!=null?i:n)!=null?u:e:s=e,T.jsx(toe,{ref:this.props.forwardedRef,icon:s,...r,children:this.props.children})}static get contextType(){return Ds}}const St=Ju(hoe,"IonIcon");class R4 extends Ae.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!R4?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):T.jsx(e,{...this.props})}static get contextType(){return Ds}}class H7 extends Ae.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!H7?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):T.jsx(e,{...this.props})}static get contextType(){return Ds}}const W7=Ae.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});function Jl(){const t=ae.useContext(W7);return ae.useMemo(()=>({back:t.back,push:t.push,goBack:t.back,canGoBack:t.canGoBack,routeInfo:t.routeInfo}),[t.back,t.push,t.canGoBack,t.routeInfo])}class kLe extends Ae.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=Re(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),f6(n,e),m6(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,i=this.props;f6(n,i,e),poe(n,i,e),m6(n,i,e)}render(){const{children:e}=this.props;return T.jsx(T.Fragment,{children:Ae.Children.map(e,(n,i)=>Ae.cloneElement(n,{ref:o=>this.nodes.set(i,o)}))})}}const f6=(t,e={},n={})=>{const i=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!i.includes(l)&&e[l]!==n[l]&&t[l](e[l]);const o=e.from;o&&o!==n.from&&(Array.isArray(o)?o:[o]).forEach(c=>t.from(c.property,c.value));const r=e.to;r&&r!==n.to&&(Array.isArray(r)?r:[r]).forEach(c=>t.to(c.property,c.value));const s=e.fromTo;s&&s!==n.fromTo&&(Array.isArray(s)?s:[s]).forEach(c=>t.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>t.onFinish(c.callback,c.opts))},poe=(t,e={},n={})=>{var s,a,l,c,u;const{progressStart:i,progressStep:o,progressEnd:r}=e;i&&(((s=n.progressStart)==null?void 0:s.forceLinearEasing)!==(i==null?void 0:i.forceLinearEasing)||((a=n.progressStart)==null?void 0:a.step)!==(i==null?void 0:i.step))&&t.progressStart(i.forceLinearEasing,i.step),o&&((l=n.progressStep)==null?void 0:l.step)!==(o==null?void 0:o.step)&&t.progressStep(o.step),r&&(((c=n.progressEnd)==null?void 0:c.playTo)!==(r==null?void 0:r.playTo)||((u=n.progressEnd)==null?void 0:u.step)!==(r==null?void 0:r.step)||(n==null?void 0:n.dur)!==(r==null?void 0:r.dur))&&t.progressEnd(r.playTo,r.step,r.dur)},m6=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()};function foe(t,e,n){const i=ae.useRef(),o=ae.useMemo(()=>"on".concat(t,"DidDismiss"),[t]),r=ae.useMemo(()=>"on".concat(t,"DidPresent"),[t]),s=ae.useMemo(()=>"on".concat(t,"WillDismiss"),[t]),a=ae.useMemo(()=>"on".concat(t,"WillPresent"),[t]);n();const l=ae.useCallback(async u=>{if(i.current)return;const{onDidDismiss:d,onWillDismiss:h,onDidPresent:p,onWillPresent:f,...m}=u,b=g=>{d&&d(g),i.current=void 0};i.current=await e.create({...m}),G1(i.current,{[o]:b,[r]:g=>p&&p(g),[s]:g=>h&&h(g),[a]:g=>f&&f(g)}),i.current.present()},[e]),c=ae.useCallback(async()=>{i.current&&await i.current.dismiss(),i.current=void 0},[]);return{present:l,dismiss:c}}function Y1(){const t=foe("IonToast",dK,L7);return[ae.useCallback((n,i)=>typeof n=="string"?t.present({message:n,duration:i}):t.present(n),[t.present]),t.dismiss]}const moe=(t={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),Gq({...t})},G7=Ae.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class g6 extends Ae.Component{constructor(e){super(e),this.ionLifeCycleContext=new Aie,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return T.jsx(H1.Provider,{value:this.ionLifeCycleContext,children:e&&this.props.children})}}class goe{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const n=this._getRouteInfosByKey(e);n&&(n.forEach(i=>{this.locationHistory=this.locationHistory.filter(o=>o.id!==i.id)}),this.tabHistory[e]=[])}update(e){const n=this.locationHistory.findIndex(o=>o.id===e.id);n>-1&&this.locationHistory.splice(n,1,e);const i=this.tabHistory[e.tab||""];if(i){const o=i.findIndex(r=>r.id===e.id);o>-1?i.splice(o,1,e):i.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const n=this._getRouteInfosByKey(e.tab);n&&(this._areRoutesEqual(n[n.length-1],e)&&n.pop(),n.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,n){return!e||!n?!1:e.pathname===n.pathname&&e.search===n.search}_pop(e){const n=this._getRouteInfosByKey(e.tab);n&&(n.pop(),n.pop(),n.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const n=this._getRouteInfosByKey(e.tab);n&&n.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(n=>this.tabHistory[n]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let n;return e&&(n=this.tabHistory[e],n||(n=this.tabHistory[e]=[])),n}getFirstRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[0]}getCurrentRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[n.length-1]}findLastLocation(e){const n=this._getRouteInfosByKey(e.tab);if(n)for(let i=n.length-2;i>=0;i--){const o=n[i];if(o&&o.pathname===e.pushedByRoute)return o}for(let i=this.locationHistory.length-2;i>=0;i--){const o=this.locationHistory[i];if(o&&o.pathname===e.pushedByRoute)return o}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class boe extends Ae.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,i,o,r,s)=>{this.navigate(n,i,o,s,r)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",i="push",o,r,s){this.props.onNavigate(e,i,n,o,r,s)}getPageManager(){return D4}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return T.jsx(Ds.Provider,{value:{...this.state,routeInfo:this.props.routeInfo},children:T.jsx(W7.Provider,{value:{...this.ionRouterContextValue,routeInfo:this.props.routeInfo},children:this.props.children})})}}class xoe{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:n}=e;this.viewStacks[n]?this.viewStacks[n].push(e):this.viewStacks[n]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:n}=e,i=this.viewStacks[n];if(i){const o=i.find(r=>r.id===e.id);o&&(o.mount=!1,this.viewStacks[n]=i.filter(r=>r.id!==o.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),n=[];return e.forEach(i=>{n.push(...this.viewStacks[i])}),n}}function om(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wo.apply(null,arguments)}function Q0(t){return t.charAt(0)==="/"}function N2(t,e){for(var n=e,i=n+1,o=t.length;i<o;n+=1,i+=1)t[n]=t[i];t.pop()}function yoe(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],i=e&&e.split("/")||[],o=t&&Q0(t),r=e&&Q0(e),s=o||r;if(t&&Q0(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var a;if(i.length){var l=i[i.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];d==="."?N2(i,u):d===".."?(N2(i,u),c++):c&&(N2(i,u),c--)}if(!s)for(;c--;c)i.unshift("..");s&&i[0]!==""&&(!i[0]||!Q0(i[0]))&&i.unshift("");var h=i.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}function b6(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function Fb(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(o,r){return Fb(o,e[r])});if(typeof t=="object"||typeof e=="object"){var n=b6(t),i=b6(e);return n!==t||i!==e?Fb(n,i):Object.keys(Object.assign({},t,e)).every(function(o){return Fb(t[o],e[o])})}return!1}var voe="Invariant failed";function Qu(t,e){throw new Error(voe)}function Nf(t){return t.charAt(0)==="/"?t:"/"+t}function x6(t){return t.charAt(0)==="/"?t.substr(1):t}function woe(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function q7(t,e){return woe(t,e)?t.substr(e.length):t}function K7(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function koe(t){var e=t||"/",n="",i="",o=e.indexOf("#");o!==-1&&(i=e.substr(o),e=e.substr(0,o));var r=e.indexOf("?");return r!==-1&&(n=e.substr(r),e=e.substr(0,r)),{pathname:e,search:n==="?"?"":n,hash:i==="#"?"":i}}function Ar(t){var e=t.pathname,n=t.search,i=t.hash,o=e||"/";return n&&n!=="?"&&(o+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(o+=i.charAt(0)==="#"?i:"#"+i),o}function Bo(t,e,n,i){var o;typeof t=="string"?(o=koe(t),o.state=e):(o=Wo({},t),o.pathname===void 0&&(o.pathname=""),o.search?o.search.charAt(0)!=="?"&&(o.search="?"+o.search):o.search="",o.hash?o.hash.charAt(0)!=="#"&&(o.hash="#"+o.hash):o.hash="",e!==void 0&&o.state===void 0&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(r){throw r instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):r}return n&&(o.key=n),i?o.pathname?o.pathname.charAt(0)!=="/"&&(o.pathname=yoe(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function Soe(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Fb(t.state,e.state)}function L4(){var t=null;function e(s){return t=s,function(){t===s&&(t=null)}}function n(s,a,l,c){if(t!=null){var u=typeof t=="function"?t(s,a):t;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var i=[];function o(s){var a=!0;function l(){a&&s.apply(void 0,arguments)}return i.push(l),function(){a=!1,i=i.filter(function(c){return c!==l})}}function r(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];i.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:o,notifyListeners:r}}var X7=!!(typeof window<"u"&&window.document&&window.document.createElement);function Y7(t,e){e(window.confirm(t))}function Coe(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Toe(){return window.navigator.userAgent.indexOf("Trident")===-1}function Eoe(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Ioe(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var y6="popstate",v6="hashchange";function w6(){try{return window.history.state||{}}catch(t){return{}}}function _oe(t){t===void 0&&(t={}),X7||Qu();var e=window.history,n=Coe(),i=!Toe(),o=t,r=o.forceRefresh,s=r===void 0?!1:r,a=o.getUserConfirmation,l=a===void 0?Y7:a,c=o.keyLength,u=c===void 0?6:c,d=t.basename?K7(Nf(t.basename)):"";function h(U){var X=U||{},G=X.key,W=X.state,le=window.location,oe=le.pathname,ie=le.search,we=le.hash,$e=oe+ie+we;return d&&($e=q7($e,d)),Bo($e,W,G)}function p(){return Math.random().toString(36).substr(2,u)}var f=L4();function m(U){Wo(q,U),q.length=e.length,f.notifyListeners(q.location,q.action)}function b(U){Ioe(U)||y(h(U.state))}function g(){y(h(w6()))}var x=!1;function y(U){if(x)x=!1,m();else{var X="POP";f.confirmTransitionTo(U,X,l,function(G){G?m({action:X,location:U}):v(U)})}}function v(U){var X=q.location,G=C.indexOf(X.key);G===-1&&(G=0);var W=C.indexOf(U.key);W===-1&&(W=0);var le=G-W;le&&(x=!0,N(le))}var w=h(w6()),C=[w.key];function S(U){return d+Ar(U)}function E(U,X){var G="PUSH",W=Bo(U,X,p(),q.location);f.confirmTransitionTo(W,G,l,function(le){if(le){var oe=S(W),ie=W.key,we=W.state;if(n)if(e.pushState({key:ie,state:we},null,oe),s)window.location.href=oe;else{var $e=C.indexOf(q.location.key),_e=C.slice(0,$e+1);_e.push(W.key),C=_e,m({action:G,location:W})}else window.location.href=oe}})}function I(U,X){var G="REPLACE",W=Bo(U,X,p(),q.location);f.confirmTransitionTo(W,G,l,function(le){if(le){var oe=S(W),ie=W.key,we=W.state;if(n)if(e.replaceState({key:ie,state:we},null,oe),s)window.location.replace(oe);else{var $e=C.indexOf(q.location.key);$e!==-1&&(C[$e]=W.key),m({action:G,location:W})}else window.location.replace(oe)}})}function N(U){e.go(U)}function B(){N(-1)}function D(){N(1)}var P=0;function _(U){P+=U,P===1&&U===1?(window.addEventListener(y6,b),i&&window.addEventListener(v6,g)):P===0&&(window.removeEventListener(y6,b),i&&window.removeEventListener(v6,g))}var L=!1;function z(U){U===void 0&&(U=!1);var X=f.setPrompt(U);return L||(_(1),L=!0),function(){return L&&(L=!1,_(-1)),X()}}function V(U){var X=f.appendListener(U);return _(1),function(){_(-1),X()}}var q={length:e.length,action:"POP",location:w,createHref:S,push:E,replace:I,go:N,goBack:B,goForward:D,block:z,listen:V};return q}var k6="hashchange",$oe={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+x6(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:x6,decodePath:Nf},slash:{encodePath:Nf,decodePath:Nf}};function Z7(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Wp(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function Aoe(t){window.location.hash=t}function O2(t){window.location.replace(Z7(window.location.href)+"#"+t)}function Noe(t){t===void 0&&(t={}),X7||Qu();var e=window.history;Eoe();var n=t,i=n.getUserConfirmation,o=i===void 0?Y7:i,r=n.hashType,s=r===void 0?"slash":r,a=t.basename?K7(Nf(t.basename)):"",l=$oe[s],c=l.encodePath,u=l.decodePath;function d(){var X=u(Wp());return a&&(X=q7(X,a)),Bo(X)}var h=L4();function p(X){Wo(U,X),U.length=e.length,h.notifyListeners(U.location,U.action)}var f=!1,m=null;function b(X,G){return X.pathname===G.pathname&&X.search===G.search&&X.hash===G.hash}function g(){var X=Wp(),G=c(X);if(X!==G)O2(G);else{var W=d(),le=U.location;if(!f&&b(le,W)||m===Ar(W))return;m=null,x(W)}}function x(X){if(f)f=!1,p();else{var G="POP";h.confirmTransitionTo(X,G,o,function(W){W?p({action:G,location:X}):y(X)})}}function y(X){var G=U.location,W=S.lastIndexOf(Ar(G));W===-1&&(W=0);var le=S.lastIndexOf(Ar(X));le===-1&&(le=0);var oe=W-le;oe&&(f=!0,B(oe))}var v=Wp(),w=c(v);v!==w&&O2(w);var C=d(),S=[Ar(C)];function E(X){var G=document.querySelector("base"),W="";return G&&G.getAttribute("href")&&(W=Z7(window.location.href)),W+"#"+c(a+Ar(X))}function I(X,G){var W="PUSH",le=Bo(X,void 0,void 0,U.location);h.confirmTransitionTo(le,W,o,function(oe){if(oe){var ie=Ar(le),we=c(a+ie),$e=Wp()!==we;if($e){m=ie,Aoe(we);var _e=S.lastIndexOf(Ar(U.location)),Oe=S.slice(0,_e+1);Oe.push(ie),S=Oe,p({action:W,location:le})}else p()}})}function N(X,G){var W="REPLACE",le=Bo(X,void 0,void 0,U.location);h.confirmTransitionTo(le,W,o,function(oe){if(oe){var ie=Ar(le),we=c(a+ie),$e=Wp()!==we;$e&&(m=ie,O2(we));var _e=S.indexOf(Ar(U.location));_e!==-1&&(S[_e]=ie),p({action:W,location:le})}})}function B(X){e.go(X)}function D(){B(-1)}function P(){B(1)}var _=0;function L(X){_+=X,_===1&&X===1?window.addEventListener(k6,g):_===0&&window.removeEventListener(k6,g)}var z=!1;function V(X){X===void 0&&(X=!1);var G=h.setPrompt(X);return z||(L(1),z=!0),function(){return z&&(z=!1,L(-1)),G()}}function q(X){var G=h.appendListener(X);return L(1),function(){L(-1),G()}}var U={length:e.length,action:"POP",location:C,createHref:E,push:I,replace:N,go:B,goBack:D,goForward:P,block:V,listen:q};return U}function S6(t,e,n){return Math.min(Math.max(t,e),n)}function Ooe(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=i===void 0?["/"]:i,r=e.initialIndex,s=r===void 0?0:r,a=e.keyLength,l=a===void 0?6:a,c=L4();function u(E){Wo(S,E),S.length=S.entries.length,c.notifyListeners(S.location,S.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=S6(s,0,o.length-1),p=o.map(function(E){return typeof E=="string"?Bo(E,void 0,d()):Bo(E,void 0,E.key||d())}),f=Ar;function m(E,I){var N="PUSH",B=Bo(E,I,d(),S.location);c.confirmTransitionTo(B,N,n,function(D){if(D){var P=S.index,_=P+1,L=S.entries.slice(0);L.length>_?L.splice(_,L.length-_,B):L.push(B),u({action:N,location:B,index:_,entries:L})}})}function b(E,I){var N="REPLACE",B=Bo(E,I,d(),S.location);c.confirmTransitionTo(B,N,n,function(D){D&&(S.entries[S.index]=B,u({action:N,location:B}))})}function g(E){var I=S6(S.index+E,0,S.entries.length-1),N="POP",B=S.entries[I];c.confirmTransitionTo(B,N,n,function(D){D?u({action:N,location:B,index:I}):u()})}function x(){g(-1)}function y(){g(1)}function v(E){var I=S.index+E;return I>=0&&I<S.entries.length}function w(E){return E===void 0&&(E=!1),c.setPrompt(E)}function C(E){return c.appendListener(E)}var S={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:f,push:m,replace:b,go:g,goBack:x,goForward:y,canGo:v,block:w,listen:C};return S}function O3(t,e){return O3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O3(t,e)}function Ql(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,O3(t,e)}var J7={exports:{}},Doe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Roe=Doe,Loe=Roe;function Q7(){}function e9(){}e9.resetWarningCache=Q7;var zoe=function(){function t(i,o,r,s,a,l){if(l!==Loe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:e9,resetWarningCache:Q7};return n.PropTypes=n,n};J7.exports=zoe();var Foe=J7.exports;const C6=dc(Foe);var cp={exports:{}},Poe=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Bx=Poe;cp.exports=i9;cp.exports.parse=z4;cp.exports.compile=joe;cp.exports.tokensToFunction=t9;cp.exports.tokensToRegExp=n9;var Boe=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function z4(t,e){for(var n=[],i=0,o=0,r="",s=e&&e.delimiter||"/",a;(a=Boe.exec(t))!=null;){var l=a[0],c=a[1],u=a.index;if(r+=t.slice(o,u),o=u+l.length,c){r+=c[1];continue}var d=t[o],h=a[2],p=a[3],f=a[4],m=a[5],b=a[6],g=a[7];r&&(n.push(r),r="");var x=h!=null&&d!=null&&d!==h,y=b==="+"||b==="*",v=b==="?"||b==="*",w=h||s,C=f||m,S=h||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:p||i++,prefix:h||"",delimiter:w,optional:v,repeat:y,partial:x,asterisk:!!g,pattern:C?Hoe(C):g?".*":Moe(w,S)})}return o<t.length&&(r+=t.substr(o)),r&&n.push(r),n}function Moe(t,e){return!e||e.indexOf(t)>-1?"[^"+tu(t)+"]+?":tu(e)+"|(?:(?!"+tu(e)+")[^"+tu(t)+"])+?"}function joe(t,e){return t9(z4(t,e),e)}function Uoe(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Voe(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function t9(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)typeof t[i]=="object"&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",P4(e)));return function(o,r){for(var s="",a=o||{},l=r||{},c=l.pretty?Uoe:encodeURIComponent,u=0;u<t.length;u++){var d=t[u];if(typeof d=="string"){s+=d;continue}var h=a[d.name],p;if(h==null)if(d.optional){d.partial&&(s+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(Bx(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(p=c(h[f]),!n[u].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");s+=(f===0?d.prefix:d.delimiter)+p}continue}if(p=d.asterisk?Voe(h):c(h),!n[u].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');s+=d.prefix+p}return s}}function tu(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Hoe(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function F4(t,e){return t.keys=e,t}function P4(t){return t&&t.sensitive?"":"i"}function Woe(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return F4(t,e)}function Goe(t,e,n){for(var i=[],o=0;o<t.length;o++)i.push(i9(t[o],e,n).source);var r=new RegExp("(?:"+i.join("|")+")",P4(n));return F4(r,e)}function qoe(t,e,n){return n9(z4(t,n),e,n)}function n9(t,e,n){Bx(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,o=n.end!==!1,r="",s=0;s<t.length;s++){var a=t[s];if(typeof a=="string")r+=tu(a);else{var l=tu(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",r+=c}}var u=tu(n.delimiter||"/"),d=r.slice(-u.length)===u;return i||(r=(d?r.slice(0,-u.length):r)+"(?:"+u+"(?=$))?"),o?r+="$":r+=i&&d?"":"(?="+u+"|$)",F4(new RegExp("^"+r,P4(n)),e)}function i9(t,e,n){return Bx(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?Woe(t,e):Bx(t)?Goe(t,e,n):qoe(t,e,n)}var Koe=cp.exports;const o9=dc(Koe);var tn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ri=typeof Symbol=="function"&&Symbol.for,B4=Ri?Symbol.for("react.element"):60103,M4=Ri?Symbol.for("react.portal"):60106,Z1=Ri?Symbol.for("react.fragment"):60107,J1=Ri?Symbol.for("react.strict_mode"):60108,Q1=Ri?Symbol.for("react.profiler"):60114,ey=Ri?Symbol.for("react.provider"):60109,ty=Ri?Symbol.for("react.context"):60110,j4=Ri?Symbol.for("react.async_mode"):60111,ny=Ri?Symbol.for("react.concurrent_mode"):60111,iy=Ri?Symbol.for("react.forward_ref"):60112,oy=Ri?Symbol.for("react.suspense"):60113,Xoe=Ri?Symbol.for("react.suspense_list"):60120,ry=Ri?Symbol.for("react.memo"):60115,sy=Ri?Symbol.for("react.lazy"):60116,Yoe=Ri?Symbol.for("react.block"):60121,Zoe=Ri?Symbol.for("react.fundamental"):60117,Joe=Ri?Symbol.for("react.responder"):60118,Qoe=Ri?Symbol.for("react.scope"):60119;function xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case B4:switch(t=t.type,t){case j4:case ny:case Z1:case Q1:case J1:case oy:return t;default:switch(t=t&&t.$$typeof,t){case ty:case iy:case sy:case ry:case ey:return t;default:return e}}case M4:return e}}}function r9(t){return xr(t)===ny}tn.AsyncMode=j4;tn.ConcurrentMode=ny;tn.ContextConsumer=ty;tn.ContextProvider=ey;tn.Element=B4;tn.ForwardRef=iy;tn.Fragment=Z1;tn.Lazy=sy;tn.Memo=ry;tn.Portal=M4;tn.Profiler=Q1;tn.StrictMode=J1;tn.Suspense=oy;tn.isAsyncMode=function(t){return r9(t)||xr(t)===j4};tn.isConcurrentMode=r9;tn.isContextConsumer=function(t){return xr(t)===ty};tn.isContextProvider=function(t){return xr(t)===ey};tn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===B4};tn.isForwardRef=function(t){return xr(t)===iy};tn.isFragment=function(t){return xr(t)===Z1};tn.isLazy=function(t){return xr(t)===sy};tn.isMemo=function(t){return xr(t)===ry};tn.isPortal=function(t){return xr(t)===M4};tn.isProfiler=function(t){return xr(t)===Q1};tn.isStrictMode=function(t){return xr(t)===J1};tn.isSuspense=function(t){return xr(t)===oy};tn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Z1||t===ny||t===Q1||t===J1||t===oy||t===Xoe||typeof t=="object"&&t!==null&&(t.$$typeof===sy||t.$$typeof===ry||t.$$typeof===ey||t.$$typeof===ty||t.$$typeof===iy||t.$$typeof===Zoe||t.$$typeof===Joe||t.$$typeof===Qoe||t.$$typeof===Yoe)};tn.typeOf=xr;function s9(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var a9={exports:{}},Kt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Li=typeof Symbol=="function"&&Symbol.for,U4=Li?Symbol.for("react.element"):60103,V4=Li?Symbol.for("react.portal"):60106,ay=Li?Symbol.for("react.fragment"):60107,ly=Li?Symbol.for("react.strict_mode"):60108,cy=Li?Symbol.for("react.profiler"):60114,uy=Li?Symbol.for("react.provider"):60109,dy=Li?Symbol.for("react.context"):60110,H4=Li?Symbol.for("react.async_mode"):60111,hy=Li?Symbol.for("react.concurrent_mode"):60111,py=Li?Symbol.for("react.forward_ref"):60112,fy=Li?Symbol.for("react.suspense"):60113,ere=Li?Symbol.for("react.suspense_list"):60120,my=Li?Symbol.for("react.memo"):60115,gy=Li?Symbol.for("react.lazy"):60116,tre=Li?Symbol.for("react.block"):60121,nre=Li?Symbol.for("react.fundamental"):60117,ire=Li?Symbol.for("react.responder"):60118,ore=Li?Symbol.for("react.scope"):60119;function yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case U4:switch(t=t.type,t){case H4:case hy:case ay:case cy:case ly:case fy:return t;default:switch(t=t&&t.$$typeof,t){case dy:case py:case gy:case my:case uy:return t;default:return e}}case V4:return e}}}function l9(t){return yr(t)===hy}Kt.AsyncMode=H4;Kt.ConcurrentMode=hy;Kt.ContextConsumer=dy;Kt.ContextProvider=uy;Kt.Element=U4;Kt.ForwardRef=py;Kt.Fragment=ay;Kt.Lazy=gy;Kt.Memo=my;Kt.Portal=V4;Kt.Profiler=cy;Kt.StrictMode=ly;Kt.Suspense=fy;Kt.isAsyncMode=function(t){return l9(t)||yr(t)===H4};Kt.isConcurrentMode=l9;Kt.isContextConsumer=function(t){return yr(t)===dy};Kt.isContextProvider=function(t){return yr(t)===uy};Kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===U4};Kt.isForwardRef=function(t){return yr(t)===py};Kt.isFragment=function(t){return yr(t)===ay};Kt.isLazy=function(t){return yr(t)===gy};Kt.isMemo=function(t){return yr(t)===my};Kt.isPortal=function(t){return yr(t)===V4};Kt.isProfiler=function(t){return yr(t)===cy};Kt.isStrictMode=function(t){return yr(t)===ly};Kt.isSuspense=function(t){return yr(t)===fy};Kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ay||t===hy||t===cy||t===ly||t===fy||t===ere||typeof t=="object"&&t!==null&&(t.$$typeof===gy||t.$$typeof===my||t.$$typeof===uy||t.$$typeof===dy||t.$$typeof===py||t.$$typeof===nre||t.$$typeof===ire||t.$$typeof===ore||t.$$typeof===tre)};Kt.typeOf=yr;a9.exports=Kt;var rre=a9.exports,W4=rre,sre={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},are={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},lre={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},G4={};G4[W4.ForwardRef]=lre;G4[W4.Memo]=c9;function T6(t){return W4.isMemo(t)?c9:G4[t.$$typeof]||sre}var cre=Object.defineProperty,ure=Object.getOwnPropertyNames,E6=Object.getOwnPropertySymbols,dre=Object.getOwnPropertyDescriptor,hre=Object.getPrototypeOf,I6=Object.prototype;function u9(t,e,n){if(typeof e!="string"){if(I6){var i=hre(e);i&&i!==I6&&u9(t,i,n)}var o=ure(e);E6&&(o=o.concat(E6(e)));for(var r=T6(t),s=T6(e),a=0;a<o.length;++a){var l=o[a];if(!are[l]&&!(n&&n[l])&&!(s&&s[l])&&!(r&&r[l])){var c=dre(e,l);try{cre(t,l,c)}catch(u){}}}}return t}var pre=u9;const fre=dc(pre);var D2=1073741823,_6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function mre(){var t="__global_unique_id__";return _6[t]=(_6[t]||0)+1}function gre(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function bre(t){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(o){return o!==i})},get:function(){return t},set:function(i,o){t=i,e.forEach(function(r){return r(t,o)})}}}function xre(t){return Array.isArray(t)?t[0]:t}function yre(t,e){var n,i,o="__create-react-context-"+mre()+"__",r=function(a){Ql(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return u=a.call.apply(a,[this].concat(h))||this,u.emitter=bre(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[o]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,p=d.value,f;gre(h,p)?f=0:(f=typeof e=="function"?e(h,p):D2,f|=0,f!==0&&this.emitter.set(d.value,f))}},c.render=function(){return this.props.children},l}(Ae.Component);r.childContextTypes=(n={},n[o]=C6.object.isRequired,n);var s=function(a){Ql(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return u=a.call.apply(a,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(f,m){var b=u.observedBits|0;b&m&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h==null?D2:h},c.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?D2:d},c.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},c.getValue=function(){return this.context[o]?this.context[o].get():t},c.render=function(){return xre(this.props.children)(this.state.value)},l}(Ae.Component);return s.contextTypes=(i={},i[o]=C6.object,i),{Provider:r,Consumer:s}}var vre=Ae.createContext||yre,d9=function(e){var n=vre();return n.displayName=e,n},h9=d9("Router-History"),_u=d9("Router"),Km=function(t){Ql(e,t),e.computeRootMatch=function(o){return{path:"/",url:"/",params:{},isExact:o==="/"}};function e(i){var o;return o=t.call(this,i)||this,o.state={location:i.history.location},o._isMounted=!1,o._pendingLocation=null,i.staticContext||(o.unlisten=i.history.listen(function(r){o._pendingLocation=r})),o}var n=e.prototype;return n.componentDidMount=function(){var o=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(r){o._isMounted&&o.setState({location:r})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return Ae.createElement(_u.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Ae.createElement(h9.Provider,{children:this.props.children||null,value:this.props.history}))},e}(Ae.Component);Ae.Component;var wre=function(t){Ql(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(o){this.props.onUpdate&&this.props.onUpdate.call(this,this,o)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(Ae.Component),R2={},kre=1e4,$6=0;function Sre(t){if(R2[t])return R2[t];var e=o9.compile(t);return $6<kre&&(R2[t]=e,$6++),e}function A6(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:Sre(t)(e,{pretty:!0})}function Cre(t){var e=t.computedMatch,n=t.to,i=t.push,o=i===void 0?!1:i;return Ae.createElement(_u.Consumer,null,function(r){r||Qu();var s=r.history,a=r.staticContext,l=o?s.push:s.replace,c=Bo(e?typeof n=="string"?A6(n,e.params):Wo({},n,{pathname:A6(n.pathname,e.params)}):n);return a?(l(c),null):Ae.createElement(wre,{onMount:function(){l(c)},onUpdate:function(d,h){var p=Bo(h.to);Soe(p,Wo({},c,{key:p.key}))||l(c)},to:n})})}var N6={},Tre=1e4,O6=0;function Ere(t,e){var n=""+e.end+e.strict+e.sensitive,i=N6[n]||(N6[n]={});if(i[t])return i[t];var o=[],r=o9(t,o,e),s={regexp:r,keys:o};return O6<Tre&&(i[t]=s,O6++),s}function q4(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,o=n.exact,r=o===void 0?!1:o,s=n.strict,a=s===void 0?!1:s,l=n.sensitive,c=l===void 0?!1:l,u=[].concat(i);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var p=Ere(h,{end:r,strict:a,sensitive:c}),f=p.regexp,m=p.keys,b=f.exec(t);if(!b)return null;var g=b[0],x=b.slice(1),y=t===g;return r&&!y?null:{path:h,url:h==="/"&&g===""?"/":g,isExact:y,params:m.reduce(function(v,w,C){return v[w.name]=x[C],v},{})}},null)}function Ire(t){return Ae.Children.count(t)===0}var ps=function(t){Ql(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var o=this;return Ae.createElement(_u.Consumer,null,function(r){r||Qu();var s=o.props.location||r.location,a=o.props.computedMatch?o.props.computedMatch:o.props.path?q4(s.pathname,o.props):r.match,l=Wo({},r,{location:s,match:a}),c=o.props,u=c.children,d=c.component,h=c.render;return Array.isArray(u)&&Ire(u)&&(u=null),Ae.createElement(_u.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?Ae.createElement(d,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(Ae.Component);function K4(t){return t.charAt(0)==="/"?t:"/"+t}function _re(t,e){return t?Wo({},e,{pathname:K4(t)+e.pathname}):e}function $re(t,e){if(!t)return e;var n=K4(t);return e.pathname.indexOf(n)!==0?e:Wo({},e,{pathname:e.pathname.substr(n.length)})}function D6(t){return typeof t=="string"?t:Ar(t)}function L2(t){return function(){Qu()}}function R6(){}Ae.Component;Ae.Component;function Are(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(o){var r=o.wrappedComponentRef,s=s9(o,["wrappedComponentRef"]);return Ae.createElement(_u.Consumer,null,function(a){return a||Qu(),Ae.createElement(t,Wo({},s,a,{ref:r}))})};return n.displayName=e,n.WrappedComponent=t,fre(n,t)}var p9=Ae.useContext;function by(){return p9(h9)}function xy(){var t=p9(_u).match;return t?t.params:{}}class Nre extends Ae.PureComponent{render(){return Ae.createElement(ps,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}const rm=({pathname:t,componentProps:e})=>{const{exact:n,component:i}=e,o=e.path||e.from,s=q4(t,{exact:n,path:o,component:i});return s||!1};class Ore extends xoe{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,n,i,o){const r={id:nm("viewItem"),outletId:e,ionPageElement:o,reactElement:n,mount:!0,ionRoute:!1};return n.type===R4&&(r.ionRoute=!0,r.disableIonPageManagement=n.props.disableIonPageManagement),r.routeData={match:rm({pathname:i.pathname,componentProps:n.props}),childProps:n.props},r}getChildrenToRender(e,n,i){const o=this.getViewItemsForOutlet(e);return Ae.Children.forEach(n.props.children,s=>{const a=o.find(l=>L6(s,l.routeData.childProps.path||l.routeData.childProps.from));a&&(a.reactElement=s)}),o.map(s=>{let a;if(s.ionRoute&&!s.disableIonPageManagement)a=Ae.createElement(g6,{key:"view-".concat(s.id),mount:s.mount,removeView:()=>this.remove(s)},Ae.cloneElement(s.reactElement,{computedMatch:s.routeData.match}));else{const l=L6(s.reactElement,i.pathname);a=Ae.createElement(g6,{key:"view-".concat(s.id),mount:s.mount,removeView:()=>this.remove(s)},Ae.cloneElement(s.reactElement,{computedMatch:s.routeData.match})),!l&&s.routeData.match&&(s.routeData.match=void 0,s.mount=!1)}return a})}findViewItemByRouteInfo(e,n,i){const{viewItem:o,match:r}=this.findViewItemByPath(e.pathname,n);return(i===void 0||i===!0)&&o&&r&&(o.routeData.match=r),o}findLeavingViewItemByRouteInfo(e,n,i=!0){const{viewItem:o}=this.findViewItemByPath(e.lastPathname,n,i);return o}findViewItemByPathname(e,n){const{viewItem:i}=this.findViewItemByPath(e,n);return i}findViewItemByPath(e,n,i){let o,r,s;if(n)s=this.getViewItemsForOutlet(n),s.some(a),o||s.some(l);else{const c=this.getAllViewItems();c.some(a),o||c.some(l)}return{viewItem:o,match:r};function a(c){var u,d;if(i&&!c.ionRoute)return!1;if(r=rm({pathname:e,componentProps:c.routeData.childProps}),r){const h=r.path.includes(":");if(!h||h&&r.url===((d=(u=c.routeData)===null||u===void 0?void 0:u.match)===null||d===void 0?void 0:d.url))return o=c,!0}return!1}function l(c){return!c.routeData.childProps.path&&!c.routeData.childProps.from?(r={path:e,url:e,isExact:!0,params:{}},o=c,!0):!1}}}function L6(t,e){return rm({pathname:e,componentProps:t.props})}function Dre(t){let e;if(typeof t=="string"?e=t:e=t.outerHTML,document){const n=document.createElement("div");n.innerHTML=e,n.style.zIndex="";const i=n.getElementsByTagName("ion-back-button");return i[0]&&i[0].remove(),n.firstChild}}const z6=t=>!t.classList.contains("ion-page-invisible")&&!t.classList.contains("ion-page-hidden");class Rre extends Ae.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=nm("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:n}=this.props.routeInfo,{pathname:i}=e.routeInfo;n!==i?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var n,i;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let o=this.context.findViewItemByRouteInfo(e,this.id),r=this.context.findLeavingViewItemByRouteInfo(e,this.id);!r&&e.prevRouteLastPathname&&(r=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),r&&(e.routeAction==="replace"?r.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((n=e.routeOptions)===null||n===void 0)&&n.unmount&&(r.mount=!1):e.routeDirection!=="none"&&o!==r&&(r.mount=!1));const s=Lre((i=this.ionRouterOutlet)===null||i===void 0?void 0:i.props.children,e);if(o?o.reactElement=s:s&&(o=this.context.createViewItem(this.id,s,e),this.context.addViewItem(o)),o&&o.ionPageElement){if(o===r&&o.routeData.match.url!==e.pathname||(!r&&this.props.routeInfo.prevRouteLastPathname&&(r=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),z6(o.ionPageElement)&&r!==void 0&&!z6(r.ionPageElement)))return;this.transitionPage(e,o,r)}else r&&!s&&!o&&r.ionPageElement&&(r.ionPageElement.classList.add("ion-page-hidden"),r.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,n){const i=this.context.findViewItemByRouteInfo(n,this.id);if(i){const o=i.ionPageElement;if(i.ionPageElement=e,i.ionRoute=!0,o===e)return}this.handlePageTransition(n)}async setupRouterOutlet(e){const n=()=>{const r=A4();if(!(r&&r.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,l=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(l,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==a.pathname},i=async()=>{const{routeInfo:r}=this.props,s=this.prevProps&&this.prevProps.routeInfo.pathname===r.pushedByRoute?this.prevProps.routeInfo:{pathname:r.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(s,this.id,!1),l=this.context.findViewItemByRouteInfo(r,this.id,!1);return a&&l&&await this.transitionPage(r,a,l,"back",!0),Promise.resolve()},o=r=>{if(r)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:s}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},l=this.context.findViewItemByRouteInfo(a,this.id,!1),c=this.context.findViewItemByRouteInfo(s,this.id,!1);if(l!==c&&(l==null?void 0:l.ionPageElement)!==void 0){const{ionPageElement:u}=l;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:n,onStart:i,onEnd:o}}async transitionPage(e,n,i,o,r=!1){const s=async(u,d)=>{const h=this.skipTransition;h?this.skipTransition=!1:(u.classList.add("ion-page"),u.classList.add("ion-page-invisible")),await a.commit(u,d,{duration:h||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:r,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,l=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=o!=null?o:l;if(n&&n.ionPageElement&&this.routerOutletElement)if(i&&i.ionPageElement&&n===i)if(zre(i.reactElement,e.pathname,!0)){const d=Dre(i.ionPageElement.outerHTML);d&&(this.routerOutletElement.appendChild(d),await s(n.ionPageElement,d),this.routerOutletElement.removeChild(d))}else await s(n.ionPageElement,void 0);else await s(n.ionPageElement,i==null?void 0:i.ionPageElement),i&&i.ionPageElement&&!r&&(i.ionPageElement.classList.add("ion-page-hidden"),i.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,n=Ae.Children.only(e);this.ionRouterOutlet=n;const i=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return Ae.createElement(O4.Provider,{value:this.stackContextValue},Ae.cloneElement(n,{ref:o=>{n.props.setRef&&n.props.setRef(o),n.props.forwardedRef&&(n.props.forwardedRef.current=o),this.routerOutletElement=o;const{ref:r}=n;typeof r=="function"&&r(o)}},i))}static get contextType(){return G7}}function Lre(t,e){let n;return Ae.Children.forEach(t,i=>{rm({pathname:e.pathname,componentProps:i.props})&&(n=i)}),n||(Ae.Children.forEach(t,i=>{i.props.path||i.props.from||(n=i)}),n)}function zre(t,e,n){return rm({pathname:e,componentProps:Object.assign(Object.assign({},t.props),{exact:n})})}class Fre extends Ae.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new goe,this.viewStack=new Ore,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const n={id:nm("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(n),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:n}}handleChangeTab(e,n,i){if(!n)return;const o=this.locationHistory.getCurrentRouteInfoForTab(e),[r,s]=n.split("?");o?(this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"push",routeDirection:"none"}),o.pathname===r?(this.incomingRouteParams.routeOptions=i,this.props.history.push(o.pathname+(o.search||""))):(this.incomingRouteParams.pathname=r,this.incomingRouteParams.search=s?"?"+s:void 0,this.incomingRouteParams.routeOptions=i,this.props.history.push(r+(s?"?"+s:"")))):this.handleNavigate(r,"push","none",void 0,i,e)}handleHistoryChange(e,n){var i,o,r;let s;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?s=this.locationHistory.previous():s=this.locationHistory.current():s=this.locationHistory.current(),s.pathname+s.search!==e.pathname){if(!this.incomingRouteParams){if(n==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),n==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const u=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},u),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((i=e.state)===null||i===void 0?void 0:i.direction)||"forward",routeOptions:(o=e.state)===null||o===void 0?void 0:o.routerOptions,tab:this.currentTab})}let l;if(!((r=this.incomingRouteParams)===null||r===void 0)&&r.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:s.pathname}),this.locationHistory.add(l);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(l=Object.assign(Object.assign({id:nm("routeInfo")},this.incomingRouteParams),{lastPathname:s.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:s.lastPathname}),c)l.tab=s.tab,l.pushedByRoute=s.pathname;else if(l.routeAction==="pop"){const u=this.locationHistory.findLastLocation(l);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="push"&&l.tab!==s.tab){const u=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="replace"){const u=this.locationHistory.current(),d=u==null?void 0:u.pushedByRoute,h=d!==void 0&&d!==l.pathname?d:l.pushedByRoute;l.lastPathname=(u==null?void 0:u.pathname)||l.lastPathname,l.prevRouteLastPathname=u==null?void 0:u.lastPathname,l.pushedByRoute=h,l.routeDirection=l.routeDirection||(u==null?void 0:u.routeDirection),l.routeAnimation=l.routeAnimation||(u==null?void 0:u.routeAnimation)}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,n,i,o,r,s){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:n,routeDirection:i,routeOptions:r,routeAnimation:o,tab:s}),n==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",n){const i=A4();e=e||i&&i.get("backButtonDefaultHref");const o=this.locationHistory.current();if(o&&o.pushedByRoute){const r=this.locationHistory.findLastLocation(o);if(r){const s=n||o.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"pop",routeDirection:"back",routeAnimation:s}),o.lastPathname===o.pushedByRoute||r.pathname===o.pushedByRoute&&o.tab===""&&r.tab===""){const a=this.props.history;(a.goBack||a.back)()}else this.handleNavigate(r.pathname+(r.search||""),"pop","back",s)}else this.handleNavigate(e,"pop","back",n)}else this.handleNavigate(e,"pop","back",n)}handleResetTab(e,n,i){const o=this.locationHistory.getFirstRouteInfoForTab(e);if(o){const r=Object.assign({},o);r.pathname=n,r.routeOptions=i,this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(r.pathname+(r.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const n=Object.assign({},this.locationHistory.current());n.tab!==e&&(n.tab=e,this.locationHistory.update(n))}render(){return Ae.createElement(G7.Provider,{value:this.routeMangerContextState},Ae.createElement(boe,{ionRoute:Nre,ionRedirect:{},stackManager:Rre,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const yy=Are(Fre);yy.displayName="IonRouter";class Pre extends Ae.Component{constructor(e){super(e);const{history:n}=e,i=om(e,["history"]);this.history=n||_oe(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,o=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,o)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=om(e,["children"]);return Ae.createElement(Km,Object.assign({history:this.history},i),Ae.createElement(yy,{registerHistoryListener:this.registerHistoryListener},n))}}class SLe extends Ae.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,o=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,o)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=om(e,["children"]);return Ae.createElement(Km,Object.assign({},i),Ae.createElement(yy,{registerHistoryListener:this.registerHistoryListener},n))}}class CLe extends Ae.Component{constructor(e){super(e);const{history:n}=e,i=om(e,["history"]);this.history=n||Noe(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,o=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,o)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=om(e,["children"]);return Ae.createElement(Km,Object.assign({history:this.history},i),Ae.createElement(yy,{registerHistoryListener:this.registerHistoryListener},n))}}const Bre=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ci(()=>Promise.resolve().then(()=>up),void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class X4 extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class Mre extends X4{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jre extends X4{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ure extends X4{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var D3;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(D3||(D3={}));var Vre=function(t,e,n,i){function o(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?r(u.value):o(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class Hre{constructor(e,{headers:n={},customFetch:i,region:o=D3.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=Bre(i)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e,n={}){var i;return Vre(this,void 0,void 0,function*(){try{const{headers:o,method:r,body:s}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch("".concat(this.url,"/").concat(e),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:c}).catch(f=>{throw new Mre(f)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new jre(u);if(!u.ok)throw new Ure(u);let h=((i=u.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(o){return{data:null,error:o}}})}}var Fo={},Y4={},vy={},Xm={},wy={},ky={},Wre=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Lh=Wre();const Gre=Lh.fetch,f9=Lh.fetch.bind(Lh),m9=Lh.Headers,qre=Lh.Request,Kre=Lh.Response,up=Object.freeze(Object.defineProperty({__proto__:null,Headers:m9,Request:qre,Response:Kre,default:f9,fetch:Gre},Symbol.toStringTag,{value:"Module"})),Xre=mO(up);var Sy={};Object.defineProperty(Sy,"__esModule",{value:!0});let Yre=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Sy.default=Yre;var g9=dn&&dn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ky,"__esModule",{value:!0});const Zre=g9(Xre),Jre=g9(Sy);let Qre=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Zre.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var s,a,l;let c=null,u=null,d=null,h=r.status,p=r.statusText;if(r.ok){if(this.method!=="HEAD"){const g=await r.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),b=(a=r.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:"Results contain ".concat(u.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await r.text();try{c=JSON.parse(m),Array.isArray(c)&&r.status===404&&(u=[],c=null,h=200,p="OK")}catch(b){r.status===404&&m===""?(h=204,p="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new Jre.default(c)}return{error:c,data:u,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(o=o.catch(r=>{var s,a,l;return{error:{message:"".concat((s=r==null?void 0:r.name)!==null&&s!==void 0?s:"FetchError",": ").concat(r==null?void 0:r.message),details:"".concat((a=r==null?void 0:r.stack)!==null&&a!==void 0?a:""),hint:"",code:"".concat((l=r==null?void 0:r.code)!==null&&l!==void 0?l:"")},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};ky.default=Qre;var ese=dn&&dn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wy,"__esModule",{value:!0});const tse=ese(ky);let nse=class extends tse.default{select(e){let n=!1;const i=(e!=null?e:"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:i,foreignTable:o,referencedTable:r=o}={}){const s=r?"".concat(r,".order"):"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(a?"".concat(a,","):"").concat(e,".").concat(n?"asc":"desc").concat(i===void 0?"":i?".nullsfirst":".nullslast")),this}limit(e,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"limit":"".concat(i,".limit");return this.url.searchParams.set(o,"".concat(e)),this}range(e,n,{foreignTable:i,referencedTable:o=i}={}){const r=typeof o>"u"?"offset":"".concat(o,".offset"),s=typeof o>"u"?"limit":"".concat(o,".limit");return this.url.searchParams.set(r,"".concat(e)),this.url.searchParams.set(s,"".concat(n-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:i=!1,buffers:o=!1,wal:r=!1,format:s="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,i?"settings":null,o?"buffers":null,r?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(s,'; for="').concat(c,'"; options=').concat(l,";"),s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};wy.default=nse;var ise=dn&&dn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xm,"__esModule",{value:!0});const ose=ise(wy);let rse=class extends ose.default{eq(e,n){return this.url.searchParams.append(e,"eq.".concat(n)),this}neq(e,n){return this.url.searchParams.append(e,"neq.".concat(n)),this}gt(e,n){return this.url.searchParams.append(e,"gt.".concat(n)),this}gte(e,n){return this.url.searchParams.append(e,"gte.".concat(n)),this}lt(e,n){return this.url.searchParams.append(e,"lt.".concat(n)),this}lte(e,n){return this.url.searchParams.append(e,"lte.".concat(n)),this}like(e,n){return this.url.searchParams.append(e,"like.".concat(n)),this}likeAllOf(e,n){return this.url.searchParams.append(e,"like(all).{".concat(n.join(","),"}")),this}likeAnyOf(e,n){return this.url.searchParams.append(e,"like(any).{".concat(n.join(","),"}")),this}ilike(e,n){return this.url.searchParams.append(e,"ilike.".concat(n)),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,"ilike(all).{".concat(n.join(","),"}")),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,"ilike(any).{".concat(n.join(","),"}")),this}is(e,n){return this.url.searchParams.append(e,"is.".concat(n)),this}in(e,n){const i=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?'"'.concat(o,'"'):"".concat(o)).join(",");return this.url.searchParams.append(e,"in.(".concat(i,")")),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,"cs.".concat(n)):Array.isArray(n)?this.url.searchParams.append(e,"cs.{".concat(n.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(n))),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,"cd.".concat(n)):Array.isArray(n)?this.url.searchParams.append(e,"cd.{".concat(n.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(n))),this}rangeGt(e,n){return this.url.searchParams.append(e,"sr.".concat(n)),this}rangeGte(e,n){return this.url.searchParams.append(e,"nxl.".concat(n)),this}rangeLt(e,n){return this.url.searchParams.append(e,"sl.".concat(n)),this}rangeLte(e,n){return this.url.searchParams.append(e,"nxr.".concat(n)),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,"adj.".concat(n)),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,"ov.".concat(n)):this.url.searchParams.append(e,"ov.{".concat(n.join(","),"}")),this}textSearch(e,n,{config:i,type:o}={}){let r="";o==="plain"?r="pl":o==="phrase"?r="ph":o==="websearch"&&(r="w");const s=i===void 0?"":"(".concat(i,")");return this.url.searchParams.append(e,"".concat(r,"fts").concat(s,".").concat(n)),this}match(e){return Object.entries(e).forEach(([n,i])=>{this.url.searchParams.append(n,"eq.".concat(i))}),this}not(e,n,i){return this.url.searchParams.append(e,"not.".concat(n,".").concat(i)),this}or(e,{foreignTable:n,referencedTable:i=n}={}){const o=i?"".concat(i,".or"):"or";return this.url.searchParams.append(o,"(".concat(e,")")),this}filter(e,n,i){return this.url.searchParams.append(e,"".concat(n,".").concat(i)),this}};Xm.default=rse;var sse=dn&&dn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vy,"__esModule",{value:!0});const Gp=sse(Xm);let ase=class{constructor(e,{headers:n={},schema:i,fetch:o}){this.url=e,this.headers=n,this.schema=i,this.fetch=o}select(e,{head:n=!1,count:i}={}){const o=n?"HEAD":"GET";let r=!1;const s=(e!=null?e:"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",s),i&&(this.headers.Prefer="count=".concat(i)),new Gp.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:i=!0}={}){const o="POST",r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push("count=".concat(n)),i||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>'"'.concat(l,'"'));this.url.searchParams.set("columns",a.join(","))}}return new Gp.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:i=!1,count:o,defaultToNull:r=!0}={}){const s="POST",a=["resolution=".concat(i?"ignore":"merge","-duplicates")];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push("count=".concat(o)),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>'"'.concat(u,'"'));this.url.searchParams.set("columns",c.join(","))}}return new Gp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const i="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push("count=".concat(n)),this.headers.Prefer=o.join(","),new Gp.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",i=[];return e&&i.push("count=".concat(e)),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Gp.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vy.default=ase;var Cy={},Ty={};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.version=void 0;Ty.version="0.0.0-automated";Object.defineProperty(Cy,"__esModule",{value:!0});Cy.DEFAULT_HEADERS=void 0;const lse=Ty;Cy.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(lse.version)};var b9=dn&&dn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Y4,"__esModule",{value:!0});const cse=b9(vy),use=b9(Xm),dse=Cy;let hse=class x9{constructor(e,{headers:n={},schema:i,fetch:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},dse.DEFAULT_HEADERS),n),this.schemaName=i,this.fetch=o}from(e){const n=new URL("".concat(this.url,"/").concat(e));return new cse.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new x9(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:o=!1,count:r}={}){let s;const a=new URL("".concat(this.url,"/rpc/").concat(e));let l;i||o?(s=i?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?"{".concat(d.join(","),"}"):"".concat(d)]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=n);const c=Object.assign({},this.headers);return r&&(c.Prefer="count=".concat(r)),new use.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Y4.default=hse;var dp=dn&&dn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.PostgrestError=Fo.PostgrestBuilder=Fo.PostgrestTransformBuilder=Fo.PostgrestFilterBuilder=Fo.PostgrestQueryBuilder=Fo.PostgrestClient=void 0;const y9=dp(Y4);Fo.PostgrestClient=y9.default;const v9=dp(vy);Fo.PostgrestQueryBuilder=v9.default;const w9=dp(Xm);Fo.PostgrestFilterBuilder=w9.default;const k9=dp(wy);Fo.PostgrestTransformBuilder=k9.default;const S9=dp(ky);Fo.PostgrestBuilder=S9.default;const C9=dp(Sy);Fo.PostgrestError=C9.default;var pse=Fo.default={PostgrestClient:y9.default,PostgrestQueryBuilder:v9.default,PostgrestFilterBuilder:w9.default,PostgrestTransformBuilder:k9.default,PostgrestBuilder:S9.default,PostgrestError:C9.default};const{PostgrestClient:fse,PostgrestQueryBuilder:ALe,PostgrestFilterBuilder:NLe,PostgrestTransformBuilder:OLe,PostgrestBuilder:DLe,PostgrestError:RLe}=pse,mse="2.11.2",gse={"X-Client-Info":"realtime-js/".concat(mse)},bse="1.0.0",T9=1e4,xse=1e3;var mh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(mh||(mh={}));var tr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(tr||(tr={}));var fs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(fs||(fs={}));var R3;(function(t){t.websocket="websocket"})(R3||(R3={}));var Wc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wc||(Wc={}));class yse{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const o=n.getUint8(1),r=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=i.decode(e.slice(s,s+o));s=s+o;const l=i.decode(e.slice(s,s+r));s=s+r;const c=JSON.parse(i.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class E9{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var cn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(cn||(cn={}));const F6=(t,e,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((r,s)=>(r[s]=vse(s,t,e,o),r),{})},vse=(t,e,n,i)=>{const o=e.find(a=>a.name===t),r=o==null?void 0:o.type,s=n[t];return r&&!i.includes(r)?I9(r,s):L3(s)},I9=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Cse(e,n)}switch(t){case cn.bool:return wse(e);case cn.float4:case cn.float8:case cn.int2:case cn.int4:case cn.int8:case cn.numeric:case cn.oid:return kse(e);case cn.json:case cn.jsonb:return Sse(e);case cn.timestamp:return Tse(e);case cn.abstime:case cn.date:case cn.daterange:case cn.int4range:case cn.int8range:case cn.money:case cn.reltime:case cn.text:case cn.time:case cn.timestamptz:case cn.timetz:case cn.tsrange:case cn.tstzrange:return L3(e);default:return L3(e)}},L3=t=>t,wse=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},kse=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Sse=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log("JSON parse error: ".concat(e)),t}return t},Cse=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let r;const s=t.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(a){r=s?s.split(","):[]}return r.map(a=>I9(e,a))}return t},Tse=t=>typeof t=="string"?t.replace(" ","T"):t,_9=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class z2{constructor(e,n,i={},o=T9){this.channel=e,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var P6;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(P6||(P6={}));class Of{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:r,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Of.syncState(this.state,o,r,s),this.pendingDiffs.forEach(l=>{this.state=Of.syncDiff(this.state,l,r,s)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},o=>{const{onJoin:r,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Of.syncDiff(this.state,o,r,s),a())}),this.onJoin((o,r,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:r,newPresences:s})}),this.onLeave((o,r,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:r,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,o){const r=this.cloneDeep(e),s=this.transformState(n),a={},l={};return this.map(r,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=r[c];if(d){const h=u.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),f=u.filter(b=>p.indexOf(b.presence_ref)<0),m=d.filter(b=>h.indexOf(b.presence_ref)<0);f.length>0&&(a[c]=f),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},i,o)}static syncDiff(e,n,i,o){const{joins:r,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(p=>p.presence_ref),h=u.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...h)}i(a,u,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,o(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const o=e[i];return"metas"in o?n[i]=o.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[i]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var B6;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(B6||(B6={}));var M6;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(M6||(M6={}));var ba;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ba||(ba={}));class Z4{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=tr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new z2(this,fs.join,this.params,this.timeout),this.rejoinTimer=new E9(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=tr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),o),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fs.reply,{},(o,r)=>{this._trigger(this._replyEventName(r),o)}),this.presence=new Of(this),this.broadcastEndpointURL=_9(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:s,private:a}}=this.params;this._onError(u=>e==null?void 0:e(ba.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(ba.CLOSED));const l={},c={broadcast:r,presence:s,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(u=>u.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(ba.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,f=[];for(let m=0;m<p;m++){const b=h[m],{filter:{event:g,schema:x,table:y,filter:v}}=b,w=u&&u[m];if(w&&w.event===g&&w.schema===x&&w.table===y&&w.filter===v)f.push(Object.assign(Object.assign({},b),{id:w.id}));else{this.unsubscribe(),e==null||e(ba.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e(ba.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(ba.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ba.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=c.body)===null||o===void 0?void 0:o.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var s,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tr.leaving;const n=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(fs.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const o=new z2(this,fs.leave,{},e);o.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(e,n,i){const o=new AbortController,r=setTimeout(()=>o.abort(),i),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(r),s}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let o=new z2(this,e,n,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var o,r;const s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=fs;if(i&&[a,l,c,u].indexOf(s)>=0&&i!==this._joinRef())return;let h=this._onMessage(s,n,i);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(p=>{var f,m,b;return((f=p.filter)===null||f===void 0?void 0:f.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(p=>p.callback(h,i)):(r=this.bindings[s])===null||r===void 0||r.filter(p=>{var f,m,b,g,x,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const v=p.id,w=(f=p.filter)===null||f===void 0?void 0:f.event;return v&&((m=n.ids)===null||m===void 0?void 0:m.includes(v))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const v=(x=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return v==="*"||v===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const f=h.data,{schema:m,table:b,commit_timestamp:g,type:x,errors:y}=f;h=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:g,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(f))}p.callback(h,i)})}_isClosed(){return this.state===tr.closed}_isJoined(){return this.state===tr.joined}_isJoining(){return this.state===tr.joining}_isLeaving(){return this.state===tr.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,n,i){const o=e.toLocaleLowerCase(),r={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(r):this.bindings[o]=[r],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var r;return!(((r=o.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===i&&Z4.isEqual(o.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fs.close,{},e)}_onError(e){this._on(fs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=F6(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=F6(e.columns,e.old_record)),n}}const Ese=()=>{},Ise=typeof WebSocket<"u",_se='\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });';class $se{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=gse,this.params={},this.timeout=T9,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ese,this.conn=null,this.sendBuffer=[],this.serializer=new yse,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=r=>{let s;return r?s=r:typeof fetch>"u"?s=(...a)=>ci(()=>Promise.resolve().then(()=>up),void 0).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint="".concat(e,"/").concat(R3.websocket),this.httpEndpoint=_9(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(r,s)=>s(JSON.stringify(r)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new E9(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ise){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Ase(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ci(()=>import("./browser-DG8OUVx8.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bse}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n!=null?n:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case mh.connecting:return Wc.Connecting;case mh.open:return Wc.Open;case mh.closing:return Wc.Closing;default:return Wc.Closed}}isConnected(){return this.connectionState()===Wc.Open}channel(e,n={config:{}}){const i=new Z4("realtime:".concat(e),n,this);return this.channels.push(i),i}push(e){const{topic:n,event:i,payload:o,ref:r}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push","".concat(n," ").concat(i," (").concat(r,")"),o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let i=null;try{i=JSON.parse(atob(n.split(".")[1]))}catch(o){}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",'InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(i.exp)),Promise.reject('InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(i.exp));this.accessTokenValue=n,this.channels.forEach(o=>{n&&o.updateJoinPayload({access_token:n}),o.joinedOnce&&o._isJoined()&&o._push(fs.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(xse,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:o,payload:r,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive","".concat(r.status||""," ").concat(i," ").concat(o," ").concat(s&&"("+s+")"||""),r),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(o,r,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(fs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return"".concat(e).concat(i).concat(o)}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([_se],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class Ase{constructor(e,n,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=mh.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}}class J4 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function vi(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Nse extends J4{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class z3 extends J4{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Ose=function(t,e,n,i){function o(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?r(u.value):o(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const $9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ci(()=>Promise.resolve().then(()=>up),void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},Dse=()=>Ose(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ci(()=>Promise.resolve().then(()=>up),void 0)).Response:Response}),F3=t=>{if(Array.isArray(t))return t.map(n=>F3(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[o]=F3(i)}),e};var ed=function(t,e,n,i){function o(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?r(u.value):o(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const F2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Rse=(t,e,n)=>ed(void 0,void 0,void 0,function*(){const i=yield Dse();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{e(new Nse(F2(o),t.status||500))}).catch(o=>{e(new z3(F2(o),o))}):e(new z3(F2(t),t))}),Lse=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(o.body=JSON.stringify(i)),Object.assign(Object.assign({},o),n))};function Ym(t,e,n,i,o,r){return ed(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,Lse(e,i,o,r)).then(l=>{if(!l.ok)throw l;return i!=null&&i.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Rse(l,a,i))})})}function Mx(t,e,n,i){return ed(this,void 0,void 0,function*(){return Ym(t,"GET",e,n,i)})}function wl(t,e,n,i,o){return ed(this,void 0,void 0,function*(){return Ym(t,"POST",e,i,o,n)})}function zse(t,e,n,i,o){return ed(this,void 0,void 0,function*(){return Ym(t,"PUT",e,i,o,n)})}function Fse(t,e,n,i){return ed(this,void 0,void 0,function*(){return Ym(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function A9(t,e,n,i,o){return ed(this,void 0,void 0,function*(){return Ym(t,"DELETE",e,i,o,n)})}var Oo=function(t,e,n,i){function o(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?r(u.value):o(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const Pse={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},j6={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bse{constructor(e,n={},i,o){this.url=e,this.headers=n,this.bucketId=i,this.fetch=$9(o)}uploadOrUpdate(e,n,i,o){return Oo(this,void 0,void 0,function*(){try{let r;const s=Object.assign(Object.assign({},j6),o);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&i instanceof Blob?(r=new FormData,r.append("cacheControl",s.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",i)):typeof FormData<"u"&&i instanceof FormData?(r=i,r.append("cacheControl",s.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=i,a["cache-control"]="max-age=".concat(s.cacheControl),a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),o!=null&&o.headers&&(a=Object.assign(Object.assign({},a),o.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch("".concat(this.url,"/object/").concat(u),Object.assign({method:e,body:r,headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(r){if(vi(r))return{data:null,error:r};throw r}})}upload(e,n,i){return Oo(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,o){return Oo(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),s=this._getFinalPath(r),a=new URL(this.url+"/object/upload/sign/".concat(s));a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:j6.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,u["cache-control"]="max-age=".concat(c.cacheControl),u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:r,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(vi(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Oo(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const r=yield wl(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(i),{},{headers:o}),s=new URL(this.url+r.url),a=s.searchParams.get("token");if(!a)throw new J4("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(i){if(vi(i))return{data:null,error:i};throw i}})}update(e,n,i){return Oo(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return Oo(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(vi(o))return{data:null,error:o};throw o}})}copy(e,n,i){return Oo(this,void 0,void 0,function*(){try{return{data:{path:(yield wl(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(vi(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,i){return Oo(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),r=yield wl(this.fetch,"".concat(this.url,"/object/sign/").concat(o),Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const s=i!=null&&i.download?"&download=".concat(i.download===!0?"":i.download):"";return r={signedUrl:encodeURI("".concat(this.url).concat(r.signedURL).concat(s))},{data:r,error:null}}catch(o){if(vi(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,i){return Oo(this,void 0,void 0,function*(){try{const o=yield wl(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:n,paths:e},{headers:this.headers}),r=i!=null&&i.download?"&download=".concat(i.download===!0?"":i.download):"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI("".concat(this.url).concat(s.signedURL).concat(r)):null})),error:null}}catch(o){if(vi(o))return{data:null,error:o};throw o}})}download(e,n){return Oo(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=r?"?".concat(r):"";try{const a=this._getFinalPath(e);return{data:yield(yield Mx(this.fetch,"".concat(this.url,"/").concat(o,"/").concat(a).concat(s),{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(vi(a))return{data:null,error:a};throw a}})}info(e){return Oo(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Mx(this.fetch,"".concat(this.url,"/object/info/").concat(n),{headers:this.headers});return{data:F3(i),error:null}}catch(i){if(vi(i))return{data:null,error:i};throw i}})}exists(e){return Oo(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Fse(this.fetch,"".concat(this.url,"/object/").concat(n),{headers:this.headers}),{data:!0,error:null}}catch(i){if(vi(i)&&i instanceof z3){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),o=[],r=n!=null&&n.download?"download=".concat(n.download===!0?"":n.download):"";r!==""&&o.push(r);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&o.push(l);let c=o.join("&");return c!==""&&(c="?".concat(c)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(a,"/public/").concat(i).concat(c))}}}remove(e){return Oo(this,void 0,void 0,function*(){try{return{data:yield A9(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(vi(n))return{data:null,error:n};throw n}})}list(e,n,i){return Oo(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Pse),n),{prefix:e||""});return{data:yield wl(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),o,{headers:this.headers},i),error:null}}catch(o){if(vi(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e)}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push("width=".concat(e.width)),e.height&&n.push("height=".concat(e.height)),e.resize&&n.push("resize=".concat(e.resize)),e.format&&n.push("format=".concat(e.format)),e.quality&&n.push("quality=".concat(e.quality)),n.join("&")}}const Mse="2.7.1",jse={"X-Client-Info":"storage-js/".concat(Mse)};var kd=function(t,e,n,i){function o(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?r(u.value):o(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class Use{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},jse),n),this.fetch=$9(i)}listBuckets(){return kd(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(vi(e))return{data:null,error:e};throw e}})}getBucket(e){return kd(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(n){if(vi(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return kd(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(vi(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return kd(this,void 0,void 0,function*(){try{return{data:yield zse(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(vi(i))return{data:null,error:i};throw i}})}emptyBucket(e){return kd(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(n){if(vi(n))return{data:null,error:n};throw n}})}deleteBucket(e){return kd(this,void 0,void 0,function*(){try{return{data:yield A9(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(n){if(vi(n))return{data:null,error:n};throw n}})}}class Vse extends Use{constructor(e,n={},i){super(e,n,i)}from(e){return new Bse(this.url,this.headers,e,this.fetch)}}const Hse="2.49.4";let lf="";typeof Deno<"u"?lf="deno":typeof document<"u"?lf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lf="react-native":lf="node";const Wse={"X-Client-Info":"supabase-js-".concat(lf,"/").concat(Hse)},Gse={headers:Wse},qse={schema:"public"},Kse={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xse={};var Yse=function(t,e,n,i){function o(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?r(u.value):o(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const Zse=t=>{let e;return t?e=t:typeof fetch>"u"?e=f9:e=fetch,(...n)=>e(...n)},Jse=()=>typeof Headers>"u"?m9:Headers,Qse=(t,e,n)=>{const i=Zse(n),o=Jse();return(r,s)=>Yse(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new o(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization","Bearer ".concat(l)),i(r,Object.assign(Object.assign({},s),{headers:c}))})};var eae=function(t,e,n,i){function o(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?r(u.value):o(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};function tae(t){return t.replace(/\/$/,"")}function nae(t,e){const{db:n,auth:i,realtime:o,global:r}=t,{db:s,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),o),global:Object.assign(Object.assign({},c),r),accessToken:()=>eae(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const N9="2.69.1",Pd=30*1e3,P3=3,P2=P3*Pd,iae="http://localhost:9999",oae="supabase.auth.token",rae={"X-Client-Info":"gotrue-js/".concat(N9)},B3="X-Supabase-Api-Version",O9={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sae=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aae=6e5;class Q4 extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function kt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class lae extends Q4{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function cae(t){return kt(t)&&t.name==="AuthApiError"}class D9 extends Q4{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class bc extends Q4{constructor(e,n,i,o){super(e,i,o),this.name=n,this.status=i}}class gl extends bc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uae(t){return kt(t)&&t.name==="AuthSessionMissingError"}class B2 extends bc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eb extends bc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class tb extends bc{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dae(t){return kt(t)&&t.name==="AuthImplicitGrantRedirectError"}class U6 extends bc{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class M3 extends bc{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function M2(t){return kt(t)&&t.name==="AuthRetryableFetchError"}class V6 extends bc{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Df extends bc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const H6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),W6=" 	\n\r=".split(""),hae=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<W6.length;e+=1)t[W6[e].charCodeAt(0)]=-2;for(let e=0;e<H6.length;e+=1)t[H6[e].charCodeAt(0)]=e;return t})();function R9(t,e,n){const i=hae[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(t),'"'))}}function G6(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},r=s=>{mae(s,i,n)};for(let s=0;s<t.length;s+=1)R9(t.charCodeAt(s),o,r);return e.join("")}function pae(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error("Unrecognized Unicode codepoint: ".concat(t.toString(16)))}function fae(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}pae(i,e)}}function mae(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if(!(t>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function gae(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)R9(t.charCodeAt(o),n,i);return new Uint8Array(e)}function bae(t){const e=[];return fae(t,n=>e.push(n)),new Uint8Array(e)}function xae(t){return Math.round(Date.now()/1e3)+t}function yae(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ps=()=>typeof window<"u"&&typeof document<"u",Lc={tested:!1,writable:!1},Rf=()=>{if(!Ps())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(Lc.tested)return Lc.writable;const t="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Lc.tested=!0,Lc.writable=!0}catch(e){Lc.tested=!0,Lc.writable=!1}return Lc.writable};function vae(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,r)=>{e[r]=o})}catch(i){}return n.searchParams.forEach((i,o)=>{e[o]=i}),e}const L9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ci(()=>Promise.resolve().then(()=>up),void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},wae=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",z9=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},nb=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch(i){return n}},ib=async(t,e)=>{await t.removeItem(e)};class Ey{constructor(){this.promise=new Ey.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ey.promiseConstructor=Promise;function j2(t){const e=t.split(".");if(e.length!==3)throw new Df("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!sae.test(e[i]))throw new Df("JWT not in base64url format");return{header:JSON.parse(G6(e[0])),payload:JSON.parse(G6(e[1])),signature:gae(e[2]),raw:{header:e[0],payload:e[1]}}}async function kae(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Sae(t,e){return new Promise((i,o)=>{(async()=>{for(let r=0;r<1/0;r++)try{const s=await t(r);if(!e(r,null,s)){i(s);return}}catch(s){if(!e(r,s)){o(s);return}}})()})}function Cae(t){return("0"+t.toString(16)).substr(-2)}function Tae(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let r=0;r<56;r++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,Cae).join("")}async function Eae(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(r=>String.fromCharCode(r)).join("")}async function Iae(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Eae(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sd(t,e,n=!1){const i=Tae();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await z9(t,"".concat(e,"-code-verifier"),o);const r=await Iae(i);return[r,i===r?"plain":"s256"]}const _ae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $ae(t){const e=t.headers.get(B3);if(!e||!e.match(_ae))return null;try{return new Date("".concat(e,"T00:00:00.0Z"))}catch(n){return null}}function Aae(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Nae(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Oae=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};const jc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Dae=[502,503,504];async function q6(t){var e;if(!wae(t))throw new M3(jc(t),0);if(Dae.includes(t.status))throw new M3(jc(t),t.status);let n;try{n=await t.json()}catch(r){throw new D9(jc(r),r)}let i;const o=$ae(t);if(o&&o.getTime()>=O9["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new V6(jc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new gl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0))throw new V6(jc(n),t.status,n.weak_password.reasons);throw new lae(jc(n),t.status||500,i)}const Rae=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function Ot(t,e,n,i){var o;const r=Object.assign({},i==null?void 0:i.headers);r[B3]||(r[B3]=O9["2024-01-01"].name),i!=null&&i.jwt&&(r.Authorization="Bearer ".concat(i.jwt));const s=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(s.redirect_to=i.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Lae(t,e,n+a,{headers:r,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(l):{data:Object.assign({},l),error:null}}async function Lae(t,e,n,i,o,r){const s=Rae(e,i,o,r);let a;try{a=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new M3(jc(l),0)}if(a.ok||await q6(a),i!=null&&i.noResolveJson)return a;try{return await a.json()}catch(l){await q6(l)}}function bl(t){var e;let n=null;Bae(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=xae(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function K6(t){const e=bl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _l(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function zae(t){return{data:t,error:null}}function Fae(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:r}=t,s=Oae(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:r},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Pae(t){return t}function Bae(t){return t.access_token&&t.refresh_token&&t.expires_in}var Mae=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};class jae{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=L9(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Ot(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(n),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Ot(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_l})}catch(i){if(kt(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Mae(e,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await Ot(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:o,headers:this.headers,xform:Fae,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(kt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ot(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:_l})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,o,r,s,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ot(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(r=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&r!==void 0?r:""},xform:Pae});if(u.error)throw u.error;const d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(f=>{const m=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(f.split(";")[1].split("=")[1]);c["".concat(b,"Page")]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(kt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Ot(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:_l})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Ot(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:n,headers:this.headers,xform:_l})}catch(i){if(kt(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){try{return await Ot(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:n},xform:_l})}catch(i){if(kt(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{const{data:n,error:i}=await Ot(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Ot(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}}const Uae={getItem:t=>Rf()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Rf()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Rf()&&globalThis.localStorage.removeItem(t)}};function X6(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Vae(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){typeof self<"u"&&(self.globalThis=self)}}const Cd={debug:!!(globalThis&&Rf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F9 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Hae extends F9{}async function Wae(t,e,n){Cd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Cd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Cd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Cd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Cd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Hae('Acquiring an exclusive Navigator LockManager lock "'.concat(t,'" immediately failed'));if(Cd.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Vae();const Gae={url:iae,storageKey:oae,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rae,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Y6(t,e,n){return await n()}class sm{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sm.nextInstanceID,sm.nextInstanceID+=1,this.instanceID>0&&Ps()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Gae),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new jae({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=L9(o.fetch),this.lock=o.lock||Y6,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ps()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Wae:this.lock=Y6,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Rf()?this.storage=Uae:(this.memoryStorage={},this.storage=X6(this.memoryStorage)):(this.memoryStorage={},this.storage=X6(this.memoryStorage)),Ps()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger("GoTrueClient@".concat(this.instanceID," (").concat(N9,") ").concat(new Date().toISOString()),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=vae(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Ps()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:r}=await this._getSessionFromURL(n,i);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),dae(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:s,redirectType:a}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return kt(n)?{error:n}:{error:new D9("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,o;try{const r=await Ot(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:bl}),{data:s,error:a}=r;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var n,i,o;try{let r;if("email"in e){const{email:u,password:d,options:h}=e;let p=null,f=null;this.flowType==="pkce"&&([p,f]=await Sd(this.storage,this.storageKey)),r=await Ot(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:f},xform:bl})}else if("phone"in e){const{phone:u,password:d,options:h}=e;r=await Ot(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:u,password:d,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},channel:(o=h==null?void 0:h.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:bl})}else throw new eb("You must provide either an email or phone number and a password");const{data:s,error:a}=r;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let n;if("email"in e){const{email:r,password:s,options:a}=e;n=await Ot(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:K6})}else if("phone"in e){const{phone:r,password:s,options:a}=e;n=await Ot(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:K6})}else throw new eb("You must provide either an email or phone number and a password");const{data:i,error:o}=n;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new B2}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,o,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await nb(this.storage,"".concat(this.storageKey,"-code-verifier")),[i,o]=(n!=null?n:"").split("/");try{const{data:r,error:s}=await Ot(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:bl});if(await ib(this.storage,"".concat(this.storageKey,"-code-verifier")),s)throw s;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new B2}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:o!=null?o:null}),error:s})}catch(r){if(kt(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:n,provider:i,token:o,access_token:r,nonce:s}=e,a=await Ot(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:i,id_token:o,access_token:r,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:bl}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new B2}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,o,r,s;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Sd(this.storage,this.storageKey));const{error:d}=await Ot(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Ot(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:a,data:(o=l==null?void 0:l.data)!==null&&o!==void 0?o:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new eb("You must provide either an email or phone number.")}catch(a){if(kt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,i;try{let o,r;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,r=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:s,error:a}=await Ot(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:o,xform:bl});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(kt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,i,o;try{let r=null,s=null;return this.flowType==="pkce"&&([r,s]=await Sd(this.storage,this.storageKey)),await Ot(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:s}),headers:this.headers,xform:zae})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new gl;const{error:o}=await Ot(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(kt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n="".concat(this.url,"/resend");if("email"in e){const{email:i,type:o,options:r}=e,{error:s}=await Ot(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:i,type:o,options:r}=e,{data:s,error:a}=await Ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new eb("You must provide either an email or phone number and a type")}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch(r){}})()),o}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch(o){}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await nb(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<P2:!1;if(this._debug("#__loadSession()","session has".concat(i?"":" not"," expired"),"expires_at",e.expires_at),!i){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:o,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ot(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:_l}):await this._useSession(async n=>{var i,o,r;const{data:s,error:a}=n;if(a)throw a;return!(!((i=s.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gl}:await Ot(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:(r=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&r!==void 0?r:void 0,xform:_l})})}catch(n){if(kt(n))return uae(n)&&(await this._removeSession(),await ib(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:o,error:r}=i;if(r)throw r;if(!o.session)throw new gl;const s=o.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Sd(this.storage,this.storageKey));const{data:c,error:u}=await Ot(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:_l});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(i){if(kt(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gl;const n=Date.now()/1e3;let i=n,o=!0,r=null;const{payload:s}=j2(e.access_token);if(s.exp&&(i=s.exp,o=i<=n),o){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(n){if(kt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:s,error:a}=n;if(a)throw a;e=(i=s.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new gl;const{session:o,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ps())throw new tb("No browser detected.");if(e.error||e.error_description||e.error_code)throw new tb(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new U6("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tb("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new U6("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:r,refresh_token:s,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!s||!c)throw new tb("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const p=h-u;p*1e3<=Pd&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(p,"s, should have been closer to ").concat(d,"s"));const f=h-d;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,h,u);const{data:m,error:b}=await this._getUser(r);if(b)throw b;const g={provider_token:i,provider_refresh_token:o,access_token:r,expires_in:d,expires_at:h,refresh_token:s,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(i){if(kt(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await nb(this.storage,"".concat(this.storageKey,"-code-verifier"));return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:r}=n;if(r)return{error:r};const s=(i=o.session)===null||i===void 0?void 0:i.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(cae(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ib(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const n=yae(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,o;try{const{data:{session:r},error:s}=n;if(s)throw s;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Sd(this.storage,this.storageKey,!0));try{return await Ot(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:o}=await this._useSession(async r=>{var s,a,l,c,u;const{data:d,error:h}=r;if(h)throw h;const p=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ot(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(o)throw o;return Ps()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(kt(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,o;const{data:r,error:s}=n;if(s)throw s;return await Ot(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:(o=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(n,"begin");try{const i=Date.now();return await Sae(async o=>(o>0&&await kae(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Ot(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:bl})),(o,r)=>{const s=200*Math.pow(2,o);return r&&M2(r)&&Date.now()+s-i<Pd})}catch(i){if(this._debug(n,"error",i),kt(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Ps()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await nb(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<P2;if(this._debug(n,"session has".concat(o?"":" not"," expired with margin of ").concat(P2,"s")),o){if(this.autoRefreshToken&&i.refresh_token){const{error:r}=await this._callRefreshToken(i.refresh_token);r&&(console.error(r),M2(r)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new gl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(o,"begin");try{this.refreshingDeferred=new Ey;const{data:r,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!r.session)throw new gl;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(o,"error",r),kt(r)){const s={session:null,error:r};return M2(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(r),r}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,i=!0){const o="#_notifyAllSubscribers(".concat(e,")");this._debug(o,"begin",n,"broadcast = ".concat(i));try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const r=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){r.push(l)}});if(await Promise.all(s),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await z9(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ib(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ps()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Pd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Pd);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(o," ticks, a tick lasts ").concat(Pd,"ms, refresh threshold is ").concat(P3," ticks")),o<=P3&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof F9)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ps()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n="#_onVisibilityChanged(".concat(e,")");this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const o=["provider=".concat(encodeURIComponent(n))];if(i!=null&&i.redirectTo&&o.push("redirect_to=".concat(encodeURIComponent(i.redirectTo))),i!=null&&i.scopes&&o.push("scopes=".concat(encodeURIComponent(i.scopes))),this.flowType==="pkce"){const[r,s]=await Sd(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(r)),code_challenge_method:"".concat(encodeURIComponent(s))});o.push(a.toString())}if(i!=null&&i.queryParams){const r=new URLSearchParams(i.queryParams);o.push(r.toString())}return i!=null&&i.skipBrowserRedirect&&o.push("skip_http_redirect=".concat(i.skipBrowserRedirect)),"".concat(e,"?").concat(o.join("&"))}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:o,error:r}=n;return r?{data:null,error:r}:await Ot(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,o;const{data:r,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Ot(this.fetch,"POST","".concat(this.url,"/factors"),{body:a,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((o=l==null?void 0:l.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code="data:image/svg+xml;utf-8,".concat(l.totp.qr_code)),{data:l,error:null})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:r}=n;if(r)return{data:null,error:r};const{data:s,error:a}=await Ot(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(n){if(kt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:r}=n;return r?{data:null,error:r}:await Ot(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(kt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],o=i.filter(s=>s.factor_type==="totp"&&s.status==="verified"),r=i.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:i,totp:o,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:o},error:r}=e;if(r)return{data:null,error:r};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=j2(o.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(s=>s.kid===e);if(i||(i=this.jwks.keys.find(s=>s.kid===e),i&&this.jwks_cached_at+aae>Date.now()))return i;const{data:o,error:r}=await Ot(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(r)throw r;if(!o.keys||o.keys.length===0)throw new Df("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),i=o.keys.find(s=>s.kid===e),!i)throw new Df("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:p,error:f}=await this.getSession();if(f||!p.session)return{data:null,error:f};i=p.session.access_token}const{header:o,payload:r,signature:s,raw:{header:a,payload:l}}=j2(i);if(Aae(r.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:r,header:o,signature:s},error:null}}const c=Nae(o.alg),u=await this.fetchJwk(o.kid,n),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,bae("".concat(a,".").concat(l))))throw new Df("Invalid JWT signature");return{data:{claims:r,header:o,signature:s},error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}}}sm.nextInstanceID=0;const qae=sm;class Kae extends qae{constructor(e){super(e)}}var Xae=function(t,e,n,i){function o(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?r(u.value):o(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class Yae{constructor(e,n,i){var o,r,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=tae(e);this.realtimeUrl="".concat(a,"/realtime/v1").replace(/^http/i,"ws"),this.authUrl="".concat(a,"/auth/v1"),this.storageUrl="".concat(a,"/storage/v1"),this.functionsUrl="".concat(a,"/functions/v1");const l="sb-".concat(new URL(this.authUrl).hostname.split(".")[0],"-auth-token"),c={db:qse,realtime:Xse,auth:Object.assign(Object.assign({},Kse),{storageKey:l}),global:Gse},u=nae(i!=null?i:{},c);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(h)," is not possible"))}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=Qse(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new fse("".concat(a,"/rest/v1"),{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Hre(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Vse(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Xae(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,storageKey:r,flowType:s,lock:a,debug:l},c,u){const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Kae({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:r,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new $se(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zae=(t,e,n)=>new Yae(t,e,n),P9="https://dofkgpqpyxfgxwwbiifj.supabase.co",Pb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRvZmtncHFweXhmZ3h3d2JpaWZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY1MzMzNjYsImV4cCI6MjA2MjEwOTM2Nn0.XZekoiM7DjAU8VidqhMlU0SuSB1QEvqCf5V8YKElTiA";console.log("[Supabase] Initializing with:",{url:P9,key:(Pb==null?void 0:Pb.slice(0,5))+"..."});const ze=Zae(P9,Pb,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});var j3=function(t,e){return j3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},j3(t,e)};function Jae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");j3(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var wi=function(){return wi=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wi.apply(this,arguments)};function Qae(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function Td(t,e,n,i){function o(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?r(u.value):o(u.value).then(a,l)}c((i=i.apply(t,[])).next())})}function Ed(t,e){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(r=c[0]&2?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){n.label=c[1];break}if(c[0]===6&&n.label<r[1]){n.label=r[1],r=c;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(c);break}r[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],o=0}finally{i=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ms(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tT(t,e){return t(e={exports:{}},e.exports),e.exports}var Uc=tT(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function i(){var o=this;this.locked=new Map,this.addToLocked=function(r,s){var a=o.locked.get(r);a===void 0?s===void 0?o.locked.set(r,[]):o.locked.set(r,[s]):s!==void 0&&(a.unshift(s),o.locked.set(r,a))},this.isLocked=function(r){return o.locked.has(r)},this.lock=function(r){return new Promise(function(s,a){o.isLocked(r)?o.addToLocked(r,s):(o.addToLocked(r),s())})},this.unlock=function(r){var s=o.locked.get(r);if(s!==void 0&&s.length!==0){var a=s.pop();o.locked.set(r,s),a!==void 0&&setTimeout(a,0)}else o.locked.delete(r)}}return i.getInstance=function(){return i.instance===void 0&&(i.instance=new i),i.instance},i}();e.default=function(){return n.getInstance()}});eT(Uc);var ele=eT(tT(function(t,e){var n=Gc&&Gc.__awaiter||function(u,d,h,p){return new(h||(h=Promise))(function(f,m){function b(y){try{x(p.next(y))}catch(v){m(v)}}function g(y){try{x(p.throw(y))}catch(v){m(v)}}function x(y){y.done?f(y.value):new h(function(v){v(y.value)}).then(b,g)}x((p=p.apply(u,d||[])).next())})},i=Gc&&Gc.__generator||function(u,d){var h,p,f,m,b={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(x){return function(y){return function(v){if(h)throw new TypeError("Generator is already executing.");for(;b;)try{if(h=1,p&&(f=2&v[0]?p.return:v[0]?p.throw||((f=p.return)&&f.call(p),0):p.next)&&!(f=f.call(p,v[1])).done)return f;switch(p=0,f&&(v=[2&v[0],f.value]),v[0]){case 0:case 1:f=v;break;case 4:return b.label++,{value:v[1],done:!1};case 5:b.label++,p=v[1],v=[0];continue;case 7:v=b.ops.pop(),b.trys.pop();continue;default:if(f=b.trys,!((f=f.length>0&&f[f.length-1])||v[0]!==6&&v[0]!==2)){b=0;continue}if(v[0]===3&&(!f||v[1]>f[0]&&v[1]<f[3])){b.label=v[1];break}if(v[0]===6&&b.label<f[1]){b.label=f[1],f=v;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(v);break}f[2]&&b.ops.pop(),b.trys.pop();continue}v=d.call(u,b)}catch(w){v=[6,w],p=0}finally{h=f=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([x,y])}}},o=Gc;Object.defineProperty(e,"__esModule",{value:!0});var r="browser-tabs-lock-key",s={key:function(u){return n(o,void 0,void 0,function(){return i(this,function(d){throw new Error("Unsupported")})})},getItem:function(u){return n(o,void 0,void 0,function(){return i(this,function(d){throw new Error("Unsupported")})})},clear:function(){return n(o,void 0,void 0,function(){return i(this,function(u){return[2,window.localStorage.clear()]})})},removeItem:function(u){return n(o,void 0,void 0,function(){return i(this,function(d){throw new Error("Unsupported")})})},setItem:function(u,d){return n(o,void 0,void 0,function(){return i(this,function(h){throw new Error("Unsupported")})})},keySync:function(u){return window.localStorage.key(u)},getItemSync:function(u){return window.localStorage.getItem(u)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(u){return window.localStorage.removeItem(u)},setItemSync:function(u,d){return window.localStorage.setItem(u,d)}};function a(u){return new Promise(function(d){return setTimeout(d,u)})}function l(u){for(var d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",h="",p=0;p<u;p++)h+=d[Math.floor(Math.random()*d.length)];return h}var c=function(){function u(d){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=d,u.waiters===void 0&&(u.waiters=[])}return u.prototype.acquireLock=function(d,h){return h===void 0&&(h=5e3),n(this,void 0,void 0,function(){var p,f,m,b,g,x,y;return i(this,function(v){switch(v.label){case 0:p=Date.now()+l(4),f=Date.now()+h,m=r+"-"+d,b=this.storageHandler===void 0?s:this.storageHandler,v.label=1;case 1:return Date.now()<f?[4,a(30)]:[3,8];case 2:return v.sent(),b.getItemSync(m)!==null?[3,5]:(g=this.id+"-"+d+"-"+p,[4,a(Math.floor(25*Math.random()))]);case 3:return v.sent(),b.setItemSync(m,JSON.stringify({id:this.id,iat:p,timeoutKey:g,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return v.sent(),(x=b.getItemSync(m))!==null&&(y=JSON.parse(x)).id===this.id&&y.iat===p?(this.acquiredIatSet.add(p),this.refreshLockWhileAcquired(m,p),[2,!0]):[3,7];case 5:return u.lockCorrector(this.storageHandler===void 0?s:this.storageHandler),[4,this.waitForSomethingToChange(f)];case 6:v.sent(),v.label=7;case 7:return p=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(d,h){return n(this,void 0,void 0,function(){var p=this;return i(this,function(f){return setTimeout(function(){return n(p,void 0,void 0,function(){var m,b,g;return i(this,function(x){switch(x.label){case 0:return[4,Uc.default().lock(h)];case 1:return x.sent(),this.acquiredIatSet.has(h)?(m=this.storageHandler===void 0?s:this.storageHandler,(b=m.getItemSync(d))===null?(Uc.default().unlock(h),[2]):((g=JSON.parse(b)).timeRefreshed=Date.now(),m.setItemSync(d,JSON.stringify(g)),Uc.default().unlock(h),this.refreshLockWhileAcquired(d,h),[2])):(Uc.default().unlock(h),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(d){return n(this,void 0,void 0,function(){return i(this,function(h){switch(h.label){case 0:return[4,new Promise(function(p){var f=!1,m=Date.now(),b=!1;function g(){if(b||(window.removeEventListener("storage",g),u.removeFromWaiting(g),clearTimeout(x),b=!0),!f){f=!0;var y=50-(Date.now()-m);y>0?setTimeout(p,y):p(null)}}window.addEventListener("storage",g),u.addToWaiting(g);var x=setTimeout(g,Math.max(0,d-Date.now()))})];case 1:return h.sent(),[2]}})})},u.addToWaiting=function(d){this.removeFromWaiting(d),u.waiters!==void 0&&u.waiters.push(d)},u.removeFromWaiting=function(d){u.waiters!==void 0&&(u.waiters=u.waiters.filter(function(h){return h!==d}))},u.notifyWaiters=function(){u.waiters!==void 0&&u.waiters.slice().forEach(function(d){return d()})},u.prototype.releaseLock=function(d){return n(this,void 0,void 0,function(){return i(this,function(h){switch(h.label){case 0:return[4,this.releaseLock__private__(d)];case 1:return[2,h.sent()]}})})},u.prototype.releaseLock__private__=function(d){return n(this,void 0,void 0,function(){var h,p,f,m;return i(this,function(b){switch(b.label){case 0:return h=this.storageHandler===void 0?s:this.storageHandler,p=r+"-"+d,(f=h.getItemSync(p))===null?[2]:(m=JSON.parse(f)).id!==this.id?[3,2]:[4,Uc.default().lock(m.iat)];case 1:b.sent(),this.acquiredIatSet.delete(m.iat),h.removeItemSync(p),Uc.default().unlock(m.iat),u.notifyWaiters(),b.label=2;case 2:return[2]}})})},u.lockCorrector=function(d){for(var h=Date.now()-5e3,p=d,f=[],m=0;;){var b=p.keySync(m);if(b===null)break;f.push(b),m++}for(var g=!1,x=0;x<f.length;x++){var y=f[x];if(y.includes(r)){var v=p.getItemSync(y);if(v!==null){var w=JSON.parse(v);(w.timeRefreshed===void 0&&w.timeAcquired<h||w.timeRefreshed!==void 0&&w.timeRefreshed<h)&&(p.removeItemSync(y),g=!0)}}}g&&u.notifyWaiters()},u.waiters=void 0,u}();e.default=c}));const tle={timeoutInSeconds:60},B9={name:"auth0-spa-js",version:"2.1.3"},M9=()=>Date.now();class Ji extends Error{constructor(e,n){super(n),this.error=e,this.error_description=n,Object.setPrototypeOf(this,Ji.prototype)}static fromPayload({error:e,error_description:n}){return new Ji(e,n)}}class nT extends Ji{constructor(e,n,i,o=null){super(e,n),this.state=i,this.appState=o,Object.setPrototypeOf(this,nT.prototype)}}class am extends Ji{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,am.prototype)}}class iT extends am{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,iT.prototype)}}let nle=class j9 extends Ji{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,j9.prototype)}};class oT extends Ji{constructor(e,n,i){super(e,n),this.mfa_token=i,Object.setPrototypeOf(this,oT.prototype)}}class Iy extends Ji{constructor(e,n){super("missing_refresh_token","Missing Refresh Token (audience: '".concat(Z6(e,["default"]),"', scope: '").concat(Z6(n),"')")),this.audience=e,this.scope=n,Object.setPrototypeOf(this,Iy.prototype)}}function Z6(t,e=[]){return t&&!e.includes(t)?t:""}const Bb=()=>window.crypto,U2=()=>{const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(Bb().getRandomValues(new Uint8Array(43))).forEach(n=>e+=t[n%t.length]),e},J6=t=>btoa(t),U3=t=>{var{clientId:e}=t,n=Ms(t,["clientId"]);return new URLSearchParams((i=>Object.keys(i).filter(o=>i[o]!==void 0).reduce((o,r)=>Object.assign(Object.assign({},o),{[r]:i[r]}),{}))(Object.assign({client_id:e},n))).toString()},Q6=t=>(e=>decodeURIComponent(atob(e).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))(t.replace(/_/g,"/").replace(/-/g,"+")),ile=async(t,e)=>{const n=await fetch(t,e);return{ok:n.ok,json:await n.json()}},ole=async(t,e,n)=>{const i=new AbortController;let o;return e.signal=i.signal,Promise.race([ile(t,e),new Promise((r,s)=>{o=setTimeout(()=>{i.abort(),s(new Error("Timeout when executing 'fetch'"))},n)})]).finally(()=>{clearTimeout(o)})},rle=async(t,e,n,i,o,r,s)=>{return a={auth:{audience:e,scope:n},timeout:o,fetchUrl:t,fetchOptions:i,useFormData:s},l=r,new Promise(function(c,u){const d=new MessageChannel;d.port1.onmessage=function(h){h.data.error?u(new Error(h.data.error)):c(h.data),d.port1.close()},l.postMessage(a,[d.port2])});var a,l},sle=async(t,e,n,i,o,r,s=1e4)=>o?rle(t,e,n,i,s,o,r):ole(t,i,s);async function ale(t,e){var{baseUrl:n,timeout:i,audience:o,scope:r,auth0Client:s,useFormData:a}=t,l=Ms(t,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const c=a?U3(l):JSON.stringify(l);return await async function(u,d,h,p,f,m,b){let g,x=null;for(let E=0;E<3;E++)try{g=await sle(u,h,p,f,m,b,d),x=null;break}catch(I){x=I}if(x)throw x;const y=g.json,{error:v,error_description:w}=y,C=Ms(y,["error","error_description"]),{ok:S}=g;if(!S){const E=w||"HTTP error. Unable to fetch ".concat(u);throw v==="mfa_required"?new oT(v,E,C.mfa_token):v==="missing_refresh_token"?new Iy(h,p):new Ji(v||"request_error",E)}return C}("".concat(n,"/oauth/token"),i,o||"default",r,{method:"POST",body:c,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(s||B9))}},e,a)}const ob=(...t)=>{return(e=t.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e};let nu=class V3{constructor(e,n="@@auth0spajs@@",i){this.prefix=n,this.suffix=i,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[n,i,o,r]=e.split("::");return new V3({clientId:i,scope:r,audience:o},n)}static fromCacheEntry(e){const{scope:n,audience:i,client_id:o}=e;return new V3({scope:n,audience:i,clientId:o})}},lle=class{set(e,n){localStorage.setItem(e,JSON.stringify(n))}get(e){const n=window.localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch(i){return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}},U9=class{constructor(){this.enclosedCache=function(){let e={};return{set(n,i){e[n]=i},get(n){const i=e[n];if(i)return i},remove(n){delete e[n]},allKeys:()=>Object.keys(e)}}()}};class cle{constructor(e,n,i){this.cache=e,this.keyManifest=n,this.nowProvider=i||M9}async setIdToken(e,n,i){var o;const r=this.getIdTokenCacheKey(e);await this.cache.set(r,{id_token:n,decodedToken:i}),await((o=this.keyManifest)===null||o===void 0?void 0:o.add(r))}async getIdToken(e){const n=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!n&&e.scope&&e.audience){const i=await this.get(e);return!i||!i.id_token||!i.decodedToken?void 0:{id_token:i.id_token,decodedToken:i.decodedToken}}if(n)return{id_token:n.id_token,decodedToken:n.decodedToken}}async get(e,n=0){var i;let o=await this.cache.get(e.toKey());if(!o){const a=await this.getCacheKeys();if(!a)return;const l=this.matchExistingCacheKey(e,a);l&&(o=await this.cache.get(l))}if(!o)return;const r=await this.nowProvider(),s=Math.floor(r/1e3);return o.expiresAt-n<s?o.body.refresh_token?(o.body={refresh_token:o.body.refresh_token},await this.cache.set(e.toKey(),o),o.body):(await this.cache.remove(e.toKey()),void await((i=this.keyManifest)===null||i===void 0?void 0:i.remove(e.toKey()))):o.body}async set(e){var n;const i=new nu({clientId:e.client_id,scope:e.scope,audience:e.audience}),o=await this.wrapCacheEntry(e);await this.cache.set(i.toKey(),o),await((n=this.keyManifest)===null||n===void 0?void 0:n.add(i.toKey()))}async clear(e){var n;const i=await this.getCacheKeys();i&&(await i.filter(o=>!e||o.includes(e)).reduce(async(o,r)=>{await o,await this.cache.remove(r)},Promise.resolve()),await((n=this.keyManifest)===null||n===void 0?void 0:n.clear()))}async wrapCacheEntry(e){const n=await this.nowProvider();return{body:e,expiresAt:Math.floor(n/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new nu({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,n){return n.filter(i=>{var o;const r=nu.fromKey(i),s=new Set(r.scope&&r.scope.split(" ")),a=((o=e.scope)===null||o===void 0?void 0:o.split(" "))||[],l=r.scope&&a.reduce((c,u)=>c&&s.has(u),!0);return r.prefix==="@@auth0spajs@@"&&r.clientId===e.clientId&&r.audience===e.audience&&l})[0]}}let ule=class{constructor(e,n,i){this.storage=e,this.clientId=n,this.cookieDomain=i,this.storageKey="a0.spajs.txs.".concat(this.clientId)}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}};const qp=t=>typeof t=="number",dle=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],hle=t=>{if(!t.id_token)throw new Error("ID token is required but missing");const e=(r=>{const s=r.split("."),[a,l,c]=s;if(s.length!==3||!a||!l||!c)throw new Error("ID token could not be decoded");const u=JSON.parse(Q6(l)),d={__raw:r},h={};return Object.keys(u).forEach(p=>{d[p]=u[p],dle.includes(p)||(h[p]=u[p])}),{encoded:{header:a,payload:l,signature:c},header:JSON.parse(Q6(a)),claims:d,user:h}})(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'.concat(t.iss,'", found "').concat(e.claims.iss,'"'));if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error('Signature algorithm of "'.concat(e.header.alg,'" is not supported. Expected the ID token to be signed with "RS256".'));if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(t.aud,'" but was not one of "').concat(e.claims.aud.join(", "),'"'));if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'.concat(t.aud,'", found "').concat(e.claims.azp,'"'))}}else if(e.claims.aud!==t.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(t.aud,'" but found "').concat(e.claims.aud,'"'));if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'.concat(t.nonce,'", found "').concat(e.claims.nonce,'"'))}if(t.max_age&&!qp(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!qp(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!qp(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const n=t.leeway||60,i=new Date(t.now||Date.now()),o=new Date(0);if(o.setUTCSeconds(e.claims.exp+n),i>o)throw new Error("Expiration Time (exp) claim error in the ID token; current time (".concat(i,") is after expiration time (").concat(o,")"));if(e.claims.nbf!=null&&qp(e.claims.nbf)){const r=new Date(0);if(r.setUTCSeconds(e.claims.nbf-n),i<r)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (".concat(i,") is before ").concat(r))}if(e.claims.auth_time!=null&&qp(e.claims.auth_time)){const r=new Date(0);if(r.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),i>r)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (".concat(i,") is after last auth at ").concat(r))}if(t.organization){const r=t.organization.trim();if(r.startsWith("org_")){const s=r;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(s!==e.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'.concat(s,'", found "').concat(e.claims.org_id,'"'))}else{const s=r.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(s!==e.claims.org_name)throw new Error('Organization Name (org_name) claim mismatch in the ID token; expected "'.concat(s,'", found "').concat(e.claims.org_name,'"'))}}return e};var iu=tT(function(t,e){var n=Gc&&Gc.__assign||function(){return n=Object.assign||function(l){for(var c,u=1,d=arguments.length;u<d;u++)for(var h in c=arguments[u])Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h]);return l},n.apply(this,arguments)};function i(l,c){if(!c)return"";var u="; "+l;return c===!0?u:u+"="+c}function o(l,c,u){return encodeURIComponent(l).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(c).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(d){if(typeof d.expires=="number"){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*d.expires),d.expires=h}return i("Expires",d.expires?d.expires.toUTCString():"")+i("Domain",d.domain)+i("Path",d.path)+i("Secure",d.secure)+i("SameSite",d.sameSite)}(u)}function r(l){for(var c={},u=l?l.split("; "):[],d=/(%[\dA-F]{2})+/gi,h=0;h<u.length;h++){var p=u[h].split("="),f=p.slice(1).join("=");f.charAt(0)==='"'&&(f=f.slice(1,-1));try{c[p[0].replace(d,decodeURIComponent)]=f.replace(d,decodeURIComponent)}catch(m){}}return c}function s(){return r(document.cookie)}function a(l,c,u){document.cookie=o(l,c,n({path:"/"},u))}e.__esModule=!0,e.encode=o,e.parse=r,e.getAll=s,e.get=function(l){return s()[l]},e.set=a,e.remove=function(l,c){a(l,"",n(n({},c),{expires:-1}))}});eT(iu),iu.encode,iu.parse,iu.getAll;var ple=iu.get,V9=iu.set,H9=iu.remove;const Bd={get(t){const e=ple(t);if(e!==void 0)return JSON.parse(e)},save(t,e,n){let i={};window.location.protocol==="https:"&&(i={secure:!0,sameSite:"none"}),n!=null&&n.daysUntilExpire&&(i.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(i.domain=n.cookieDomain),V9(t,JSON.stringify(e),i)},remove(t,e){let n={};e!=null&&e.cookieDomain&&(n.domain=e.cookieDomain),H9(t,n)}},fle={get(t){return Bd.get(t)||Bd.get("_legacy_".concat(t))},save(t,e,n){let i={};window.location.protocol==="https:"&&(i={secure:!0}),n!=null&&n.daysUntilExpire&&(i.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(i.domain=n.cookieDomain),V9("_legacy_".concat(t),JSON.stringify(e),i),Bd.save(t,e,n)},remove(t,e){let n={};e!=null&&e.cookieDomain&&(n.domain=e.cookieDomain),H9(t,n),Bd.remove(t,e),Bd.remove("_legacy_".concat(t),e)}},mle={get(t){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(t);return e!=null?JSON.parse(e):void 0},save(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove(t){sessionStorage.removeItem(t)}};function gle(t,e,n){var i=e===void 0?null:e,o=function(l,c){var u=atob(l);if(c){for(var d=new Uint8Array(u.length),h=0,p=u.length;h<p;++h)d[h]=u.charCodeAt(h);return String.fromCharCode.apply(null,new Uint16Array(d.buffer))}return u}(t,n!==void 0&&n),r=o.indexOf("\n",10)+1,s=o.substring(r)+(i?"//# sourceMappingURL="+i:""),a=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(a)}var eA,tA,nA,V2,ble=(eA="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",tA=null,nA=!1,function(t){return V2=V2||gle(eA,tA,nA),new Worker(V2,t)});const H2={};let xle=class{constructor(e,n){this.cache=e,this.clientId=n,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var n;const i=new Set(((n=await this.cache.get(this.manifestKey))===null||n===void 0?void 0:n.keys)||[]);i.add(e),await this.cache.set(this.manifestKey,{keys:[...i]})}async remove(e){const n=await this.cache.get(this.manifestKey);if(n){const i=new Set(n.keys);return i.delete(e),i.size>0?await this.cache.set(this.manifestKey,{keys:[...i]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return"@@auth0spajs@@::".concat(e)}};const yle={memory:()=>new U9().enclosedCache,localstorage:()=>new lle},iA=t=>yle[t],oA=t=>{const{openUrl:e,onRedirect:n}=t,i=Ms(t,["openUrl","onRedirect"]);return Object.assign(Object.assign({},i),{openUrl:e===!1||e?e:n})},W2=new ele;let vle=class{constructor(e){let n,i;if(this.userCache=new U9().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await W2.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!Bb())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Bb().subtle===void 0)throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)i=e.cache;else{if(n=e.cacheLocation||"memory",!iA(n))throw new Error('Invalid cache location "'.concat(n,'"'));i=iA(n)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?Bd:fle,this.orgHintCookieName="auth0.".concat(this.options.clientId,".organization_hint"),this.isAuthenticatedCookieName=(s=>"auth0.".concat(s,".is.authenticated"))(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const o=e.useCookiesForTransactions?this.cookieStorage:mle;var r;this.scope=ob("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new ule(o,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||M9,this.cacheManager=new cle(i,i.allKeys?void 0:new xle(i,this.options.clientId),this.nowProvider),this.domainUrl=(r=this.options.domain,/^https?:\/\//.test(r)?r:"https://".concat(r)),this.tokenIssuer=((s,a)=>s?s.startsWith("https://")?s:"https://".concat(s,"/"):"".concat(a,"/"))(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&n==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new ble)}_url(e){const n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||B9)));return"".concat(this.domainUrl).concat(e,"&auth0Client=").concat(n)}_authorizeUrl(e){return this._url("/authorize?".concat(U3(e)))}async _verifyIdToken(e,n,i){const o=await this.nowProvider();return hle({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:n,organization:i,leeway:this.options.leeway,max_age:(r=this.options.authorizationParams.max_age,typeof r!="string"?r:parseInt(r,10)||void 0),now:o});var r}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,n,i){const o=J6(U2()),r=J6(U2()),s=U2(),a=(u=>{const d=new Uint8Array(u);return(h=>{const p={"+":"-","/":"_","=":""};return h.replace(/[+/=]/g,f=>p[f])})(window.btoa(String.fromCharCode(...Array.from(d))))})(await(async u=>await Bb().subtle.digest({name:"SHA-256"},new TextEncoder().encode(u)))(s)),l=((u,d,h,p,f,m,b,g)=>Object.assign(Object.assign(Object.assign({client_id:u.clientId},u.authorizationParams),h),{scope:ob(d,h.scope),response_type:"code",response_mode:g||"query",state:p,nonce:f,redirect_uri:b||u.authorizationParams.redirect_uri,code_challenge:m,code_challenge_method:"S256"}))(this.options,this.scope,e,o,r,a,e.redirect_uri||this.options.authorizationParams.redirect_uri||i,n==null?void 0:n.response_mode),c=this._authorizeUrl(l);return{nonce:r,code_verifier:s,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri,state:o,url:c}}async loginWithPopup(e,n){var i;if(e=e||{},!(n=n||{}).popup&&(n.popup=(a=>{const l=window.screenX+(window.innerWidth-400)/2,c=window.screenY+(window.innerHeight-600)/2;return window.open(a,"auth0:authorize:popup","left=".concat(l,",top=").concat(c,",width=400,height=600,resizable,scrollbars=yes,status=1"))})(""),!n.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const o=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);n.popup.location.href=o.url;const r=await(a=>new Promise((l,c)=>{let u;const d=setInterval(()=>{a.popup&&a.popup.closed&&(clearInterval(d),clearTimeout(h),window.removeEventListener("message",u,!1),c(new nle(a.popup)))},1e3),h=setTimeout(()=>{clearInterval(d),c(new iT(a.popup)),window.removeEventListener("message",u,!1)},1e3*(a.timeoutInSeconds||60));u=function(p){if(p.data&&p.data.type==="authorization_response"){if(clearTimeout(h),clearInterval(d),window.removeEventListener("message",u,!1),a.popup.close(),p.data.response.error)return c(Ji.fromPayload(p.data.response));l(p.data.response)}},window.addEventListener("message",u)}))(Object.assign(Object.assign({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(o.state!==r.state)throw new Ji("state_mismatch","Invalid state");const s=((i=e.authorizationParams)===null||i===void 0?void 0:i.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:o.audience,scope:o.scope,code_verifier:o.code_verifier,grant_type:"authorization_code",code:r.code,redirect_uri:o.redirect_uri},{nonceIn:o.nonce,organization:s})}async getUser(){var e;const n=await this._getIdTokenFromCache();return(e=n==null?void 0:n.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const n=await this._getIdTokenFromCache();return(e=n==null?void 0:n.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var n;const i=oA(e),{openUrl:o,fragment:r,appState:s}=i,a=Ms(i,["openUrl","fragment","appState"]),l=((n=a.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization,c=await this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:u}=c,d=Ms(c,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},d),{appState:s}),l&&{organization:l}));const h=r?"".concat(u,"#").concat(r):u;o?await o(h):window.location.assign(h)}async handleRedirectCallback(e=window.location.href){const n=e.split("?").slice(1);if(n.length===0)throw new Error("There are no query params available for parsing.");const{state:i,code:o,error:r,error_description:s}=(d=>{d.indexOf("#")>-1&&(d=d.substring(0,d.indexOf("#")));const h=new URLSearchParams(d);return{state:h.get("state"),code:h.get("code")||void 0,error:h.get("error")||void 0,error_description:h.get("error_description")||void 0}})(n.join("")),a=this.transactionManager.get();if(!a)throw new Ji("missing_transaction","Invalid state");if(this.transactionManager.remove(),r)throw new nT(r,s||r,i,a.appState);if(!a.code_verifier||a.state&&a.state!==i)throw new Ji("state_mismatch","Invalid state");const l=a.organization,c=a.nonce,u=a.redirect_uri;return await this._requestToken(Object.assign({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:o},u?{redirect_uri:u}:{}),{nonceIn:c,organization:l}),{appState:a.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch(n){}}async getTokenSilently(e={}){var n;const i=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:ob(this.scope,(n=e.authorizationParams)===null||n===void 0?void 0:n.scope)})}),o=await((r,s)=>{let a=H2[s];return a||(a=r().finally(()=>{delete H2[s],a=null}),H2[s]=a),a})(()=>this._getTokenSilently(i),"".concat(this.options.clientId,"::").concat(i.authorizationParams.audience,"::").concat(i.authorizationParams.scope));return e.detailedResponse?o:o==null?void 0:o.access_token}async _getTokenSilently(e){const{cacheMode:n}=e,i=Ms(e,["cacheMode"]);if(n!=="off"){const o=await this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId});if(o)return o}if(n!=="cache-only"){if(!await(async(o,r=3)=>{for(let s=0;s<r;s++)if(await o())return!0;return!1})(()=>W2.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new am;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),n!=="off"){const c=await this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId});if(c)return c}const o=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(i):await this._getTokenFromIFrame(i),{id_token:r,access_token:s,oauthTokenScope:a,expires_in:l}=o;return Object.assign(Object.assign({id_token:r,access_token:s},a?{scope:a}:null),{expires_in:l})}finally{await W2.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},n={}){var i;const o=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:ob(this.scope,(i=e.authorizationParams)===null||i===void 0?void 0:i.scope)})});return n=Object.assign(Object.assign({},tle),n),await this.loginWithPopup(o,n),(await this.cacheManager.get(new nu({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const n=e.logoutParams||{},{federated:i}=n,o=Ms(n,["federated"]),r=i?"&federated":"";return this._url("/v2/logout?".concat(U3(Object.assign({clientId:e.clientId},o))))+r}async logout(e={}){const n=oA(e),{openUrl:i}=n,o=Ms(n,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const r=this._buildLogoutUrl(o);i?await i(r):i!==!1&&window.location.assign(r)}async _getTokenFromIFrame(e){const n=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),i=this.cookieStorage.get(this.orgHintCookieName);i&&!n.organization&&(n.organization=i);const{url:o,state:r,nonce:s,code_verifier:a,redirect_uri:l,scope:c,audience:u}=await this._prepareAuthorizeUrl(n,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Ji("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const d=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,h=await((f,m,b=60)=>new Promise((g,x)=>{const y=window.document.createElement("iframe");y.setAttribute("width","0"),y.setAttribute("height","0"),y.style.display="none";const v=()=>{window.document.body.contains(y)&&(window.document.body.removeChild(y),window.removeEventListener("message",w,!1))};let w;const C=setTimeout(()=>{x(new am),v()},1e3*b);w=function(S){if(S.origin!=m||!S.data||S.data.type!=="authorization_response")return;const E=S.source;E&&E.close(),S.data.response.error?x(Ji.fromPayload(S.data.response)):g(S.data.response),clearTimeout(C),window.removeEventListener("message",w,!1),setTimeout(v,2e3)},window.addEventListener("message",w,!1),window.document.body.appendChild(y),y.setAttribute("src",f)}))(o,this.domainUrl,d);if(r!==h.state)throw new Ji("state_mismatch","Invalid state");const p=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:a,code:h.code,grant_type:"authorization_code",redirect_uri:l,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:s,organization:n.organization});return Object.assign(Object.assign({},p),{scope:c,oauthTokenScope:p.scope,audience:u})}catch(d){throw d.error==="login_required"&&this.logout({openUrl:!1}),d}}async _getTokenUsingRefreshToken(e){const n=await this.cacheManager.get(new nu({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(n&&n.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new Iy(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const i=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,o=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{const r=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:i}),o&&{timeout:o}));return Object.assign(Object.assign({},r),{scope:e.authorizationParams.scope,oauthTokenScope:r.scope,audience:e.authorizationParams.audience||"default"})}catch(r){if((r.message.indexOf("Missing Refresh Token")>-1||r.message&&r.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw r}}async _saveEntryInCache(e){const{id_token:n,decodedToken:i}=e,o=Ms(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:n,decodedToken:i}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(o)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",n=await this.cacheManager.getIdToken(new nu({clientId:this.options.clientId,audience:e,scope:this.scope})),i=this.userCache.get("@@user@@");return n&&n.id_token===(i==null?void 0:i.id_token)?i:(this.userCache.set("@@user@@",n),n)}async _getEntryFromCache({scope:e,audience:n,clientId:i}){const o=await this.cacheManager.get(new nu({scope:e,audience:n,clientId:i}),60);if(o&&o.access_token){const{access_token:r,oauthTokenScope:s,expires_in:a}=o,l=await this._getIdTokenFromCache();return l&&Object.assign(Object.assign({id_token:l.id_token,access_token:r},s?{scope:s}:null),{expires_in:a})}}async _requestToken(e,n){const{nonceIn:i,organization:o}=n||{},r=await ale(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),s=await this._verifyIdToken(r.id_token,i,o);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},r),{decodedToken:s,scope:e.scope,audience:e.audience||"default"}),r.scope?{oauthTokenScope:r.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(o||s.claims.org_id),Object.assign(Object.assign({},r),{decodedToken:s})}};var W9={isAuthenticated:!1,isLoading:!0},ga=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},wle=wi(wi({},W9),{buildAuthorizeUrl:ga,buildLogoutUrl:ga,getAccessTokenSilently:ga,getAccessTokenWithPopup:ga,getIdTokenClaims:ga,loginWithRedirect:ga,loginWithPopup:ga,logout:ga,handleRedirectCallback:ga}),G9=ae.createContext(wle),rA=function(t){Jae(e,t);function e(n,i){var o=t.call(this,i||n)||this;return o.error=n,o.error_description=i,Object.setPrototypeOf(o,e.prototype),o}return e}(Error),kle=/[?&]code=[^&]+/,Sle=/[?&]state=[^&]+/,Cle=/[?&]error=[^&]+/,Tle=function(t){return t===void 0&&(t=window.location.search),(kle.test(t)||Cle.test(t))&&Sle.test(t)},q9=function(t){return function(e){return e instanceof Error?e:e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"?"error_description"in e&&typeof e.error_description=="string"?new rA(e.error,e.error_description):new rA(e.error):new Error(t)}},sA=q9("Login failed"),G2=q9("Get access token failed"),K9=function(t){var e;t!=null&&t.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),t.authorizationParams=t.authorizationParams||{},t.authorizationParams.redirect_uri=t.redirectUri,delete t.redirectUri),!((e=t==null?void 0:t.authorizationParams)===null||e===void 0)&&e.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),t.authorizationParams.redirect_uri=t.authorizationParams.redirectUri,delete t.authorizationParams.redirectUri)},Ele=function(t,e){switch(e.type){case"LOGIN_POPUP_STARTED":return wi(wi({},t),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return wi(wi({},t),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return t.user===e.user?t:wi(wi({},t),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return wi(wi({},t),{isAuthenticated:!1,user:void 0});case"ERROR":return wi(wi({},t),{isLoading:!1,error:e.error})}},Ile=function(t){return K9(t),wi(wi({},t),{auth0Client:{name:"auth0-react",version:"2.3.0"}})},_le=function(t){window.history.replaceState({},document.title,(t==null?void 0:t.returnTo)||window.location.pathname)},$le=function(t){var e=t.children,n=t.skipRedirectCallback,i=t.onRedirectCallback,o=i===void 0?_le:i,r=t.context,s=r===void 0?G9:r,a=Qae(t,["children","skipRedirectCallback","onRedirectCallback","context"]),l=ae.useState(function(){return new vle(Ile(a))})[0],c=ae.useReducer(Ele,W9),u=c[0],d=c[1],h=ae.useRef(!1),p=ae.useCallback(function(C){return d({type:"ERROR",error:C}),C},[]);ae.useEffect(function(){h.current||(h.current=!0,function(){return Td(void 0,void 0,void 0,function(){var C,S,E;return Ed(this,function(I){switch(I.label){case 0:return I.trys.push([0,7,,8]),C=void 0,Tle()&&!n?[4,l.handleRedirectCallback()]:[3,3];case 1:return S=I.sent().appState,[4,l.getUser()];case 2:return C=I.sent(),o(S,C),[3,6];case 3:return[4,l.checkSession()];case 4:return I.sent(),[4,l.getUser()];case 5:C=I.sent(),I.label=6;case 6:return d({type:"INITIALISED",user:C}),[3,8];case 7:return E=I.sent(),p(sA(E)),[3,8];case 8:return[2]}})})}())},[l,o,n,p]);var f=ae.useCallback(function(C){return K9(C),l.loginWithRedirect(C)},[l]),m=ae.useCallback(function(C,S){return Td(void 0,void 0,void 0,function(){var E,I;return Ed(this,function(N){switch(N.label){case 0:d({type:"LOGIN_POPUP_STARTED"}),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,l.loginWithPopup(C,S)];case 2:return N.sent(),[3,4];case 3:return E=N.sent(),p(sA(E)),[2];case 4:return[4,l.getUser()];case 5:return I=N.sent(),d({type:"LOGIN_POPUP_COMPLETE",user:I}),[2]}})})},[l]),b=ae.useCallback(function(C){return C===void 0&&(C={}),Td(void 0,void 0,void 0,function(){return Ed(this,function(S){switch(S.label){case 0:return[4,l.logout(C)];case 1:return S.sent(),(C.openUrl||C.openUrl===!1)&&d({type:"LOGOUT"}),[2]}})})},[l]),g=ae.useCallback(function(C){return Td(void 0,void 0,void 0,function(){var S,E,I,N;return Ed(this,function(B){switch(B.label){case 0:return B.trys.push([0,2,3,5]),[4,l.getTokenSilently(C)];case 1:return S=B.sent(),[3,5];case 2:throw E=B.sent(),G2(E);case 3:return I=d,N={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return I.apply(void 0,[(N.user=B.sent(),N)]),[7];case 5:return[2,S]}})})},[l]),x=ae.useCallback(function(C,S){return Td(void 0,void 0,void 0,function(){var E,I,N,B;return Ed(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,3,5]),[4,l.getTokenWithPopup(C,S)];case 1:return E=D.sent(),[3,5];case 2:throw I=D.sent(),G2(I);case 3:return N=d,B={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return N.apply(void 0,[(B.user=D.sent(),B)]),[7];case 5:return[2,E]}})})},[l]),y=ae.useCallback(function(){return l.getIdTokenClaims()},[l]),v=ae.useCallback(function(C){return Td(void 0,void 0,void 0,function(){var S,E,I;return Ed(this,function(N){switch(N.label){case 0:return N.trys.push([0,2,3,5]),[4,l.handleRedirectCallback(C)];case 1:return[2,N.sent()];case 2:throw S=N.sent(),G2(S);case 3:return E=d,I={type:"HANDLE_REDIRECT_COMPLETE"},[4,l.getUser()];case 4:return E.apply(void 0,[(I.user=N.sent(),I)]),[7];case 5:return[2]}})})},[l]),w=ae.useMemo(function(){return wi(wi({},u),{getAccessTokenSilently:g,getAccessTokenWithPopup:x,getIdTokenClaims:y,loginWithRedirect:f,loginWithPopup:m,logout:b,handleRedirectCallback:v})},[u,g,x,y,f,m,b,v]);return Ae.createElement(s.Provider,{value:w},e)},Ale=function(t){return t===void 0&&(t=G9),ae.useContext(t)};const Nle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Ole="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Dle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm0 319.91a20 20 0 1120-20 20 20 0 01-20 20zm21.72-201.15l-5.74 122a16 16 0 01-32 0l-5.74-121.94v-.05a21.74 21.74 0 1143.44 0z'/></svg>",Rle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80c-8.66 0-16.58 7.36-16 16l8 216a8 8 0 008 8h0a8 8 0 008-8l8-216c.58-8.64-7.34-16-16-16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='416' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Lle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0116 16v288a16 16 0 01-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0116-16c131.57.59 192 32.84 208 96zM256 160v288' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",zle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='272' r='64'/><path d='M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 00-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 00-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 00-16-16h-24a16 16 0 00-16 16v8h-4a48.05 48.05 0 00-48 48V384a48.05 48.05 0 0048 48h352a48.05 48.05 0 0048-48V192a48.05 48.05 0 00-48-48zM256 368a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",Fle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M464 128L240 384l-96-96M144 384l-96-96M368 128L232 284' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Ple="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",Ble="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",_y="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",Mb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 368L144 144M368 144L144 368' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Mle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8-69 0-113.44 45.79-128 91.2-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M320 255.79l-64-64-64 64M256 448.21V207.79' class='ionicon-fill-none ionicon-stroke-width'/></svg>",X9="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='128' y='128' width='336' height='336' rx='57' ry='57' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",jle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/></svg>",aA="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 64h66.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62V432a48 48 0 01-48 48H192a48 48 0 01-48-48V304' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M288 72v120a32 32 0 0032 32h120' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M160 80v152a23.69 23.69 0 01-24 24c-12 0-24-9.1-24-24V88c0-30.59 16.57-56 48-56s48 24.8 48 55.38v138.75c0 43-27.82 77.87-72 77.87s-72-34.86-72-77.87V144' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",lA="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Kp="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120M176 288h160M176 368h160' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",cA="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M176 272l80 80 80-80M256 48v288' class='ionicon-fill-none ionicon-stroke-width'/></svg>",uA="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M440 432H72a40 40 0 01-40-40V120a40 40 0 0140-40h75.89a40 40 0 0122.19 6.72l27.84 18.56a40 40 0 0022.19 6.72H440a40 40 0 0140 40v240a40 40 0 01-40 40zM32 192h448' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Ule="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M414.39 97.61A224 224 0 1097.61 414.39 224 224 0 10414.39 97.61zM184 208a24 24 0 11-24 24 23.94 23.94 0 0124-24zm167.67 106.17c-12 40.3-50.2 69.83-95.62 69.83s-83.62-29.53-95.72-69.83a8 8 0 017.83-10.17h175.69a8 8 0 017.82 10.17zM328 256a24 24 0 1124-24 23.94 23.94 0 01-24 24z'/></svg>",Vle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='184' cy='232' r='24'/><path d='M256.05 384c-45.42 0-83.62-29.53-95.71-69.83a8 8 0 017.82-10.17h175.69a8 8 0 017.82 10.17c-11.99 40.3-50.2 69.83-95.62 69.83z'/><circle cx='328' cy='232' r='24'/><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Hle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z'/></svg>",Wle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0018 0c96.26-65.34 184.09-143.09 183-252.42-.54-52.67-42.32-96.81-95.08-96.81z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Gle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 164s1.44-33 33.54-59.46C212.6 88.83 235.49 84.28 256 84c18.73-.23 35.47 2.94 45.48 7.82C318.59 100.2 352 120.6 352 164c0 45.67-29.18 66.37-62.35 89.18S248 298.36 248 324' stroke-linecap='round' stroke-miterlimit='10' stroke-width='40' class='ionicon-fill-none'/><circle cx='248' cy='399.99' r='32'/></svg>",qle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M80 212v236a16 16 0 0016 16h96V328a24 24 0 0124-24h80a24 24 0 0124 24v136h96a16 16 0 0016-16V212' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256M400 179V64h-48v69' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",H3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='80' width='416' height='352' rx='48' ry='48' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='336' cy='176' r='32' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M304 335.79l-90.66-90.49a32 32 0 00-43.87-1.3L48 352M224 432l123.34-123.34a32 32 0 0143.11-2L464 368' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",W3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 352h-64a96 96 0 010-192h64M304 160h64a96 96 0 010 192h-64M163.29 256h187.42' stroke-linecap='round' stroke-linejoin='round' stroke-width='36' class='ionicon-fill-none'/></svg>",Kle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Xle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Yle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M473.16 221.48l-2.26-9.59H262.46v88.22H387c-12.93 61.4-72.93 93.72-121.94 93.72-35.66 0-73.25-15-98.13-39.11a140.08 140.08 0 01-41.8-98.88c0-37.16 16.7-74.33 41-98.78s61-38.13 97.49-38.13c41.79 0 71.74 22.19 82.94 32.31l62.69-62.36C390.86 72.72 340.34 32 261.6 32c-60.75 0-119 23.27-161.58 65.71C58 139.5 36.25 199.93 36.25 256s20.58 113.48 61.3 155.6c43.51 44.92 105.13 68.4 168.58 68.4 57.73 0 112.45-22.62 151.45-63.66 38.34-40.4 58.17-96.3 58.17-154.9 0-24.67-2.48-39.32-2.59-39.96z'/></svg>",Zle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='44' d='M358.62 129.28L86.49 402.08 70 442l39.92-16.49 272.8-272.13-24.1-24.1zM413.07 74.84l-11.79 11.78 24.1 24.1 11.79-11.79a16.51 16.51 0 000-23.34l-.75-.75a16.51 16.51 0 00-23.35 0z' class='ionicon-fill-none'/></svg>",Jle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z'/><path d='M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z'/></svg>",Qle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>",ece="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224H176a16 16 0 010-32h160a16 16 0 010 32z'/></svg>",tce="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M414.39 97.61A224 224 0 1097.61 414.39 224 224 0 10414.39 97.61zM184 208a24 24 0 11-24 24 23.94 23.94 0 0124-24zm-23.67 149.83c12-40.3 50.2-69.83 95.62-69.83s83.62 29.53 95.71 69.83a8 8 0 01-7.82 10.17H168.15a8 8 0 01-7.82-10.17zM328 256a24 24 0 1124-24 23.94 23.94 0 01-24 24z'/></svg>",nce="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='184' cy='232' r='24'/><path d='M256 288c45.42 0 83.62 29.53 95.71 69.83a8 8 0 01-7.87 10.17H168.15a8 8 0 01-7.82-10.17C172.32 317.53 210.53 288 256 288z'/><circle cx='328' cy='232' r='24'/><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",ice="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><path d='M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z'/></svg>",oce="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M192 53.84S208 48 256 48s74 16 96 32h64a64 64 0 0164 64v48a64 64 0 01-64 64h-30a32.34 32.34 0 00-27.37 15.4S350 290.19 324 335.22 248 448 240 464c-29 0-43-22-34-47.71 10.28-29.39 23.71-54.38 27.46-87.09.54-4.78-3.14-12-8-12L96 307' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M96 241l80 2c20 1.84 32 12.4 32 30h0c0 17.6-14 28.84-32 30l-80 4c-17.6 0-32-16.4-32-34v-.17A32 32 0 0196 241zM64 176l112 2c18 .84 32 12.41 32 30h0c0 17.61-14 28.86-32 30l-112 2a32.1 32.1 0 01-32-32h0a32.1 32.1 0 0132-32zM112 48l64 3c21 1.84 32 11.4 32 29h0c0 17.6-14.4 30-32 30l-64 2a32.09 32.09 0 01-32-32h0a32.09 32.09 0 0132-32zM80 112l96 2c19 .84 32 12.4 32 30h0c0 17.6-13 28.84-32 30l-96 2a32.09 32.09 0 01-32-32h0a32.09 32.09 0 0132-32z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",rce="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 458.16S304 464 256 464s-74-16-96-32H96a64 64 0 01-64-64v-48a64 64 0 0164-64h30a32.34 32.34 0 0027.37-15.4S162 221.81 188 176.78 264 64 272 48c29 0 43 22 34 47.71-10.28 29.39-23.71 54.38-27.46 87.09-.54 4.78 3.14 12 7.95 12L416 205' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M416 271l-80-2c-20-1.84-32-12.4-32-30h0c0-17.6 14-28.84 32-30l80-4c17.6 0 32 16.4 32 34v.17A32 32 0 01416 271zM448 336l-112-2c-18-.84-32-12.41-32-30h0c0-17.61 14-28.86 32-30l112-2a32.1 32.1 0 0132 32h0a32.1 32.1 0 01-32 32zM400 464l-64-3c-21-1.84-32-11.4-32-29h0c0-17.6 14.4-30 32-30l64-2a32.09 32.09 0 0132 32h0a32.09 32.09 0 01-32 32zM432 400l-96-2c-19-.84-32-12.4-32-30h0c0-17.6 13-28.84 32-30l96-2a32.09 32.09 0 0132 32h0a32.09 32.09 0 01-32 32z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",sce="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' class='ionicon-fill-none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>",ace="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",lce=()=>{const t=Jl(),[e]=Y1(),n=async()=>{try{const{data:i,error:o}=await ze.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/Cephaline-Supabase/app"}});if(o)throw o;await e({message:"Google login successful!",duration:2e3,position:"top",color:"success"}),t.push("/Cephaline-Supabase/app","forward","replace")}catch(i){await e({message:i.message||"Google login failed",duration:3e3,position:"top",color:"danger"}),console.error("Google login error:",i)}};return T.jsxs(ut,{expand:"block",onClick:n,fill:"outline",className:"google-login-button",children:[T.jsx(St,{slot:"start",icon:Yle,className:"google-icon"}),"Continue with Google"]})};//! otpauth 9.4.0 | (c) Hctor Molinero Fernndez | MIT | https://github.com/hectorm/otpauth
//! noble-hashes 1.7.1 | (c) Paul Miller | MIT | https://github.com/paulmillr/noble-hashes
const cce=t=>{const e=new ArrayBuffer(8),n=new Uint8Array(e);let i=t;for(let o=7;o>=0&&i!==0;o--)n[o]=i&255,i-=n[o],i/=256;return n};function jx(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function uce(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $y(t,...e){if(!uce(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function dce(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");jx(t.outputLen),jx(t.blockLen)}function zh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Y9(t,e){$y(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hce(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function q2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Fs(t,e){return t<<32-e|t>>>e}function K2(t,e){return t<<e|t>>>32-e>>>0}const dA=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function pce(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function hA(t){for(let e=0;e<t.length;e++)t[e]=pce(t[e])}function fce(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Ay(t){return typeof t=="string"&&(t=fce(t)),$y(t),t}class rT{clone(){return this._cloneInto()}}function hp(t){const e=i=>t().update(Ay(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}class Z9 extends rT{update(e){return zh(this),this.iHash.update(e),this}digestInto(e){zh(this),$y(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:o,destroyed:r,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=r,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(e,n){super(),this.finished=!1,this.destroyed=!1,dce(e);const i=Ay(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,r=new Uint8Array(o);r.set(i.length>o?e.create().update(i).digest():i);for(let s=0;s<r.length;s++)r[s]^=54;this.iHash.update(r),this.oHash=e.create();for(let s=0;s<r.length;s++)r[s]^=106;this.oHash.update(r),r.fill(0)}}const G3=(t,e,n)=>new Z9(t,e).update(n).digest();G3.create=(t,e)=>new Z9(t,e);function mce(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const o=BigInt(32),r=BigInt(4294967295),s=Number(n>>o&r),a=Number(n&r),l=i?4:0,c=i?0:4;t.setUint32(e+l,s,i),t.setUint32(e+c,a,i)}function J9(t,e,n){return t&e^~t&n}function Q9(t,e,n){return t&e^t&n^e&n}class sT extends rT{update(e){zh(this);const{view:n,buffer:i,blockLen:o}=this;e=Ay(e);const r=e.length;for(let s=0;s<r;){const a=Math.min(o-this.pos,r-s);if(a===o){const l=q2(e);for(;o<=r-s;s+=o)this.process(l,s);continue}i.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){zh(this),Y9(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:o,isLE:r}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(i,0),s=0);for(let d=s;d<o;d++)n[d]=0;mce(i,o-8,BigInt(this.length*8),r),this.process(i,0);const a=q2(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],r)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:o,finished:r,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=r,e.destroyed=s,o%n&&e.buffer.set(i),e}constructor(e,n,i,o){super(),this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=q2(this.buffer)}}const Xp=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),cl=new Uint32Array(80);class gce extends sT{get(){const{A:e,B:n,C:i,D:o,E:r}=this;return[e,n,i,o,r]}set(e,n,i,o,r){this.A=e|0,this.B=n|0,this.C=i|0,this.D=o|0,this.E=r|0}process(e,n){for(let l=0;l<16;l++,n+=4)cl[l]=e.getUint32(n,!1);for(let l=16;l<80;l++)cl[l]=K2(cl[l-3]^cl[l-8]^cl[l-14]^cl[l-16],1);let{A:i,B:o,C:r,D:s,E:a}=this;for(let l=0;l<80;l++){let c,u;l<20?(c=J9(o,r,s),u=1518500249):l<40?(c=o^r^s,u=1859775393):l<60?(c=Q9(o,r,s),u=2400959708):(c=o^r^s,u=3395469782);const d=K2(i,5)+c+a+u+cl[l]|0;a=s,s=r,r=K2(o,30),o=i,i=d}i=i+this.A|0,o=o+this.B|0,r=r+this.C|0,s=s+this.D|0,a=a+this.E|0,this.set(i,o,r,s,a)}roundClean(){cl.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,20,8,!1),this.A=Xp[0]|0,this.B=Xp[1]|0,this.C=Xp[2]|0,this.D=Xp[3]|0,this.E=Xp[4]|0}}const bce=hp(()=>new gce),xce=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ul=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),dl=new Uint32Array(64);class eL extends sT{get(){const{A:e,B:n,C:i,D:o,E:r,F:s,G:a,H:l}=this;return[e,n,i,o,r,s,a,l]}set(e,n,i,o,r,s,a,l){this.A=e|0,this.B=n|0,this.C=i|0,this.D=o|0,this.E=r|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)dl[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=dl[d-15],p=dl[d-2],f=Fs(h,7)^Fs(h,18)^h>>>3,m=Fs(p,17)^Fs(p,19)^p>>>10;dl[d]=m+dl[d-7]+f+dl[d-16]|0}let{A:i,B:o,C:r,D:s,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const h=Fs(a,6)^Fs(a,11)^Fs(a,25),p=u+h+J9(a,l,c)+xce[d]+dl[d]|0,m=(Fs(i,2)^Fs(i,13)^Fs(i,22))+Q9(i,o,r)|0;u=c,c=l,l=a,a=s+p|0,s=r,r=o,o=i,i=p+m|0}i=i+this.A|0,o=o+this.B|0,r=r+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(i,o,r,s,a,l,c,u)}roundClean(){dl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,32,8,!1),this.A=ul[0]|0,this.B=ul[1]|0,this.C=ul[2]|0,this.D=ul[3]|0,this.E=ul[4]|0,this.F=ul[5]|0,this.G=ul[6]|0,this.H=ul[7]|0}}class yce extends eL{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const vce=hp(()=>new eL),wce=hp(()=>new yce),rb=BigInt(2**32-1),q3=BigInt(32);function tL(t,e=!1){return e?{h:Number(t&rb),l:Number(t>>q3&rb)}:{h:Number(t>>q3&rb)|0,l:Number(t&rb)|0}}function nL(t,e=!1){let n=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:r,l:s}=tL(t[o],e);[n[o],i[o]]=[r,s]}return[n,i]}const kce=(t,e)=>BigInt(t>>>0)<<q3|BigInt(e>>>0),Sce=(t,e,n)=>t>>>n,Cce=(t,e,n)=>t<<32-n|e>>>n,Tce=(t,e,n)=>t>>>n|e<<32-n,Ece=(t,e,n)=>t<<32-n|e>>>n,Ice=(t,e,n)=>t<<64-n|e>>>n-32,_ce=(t,e,n)=>t>>>n-32|e<<64-n,$ce=(t,e)=>e,Ace=(t,e)=>t,iL=(t,e,n)=>t<<n|e>>>32-n,oL=(t,e,n)=>e<<n|t>>>32-n,rL=(t,e,n)=>e<<n-32|t>>>64-n,sL=(t,e,n)=>t<<n-32|e>>>64-n;function Nce(t,e,n,i){const o=(e>>>0)+(i>>>0);return{h:t+n+(o/2**32|0)|0,l:o|0}}const Oce=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Dce=(t,e,n,i)=>e+n+i+(t/2**32|0)|0,Rce=(t,e,n,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0),Lce=(t,e,n,i,o)=>e+n+i+o+(t/2**32|0)|0,zce=(t,e,n,i,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0)+(o>>>0),Fce=(t,e,n,i,o,r)=>e+n+i+o+r+(t/2**32|0)|0,Ct={fromBig:tL,split:nL,toBig:kce,shrSH:Sce,shrSL:Cce,rotrSH:Tce,rotrSL:Ece,rotrBH:Ice,rotrBL:_ce,rotr32H:$ce,rotr32L:Ace,rotlSH:iL,rotlSL:oL,rotlBH:rL,rotlBL:sL,add:Nce,add3L:Oce,add3H:Dce,add4L:Rce,add4H:Lce,add5H:Fce,add5L:zce},[Pce,Bce]=Ct.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),hl=new Uint32Array(80),pl=new Uint32Array(80);class aL extends sT{get(){const{Ah:e,Al:n,Bh:i,Bl:o,Ch:r,Cl:s,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:h,Gh:p,Gl:f,Hh:m,Hl:b}=this;return[e,n,i,o,r,s,a,l,c,u,d,h,p,f,m,b]}set(e,n,i,o,r,s,a,l,c,u,d,h,p,f,m,b){this.Ah=e|0,this.Al=n|0,this.Bh=i|0,this.Bl=o|0,this.Ch=r|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=p|0,this.Gl=f|0,this.Hh=m|0,this.Hl=b|0}process(e,n){for(let y=0;y<16;y++,n+=4)hl[y]=e.getUint32(n),pl[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const v=hl[y-15]|0,w=pl[y-15]|0,C=Ct.rotrSH(v,w,1)^Ct.rotrSH(v,w,8)^Ct.shrSH(v,w,7),S=Ct.rotrSL(v,w,1)^Ct.rotrSL(v,w,8)^Ct.shrSL(v,w,7),E=hl[y-2]|0,I=pl[y-2]|0,N=Ct.rotrSH(E,I,19)^Ct.rotrBH(E,I,61)^Ct.shrSH(E,I,6),B=Ct.rotrSL(E,I,19)^Ct.rotrBL(E,I,61)^Ct.shrSL(E,I,6),D=Ct.add4L(S,B,pl[y-7],pl[y-16]),P=Ct.add4H(D,C,N,hl[y-7],hl[y-16]);hl[y]=P|0,pl[y]=D|0}let{Ah:i,Al:o,Bh:r,Bl:s,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:h,Fh:p,Fl:f,Gh:m,Gl:b,Hh:g,Hl:x}=this;for(let y=0;y<80;y++){const v=Ct.rotrSH(d,h,14)^Ct.rotrSH(d,h,18)^Ct.rotrBH(d,h,41),w=Ct.rotrSL(d,h,14)^Ct.rotrSL(d,h,18)^Ct.rotrBL(d,h,41),C=d&p^~d&m,S=h&f^~h&b,E=Ct.add5L(x,w,S,Bce[y],pl[y]),I=Ct.add5H(E,g,v,C,Pce[y],hl[y]),N=E|0,B=Ct.rotrSH(i,o,28)^Ct.rotrBH(i,o,34)^Ct.rotrBH(i,o,39),D=Ct.rotrSL(i,o,28)^Ct.rotrBL(i,o,34)^Ct.rotrBL(i,o,39),P=i&r^i&a^r&a,_=o&s^o&l^s&l;g=m|0,x=b|0,m=p|0,b=f|0,p=d|0,f=h|0,{h:d,l:h}=Ct.add(c|0,u|0,I|0,N|0),c=a|0,u=l|0,a=r|0,l=s|0,r=i|0,s=o|0;const L=Ct.add3L(N,D,_);i=Ct.add3H(L,I,B,P),o=L|0}({h:i,l:o}=Ct.add(this.Ah|0,this.Al|0,i|0,o|0)),{h:r,l:s}=Ct.add(this.Bh|0,this.Bl|0,r|0,s|0),{h:a,l}=Ct.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Ct.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:h}=Ct.add(this.Eh|0,this.El|0,d|0,h|0),{h:p,l:f}=Ct.add(this.Fh|0,this.Fl|0,p|0,f|0),{h:m,l:b}=Ct.add(this.Gh|0,this.Gl|0,m|0,b|0),{h:g,l:x}=Ct.add(this.Hh|0,this.Hl|0,g|0,x|0),this.set(i,o,r,s,a,l,c,u,d,h,p,f,m,b,g,x)}roundClean(){hl.fill(0),pl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}}class Mce extends aL{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const jce=hp(()=>new aL),Uce=hp(()=>new Mce),lL=[],cL=[],uL=[],Vce=BigInt(0),Yp=BigInt(1),Hce=BigInt(2),Wce=BigInt(7),Gce=BigInt(256),qce=BigInt(113);for(let t=0,e=Yp,n=1,i=0;t<24;t++){[n,i]=[i,(2*n+3*i)%5],lL.push(2*(5*i+n)),cL.push((t+1)*(t+2)/2%64);let o=Vce;for(let r=0;r<7;r++)e=(e<<Yp^(e>>Wce)*qce)%Gce,e&Hce&&(o^=Yp<<(Yp<<BigInt(r))-Yp);uL.push(o)}const[Kce,Xce]=nL(uL,!0),pA=(t,e,n)=>n>32?rL(t,e,n):iL(t,e,n),fA=(t,e,n)=>n>32?sL(t,e,n):oL(t,e,n);function Yce(t,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],u=n[l+1],d=pA(c,u,1)^n[a],h=fA(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[s+p]^=d,t[s+p+1]^=h}let o=t[2],r=t[3];for(let s=0;s<24;s++){const a=cL[s],l=pA(o,r,a),c=fA(o,r,a),u=lL[s];o=t[u],r=t[u+1],t[u]=l,t[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Kce[i],t[1]^=Xce[i]}n.fill(0)}class aT extends rT{keccak(){dA||hA(this.state32),Yce(this.state32,this.rounds),dA||hA(this.state32),this.posOut=0,this.pos=0}update(e){zh(this);const{blockLen:n,state:i}=this;e=Ay(e);const o=e.length;for(let r=0;r<o;){const s=Math.min(n-this.pos,o-r);for(let a=0;a<s;a++)i[this.pos++]^=e[r++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:o}=this;e[i]^=n,n&128&&i===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){zh(this,!1),$y(e),this.finish();const n=this.state,{blockLen:i}=this;for(let o=0,r=e.length;o<r;){this.posOut>=i&&this.keccak();const s=Math.min(i-this.posOut,r-o);e.set(n.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return jx(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Y9(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:o,rounds:r,enableXOF:s}=this;return e||(e=new aT(n,i,o,s,r)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=r,e.suffix=i,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}constructor(e,n,i,o=!1,r=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=o,this.rounds=r,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,jx(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=hce(this.state)}}const Ny=(t,e,n)=>hp(()=>new aT(e,t,n)),Zce=Ny(6,144,224/8),Jce=Ny(6,136,256/8),Qce=Ny(6,104,384/8),eue=Ny(6,72,512/8),Fh=(()=>{if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"__GLOBALTHIS__",{get(){return this},configurable:!0});try{if(typeof __GLOBALTHIS__<"u")return __GLOBALTHIS__}finally{delete Object.prototype.__GLOBALTHIS__}if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global})(),mA={SHA1:bce,SHA224:wce,SHA256:vce,SHA384:Uce,SHA512:jce,"SHA3-224":Zce,"SHA3-256":Jce,"SHA3-384":Qce,"SHA3-512":eue},lT=t=>{switch(!0){case/^(?:SHA-?1|SSL3-SHA1)$/i.test(t):return"SHA1";case/^SHA(?:2?-)?224$/i.test(t):return"SHA224";case/^SHA(?:2?-)?256$/i.test(t):return"SHA256";case/^SHA(?:2?-)?384$/i.test(t):return"SHA384";case/^SHA(?:2?-)?512$/i.test(t):return"SHA512";case/^SHA3-224$/i.test(t):return"SHA3-224";case/^SHA3-256$/i.test(t):return"SHA3-256";case/^SHA3-384$/i.test(t):return"SHA3-384";case/^SHA3-512$/i.test(t):return"SHA3-512";default:throw new TypeError("Unknown hash algorithm: ".concat(t))}},tue=(t,e,n)=>{var i;if(G3){const o=(i=mA[t])!=null?i:mA[lT(t)];return G3(o,e,n)}else throw new Error("Missing HMAC function")},K3="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",nue=t=>{t=t.replace(/ /g,"");let e=t.length;for(;t[e-1]==="=";)--e;t=(e<t.length?t.substring(0,e):t).toUpperCase();const n=new ArrayBuffer(t.length*5/8|0),i=new Uint8Array(n);let o=0,r=0,s=0;for(let a=0;a<t.length;a++){const l=K3.indexOf(t[a]);if(l===-1)throw new TypeError("Invalid character found: ".concat(t[a]));r=r<<5|l,o+=5,o>=8&&(o-=8,i[s++]=r>>>o)}return i},iue=t=>{let e=0,n=0,i="";for(let o=0;o<t.length;o++)for(n=n<<8|t[o],e+=8;e>=5;)i+=K3[n>>>e-5&31],e-=5;return e>0&&(i+=K3[n<<5-e&31]),i},oue=t=>{t=t.replace(/ /g,"");const e=new ArrayBuffer(t.length/2),n=new Uint8Array(e);for(let i=0;i<t.length;i+=2)n[i/2]=parseInt(t.substring(i,i+2),16);return n},rue=t=>{let e="";for(let n=0;n<t.length;n++){const i=t[n].toString(16);i.length===1&&(e+="0"),e+=i}return e.toUpperCase()},sue=t=>{const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i)&255;return n},aue=t=>{let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},gA=Fh.TextEncoder?new Fh.TextEncoder:null,bA=Fh.TextDecoder?new Fh.TextDecoder:null,lue=t=>{if(!gA)throw new Error("Encoding API not available");return gA.encode(t)},cue=t=>{if(!bA)throw new Error("Encoding API not available");return bA.decode(t)},uue=t=>{var e;if((e=Fh.crypto)!=null&&e.getRandomValues)return Fh.crypto.getRandomValues(new Uint8Array(t));throw new Error("Cryptography API not available")};class Da{static fromLatin1(e){return new Da({buffer:sue(e).buffer})}static fromUTF8(e){return new Da({buffer:lue(e).buffer})}static fromBase32(e){return new Da({buffer:nue(e).buffer})}static fromHex(e){return new Da({buffer:oue(e).buffer})}get buffer(){return this.bytes.buffer}get latin1(){return Object.defineProperty(this,"latin1",{enumerable:!0,writable:!1,configurable:!1,value:aue(this.bytes)}),this.latin1}get utf8(){return Object.defineProperty(this,"utf8",{enumerable:!0,writable:!1,configurable:!1,value:cue(this.bytes)}),this.utf8}get base32(){return Object.defineProperty(this,"base32",{enumerable:!0,writable:!1,configurable:!1,value:iue(this.bytes)}),this.base32}get hex(){return Object.defineProperty(this,"hex",{enumerable:!0,writable:!1,configurable:!1,value:rue(this.bytes)}),this.hex}constructor({buffer:e,size:n=20}={}){this.bytes=typeof e>"u"?uue(n):new Uint8Array(e),Object.defineProperty(this,"bytes",{enumerable:!0,writable:!1,configurable:!1,value:this.bytes})}}const due=(t,e)=>{{if(t.length!==e.length)throw new TypeError("Input strings must have the same length");let n=-1,i=0;for(;++n<t.length;)i|=t.charCodeAt(n)^e.charCodeAt(n);return i===0}};class xi{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,counter:0,window:1}}static generate({secret:e,algorithm:n=xi.defaults.algorithm,digits:i=xi.defaults.digits,counter:o=xi.defaults.counter}){const r=tue(n,e.bytes,cce(o)),s=r[r.byteLength-1]&15;return(((r[s]&127)<<24|(r[s+1]&255)<<16|(r[s+2]&255)<<8|r[s+3]&255)%10**i).toString().padStart(i,"0")}generate({counter:e=this.counter++}={}){return xi.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:e})}static validate({token:e,secret:n,algorithm:i,digits:o=xi.defaults.digits,counter:r=xi.defaults.counter,window:s=xi.defaults.window}){if(e.length!==o)return null;let a=null;const l=c=>{const u=xi.generate({secret:n,algorithm:i,digits:o,counter:c});due(e,u)&&(a=c-r)};l(r);for(let c=1;c<=s&&a===null&&(l(r-c),!(a!==null||(l(r+c),a!==null)));++c);return a}validate({token:e,counter:n=this.counter,window:i}){return xi.validate({token:e,secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:n,window:i})}toString(){const e=encodeURIComponent;return"otpauth://hotp/"+"".concat(this.issuer.length>0?this.issuerInLabel?"".concat(e(this.issuer),":").concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?"))+"secret=".concat(e(this.secret.base32),"&")+"algorithm=".concat(e(this.algorithm),"&")+"digits=".concat(e(this.digits),"&")+"counter=".concat(e(this.counter))}constructor({issuer:e=xi.defaults.issuer,label:n=xi.defaults.label,issuerInLabel:i=xi.defaults.issuerInLabel,secret:o=new Da,algorithm:r=xi.defaults.algorithm,digits:s=xi.defaults.digits,counter:a=xi.defaults.counter}={}){this.issuer=e,this.label=n,this.issuerInLabel=i,this.secret=typeof o=="string"?Da.fromBase32(o):o,this.algorithm=lT(r),this.digits=s,this.counter=a}}class ai{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,period:30,window:1}}static counter({period:e=ai.defaults.period,timestamp:n=Date.now()}={}){return Math.floor(n/1e3/e)}counter({timestamp:e=Date.now()}={}){return ai.counter({period:this.period,timestamp:e})}static remaining({period:e=ai.defaults.period,timestamp:n=Date.now()}={}){return e*1e3-n%(e*1e3)}remaining({timestamp:e=Date.now()}={}){return ai.remaining({period:this.period,timestamp:e})}static generate({secret:e,algorithm:n,digits:i,period:o=ai.defaults.period,timestamp:r=Date.now()}){return xi.generate({secret:e,algorithm:n,digits:i,counter:ai.counter({period:o,timestamp:r})})}generate({timestamp:e=Date.now()}={}){return ai.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:e})}static validate({token:e,secret:n,algorithm:i,digits:o,period:r=ai.defaults.period,timestamp:s=Date.now(),window:a}){return xi.validate({token:e,secret:n,algorithm:i,digits:o,counter:ai.counter({period:r,timestamp:s}),window:a})}validate({token:e,timestamp:n,window:i}){return ai.validate({token:e,secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:n,window:i})}toString(){const e=encodeURIComponent;return"otpauth://totp/"+"".concat(this.issuer.length>0?this.issuerInLabel?"".concat(e(this.issuer),":").concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?"))+"secret=".concat(e(this.secret.base32),"&")+"algorithm=".concat(e(this.algorithm),"&")+"digits=".concat(e(this.digits),"&")+"period=".concat(e(this.period))}constructor({issuer:e=ai.defaults.issuer,label:n=ai.defaults.label,issuerInLabel:i=ai.defaults.issuerInLabel,secret:o=new Da,algorithm:r=ai.defaults.algorithm,digits:s=ai.defaults.digits,period:a=ai.defaults.period}={}){this.issuer=e,this.label=n,this.issuerInLabel=i,this.secret=typeof o=="string"?Da.fromBase32(o):o,this.algorithm=lT(r),this.digits=s,this.period=a}}const hue=({isOpen:t,onDidDismiss:e,session:n,onVerificationSuccess:i})=>{const[o,r]=ae.useState(""),[s,a]=ae.useState(""),[l,c]=ae.useState(!1),[u,d]=ae.useState(!1),[h,p]=ae.useState(""),f=async(g,x)=>{if(g.length!==6||!/^\d+$/.test(g))throw new Error("Code must be 6 digits");if(!(new ai({secret:x,digits:6,period:30,algorithm:"SHA1"}).validate({token:g,window:1})!==null))throw new Error("Invalid verification code")},m=async()=>{var g,x;if(o.length!==6){a("Please enter a 6-digit code");return}c(!0),a("");try{const{data:y,error:v}=await ze.from("user_totp").select("secret, is_verified").eq("user_id",(g=n.user)==null?void 0:g.id).single();if(v||!(y!=null&&y.secret))throw v||new Error("TOTP not configured for this user");if(await f(o,y.secret),!y.is_verified){const{error:S}=await ze.from("user_totp").update({is_verified:!0}).eq("user_id",(x=n.user)==null?void 0:x.id);if(S)throw S}const{data:{session:w},error:C}=await ze.auth.refreshSession();if(C)throw C;i(w)}catch(y){a(y.message||"Verification failed"),y.message==="Invalid verification code"&&(p("Invalid verification code"),d(!0),setTimeout(()=>{b()},1500)),console.error("TOTP verification failed:",y)}finally{c(!1)}},b=()=>{r(""),a(""),e()};return T.jsxs(Pa,{isOpen:t,onDidDismiss:b,children:[T.jsx(Ai,{children:T.jsxs(Ni,{children:[T.jsx(so,{children:"Two-Factor Authentication"}),T.jsx(ut,{slot:"end",fill:"clear",onClick:b,children:T.jsx(St,{icon:_y})})]})}),T.jsxs(On,{className:"ion-padding",children:[T.jsxs(Vl,{children:[T.jsx(ks,{className:"ion-justify-content-center",children:T.jsxs(pr,{size:"12",sizeMd:"8",children:[T.jsx(Wi,{children:T.jsx("p",{className:"ion-text-center",children:"Enter the 6-digit code from your authenticator app"})}),T.jsx("div",{className:"ion-text-center",style:{margin:"20px 0"},children:T.jsx(Wn,{value:o,onIonChange:g=>{const y=(g.detail.value||"").replace(/\D/g,"");r(y.slice(0,6)),a("")},placeholder:"123456",inputMode:"numeric",maxlength:6,autofocus:!0,clearOnEdit:!0,class:s?"ion-invalid":"",style:{fontSize:"24px",textAlign:"center",letterSpacing:"10px",border:s?"2px solid var(--ion-color-danger)":"1px solid var(--ion-color-medium)",borderRadius:"8px",padding:"10px",width:"200px",margin:"0 auto"},disabled:l})}),s&&T.jsx(Wi,{color:"danger",children:T.jsx("p",{className:"ion-text-center",style:{fontSize:"14px"},children:s})})]})}),T.jsx(ks,{className:"ion-justify-content-center ion-margin-top",children:T.jsx(pr,{size:"12",sizeMd:"8",children:T.jsx(ut,{expand:"block",onClick:m,disabled:l||o.length!==6,children:l?T.jsx(Wa,{name:"crescent"}):"Verify"})})})]}),T.jsx(gc,{isOpen:u,onDidDismiss:()=>d(!1),message:h,duration:1500,position:"top",color:"danger"})]})]})},pue=({message:t,isOpen:e,onClose:n})=>T.jsx(mc,{isOpen:e,onDidDismiss:n,header:"Notification",message:t,buttons:["OK"]}),fue=()=>{const t=Jl(),[e,n]=ae.useState(""),[i,o]=ae.useState(""),[r,s]=ae.useState(""),[a,l]=ae.useState(!1),[c,u]=ae.useState(!1),[d,h]=ae.useState(!1),[p,f]=ae.useState(!1),[m,b]=ae.useState(null),{isAuthenticated:g,user:x,getAccessTokenSilently:y}=Ale(),v=async()=>{var C;try{h(!0);const{data:S,error:E}=await ze.auth.signInWithPassword({email:e,password:i});if(E)throw E;const{data:I,error:N}=await ze.from("user_totp").select("id").eq("user_id",(C=S.user)==null?void 0:C.id).maybeSingle();if(N)throw N;I?(b(S),f(!0)):(u(!0),setTimeout(()=>{t.push("/Cephaline-Supabase/app","forward","replace")},300))}catch(S){s(S.message||"Login failed"),l(!0)}finally{h(!1)}},w=C=>{f(!1),u(!0),setTimeout(()=>{t.push("/Cephaline-Supabase/app","forward","replace")},300)};return T.jsxs(fr,{children:[T.jsx(Ai,{children:T.jsx(Ni,{children:T.jsx(so,{style:{textAlign:"left"},children:"Cephaline Coding Journal App"})})}),T.jsxs(On,{className:"ion-padding",fullscreen:!0,children:[T.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:T.jsx(Co,{className:"fancy-card",style:{width:"90%",maxWidth:"400px",padding:"2rem"},children:T.jsxs(So,{children:[T.jsx("h2",{style:{textAlign:"center",marginBottom:"1.5rem"},children:"USER LOGIN"}),T.jsx(Wn,{fill:"outline",className:"fancy-input",type:"email",placeholder:"Email",value:e,onIonChange:C=>n(C.detail.value),disabled:d}),T.jsx(Wn,{className:"fancy-input",fill:"outline",type:"password",placeholder:"Password",value:i,onIonChange:C=>o(C.detail.value),style:{marginTop:"1rem"},disabled:d,children:T.jsx(fh,{slot:"end"})}),T.jsx(ut,{className:"fancy-button",expand:"block",onClick:v,style:{marginTop:"2rem",borderRadius:"8px"},disabled:d,children:d?"Logging in...":"Login"}),T.jsx("div",{style:{textAlign:"center",margin:"1rem 0"},children:T.jsx("span",{style:{color:"#666"},children:"OR"})}),T.jsx(lce,{}),T.jsx(ut,{fill:"clear",expand:"block",routerLink:"/Cephaline-Supabase/Registration",color:"primary",disabled:d,children:"Don't have an account? Register here"}),T.jsx(pue,{message:r,isOpen:a,onClose:()=>l(!1)}),T.jsx(gc,{isOpen:c,onDidDismiss:()=>u(!1),message:"Login successful! Redirecting...",duration:1500,position:"top",color:"primary"})]})})}),T.jsx(hue,{isOpen:p,onDidDismiss:()=>f(!1),session:m,onVerificationSuccess:w})]})]})},dL={},mue=Object.freeze(Object.defineProperty({__proto__:null,default:dL},Symbol.toStringTag,{value:"Module"}));var X3=null;function gue(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch(e){}try{return dL.randomBytes(t)}catch(e){}if(!X3)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return X3(t)}function bue(t){X3=t}function cT(t,e){if(t=t||uT,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(Ux(gue(lm),lm)),n.join("")}function hL(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=uT;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function i(o){ys(function(){try{o(null,cT(t))}catch(r){o(r)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(o,r){i(function(s,a){if(s){r(s);return}o(a)})})}function pL(t,e){if(typeof e>"u"&&(e=uT),typeof e=="number"&&(e=cT(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return Y3(t,e)}function fL(t,e,n,i){function o(r){typeof t=="string"&&typeof e=="number"?hL(e,function(s,a){Y3(t,a,r,i)}):typeof t=="string"&&typeof e=="string"?Y3(t,e,r,i):ys(r.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);o(n)}else return new Promise(function(r,s){o(function(a,l){if(a){s(a);return}r(l)})})}function mL(t,e){for(var n=t.length^e.length,i=0;i<t.length;++i)n|=t.charCodeAt(i)^e.charCodeAt(i);return n===0}function xue(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:mL(pL(t,e.substring(0,e.length-31)),e)}function yue(t,e,n,i){function o(r){if(typeof t!="string"||typeof e!="string"){ys(r.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){ys(r.bind(this,null,!1));return}fL(t,e.substring(0,29),function(s,a){s?r(s):r(null,mL(a,e))},i)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);o(n)}else return new Promise(function(r,s){o(function(a,l){if(a){s(a);return}r(l)})})}function vue(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function wue(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function kue(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return gL(t)>72}var ys=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function gL(t){for(var e=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320?(++i,e+=4):e+=3;return e}function Sue(t){for(var e=0,n,i,o=new Array(gL(t)),r=0,s=t.length;r<s;++r)n=t.charCodeAt(r),n<128?o[e++]=n:n<2048?(o[e++]=n>>6|192,o[e++]=n&63|128):(n&64512)===55296&&((i=t.charCodeAt(r+1))&64512)===56320?(n=65536+((n&1023)<<10)+(i&1023),++r,o[e++]=n>>18|240,o[e++]=n>>12&63|128,o[e++]=n>>6&63|128,o[e++]=n&63|128):(o[e++]=n>>12|224,o[e++]=n>>6&63|128,o[e++]=n&63|128);return o}var Id="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),fl=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Ux(t,e){var n=0,i=[],o,r;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(o=t[n++]&255,i.push(Id[o>>2&63]),o=(o&3)<<4,n>=e){i.push(Id[o&63]);break}if(r=t[n++]&255,o|=r>>4&15,i.push(Id[o&63]),o=(r&15)<<2,n>=e){i.push(Id[o&63]);break}r=t[n++]&255,o|=r>>6&3,i.push(Id[o&63]),i.push(Id[r&63])}return i.join("")}function bL(t,e){var n=0,i=t.length,o=0,r=[],s,a,l,c,u,d;if(e<=0)throw Error("Illegal len: "+e);for(;n<i-1&&o<e&&(d=t.charCodeAt(n++),s=d<fl.length?fl[d]:-1,d=t.charCodeAt(n++),a=d<fl.length?fl[d]:-1,!(s==-1||a==-1||(u=s<<2>>>0,u|=(a&48)>>4,r.push(String.fromCharCode(u)),++o>=e||n>=i)||(d=t.charCodeAt(n++),l=d<fl.length?fl[d]:-1,l==-1)||(u=(a&15)<<4>>>0,u|=(l&60)>>2,r.push(String.fromCharCode(u)),++o>=e||n>=i)));)d=t.charCodeAt(n++),c=d<fl.length?fl[d]:-1,u=(l&3)<<6>>>0,u|=c,r.push(String.fromCharCode(u)),++o;var h=[];for(n=0;n<o;n++)h.push(r[n].charCodeAt(0));return h}var lm=16,uT=10,Cue=16,Tue=100,xA=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],yA=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],xL=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function cm(t,e,n,i){var o,r=t[e],s=t[e+1];return r^=n[0],o=i[r>>>24],o+=i[256|r>>16&255],o^=i[512|r>>8&255],o+=i[768|r&255],s^=o^n[1],o=i[s>>>24],o+=i[256|s>>16&255],o^=i[512|s>>8&255],o+=i[768|s&255],r^=o^n[2],o=i[r>>>24],o+=i[256|r>>16&255],o^=i[512|r>>8&255],o+=i[768|r&255],s^=o^n[3],o=i[s>>>24],o+=i[256|s>>16&255],o^=i[512|s>>8&255],o+=i[768|s&255],r^=o^n[4],o=i[r>>>24],o+=i[256|r>>16&255],o^=i[512|r>>8&255],o+=i[768|r&255],s^=o^n[5],o=i[s>>>24],o+=i[256|s>>16&255],o^=i[512|s>>8&255],o+=i[768|s&255],r^=o^n[6],o=i[r>>>24],o+=i[256|r>>16&255],o^=i[512|r>>8&255],o+=i[768|r&255],s^=o^n[7],o=i[s>>>24],o+=i[256|s>>16&255],o^=i[512|s>>8&255],o+=i[768|s&255],r^=o^n[8],o=i[r>>>24],o+=i[256|r>>16&255],o^=i[512|r>>8&255],o+=i[768|r&255],s^=o^n[9],o=i[s>>>24],o+=i[256|s>>16&255],o^=i[512|s>>8&255],o+=i[768|s&255],r^=o^n[10],o=i[r>>>24],o+=i[256|r>>16&255],o^=i[512|r>>8&255],o+=i[768|r&255],s^=o^n[11],o=i[s>>>24],o+=i[256|s>>16&255],o^=i[512|s>>8&255],o+=i[768|s&255],r^=o^n[12],o=i[r>>>24],o+=i[256|r>>16&255],o^=i[512|r>>8&255],o+=i[768|r&255],s^=o^n[13],o=i[s>>>24],o+=i[256|s>>16&255],o^=i[512|s>>8&255],o+=i[768|s&255],r^=o^n[14],o=i[r>>>24],o+=i[256|r>>16&255],o^=i[512|r>>8&255],o+=i[768|r&255],s^=o^n[15],o=i[s>>>24],o+=i[256|s>>16&255],o^=i[512|s>>8&255],o+=i[768|s&255],r^=o^n[16],t[e]=s^n[Cue+1],t[e+1]=r,t}function Md(t,e){for(var n=0,i=0;n<4;++n)i=i<<8|t[e]&255,e=(e+1)%t.length;return{key:i,offp:e}}function vA(t,e,n){for(var i=0,o=[0,0],r=e.length,s=n.length,a,l=0;l<r;l++)a=Md(t,i),i=a.offp,e[l]=e[l]^a.key;for(l=0;l<r;l+=2)o=cm(o,0,e,n),e[l]=o[0],e[l+1]=o[1];for(l=0;l<s;l+=2)o=cm(o,0,e,n),n[l]=o[0],n[l+1]=o[1]}function Eue(t,e,n,i){for(var o=0,r=[0,0],s=n.length,a=i.length,l,c=0;c<s;c++)l=Md(e,o),o=l.offp,n[c]=n[c]^l.key;for(o=0,c=0;c<s;c+=2)l=Md(t,o),o=l.offp,r[0]^=l.key,l=Md(t,o),o=l.offp,r[1]^=l.key,r=cm(r,0,n,i),n[c]=r[0],n[c+1]=r[1];for(c=0;c<a;c+=2)l=Md(t,o),o=l.offp,r[0]^=l.key,l=Md(t,o),o=l.offp,r[1]^=l.key,r=cm(r,0,n,i),i[c]=r[0],i[c+1]=r[1]}function wA(t,e,n,i,o){var r=xL.slice(),s=r.length,a;if(n<4||n>31)if(a=Error("Illegal number of rounds (4-31): "+n),i){ys(i.bind(this,a));return}else throw a;if(e.length!==lm)if(a=Error("Illegal salt length: "+e.length+" != "+lm),i){ys(i.bind(this,a));return}else throw a;n=1<<n>>>0;var l,c,u=0,d;typeof Int32Array=="function"?(l=new Int32Array(xA),c=new Int32Array(yA)):(l=xA.slice(),c=yA.slice()),Eue(e,t,l,c);function h(){if(o&&o(u/n),u<n)for(var f=Date.now();u<n&&(u=u+1,vA(t,l,c),vA(e,l,c),!(Date.now()-f>Tue)););else{for(u=0;u<64;u++)for(d=0;d<s>>1;d++)cm(r,d<<1,l,c);var m=[];for(u=0;u<s;u++)m.push((r[u]>>24&255)>>>0),m.push((r[u]>>16&255)>>>0),m.push((r[u]>>8&255)>>>0),m.push((r[u]&255)>>>0);if(i){i(null,m);return}else return m}i&&ys(h)}if(typeof i<"u")h();else for(var p;;)if(typeof(p=h())<"u")return p||[]}function Y3(t,e,n,i){var o;if(typeof t!="string"||typeof e!="string")if(o=Error("Invalid string / salt: Not a string"),n){ys(n.bind(this,o));return}else throw o;var r,s;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(o=Error("Invalid salt version: "+e.substring(0,2)),n){ys(n.bind(this,o));return}else throw o;if(e.charAt(2)==="$")r="\0",s=3;else{if(r=e.charAt(2),r!=="a"&&r!=="b"&&r!=="y"||e.charAt(3)!=="$")if(o=Error("Invalid salt revision: "+e.substring(2,4)),n){ys(n.bind(this,o));return}else throw o;s=4}if(e.charAt(s+2)>"$")if(o=Error("Missing salt rounds"),n){ys(n.bind(this,o));return}else throw o;var a=parseInt(e.substring(s,s+1),10)*10,l=parseInt(e.substring(s+1,s+2),10),c=a+l,u=e.substring(s+3,s+25);t+=r>="a"?"\0":"";var d=Sue(t),h=bL(u,lm);function p(f){var m=[];return m.push("$2"),r>="a"&&m.push(r),m.push("$"),c<10&&m.push("0"),m.push(c.toString()),m.push("$"),m.push(Ux(h,h.length)),m.push(Ux(f,xL.length*4-1)),m.join("")}if(typeof n>"u")return p(wA(d,h,c));wA(d,h,c,function(f,m){f?n(f,null):n(null,p(m))},i)}function Iue(t,e){return Ux(t,e)}function _ue(t,e){return bL(t,e)}const kA={setRandomFallback:bue,genSaltSync:cT,genSalt:hL,hashSync:pL,hash:fL,compareSync:xue,compare:yue,getRounds:vue,getSalt:wue,truncates:kue,encodeBase64:Iue,decodeBase64:_ue},$ue=({message:t,isOpen:e,onClose:n})=>T.jsx(mc,{isOpen:e,onDidDismiss:n,header:"Notification",message:t,buttons:["OK"]}),Aue=()=>{const[t,e]=ae.useState(""),[n,i]=ae.useState(""),[o,r]=ae.useState(""),[s,a]=ae.useState(""),[l,c]=ae.useState(""),[u,d]=ae.useState(""),[h,p]=ae.useState(!1),[f,m]=ae.useState(!1),[b,g]=ae.useState(""),[x,y]=ae.useState(!1),v=()=>{if(!s.endsWith("@nbsc.edu.ph")){g("Only @nbsc.edu.ph emails are allowed to register."),y(!0);return}if(l!==u){g("Passwords do not match."),y(!0);return}p(!0)},w=async()=>{p(!1);try{const{data:S,error:E}=await ze.auth.signUp({email:s,password:l});if(E)throw new Error("Account creation failed: "+E.message);const I=await kA.genSalt(10),N=await kA.hash(l,I),{error:B}=await ze.from("users").insert([{username:t,user_email:s,user_firstname:n,user_lastname:o,user_password:N}]);if(B)throw new Error("Failed to save user data: "+B.message);m(!0)}catch(S){S instanceof Error?g(S.message):g("An unknown error occurred."),y(!0)}},C={marginTop:"15px",color:"white",backgroundColor:"#1e1e1e",borderRadius:"8px",padding:"12px","--background":"#1e1e1e","--color":"#fff","--placeholder-color":"#aaa","--highlight-color-focused":"#3a8ef6"};return T.jsx(fr,{children:T.jsx(On,{fullscreen:!0,className:"ion-padding",style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#121212",height:"100vh"},children:T.jsx(Co,{style:{background:"#000",width:"100%",maxWidth:"500px",padding:"20px",borderRadius:"12px",boxShadow:"0 4px 10px rgba(0,0,0,0.6)",margin:"auto"},children:T.jsxs(So,{children:[T.jsx("h1",{style:{color:"white",marginBottom:"20px"},children:"Create your account"}),T.jsx(Wn,{label:"Username",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter a unique username",value:t,onIonChange:S=>e(S.detail.value),style:C}),T.jsx(Wn,{label:"First Name",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter your first name",value:n,onIonChange:S=>i(S.detail.value),style:C}),T.jsx(Wn,{label:"Last Name",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter your last name",value:o,onIonChange:S=>r(S.detail.value),style:C}),T.jsx(Wn,{label:"Email",labelPlacement:"stacked",fill:"outline",type:"email",placeholder:"youremail@nbsc.edu.ph",value:s,onIonChange:S=>a(S.detail.value),style:C}),T.jsx(Wn,{label:"Password",labelPlacement:"stacked",fill:"outline",type:"password",placeholder:"Enter password",value:l,onIonChange:S=>c(S.detail.value),style:C,children:T.jsx(fh,{slot:"end"})}),T.jsx(Wn,{label:"Confirm Password",labelPlacement:"stacked",fill:"outline",type:"password",placeholder:"Confirm password",value:u,onIonChange:S=>d(S.detail.value),style:C,children:T.jsx(fh,{slot:"end"})}),T.jsx(ut,{onClick:v,expand:"block",shape:"round",color:"primary",style:{marginTop:"20px"},children:"Register"}),T.jsx(ut,{routerLink:"/Cephaline-Supabase",expand:"block",fill:"clear",shape:"round",color:"primary",children:"Already have an account? Sign in"}),T.jsx(Pa,{isOpen:h,onDidDismiss:()=>p(!1),children:T.jsx(On,{className:"ion-padding",children:T.jsxs(Co,{className:"ion-padding",style:{marginTop:"25%"},children:[T.jsxs(_4,{children:[T.jsx(nh,{children:"User Registration Details"}),T.jsx("hr",{}),T.jsx($2,{children:"Username"}),T.jsx(nh,{children:t}),T.jsx($2,{children:"Email"}),T.jsx(nh,{children:s}),T.jsx($2,{children:"Name"}),T.jsxs(nh,{children:[n," ",o]})]}),T.jsx(So,{}),T.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginRight:"5px"},children:[T.jsx(ut,{fill:"clear",onClick:()=>p(!1),children:"Cancel"}),T.jsx(ut,{color:"primary",onClick:w,children:"Confirm"})]})]})})}),T.jsx(Pa,{isOpen:f,onDidDismiss:()=>m(!1),children:T.jsxs(On,{className:"ion-padding",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",textAlign:"center"},children:[T.jsx(so,{style:{marginTop:"35%"},children:"Registration Successful "}),T.jsxs(Wi,{children:[T.jsx("p",{children:"Your account has been created successfully."}),T.jsx("p",{children:"Please check your email address."})]}),T.jsx(ut,{routerLink:"/Cephaline-Supabase",routerDirection:"back",color:"primary",children:"Go to Login"})]})}),T.jsx($ue,{message:b,isOpen:x,onClose:()=>y(!1)})]})})})})},Nue=()=>{const[t,e]=ae.useState("Loading..."),[n,i]=ae.useState("Loading..."),[o,r]=ae.useState("https://placehold.co/200");ae.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:{user:a},error:l}=await ze.auth.getUser();if(!a){e("Not logged in");return}const{data:c,error:u}=await ze.from("users").select("username, user_firstname, user_lastname, user_avatar_url").eq("user_email",a.email).single();if(u)throw u;if(e(c.username||"No username"),i("".concat(c.user_firstname," ").concat(c.user_lastname).trim()||"No bio"),c.user_avatar_url)if(c.user_avatar_url.startsWith("http"))r(c.user_avatar_url);else{const{data:{publicUrl:d}}=await ze.storage.from("user-avatars").getPublicUrl(c.user_avatar_url);r(d)}else r("https://placehold.co/200")}catch(a){console.error("Error fetching profile:",a),e("Error loading profile"),i("Please try again later")}};return T.jsxs("div",{style:{padding:"16px",textAlign:"center"},children:[T.jsx(B7,{style:{width:"200px",height:"200px",margin:"0 auto 16px"},children:T.jsx(K1,{src:o,style:{objectFit:"cover"},onError:a=>{a.target.src="https://placehold.co/200"}})}),T.jsxs(Ti,{children:[T.jsx("h2",{style:{margin:"8px 0",fontSize:"1.5rem"},children:t}),T.jsx("p",{style:{margin:"8px 0",color:"#666"},children:n})]}),T.jsxs(ut,{fill:"outline",style:{marginTop:"16px"},routerLink:"/Cephaline-Supabase/app/editProfile",children:[T.jsx(St,{icon:Zle,slot:"start"}),"Edit Profile"]})]})};function Oue({value:t,onChange:e}){return T.jsx(Vie,{placeholder:"Find Journal",value:t,onIonInput:n=>e(n.detail.value),debounce:300,style:{width:"1500px"}})}const Due=({onJournalCreated:t})=>{const[e,n]=ae.useState(!1),[i,o]=ae.useState(""),[r,s]=ae.useState(""),[a,l]=ae.useState("#3880ff"),[c,u]=ae.useState("#555555"),[d,h]=ae.useState("#ffffff"),[p,f]=ae.useState(!1),[m,b]=ae.useState(""),g=[{value:"#3880ff",name:"Primary Blue"},{value:"#3dc2ff",name:"Light Blue"},{value:"#2dd36f",name:"Success Green"},{value:"#ffc409",name:"Warning Yellow"},{value:"#eb445a",name:"Danger Red"},{value:"#92949c",name:"Medium Gray"},{value:"#555555",name:"Dark Gray"},{value:"#000000",name:"Black"},{value:"#ffffff",name:"White"},{value:"#fff8e1",name:"Warm White"},{value:"#f5f5f5",name:"Light Gray"}],x=async()=>{if(!i.trim()){b("Journal title is required"),f(!0);return}try{const{data:{user:y},error:v}=await ze.auth.getUser();if(v||!y)throw new Error((v==null?void 0:v.message)||"User not authenticated");const{data:w,error:C}=await ze.from("journals").insert({user_id:y.id,title:i,description:r,title_color:a,description_color:c,card_color:d}).select().single();if(C)throw C;t&&t(w),o(""),s(""),n(!1)}catch(y){console.error("Error creating journal:",y),b(y instanceof Error?y.message:"Failed to create journal"),f(!0)}};return T.jsxs(T.Fragment,{children:[T.jsxs(ut,{onClick:()=>n(!0),expand:"block",color:"primary",style:{margin:"0 10px",width:"100px"},children:[T.jsx(St,{slot:"start",icon:Lle}),"New Journal"]}),T.jsxs(Pa,{isOpen:e,onDidDismiss:()=>n(!1),children:[T.jsx(Ai,{children:T.jsxs(Ni,{color:"primary",children:[T.jsx(ro,{slot:"start",children:T.jsx(ut,{onClick:()=>n(!1),children:T.jsx(St,{icon:_y})})}),T.jsx(so,{children:"Create New Journal"}),T.jsx(ro,{slot:"end",children:T.jsx(ut,{onClick:x,strong:!0,children:"Save"})})]})}),T.jsx(On,{className:"ion-padding",children:T.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[T.jsxs(yo,{children:[T.jsxs(Ti,{position:"stacked",color:"primary",children:["Journal Title ",T.jsx("span",{style:{color:"red"},children:"*"})]}),T.jsx(Wn,{value:i,onIonChange:y=>o(y.detail.value||""),placeholder:"Enter journal title",autofocus:!0,clearOnEdit:!0})]}),T.jsxs(yo,{children:[T.jsx(Ti,{position:"stacked",color:"primary",children:"Description"}),T.jsx($4,{value:r,onIonChange:y=>s(y.detail.value||""),placeholder:"Enter journal description",rows:6,autoGrow:!0})]}),T.jsxs("div",{style:{marginTop:"20px"},children:[T.jsxs(yo,{children:[T.jsx(Ti,{children:"Title Color"}),T.jsx(zb,{value:a,onIonChange:y=>l(y.detail.value),interface:"popover",children:g.map(y=>T.jsx(ya,{value:y.value,children:T.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[T.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:y.value,marginRight:"8px",border:"1px solid #ddd"}}),y.name]})},y.value))})]}),T.jsxs(yo,{children:[T.jsx(Ti,{children:"Description Color"}),T.jsx(zb,{value:c,onIonChange:y=>u(y.detail.value),interface:"popover",children:g.map(y=>T.jsx(ya,{value:y.value,children:T.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[T.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:y.value,marginRight:"8px",border:"1px solid #ddd"}}),y.name]})},y.value))})]}),T.jsxs(yo,{children:[T.jsx(Ti,{children:"Card Background"}),T.jsx(zb,{value:d,onIonChange:y=>h(y.detail.value),interface:"popover",children:g.map(y=>T.jsx(ya,{value:y.value,children:T.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[T.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:y.value,marginRight:"8px",border:"1px solid #ddd"}}),y.name]})},y.value))})]})]}),T.jsxs("div",{style:{marginTop:"30px",padding:"15px",backgroundColor:d,borderRadius:"8px",borderLeft:"4px solid var(--ion-color-primary)",boxShadow:"2px 2px 5px rgba(0,0,0,0.1)"},children:[T.jsx("h3",{style:{color:a,margin:"0 0 10px 0"},children:i||"Title Preview"}),T.jsx("p",{style:{color:c,fontStyle:"italic",margin:"8px 0"},children:r||"Description preview text goes here..."}),T.jsx("small",{style:{color:"#888",display:"block",textAlign:"right"},children:"Created: Just now"})]})]})})]}),T.jsx(mc,{isOpen:p,onDidDismiss:()=>f(!1),header:"Error",message:m,buttons:["OK"]})]})},Rue=({journals:t,setJournals:e,searchText:n,sortOption:i})=>{const o=by(),[r,s]=ae.useState(!0);ae.useEffect(()=>{(async()=>{try{s(!0);const{data:{user:u}}=await ze.auth.getUser();if(!u)throw new Error("User not authenticated");const{data:d,error:h}=await ze.from("journals").select("*").eq("user_id",u.id).order("created_at",{ascending:!1});if(h)throw h;e(d||[])}catch(u){console.error("Error fetching journals:",u)}finally{s(!1)}})()},[e]);const a=ae.useMemo(()=>[...t.filter(u=>{var d;return u.title.toLowerCase().includes(n.toLowerCase())||((d=u.description)==null?void 0:d.toLowerCase().includes(n.toLowerCase()))})].sort((u,d)=>{switch(i){case"title-asc":return u.title.localeCompare(d.title);case"title-desc":return d.title.localeCompare(u.title);case"date-newest":return new Date(d.created_at).getTime()-new Date(u.created_at).getTime();case"date-oldest":return new Date(u.created_at).getTime()-new Date(d.created_at).getTime();case"color-asc":return(u.card_color||"").localeCompare(d.card_color||"");case"color-desc":return(d.card_color||"").localeCompare(u.card_color||"");default:return 0}}),[t,n,i]),l=async c=>{try{const{data:u,error:d}=await ze.from("journal_pages").select("page_id").eq("journal_id",c).order("created_at",{ascending:!1}).limit(1);if(d)throw d;u!=null&&u.length?o.push("/Cephaline-Supabase/app/Overviewing/".concat(c)):o.push("/Cephaline-Supabase/app/JournalPage/".concat(c))}catch(u){console.error("Error checking journal pages:",u),o.push("/Cephaline-Supabase/app/JournalPage/".concat(c))}};return r?T.jsxs("div",{className:"loading-container",children:[T.jsx(Wa,{name:"crescent"}),T.jsx("p",{children:"Loading your journals..."})]}):a.length===0?T.jsx("div",{className:"empty-state",children:T.jsx("p",{children:"No journals match your search."})}):T.jsx("div",{className:"bookshelf-container",children:T.jsxs("div",{className:"bookshelf",children:[T.jsx("div",{className:"shelf"}),T.jsx("div",{className:"journal-grid-container",children:a.map(c=>T.jsxs("div",{className:"journal-card-wrapper",style:{"--card-color":c.card_color,"--title-color":c.title_color},onClick:()=>l(c.journal_id),children:[T.jsx("div",{className:"journal-spine",children:T.jsxs("div",{className:"journal-title-container",children:[T.jsx("h3",{className:"journal-title",children:c.title}),T.jsx("div",{className:"journal-date",children:new Date(c.created_at).toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})}),T.jsx("div",{className:"journal-card-preview",children:T.jsxs(Co,{className:"journal-card",children:[T.jsx(_4,{children:T.jsx(nh,{style:{color:c.title_color},children:c.title})}),T.jsxs(So,{children:[T.jsx("p",{style:{color:c.description_color},children:c.description}),T.jsxs("small",{children:["Created: ",new Date(c.created_at).toLocaleDateString()]})]})]})})]},c.journal_id))})]})})},Lue=({value:t,onChange:e})=>T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"-3px",marginBottom:"4px",marginLeft:"30px"},children:[T.jsx(Ti,{children:"Sort by:"}),T.jsxs(zb,{value:t,placeholder:"Select sort",onIonChange:n=>e(n.detail.value),children:[T.jsx(ya,{value:"title-asc",children:"Title (AZ)"}),T.jsx(ya,{value:"title-desc",children:"Title (ZA)"}),T.jsx(ya,{value:"date-newest",children:"Date (Newest)"}),T.jsx(ya,{value:"date-oldest",children:"Date (Oldest)"}),T.jsx(ya,{value:"color-asc",children:"Background Color (AZ)"}),T.jsx(ya,{value:"color-desc",children:"Background Color (ZA)"})]})]}),zue=()=>{const[t,e]=ae.useState([]),[n,i]=ae.useState(""),[o,r]=ae.useState("date-newest"),[s,a]=ae.useState(0),l=c=>{e(u=>[c,...u])};return Nie(()=>{a(c=>c+1)}),T.jsxs(fr,{children:[T.jsx(Ai,{children:T.jsx(Ni,{children:T.jsx(so,{children:"Journals"})})}),T.jsxs(On,{children:[T.jsx(Nue,{}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[T.jsx(Oue,{value:n,onChange:i}),T.jsx(Due,{onJournalCreated:l})]}),T.jsx(Lue,{value:o,onChange:r}),T.jsx(Rue,{journals:t,setJournals:e,searchText:n,sortOption:o},s)]})]})},Fue=({avatarPreview:t,handleAvatarChange:e})=>{const n=ae.useRef(null);return T.jsx(Vl,{children:T.jsx(ks,{className:"ion-justify-content-center ion-align-items-center",children:T.jsxs(pr,{className:"ion-text-center",children:[t&&T.jsx(B7,{style:{width:"200px",height:"200px",margin:"10px auto"},children:T.jsx(K1,{src:t,style:{objectFit:"cover"}})}),T.jsx("input",{type:"file",ref:n,style:{display:"none"},accept:"image/*",onChange:e}),T.jsx(ut,{expand:"block",onClick:()=>{var i;return(i=n.current)==null?void 0:i.click()},children:"Upload Avatar"})]})})})},Pue=({username:t,firstName:e,lastName:n,setUsername:i,setFirstName:o,setLastName:r})=>T.jsxs(Vl,{children:[T.jsx(ks,{children:T.jsx(pr,{children:T.jsx(Wn,{label:"Username",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter username",value:t,onIonChange:s=>i(s.detail.value)})})}),T.jsxs(ks,{children:[T.jsx(pr,{size:"6",children:T.jsx(Wn,{label:"First Name",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter First Name",value:e,onIonChange:s=>o(s.detail.value)})}),T.jsx(pr,{size:"6",children:T.jsx(Wn,{label:"Last Name",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter Last Name",value:n,onIonChange:s=>r(s.detail.value)})})]})]}),Bue=({password:t,confirmPassword:e,currentPassword:n,setPassword:i,setConfirmPassword:o,setCurrentPassword:r})=>T.jsxs(T.Fragment,{children:[T.jsx(Vl,{children:T.jsxs(ks,{children:[T.jsx(Wi,{color:"secondary",children:T.jsx("h3",{children:"Change Password"})}),T.jsx(pr,{size:"12",children:T.jsx(Wn,{label:"New Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Enter New Password",value:t,onIonChange:s=>i(s.detail.value),children:T.jsx(fh,{slot:"end"})})})]})}),T.jsx(Vl,{children:T.jsx(ks,{children:T.jsx(pr,{size:"12",children:T.jsx(Wn,{label:"Confirm Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Confirm New Password",value:e,onIonChange:s=>o(s.detail.value),children:T.jsx(fh,{slot:"end"})})})})}),T.jsx(Vl,{children:T.jsxs(ks,{children:[T.jsx(Wi,{color:"secondary",children:T.jsx("h3",{children:"Confirm Changes"})}),T.jsx(pr,{size:"12",children:T.jsx(Wn,{label:"Current Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Enter Current Password to Save Changes",value:n,onIonChange:s=>r(s.detail.value),children:T.jsx(fh,{slot:"end"})})})]})})]});function Mue(){var t=ae.useRef(!1),e=ae.useCallback(function(){return t.current},[]);return ae.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e}var jue=function(t){t===void 0&&(t={});var e=ae.useState(t),n=e[0],i=e[1],o=ae.useCallback(function(r){i(function(s){return Object.assign({},s,r instanceof Function?r(s):r)})},[]);return[n,o]},Uue=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],i=0;i<t.rangeCount;i++)n.push(t.getRangeAt(i));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(o){t.addRange(o)}),e&&e.focus()}},Vue=Uue,SA={"text/plain":"Text","text/html":"Url",default:"Text"},Hue="Copy to clipboard: #{key}, Enter";function Wue(t){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function Gue(t,e){var n,i,o,r,s,a,l=!1;e||(e={}),n=e.debug||!1;try{o=Vue(),r=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=SA[e.format]||SA.default;window.clipboardData.setData(d,t)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,t);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(a),r.selectNodeContents(a),s.addRange(r);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),i=Wue("message"in e?e.message:Hue),window.prompt(i,t)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(r):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return l}var que=Gue;const Kue=dc(que);var Xue=function(){var t=Mue(),e=jue({value:void 0,error:void 0,noUserInteraction:!0}),n=e[0],i=e[1],o=ae.useCallback(function(r){if(t()){var s,a;try{if(typeof r!="string"&&typeof r!="number"){var l=new Error("Cannot copy typeof "+typeof r+" to clipboard, must be a string");i({value:r,error:l,noUserInteraction:!0});return}else if(r===""){var l=new Error("Cannot copy empty string to clipboard.");i({value:r,error:l,noUserInteraction:!0});return}a=r.toString(),s=Kue(a),i({value:a,error:void 0,noUserInteraction:s})}catch(c){i({value:a,error:c,noUserInteraction:s})}}},[]);return[n,o]};const Yue=({userId:t,initialEnabled:e=!1,onToggleChange:n,disabled:i})=>{const[o,r]=ae.useState(""),[s,a]=ae.useState(!1),[l,c]=ae.useState(""),[u,d]=ae.useState(!1),[h,p]=ae.useState(e),[f,m]=ae.useState(!1),[b,g]=ae.useState(!1),x=ae.useCallback(()=>new ai({issuer:"Cephaline-Supabase",label:"Cephaline-Supabase:"+t,algorithm:"SHA1",digits:6,period:30}).secret.base32,[t]),y=ae.useCallback(async()=>{try{const{data:I,error:N}=await ze.from("user_totp").select("secret, is_verified").eq("user_id",t).single();if(N&&N.code!=="PGRST116")throw N;return{enabled:!!(I!=null&&I.secret),secret:I==null?void 0:I.secret,isVerified:(I==null?void 0:I.is_verified)||!1}}catch(I){return console.error("Error checking TOTP status:",I),{enabled:!1,isVerified:!1}}},[t]);ae.useEffect(()=>{(async()=>{if(t){d(!0);try{const N=await y();console.log(N);const{enabled:B,secret:D,isVerified:P}=N;p(B),g(P!=null?P:!1),B&&D&&r(D)}catch(N){console.error("Error checking TOTP status:",N)}finally{d(!1)}}})()},[t,y,p,g,r,d]);const v=async()=>{d(!0);try{const I=x(),{error:N}=await ze.from("user_totp").upsert({user_id:t,secret:I,is_verified:!1,updated_at:new Date().toISOString()});if(N)throw N;return r(I),g(!1),!0}catch(I){return console.error("Error enabling TOTP:",I),c(I.message||"Failed to enable TOTP"),a(!0),!1}finally{d(!1)}},w=async()=>{d(!0);try{const{error:I}=await ze.from("user_totp").delete().eq("user_id",t);if(I)throw I;return r(""),g(!1),!0}catch(I){return console.error("Error disabling TOTP:",I),c(I.message||"Failed to disable TOTP"),a(!0),!1}finally{d(!1)}},C=async I=>{const N=I.detail.checked;u||(N?await v()&&(p(!0),n==null||n(!0)):m(!0))},S=async()=>{m(!1),await w()&&(p(!1),n==null||n(!1))},E=async()=>{if(o)try{await navigator.clipboard.writeText(o),c("Copied to clipboard!"),a(!0)}catch(I){c("Copy failed"),a(!0)}};return T.jsxs("div",{className:"ion-padding",children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[T.jsx(Ti,{children:T.jsx("strong",{children:"Authenticator App (TOTP)"})}),u?T.jsx(Wa,{name:"crescent"}):T.jsx(X1,{checked:h,onIonChange:C,disabled:u||i})]}),h&&T.jsxs(T.Fragment,{children:[T.jsx(Co,{children:T.jsx(So,{children:T.jsx(Vl,{children:T.jsxs(ks,{className:"ion-align-items-center",children:[T.jsx(pr,{children:T.jsxs(Wi,{children:[T.jsx("h3",{style:{margin:0},children:"Secret Key:"}),T.jsx("p",{style:{fontFamily:"monospace",fontSize:"1.1rem",letterSpacing:"1px",wordBreak:"break-all",margin:"8px 0",userSelect:"all"},children:o||"Loading..."}),!b&&T.jsx(Wi,{color:"warning",children:T.jsx("p",{children:"This secret key is not yet verified. Please complete setup in your authenticator app."})})]})}),T.jsx(pr,{size:"auto",children:T.jsx(ut,{fill:"clear",onClick:E,disabled:!o,children:T.jsx(St,{icon:X9})})})]})})})}),T.jsx("div",{style:{marginTop:"16px"},children:T.jsxs(Wi,{color:"medium",children:[T.jsx("p",{children:T.jsx("strong",{children:"How to setup:"})}),T.jsxs("ol",{style:{paddingLeft:"20px",margin:"8px 0"},children:[T.jsx("li",{children:"Copy the secret key above"}),T.jsx("li",{children:"Open your authenticator app (Google Authenticator, Authy, etc.)"}),T.jsx("li",{children:'Select "Enter a setup key" or similar option'}),T.jsx("li",{children:"Enter your account name (e.g., your email)"}),T.jsx("li",{children:"Paste the secret key"}),T.jsx("li",{children:'Select "Time-based" if given an option'}),T.jsx("li",{children:"Save the entry"})]}),T.jsxs("p",{style:{marginTop:"8px"},children:[T.jsx("strong",{children:"Note:"})," You'll need to enter the 6-digit code from your authenticator app when logging in."]})]})})]}),T.jsx(gc,{isOpen:s,onDidDismiss:()=>a(!1),message:l,duration:2e3,position:"top"}),T.jsx(mc,{isOpen:f,onDidDismiss:()=>m(!1),header:"Disable Two-Factor Authentication?",message:"Are you sure you want to disable this security feature?",buttons:[{text:"Cancel",role:"cancel"},{text:"Disable",handler:S}]})]})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zue=1e-7,Jue=1e-4;class yL{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class dT{refCount(e){return Do("refCount")}incRef(e){return Do("incRef")}timerAvailable(){return!0}time(e){return Do("time")}read(e){return Do("read")}readSync(e){return Do("readSync")}readToGPU(e,n){return Do("readToGPU")}numDataIds(){return Do("numDataIds")}disposeData(e,n){return Do("disposeData")}write(e,n,i){return Do("write")}move(e,n,i,o,r){return Do("move")}createTensorFromGPUData(e,n,i){return Do("createTensorFromGPUData")}memory(){return Do("memory")}floatPrecision(){return Do("floatPrecision")}epsilon(){return this.floatPrecision()===32?Zue:Jue}dispose(){return Do("dispose")}}function Do(t){throw new Error("'".concat(t,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Que(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,jd(t,e,n)}function $u(t,e,n){return Math.max(t,Math.min(e,n))}function hT(t){return t%2===0?t:t+1}function jd(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function ede(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function M(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function Zo(t,e,n=""){M(Nt(t,e),()=>n+" Shapes ".concat(t," and ").concat(e," must match"))}function pp(t){M(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function ge(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function tde(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function Nt(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Ph(t){return t%1===0}function Z3(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function gh(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function CA(t,e=o=>0,n,i){return new Promise((o,r)=>{let s=0;const a=()=>{if(t()){o();return}s++;const l=e(s);if(n!=null&&s>=n){r();return}i!=null?i(a,l):setTimeout(a,l)};a()})}function vL(t,e){let n=1,i=-1;for(let r=0;r<t.length;++r)if(t[r]>=0)n*=t[r];else if(t[r]===-1){if(i!==-1)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(i," and dim ").concat(r));i=r}else if(t[r]<0)throw Error("Shapes can not be < 0. Found ".concat(t[r]," at dim ").concat(r));if(i===-1){if(e>0&&e!==n)throw Error("Size(".concat(e,") must match the product of shape ").concat(t));return t}if(n===0)throw Error("Cannot infer the missing size in [".concat(t,"] when ")+"there are 0 elements");if(e%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(e," / ").concat(n));const o=t.slice();return o[i]=e/n,o}function Et(t,e){const n=e.length;return t=t==null?e.map((i,o)=>o):[].concat(t),M(t.every(i=>i>=-n&&i<n),()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(t)),M(t.every(i=>Ph(i)),()=>"All values in axis param must be integers but "+"got axis ".concat(t)),t.map(i=>i<0?n+i:i)}function xc(t,e){const n=[],i=[],o=e!=null&&Array.isArray(e)&&e.length===0,r=e==null||o?null:Et(e,t).sort();let s=0;for(let a=0;a<t.length;++a){if(r!=null){if(r[s]===a&&t[a]!==1)throw new Error("Can't squeeze axis ".concat(a," since its dim '").concat(t[a],"' is not 1"));(r[s]==null||r[s]>a)&&t[a]===1&&(n.push(t[a]),i.push(a)),r[s]<=a&&s++}t[a]!==1&&(n.push(t[a]),i.push(a))}return{newShape:n,keptDims:i}}function Oi(t,e){return Pn(t,e)}function Pn(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error("Unknown data type ".concat(t));return n}function nde(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(isNaN(i)||!isFinite(i))throw Error("A tensor of type ".concat(e," being uploaded contains ").concat(i,"."))}}function ide(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function wL(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function Vx(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error("Unknown dtype ".concat(t))}function ode(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function Zm(t){return typeof t=="string"||t instanceof String}function rde(t){return typeof t=="boolean"}function J3(t){return typeof t=="number"}function fp(t){return Array.isArray(t)?fp(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":J3(t)?"float32":Zm(t)?"string":rde(t)?"bool":"float32"}function Q3(t){return!!(t&&t.constructor&&t.call&&t.apply)}function eS(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function nt(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let i=e-3;i>=0;--i)n[i]=n[i+1]*t[i+1];return n}function kL(t,e,n,i=!1){const o=new Array;if(e.length===1){const r=e[0]*(i?2:1);for(let s=0;s<r;s++)o[s]=n[t+s]}else{const r=e[0],s=e.slice(1),a=s.reduce((l,c)=>l*c)*(i?2:1);for(let l=0;l<r;l++)o[l]=kL(t+l*a,s,n,i)}return o}function Xr(t,e,n=!1){if(t.length===0)return e[0];const i=t.reduce((o,r)=>o*r)*(n?2:1);if(i===0)return[];if(i!==e.length)throw new Error("[".concat(t,"] does not match the input size ").concat(e.length).concat(n?" for a complex tensor":"","."));return kL(0,t,e,n)}function sde(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error("Unknown dtype ".concat(e))}function pT(t,e){const n=Xi(t,e);for(let i=0;i<n.length;i++)n[i]=1;return n}function Xi(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error("Unknown data type ".concat(e))}function SL(t,e){const n=t.reduce((i,o)=>i*o,1);if(e==null||e==="float32")return Xr(t,new Float32Array(n));if(e==="int32")return Xr(t,new Int32Array(n));if(e==="bool")return Xr(t,new Uint8Array(n));throw new Error("Unknown data type ".concat(e))}function vr(t){t.forEach(e=>{M(Number.isInteger(e)&&e>=0,()=>"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(t,"]."))})}function Zs(t,e,n){if(e===0)return 0;if(e===1)return t[0];let i=t[t.length-1];for(let o=0;o<t.length-1;++o)i+=n[o]*t[o];return i}function mp(t,e,n){if(e===0)return[];if(e===1)return[t];const i=new Array(e);for(let o=0;o<i.length-1;++o)i[o]=Math.floor(t/n[o]),t-=i[o]*n[o];return i[i.length-1]=t,i}function Au(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TA="tfjsflags";class ade{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=lde,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(pe().getBool("IS_TEST")||pe().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=n}registerFlag(e,n,i){if(this.flagRegistry[e]={evaluationFn:n,setHook:i},this.urlFlags[e]!=null){const o=this.urlFlags[e];pe().getBool("IS_TEST")||pe().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(o,".")),this.set(e,o)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Au(n))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);TA in e&&e[TA].split(",").forEach(i=>{const[o,r]=i.split(":");this.urlFlags[o]=ude(o,r)})}}function lde(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...i)=>(cde(e,i[0],i[1]),i.join("="))),e}function cde(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function ude(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":"".concat(+n)===n?+n:e}function pe(){return CL}let CL=null;function dde(t){CL=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let X2;function TL(){if(X2==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");X2=t}return X2}function hde(){const t=TL();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function fT(t,e){const n=hde();if(n.has(t))return n.get(t);{const i=e();return n.set(t,i),n.get(t)}}const Oy="Abs",Jm="Acos",Qm="Acosh",gp="Add",Dy="AddN",mT="All",gT="Any",Ry="ArgMax",Ly="ArgMin",eg="Asin",tg="Asinh",ng="Atan",ig="Atanh",og="Atan2",zy="AvgPool",bT="AvgPoolGrad",Fy="AvgPool3D",xT="AvgPool3DGrad",Py="BatchMatMul",By="BatchToSpaceND",yT="Bincount",My="BitwiseAnd",pde="BroadcastTo",vT="BroadcastArgs",rg="Cast",sg="Ceil",ag="ClipByValue",wT="Complex",jy="ComplexAbs",Uy="Concat",Vy="Conv2D",kT="Conv2DBackpropFilter",Hy="Conv2DBackpropInput",Wy="Conv3D",ST="Conv3DBackpropFilterV2",CT="Conv3DBackpropInputV2",lg="Cos",cg="Cosh",TT="Cumprod",Gy="Cumsum",ET="CropAndResize",IT="DenseBincount",_T="DepthToSpace",qy="DepthwiseConv2dNative",$T="DepthwiseConv2dNativeBackpropFilter",AT="DepthwiseConv2dNativeBackpropInput",NT="Diag",Ky="Dilation2D",tS="Dilation2DBackpropInput",nS="Dilation2DBackpropFilter",fde="Draw",ug="RealDiv",OT="Einsum",dg="Elu",DT="EluGrad",hg="Erf",Xy="Equal",pg="Exp",Yy="ExpandDims",fg="Expm1",RT="FFT",LT="Fill",zT="FlipLeftRight",mg="Floor",gg="FloorDiv",Zy="FusedBatchNorm",Jy="GatherV2",FT="GatherNd",Qy="Greater",bg="GreaterEqual",xg="Identity",PT="IFFT",BT="Imag",yg="IsFinite",vg="IsInf",wg="IsNan",ev="LeakyRelu",tv="Less",nv="LessEqual",MT="LinSpace",kg="Log",Sg="Log1p",iv="LogicalAnd",ov="LogicalNot",rv="LogicalOr",mde="LogSoftmax",sv="LRN",jT="LRNGrad",av="Max",Cg="Maximum",lv="MaxPool",UT="MaxPoolGrad",cv="MaxPool3D",VT="MaxPool3DGrad",HT="MaxPoolWithArgmax",uv="Mean",dv="Min",Tg="Minimum",hv="MirrorPad",Eg="Mod",WT="Multinomial",Ig="Multiply",pv="Neg",fv="NotEqual",GT="NonMaxSuppressionV3",qT="NonMaxSuppressionV4",KT="NonMaxSuppressionV5",mv="OnesLike",gv="OneHot",bv="Pack",xv="PadV2",_g="Pow",yv="Prelu",vv="Prod",XT="RaggedGather",YT="RaggedRange",ZT="RaggedTensorToTensor",JT="Range",QT="Real",$g="Reciprocal",Ag="Relu",wv="Reshape",kv="ResizeNearestNeighbor",eE="ResizeNearestNeighborGrad",Sv="ResizeBilinear",tE="ResizeBilinearGrad",Ng="Relu6",Cv="Reverse",Og="Round",Dg="Rsqrt",nE="ScatterNd",iE="TensorScatterUpdate",oE="SearchSorted",Tv="Select",Rg="Selu",Ev="Slice",Lg="Sin",zg="Sinh",Fg="Sign",Pg="Sigmoid",Bg="Softplus",Mg="Sqrt",Iv="Sum",_v="SpaceToBatchND",$v="SplitV",Av="Softmax",rE="SparseFillEmptyRows",sE="SparseReshape",aE="SparseSegmentMean",lE="SparseSegmentSum",cE="SparseToDense",jg="SquaredDifference",uE="Square",Nv="StaticRegexReplace",dE="StridedSlice",hE="StringNGrams",pE="StringSplit",fE="StringToHashBucketFast",Ug="Sub",Vg="Tan",Hg="Tanh",Wg="Tile",mE="TopK",gE="Transform",bh="Transpose",bE="Unique",Ov="Unpack",Dv="UnsortedSegmentSum",Rv="ZerosLike",Gg="Step",iS="FromPixels",xE="RotateWithOffset",Hx="_FusedMatMul",Wx="FusedConv2D",Gx="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sr(...t){pe().getBool("IS_TEST")||pe().getBool("PROD")||console.warn(...t)}function gde(...t){pe().getBool("IS_TEST")||pe().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qx=fT("kernelRegistry",()=>new Map),oS=fT("gradRegistry",()=>new Map);function rS(t,e){const n=IL(t,e);return qx.get(n)}function EA(t){return oS.get(t)}function IA(t){const e=qx.entries(),n=[];for(;;){const{done:i,value:o}=e.next();if(i)break;const[r,s]=o,[a]=r.split("_");a===t&&n.push(s)}return n}function EL(t){const{kernelName:e,backendName:n}=t,i=IL(e,n);qx.has(i)&&sr("The kernel '".concat(e,"' for backend ")+"'".concat(n,"' is already registered")),qx.set(i,t)}function bde(t){const{kernelName:e}=t;oS.has(e)&&pe().getBool("DEBUG")&&sr("Overriding the gradient for '".concat(e,"'")),oS.set(e,t)}function IL(t,e){return"".concat(e,"_").concat(t)}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _L(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var $L=fn,Vr=null;try{Vr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function fn(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}fn.prototype.__isLong__;Object.defineProperty(fn.prototype,"__isLong__",{value:!0});function Jo(t){return(t&&t.__isLong__)===!0}fn.isLong=Jo;var _A={},$A={};function td(t,e){var n,i,o;return e?(t>>>=0,(o=0<=t&&t<256)&&(i=$A[t],i)?i:(n=mn(t,(t|0)<0?-1:0,!0),o&&($A[t]=n),n)):(t|=0,(o=-128<=t&&t<128)&&(i=_A[t],i)?i:(n=mn(t,t<0?-1:0,!1),o&&(_A[t]=n),n))}fn.fromInt=td;function Hr(t,e){if(isNaN(t))return e?ou:Wr;if(e){if(t<0)return ou;if(t>=AL)return DL}else{if(t<=-9223372036854776e3)return Mo;if(t+1>=yde)return OL}return t<0?Hr(-t,e).neg():mn(t%Bh|0,t/Bh|0,e)}fn.fromNumber=Hr;function mn(t,e,n){return new fn(t,e,n)}fn.fromBits=mn;var Kx=Math.pow;function yE(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return Wr;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return yE(t.substring(1),e,n).neg();for(var o=Hr(Kx(n,8)),r=Wr,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+a),n);if(a<8){var c=Hr(Kx(n,a));r=r.mul(c).add(Hr(l))}else r=r.mul(o),r=r.add(Hr(l))}return r.unsigned=e,r}fn.fromString=yE;function Rs(t,e){return typeof t=="number"?Hr(t,e):typeof t=="string"?yE(t,e):mn(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}fn.fromValue=Rs;var AA=65536,xde=1<<24,Bh=AA*AA,AL=Bh*Bh,yde=AL/2,NA=td(xde),Wr=td(0);fn.ZERO=Wr;var ou=td(0,!0);fn.UZERO=ou;var oh=td(1);fn.ONE=oh;var NL=td(1,!0);fn.UONE=NL;var sS=td(-1);fn.NEG_ONE=sS;var OL=mn(-1,2147483647,!1);fn.MAX_VALUE=OL;var DL=mn(-1,-1,!0);fn.MAX_UNSIGNED_VALUE=DL;var Mo=mn(0,-2147483648,!1);fn.MIN_VALUE=Mo;var Me=fn.prototype;Me.toInt=function(){return this.unsigned?this.low>>>0:this.low};Me.toNumber=function(){return this.unsigned?(this.high>>>0)*Bh+(this.low>>>0):this.high*Bh+(this.low>>>0)};Me.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Mo)){var n=Hr(e),i=this.div(n),o=i.mul(n).sub(this);return i.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var r=Hr(Kx(e,6),this.unsigned),s=this,a="";;){var l=s.div(r),c=s.sub(l.mul(r)).toInt()>>>0,u=c.toString(e);if(s=l,s.isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}};Me.getHighBits=function(){return this.high};Me.getHighBitsUnsigned=function(){return this.high>>>0};Me.getLowBits=function(){return this.low};Me.getLowBitsUnsigned=function(){return this.low>>>0};Me.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Mo)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};Me.isZero=function(){return this.high===0&&this.low===0};Me.eqz=Me.isZero;Me.isNegative=function(){return!this.unsigned&&this.high<0};Me.isPositive=function(){return this.unsigned||this.high>=0};Me.isOdd=function(){return(this.low&1)===1};Me.isEven=function(){return(this.low&1)===0};Me.equals=function(e){return Jo(e)||(e=Rs(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Me.eq=Me.equals;Me.notEquals=function(e){return!this.eq(e)};Me.neq=Me.notEquals;Me.ne=Me.notEquals;Me.lessThan=function(e){return this.comp(e)<0};Me.lt=Me.lessThan;Me.lessThanOrEqual=function(e){return this.comp(e)<=0};Me.lte=Me.lessThanOrEqual;Me.le=Me.lessThanOrEqual;Me.greaterThan=function(e){return this.comp(e)>0};Me.gt=Me.greaterThan;Me.greaterThanOrEqual=function(e){return this.comp(e)>=0};Me.gte=Me.greaterThanOrEqual;Me.ge=Me.greaterThanOrEqual;Me.compare=function(e){if(Jo(e)||(e=Rs(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Me.comp=Me.compare;Me.negate=function(){return!this.unsigned&&this.eq(Mo)?Mo:this.not().add(oh)};Me.neg=Me.negate;Me.add=function(e){Jo(e)||(e=Rs(e));var n=this.high>>>16,i=this.high&65535,o=this.low>>>16,r=this.low&65535,s=e.high>>>16,a=e.high&65535,l=e.low>>>16,c=e.low&65535,u=0,d=0,h=0,p=0;return p+=r+c,h+=p>>>16,p&=65535,h+=o+l,d+=h>>>16,h&=65535,d+=i+a,u+=d>>>16,d&=65535,u+=n+s,u&=65535,mn(h<<16|p,u<<16|d,this.unsigned)};Me.subtract=function(e){return Jo(e)||(e=Rs(e)),this.add(e.neg())};Me.sub=Me.subtract;Me.multiply=function(e){if(this.isZero())return Wr;if(Jo(e)||(e=Rs(e)),Vr){var n=Vr.mul(this.low,this.high,e.low,e.high);return mn(n,Vr.get_high(),this.unsigned)}if(e.isZero())return Wr;if(this.eq(Mo))return e.isOdd()?Mo:Wr;if(e.eq(Mo))return this.isOdd()?Mo:Wr;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(NA)&&e.lt(NA))return Hr(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,o=this.high&65535,r=this.low>>>16,s=this.low&65535,a=e.high>>>16,l=e.high&65535,c=e.low>>>16,u=e.low&65535,d=0,h=0,p=0,f=0;return f+=s*u,p+=f>>>16,f&=65535,p+=r*u,h+=p>>>16,p&=65535,p+=s*c,h+=p>>>16,p&=65535,h+=o*u,d+=h>>>16,h&=65535,h+=r*c,d+=h>>>16,h&=65535,h+=s*l,d+=h>>>16,h&=65535,d+=i*u+o*c+r*l+s*a,d&=65535,mn(p<<16|f,d<<16|h,this.unsigned)};Me.mul=Me.multiply;Me.divide=function(e){if(Jo(e)||(e=Rs(e)),e.isZero())throw Error("division by zero");if(Vr){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Vr.div_u:Vr.div_s)(this.low,this.high,e.low,e.high);return mn(n,Vr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ou:Wr;var i,o,r;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return ou;if(e.gt(this.shru(1)))return NL;r=ou}else{if(this.eq(Mo)){if(e.eq(oh)||e.eq(sS))return Mo;if(e.eq(Mo))return oh;var s=this.shr(1);return i=s.div(e).shl(1),i.eq(Wr)?e.isNegative()?oh:sS:(o=this.sub(e.mul(i)),r=i.add(o.div(e)),r)}else if(e.eq(Mo))return this.unsigned?ou:Wr;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=Wr}for(o=this;o.gte(e);){i=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(i)/Math.LN2),l=a<=48?1:Kx(2,a-48),c=Hr(i),u=c.mul(e);u.isNegative()||u.gt(o);)i-=l,c=Hr(i,this.unsigned),u=c.mul(e);c.isZero()&&(c=oh),r=r.add(c),o=o.sub(u)}return r};Me.div=Me.divide;Me.modulo=function(e){if(Jo(e)||(e=Rs(e)),Vr){var n=(this.unsigned?Vr.rem_u:Vr.rem_s)(this.low,this.high,e.low,e.high);return mn(n,Vr.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Me.mod=Me.modulo;Me.rem=Me.modulo;Me.not=function(){return mn(~this.low,~this.high,this.unsigned)};Me.and=function(e){return Jo(e)||(e=Rs(e)),mn(this.low&e.low,this.high&e.high,this.unsigned)};Me.or=function(e){return Jo(e)||(e=Rs(e)),mn(this.low|e.low,this.high|e.high,this.unsigned)};Me.xor=function(e){return Jo(e)||(e=Rs(e)),mn(this.low^e.low,this.high^e.high,this.unsigned)};Me.shiftLeft=function(e){return Jo(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?mn(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):mn(0,this.low<<e-32,this.unsigned)};Me.shl=Me.shiftLeft;Me.shiftRight=function(e){return Jo(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?mn(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):mn(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Me.shr=Me.shiftRight;Me.shiftRightUnsigned=function(e){if(Jo(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var i=this.low;return mn(i>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?mn(n,0,this.unsigned):mn(n>>>e-32,0,this.unsigned)};Me.shru=Me.shiftRightUnsigned;Me.shr_u=Me.shiftRightUnsigned;Me.toSigned=function(){return this.unsigned?mn(this.low,this.high,!1):this};Me.toUnsigned=function(){return this.unsigned?this:mn(this.low,this.high,!0)};Me.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Me.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Me.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};fn.fromBytes=function(e,n,i){return i?fn.fromBytesLE(e,n):fn.fromBytesBE(e,n)};fn.fromBytesLE=function(e,n){return new fn(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};fn.fromBytesBE=function(e,n){return new fn(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const RL=dc($L),vde=rV({__proto__:null,default:RL},[$L]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qc=RL||vde;function Lv(t){return qc.fromString(t,!0,16)}const LL=Lv("c3a5c85c97cb3127"),Vc=Lv("b492b66fbe98f273"),eo=Lv("9ae16a3b2f90404f");function aS(t){return t.xor(t.shru(47))}function zL(t,e,n){const i=t.slice(e,e+n);return qc.fromBytes(Array.from(i),!0,!0)}function nn(t,e){return zL(t,e,8)}function OA(t,e){return zL(t,e,4)}function ui(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Hl(t,e,n=Lv("9ddfea08eb382d69")){let i=t.xor(e).mul(n);i=i.xor(i.shru(47));let o=e.xor(i).mul(n);return o=o.xor(o.shru(47)),o=o.mul(n),o}function wde(t,e,n,i,o,r){o=o.add(t),r=ui(r.add(o).add(i),21);const s=o;return o=o.add(e),o=o.add(n),r=r.add(ui(o,44)),[o.add(i),r.add(s)]}function sb(t,e,n,i){return wde(nn(t,e),nn(t,e+8),nn(t,e+16),nn(t,e+24),n,i)}function kde(t,e=t.length){if(e>=8){const n=eo.add(e*2),i=nn(t,0).add(eo),o=nn(t,e-8),r=ui(o,37).mul(n).add(i),s=ui(i,25).add(o).mul(n);return Hl(r,s,n)}if(e>=4){const n=eo.add(e*2),i=OA(t,0);return Hl(i.shl(3).add(e),OA(t,e-4),n)}if(e>0){const n=t[0],i=t[e>>1],o=t[e-1],r=n+(i<<8),s=e+(o<<2);return aS(eo.mul(r).xor(LL.mul(s))).mul(eo)}return eo}function Sde(t,e=t.length){const n=eo.add(e*2),i=nn(t,0).mul(Vc),o=nn(t,8),r=nn(t,e-8).mul(n),s=nn(t,e-16).mul(eo);return Hl(ui(i.add(o),43).add(ui(r,30)).add(s),i.add(ui(o.add(eo),18)).add(r),n)}function Cde(t,e=t.length){const n=eo.add(e*2),i=nn(t,0).mul(eo),o=nn(t,8),r=nn(t,e-8).mul(n),s=nn(t,e-16).mul(eo),a=ui(i.add(o),43).add(ui(r,30)).add(s),l=Hl(a,i.add(ui(o.add(eo),18)).add(r),n),c=nn(t,16).mul(n),u=nn(t,24),d=a.add(nn(t,e-32)).mul(n),h=l.add(nn(t,e-24)).mul(n);return Hl(ui(c.add(u),43).add(ui(d,30)).add(h),c.add(ui(u.add(i),18)).add(d),n)}function Tde(t,e=t.length){const n=qc.fromNumber(81,!0);if(e<=32)return e<=16?kde(t,e):Sde(t,e);if(e<=64)return Cde(t,e);let i=n,o=n.mul(Vc).add(113),r=aS(o.mul(eo).add(113)).mul(eo),s=[qc.UZERO,qc.UZERO],a=[qc.UZERO,qc.UZERO];i=i.mul(eo).add(nn(t,0));let l=0;const c=(e-1>>6)*64,u=c+(e-1&63)-63;do i=ui(i.add(o).add(s[0]).add(nn(t,l+8)),37).mul(Vc),o=ui(o.add(s[1]).add(nn(t,l+48)),42).mul(Vc),i=i.xor(a[1]),o=o.add(s[0]).add(nn(t,l+40)),r=ui(r.add(a[0]),33).mul(Vc),s=sb(t,l,s[1].mul(Vc),i.add(a[0])),a=sb(t,l+32,r.add(a[1]),o.add(nn(t,l+16))),[r,i]=[i,r],l+=64;while(l!==c);const d=Vc.add(r.and(255).shl(1));return l=u,a[0]=a[0].add(e-1&63),s[0]=s[0].add(a[0]),a[0]=a[0].add(s[0]),i=ui(i.add(o).add(s[0]).add(nn(t,l+8)),37).mul(d),o=ui(o.add(s[1]).add(nn(t,l+48)),42).mul(d),i=i.xor(a[1].mul(9)),o=o.add(s[0].mul(9).add(nn(t,l+40))),r=ui(r.add(a[0]),33).mul(d),s=sb(t,l,s[1].mul(d),i.add(a[0])),a=sb(t,l+32,r.add(a[1]),o.add(nn(t,l+16))),[r,i]=[i,r],Hl(Hl(s[0],a[0],d).add(aS(o).mul(LL)).add(r),Hl(s[1],a[1],d).add(i),d)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yc(t,e){return e==="string"?Wl(t):nd([t],e)}function Ede(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function nd(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Nu(t)),pe().getBool("DEBUG")&&nde(t,e),Ede(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let i=0;i<n.length;++i)Math.round(t[i])!==0&&(n[i]=1);return n}else throw new Error("Unknown data type ".concat(e))}function mo(){return pe().platform.now()}function Wl(t,e="utf-8"){return e=e||"utf-8",pe().platform.encode(t,e)}function ec(t,e="utf-8"){return e=e||"utf-8",pe().platform.decode(t,e)}function ts(t){return pe().platform.isTypedArray!=null?pe().platform.isTypedArray(t):_L(t)}function Nu(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||Au(t)||t==null||ts(t)&&n)e.push(t);else if(Array.isArray(t)||ts(t))for(let i=0;i<t.length;++i)Nu(t[i],e,n);else{let i=-1;for(const o of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(o)&&(i=Math.max(i,Number(o)));for(let o=0;o<=i;o++)Nu(t[o],e,n)}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ide{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new $de)}profileKernel(e,n,i){let o;const r=()=>{o=i()};let s;const a=mo();if(this.backendTimer.timerAvailable())s=this.backendTimer.time(r);else{r();for(const c of o)c.dataSync();s=Promise.resolve({kernelMs:mo()-a})}if(pe().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let c=0;c<o.length;c++){const u=o[c];u.data().then(d=>{_de(d,u.dtype,e)})}return{kernelName:e,outputs:o,inputs:n,timeMs:s.then(c=>c.kernelMs),extraInfo:s.then(c=>c.getExtraProfileInfo!=null?c.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:i,timeMs:o,inputs:r,extraInfo:s}=e;i.forEach(a=>{Promise.all([a.data(),o,s]).then(l=>{this.logger.logKernelProfile(n,a,l[0],l[1],r,l[2])})})}}function _de(t,e,n){if(e!=="float32")return!1;for(let i=0;i<t.length;i++){const o=t[i];if(isNaN(o)||!isFinite(o))return console.warn("Found ".concat(o," in the result of '").concat(n,"'")),!0}return!1}class $de{logKernelProfile(e,n,i,o,r,s){const a=typeof o=="number"?gh("".concat(o,"ms"),9):o.error,l=gh(e,25),c=n.rank,u=n.size,d=gh(n.shape.toString(),14);let h="";for(const p in r){const f=r[p];if(f!=null){const m=f.shape||n.shape,b=m.length;h+="".concat(p,": ").concat(b,"D ").concat(b>0?m:""," ")}}console.log("%c".concat(l,"	%c").concat(a,"	%c").concat(c,"D ").concat(d,"	%c").concat(u,"	%c").concat(h,"	%c").concat(s),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ade(t,e,n){const i={},o={};for(let l=0;l<e.length;l++)i[e[l].id]=!0;for(let l=0;l<t.length;l++){const c=t[l],u=c.inputs;for(const d in u){const h=u[d];let p=!1;for(let f=0;f<e.length;f++)if(i[h.id]){c.outputs.forEach(m=>i[m.id]=!0),p=!0,o[c.id]=!0;break}if(p)break}}const r={};r[n.id]=!0;const s={};for(let l=t.length-1;l>=0;l--){const c=t[l],u=c.inputs;for(let d=0;d<c.outputs.length;d++)if(r[c.outputs[d].id]){for(const h in u)r[u[h].id]=!0,s[c.id]=!0;break}}const a=[];for(let l=0;l<t.length;l++){const c=t[l];if(o[c.id]&&s[c.id]){const u={};for(const h in c.inputs){const p=c.inputs[h];i[p.id]&&(u[h]=p)}const d=Object.assign({},c);d.inputs=u,d.outputs=c.outputs,a.push(d)}}return a}function Nde(t,e,n,i){for(let o=e.length-1;o>=0;o--){const r=e[o],s=[];if(r.outputs.forEach(l=>{const c=t[l.id];c!=null?s.push(c):s.push(null)}),r.gradient==null)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(r.kernelName,"."));const a=r.gradient(s);for(const l in r.inputs){if(!(l in a))throw new Error("Cannot backprop through input ".concat(l,". ")+"Available gradients found: ".concat(Object.keys(a),"."));const c=n(()=>a[l]());if(c.dtype!=="float32")throw new Error("Error in gradient for op ".concat(r.kernelName,". The gradient of input ")+"".concat(l," must have 'float32' dtype, but has '").concat(c.dtype,"'"));const u=r.inputs[l];if(!Nt(c.shape,u.shape))throw new Error("Error in gradient for op ".concat(r.kernelName,". The gradient of input ")+"'".concat(l,"' has shape '").concat(c.shape,"', which does not match ")+"the shape of the input '".concat(u.shape,"'"));if(t[u.id]==null)t[u.id]=c;else{const d=t[u.id];t[u.id]=i(d,c),d.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DA=20,Zp=3,Y2=7;function Ode(t,e,n,i){const o=nt(e),r=Dde(t,e,n,o),s=e.length,a=jb(t,e,n,o,r),l=["Tensor"];return i&&(l.push("  dtype: ".concat(n)),l.push("  rank: ".concat(s)),l.push("  shape: [".concat(e,"]")),l.push("  values:")),l.push(a.map(c=>"    "+c).join("\n")),l.join("\n")}function Dde(t,e,n,i){const o=ge(e),r=i[i.length-1],s=new Array(r).fill(0),a=e.length,l=n==="complex64"?uf(t):t;if(a>1)for(let c=0;c<o/r;c++){const u=c*r;for(let d=0;d<r;d++)s[d]=Math.max(s[d],cf(l[u+d],0,n).length)}return s}function cf(t,e,n){let i;return Array.isArray(t)?i="".concat(parseFloat(t[0].toFixed(Y2))," + ")+"".concat(parseFloat(t[1].toFixed(Y2)),"j"):Zm(t)?i="'".concat(t,"'"):n==="bool"?i=FL(t):i=parseFloat(t.toFixed(Y2)).toString(),gh(i,e)}function FL(t){return t===0?"false":"true"}function jb(t,e,n,i,o,r=!0){const s=n==="complex64"?2:1,a=e[0],l=e.length;if(l===0){if(n==="complex64"){const m=uf(t);return[cf(m[0],0,n)]}return n==="bool"?[FL(t[0])]:[t[0].toString()]}if(l===1){if(a>DA){const b=Zp*s;let g=Array.from(t.slice(0,b)),x=Array.from(t.slice((a-Zp)*s,a*s));return n==="complex64"&&(g=uf(g),x=uf(x)),["["+g.map((y,v)=>cf(y,o[v],n)).join(", ")+", ..., "+x.map((y,v)=>cf(y,o[a-Zp+v],n)).join(", ")+"]"]}return["["+(n==="complex64"?uf(t):Array.from(t)).map((b,g)=>cf(b,o[g],n)).join(", ")+"]"]}const c=e.slice(1),u=i.slice(1),d=i[0]*s,h=[];if(a>DA){for(let m=0;m<Zp;m++){const b=m*d,g=b+d;h.push(...jb(t.slice(b,g),c,n,u,o,!1))}h.push("...");for(let m=a-Zp;m<a;m++){const b=m*d,g=b+d;h.push(...jb(t.slice(b,g),c,n,u,o,m===a-1))}}else for(let m=0;m<a;m++){const b=m*d,g=b+d;h.push(...jb(t.slice(b,g),c,n,u,o,m===a-1))}const p=l===2?",":"";h[0]="["+(a>0?h[0]+p:"");for(let m=1;m<h.length-1;m++)h[m]=" "+h[m]+p;let f=",\n";for(let m=2;m<l;m++)f+="\n";return h[h.length-1]=" "+h[h.length-1]+"]"+(r?"":f),h}function uf(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ei{constructor(e,n,i){if(this.dtype=n,this.shape=e.slice(),this.size=ge(e),i!=null){const o=i.length;M(o===this.size,()=>"Length of values '".concat(o,"' does not match the size ")+"inferred by the shape '".concat(this.size,"'."))}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=i||Pn(n,this.size),this.strides=nt(e)}set(e,...n){n.length===0&&(n=[0]),M(n.length===this.rank,()=>"The number of provided coordinates (".concat(n.length,") must ")+"match the rank (".concat(this.rank,")"));const i=this.locToIndex(n);this.values[i]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const o of e){if(o<0||o>=this.shape[n]){const r="Requested out of range element at ".concat(e,". ")+"  Buffer shape=".concat(this.shape);throw new Error(r)}n++}let i=e[e.length-1];for(let o=0;o<e.length-1;++o)i+=this.strides[o]*e[o];return this.values[i]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let i=0;i<e.length-1;++i)n+=this.strides[i]*e[i];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let i=0;i<n.length-1;++i)n[i]=Math.floor(e/this.strides[i]),e-=n[i]*this.strides[i];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return gs().makeTensor(this.values,this.shape,this.dtype)}}let gs=null,Ud=null;function Rde(t){gs=t}function Lde(t){Ud=t}class Zt{constructor(e,n,i,o){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=ge(e),this.strides=nt(e),this.dataId=i,this.id=o,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Ud.buffer(this.shape,this.dtype,e)}bufferSync(){return Ud.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Xr(this.shape,e,this.dtype==="complex64")}arraySync(){return Xr(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=gs().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(i=>ec(i))}catch(i){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),gs().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=gs().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>ec(n))}catch(n){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await gs().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),gs().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Ud.print(this,e)}clone(){return this.throwIfDisposed(),Ud.clone(this)}toString(e=!1){const n=this.dataSync();return Ode(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Ud.cast(this,e)}variable(e=!0,n,i){return this.throwIfDisposed(),gs().makeVariable(this,e,n,i)}}Object.defineProperty(Zt,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function be(){return fT("Tensor",()=>Zt)}be();class Xx extends Zt{constructor(e,n,i,o){super(e.shape,e.dtype,e.dataId,o),this.trainable=n,this.name=i}assign(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!Nt(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));gs().disposeTensor(this),this.dataId=e.dataId,gs().incRef(this,null)}dispose(){gs().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(Xx,Symbol.hasInstance,{value:t=>t instanceof Zt&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var RA;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(RA||(RA={}));var lS;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(lS||(lS={}));var cS;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(cS||(cS={}));var uS;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(uS||(uS={}));var dS;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(dS||(dS={}));const zde={float32:uS,int32:lS,bool:cS,complex64:dS};function Go(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error("Can not upcast ".concat(t," with ").concat(e))}return zde[t][e]}function vE(t){return Go(t,"int32")}function PL(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function BL(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rn(t,e){if(t.dtype===e.dtype)return[t,e];const n=Go(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function Fde(t,e){M(t.dtype===e.dtype,()=>"The dtypes of the first(".concat(t.dtype,") and")+" second(".concat(e.dtype,") input must match"))}function ML(t){const e=[];return jL(t,e,new Set),e}function jL(t,e,n){if(t==null)return;if(t instanceof Zt){e.push(t);return}if(!Pde(t))return;const i=t;for(const o in i){const r=i[o];n.has(r)||(n.add(r),jL(r,e,n))}}function Pde(t){return Array.isArray(t)||typeof t=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z2(t){return t.kernelName!=null}class LA{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Mh{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new LA}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const i=e[n];if(await this.initializeBackend(i).success){await this.setBackend(i);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error("The highest priority backend '".concat(e,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,i=1){return e in this.registryFactory?(sr("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:n,priority:i},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error("Backend name '".concat(e,"' not found in registry"));if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:i}=this.initializeBackend(e);if(!(i?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Ide(this.backendInstance),!0}setupRegisteredKernels(){IA(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){IA(e).forEach(i=>{i.disposeFunc!=null&&i.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{const i=n.factory();if(i&&!(i instanceof dT)&&typeof i.then=="function"){const o=++this.pendingBackendInitId,r=i.then(s=>o<this.pendingBackendInitId?!1:(this.registry[e]=s,this.pendingBackendInit=null,!0)).catch(s=>(o<this.pendingBackendInitId||(this.pendingBackendInit=null,sr("Initialization of backend ".concat(e," failed")),sr(s.stack||s.message)),!1));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}else return this.registry[e]=i,{success:!0,asyncInit:!1}}catch(i){return sr("Initialization of backend ".concat(e," failed")),sr(i.stack||i.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const i=e[n],{success:o,asyncInit:r}=this.initializeBackend(i);if(r||o)return{name:i,asyncInit:r}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const i=this.state.tensorInfo.get(n),o=i.backend,r=this.readSync(n),s=o.refCount(n);o.disposeData(n,!0),i.backend=e,e.move(n,r,i.shape,i.dtype,s),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let i=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}let o;return this.scopedRun(()=>this.startScope(i),()=>this.endScope(o),()=>(o=n(),o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),o))}scopedRun(e,n,i){e();try{const o=i();return n(),o}catch(o){throw n(),o}}nextTensorId(){return Mh.nextTensorId++}nextVariableId(){return Mh.nextVariableId++}clone(e){const n=ee.runKernel(xg,{x:e}),i={x:e},o=s=>({x:()=>{const a="float32",l={x:s},c={dtype:a};return ee.runKernel(rg,l,c)}}),r=[];return this.addTapeNode(this.state.activeScope.name,i,[n],o,r,{}),n}runKernel(e,n,i){if(this.backendName==null&&this.backend,!(rS(e,this.backendName)!=null))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:n,attrs:i})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,i){const o=this.backend.numDataIds();let r=0;i.forEach(l=>{r+=l.dtype==="complex64"?3:1});const s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=o-n-r-s;if(a>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(a," data ids) after running '").concat(e,"'"))}runKernelFunc(e){let n,i=[];const o=this.isTapeOn(),r=this.state.numBytes,s=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let a;this.backendName==null&&this.backend;let l;const c=Z2(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(Z2(e)){const{kernelName:f,inputs:m,attrs:b}=e;this.backendName==null&&this.backend;const g=rS(f,this.backendName);M(g!=null,()=>"Cannot find registered kernel '".concat(f,"' for backend '").concat(this.backendName,"'")),a=()=>{const x=this.backend.numDataIds();l=g.kernelFunc({inputs:m,attrs:b,backend:this.backend});const y=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(f,x,y);const v=y.map(w=>w.rank!=null?w:this.makeTensorFromTensorInfo(w));if(o){const w=this.getTensorsForGradient(f,m,v);i=this.saveTensorsForBackwardMode(w)}return v}}else{const{forwardFunc:f}=e,m=b=>{o&&(i=b.map(g=>this.keep(this.clone(g))))};a=()=>{const b=this.backend.numDataIds();l=this.tidy(()=>f(this.backend,m));const g=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,b,g),g}}const{inputs:u,attrs:d}=e,h=Z2(e)?null:e.backwardsFunc;let p;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=a():(p=this.profiler.profileKernel(c,u,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),n=p.outputs)}),o&&this.addTapeNode(c,u,n,h,i,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-r,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map(f=>u[f]!=null?u[f].shape:null),outputShapes:n.map(f=>f.shape),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(i=>this.keep(this.clone(i)))}getTensorsForGradient(e,n,i){const o=EA(e);if(o!=null){const r=o.inputsToSave||[],s=o.outputsToSave||[];let a;o.saveAllInputs?(M(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(n).map(c=>n[c])):a=r.map(c=>n[c]);const l=i.filter((c,u)=>s[u]);return a.concat(l)}return[]}makeTensor(e,n,i,o){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");i=i||"float32",o=o||this.backend;let r=e;i==="string"&&Zm(e[0])&&(r=e.map(l=>Wl(l)));const s=o.write(r,n,i),a=new Zt(n,i,s,this.nextTensorId());if(this.trackTensor(a,o),i==="string"){const l=this.state.tensorInfo.get(s),c=ode(r);this.state.numBytes+=c-l.bytes,l.bytes=c}return a}makeTensorFromDataId(e,n,i,o){i=i||"float32";const r={dataId:e,shape:n,dtype:i};return this.makeTensorFromTensorInfo(r,o)}makeTensorFromTensorInfo(e,n){const{dataId:i,shape:o,dtype:r}=e,s=new Zt(o,r,i,this.nextTensorId());return this.trackTensor(s,n),s}makeVariable(e,n=!0,i,o){i=i||this.nextVariableId().toString(),o!=null&&o!==e.dtype&&(e=e.cast(o));const r=new Xx(e,n,i,this.nextTensorId());if(this.state.registeredVariables[r.name]!=null)throw new Error("Variable with name ".concat(r.name," was already registered"));return this.state.registeredVariables[r.name]=r,this.incRef(r,this.backend),r}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let i=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(i=e.size*Vx(e.dtype)),this.state.numBytes+=i,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:i})),e instanceof Xx||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const i=e.size*Vx(e.dtype);this.state.numBytes-=i}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,i=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(o=>o.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-i;for(const o of this.state.activeProfile.kernels)o.kernelTimeMs=await o.kernelTimeMs,o.extraInfo=await o.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,i,o,r,s){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:i,saved:r},l=EA(e);l!=null&&(o=l.gradFunc),o!=null&&(a.gradient=c=>(c=c.map((u,d)=>{if(u==null){const h=i[d],p=Xi(h.size,h.dtype);return this.makeTensor(p,h.shape,h.dtype)}return u}),o(c.length>1?c:c[0],r,s))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=ML(e),i=new Set(n.map(r=>r.id));for(let r=0;r<this.state.activeScope.track.length;r++){const s=this.state.activeScope.track[r];!s.kept&&!i.has(s.id)&&s.dispose()}const o=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(r=>{!r.kept&&r.scopeId===o.id&&this.track(r)})}gradients(e,n,i,o=!1){if(M(n.length>0,()=>"gradients() received an empty list of xs."),i!=null&&i.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '".concat(i.dtype,"'"));const r=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));M(r instanceof Zt,()=>"The result y returned by f() must be a tensor.");const s=Ade(this.state.activeTape,n,r);if(!o&&s.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const a={};a[r.id]=i==null?Bde(r.shape):i,Nde(a,s,c=>this.tidy(c),Mde);const l=n.map(c=>a[c.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(c=>{for(const u of c.saved)u.dispose()}),this.state.activeTape=null),{value:r,grads:l}})}customGrad(e){return M(Q3(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{M(n.every(a=>a instanceof Zt),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let i;const o={};n.forEach((a,l)=>{o[l]=a});const r=(a,l)=>(i=e(...n,l),M(i.value instanceof Zt,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),M(Q3(i.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),i.value),s=(a,l)=>{const c=i.gradFunc(a,l),u=Array.isArray(c)?c:[c];M(u.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),M(u.every(h=>h instanceof Zt),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return u.forEach((h,p)=>{d[p]=()=>h}),d};return this.runKernelFunc({forwardFunc:r,backwardsFunc:s,inputs:o})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=mo(),i=await this.backend.time(e);return i.wallMs=mo()-n,i}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new LA;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Mh.nextTensorId=0;Mh.nextVariableId=0;function Bde(t){const e=pT(ge(t),"float32");return ee.makeTensor(e,t,"float32")}function UL(){const t=TL();if(t._tfengine==null){const e=new ade(t);t._tfengine=new Mh(e)}return dde(t._tfengine.ENV),Rde(()=>t._tfengine),t._tfengine}const ee=UL();function Mde(t,e){const n={a:t,b:e};return ee.runKernel(gp,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jde(){return typeof navigator<"u"&&navigator!=null}function VL(t){if(t||jde()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function HL(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const To=pe();To.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});To.registerFlag("IS_BROWSER",()=>HL());To.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");To.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));To.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));To.registerFlag("PROD",()=>!1);To.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>To.getBool("DEBUG"));To.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);To.registerFlag("IS_TEST",()=>!1);To.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>To.getBool("DEBUG"));To.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);To.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);To.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vc(t,e){let n=t;if(ts(t))return e==="string"?[]:[t.length];if(PL(t)){const o=t.channels||"RGBA";return[t.height,t.width*o.length]}else if(BL(t))return[t.buffer.size/(e==null?4:Vx(e))];if(!Array.isArray(t))return[];const i=[];for(;Array.isArray(n)||ts(n)&&e!=="string";)i.push(n.length),n=n[0];return Array.isArray(t)&&pe().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&WL(t,i,[]),i}function WL(t,e,n){if(n=n||[],!Array.isArray(t)&&!ts(t)){M(e.length===0,()=>"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(e[0]," elements"));return}M(e.length>0,()=>"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(t.length," elements")),M(t.length===e[0],()=>"Element arr[".concat(n.join("]["),"] should have ").concat(e[0]," ")+"elements, but has ".concat(t.length," elements"));const i=e.slice(1);for(let o=0;o<t.length;++o)WL(t[o],i,n.concat(o))}function zA(t,e,n,i){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error("Argument '".concat(n,"' passed to '").concat(i,"' must ")+"be ".concat(t," tensor, but got ").concat(e," tensor"))}}function j(t,e,n,i="numeric"){if(t instanceof be())return zA(i,t.dtype,e,n),t;let o=fp(t);if(o!=="string"&&["bool","int32","float32"].indexOf(i)>=0&&(o=i),zA(i,o,e,n),t==null||!ts(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error("Argument '".concat(e,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(l,"'"))}const r=vc(t,o);!ts(t)&&!Array.isArray(t)&&(t=[t]);const a=o!=="string"?nd(t,o):Nu(t,[],!0);return ee.makeTensor(a,r,o)}function Yx(t,e,n,i="numeric"){if(!Array.isArray(t))throw new Error("Argument ".concat(e," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return t.map((r,s)=>j(r,"".concat(e,"[").concat(s,"]"),n,i))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GL="__op";function Z(t){const e=Object.keys(t);if(e.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(e.length," keys."));let n=e[0];const i=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+GL;const o=(...r)=>{ee.startScope(n);try{const s=i(...r);return Au(s)&&console.error("Cannot return a Promise inside of tidy."),ee.endScope(s),s}catch(s){throw ee.endScope(null),s}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ude(t,e){const n=j(t,"real","complex"),i=j(e,"imag","complex");Zo(n.shape,i.shape,"real and imag shapes, ".concat(n.shape," and ").concat(i.shape,", ")+"must match in call to tf.complex().");const o={real:n,imag:i};return ee.runKernel(wT,o)}const tc=Z({complex_:Ude});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wc(t,e,n,i){if(i==null)i=fp(t);else if(i==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(BL(t)||PL(t)){if(i!=="float32"&&i!=="int32")throw new Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(i,"."));return ee.backend.createTensorFromGPUData(t,e||n,i)}if(!ts(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){vr(e);const o=ge(e),r=ge(n);M(o===r,()=>"Based on the provided shape, [".concat(e,"], the tensor should have ")+"".concat(o," values but has ").concat(r));for(let s=0;s<n.length;++s){const a=n[s],l=s===n.length-1?a!==ge(e.slice(s)):!0;M(n[s]===e[s]||!l,()=>"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(e,"). "))}}return!ts(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=i!=="string"?nd(t,i):Nu(t,[],!0),ee.makeTensor(t,e,i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ss(t,e,n){const i=vc(t,n);return wc(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ou={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Ls{static join(e){return new Ls(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(i=>ts(i)?i.buffer:i),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let i=0;i<e.length;i++){const o=e[i];i!==e.length-1&&o.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const r=n+o.byteLength;this.shards.push({buffer:o,start:n,end:r}),n=r}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const i=this.findShardForByte(e);if(i===-1)throw new Error("Could not find start shard for byte ".concat(e));const o=n-e,r=new ArrayBuffer(o),s=new Uint8Array(r);let a=0;for(let l=i;l<this.shards.length;l++){const c=this.shards[l],d=e+a-c.start,h=a,f=Math.min(n,c.end)-c.start,m=new Uint8Array(c.buffer,d,f-d);if(s.set(m,h),a+=m.length,n<c.end)break}return r}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(o){return e<o.start?-1:e>=o.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const i=Vde(this.shards,n);return i===-1?-1:(this.previousShardIndex=i,this.previousShardIndex)}}function Vde(t,e){let n=0,i=t.length;for(;n<=i;){const o=Math.floor((i-n)/2)+n,r=e(t[o]);if(r===0)return o;r<0?i=o:n=o+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bs(){return ee}function FA(){return ee.memory()}function ce(t,e){return ee.tidy(t,e)}function pt(t){ML(t).forEach(n=>n.dispose())}function hi(t){return ee.keep(t)}function Hde(t){return ee.setBackend(t)}function Wde(){return ee.ready()}function Gde(){return ee.backendName}function qL(t,e,n=1){return ee.registerBackend(t,e,n)}function KL(){return ee.backend}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nc=4;async function hS(t,e){const n=[],i=[],o=Array.isArray(t)?t.map(s=>s.name):Object.keys(t);for(let s=0;s<o.length;++s){const a=o[s],l=Array.isArray(t)?t[s].tensor:t[a];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error("Unsupported dtype in weight '".concat(a,"': ").concat(l.dtype));const c={name:a,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const u=new Promise(async d=>{const h=await l.bytes(),p=h.reduce((b,g)=>b+g.length,0)+nc*h.length,f=new Uint8Array(p);let m=0;for(let b=0;b<h.length;b++){const g=h[b],x=new Uint8Array(new Uint32Array([g.length]).buffer);f.set(x,m),m+=nc,f.set(g,m),m+=g.length}d(f)});i.push(u)}else i.push(l.data());e!=null&&(c.group=e),n.push(c)}const r=await Promise.all(i);return{data:Xde(r),specs:n}}function XL(t,e){const n=new Ls(t),i={};let o=0;for(const r of e){const s=qde(r,(a,l)=>n.slice(o+a,o+l));i[r.name]=YL(r,n.slice(o,o+s)),o+=s}return i}function qde(t,e){const n=ge(t.shape);let i;if("quantization"in t){const o=t.quantization;i=Ou[o.dtype]}else if(t.dtype==="string"){let o=0;for(let r=0;r<n;r++)o+=nc+new Uint32Array(e(o,o+nc))[0];return o}else i=Ou[t.dtype];return n*i}async function Kde(t,e){const n=ge(t.shape);let i;if("quantization"in t){const o=t.quantization;i=Ou[o.dtype]}else if(t.dtype==="string"){let o=0;for(let r=0;r<n;r++)o+=nc+new Uint32Array(await e(o,o+nc))[0];return o}else i=Ou[t.dtype];return n*i}function YL(t,e){const n=t.name,i=t.dtype,o=t.shape,r=ge(o);let s,a=0;if("quantization"in t){const l=t.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error("Weight ".concat(t.name," with quantization ").concat(l.dtype," ")+"doesn't have corresponding metadata min and scale.")}else if(l.dtype==="float16"){if(i!=="float32")throw new Error("Weight ".concat(t.name," is quantized with ").concat(l.dtype," ")+"which only supports weights of type float32 not ".concat(i,"."))}else throw new Error("Weight ".concat(t.name," has unknown ")+"quantization dtype ".concat(l.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");const c=Ou[l.dtype],u=l.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(i==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){s=new Float32Array(u.length);for(let d=0;d<u.length;d++){const h=u[d];s[d]=h*l.scale+l.min}}else if(l.dtype==="float16")s=the()(u);else throw new Error("Unsupported quantization type ".concat(l.dtype," ")+"for weight type float32.");else if(i==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error("Unsupported quantization type ".concat(l.dtype," ")+"for weight type int32.");s=new Int32Array(u.length);for(let d=0;d<u.length;d++){const h=u[d];s[d]=Math.round(h*l.scale+l.min)}}else throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(i));a+=r*c}else if(i==="string"){const l=ge(t.shape);s=[];for(let c=0;c<l;c++){const u=new Uint32Array(e.slice(a,a+nc))[0];a+=nc;const d=new Uint8Array(e.slice(a,a+u));s.push(d),a+=u}}else{const l=Ou[i];if(i==="float32")s=new Float32Array(e);else if(i==="int32")s=new Int32Array(e);else if(i==="bool")s=new Uint8Array(e);else if(i==="complex64"){s=new Float32Array(e);const c=new Float32Array(s.length/2),u=new Float32Array(s.length/2);for(let f=0;f<c.length;f++)c[f]=s[f*2],u[f]=s[f*2+1];const d=Ss(c,o,"float32"),h=Ss(u,o,"float32"),p=tc(d,h);return d.dispose(),h.dispose(),p}else throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(i));a+=r*l}return Ss(s,o,i)}async function PA(t,e,n){let i=new Uint8Array(e);for(;i.byteLength<n;){const{done:o,value:r}=await t.read();if(o&&r==null){const a=n-i.byteLength;throw new Error("Reader is done but ".concat(a," bytes are still expected"))}const s=new Uint8Array(i.length+r.byteLength);s.set(i,0),s.set(new Uint8Array(r),i.length),i=s}return i.buffer}async function ZL(t,e){const n={},i=t.getReader();let o=new ArrayBuffer(0);for(const r of e){const s=await Kde(r,async(c,u)=>(o=await PA(i,o,u),o.slice(c,u)));o=await PA(i,o,s);const a=o.slice(0,s);o=o.slice(s);const l=YL(r,a);if(n[r.name]=l,Gde()==="webgpu"){const c=KL();"uploadToGPU"in c&&ge(l.shape)>=pe().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&c.uploadToGPU(l.dataId)}}return n}function Xde(t){if(t===null)throw new Error("Invalid input value: ".concat(JSON.stringify(t)));let e=0;const n=[];t.forEach(r=>{if(e+=r.byteLength,n.push(r.byteLength===r.buffer.byteLength?r:new r.constructor(r)),!(r instanceof Float32Array||r instanceof Int32Array||r instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(r.constructor.name))});const i=new Uint8Array(e);let o=0;return n.forEach(r=>{i.set(new Uint8Array(r.buffer),o),o+=r.byteLength}),i.buffer}const wE=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function BA(t){return wE?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function Yde(t){if(wE)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let i=0,o=e.length;i<o;i++)n+=String.fromCharCode(e[i]);return btoa(n)}function Zde(t){if(wE){const i=Buffer.from(t,"base64");return i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;++i)n.set([e.charCodeAt(i)],i);return n.buffer}function JL(t){return Ls.join(t)}function MA(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function QL(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function ez(t,e,n){const i={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(i.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");i.weightSpecs=e,i.weightData=n}return t.signature!=null&&(i.signature=t.signature),t.userDefinedMetadata!=null&&(i.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(i.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(i.initializerSignature=t.initializerSignature),i}async function kE(t,e){let n,i;return t.weightsManifest!=null&&([n,i]=await e(t.weightsManifest)),ez(t,n,i)}function qg(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:BA(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:BA(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new Ls(t.weightData).byteLength}}function pS(t){const e=[];for(const n of t)e.push(...n.weights);return e}function Jde(){const t=n=>{let i=n<<13,o=0;for(;!(i&8388608);)o-=8388608,i<<=1;return i&=-8388609,o+=947912704,i|o},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function Qde(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function ehe(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function the(){const t=Jde(),e=Qde(),n=ehe();return i=>{const o=new ArrayBuffer(4*i.length),r=new Uint32Array(o);for(let s=0;s<i.length;s++){const a=i[s],l=t[n[a>>10]+(a&1023)]+e[a>>10];r[s]=l}return new Float32Array(o)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Sn{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Sn.instance==null&&(Sn.instance=new Sn),Sn.instance}static registerSaveRouter(e){Sn.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Sn.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Sn.getHandlers(e,"save")}static getLoadHandlers(e,n){return Sn.getHandlers(e,"load",n)}static getHandlers(e,n,i){const o=[];return(n==="load"?Sn.getInstance().loadRouters:Sn.getInstance().saveRouters).forEach(s=>{const a=s(e,i);a!==null&&o.push(a)}),o}}const nhe=t=>Sn.registerSaveRouter(t),ihe=t=>Sn.registerLoadRouter(t),tz=t=>Sn.getSaveHandlers(t),ohe=(t,e)=>Sn.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fS="tensorflowjs",mS=1,ru="models_store",Nl="model_info_store";function nz(){if(!pe().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function gS(t){const e=t.result;e.createObjectStore(ru,{keyPath:"modelPath"}),e.createObjectStore(Nl,{keyPath:"modelPath"})}class Du{constructor(e){if(this.indexedDB=nz(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((i,o)=>{const r=this.indexedDB.open(fS,mS);r.onupgradeneeded=()=>gS(r),r.onsuccess=()=>{const s=r.result;if(n==null){const a=s.transaction(ru,"readonly"),c=a.objectStore(ru).get(this.modelPath);c.onsuccess=()=>{if(c.result==null)return s.close(),o(new Error("Cannot find model with path '".concat(this.modelPath,"' ")+"in IndexedDB."));i(c.result.modelArtifacts)},c.onerror=u=>(s.close(),o(c.error)),a.oncomplete=()=>s.close()}else{n.weightData=Ls.join(n.weightData);const a=qg(n),l=s.transaction(Nl,"readwrite");let c=l.objectStore(Nl),u;try{u=c.put({modelPath:this.modelPath,modelArtifactsInfo:a})}catch(h){return o(h)}let d;u.onsuccess=()=>{d=s.transaction(ru,"readwrite");const h=d.objectStore(ru);let p;try{p=h.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:a})}catch(f){return o(f)}p.onsuccess=()=>i({modelArtifactsInfo:a}),p.onerror=f=>{c=l.objectStore(Nl);const m=c.delete(this.modelPath);m.onsuccess=()=>(s.close(),o(p.error)),m.onerror=b=>(s.close(),o(p.error))}},u.onerror=h=>(s.close(),o(u.error)),l.oncomplete=()=>{d==null?s.close():d.oncomplete=()=>s.close()}}},r.onerror=s=>o(r.error)})}}Du.URL_SCHEME="indexeddb://";const iz=t=>pe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Du.URL_SCHEME)?rhe(t.slice(Du.URL_SCHEME.length)):null;Sn.registerSaveRouter(iz);Sn.registerLoadRouter(iz);function rhe(t){return new Du(t)}function she(t){return t.startsWith(Du.URL_SCHEME)?t.slice(Du.URL_SCHEME.length):t}class ahe{constructor(){this.indexedDB=nz()}async listModels(){return new Promise((e,n)=>{const i=this.indexedDB.open(fS,mS);i.onupgradeneeded=()=>gS(i),i.onsuccess=()=>{const o=i.result,r=o.transaction(Nl,"readonly"),a=r.objectStore(Nl).getAll();a.onsuccess=()=>{const l={};for(const c of a.result)l[c.modelPath]=c.modelArtifactsInfo;e(l)},a.onerror=l=>(o.close(),n(a.error)),r.oncomplete=()=>o.close()},i.onerror=o=>n(i.error)})}async removeModel(e){return e=she(e),new Promise((n,i)=>{const o=this.indexedDB.open(fS,mS);o.onupgradeneeded=()=>gS(o),o.onsuccess=()=>{const r=o.result,s=r.transaction(Nl,"readwrite"),a=s.objectStore(Nl),l=a.get(e);let c;l.onsuccess=()=>{if(l.result==null)return r.close(),i(new Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));{const u=a.delete(e),d=()=>{c=r.transaction(ru,"readwrite");const p=c.objectStore(ru).delete(e);p.onsuccess=()=>n(l.result.modelArtifactsInfo),p.onerror=f=>i(l.error)};u.onsuccess=d,u.onerror=h=>(d(),r.close(),i(l.error))}},l.onerror=u=>(r.close(),i(l.error)),s.oncomplete=()=>{c==null?r.close():c.oncomplete=()=>r.close()}},o.onerror=r=>i(o.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ia="/",Vd="tensorflowjs_models",oz="info",lhe="model_topology",che="weight_specs",uhe="weight_data",dhe="model_metadata";function rz(t){return{info:[Vd,t,oz].join(Ia),topology:[Vd,t,lhe].join(Ia),weightSpecs:[Vd,t,che].join(Ia),weightData:[Vd,t,uhe].join(Ia),modelMetadata:[Vd,t,dhe].join(Ia)}}function sz(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function hhe(t){const e=t.split(Ia);if(e.length<3)throw new Error("Invalid key format: ".concat(t));return e.slice(1,e.length-1).join(Ia)}function phe(t){return t.startsWith(Ru.URL_SCHEME)?t.slice(Ru.URL_SCHEME.length):t}class Ru{constructor(e){if(!pe().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=rz(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),i=JSON.stringify(e.weightSpecs),o=qg(e),r=Ls.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,i),this.LS.setItem(this.keys.weightData,Yde(r));const s={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(s)),{modelArtifactsInfo:o}}catch(s){throw sz(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(o.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(o.weightSpecsBytes,", ")+"weightDataBytes=".concat(o.weightDataBytes,"."))}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},i=JSON.parse(this.LS.getItem(this.keys.topology));if(i==null)throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");n.modelTopology=i;const o=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(o==null)throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");n.weightSpecs=o;const r=this.LS.getItem(this.keys.modelMetadata);if(r!=null){const a=JSON.parse(r);n.format=a.format,n.generatedBy=a.generatedBy,n.convertedBy=a.convertedBy,a.signature!=null&&(n.signature=a.signature),a.userDefinedMetadata!=null&&(n.userDefinedMetadata=a.userDefinedMetadata),a.modelInitializer!=null&&(n.modelInitializer=a.modelInitializer),a.initializerSignature!=null&&(n.initializerSignature=a.initializerSignature),a.trainingConfig!=null&&(n.trainingConfig=a.trainingConfig)}const s=this.LS.getItem(this.keys.weightData);if(s==null)throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));return n.weightData=Zde(s),n}}Ru.URL_SCHEME="localstorage://";const az=t=>pe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Ru.URL_SCHEME)?fhe(t.slice(Ru.URL_SCHEME.length)):null;Sn.registerSaveRouter(az);Sn.registerLoadRouter(az);function fhe(t){return new Ru(t)}class mhe{constructor(){M(pe().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),M(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Vd+Ia,i=Ia+oz;for(let o=0;o<this.LS.length;++o){const r=this.LS.key(o);if(r.startsWith(n)&&r.endsWith(i)){const s=hhe(r);e[s]=JSON.parse(this.LS.getItem(r))}}return e}async removeModel(e){e=phe(e);const n=rz(e);if(this.LS.getItem(n.info)==null)throw new Error("Cannot find model at path '".concat(e,"'"));const i=JSON.parse(this.LS.getItem(n.info));return sz(n),i}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xh="://";class Qi{constructor(){this.managers={}}static getInstance(){return Qi.instance==null&&(Qi.instance=new Qi),Qi.instance}static registerManager(e,n){M(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(xh)&&(e=e.slice(0,e.indexOf(xh))),M(e.length>0,()=>"scheme must not be an empty string.");const i=Qi.getInstance();M(i.managers[e]==null,()=>"A model store manager is already registered for scheme '".concat(e,"'.")),i.managers[e]=n}static getManager(e){const n=Qi.getInstance().managers[e];if(n==null)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return n}static getSchemes(){return Object.keys(Qi.getInstance().managers)}}function Ub(t){if(t.indexOf(xh)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(Qi.getSchemes().join(",")));return{scheme:t.split(xh)[0],path:t.split(xh)[1]}}async function lz(t,e,n=!1){M(t!==e,()=>"Old path and new path are the same: '".concat(t,"'"));const i=Sn.getLoadHandlers(t);M(i.length>0,()=>"Copying failed because no load handler is found for source URL ".concat(t,".")),M(i.length<2,()=>"Copying failed because more than one (".concat(i.length,") ")+"load handlers for source URL ".concat(t,"."));const o=i[0],r=Sn.getSaveHandlers(e);M(r.length>0,()=>"Copying failed because no save handler is found for destination "+"URL ".concat(e,".")),M(r.length<2,()=>"Copying failed because more than one (".concat(i.length,") ")+"save handlers for destination URL ".concat(e,"."));const s=r[0],a=Ub(t).scheme,l=Ub(t).path,c=a===Ub(t).scheme,u=await o.load();n&&c&&await Qi.getManager(a).removeModel(l);const d=await s.save(u);return n&&!c&&await Qi.getManager(a).removeModel(l),d.modelArtifactsInfo}async function ghe(){const t=Qi.getSchemes(),e={};for(const n of t){const i=await Qi.getManager(n).listModels();for(const o in i){const r=n+xh+o;e[r]=i[o]}}return e}async function bhe(t){const e=Ub(t);return Qi.getManager(e.scheme).removeModel(e.path)}async function xhe(t,e){return lz(t,e,!1)}async function yhe(t,e){return lz(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vhe{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got ".concat(n));return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!pe().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",i=>{if(i.source===window&&i.data.name===this.messageName){i.stopPropagation();const o=this.functionRefs[i.data.index];o(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return _L(e)}}if(pe().get("IS_BROWSER")){pe().setPlatform("browser",new vhe);try{Qi.registerManager(Ru.URL_SCHEME,new mhe)}catch(t){}try{Qi.registerManager(Du.URL_SCHEME,new ahe)}catch(t){}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const whe={importFetch:()=>require("node-fetch")};let J2;class khe{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return pe().global.fetch!=null?pe().global.fetch(e,n):(J2==null&&(J2=whe.importFetch()),J2(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got ".concat(n));return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}pe().get("IS_NODE")&&!pe().get("IS_BROWSER")&&pe().setPlatform("node",new khe);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xt(t,e="float32",n){return e=e||"float32",vr(t),new ei(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function She(t,e){const n=j(t,"x","cast");if(!ide(e))throw new Error("Failed to cast to unknown dtype ".concat(e));if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const i={x:n},o={dtype:e};return ee.runKernel(rg,i,o)}const Pe=Z({cast_:She});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Che(t){const n={x:j(t,"x","clone","string_or_numeric")};return ee.runKernel(xg,n)}const Ba=Z({clone_:Che});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cz(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */UL();const The={buffer:xt,cast:Pe,clone:Ba,print:cz};Lde(The);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ehe(t,e){let n=j(t,"a","add"),i=j(e,"b","add");[n,i]=Rn(n,i);const o={a:n,b:i};return ee.runKernel(gp,o)}const Se=Z({add_:Ehe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ihe(t,e){let n=j(t,"a","floorDiv"),i=j(e,"b","floorDiv");[n,i]=Rn(n,i);const o={a:n,b:i};return ee.runKernel(gg,o)}const SE=Z({floorDiv_:Ihe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _he(t,e){let n=j(t,"a","div"),i=j(e,"b","div");if([n,i]=Rn(n,i),n.dtype==="int32"&&i.dtype==="int32")return SE(n,i);const o={a:n,b:i},r={};return ee.runKernel(ug,o,r)}const Ue=Z({div_:_he});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $he(t,e){let n=j(t,"a","mul"),i=j(e,"b","mul");[n,i]=Rn(n,i);const o={a:n,b:i};return ee.runKernel(Ig,o)}const Q=Z({mul_:$he});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ahe(t){const e=j(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return ee.runKernel(jy,n)}else{const n={x:e};return ee.runKernel(Oy,n)}}const Xn=Z({abs_:Ahe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nhe(t){const n={x:j(t,"x","acos")};return ee.runKernel(Jm,n)}const uz=Z({acos_:Nhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ohe(t){const n={x:j(t,"x","acosh")};return ee.runKernel(Qm,n)}const dz=Z({acosh_:Ohe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dhe(t){M(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),M(t.length>=1,()=>"Must pass at least one tensor to tf.addN(), but got "+"".concat(t.length));const e=t.map((o,r)=>j(o,"tensors".concat(r),"addN")),n=e[0];e.forEach(o=>{if(o.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(o=>{if(!Nt(o.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const i=e;return ee.runKernel(Dy,i)}const Rhe=Z({addN_:Dhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lhe(t,e=null,n=!1){const o={x:j(t,"x","all","bool")},r={axis:e,keepDims:n};return ee.runKernel(mT,o,r)}const CE=Z({all_:Lhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zhe(t,e=null,n=!1){const o={x:j(t,"x","any","bool")},r={axis:e,keepDims:n};return ee.runKernel(gT,o,r)}const Zx=Z({any_:zhe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fhe(t,e=0){const i={x:j(t,"x","argMax")},o={axis:e};return ee.runKernel(Ry,i,o)}const jh=Z({argMax_:Fhe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Phe(t,e=0){const i={x:j(t,"x","argMin")},o={axis:e};return ee.runKernel(Ly,i,o)}const hz=Z({argMin_:Phe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bhe(t){const n={x:j(t,"x","asin")};return ee.runKernel(eg,n)}const pz=Z({asin_:Bhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mhe(t){const n={x:j(t,"x","asinh")};return ee.runKernel(tg,n)}const fz=Z({asinh_:Mhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jhe(t){const n={x:j(t,"x","atan")};return ee.runKernel(ng,n)}const mz=Z({atan_:jhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uhe(t,e){let n=j(t,"a","atan2"),i=j(e,"b","atan2");[n,i]=Rn(n,i);const o={a:n,b:i};return ee.runKernel(og,o)}const gz=Z({atan2_:Uhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vhe(t){const n={x:j(t,"x","atanh")};return ee.runKernel(ig,n)}const bz=Z({atanh_:Vhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kg(t,e,n,i,o="NHWC",r){const s=t[3],a=[...e,s],l=el(o);return gi(t,a,n,r,i,null,null,l)}function ss(t,e,n,i,o,r,s="channelsLast"){const[a,l]=um(e);let c;if(s==="channelsLast")c=[a,l,t[3],t[3]];else if(s==="channelsFirst")c=[a,l,t[1],t[1]];else throw new Error("Unknown dataFormat ".concat(s));return gi(t,c,n,i,o,r,!1,s)}function Qa(t,e,n,i,o,r,s="NDHWC"){const[a,l,c]=bS(e);let u,d;if(s==="NDHWC")d="channelsLast",u=[a,l,c,t[4],t[4]];else if(s==="NCDHW")d="channelsFirst",u=[a,l,c,t[1],t[1]];else throw new Error("Unknown dataFormat ".concat(s));return kc(t,u,n,i,o,!1,d,r)}function gi(t,e,n,i,o,r,s=!1,a="channelsLast"){let[l,c,u,d]=[-1,-1,-1,-1];if(a==="channelsLast")[l,c,u,d]=t;else if(a==="channelsFirst")[l,d,c,u]=t;else throw new Error("Unknown dataFormat ".concat(a));const[h,p,,f]=e,[m,b]=um(n),[g,x]=um(i),y=yh(h,g),v=yh(p,x),{padInfo:w,outHeight:C,outWidth:S}=Ghe(o,c,u,m,b,y,v,r,a),E=s?f*d:f;let I;return a==="channelsFirst"?I=[l,E,C,S]:a==="channelsLast"&&(I=[l,C,S,E]),{batchSize:l,dataFormat:a,inHeight:c,inWidth:u,inChannels:d,outHeight:C,outWidth:S,outChannels:E,padInfo:w,strideHeight:m,strideWidth:b,filterHeight:h,filterWidth:p,effectiveFilterHeight:y,effectiveFilterWidth:v,dilationHeight:g,dilationWidth:x,inShape:t,outShape:I,filterShape:e}}function kc(t,e,n,i,o,r=!1,s="channelsLast",a){let[l,c,u,d,h]=[-1,-1,-1,-1,-1];if(s==="channelsLast")[l,c,u,d,h]=t;else if(s==="channelsFirst")[l,h,c,u,d]=t;else throw new Error("Unknown dataFormat ".concat(s));const[p,f,m,,b]=e,[g,x,y]=bS(n),[v,w,C]=bS(i),S=yh(p,v),E=yh(f,w),I=yh(m,C),{padInfo:N,outDepth:B,outHeight:D,outWidth:P}=qhe(o,c,u,d,g,x,y,S,E,I,a),_=r?b*h:b;let L;return s==="channelsFirst"?L=[l,_,B,D,P]:s==="channelsLast"&&(L=[l,B,D,P,_]),{batchSize:l,dataFormat:s,inDepth:c,inHeight:u,inWidth:d,inChannels:h,outDepth:B,outHeight:D,outWidth:P,outChannels:_,padInfo:N,strideDepth:g,strideHeight:x,strideWidth:y,filterDepth:p,filterHeight:f,filterWidth:m,effectiveFilterDepth:S,effectiveFilterHeight:E,effectiveFilterWidth:I,dilationDepth:v,dilationHeight:w,dilationWidth:C,inShape:t,outShape:L,filterShape:e}}function Hhe(t,e,n,i,o){i==null&&(i=TE(t,e,n));const r=t[0],s=t[1],a=dm((r-e+2*i)/n+1,o),l=dm((s-e+2*i)/n+1,o);return[a,l]}function Whe(t,e,n,i,o,r){o==null&&(o=TE(t,e[0],i[0]));const s=[0,0,0,n];for(let a=0;a<3;a++)t[a]+2*o>=e[a]&&(s[a]=dm((t[a]-e[a]+2*o)/i[a]+1,r));return s}function TE(t,e,n,i=1){const o=yh(e,i);return Math.floor((t[0]*(n-1)-n+o)/2)}function um(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function bS(t){return typeof t=="number"?[t,t,t]:t}function yh(t,e){return e<=1?t:t+(t-1)*(e-1)}function Ghe(t,e,n,i,o,r,s,a,l){let c,u,d;if(typeof t=="number"){c={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const p=Hhe([e,n],r,i,t,a);u=p[0],d=p[1]}else if(t==="same"){u=Math.ceil(e/i),d=Math.ceil(n/o);const h=Math.max(0,(u-1)*i+r-e),p=Math.max(0,(d-1)*o+s-n),f=Math.floor(h/2),m=h-f,b=Math.floor(p/2),g=p-b;c={top:f,bottom:m,left:b,right:g,type:"SAME"}}else if(t==="valid")c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((e-r+1)/i),d=Math.ceil((n-s+1)/o);else if(typeof t=="object"){const h=l==="channelsLast"?t[1][0]:t[2][0],p=l==="channelsLast"?t[1][1]:t[2][1],f=l==="channelsLast"?t[2][0]:t[3][0],m=l==="channelsLast"?t[2][1]:t[3][1];c={top:h,bottom:p,left:f,right:m,type:h===0&&p===0&&f===0&&m===0?"VALID":"EXPLICIT"},u=dm((e-r+h+p)/i+1,a),d=dm((n-s+f+m)/o+1,a)}else throw Error("Unknown padding parameter: ".concat(t));return{padInfo:c,outHeight:u,outWidth:d}}function qhe(t,e,n,i,o,r,s,a,l,c,u){let d,h,p,f;if(t==="valid"&&(t=0),typeof t=="number"){d={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const b=Whe([e,n,i,1],[a,l,c],1,[o,r,s],t,u);h=b[0],p=b[1],f=b[2]}else if(t==="same"){h=Math.ceil(e/o),p=Math.ceil(n/r),f=Math.ceil(i/s);const m=(h-1)*o+a-e,b=(p-1)*r+l-n,g=(f-1)*s+c-i,x=Math.floor(m/2),y=m-x,v=Math.floor(b/2),w=b-v,C=Math.floor(g/2),S=g-C;d={top:v,bottom:w,left:C,right:S,front:x,back:y,type:"SAME"}}else throw Error("Unknown padding parameter: ".concat(t));return{padInfo:d,outDepth:h,outHeight:p,outWidth:f}}function dm(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode ".concat(e))}}function ic(t){const[e,n,i]=um(t);return e===1&&n===1&&i===1}function zi(t,e){return ic(t)||ic(e)}function Lu(t){return um(t).every(e=>e>0)}function el(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat ".concat(t))}function co(t,e,n){if(n!=null){if(typeof e=="string")throw Error("Error in ".concat(t,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(e,"."));if(typeof e=="number")M(Ph(e),()=>"Error in ".concat(t,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(e,"."));else if(typeof e=="object")e.forEach(i=>{i.forEach(o=>{M(Ph(o),()=>"Error in ".concat(t,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(o,"."))})});else throw Error("Error in ".concat(t,": Unknown padding parameter: ").concat(e))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Khe(t,e){const i={x:j(t,"x","reshape","string_or_numeric")},o={shape:e};return ee.runKernel(wv,i,o)}const te=Z({reshape_:Khe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xhe(t,e,n,i,o){const r=j(t,"x","avgPool","float32"),s=1;M(zi(n,s),()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(s,"'"));let a=r,l=!1;r.rank===3&&(l=!0,a=te(r,[1,r.shape[0],r.shape[1],r.shape[2]])),M(a.rank===4,()=>"Error in avgPool: x must be rank 4 but got rank ".concat(a.rank,".")),co("avgPool",i,o);const c={x:a},u={filterSize:e,strides:n,pad:i,dimRoundingMode:o};let d=ee.runKernel(zy,c,u);return d=Pe(d,r.dtype),l?te(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const zv=Z({avgPool_:Xhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yhe(t,e,n,i,o,r="NDHWC"){const s=j(t,"x","avgPool3d","float32");let a=s,l=!1;s.rank===4&&(l=!0,a=te(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),M(a.rank===5,()=>"Error in avgPool3d: x must be rank 5 but got rank ".concat(a.rank,".")),M(r==="NDHWC",()=>"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(r)),M(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>"Error in avgPool3d: Stride must be > 0, but got '".concat(n,"'")),co("avgPool3d",i,o);const c={x:a},u={filterSize:e,strides:n,pad:i,dimRoundingMode:o,dataFormat:r};let d=ee.runKernel(Fy,c,u);return d=Pe(d,a.dtype),l?te(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const xz=Z({avgPool3d_:Yhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zhe(t,e=0){M(t.length>=1,()=>"Pass at least one tensor to concat");const n=Yx(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(r=>{if(r.dtype!=="complex64")throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(r.dtype,". "))}),n.length===1)return Ba(n[0]);const i=n,o={axis:e};return ee.runKernel(Uy,i,o)}const Dn=Z({concat_:Zhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jhe(t,e,n=!1,i=!1){let o=j(t,"a","matMul"),r=j(e,"b","matMul");[o,r]=Rn(o,r);const s={a:o,b:r},a={transposeA:n,transposeB:i};return ee.runKernel(Py,s,a)}const _t=Z({matMul_:Jhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qhe(t){const n={x:j(t,"x","sigmoid","float32")};return ee.runKernel(Pg,n)}const Cs=Z({sigmoid_:Qhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function epe(t,e,n){const i=j(t,"x","slice","string_or_numeric");if(i.rank===0)throw new Error("Slicing scalar is not possible");const o={x:i},r={begin:e,size:n};return ee.runKernel(Ev,o,r)}const at=Z({slice_:epe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tpe(t){const n={x:j(t,"x","tanh","float32")};return ee.runKernel(Hg,n)}const zu=Z({tanh_:tpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function npe(t,e,n,i,o,r){const s=j(t,"forgetBias","basicLSTMCell"),a=j(e,"lstmKernel","basicLSTMCell"),l=j(n,"lstmBias","basicLSTMCell"),c=j(i,"data","basicLSTMCell"),u=j(o,"c","basicLSTMCell"),d=j(r,"h","basicLSTMCell"),h=Dn([c,d],1),p=_t(h,a),f=Se(p,l),m=f.shape[0],b=f.shape[1]/4,g=[m,b],x=at(f,[0,0],g),y=at(f,[0,b],g),v=at(f,[0,b*2],g),w=at(f,[0,b*3],g),C=Se(Q(Cs(x),zu(y)),Q(u,Cs(Se(s,v)))),S=Q(zu(C),Cs(w));return[C,S]}const ipe=Z({basicLSTMCell_:npe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ope(t,e,n){const i=j(t,"x","batchToSpaceND"),o=e.reduce((a,l)=>a*l);M(i.rank>=1+e.length,()=>"input rank is ".concat(i.rank," but should be > than blockShape.length ").concat(e.length)),M(n.length===e.length,()=>"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(e.length)),M(i.shape[0]%o===0,()=>"input tensor batch is ".concat(i.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(e.join(" * ")," === ").concat(o));const r={x:i},s={blockShape:e,crops:n};return ee.runKernel(By,r,s)}const Fv=Z({batchToSpaceND_:ope});function rpe(t){let e;return t.rank===0||t.rank===1?e=te(t,[1,1,1,t.size]):t.rank===2?e=te(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=te(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function spe(t,e,n,i,o,r){r==null&&(r=.001);const s=j(t,"x","batchNorm"),a=j(e,"mean","batchNorm"),l=j(n,"variance","batchNorm");let c;o!=null&&(c=j(o,"scale","batchNorm"));let u;i!=null&&(u=j(i,"offset","batchNorm")),M(a.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),M(u==null||a.rank===u.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),M(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const h={x:rpe(s),scale:c,offset:u,mean:a,variance:l},p={varianceEpsilon:r},f=ee.runKernel(Zy,h,p);return te(f,s.shape)}const Xg=Z({batchNorm_:spe});function ape(t,e,n,i,o,r){const s=j(t,"x","batchNorm"),a=j(e,"mean","batchNorm"),l=j(n,"variance","batchNorm");let c;o!=null&&(c=j(o,"scale","batchNorm"));let u;return i!=null&&(u=j(i,"offset","batchNorm")),M(s.rank===2,()=>"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(s.rank,".")),M(a.rank===2||a.rank===1,()=>"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(a.rank,".")),M(l.rank===2||l.rank===1,()=>"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,".")),c!=null&&M(c.rank===2||c.rank===1,()=>"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,".")),u!=null&&M(u.rank===2||u.rank===1,()=>"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,".")),Xg(s,a,l,u,c,r)}const yz=Z({batchNorm2d_:ape});function lpe(t,e,n,i,o,r){const s=j(t,"x","batchNorm"),a=j(e,"mean","batchNorm"),l=j(n,"variance","batchNorm");let c;o!=null&&(c=j(o,"scale","batchNorm"));let u;return i!=null&&(u=j(i,"offset","batchNorm")),M(s.rank===3,()=>"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(s.rank,".")),M(a.rank===3||a.rank===1,()=>"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(a.rank,".")),M(l.rank===3||l.rank===1,()=>"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,".")),c!=null&&M(c.rank===3||c.rank===1,()=>"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,".")),u!=null&&M(u.rank===3||u.rank===1,()=>"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,".")),Xg(s,a,l,u,c,r)}const vz=Z({batchNorm3d_:lpe});function cpe(t,e,n,i,o,r){const s=j(t,"x","batchNorm"),a=j(e,"mean","batchNorm"),l=j(n,"variance","batchNorm");let c;o!=null&&(c=j(o,"scale","batchNorm"));let u;return i!=null&&(u=j(i,"offset","batchNorm")),M(s.rank===4,()=>"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(s.rank,".")),M(a.rank===4||a.rank===1,()=>"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(a.rank,".")),M(l.rank===4||l.rank===1,()=>"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,".")),c!=null&&M(c.rank===4||c.rank===1,()=>"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,".")),u!=null&&M(u.rank===4||u.rank===1,()=>"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,".")),Xg(s,a,l,u,c,r)}const wz=Z({batchNorm4d_:cpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function upe(t,e,n){const i=j(t,"x","bincount"),o=j(e,"weights","bincount");M(i.dtype==="int32",()=>"Error in bincount: input "+"dtype must be int32, but got ".concat(i.dtype)),M(n>=0,()=>"size must be non-negative, but got ".concat(n,".")),M(o.size===i.size||o.size===0,()=>"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(i.shape,", weights shape: ")+"".concat(o.shape,"."));const r={x:i,weights:o},s={size:n};return ee.runKernel(yT,r,s)}const kz=Z({bincount_:upe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dpe(t,e){const n=j(t,"x","bitwiseAnd"),i=j(e,"y","bitwiseAnd");if(!Nt(n.shape,i.shape))throw new Error("BitwiseAnd: Tensors must have the same shape. x: ".concat(n.shape,", y: ").concat(i.shape));if(n.dtype!=="int32"||i.dtype!=="int32")throw new Error("BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ".concat(n.dtype," and type of y: ").concat(i.dtype));const o={a:n,b:i};return ee.runKernel(My,o)}const hpe=Z({bitwiseAnd_:dpe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ppe(t,e){const n=j(t,"s0","broadcastArgs","int32"),i=j(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(i.rank!==1)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(i.rank));const o={s0:n,s1:i};return ee.runKernel(vT,o)}const fpe=Z({broadcastArgs_:ppe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mpe(t,e){let n=j(t,"broadcastTo","x");const i=n.shape;if(vr(e),e.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(e.length," < input.rank=").concat(n.rank,"."));if(e.length>n.rank){const c=n.shape.slice();for(;c.length<e.length;)c.unshift(1);n=te(n,c)}const o=n.shape,r=Array.from(e);for(let c=e.length-1;c>=0;c--)if(o[c]===e[c])r[c]=1;else if(n.shape[c]!==1)throw new Error("broadcastTo(): [".concat(i,"] cannot be broadcast to [").concat(e,"]."));if(r.map((c,u)=>c>1?u:-1).filter(c=>c>=0).length===0)return Ba(n);const a={x:n},l={reps:r};return ee.runKernel(Wg,a,l)}const vh=Z({broadcastTo_:mpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gpe(t){const n={x:j(t,"x","ceil","float32")};return ee.runKernel(sg,n)}const Sz=Z({ceil_:gpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bp(t,e,n){vr(t),n=n||fp(e);const i={shape:t,value:e,dtype:n};return ee.runKernel(LT,{},i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bpe(t,e,n){const i=j(t,"x","clipByValue");if(M(e<=n,()=>"Error in clip: min (".concat(e,") must be ")+"less than or equal to max (".concat(n,").")),e===n)return bp(i.shape,e,i.dtype);const o={x:i},r={clipValueMin:e,clipValueMax:n};return ee.runKernel(ag,o,r)}const Eo=Z({clipByValue_:bpe});function xpe(t){return Dn(t,0)}const Cz=Z({concat1d_:xpe});function ype(t,e){return Dn(t,e)}const Tz=Z({concat2d_:ype});function vpe(t,e){return Dn(t,e)}const Ez=Z({concat3d_:vpe});function wpe(t,e){return Dn(t,e)}const Iz=Z({concat4d_:wpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kpe(t,e,n,i,o="NHWC",r=[1,1],s){const a=j(t,"x","conv2d","float32"),l=j(e,"filter","conv2d","float32");let c=a,u=!1;a.rank===3&&(u=!0,c=te(a,[1,a.shape[0],a.shape[1],a.shape[2]])),M(c.rank===4,()=>"Error in conv2d: input must be rank 4, but got rank ".concat(c.rank,".")),M(l.rank===4,()=>"Error in conv2d: filter must be rank 4, but got rank "+"".concat(l.rank,".")),co("conv2d",i,s);const d=o==="NHWC"?c.shape[3]:c.shape[1];M(d===l.shape[2],()=>"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(l.shape[2],".")),M(zi(n,r),()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(r,"'")),M(Lu(r),()=>"Error in conv2D: Dilated rates should be larger than 0."),M(Lu(n),()=>"Error in conv2D: Strides should be larger than 0.");const h={x:c,filter:l},p={strides:n,pad:i,dataFormat:o,dilations:r,dimRoundingMode:s},f=ee.runKernel(Vy,h,p);return u?te(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const oc=Z({conv2d_:kpe});function Spe(t,e,n,i,o="NWC",r=1,s){const a=j(t,"x","conv1d"),l=j(e,"filter","conv1d");let c=a,u=!1;a.rank===2&&(u=!0,c=te(a,[1,a.shape[0],a.shape[1]])),M(c.rank===3,()=>"Error in conv1d: input must be rank 3, but got rank ".concat(c.rank,".")),M(l.rank===3,()=>"Error in conv1d: filter must be rank 3, but got rank "+"".concat(l.rank,".")),co("conv1d",i,s),M(c.shape[2]===l.shape[1],()=>"Error in conv1d: depth of input (".concat(c.shape[2],") must match ")+"input depth for filter ".concat(l.shape[1],".")),M(zi(n,r),()=>"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(r,"'")),M(Lu(r),()=>"Error in conv1D: Dilated rates should be larger than 0."),M(Lu(n),()=>"Error in conv1D: Stride should be larger than 0."),M(o==="NWC",()=>"Error in conv1d: got dataFormat of ".concat(o," but only NWC is currently supported."));const d=te(l,[1,l.shape[0],l.shape[1],l.shape[2]]),h=te(c,[c.shape[0],1,c.shape[1],c.shape[2]]),b=oc(h,d,[1,n],i,"NHWC",[1,r],s);return u?te(b,[b.shape[2],b.shape[3]]):te(b,[b.shape[0],b.shape[2],b.shape[3]])}const EE=Z({conv1d_:Spe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cpe(t,e,n,i,o,r="NHWC",s){M(t.length===e.rank,()=>"Length of inShape "+"(".concat(t.length,") and rank of dy (").concat(e.rank,") must match"));let a=t,l=e,c=!1;e.rank===3&&(c=!0,l=te(e,[1,e.shape[0],e.shape[1],e.shape[2]]),a=[1,t[0],t[1],t[2]]),M(a.length===4,()=>"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(a.length,".")),M(l.rank===4,()=>"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(l.rank)),M(n.rank===4,()=>"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank));const u=r==="NHWC"?a[3]:a[1],d=r==="NHWC"?l.shape[3]:l.shape[1];M(u===n.shape[2],()=>"Error in conv2dDerInput: depth of input (".concat(u,") must ")+"match input depth for filter ".concat(n.shape[2],".")),M(d===n.shape[3],()=>"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],".")),co("conv2dDerInput",o,s);const h={dy:l,filter:n},p={strides:i,pad:o,dataFormat:r,dimRoundingMode:s,inputShape:a},f=ee.runKernel(Hy,h,p);return c?te(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const IE=Z({conv2DBackpropInput_:Cpe});function Tpe(t,e,n,i,o,r){const s=j(t,"x","conv2dTranspose"),a=j(e,"filter","conv2dTranspose");return IE(n,s,a,i,o,"NHWC",r)}const _E=Z({conv2dTranspose_:Tpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Epe(t,e,n,i,o="NDHWC",r=[1,1,1]){const s=j(t,"x","conv3d"),a=j(e,"filter","conv3d");let l=s,c=!1;s.rank===4&&(c=!0,l=te(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),M(l.rank===5,()=>"Error in conv3d: input must be rank 5, but got rank ".concat(l.rank,".")),M(a.rank===5,()=>"Error in conv3d: filter must be rank 5, but got rank "+"".concat(a.rank,".")),M(l.shape[4]===a.shape[3],()=>"Error in conv3d: depth of input (".concat(l.shape[4],") must match ")+"input depth for filter ".concat(a.shape[3],".")),M(zi(n,r),()=>"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(r,"'")),M(o==="NDHWC",()=>"Error in conv3d: got dataFormat of ".concat(o," but only NDHWC is currently supported.")),M(Lu(r),()=>"Error in conv3D: Dilated rates should be larger than 0."),M(Lu(n),()=>"Error in conv3D: Strides should be larger than 0.");const u={x:l,filter:a},d={strides:n,pad:i,dataFormat:o,dilations:r},h=ee.runKernel(Wy,u,d);return c?te(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const _z=Z({conv3d_:Epe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ipe(t,e,n,i,o){M(t.length===e.rank,()=>"Length of inShape "+"(".concat(t.length,") and rank of dy (").concat(e.rank,") must match"));let r=t,s=e,a=!1;e.rank===4&&(a=!0,s=te(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),r=[1,t[0],t[1],t[2],t[3]]);const l=r[4],c=s.shape[4];M(r.length===5,()=>"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(r.length,".")),M(s.rank===5,()=>"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(s.rank)),M(n.rank===5,()=>"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)),M(l===n.shape[3],()=>"Error in conv3dDerInput: depth of input (".concat(l,") must ")+"match input depth for filter ".concat(n.shape[3],".")),M(c===n.shape[4],()=>"Error in conv3dDerInput: depth of output (".concat(c,") must ")+"match output depth for filter ".concat(n.shape[4],"."));const u={dy:s,filter:n},d={pad:o,strides:i,inputShape:r},h=ee.runKernel(CT,u,d);return a?te(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const $z=Z({conv3DBackpropInput_:Ipe});function _pe(t,e,n,i,o){const r=j(t,"x","conv3dTranspose"),s=j(e,"filter","conv3dTranspose");return $z(n,r,s,i,o)}const Az=Z({conv3dTranspose_:_pe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $pe(t){const n={x:j(t,"x","cos","float32")};return ee.runKernel(lg,n)}const Pv=Z({cos_:$pe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ape(t){const n={x:j(t,"x","cosh","float32")};return ee.runKernel(cg,n)}const $E=Z({cosh_:Ape});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Npe(t,e=0,n=!1,i=!1){const r={x:j(t,"x","cumprod")},s={axis:e,exclusive:n,reverse:i};return ee.runKernel(TT,r,s)}const Jx=Z({cumprod_:Npe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ope(t,e=0,n=!1,i=!1){const r={x:j(t,"x","cumsum")},s={axis:e,exclusive:n,reverse:i};return ee.runKernel(Gy,r,s)}const AE=Z({cumsum_:Ope});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dpe(t,e,n,i=!1){const o=j(t,"x","denseBincount"),r=j(e,"weights","denseBincount");M(o.dtype==="int32",()=>"Error in denseBincount: input "+"dtype must be int32, but got ".concat(o.dtype)),M(o.rank<=2,()=>"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(o.rank,".")),M(n>=0,()=>"size must be non-negative, but got ".concat(n,".")),M(r.size===o.size||r.size===0,()=>"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(o.shape,", weights shape: ")+"".concat(r.shape,"."));const s={x:o,weights:r},a={size:n,binaryOutput:i};return ee.runKernel(IT,s,a)}const xS=Z({denseBincount_:Dpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rpe(t,e,n="NHWC"){const i=j(t,"x","depthToSpace","float32"),o=n==="NHWC"?i.shape[1]:i.shape[2],r=n==="NHWC"?i.shape[2]:i.shape[3],s=n==="NHWC"?i.shape[3]:i.shape[1];M(e>1,()=>"blockSize should be > 1 for depthToSpace, but was: ".concat(e)),M(o*e>=0,()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(o," and ").concat(e,"  for depthToSpace with input shape\n    ").concat(i.shape)),M(r*e>=0,()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(r," and ").concat(e," for depthToSpace with input shape\n        ").concat(i.shape)),M(s%(e*e)===0,()=>"Dimension size must be evenly divisible by ".concat(e*e," but is ").concat(s," for depthToSpace with input shape ").concat(i.shape));const a={x:i},l={blockSize:e,dataFormat:n};return ee.runKernel(_T,a,l)}const Nz=Z({depthToSpace_:Rpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lpe(t,e,n,i,o="NHWC",r=[1,1],s){const a=j(t,"x","depthwiseConv2d","float32"),l=j(e,"filter","depthwiseConv2d","float32");let c=a,u=!1;a.rank===3&&(u=!0,c=te(a,[1,a.shape[0],a.shape[1],a.shape[2]])),M(c.rank===4,()=>"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,".")),M(l.rank===4,()=>"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(l.rank,"."));const d=o==="NHWC"?c.shape[3]:c.shape[1];M(d===l.shape[2],()=>"Error in depthwiseConv2d: number of input channels "+"(".concat(d,") must match the inChannels dimension in ")+"filter ".concat(l.shape[2],".")),co("depthwiseConv2d",i,s);const h={x:c,filter:l},p={strides:n,pad:i,dataFormat:o,dilations:r,dimRoundingMode:s},f=ee.runKernel(qy,h,p);return u?te(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const Yg=Z({depthwiseConv2d_:Lpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zpe(t){const n={x:j(t,"x","diag")};return ee.runKernel(NT,n)}const Fpe=Z({diag_:zpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ppe(t,e,n,i,o=[1,1],r="NHWC"){const s=j(t,"x","dilation2d"),a=j(e,"filter","dilation2d");M(s.rank===3||s.rank===4,()=>"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(s.rank,".")),M(a.rank===3,()=>"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(a.rank,".")),M(r==="NHWC",()=>"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(r));let l=s,c=!1;s.rank===3&&(l=te(s,[1,s.shape[0],s.shape[1],s.shape[2]]),c=!0),M(l.shape[3]===a.shape[2],()=>"Error in dilation2d:  input and filter must have the same depth: ".concat(l.shape[3]," vs ").concat(a.shape[2]));const u={x:l,filter:a},d={strides:n,pad:i,dilations:o},h=ee.runKernel(Ky,u,d);return c?te(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const Oz=Z({dilation2d_:Ppe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uh(t,e){const n=t.length,i=[];for(let o=0;o<n;o++){const r=n-1-o,s=t[r]||1;(e[e.length-1-o]||1)>1&&s===1&&i.unshift(r)}return i}function ii(t,e){const n=[];for(let i=0;i<e.length;i++){const o=t[t.length-i-1],r=e.length-i-1,s=e[r];(o==null||o===1&&s>1)&&n.unshift(r)}return n}function ft(t,e){const n=Math.max(t.length,e.length),i=new Array(n);for(let o=0;o<n;o++){let r=t[t.length-o-1];r==null&&(r=1);let s=e[e.length-o-1];if(s==null&&(s=1),r===1)i[n-o-1]=s;else if(s===1)i[n-o-1]=r;else if(r!==s){const a="Operands could not be broadcast together with shapes "+"".concat(t," and ").concat(e,".");throw Error(a)}else i[n-o-1]=r}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bpe(t,e){let n=j(t,"a","equal","string_or_numeric"),i=j(e,"b","equal","string_or_numeric");[n,i]=Rn(n,i),ft(n.shape,i.shape);const o={a:n,b:i};return ee.runKernel(Xy,o)}const Is=Z({equal_:Bpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mpe(t,e,n){const i=j(e,"a","where"),o=j(n,"b","where"),r=j(t,"condition","where","bool"),s=ft(ft(r.shape,i.shape),o.shape),a=vh(r,s),l=vh(i,s),c=vh(o,s),u={condition:a,t:l,e:c};return ee.runKernel(Tv,u)}const qi=Z({where_:Mpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jpe(t){const n={x:j(t,"x","zerosLike")};return ee.runKernel(Rv,n)}const Rt=Z({zerosLike_:jpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Upe(t,e){let n=j(t,"a","div"),i=j(e,"b","div");[n,i]=Rn(n,i);const o=Ue(n,i),r=Rt(o),s=Is(i,r);return qi(s,r,o)}const Dz=Z({divNoNan_:Upe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vpe(t,e){const n=j(t,"t1","dot"),i=j(e,"t2","dot");M((n.rank===1||n.rank===2)&&(i.rank===1||i.rank===2),()=>"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(i.rank,"."));const o=n.rank===1?n.size:n.shape[1],r=i.rank===1?i.size:i.shape[0];if(M(o===r,()=>"Error in dot: inner dimensions of inputs must match, but got "+"".concat(o," and ").concat(r,".")),n.rank===1&&i.rank===1){const s=te(n,[1,-1]),a=te(i,[-1,1]),l=_t(s,a);return te(l,[])}else if(n.rank===1&&i.rank===2){const s=te(n,[1,-1]),a=te(i,[i.shape[0],i.shape[1]]),l=_t(s,a);return te(l,[l.size])}else if(n.rank===2&&i.rank===1){const s=te(i,[-1,1]),a=_t(n,s);return te(a,[a.size])}else{const s=te(i,[i.shape[0],i.shape[1]]);return _t(n,s)}}const Rz=Z({dot_:Vpe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hpe(t,...e){const n=e.map((o,r)=>j(o,"tensors".concat(r),"einsum")),i={equation:t};return ee.runKernel(OT,n,i)}const Hd=Z({einsum_:Hpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wpe(t){const n={x:j(t,"x","elu","float32")};return ee.runKernel(dg,n)}const Zg=Z({elu_:Wpe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gpe(t,e){const n=j(t,"x","ensureShape","string_or_numeric");if(!tde(n.shape,e))throw new Error("EnsureShape: Shape of tensor ".concat(n.shape," is not compatible with expected shape ").concat(e));return t}const qpe=Z({ensureShape_:Gpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kpe(t){let e=j(t,"x","erf");M(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=Pe(e,"float32"));const n={x:e};return ee.runKernel(hg,n)}const NE=Z({erf_:Kpe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OE(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function Lz(t,e,n){const i=t.length+e.length,o=[];let r=0,s=0;for(let a=0;a<i;a++)n.indexOf(a)===-1?o.push(t[r++]):o.push(e[s++]);return o}function bi(t,e){const n=[],i=t.length;for(let r=0;r<i;r++)e.indexOf(r)===-1&&n.push(t[r]);const o=e.map(r=>t[r]);return[n,o]}function Mn(t,e){const n=e.map(i=>1);return Lz(t,n,e)}function Fi(t,e,n){M(OE(e,n),()=>"".concat(t," supports only inner-most axes for now. ")+"Got axes ".concat(e," and rank-").concat(n," input."))}function En(t,e){if(OE(t,e))return null;const n=[];for(let i=0;i<e;++i)t.indexOf(i)===-1&&n.push(i);return t.forEach(i=>n.push(i)),n}function Sc(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function jn(t,e){const n=[];for(let i=e-t;i<e;++i)n.push(i);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xpe(t,e=null,n=!1){const o={x:j(t,"x","max")},r={reductionIndices:e,keepDims:n};return ee.runKernel(av,o,r)}const Yr=Z({max_:Xpe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ype(t,e=null,n=!1){const o={x:j(t,"x","min")},r={axis:e,keepDims:n};return ee.runKernel(dv,o,r)}const hm=Z({min_:Ype});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zpe(t,e){let n=j(t,"base","pow"),i=j(e,"exp","pow");[n,i]=Rn(n,i);const o={a:n,b:i};return ee.runKernel(_g,o)}const Ga=Z({pow_:Zpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function it(t,e){if((ts(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&ts(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return wc(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jpe(t){const n={x:j(t,"x","sqrt","float32")};return ee.runKernel(Mg,n)}const Di=Z({sqrt_:Jpe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qpe(t){const e=j(t,"x","square"),n={};return ee.runKernel("Square",{x:e},n)}const Jt=Z({square_:Qpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function efe(t,e=null,n=!1){let i=j(t,"x","sum");i.dtype==="bool"&&(i=Pe(i,"int32"));const o={x:i},r={axis:e,keepDims:n};return ee.runKernel(Iv,o,r)}const Ke=Z({sum_:efe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tfe(t,e="euclidean",n=null,i=!1){t=j(t,"x","norm");const o=zz(t,e,n);let r=o.shape;if(i){const s=Et(n,t.shape);r=Mn(o.shape,s)}return te(o,r)}function zz(t,e,n=null){if(t.rank===0)return Xn(t);if(t.rank!==1&&n===null)return zz(te(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return Ke(Xn(t),n);if(e===1/0)return Yr(Xn(t),n);if(e===-1/0)return hm(Xn(t),n);if(e==="euclidean"||e===2)return Di(Ke(Ga(Xn(t),it(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(e))}if(Array.isArray(n)&&n.length===2){if(e===1)return Yr(Ke(Xn(t),n[0]),n[1]-1);if(e===1/0)return Yr(Ke(Xn(t),n[1]),n[0]);if(e===-1/0)return hm(Ke(Xn(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return Di(Ke(Jt(t),n));throw new Error("Error in norm: invalid ord value: ".concat(e))}throw new Error("Error in norm: invalid axis: ".concat(n))}const Jg=Z({norm_:tfe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nfe(t,e=null,n=!1){return Jg(t,"euclidean",e,n)}const Fz=Z({euclideanNorm_:nfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ife(t){const n={x:j(t,"x","exp")};return ee.runKernel(pg,n)}const ao=Z({exp_:ife});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ofe(t,e=0){const n=j(t,"x","expandDims","string_or_numeric");M(e<=n.rank,()=>"Axis must be <= rank of the tensor");const i={input:n},o={dim:e};return ee.runKernel(Yy,i,o)}const Ci=Z({expandDims_:ofe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rfe(t){const n={x:j(t,"x","expm1")};return ee.runKernel(fg,n)}const Pz=Z({expm1_:rfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sfe(t,e){const n=j(t,"x","tile","string_or_numeric");M(n.rank===e.length,()=>"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(e,"."));const i={x:n},o={reps:e};return ee.runKernel(Wg,i,o)}const Gr=Z({tile_:sfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function afe(t,e,n,i="float32"){e==null&&(e=t);const o=xt([t,e],i),r=t<=e?t:e;for(let a=0;a<r;++a)o.set(1,a,a);const s=te(o.toTensor(),[t,e]);if(n==null)return s;if(n.length===1)return Gr(Ci(s,0),[n[0],1,1]);if(n.length===2)return Gr(Ci(Ci(s,0),0),[n[0],n[1],1,1]);if(n.length===3)return Gr(Ci(Ci(Ci(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}const DE=Z({eye_:afe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lfe(t){const n={x:j(t,"x","floor","float32")};return ee.runKernel(mg,n)}const Qg=Z({floor_:lfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cfe(t,e,n=0,i=0){const o=j(t,"x","gather"),r=j(e,"indices","gather","int32"),s={x:o,indices:r},a={axis:n,batchDims:i};return ee.runKernel(Jy,s,a)}const e0=Z({gather_:cfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ufe(t,e){let n=j(t,"a","greater","string_or_numeric"),i=j(e,"b","greater","string_or_numeric");[n,i]=Rn(n,i),ft(n.shape,i.shape);const o={a:n,b:i};return ee.runKernel(Qy,o)}const Qo=Z({greater_:ufe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dfe(t,e){let n=j(t,"a","greaterEqual","string_or_numeric"),i=j(e,"b","greaterEqual","string_or_numeric");[n,i]=Rn(n,i),ft(n.shape,i.shape);const o={a:n,b:i};return ee.runKernel(bg,o)}const Cc=Z({greaterEqual_:dfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hfe(t){const n={input:j(t,"input","imag")};return ee.runKernel(BT,n)}const Bv=Z({imag_:hfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pfe(t){const n={x:j(t,"x","isFinite")};return ee.runKernel(yg,n)}const Bz=Z({isFinite_:pfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ffe(t){const n={x:j(t,"x","isInf")};return ee.runKernel(vg,n)}const Mz=Z({isInf_:ffe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mfe(t){const n={x:j(t,"x","isNaN")};return ee.runKernel(wg,n)}const jz=Z({isNaN_:mfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gfe(t,e=.2){const i={x:j(t,"x","leakyRelu")},o={alpha:e};return ee.runKernel(ev,i,o)}const Mv=Z({leakyRelu_:gfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bfe(t,e){let n=j(t,"a","less","string_or_numeric"),i=j(e,"b","less","string_or_numeric");[n,i]=Rn(n,i),ft(n.shape,i.shape);const o={a:n,b:i};return ee.runKernel(tv,o)}const pm=Z({less_:bfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xfe(t,e){let n=j(t,"a","lessEqual","string_or_numeric"),i=j(e,"b","lessEqual","string_or_numeric");[n,i]=Rn(n,i),ft(n.shape,i.shape);const o={a:n,b:i};return ee.runKernel(nv,o)}const id=Z({lessEqual_:xfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yfe(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const i={start:t,stop:e,num:n};return ee.runKernel(MT,{},i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vfe(t,e=5,n=1,i=1,o=.5){const r=j(t,"x","localResponseNormalization");M(r.rank===4||r.rank===3,()=>"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(r.rank,".")),M(Ph(e),()=>"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(e,"."));let s=r,a=!1;r.rank===3&&(a=!0,s=te(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const l={x:s},c={depthRadius:e,bias:n,alpha:i,beta:o},u=ee.runKernel(sv,l,c);return a?te(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const Uz=Z({localResponseNormalization_:vfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wfe(t){const n={x:j(t,"x","log","float32")};return ee.runKernel(kg,n)}const gr=Z({log_:wfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kfe(t){const n={x:j(t,"x","log1p")};return ee.runKernel(Sg,n)}const jv=Z({log1p_:kfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sfe(t,e){M(Q3(t),()=>"The f passed in variableGrads(f) must be a function"),M(e==null||Array.isArray(e)&&e.every(c=>c instanceof Xx),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const c in ee.registeredVariables)e.push(ee.registeredVariables[c])}const i=n?e.filter(c=>!c.trainable):null,o=e.length;e=e.filter(c=>c.trainable),M(e.length>0,()=>"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(o," variables is ")+"trainable.");const r=!0,{value:s,grads:a}=ee.gradients(t,e,null,r);M(a.some(c=>c!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),M(s.rank===0,()=>"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(s.rank," tensor"));const l={};return e.forEach((c,u)=>{a[u]!=null&&(l[c.name]=a[u])}),i!=null&&i.forEach(c=>l[c.name]=null),{value:s,grads:l}}function qa(t){return ee.customGrad(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cfe(t){const n={x:j(t,"x","neg")};return ee.runKernel(pv,n)}const gn=Z({neg_:Cfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tfe(t){const n={x:j(t,"x","softplus")};return ee.runKernel(Bg,n)}const xp=Z({softplus_:Tfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Efe(t){const e=j(t,"x","logSigmoid");return qa(i=>({value:gn(xp(gn(i))),gradFunc:s=>Q(s,Cs(gn(i)))}))(e)}const Vz=Z({logSigmoid_:Efe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ife(t,e){let n=j(t,"a","sub"),i=j(e,"b","sub");[n,i]=Rn(n,i);const o={a:n,b:i};return ee.runKernel(Ug,o)}const Ve=Z({sub_:Ife});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _fe(t,e=-1){const n=j(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(e));return qa((o,r)=>{const a=Yr(o,e,!0),l=Ve(o,a),c=Ve(Pe(l,"float32"),gr(Ke(ao(l),e,!0)));return r([c]),{value:c,gradFunc:(d,h)=>{const[p]=h,f=!0,m=ao(p);return Ve(d,Q(Ke(d,e,f),m))}}})(n)}const RE=Z({logSoftmax_:_fe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $fe(t,e=null,n=!1){const i=j(t,"x","logSumExp"),o=Et(e,i.shape),r=Yr(i,o,!0),s=Ve(i,r),a=ao(s),l=Ke(a,o),c=gr(l),u=Se(te(r,c.shape),c);if(n){const d=Mn(u.shape,o);return te(u,d)}return u}const Uv=Z({logSumExp_:$fe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Afe(t,e){const n=j(t,"a","logicalAnd","bool"),i=j(e,"b","logicalAnd","bool");ft(n.shape,i.shape);const o={a:n,b:i};return ee.runKernel(iv,o)}const ia=Z({logicalAnd_:Afe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nfe(t){const n={x:j(t,"x","logicalNot","bool")};return ee.runKernel(ov,n)}const Vv=Z({logicalNot_:Nfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ofe(t,e){const n=j(t,"a","logicalOr","bool"),i=j(e,"b","logicalOr","bool");ft(n.shape,i.shape);const o={a:n,b:i};return ee.runKernel(rv,o)}const LE=Z({logicalOr_:Ofe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dfe(t,e){const n=j(t,"a","logicalXor","bool"),i=j(e,"b","logicalXor","bool");return ft(n.shape,i.shape),ia(LE(t,e),Vv(ia(t,e)))}const Hz=Z({logicalXor_:Dfe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ab=2147483648;function Rfe(t,e,n="left"){const i=j(t,"sortedSequence","searchSorted"),o=j(e,"values","searchSorted"),r=i.shape[i.shape.length-1],s=o.shape[o.shape.length-1],a=te(i,[-1,r]),l=te(o,[-1,s]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(ge(l.shape)>=ab)throw new Error("values tensor size must less than ".concat(ab));if(a.shape[1]>=ab)throw new Error("trailing dim_size must less than ".concat(ab," for int32 output type, was ").concat(a.shape[1]));const c={sortedSequence:a,values:l},u={side:n};return ee.runKernel(oE,c,u)}const zE=Z({searchSorted_:Rfe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lfe(t,e){return zE(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zfe(t,e,n,i,o){const r=j(t,"x","maxPool"),s=1;let a=r,l=!1;r.rank===3&&(l=!0,a=te(r,[1,r.shape[0],r.shape[1],r.shape[2]])),M(a.rank===4,()=>"Error in maxPool: input must be rank 4 but got rank ".concat(a.rank,".")),M(zi(n,s),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(s,"'")),co("maxPool",i,o);const c={x:a},u={filterSize:e,strides:n,pad:i,dimRoundingMode:o},d=ee.runKernel(lv,c,u);return l?te(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const Hv=Z({maxPool_:zfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ffe(t,e=[1,1,1],n,i,o,r="NDHWC"){const s=j(t,"x","maxPool3d");let a=s,l=!1;s.rank===4&&(l=!0,a=te(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),M(a.rank===5,()=>"Error in maxPool3d: x must be rank 5 but got rank ".concat(a.rank,".")),M(r==="NDHWC",()=>"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(r)),co("maxPool3d",i,o);const c={x:a},u={filterSize:e,strides:n,pad:i,dimRoundingMode:o,dataFormat:r},d=ee.runKernel(cv,c,u);return l?te(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const Wz=Z({maxPool3d_:Ffe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pfe(t,e,n,i,o=!1){const s={x:j(t,"x","maxPoolWithArgmax")},a={filterSize:e,strides:n,pad:i,includeBatchInIndex:o},l=ee.runKernel(HT,s,a);return{result:l[0],indexes:l[1]}}const Bfe=Z({maxPoolWithArgmax_:Pfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mfe(t,e){let n=j(t,"a","maximum"),i=j(e,"b","maximum");[n,i]=Rn(n,i),n.dtype==="bool"&&(n=Pe(n,"int32"),i=Pe(i,"int32")),ft(n.shape,i.shape);const o={a:n,b:i};return ee.runKernel(Cg,o)}const tl=Z({maximum_:Mfe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jfe(t,e=null,n=!1){const o={x:j(t,"x","mean")},r={axis:e,keepDims:n};return ee.runKernel(uv,o,r)}const _n=Z({mean_:jfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yn(t,e="float32"){if(vr(t),e==="complex64"){const i=Yn(t,"float32"),o=Yn(t,"float32");return tc(i,o)}const n=Xi(ge(t),e);return ee.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jo(t,e="float32"){if(vr(t),e==="complex64"){const i=jo(t,"float32"),o=Yn(t,"float32");return tc(i,o)}const n=pT(ge(t),e);return ee.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ufe(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError("".concat(n," is not a valid third argument to meshgrid"));if(t===void 0)return[];let i=j(t,"x","meshgrid",t instanceof Zt?t.dtype:"float32");if(e===void 0)return[i];let o=j(e,"y","meshgrid",e instanceof Zt?e.dtype:"float32");const r=ge(i.shape),s=ge(o.shape);return n==="xy"?(i=te(i,[1,-1]),o=te(o,[-1,1]),[_t(jo([s,1],i.dtype),i),_t(o,jo([1,r],o.dtype))]):(i=te(i,[-1,1]),o=te(o,[1,-1]),[_t(i,jo([1,s],i.dtype)),_t(jo([r,1],o.dtype),o)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vfe(t,e){let n=j(t,"a","minimum"),i=j(e,"b","minimum");[n,i]=Rn(n,i),n.dtype==="bool"&&(n=Pe(n,"int32"),i=Pe(i,"int32")),ft(n.shape,i.shape);const o={a:n,b:i};return ee.runKernel(Tg,o)}const Fu=Z({minimum_:Vfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hfe(t,e,n){M(n==="reflect"||n==="symmetric",()=>"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,"."));const i=j(t,"x","mirrorPad");if(i.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");M(e.length===i.rank,()=>"Padding doesn't match input. Must be ".concat(i.rank,". ")+"Got ".concat(e.length,"."));const o=n==="reflect"?1:0;for(let a=0;a<i.rank;a++)M(e[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),M(e[a][0]>=0&&e[a][0]<=i.shape[a]-o&&e[a][1]>=0&&e[a][1]<=i.shape[a]-o,()=>"Padding in dimension ".concat(a," cannot be greater than or equal ")+"to ".concat(i.shape[a]-o," or less than 0 for input of ")+"shape ".concat(i.shape));const r={paddings:e,mode:n},s={x:i};return ee.runKernel(hv,s,r)}const Gz=Z({mirrorPad_:Hfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wfe(t,e){let n=j(t,"a","mod"),i=j(e,"b","mod");[n,i]=Rn(n,i);const o={a:n,b:i};return ee.runKernel(Eg,o)}const qz=Z({mod_:Wfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gfe(t,e=null,n=!1){t=j(t,"x","moments");const i=Et(e,t.shape),o=_n(t,i,n);let r=o.shape;n||(r=Mn(o.shape,i));const s=Jt(Ve(Pe(t,"float32"),te(o,r))),a=_n(s,i,n);return{mean:o,variance:a}}const Wv=Z({moments_:Gfe});function qfe(t,e,n,i){const o=j(e,"data","multiRNNCell"),r=Yx(n,"c","multiRNNCell"),s=Yx(i,"h","multiRNNCell");let a=o;const l=[];for(let d=0;d<t.length;d++){const h=t[d](a,r[d],s[d]);l.push(h[0]),l.push(h[1]),a=h[1]}const c=[],u=[];for(let d=0;d<l.length;d+=2)c.push(l[d]),u.push(l[d+1]);return[c,u]}const Kfe=Z({multiRNNCell_:qfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xfe(t,e,n,i=!1){const o=j(t,"logits","multinomial"),r=o.size,s=o.rank;if(r<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(r,"."));if(s>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(s));n=n||Math.random();const l={logits:s===1?te(o,[1,-1]):o},c={numSamples:e,seed:n,normalized:i},u=ee.runKernel(WT,l,c);return s===1?te(u,[u.size]):u}const Yfe=Z({multinomial_:Xfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zfe(t,e){let n=j(t,"a","notEqual","string_or_numeric"),i=j(e,"b","notEqual","string_or_numeric");[n,i]=Rn(n,i),ft(n.shape,i.shape);const o={a:n,b:i};return ee.runKernel(fv,o)}const Vh=Z({notEqual_:Zfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jfe(t,e,n=1,i=0,o="int32"){if(e<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(e));const s={indices:j(t,"indices","oneHot","int32")},a={dtype:o,depth:e,onValue:n,offValue:i};return ee.runKernel(gv,s,a)}const FE=Z({oneHot_:Jfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qfe(t){const n={x:j(t,"x","onesLike")};return ee.runKernel(mv,n)}const br=Z({onesLike_:Qfe});function eme(t,e){const n=j(t,"v1","outerProduct"),i=j(e,"v2","outerProduct");M(n.rank===1&&i.rank===1,()=>"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(i.rank,"."));const o=te(n,[-1,1]),r=te(i,[1,-1]);return _t(o,r)}const tme=Z({outerProduct_:eme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nme(t,e,n=0){const i=j(t,"x","pad");if(i.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const o={paddings:e,constantValue:n},r={x:i};return ee.runKernel(xv,r,o)}const Tc=Z({pad_:nme});function ime(t,e,n=0){return M(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),Tc(t,[e],n)}const ome=Z({pad1d_:ime});function rme(t,e,n=0){return M(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Tc(t,e,n)}const sme=Z({pad2d_:rme});function ame(t,e,n=0){return M(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Tc(t,e,n)}const lme=Z({pad3d_:ame});function cme(t,e,n=0){return M(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Tc(t,e,n)}const ume=Z({pad4d_:cme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dme(t,e,n){const i=j(t,"x","spaceToBatchND");M(i.rank>=1+e.length,()=>"input rank ".concat(i.rank," should be > than [blockShape] ").concat(e.length)),M(n.length===e.length,()=>"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(e.length)),M(i.shape.reduce((s,a,l)=>l>0&&l<=e.length?s&&(a+n[l-1][0]+n[l-1][1])%e[l-1]===0:s,!0),()=>"input spatial dimensions ".concat(i.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(e.toString()));const o={x:i},r={blockShape:e,paddings:n};return ee.runKernel(_v,o,r)}const Gv=Z({spaceToBatchND_:dme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hme(t,e,n,i,o,r,s){o==null&&(o=[1,1]),r==null&&(r=1),i===0&&(i="valid");const a=j(t,"x","maxPool");let l=a,c=!1;a.rank===3&&(c=!0,l=te(a,[1,a.shape[0],a.shape[1],a.shape[2]])),M(zi(r,o),()=>"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(o,"'"));const u=ss(l.shape,e,r,o,i),d=[u.dilationHeight,u.dilationWidth];let h;i==="same"?h=fme([u.filterHeight,u.filterWidth],d):h=[[0,0],[0,0]];const p=d[0]===1&&d[1]===1,[f,m]=pme([u.inHeight,u.inWidth],d,h),b=p?i:"valid",g=p?l:Gv(l,d,f),y=(n==="avg"?()=>zv(g,e,r,b,s):()=>Hv(g,e,r,b,s))(),v=p?y:Fv(y,d,m);return c?te(v,[v.shape[1],v.shape[2],v.shape[3]]):v}function pme(t,e,n){const i=n.map(u=>u[0]),o=n.map(u=>u[1]),r=t.concat(i,o),s=e.map((u,d)=>(u-r[d]%u)%u),a=o.map((u,d)=>u+s[d]),l=e.map((u,d)=>[i[d],a[d]]),c=e.map((u,d)=>[0,s[d]]);return[l,c]}function fme(t,e){const i=t.map((s,a)=>s+(s-1)*(e[a]-1)).map(s=>s-1),o=i.map(s=>Math.floor(s/2)),r=i.map((s,a)=>s-o[a]);return i.map((s,a)=>[o[a],r[a]])}const Kz=Z({pool_:hme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mme(t,e){const n=j(t,"x","prelu"),i=j(e,"alpha","prelu"),o={x:n,alpha:i};return ee.runKernel(yv,o)}const qv=Z({prelu_:mme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gme(t,e=null,n=!1){let i=j(t,"x","prod");i.dtype==="bool"&&(i=Pe(i,"int32"));const o={x:i},r={axis:e,keepDims:n};return ee.runKernel(vv,o,r)}const Xz=Z({prod_:gme});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bme(t,e,n,i){const o=t.map((u,d)=>j(u,"tensors".concat(d),"raggedGather","int32")),r=j(e,"paramsDenseValues","raggedGather"),s=j(n,"indices","raggedGather","int32"),a={paramsNestedSplits:o,paramsDenseValues:r,indices:s},l={outputRaggedRank:i},c=ee.runKernel(XT,a,l);return{outputNestedSplits:c.slice(0,c.length-1),outputDenseValues:c[c.length-1]}}const xme=Z({raggedGather_:bme});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yme(t,e,n){const i=j(t,"starts","raggedRange"),o=j(e,"limits","raggedRange",i.dtype),r=j(n,"deltas","raggedRange",i.dtype),s={starts:i,limits:o,deltas:r},a=ee.runKernel(YT,s);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}const vme=Z({raggedRange_:yme});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wme(t,e,n,i,o){const r=j(t,"shape","raggedTensorToTensor","int32"),s=j(e,"values","raggedTensorToTensor"),a=j(n,"defaultValue","raggedTensorToTensor",s.dtype),l=i.map((d,h)=>j(d,"tensors".concat(h),"raggedTensorToTensor","int32")),c={shape:r,values:s,defaultValue:a,rowPartitionTensors:l},u={rowPartitionTypes:o};return ee.runKernel(ZT,c,u)}const kme=Z({raggedTensorToTensor_:wme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sme(t,e,n){vr(t);const i=ge(t);let o=null;if(n==null||n==="float32")o=new Float32Array(i);else if(n==="int32")o=new Int32Array(i);else if(n==="bool")o=new Uint8Array(i);else throw new Error("Unknown data type ".concat(n));for(let r=0;r<i;r++)o[r]=e();return ee.makeTensor(o,t,n)}const Cme=Z({rand_:Sme});var PE={exports:{}};PE.exports;(function(t){(function(e,n,i){function o(l){var c=this,u=a();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function r(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function s(l,c){var u=new o(l),d=c&&c.state,h=u.next;return h.int32=function(){return u.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,d&&(typeof d=="object"&&r(d,u),h.state=function(){return r(u,{})}),h}function a(){var l=4022871197,c=function(u){u=String(u);for(var d=0;d<u.length;d++){l+=u.charCodeAt(d);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=s:this.alea=s})(dn,t)})(PE);var Tme=PE.exports,BE={exports:{}};BE.exports;(function(t){(function(e,n,i){function o(a){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function r(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function s(a,l){var c=new o(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,f=(h+p)/(1<<21);while(f===0);return f},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&r(u,c),d.state=function(){return r(c,{})}),d}n&&n.exports?n.exports=s:this.xor128=s})(dn,t)})(BE);var Eme=BE.exports,ME={exports:{}};ME.exports;(function(t){(function(e,n,i){function o(a){var l=this,c="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function r(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function s(a,l){var c=new o(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,f=(h+p)/(1<<21);while(f===0);return f},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&r(u,c),d.state=function(){return r(c,{})}),d}n&&n.exports?n.exports=s:this.xorwow=s})(dn,t)})(ME);var Ime=ME.exports,jE={exports:{}};jE.exports;(function(t){(function(e,n,i){function o(a){var l=this;l.next=function(){var u=l.x,d=l.i,h,p;return h=u[d],h^=h>>>7,p=h^h<<24,h=u[d+1&7],p^=h^h>>>10,h=u[d+3&7],p^=h^h>>>3,h=u[d+4&7],p^=h^h<<7,h=u[d+7&7],h=h^h<<13,p^=h^h<<9,u[d]=p,l.i=d+1&7,p};function c(u,d){var h,p=[];if(d===(d|0))p[0]=d;else for(d=""+d,h=0;h<d.length;++h)p[h&7]=p[h&7]<<15^d.charCodeAt(h)+p[h+1&7]<<13;for(;p.length<8;)p.push(0);for(h=0;h<8&&p[h]===0;++h);for(h==8?p[7]=-1:p[h],u.x=p,u.i=0,h=256;h>0;--h)u.next()}c(l,a)}function r(a,l){return l.x=a.x.slice(),l.i=a.i,l}function s(a,l){a==null&&(a=+new Date);var c=new o(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,f=(h+p)/(1<<21);while(f===0);return f},d.int32=c.next,d.quick=d,u&&(u.x&&r(u,c),d.state=function(){return r(c,{})}),d}n&&n.exports?n.exports=s:this.xorshift7=s})(dn,t)})(jE);var _me=jE.exports,UE={exports:{}};UE.exports;(function(t){(function(e,n,i){function o(a){var l=this;l.next=function(){var u=l.w,d=l.X,h=l.i,p,f;return l.w=u=u+1640531527|0,f=d[h+34&127],p=d[h=h+1&127],f^=f<<13,p^=p<<17,f^=f>>>15,p^=p>>>12,f=d[h]=f^p,l.i=h,f+(u^u>>>16)|0};function c(u,d){var h,p,f,m,b,g=[],x=128;for(d===(d|0)?(p=d,d=null):(d=d+"\0",p=0,x=Math.max(x,d.length)),f=0,m=-32;m<x;++m)d&&(p^=d.charCodeAt((m+32)%d.length)),m===0&&(b=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,m>=0&&(b=b+1640531527|0,h=g[m&127]^=p+b,f=h==0?f+1:0);for(f>=128&&(g[(d&&d.length||0)&127]=-1),f=127,m=4*128;m>0;--m)p=g[f+34&127],h=g[f=f+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,g[f]=p^h;u.w=b,u.X=g,u.i=f}c(l,a)}function r(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function s(a,l){a==null&&(a=+new Date);var c=new o(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,f=(h+p)/(1<<21);while(f===0);return f},d.int32=c.next,d.quick=d,u&&(u.X&&r(u,c),d.state=function(){return r(c,{})}),d}n&&n.exports?n.exports=s:this.xor4096=s})(dn,t)})(UE);var $me=UE.exports,VE={exports:{}};VE.exports;(function(t){(function(e,n,i){function o(a){var l=this,c="";l.next=function(){var d=l.b,h=l.c,p=l.d,f=l.a;return d=d<<25^d>>>7^h,h=h-p|0,p=p<<24^p>>>8^f,f=f-d|0,l.b=d=d<<20^d>>>12^h,l.c=h=h-p|0,l.d=p<<16^h>>>16^f,l.a=f-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function r(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function s(a,l){var c=new o(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,f=(h+p)/(1<<21);while(f===0);return f},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&r(u,c),d.state=function(){return r(c,{})}),d}n&&n.exports?n.exports=s:this.tychei=s})(dn,t)})(VE);var Ame=VE.exports,Yz={exports:{}};const Nme=mO(mue);(function(t){(function(e,n,i){var o=256,r=6,s=52,a="random",l=i.pow(o,r),c=i.pow(2,s),u=c*2,d=o-1,h;function p(v,w,C){var S=[];w=w==!0?{entropy:!0}:w||{};var E=g(b(w.entropy?[v,y(n)]:v==null?x():v,3),S),I=new f(S),N=function(){for(var B=I.g(r),D=l,P=0;B<c;)B=(B+P)*o,D*=o,P=I.g(1);for(;B>=u;)B/=2,D/=2,P>>>=1;return(B+P)/D};return N.int32=function(){return I.g(4)|0},N.quick=function(){return I.g(4)/4294967296},N.double=N,g(y(I.S),n),(w.pass||C||function(B,D,P,_){return _&&(_.S&&m(_,I),B.state=function(){return m(I,{})}),P?(i[a]=B,D):B})(N,E,"global"in w?w.global:this==i,w.state)}function f(v){var w,C=v.length,S=this,E=0,I=S.i=S.j=0,N=S.S=[];for(C||(v=[C++]);E<o;)N[E]=E++;for(E=0;E<o;E++)N[E]=N[I=d&I+v[E%C]+(w=N[E])],N[I]=w;(S.g=function(B){for(var D,P=0,_=S.i,L=S.j,z=S.S;B--;)D=z[_=d&_+1],P=P*o+z[d&(z[_]=z[L=d&L+D])+(z[L]=D)];return S.i=_,S.j=L,P})(o)}function m(v,w){return w.i=v.i,w.j=v.j,w.S=v.S.slice(),w}function b(v,w){var C=[],S=typeof v,E;if(w&&S=="object")for(E in v)try{C.push(b(v[E],w-1))}catch(I){}return C.length?C:S=="string"?v:v+"\0"}function g(v,w){for(var C=v+"",S,E=0;E<C.length;)w[d&E]=d&(S^=w[d&E]*19)+C.charCodeAt(E++);return y(w)}function x(){try{var v;return h&&(v=h.randomBytes)?v=v(o):(v=new Uint8Array(o),(e.crypto||e.msCrypto).getRandomValues(v)),y(v)}catch(S){var w=e.navigator,C=w&&w.plugins;return[+new Date,e,C,e.screen,y(n)]}}function y(v){return String.fromCharCode.apply(0,v)}if(g(i.random(),n),t.exports){t.exports=p;try{h=Nme}catch(v){}}else i["seed"+a]=p})(typeof self<"u"?self:dn,[],Math)})(Yz);var Ome=Yz.exports,Dme=Tme,Rme=Eme,Lme=Ime,zme=_me,Fme=$me,Pme=Ame,od=Ome;od.alea=Dme;od.xor128=Rme;od.xorwow=Lme;od.xorshift7=zme;od.xor4096=Fme;od.tychei=Pme;var Kv=od;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HE{constructor(e,n,i,o,r){this.mean=e,this.stdDev=n,this.dtype=i,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const s=r||Math.random();this.random=Kv.alea(s.toString())}nextValue(){if(!isNaN(this.nextVal)){const o=this.nextVal;return this.nextVal=NaN,o}let e,n,i=!1;for(;!i;){let o,r,s;do o=2*this.random()-1,r=2*this.random()-1,s=o*o+r*r;while(s>=1||s===0);const a=Math.sqrt(-2*Math.log(s)/s);e=this.mean+this.stdDev*o*a,n=this.mean+this.stdDev*r*a,(!this.truncated||this.isValidTruncated(e))&&(i=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Bme{constructor(e,n,i,o){this.alpha=e,this.beta=1/n,this.dtype=i;const r=o||Math.random();this.randu=Kv.alea(r.toString()),this.randn=new HE(0,1,i,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,i,o,r,s;for(;;){do o=this.randn.nextValue(),s=1+this.c*o;while(s<=0);if(s*=s*s,e=o*o,n=1-.331*e*e,i=.5*e+this.d*(1-s+Math.log(s)),r=this.randu(),r<n||Math.log(r)<i)break}return s=1/this.beta*this.d*s,this.alpha<1&&(s*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(s)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class Mme{constructor(e=0,n=1,i,o){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=i,o==null&&(o=Math.random()),typeof o=="number"&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(e," - ").concat(n," <= 1 and dtype is not float"));this.random=Kv.alea(o)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jme(t,e,n=1,i="float32",o){if(vr(t),n==null&&(n=1),i==null&&(i="float32"),i!=="float32"&&i!=="int32")throw new Error("Unsupported data type ".concat(i));const r=new Bme(e,n,i,o),s=xt(t,i);for(let a=0;a<s.values.length;a++)s.values[a]=r.nextValue();return s.toTensor()}const Ume=Z({randomGamma_:jme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vme(t,e=0,n=1,i,o){if(vr(t),i!=null&&i==="bool")throw new Error("Unsupported data type ".concat(i));const r=new HE(e,n,i,!1,o),s=xt(t,i);for(let a=0;a<s.values.length;a++)s.values[a]=r.nextValue();return s.toTensor()}const WE=Z({randomNormal_:Vme});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hme(t,e,n){if(e!=null&&e==="bool")throw new Error("Unsupported data type ".concat(e));return WE(t,0,1,e,n)}const Wme=Z({randomStandardNormal_:Hme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gme(t,e=0,n=1,i="float32",o){vr(t);const r=xt(t,i),s=new Mme(e,n,null,o);for(let a=0;a<r.values.length;a++)r.values[a]=s.nextValue();return r.toTensor()}const rd=Z({randomUniform_:Gme});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qme(t,e,n,i){return rd(t,e,n,"int32",i)}const Kme=Z({randomUniformInt_:qme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hh(t,e,n=1,i="float32"){if(n===0)throw new Error("Cannot have a step of zero");const o={start:t,stop:e,step:n,dtype:i};return ee.runKernel(JT,{},o)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xme(t){const n={input:j(t,"input","real")};return ee.runKernel(QT,n)}const fm=Z({real_:Xme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yme(t){const n={x:j(t,"x","reciprocal")};return ee.runKernel($g,n)}const Zz=Z({reciprocal_:Yme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zme(t){const n={x:j(t,"x","relu")};return ee.runKernel(Ag,n)}const ca=Z({relu_:Zme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jme(t){const n={x:j(t,"x","relu6")};return ee.runKernel(Ng,n)}const GE=Z({relu6_:Jme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qme(t,e){const i={x:j(t,"x","reverse")},o={dims:e};return ee.runKernel(Cv,i,o)}const ns=Z({reverse_:Qme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ege(t){const e=j(t,"x","reverse");return M(e.rank===1,()=>"Error in reverse1D: x must be rank 1 but got rank ".concat(e.rank,".")),ns(e,0)}const tge=Z({reverse1d_:ege});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nge(t,e){const n=j(t,"x","reverse");return M(n.rank===2,()=>"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")),ns(n,e)}const ige=Z({reverse2d_:nge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oge(t,e){const n=j(t,"x","reverse");return M(n.rank===3,()=>"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")),ns(n,e)}const rge=Z({reverse3d_:oge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sge(t,e){const n=j(t,"x","reverse");return M(n.rank===4,()=>"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")),ns(n,e)}const age=Z({reverse4d_:sge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lge(t){const n={x:j(t,"x","round")};return ee.runKernel(Og,n)}const qE=Z({round_:lge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cge(t){const n={x:j(t,"x","rsqrt","float32")};return ee.runKernel(Dg,n)}const KE=Z({rsqrt_:cge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uge(t){const n={x:j(t,"x","selu")};return ee.runKernel(Rg,n)}const XE=Z({selu_:uge});function dge(t,e,n,i,o,r=[1,1],s="NHWC"){const a=j(t,"x","separableConv2d"),l=j(e,"depthwiseFilter","separableConv2d"),c=j(n,"pointwiseFilter","separableConv2d");let u=a,d=!1;if(a.rank===3&&(d=!0,u=te(a,[1,a.shape[0],a.shape[1],a.shape[2]])),s==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");M(u.rank===4,()=>"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(u.rank,".")),M(l.rank===4,()=>"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(l.rank,".")),M(c.rank===4,()=>"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(l.rank,".")),M(c.shape[0]===1,()=>"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(c.shape[0],".")),M(c.shape[1]===1,()=>"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(c.shape[1],"."));const h=l.shape[2],p=l.shape[3];M(c.shape[2]===h*p,()=>"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(h*p,", ")+"but got ".concat(c.shape[2],"."));const f=Yg(u,l,i,o,s,r),b=oc(f,c,1,"valid",s);return d?te(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const YE=Z({separableConv2d_:dge});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function hge(t,e){const n=j(t,"x","setdiff1d"),i=j(e,"y","setdiff1d");M(n.dtype===i.dtype,()=>"x and y should have the same dtype, but got x (".concat(n.dtype,") and y (").concat(i.dtype,").")),M(n.rank===1,()=>"x should be 1D tensor, but got x (".concat(n.shape,").")),M(i.rank===1,()=>"y should be 1D tensor, but got y (".concat(i.shape,")."));const o=await n.data(),r=await i.data(),s=new Set(r);let a=0;for(let u=0;u<o.length;u++)s.has(o[u])||a++;const l=new ei([a],n.dtype),c=new ei([a],"int32");for(let u=0,d=0;u<o.length;u++)s.has(o[u])||(l.values[d]=o[u],c.values[d]=u,d++);return[l.toTensor(),c.toTensor()]}const pge=hge;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fge(t){const n={x:j(t,"x","sign")};return ee.runKernel(Fg,n)}const Jz=Z({sign_:fge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mge(t){const n={x:j(t,"x","sin","float32")};return ee.runKernel(Lg,n)}const ZE=Z({sin_:mge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gge(t){const n={x:j(t,"x","sinh")};return ee.runKernel(zg,n)}const JE=Z({sinh_:gge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bge(t,e,n){const i=j(t,"x","slice1d");return M(i.rank===1,()=>"slice1d expects a rank-1 tensor, but got a rank-".concat(i.rank," tensor")),at(i,[e],[n])}const Xv=Z({slice1d_:bge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xge(t,e,n){const i=j(t,"x","slice2d");return M(i.rank===2,()=>"slice2d expects a rank-2 tensor, but got a rank-".concat(i.rank," tensor")),at(i,e,n)}const QE=Z({slice2d_:xge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yge(t,e,n){const i=j(t,"x","slice3d");return M(i.rank===3,()=>"slice3d expects a rank-3 tensor, but got a rank-".concat(i.rank," tensor")),at(i,e,n)}const Yv=Z({slice3d_:yge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vge(t,e,n){const i=j(t,"x","slice4d");return M(i.rank===4,()=>"slice4d expects a rank-4 tensor, but got a rank-".concat(i.rank," tensor")),at(i,e,n)}const mm=Z({slice4d_:vge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wge(t,e=-1){const n=j(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(e));const i={logits:n},o={dim:e};return ee.runKernel(Av,i,o)}const Zv=Z({softmax_:wge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kge(t){M(t.dtype==="complex64",()=>"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(t.dtype,"."));const e={input:t};return ee.runKernel(RT,e)}const Jv=Z({fft_:kge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sge(t){M(t.dtype==="complex64",()=>"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(t.dtype,"."));const e={input:t};return ee.runKernel(PT,e)}const gm=Z({ifft_:Sge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cge(t){const e=t.shape[t.shape.length-1],n=t.size/e;let i;if(e<=2){const o=te(t,[n,e]);i=gm(o)}else{const o=[n,2*(e-1)],r=te(fm(t),[n,e]),s=te(Bv(t),[n,e]),a=ns(at(r,[0,1],[n,e-2]),1),l=Q(ns(at(s,[0,1],[n,e-2]),1),it(-1)),c=Dn([r,a],1),u=Dn([s,l],1),d=te(tc(c,u),[o[0],o[1]]);i=gm(d)}if(i=fm(i),t.rank===3&&t.shape[0]!==0){const o=i,r=t.shape[0];i=te(i,[r,i.shape[0]/r,i.shape[1]]),o.dispose()}return i}const eI=Z({irfft_:Cge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tge(t,e,n=0){const o={x:j(t,"x","split")},r={numOrSizeSplits:e,axis:n};return ee.runKernel($v,o,r)}const Uo=Z({split_:Tge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ege(t,e){M(t.dtype==="float32",()=>"The dtype for rfft() must be real value but got ".concat(t.dtype));let n=t.shape[t.shape.length-1];const i=t.size/n;let o;if(e!=null&&e<n){const f=t.shape.map(b=>0),m=t.shape.map(b=>b);m[t.shape.length-1]=e,o=at(t,f,m),n=e}else if(e!=null&&e>n){const f=t.shape.map(m=>m);f[t.shape.length-1]=e-n,o=Dn([t,Yn(f)],t.shape.length-1),n=e}else o=t;const r=Rt(o),s=te(tc(o,r),[i,n]),a=Jv(s),l=Math.floor(n/2)+1,c=fm(a),u=Bv(a),d=Uo(c,[l,n-l],c.shape.length-1),h=Uo(u,[l,n-l],u.shape.length-1),p=o.shape.slice();return p[o.shape.length-1]=l,te(tc(d[0],h[0]),p)}const Qv=Z({rfft_:Ege});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ige(t,e){let n=j(t,"a","squaredDifference"),i=j(e,"b","squaredDifference");[n,i]=Rn(n,i),ft(n.shape,i.shape);const o={a:n,b:i},r={};return ee.runKernel(jg,o,r)}const tI=Z({squaredDifference_:Ige});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ge(t,e){const n=j(t,"x","squeeze","string_or_numeric");return te(n,xc(n.shape,e).newShape)}const Ln=Z({squeeze_:_ge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ge(t,e=0){const n=Yx(t,"tensors","stack","string_or_numeric");M(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&M(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const i=n,o={axis:e};return ee.runKernel(bv,i,o)}const qo=Z({stack_:$ge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Age(t,e=0){const i={x:j(t,"x","step")},o={alpha:e};return ee.runKernel(Gg,i,o)}const yp=Z({step_:Age});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nge(t,e,n,i,o=0,r=0,s=0,a=0,l=0){const u={x:j(t,"x","stridedSlice","string_or_numeric")},d={begin:e,end:n,strides:i,beginMask:o,endMask:r,ellipsisMask:s,newAxisMask:a,shrinkAxisMask:l};return ee.runKernel(dE,u,d)}const Qz=Z({stridedSlice_:Nge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oge(t){const n={x:j(t,"x","tan","float32")};return ee.runKernel(Vg,n)}const eF=Z({tan_:Oge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gn(t,e){pp(t);const n=vc(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return wc(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mu(t,e,n){if(pp(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const i=vc(t,n);if(i.length!==2&&i.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return wc(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tF(t,e,n){if(pp(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const i=vc(t,n);if(i.length!==3&&i.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return wc(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dge(t,e,n){if(pp(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const i=vc(t,n);if(i.length!==4&&i.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return wc(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rge(t,e,n){if(pp(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const i=vc(t,n);if(i.length!==5&&i.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return wc(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lge(t,e,n){if(pp(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const i=vc(t,n);if(i.length!==6&&i.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||i,wc(t,e,i,n)}function nF(t,e,n){const i=e.rank>1?e.shape[e.rank-1]:1,o=e.rank>1?e.rank-1:1,r="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(e.shape,", shape: ").concat(t)+", sliceDim: ".concat(i,", and batchDim: ").concat(o,".");if(n.rank<o)throw new Error(r+" update.rank < ".concat(o,". "));if(t.length<i+(n.rank-o))throw new Error(r+" Output shape length < ".concat(i+(n.rank-o)));if(n.rank!==o+t.length-i)throw new Error(r+" update.rank != ".concat(o+t.length-i));for(let s=0;s<o;++s)if(n.shape[s]!==e.shape[s])throw new Error(r+" updates.shape[".concat(s,"] (").concat(n.shape[s],") != indices.shape[").concat(s,"] (").concat(e.shape[s],")."));for(let s=0;s<n.rank-o;++s)if(n.shape[s+o]!==t[s+i])throw new Error(r+" updates.shape[".concat(s+o,"] (").concat(n.shape[s+o],") != shape[").concat(s+o,"] (").concat(t[s+o],")"))}function nI(t,e,n){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(e.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(n.length===0){if(e.size===0)throw new Error("Indices specified for empty output. indices shape: ".concat(e.shape));if(t.size===0)throw new Error("Updates specified for empty output. updates shape: ".concat(t.shape))}nF(n,e,t)}function sd(t,e,n){const i=e.shape.length,o=i>1?e.shape[i-1]:1,r=n.length;let s=1;for(let d=o;d<r;++d)s*=n[d];const a=o<1?1:o,l=ge(e.shape)/a,c=[...nt(n.slice(0,o)),1],u=ge(n);return{sliceRank:o,numUpdates:l,sliceSize:s,strides:c,outputSize:u}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zge(t,e,n){const i=j(t,"tensor","tensorScatterupdate"),o=j(e,"indices","tensorScatterupdate","int32"),r=j(n,"updates","tensorScatterupdate");if(nI(r,o,i.shape),i.dtype!==r.dtype)throw new Error("tensor and updates must have the same dtype, instead they are ".concat(i.dtype," and ").concat(r.dtype,"."));const s={tensor:i,indices:o,updates:r},a={};return ee.runKernel(iE,s,a)}const Fge=Z({tensorScatterUpdate_:zge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pge(t,e=1,n=!0){const i=j(t,"x","topk");if(i.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const o=i.shape[i.shape.length-1];if(e<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(e));if(e>o)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(o,") ")+"but got ".concat(e));const r={x:i},s={k:e,sorted:n},[a,l]=ee.runKernel(mE,r,s);return{values:a,indices:l}}const iF=Z({topk_:Pge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bge(t,e=0,n=1,i,o){if(vr(t),i!=null&&i==="bool")throw new Error("Unsupported data type $ { dtype }");const r=new HE(e,n,i,!0,o),s=xt(t,i);for(let a=0;a<s.values.length;a++)s.values[a]=r.nextValue();return s.toTensor()}const iI=Z({truncatedNormal_:Bge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mge(t,e=0){const n=j(t,"x","unique","string_or_numeric");M(n.rank>0,()=>"The input tensor must be at least 1D");const i={x:n},o={axis:e},[r,s]=ee.runKernel(bE,i,o);return{values:r,indices:s}}const oF=Z({unique_:Mge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jge(t,e,n){const i=j(t,"x","unsortedSegmentSum"),o=j(e,"segmentIds","unsortedSegmentSum","int32");M(Ph(n),()=>"numSegments must be of dtype int");const r={x:i,segmentIds:o},s={numSegments:n};return ee.runKernel(Dv,r,s)}const oI=Z({unsortedSegmentSum_:jge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uge(t,e=0){const n=j(t,"x","unstack","string_or_numeric");M(e>=-n.shape.length&&e<n.shape.length,()=>"Axis = ".concat(e," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")"));const i={value:n},o={axis:e};return ee.runKernel(Ov,i,o)}const is=Z({unstack_:Uge});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vge(t,e){return zE(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rF(t,e=!0,n,i){return ee.makeVariable(t,e,n,i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rI(t,e){const n=[];for(let r=0;r<e.length;r++)e[r]&&n.push(r);const i=xt(t,"int32"),o=xt([n.length,t.length],"int32");for(let r=0;r<n.length;r++){const s=i.indexToLoc(n[r]),a=r*t.length;o.values.set(s,a)}return o.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Hge(t){const e=j(t,"condition","whereAsync","bool"),n=await e.data(),i=rI(e.shape,n);return t!==e&&e.dispose(),i}const sF=Hge;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Wge(t,e,n){const i=j(t,"tensor","boolMask"),o=j(e,"mask","boolMask","bool"),r=n==null?0:n,s=o.rank,a=i.shape;M(s>0,()=>"mask cannot be scalar"),Zo(a.slice(r,r+s),o.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=r;m<r+s;m++)l*=a[m];const c=a.slice(0,r).concat([l],a.slice(r+s)),u=te(i,c),d=te(o,[-1]),h=await sF(d),p=Ln(h,[1]),f=e0(u,p,r);return t!==i&&i.dispose(),e!==o&&o.dispose(),p.dispose(),u.dispose(),d.dispose(),h.dispose(),f}const Gge=Wge;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qge(t,e,n){const i=j(t,"x","transpose");if(e==null&&(e=i.shape.map((s,a)=>a).reverse()),M(i.rank===e.length,()=>"Error in transpose: rank of input ".concat(i.rank," ")+"must match length of perm ".concat(e,".")),e.forEach(s=>{M(s>=0&&s<i.rank,()=>"All entries in 'perm' must be between 0 and ".concat(i.rank-1)+" but got ".concat(e))}),i.rank<=1)return i.clone();const o={x:i},r={perm:e};return i.dtype==="complex64"?ce(()=>{let s=fm(i),a=Bv(i);return s=ee.runKernel(bh,{x:s},r),a=ee.runKernel(bh,{x:a},r),n&&(a=gn(a)),tc(s,a)}):ee.runKernel(bh,o,r)}const Dt=Z({transpose_:qge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kge(t,e,n,i,o=!0){const r=j(t,"v","movingAverage"),s=j(e,"x","movingAverage"),a=j(n,"decay","movingAverage");Fde(r,s),M(Nt(r.shape,s.shape),()=>"Shape mismatch in v and x");const l=it(1),c=Ve(l,a);let u=Q(Ve(s,r),c);if(o){M(i!=null,()=>"When using zeroDebias: true, step is required.");const d=j(i,"step","movingAverage");u=Ue(u,Ve(l,Ga(a,d)))}return Se(r,u)}const Xge=Z({movingAverage_:Kge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yge(t,e,n){vr(n);const i=j(t,"indices","scatterND","int32"),o=j(e,"updates","scatterND");nI(o,i,n);const r={indices:i,updates:o},s={shape:n};return ee.runKernel(nE,r,s)}const Zge=Z({scatterND_:Yge});function Jge(t,e,n,i){if(t.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(t.shape,"."));const o=t.rank>0?t.shape[0]:1,r=t.rank>1?t.shape[1]:1;if(n.length!==r)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(r,"."));const s=e.size;if(!(e.rank===0||e.rank===1&&s===o))throw new Error("sparseValues has incorrect shape "+"".concat(e.shape,", should be [] or [").concat(o,"]"));if(e.dtype!==i.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qge(t,e,n,i=0){vr(n);const o=j(t,"sparseIndices","sparseToDense","int32"),r=j(e,"sparseValues","sparseToDense","string_or_numeric"),s=j(i,"defaultValue","sparseToDense",r.dtype);Jge(o,r,n,s);const a={sparseIndices:o,sparseValues:r,defaultValue:s},l={outputShape:n};return ee.runKernel(cE,a,l)}const e0e=Z({sparseToDense_:Qge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t0e(t,e){const n=j(e,"indices","gatherND","int32"),o={params:j(t,"x","gatherND","string_or_numeric"),indices:n};return ee.runKernel(FT,o)}const n0e=Z({gatherND_:t0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i0e(t,e){if(e==null)return t.shape.slice();if(Nt(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let i=0;i<t.shape.length;i++)e[i]==null&&t.shape[i]!=null?n.push(t.shape[i]):n.push(e[i]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o0e(t,e,n,i){const o=j(t,"x","dropout");if(M(o.dtype==="float32",()=>"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(o.dtype," tensor instead.")),M(e>=0&&e<1,()=>"rate must be a float in the range [0, 1), but got ".concat(e,".")),e===0)return t instanceof Zt?o.clone():o;const r=i0e(o,n),s=1-e,a=Ue(Qg(Se(rd(r,0,1,"float32",i),s)),s);return Q(o,a)}const aF=Z({dropout_:o0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lF(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function sI(t,e,n){const i=1-t%2,o=new Float32Array(t);for(let r=0;r<t;++r){const s=2*Math.PI*r/(t+i-1);o[r]=e-n*Math.cos(s)}return Gn(o,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function r0e(t,e,n=1){const i=j(t,"predictions","inTopK"),o=j(e,"targets","inTopK");M(i.rank>1,()=>"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(i.rank)),M(i.rank-1===o.rank,()=>"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(i.rank," and targets rank ").concat(o.rank)),Zo(i.shape.slice(0,i.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const r=i.shape[i.shape.length-1];M(n>0&&n<=r,()=>"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(r,"), but got ").concat(n));const s=await i.data(),a=await o.data(),[l,c]=[s.length/r,r],u=Oi("bool",l);for(let d=0;d<l;d++){const h=d*c,p=s.subarray(h,h+c),f=[];for(let m=0;m<p.length;m++)f.push({value:p[m],index:m});f.sort((m,b)=>b.value-m.value),u[d]=0;for(let m=0;m<n;m++)if(f[m].index===a[d]){u[d]=1;break}}return t!==i&&i.dispose(),e!==o&&o.dispose(),Ss(u,o.shape,"bool")}const s0e=r0e;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a0e(t,e,n,i,o,r="NHWC",s){let a=t;t.rank===3&&(a=te(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=te(e,[1,e.shape[0],e.shape[1],e.shape[2]])),M(a.rank===4,()=>"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(a.shape,".")),M(l.rank===4,()=>"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(l.shape,".")),M(n.length===4,()=>"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,"."));const c=r==="NHWC"?a.shape[3]:a.shape[1],u=r==="NHWC"?l.shape[3]:l.shape[1];M(c===n[2],()=>"Error in conv2dDerFilter: depth of input ".concat(c,") must ")+"match input depth in filter (".concat(n[2],".")),M(u===n[3],()=>"Error in conv2dDerFilter: depth of dy (".concat(u,") must ")+"match output depth for filter (".concat(n[3],").")),co("conv2dDerFilter",o,s);const d={x:a,dy:l},h={strides:i,pad:o,dataFormat:r,dimRoundingMode:s,filterShape:n};return ee.runKernel(kT,d,h)}const aI=Z({conv2DBackpropFilter_:a0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ew(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return Q(t,yp(e));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function tw(t,e){let n=e;const i=ii(t.shape,e.shape);return i.length>0&&(n=Ke(n,i)),te(n,t.shape)}function nw(t,e,n,i){if(e==="linear")return t;if(e==="relu")return ca(t);if(e==="elu")return Zg(t);if(e==="relu6")return GE(t);if(e==="prelu")return qv(t,n);if(e==="leakyrelu")return Mv(t,i);if(e==="sigmoid")return Cs(t);throw new Error("Unknown fused activation ".concat(e,"."))}const iw=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l0e({x:t,filter:e,strides:n,pad:i,dataFormat:o="NHWC",dilations:r=[1,1],dimRoundingMode:s,bias:a,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(l=l||"linear",iw(ee.state.gradientDepth,l)===!1){M(o==="NHWC",()=>"Error in fused conv2d: got dataFormat of ".concat(o," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.");let C=oc(t,e,n,i,o,r,s);return a!=null&&(C=Se(C,a)),nw(C,l,c,u)}const d=j(t,"x","conv2d","float32"),h=j(e,"filter","conv2d","float32");let p=d,f=!1;d.rank===3&&(f=!0,p=te(d,[1,d.shape[0],d.shape[1],d.shape[2]])),M(p.rank===4,()=>"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(p.rank,".")),M(h.rank===4,()=>"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")),co("fused conv2d",i,s);const m=o==="NHWC"?p.shape[3]:p.shape[1];M(h.shape[2]===m,()=>"Error in conv2d: depth of input (".concat(m,") must match ")+"input depth for filter ".concat(h.shape[2],".")),M(zi(n,r),()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(r,"'"));const b=gi(p.shape,h.shape,n,r,i,s);let g;a!=null&&(g=j(a,"bias","fused conv2d"),[g]=Rn(g,d),o==="NHWC"?ft(b.outShape,g.shape):(M(g.shape.length<=1,()=>"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(g.shape.length,".")),M(g.shape.length===0||g.shape[0]===b.outChannels||g.shape[0]===1,()=>"Error in fused conv2d: bias shape (".concat(g.shape,") is not ")+"compatible with the number of output channels "+"(".concat(b.outChannels,")"))));let x;if(c!=null){const C=c.shape;if(M(C.length<=1||C.length===3,()=>"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(C.length,".")),C.length===1)M(C[0]===1||C[0]===b.outChannels,()=>"Error in fused conv2d: PReLU activation weights "+"(".concat(C,") is not compatible with the number of output ")+"channels (".concat(b.outChannels,")."));else if(C.length===3)try{ft(C,b.outShape)}catch(S){const E="Error in fused conv2d: PReLU activation weights (".concat(C,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(b.outShape,").");throw Error(E)}x=j(c,"prelu weights","fused conv2d")}const y=(C,S)=>{M(o==="NHWC",()=>"Error in gradient of fused conv2D: got dataFormat of ".concat(o," but only NHWC is currently supported."));const[E,I,N,B]=S,D=ew(C,N,l);M(ic(r),()=>"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(r,"'"));const P=IE(I.shape,D,E,n,i),_=aI(I,D,E.shape,n,i),L=[P,_];if(B!=null){const z=tw(B,D);L.push(z)}return L},v={x:p,filter:h,bias:g,preluActivationWeights:x},w={strides:n,pad:i,dataFormat:o,dilations:r,dimRoundingMode:s,activation:l,leakyreluAlpha:u};return a==null?qa((S,E,I)=>{let N=ee.runKernel(Wx,v,w);return I([E,S,N]),f&&(N=te(N,[N.shape[1],N.shape[2],N.shape[3]])),{value:N,gradFunc:y}})(p,h):qa((S,E,I,N)=>{let B=ee.runKernel(Wx,v,w);return N([E,S,B,I]),f&&(B=te(B,[B.shape[1],B.shape[2],B.shape[3]])),{value:B,gradFunc:y}})(p,h,g)}const cF=Z({fusedConv2d_:l0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c0e(t,e,n,i,o,r=[1,1],s){let a=t;t.rank===3&&(a=te(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=te(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={x:a,dy:l},u={strides:i,pad:o,dimRoundingMode:s,dilations:r,filterShape:n};return ee.runKernel($T,c,u)}const uF=Z({depthwiseConv2dNativeBackpropFilter_:c0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u0e(t,e,n,i,o,r=[1,1],s){let a=e,l=!1;e.rank===3&&(l=!0,a=te(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={dy:a,filter:n},u={strides:i,pad:o,dimRoundingMode:s,dilations:r,inputShape:t},d=ee.runKernel(AT,c,u);return l?te(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const dF=Z({depthwiseConv2dNativeBackpropInput_:u0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d0e({x:t,filter:e,strides:n,pad:i,dataFormat:o="NHWC",dilations:r=[1,1],dimRoundingMode:s,bias:a,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(iw(ee.state.gradientDepth,l)===!1){let w=Yg(t,e,n,i,o,r,s);return a!=null&&(w=Se(w,a)),nw(w,l,c,u)}const d=j(t,"x","depthwiseConv2d","float32"),h=j(e,"filter","depthwiseConv2d","float32");let p=d,f=!1;d.rank===3&&(f=!0,p=te(d,[1,d.shape[0],d.shape[1],d.shape[2]])),M(p.rank===4,()=>"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(p.rank,".")),M(h.rank===4,()=>"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(h.rank,".")),M(p.shape[3]===h.shape[2],()=>"Error in fused depthwiseConv2d: number of input channels "+"(".concat(p.shape[3],") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],".")),r==null&&(r=[1,1]),M(zi(n,r),()=>"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(n," and dilations '").concat(r,"'")),co("fused depthwiseConv2d",i,s);const m=gi(p.shape,h.shape,n,r,i,s,!0);let b;a!=null&&(b=j(a,"bias","fused conv2d"),[b]=Rn(b,d),ft(m.outShape,b.shape));let g;c!=null&&(g=j(c,"prelu weights","fused depthwiseConv2d"));const x=(w,C)=>{M(ic(r),()=>"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(r,"'"));const[S,E,I,N]=C,B=ew(w,I,l),D=dF(E.shape,B,S,n,i,r,s),P=uF(E,B,S.shape,n,i,r,s);if(N!=null){const _=tw(b,B);return[D,P,_]}return[D,P]},y={x:p,filter:h,bias:b,preluActivationWeights:g},v={strides:n,pad:i,dataFormat:o,dilations:r,dimRoundingMode:s,activation:l,leakyreluAlpha:u};return a==null?qa((C,S,E)=>{let I=ee.runKernel(Gx,y,v);return E([S,C,I]),f&&(I=te(I,[I.shape[1],I.shape[2],I.shape[3]])),{value:I,gradFunc:x}})(p,h):qa((C,S,E,I)=>{let N=ee.runKernel(Gx,y,v);return I([S,C,N,E]),f&&(N=te(N,[N.shape[1],N.shape[2],N.shape[3]])),{value:N,gradFunc:x}})(p,h,b)}const h0e=Z({fusedDepthwiseConv2d_:d0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p0e({a:t,b:e,transposeA:n=!1,transposeB:i=!1,bias:o,activation:r="linear",preluActivationWeights:s,leakyreluAlpha:a=.2}){if(iw(ee.state.gradientDepth,r)===!1){let B=_t(t,e,n,i);return o!=null&&(B=Se(B,o)),nw(B,r,s,a)}let l=j(t,"a","fused matMul"),c=j(e,"b","fused matMul");[l,c]=Rn(l,c);const u=n?l.shape[l.rank-2]:l.shape[l.rank-1],d=i?c.shape[c.rank-1]:c.shape[c.rank-2],h=n?l.shape[l.rank-1]:l.shape[l.rank-2],p=i?c.shape[c.rank-2]:c.shape[c.rank-1],f=l.shape.slice(0,-2),m=c.shape.slice(0,-2),b=ge(f),g=ge(m);M(u===d,()=>"Error in fused matMul: inner shapes (".concat(u,") and (")+"".concat(d,") of Tensors with shapes ").concat(l.shape," and ")+"".concat(c.shape," and transposeA=").concat(n)+" and transposeB=".concat(i," must match."));const y=ft(l.shape.slice(0,-2),c.shape.slice(0,-2)).concat([h,p]),v=n?te(l,[b,u,h]):te(l,[b,h,u]),w=i?te(c,[g,p,d]):te(c,[g,d,p]);let C;o!=null&&(C=j(o,"bias","fused matMul"),[C]=Rn(C,l),ft(y,C.shape));let S;s!=null&&(S=j(s,"prelu weights","fused matMul"));const E=(B,D)=>{const[P,_,L,z]=D,V=ew(te(B,L.shape),L,r);let q,U;if(!n&&!i?(q=_t(V,_,!1,!0),U=_t(P,V,!0,!1)):!n&&i?(q=_t(V,_,!1,!1),U=_t(V,P,!0,!1)):n&&!i?(q=_t(_,V,!1,!0),U=_t(P,V,!1,!1)):(q=_t(_,V,!0,!0),U=_t(V,P,!0,!0)),o!=null){const X=tw(z,V);return[q,U,X]}else return[q,U]},I={a:v,b:w,bias:C,preluActivationWeights:S},N={transposeA:n,transposeB:i,activation:r,leakyreluAlpha:a};return o==null?qa((D,P,_)=>{const L=ee.runKernel(Hx,I,N);return _([D,P,L]),{value:te(L,y),gradFunc:E}})(v,w):qa((D,P,_,L)=>{const z=ee.runKernel(Hx,I,N);return L([D,P,z,_]),{value:te(z,y),gradFunc:E}})(v,w,C)}const yS=Z({fusedMatMul_:p0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f0e=Object.freeze(Object.defineProperty({__proto__:null,conv2d:cF,depthwiseConv2d:h0e,matMul:yS},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m0e(t){return sI(t,.54,.46)}const g0e=Z({hammingWindow_:m0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b0e(t){return sI(t,.5,.5)}const hF=Z({hannWindow_:b0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x0e(t,e,n,i=!1,o=0){let r=0;const s=[];for(;r+e<=t.size;)s.push(at(t,r,e)),r+=n;if(i)for(;r<t.size;){const a=r+e-t.size,l=Dn([at(t,r,e-a),bp([a],o)]);s.push(l),r+=n}return s.length===0?mu([],[0,e]):te(Dn(s),[s.length,e])}const pF=Z({frame_:x0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y0e(t,e,n,i,o=hF){i==null&&(i=lF(e));const r=pF(t,e,n),s=Q(r,o(e));return Qv(s,i)}const v0e=Z({stft_:y0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w0e(t,e,n,i,o="bilinear",r=0){const s=j(t,"image","cropAndResize"),a=j(e,"boxes","cropAndResize","float32"),l=j(n,"boxInd","cropAndResize","int32"),c=a.shape[0];M(s.rank===4,()=>"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(s.rank,".")),M(a.rank===2&&a.shape[1]===4,()=>"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(a.shape,".")),M(l.rank===1&&l.shape[0]===c,()=>"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(a.shape,".")),M(i.length===2,()=>"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(i.length,".")),M(i[0]>=1&&i[1]>=1,()=>"cropSize must be atleast [1,1], but was ".concat(i)),M(o==="bilinear"||o==="nearest",()=>"method must be bilinear or nearest, but was ".concat(o));const u={image:s,boxes:a,boxInd:l},d={method:o,extrapolationValue:r,cropSize:i};return ee.runKernel(ET,u,d)}const k0e=Z({cropAndResize_:w0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S0e(t){const e=j(t,"image","flipLeftRight","float32");M(e.rank===4,()=>"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(e.rank,"."));const n={image:e};return ee.runKernel(zT,n,{})}const C0e=Z({flipLeftRight_:S0e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T0e(t){const e=j(t,"image","grayscaleToRGB"),n=e.rank-1,i=e.shape[n];M(e.rank>=2,()=>"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(e.rank,".")),M(i===1,()=>"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(i,"."));const o=new Array(e.rank);return o.fill(1,0,n),o[n]=3,Gr(e,o)}const E0e=Z({grayscaleToRGB_:T0e});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I0e(t){const e=j(t,"image","RGBToGrayscale"),n=e.rank-1,i=e.shape[n];M(e.rank>=2,()=>"Error in RGBToGrayscale: images must be at least rank 2, "+"but got rank ".concat(e.rank,".")),M(i===3,()=>"Error in RGBToGrayscale: last dimension of an RGB image "+"should be size 3, but got size ".concat(i,"."));const o=e.dtype,r=Pe(e,"float32"),s=Gn([.2989,.587,.114]);let a;switch(e.rank){case 2:a=Hd("ij,j->i",r,s);break;case 3:a=Hd("ijk,k->ij",r,s);break;case 4:a=Hd("ijkl,l->ijk",r,s);break;case 5:a=Hd("ijklm,m->ijkl",r,s);break;case 6:a=Hd("ijklmn,n->ijklm",r,s);break;default:throw new Error("Not a valid tensor rank.")}return a=Ci(a,-1),Pe(a,o)}const _0e=Z({rgbToGrayscale_:I0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $0e(t,e,n=0,i=.5){const o=j(t,"image","rotateWithOffset","float32");M(o.rank===4,()=>"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(o.rank,"."));const r={image:o},s={radians:e,fillValue:n,center:i};return ee.runKernel(xE,r,s)}const A0e=Z({rotateWithOffset_:$0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vp(t,e,n,i,o,r){i==null&&(i=.5),o==null&&(o=Number.NEGATIVE_INFINITY),r==null&&(r=0);const s=t.shape[0];return n=Math.min(n,s),M(0<=i&&i<=1,()=>"iouThreshold must be in [0, 1], but was '".concat(i,"'")),M(t.rank===2,()=>"boxes must be a 2D tensor, but was of rank '".concat(t.rank,"'")),M(t.shape[1]===4,()=>"boxes must have 4 columns, but 2nd dimension was ".concat(t.shape[1])),M(e.rank===1,()=>"scores must be a 1D tensor"),M(e.shape[0]===s,()=>"scores has incompatible shape with boxes. Expected ".concat(s,", ")+"but was ".concat(e.shape[0])),M(0<=r&&r<=1,()=>"softNmsSigma must be in [0, 1], but was '".concat(r,"'")),{maxOutputSize:n,iouThreshold:i,scoreThreshold:o,softNmsSigma:r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N0e(t,e,n,i=.5,o=Number.NEGATIVE_INFINITY){const r=j(t,"boxes","nonMaxSuppression","float32"),s=j(e,"scores","nonMaxSuppression","float32"),a=vp(r,s,n,i,o);n=a.maxOutputSize,i=a.iouThreshold,o=a.scoreThreshold;const l={maxOutputSize:n,iouThreshold:i,scoreThreshold:o};return ee.runKernel(GT,{boxes:r,scores:s},l)}const O0e=Z({nonMaxSuppression_:N0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D0e(t,e,n){const i=R0e(t,e,n),o=i<0?-(i+1):i;t.splice(o,0,e)}function R0e(t,e,n){return z0e(t,e,n||L0e)}function L0e(t,e){return t>e?1:t<e?-1:0}function z0e(t,e,n){let i=0,o=t.length,r=0,s=!1;for(;i<o;){r=i+(o-i>>>1);const a=n(e,t[r]);a>0?i=r+1:(o=r,s=!a)}return s?i:-i-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lI(t,e,n,i,o){return dI(t,e,n,i,o,0)}function cI(t,e,n,i,o,r){return dI(t,e,n,i,o,0,!1,r,!0)}function uI(t,e,n,i,o,r){return dI(t,e,n,i,o,r,!0)}function dI(t,e,n,i,o,r,s=!1,a=!1,l=!1){const c=[];for(let b=0;b<e.length;b++)e[b]>o&&c.push({score:e[b],boxIndex:b,suppressBeginIndex:0});c.sort(jA);const u=r>0?-.5/r:0,d=[],h=[];for(;d.length<n&&c.length>0;){const b=c.pop(),{score:g,boxIndex:x,suppressBeginIndex:y}=b;if(g<o)break;let v=!1;for(let w=d.length-1;w>=y;--w){const C=F0e(t,x,d[w]);if(C>=i){v=!0;break}if(b.score=b.score*P0e(i,u,C),b.score<=o)break}b.suppressBeginIndex=d.length,v||(b.score===g?(d.push(x),h.push(b.score)):b.score>o&&D0e(c,b,jA))}const p=d.length,f=n-p;a&&f>0&&(d.push(...new Array(f).fill(0)),h.push(...new Array(f).fill(0)));const m={selectedIndices:d};return s&&(m.selectedScores=h),l&&(m.validOutputs=p),m}function F0e(t,e,n){const i=t.subarray(e*4,e*4+4),o=t.subarray(n*4,n*4+4),r=Math.min(i[0],i[2]),s=Math.min(i[1],i[3]),a=Math.max(i[0],i[2]),l=Math.max(i[1],i[3]),c=Math.min(o[0],o[2]),u=Math.min(o[1],o[3]),d=Math.max(o[0],o[2]),h=Math.max(o[1],o[3]),p=(a-r)*(l-s),f=(d-c)*(h-u);if(p<=0||f<=0)return 0;const m=Math.max(r,c),b=Math.max(s,u),g=Math.min(a,d),x=Math.min(l,h),y=Math.max(g-m,0)*Math.max(x-b,0);return y/(p+f-y)}function P0e(t,e,n){const i=Math.exp(e*n*n);return n<=t?i:0}function jA(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function B0e(t,e,n,i=.5,o=Number.NEGATIVE_INFINITY){const r=j(t,"boxes","nonMaxSuppressionAsync"),s=j(e,"scores","nonMaxSuppressionAsync"),a=vp(r,s,n,i,o);n=a.maxOutputSize,i=a.iouThreshold,o=a.scoreThreshold;const l=await Promise.all([r.data(),s.data()]),c=l[0],u=l[1],{selectedIndices:d}=lI(c,u,n,i,o);return r!==t&&r.dispose(),s!==e&&s.dispose(),Gn(d,"int32")}const M0e=B0e;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j0e(t,e,n,i=.5,o=Number.NEGATIVE_INFINITY,r=0){const s=j(t,"boxes","nonMaxSuppression"),a=j(e,"scores","nonMaxSuppression"),l=vp(s,a,n,i,o,r);n=l.maxOutputSize,i=l.iouThreshold,o=l.scoreThreshold,r=l.softNmsSigma;const c={boxes:s,scores:a},u={maxOutputSize:n,iouThreshold:i,scoreThreshold:o,softNmsSigma:r},d=ee.runKernel(KT,c,u);return{selectedIndices:d[0],selectedScores:d[1]}}const U0e=Z({nonMaxSuppressionWithScore_:j0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function V0e(t,e,n,i=.5,o=Number.NEGATIVE_INFINITY,r=0){const s=j(t,"boxes","nonMaxSuppressionAsync"),a=j(e,"scores","nonMaxSuppressionAsync"),l=vp(s,a,n,i,o,r);n=l.maxOutputSize,i=l.iouThreshold,o=l.scoreThreshold,r=l.softNmsSigma;const c=await Promise.all([s.data(),a.data()]),u=c[0],d=c[1],{selectedIndices:h,selectedScores:p}=uI(u,d,n,i,o,r);return s!==t&&s.dispose(),a!==e&&a.dispose(),{selectedIndices:Gn(h,"int32"),selectedScores:Gn(p)}}const H0e=V0e;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W0e(t,e,n,i=.5,o=Number.NEGATIVE_INFINITY,r=!1){const s=j(t,"boxes","nonMaxSuppression"),a=j(e,"scores","nonMaxSuppression"),l=vp(s,a,n,i,o,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,h={boxes:s,scores:a},p={maxOutputSize:c,iouThreshold:u,scoreThreshold:d,padToMaxOutputSize:r},f=ee.runKernel(qT,h,p);return{selectedIndices:f[0],validOutputs:f[1]}}const G0e=Z({nonMaxSuppressionPadded_:W0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function q0e(t,e,n,i=.5,o=Number.NEGATIVE_INFINITY,r=!1){const s=j(t,"boxes","nonMaxSuppressionAsync"),a=j(e,"scores","nonMaxSuppressionAsync"),l=vp(s,a,n,i,o,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,[h,p]=await Promise.all([s.data(),a.data()]),{selectedIndices:f,validOutputs:m}=cI(h,p,c,u,d,r);return s!==t&&s.dispose(),a!==e&&a.dispose(),{selectedIndices:Gn(f,"int32"),validOutputs:it(m,"int32")}}const K0e=q0e;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X0e(t,e,n=!1,i=!1){const o=j(t,"images","resizeBilinear");M(o.rank===3||o.rank===4,()=>"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(o.rank,".")),M(e.length===2,()=>"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(e,".")),M(i===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let r=o,s=!1;o.rank===3&&(s=!0,r=te(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const a={images:r},l={alignCorners:n,halfPixelCenters:i,size:e},c=ee.runKernel(Sv,a,l);return s?te(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const fF=Z({resizeBilinear_:X0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y0e(t,e,n=!1,i=!1){const o=j(t,"images","resizeNearestNeighbor");M(o.rank===3||o.rank===4,()=>"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(o.rank,".")),M(e.length===2,()=>"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(e,".")),M(o.dtype==="float32"||o.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),M(i===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let r=o,s=!1;o.rank===3&&(s=!0,r=te(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const a={images:r},l={alignCorners:n,halfPixelCenters:i,size:e},c=ee.runKernel(kv,a,l);return s?te(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const mF=Z({resizeNearestNeighbor_:Y0e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z0e(t,e="binary",n=!1,i=.5){const o=j(t,"image","threshold"),r=.2989,s=.587,a=.114,l=o.shape[0]*o.shape[1];let c=Q(Gn([i]),255),u,d,h,p;if(M(o.rank===3,()=>"Error in threshold: image must be rank 3,"+"but got rank ".concat(o.rank,".")),M(o.shape[2]===3||o.shape[2]===1,()=>"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(o.shape[2],".")),M(o.dtype==="int32"||o.dtype==="float32",()=>"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(o.dtype,".")),M(e==="otsu"||e==="binary",()=>"Method must be binary or otsu, but was ".concat(e)),o.shape[2]===3){[u,d,h]=Uo(o,[1,1,1],-1);const b=Q(u,r),g=Q(d,s),x=Q(h,a);p=Se(Se(b,g),x)}else p=t;if(e==="otsu"){const b=kz(Pe(qE(p),"int32"),Ss([]),256);c=J0e(b,l)}const f=n?id(p,c):Qo(p,c);return Pe(Q(f,255),"int32")}function J0e(t,e){let n=Gn([-1]),i=Gn([0]),o=Gn([0]),r,s,a,l,c,u;for(let d=0;d<t.size-1;d++){r=at(t,0,d+1),s=at(t,d+1),c=Ue(Ke(r),e),u=Ue(Ke(s),e);const h=Ke(Q(r,Hh(0,r.size)));a=Ue(h,Ke(r));const p=bp(s.shape,r.size),f=Se(Hh(0,s.size),p),m=Q(s,f);l=Ue(Ke(m),Ke(s));const b=Ve(a,l),g=Ve(a,l),x=Q(c,u);o=Q(Q(x,b),g);const y=Qo(o,i);i=qi(y,o,i),n=qi(y,Gn([d]),n)}return n}const Q0e=Z({threshold_:Z0e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ebe(t,e,n="nearest",i="constant",o=0,r){const s=j(t,"image","transform","float32"),a=j(e,"transforms","transform","float32");M(s.rank===4,()=>"Error in transform: image must be rank 4,"+"but got rank ".concat(s.rank,".")),M(a.rank===2&&(a.shape[0]===s.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),M(r==null||r.length===2,()=>"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(r,"."));const l={image:s,transforms:a},c={interpolation:n,fillMode:i,fillValue:o,outputShape:r};return ee.runKernel(gE,l,c)}const tbe=Z({transform_:ebe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nbe(t,e,n){const i=j(t,"a","bandPart");M(i.rank>=2,()=>"bandPart(): Rank must be at least 2, got ".concat(i.rank,"."));const o=i.shape,[r,s]=i.shape.slice(-2);let a,l;typeof e=="number"?(M(e%1===0,()=>"bandPart(): numLower must be an integer, got ".concat(e,".")),M(e<=r,()=>"bandPart(): numLower (".concat(e,")")+" must not be greater than the number of rows (".concat(r,").")),a=j(e<0?r:e,"numLower","bandPart")):(M(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),a=qi(pm(e,0),r,Fu(e,r))),typeof n=="number"?(M(n%1===0,()=>"bandPart(): numUpper must be an integer, got ".concat(n,".")),M(n<=s,()=>"bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(s,").")),l=j(n<0?s:n,"numUpper","bandPart")):(M(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=qi(pm(n,0),s,Fu(n,s)));const c=te(Hh(0,r,1,"int32"),[-1,1]),u=Hh(0,s,1,"int32"),d=Ve(c,u),h=ia(id(d,a),Cc(d,gn(l))),p=Yn([r,s],i.dtype);return te(qo(is(te(i,[-1,r,s])).map(f=>qi(h,f,p))),o)}const ibe=Z({bandPart_:nbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function obe(t){let e;if(Array.isArray(t)){e=!1,M(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const o=t[0].shape[0];for(let r=1;r<t.length;++r)M(t[r].shape[0]===o,()=>"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(t[r].shape[0]," vs. ").concat(o,")"))}else e=!0,t=Uo(t,t.shape[0],0).map(o=>Ln(o,[0]));M(t.length<=t[0].shape[0],()=>"Gram-Schmidt: Number of vectors (".concat(t.length,") exceeds ")+"number of dimensions (".concat(t[0].shape[0],")."));const n=[],i=t;for(let o=0;o<t.length;++o)n.push(ee.tidy(()=>{let r=i[o];if(o>0)for(let s=0;s<o;++s){const a=Q(Ke(Q(n[s],r)),n[s]);r=Ve(r,a)}return Ue(r,Jg(r,"euclidean"))}));return e?qo(n,0):n}const rbe=Z({gramSchmidt_:obe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sbe(t,e=!1){if(M(t.rank>=2,()=>"qr() requires input tensor to have a rank >= 2, but got rank ".concat(t.rank)),t.rank===2)return UA(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,c)=>l*c),i=is(te(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),o=[],r=[];i.forEach(l=>{const[c,u]=UA(l,e);o.push(c),r.push(u)});const s=te(qo(o,0),t.shape),a=te(qo(r,0),t.shape);return[s,a]}}function UA(t,e=!1){return ee.tidy(()=>{M(t.shape.length===2,()=>"qr2d() requires a 2D Tensor, but got a ".concat(t.shape.length,"D Tensor."));const n=t.shape[0],i=t.shape[1];let o=DE(n),r=Ba(t);const s=mu([[1]],[1,1]);let a=Ba(s);const l=n>=i?i:n;for(let c=0;c<l;++c){const u=r,d=a,h=o;[a,r,o]=ee.tidy(()=>{const p=at(r,[c,c],[n-c,1]),f=Jg(p),m=at(r,[c,c],[1,1]),b=qi(Qo(m,0),mu([[-1]]),mu([[1]])),g=Ve(m,Q(b,f)),x=Ue(p,g);x.shape[0]===1?a=Ba(s):a=Dn([s,at(x,[1,0],[x.shape[0]-1,x.shape[1]])],0);const y=gn(Ue(_t(b,g),f)),v=at(r,[c,0],[n-c,i]),w=Q(y,a),C=Dt(a);if(c===0)r=Ve(v,_t(w,_t(C,v)));else{const I=Ve(v,_t(w,_t(C,v)));r=Dn([at(r,[0,0],[c,i]),I],0)}const S=Dt(w),E=at(o,[0,c],[n,o.shape[1]-c]);if(c===0)o=Ve(E,_t(_t(E,a),S));else{const I=Ve(E,_t(_t(E,a),S));o=Dn([at(o,[0,0],[n,c]),I],1)}return[a,r,o]}),pt([u,d,h])}return!e&&n>i&&(o=at(o,[0,0],[n,i]),r=at(r,[0,0],[i,i])),[o,r]})}const abe=Z({qr_:sbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var vo;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(vo||(vo={}));function lbe(t,e,n=vo.SUM_BY_NONZERO_WEIGHTS){const i=j(t,"losses","computeWeightedLoss");let o=null;e!=null&&(o=j(e,"weights","computeWeightedLoss"));const r=o==null?i:Q(i,o);if(n===vo.NONE)return r;if(n===vo.SUM)return Ke(r);if(n===vo.MEAN){if(o==null)return _n(r);{const s=i.size/o.size,a=Ue(Ke(r),Ke(o));return s>1?Ue(a,it(s)):a}}if(n===vo.SUM_BY_NONZERO_WEIGHTS){if(o==null)return Ue(Ke(r),it(i.size));{const s=Q(o,jo(i.shape)),a=Pe(Ke(Vh(s,it(0))),"float32");return Ue(Ke(r),a)}}throw Error("Unknown reduction: ".concat(n))}const nl=Z({computeWeightedLoss_:lbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cbe(t,e,n,i=vo.SUM_BY_NONZERO_WEIGHTS){const o=j(t,"labels","absoluteDifference"),r=j(e,"predictions","absoluteDifference");let s=null;n!=null&&(s=j(n,"weights","absoluteDifference")),Zo(o.shape,r.shape,"Error in absoluteDifference: ");const a=Xn(Ve(o,r));return nl(a,s,i)}const ube=Z({absoluteDifference_:cbe});function dbe(t,e,n,i,o=vo.SUM_BY_NONZERO_WEIGHTS){const r=j(t,"labels","cosineDistance"),s=j(e,"predictions","cosineDistance");let a=null;i!=null&&(a=j(i,"weights","cosineDistance")),Zo(r.shape,s.shape,"Error in cosineDistance: ");const l=it(1),c=Ve(l,Ke(Q(r,s),n,!0));return nl(c,a,o)}const hbe=Z({cosineDistance_:dbe});function pbe(t,e,n,i=vo.SUM_BY_NONZERO_WEIGHTS){let o=j(t,"labels","hingeLoss");const r=j(e,"predictions","hingeLoss");let s=null;n!=null&&(s=j(n,"weights","hingeLoss")),Zo(o.shape,r.shape,"Error in hingeLoss: ");const a=it(1);o=Ve(Q(it(2),o),a);const l=ca(Ve(a,Q(o,r)));return nl(l,s,i)}const fbe=Z({hingeLoss_:pbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mbe(t,e,n,i=1,o=vo.SUM_BY_NONZERO_WEIGHTS){const r=j(t,"labels","huberLoss"),s=j(e,"predictions","huberLoss");let a=null;n!=null&&(a=j(n,"weights","huberLoss")),Zo(r.shape,s.shape,"Error in huberLoss: ");const l=it(i),c=Xn(Ve(s,r)),u=Fu(c,l),d=Ve(c,u),h=Se(Q(it(.5),Jt(u)),Q(l,d));return nl(h,a,o)}const gbe=Z({huberLoss_:mbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bbe(t,e,n,i=1e-7,o=vo.SUM_BY_NONZERO_WEIGHTS){const r=j(t,"labels","logLoss"),s=j(e,"predictions","logLoss");let a=null;n!=null&&(a=j(n,"weights","logLoss")),Zo(r.shape,s.shape,"Error in logLoss: ");const l=it(1),c=it(i),u=gn(Q(r,gr(Se(s,c)))),d=Q(Ve(l,r),gr(Se(Ve(l,s),c))),h=Ve(u,d);return nl(h,a,o)}const xbe=Z({logLoss_:bbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ybe(t,e,n,i=vo.SUM_BY_NONZERO_WEIGHTS){const o=j(t,"labels","meanSquaredError"),r=j(e,"predictions","meanSquaredError");let s=null;n!=null&&(s=j(n,"weights","meanSquaredError")),Zo(o.shape,r.shape,"Error in meanSquaredError: ");const a=tI(o,r);return nl(a,s,i)}const vbe=Z({meanSquaredError_:ybe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wbe(t,e){const n=j(t,"labels","sigmoidCrossEntropyWithLogits"),i=j(e,"logits","sigmoidCrossEntropyWithLogits");Zo(n.shape,i.shape,"Error in sigmoidCrossEntropyWithLogits: ");const o=ca(i),r=Q(i,n),s=jv(ao(gn(Xn(i))));return Se(Ve(o,r),s)}function kbe(t,e,n,i=0,o=vo.SUM_BY_NONZERO_WEIGHTS){let r=j(t,"multiClassLabels","sigmoidCrossEntropy");const s=j(e,"logits","sigmoidCrossEntropy");let a=null;if(n!=null&&(a=j(n,"weights","sigmoidCrossEntropy")),Zo(r.shape,s.shape,"Error in sigmoidCrossEntropy: "),i>0){const c=it(i),u=it(1),d=it(.5);r=Se(Q(r,Ve(u,c)),Q(d,c))}const l=wbe(r,s);return nl(l,a,o)}const Sbe=Z({sigmoidCrossEntropy_:kbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cbe(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(e.rank," ")+"and dim was ".concat(n));return qa((o,r,s)=>{const l=Uv(r,[n],!0),c=Ve(Pe(r,"float32"),l);s([o,c]);const u=gn(Q(c,o));return{value:Ke(u,[n]),gradFunc:(p,f)=>{const[m,b]=f,g=Mn(p.shape,[n]);return[Q(te(p,g),Ve(Pe(m,"float32"),ao(b))),Q(te(p,g),Ve(ao(b),Pe(m,"float32")))]}}})(t,e)}function Tbe(t,e,n,i=0,o=vo.SUM_BY_NONZERO_WEIGHTS){let r=j(t,"onehotLabels","softmaxCrossEntropy");const s=j(e,"logits","softmaxCrossEntropy");let a=null;if(n!=null&&(a=j(n,"weights","softmaxCrossEntropy")),Zo(r.shape,s.shape,"Error in softmaxCrossEntropy: "),i>0){const c=it(i),u=it(1),d=it(r.shape[1]);r=Se(Q(r,Ve(u,c)),Ue(c,d))}const l=Cbe(r,s);return nl(l,a,o)}const Ebe=Z({softmaxCrossEntropy_:Tbe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ibe(t,e,n,i){const o=j(t,"indices","sparseFillEmptyRows","int32"),r=j(e,"values","sparseFillEmptyRows"),s=j(n,"denseShape","sparseFillEmptyRows","int32"),a=j(i,"defaultValue","sparseFillEmptyRows",r.dtype);if(o.rank!==2)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(o.shape));if(r.rank!==1)throw new Error("Values should be Tensor1D but received shape ".concat(r.shape));if(s.rank!==1)throw new Error("Dense shape should be Tensor1D but received shape ".concat(s.shape));if(a.rank!==0)throw new Error("Default value should be a scalar but received shape ".concat(a.shape));const l={indices:o,values:r,denseShape:s,defaultValue:a},c=ee.runKernel(rE,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}const _be=Z({sparseFillEmptyRows_:Ibe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $be(t,e,n){const i=j(t,"inputIndices","sparseReshape","int32"),o=j(e,"inputShape","sparseReshape","int32"),r=j(n,"newShape","sparseReshape","int32");if(i.rank!==2)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(i.shape));if(o.rank!==1)throw new Error("Input shape should be Tensor1D but received shape ".concat(o.shape));if(r.rank!==1)throw new Error("New shape should be Tensor1D but received shape ".concat(r.shape));const s={inputIndices:i,inputShape:o,newShape:r},a=ee.runKernel(sE,s);return{outputIndices:a[0],outputShape:a[1]}}const Abe=Z({sparseReshape_:$be});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nbe(t,e,n){const i=j(t,"data","sparseSegmentMean"),o=j(e,"indices","sparseSegmentMean","int32"),r=j(n,"segmentIds","sparseSegmentMean","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.rank!==1)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(o.shape));if(r.rank!==1)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(r.shape));const s={data:i,indices:o,segmentIds:r};return ee.runKernel(aE,s)}const Obe=Z({sparseSegmentMean_:Nbe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dbe(t,e,n){const i=j(t,"data","sparseSegmentSum"),o=j(e,"indices","sparseSegmentSum","int32"),r=j(n,"segmentIds","sparseSegmentSum","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.rank!==1)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(o.shape));if(r.rank!==1)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(r.shape));const s={data:i,indices:o,segmentIds:r};return ee.runKernel(lE,s)}const Rbe=Z({sparseSegmentSum_:Dbe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lbe(t,e,n,i,o,r,s,a){const l=j(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error("Data must be a vector, saw: ".concat(l.shape));const c=j(e,"dataSplits","stringNGrams");if(c.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:i,leftPad:o,rightPad:r,padWidth:s,preserveShortSequences:a},d={data:l,dataSplits:c},h=ee.runKernel(hE,d,u);return{nGrams:h[0],nGramsSplits:h[1]}}const zbe=Z({stringNGrams_:Lbe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fbe(t,e,n=!0){const i=j(t,"input","stringSplit","string"),o=j(e,"delimiter","stringSplit","string");if(i.rank!==1)throw new Error("Input should be Tensor1D but received shape ".concat(i.shape));if(o.rank!==0)throw new Error("Delimiter should be a scalar but received shape ".concat(o.shape));const r={skipEmpty:n},s={input:i,delimiter:o},a=ee.runKernel(pE,s,r);return{indices:a[0],values:a[1],shape:a[2]}}const Pbe=Z({stringSplit_:Fbe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bbe(t,e){const n=j(t,"input","stringToHashBucketFast","string"),i={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const o={input:n};return ee.runKernel(fE,o,i)}const Mbe=Z({stringToHashBucketFast_:Bbe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jbe(t,e,n,i=!0){const o=j(t,"input","staticRegexReplace","string"),r={pattern:e,rewrite:n,replaceGlobal:i};return ee.runKernel(Nv,{x:o},r)}const Ube=Z({staticRegexReplace_:jbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vbe={fft:Jv,ifft:gm,rfft:Qv,irfft:eI},Hbe={hammingWindow:g0e,hannWindow:hF,frame:pF,stft:v0e},ar={flipLeftRight:C0e,grayscaleToRGB:E0e,resizeNearestNeighbor:mF,resizeBilinear:fF,rgbToGrayscale:_0e,rotateWithOffset:A0e,cropAndResize:k0e,nonMaxSuppression:O0e,nonMaxSuppressionAsync:M0e,nonMaxSuppressionWithScore:U0e,nonMaxSuppressionWithScoreAsync:H0e,nonMaxSuppressionPadded:G0e,nonMaxSuppressionPaddedAsync:K0e,threshold:Q0e,transform:tbe},gF={bandPart:ibe,gramSchmidt:rbe,qr:abe},Wbe={absoluteDifference:ube,computeWeightedLoss:nl,cosineDistance:hbe,hingeLoss:fbe,huberLoss:gbe,logLoss:xbe,meanSquaredError:vbe,sigmoidCrossEntropy:Sbe,softmaxCrossEntropy:Ebe},Gbe={sparseFillEmptyRows:_be,sparseReshape:Abe,sparseSegmentMean:Obe,sparseSegmentSum:Rbe},qbe={stringNGrams:zbe,stringSplit:Pbe,stringToHashBucketFast:Mbe,staticRegexReplace:Ube};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kbe=new Map,Xbe=new Map;class wp{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class Br{constructor(){this.classNameMap={}}static getMap(){return Br.instance==null&&(Br.instance=new Br),Br.instance}static register(e){Br.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Ee(t,e,n){M(t.className!=null,()=>"Class being registered does not have the static className property defined."),M(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),M(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const i=n,o=e+">"+i;return Br.register(t),Kbe.set(o,t),Xbe.set(t,o),t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ec extends wp{minimize(e,n=!1,i){const{value:o,grads:r}=this.computeGradients(e,i);if(i!=null){const s=i.map(a=>({name:a.name,tensor:r[a.name]}));this.applyGradients(s)}else this.applyGradients(r);return pt(r),n?o:(o.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return Sfe(e,n)}dispose(){this.iterations_!=null&&pt(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:it(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()))}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Ec,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bF extends Ec{static get className(){return"Adadelta"}constructor(e,n,i=null){super(),this.learningRate=e,this.rho=n,this.epsilon=i,this.accumulatedGrads=[],this.accumulatedUpdates=[],i==null&&(this.epsilon=ee.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,o)=>{const r=ee.registeredVariables[i],s=!1;this.accumulatedGrads[o]==null&&(this.accumulatedGrads[o]={originalName:"".concat(i,"/accum_grad"),variable:ce(()=>Rt(r).variable(s))}),this.accumulatedUpdates[o]==null&&(this.accumulatedUpdates[o]={originalName:"".concat(i,"/accum_var"),variable:ce(()=>Rt(r).variable(s))});const a=Array.isArray(e)?e[o].tensor:e[i];if(a==null)return;const l=this.accumulatedGrads[o].variable,c=this.accumulatedUpdates[o].variable;ce(()=>{const u=Se(Q(l,this.rho),Q(Jt(a),1-this.rho)),d=Q(Ue(Di(Se(c,this.epsilon)),Di(Se(l,this.epsilon))),a),h=Se(Q(c,this.rho),Q(Jt(d),1-this.rho));l.assign(u),c.assign(h);const p=Se(Q(d,-this.learningRate),r);r.assign(p)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(pt(this.accumulatedGrads.map(e=>e.variable)),pt(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,i=!1;this.accumulatedGrads=e.slice(0,n).map(o=>({originalName:o.name,variable:o.tensor.variable(i)})),this.accumulatedUpdates=e.slice(n,n*2).map(o=>({originalName:o.name,variable:o.tensor.variable(i)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xF extends Ec{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,o)=>{const r=ee.registeredVariables[i];this.accumulatedGrads[o]==null&&(this.accumulatedGrads[o]={originalName:"".concat(i,"/accumulator"),variable:ce(()=>bp(r.shape,this.initialAccumulatorValue).variable(!1))});const s=Array.isArray(e)?e[o].tensor:e[i];if(s==null)return;const a=this.accumulatedGrads[o].variable;ce(()=>{const l=Se(a,Jt(s));a.assign(l);const c=Se(Q(Ue(s,Di(Se(l,ee.backend.epsilon()))),-this.learningRate),r);r.assign(c)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&pt(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(i=>({originalName:i.name,variable:i.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yF extends Ec{static get className(){return"Adam"}constructor(e,n,i,o=null){super(),this.learningRate=e,this.beta1=n,this.beta2=i,this.epsilon=o,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],ce(()=>{this.accBeta1=it(n).variable(),this.accBeta2=it(i).variable()}),o==null&&(this.epsilon=ee.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(i=>i.name):Object.keys(e);ce(()=>{const i=Ve(1,this.accBeta1),o=Ve(1,this.accBeta2);n.forEach((r,s)=>{const a=ee.registeredVariables[r],l=!1;this.accumulatedFirstMoment[s]==null&&(this.accumulatedFirstMoment[s]={originalName:"".concat(r,"/m"),variable:ce(()=>Rt(a).variable(l))}),this.accumulatedSecondMoment[s]==null&&(this.accumulatedSecondMoment[s]={originalName:"".concat(r,"/v"),variable:ce(()=>Rt(a).variable(l))});const c=Array.isArray(e)?e[s].tensor:e[r];if(c==null)return;const u=this.accumulatedFirstMoment[s].variable,d=this.accumulatedSecondMoment[s].variable,h=Se(Q(u,this.beta1),Q(c,1-this.beta1)),p=Se(Q(d,this.beta2),Q(Jt(c),1-this.beta2)),f=Ue(h,i),m=Ue(p,o);u.assign(h),d.assign(p);const b=Se(Q(Ue(f,Se(Di(m),this.epsilon)),-this.learningRate),a);a.assign(b)}),this.accBeta1.assign(Q(this.accBeta1,this.beta1)),this.accBeta2.assign(Q(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&pt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&pt(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),ce(()=>{this.accBeta1.assign(Ga(this.beta1,this.iterations_+1)),this.accBeta2.assign(Ga(this.beta2,this.iterations_+1))});const n=e.length/2,i=!1;this.accumulatedFirstMoment=e.slice(0,n).map(o=>({originalName:o.name,variable:o.tensor.variable(i)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(o=>({originalName:o.name,variable:o.tensor.variable(i)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vF extends Ec{static get className(){return"Adamax"}constructor(e,n,i,o=null,r=0){super(),this.learningRate=e,this.beta1=n,this.beta2=i,this.epsilon=o,this.decay=r,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],ce(()=>{this.iteration=it(0).variable(),this.accBeta1=it(n).variable()}),o==null&&(this.epsilon=ee.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(i=>i.name):Object.keys(e);ce(()=>{const i=Ve(1,this.accBeta1),o=Ue(-this.learningRate,Se(Q(this.iteration,this.decay),1));n.forEach((r,s)=>{const a=ee.registeredVariables[r],l=!1;this.accumulatedFirstMoment[s]==null&&(this.accumulatedFirstMoment[s]={originalName:"".concat(r,"/m"),variable:Rt(a).variable(l)}),this.accumulatedWeightedInfNorm[s]==null&&(this.accumulatedWeightedInfNorm[s]={originalName:"".concat(r,"/v"),variable:Rt(a).variable(l)});const c=Array.isArray(e)?e[s].tensor:e[r];if(c==null)return;const u=this.accumulatedFirstMoment[s].variable,d=this.accumulatedWeightedInfNorm[s].variable,h=Se(Q(u,this.beta1),Q(c,1-this.beta1)),p=Q(d,this.beta2),f=Xn(c),m=tl(p,f);u.assign(h),d.assign(m);const b=Se(Q(Ue(o,i),Ue(h,Se(m,this.epsilon))),a);a.assign(b)}),this.iteration.assign(Se(this.iteration,1)),this.accBeta1.assign(Q(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&pt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&pt(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hI extends Ec{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,o)=>{const r=Array.isArray(e)?e[o].tensor:e[i];if(r==null)return;const s=ee.registeredVariables[i];ce(()=>{const a=Se(Q(this.c,r),s);s.assign(a)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=hi(it(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wF extends hI{static get className(){return"Momentum"}constructor(e,n,i=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=i,this.accumulations=[],this.m=it(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,o)=>{const r=ee.registeredVariables[i];this.accumulations[o]==null&&(this.accumulations[o]={originalName:"".concat(i,"/momentum"),variable:ce(()=>Rt(r).variable(!1))});const s=this.accumulations[o].variable,a=Array.isArray(e)?e[o].tensor:e[i];a!=null&&ce(()=>{let l;const c=Se(Q(this.m,s),a);this.useNesterov?l=Se(Q(this.c,Se(a,Q(c,this.m))),r):l=Se(Q(this.c,c),r),s.assign(c),r.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&pt(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(i=>({originalName:i.name,variable:i.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kF extends Ec{static get className(){return"RMSProp"}constructor(e,n=.9,i=0,o=null,r=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=i,this.epsilon=o,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=r,o==null&&(this.epsilon=ee.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,o)=>{const r=ee.registeredVariables[i],s=!1;this.accumulatedMeanSquares[o]==null&&(this.accumulatedMeanSquares[o]={originalName:"".concat(i,"/rms"),variable:ce(()=>Rt(r).variable(s))}),this.accumulatedMoments[o]==null&&(this.accumulatedMoments[o]={originalName:"".concat(i,"/momentum"),variable:ce(()=>Rt(r).variable(s))}),this.accumulatedMeanGrads[o]==null&&this.centered&&(this.accumulatedMeanGrads[o]={originalName:"".concat(i,"/mg"),variable:ce(()=>Rt(r).variable(s))});const a=Array.isArray(e)?e[o].tensor:e[i];if(a==null)return;const l=this.accumulatedMeanSquares[o].variable,c=this.accumulatedMoments[o].variable;ce(()=>{const u=Se(Q(l,this.decay),Q(Jt(a),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[o].variable,h=Se(Q(d,this.decay),Q(a,1-this.decay)),p=Ue(Q(a,this.learningRate),Di(Ve(u,Se(Jt(h),this.epsilon)))),f=Se(Q(c,this.momentum),p);l.assign(u),d.assign(h),c.assign(f);const m=Ve(r,f);r.assign(m)}else{const d=Se(Q(l,this.decay),Q(Jt(a),1-this.decay)),h=Se(Q(c,this.momentum),Ue(Q(a,this.learningRate),Di(Se(d,this.epsilon))));l.assign(d),c.assign(h);const p=Ve(r,h);r.assign(p)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&pt(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&pt(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&pt(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,i=!1;this.accumulatedMeanSquares=e.slice(0,n).map(o=>({originalName:o.name,variable:o.tensor.variable(i)})),this.accumulatedMoments=e.slice(n,n*2).map(o=>({originalName:o.name,variable:o.tensor.variable(i)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(o=>({originalName:o.name,variable:o.tensor.variable(i)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ybe=[bF,xF,yF,vF,wF,kF,hI];function Zbe(){for(const t of Ybe)Ee(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jbe="model",Qbe=".json",exe=".weights.bin";function VA(t){return new Promise(e=>setTimeout(e)).then(t)}class Pu{constructor(e){if(!pe().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Pu.URL_SCHEME)&&(e=e.slice(Pu.URL_SCHEME.length)),(e==null||e.length===0)&&(e=Jbe),this.modelJsonFileName=e+Qbe,this.weightDataFileName=e+exe}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=Ls.join(e.weightData),i=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const o=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r=QL(e,o),s=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),a=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=s,await VA(()=>a.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=i,await VA(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:qg(e)}}}}Pu.URL_SCHEME="downloads://";class txe{constructor(e){if(e==null||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(e));this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const i=new FileReader;i.onload=o=>{const r=JSON.parse(o.target.result),s=r.modelTopology;if(s==null){n(new Error("modelTopology field is missing from file ".concat(this.jsonFile.name)));return}if(r.weightsManifest==null){n(new Error("weightManifest field is missing from file ".concat(this.jsonFile.name)));return}if(this.weightsFiles.length===0){e({modelTopology:s});return}const l=kE(r,c=>this.loadWeights(c));e(l)},i.onerror=o=>n("Failed to read model topology and weights manifest JSON "+"from file '".concat(this.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only."),i.readAsText(this.jsonFile)})}loadWeights(e){const n=[],i=[];for(const s of e)n.push(...s.weights),i.push(...s.paths);const o=this.checkManifestAndWeightFiles(e),r=i.map(s=>this.loadWeightsFile(s,o[s]));return Promise.all(r).then(s=>[n,s])}loadWeightsFile(e,n){return new Promise((i,o)=>{const r=new FileReader;r.onload=s=>{const a=s.target.result;i(a)},r.onerror=s=>o("Failed to weights data from file of path '".concat(e,"'.")),r.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],i=this.weightsFiles.map(r=>MA(r.name)),o={};for(const r of e)r.paths.forEach(s=>{const a=MA(s);if(n.indexOf(a)!==-1)throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(a,"'"));if(n.push(a),i.indexOf(a)===-1)throw new Error("Weight file with basename '".concat(a,"' is not provided."));o[s]=this.weightsFiles[i.indexOf(a)]});if(n.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(n.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return o}}const nxe=t=>pe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Pu.URL_SCHEME)?ixe(t.slice(Pu.URL_SCHEME.length)):null;Sn.registerSaveRouter(nxe);function ixe(t="model"){return new Pu(t)}function oxe(t){return new txe(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HA(t,e,n,i){s(t),n=n==null?0:n,i=i==null?1:i,a(n,i);let o=0;const r=l=>(l.then(c=>{const u=n+ ++o/t.length*(i-n);return e(u),c}),l);function s(l){M(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function a(l,c){M(l>=0&&l<=1,()=>"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(l)),M(c>=0&&c<=1,()=>"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(c)),M(c>=l,()=>"startFraction must be no more than endFraction, but "+"got startFraction ".concat(l," and endFraction ")+"".concat(c))}return Promise.all(t.map(r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function SF(t,e){e==null&&(e={});const n=e.fetchFunc==null?pe().platform.fetch:e.fetchFunc,i=t.map(d=>n(d,e.requestInit,{isBinary:!0})),a=(e.onProgress==null?await Promise.all(i):await HA(i,e.onProgress,0,.5)).map(d=>d.arrayBuffer());return e.onProgress==null?await Promise.all(a):await HA(a,e.onProgress,.5,1)}function rxe(t,e){var n;const i=e.fetchFunc==null?pe().platform.fetch:e.fetchFunc;let o=0,r;return(n=e.onProgress)===null||n===void 0||n.call(e,0),new ReadableStream({pull:async s=>{for(var a;o<t.length;){r||(r=(await i(t[o],e.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:c}=await r.read();if(l){o++,r=void 0,(a=e.onProgress)===null||a===void 0||a.call(e,o/t.length);continue}s.enqueue(c);return}s.close()}})}async function sxe(t,e="",n,i){return CF(s=>SF(s,{requestInit:i}))(t,e,n)}function CF(t){return async(e,n="",i)=>{const o=e.map(()=>!1),r={},s=i!=null?i.map(()=>!1):[],a=[];if(e.forEach((p,f)=>{let m=0;p.weights.forEach(b=>{const g="quantization"in b?b.quantization.dtype:b.dtype,x=Ou[g]*ge(b.shape),y=()=>{o[f]=!0,r[f]==null&&(r[f]=[]),r[f].push({manifestEntry:b,groupOffset:m,sizeBytes:x})};i!=null?i.forEach((v,w)=>{v===b.name&&(y(),s[w]=!0)}):y(),a.push(b.name),m+=x})}),!s.every(p=>p)){const p=i.filter((f,m)=>!s[m]);throw new Error("Could not find weights in manifest with names: "+"".concat(p.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(a.join(", "),"."))}const l=o.reduce((p,f,m)=>(f&&p.push(m),p),[]),c=[];l.forEach(p=>{e[p].paths.forEach(f=>{const m=n+(n.endsWith("/")?"":"/")+f;c.push(m)})});const u=await t(c),d={};let h=0;return l.forEach(p=>{const f=e[p].paths.length,m=new Ls(u.slice(h,h+f));r[p].forEach(g=>{const x=m.slice(g.groupOffset,g.groupOffset+g.sizeBytes),y=XL(x,[g.manifestEntry]);for(const v in y)d[v]=y[v]}),h+=f}),d}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const axe="application/octet-stream",lxe="application/json";class pI{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(M(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=pe().platform.fetch,M(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&M(e.length===2,()=>"URL paths for http must have a length of 2, "+"(actual length is ".concat(e.length,").")),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const i=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],o=QL(e,i);if(n.body.append("model.json",new Blob([JSON.stringify(o)],{type:lxe}),"model.json"),e.weightData!=null){const s=Ls.join(e.weightData);n.body.append("model.weights.bin",new Blob([s],{type:axe}),"model.weights.bin")}const r=await this.fetch(this.path,n);if(r.ok)return{modelArtifactsInfo:qg(e),responses:[r]};throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(r.status,"."))}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(e.status,". Please verify this URL points to ")+"the model JSON of the model to load.");let n;try{n=await e.json()}catch(r){let s="Failed to parse model JSON of response from ".concat(this.path,".");throw this.path.endsWith(".pb")?s+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":s+=" Please make sure the server is serving valid JSON for this request.",new Error(s)}const i=n.modelTopology,o=n.weightsManifest;if(i==null&&o==null)throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const e=await this.loadModelJSON();return kE(e,n=>this.loadWeights(n))}async loadStream(){const e=await this.loadModelJSON(),n=await this.getWeightUrls(e.weightsManifest),i=pS(e.weightsManifest),o=()=>rxe(n,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:i,getWeightStream:o})}async getWeightUrls(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[i,o]=cxe(n),r=this.weightPathPrefix||i,s=[],a=[];for(const l of e)for(const c of l.paths)this.weightUrlConverter!=null?a.push(this.weightUrlConverter(c)):s.push(r+c+o);return this.weightUrlConverter&&s.push(...await Promise.all(a)),s}async loadWeights(e){const n=await this.getWeightUrls(e),i=pS(e),o=await SF(n,this.loadOptions);return[i,o]}}pI.URL_SCHEME_REGEX=/^https?:\/\//;function cxe(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),i=t.substring(0,e),o=n>e?t.substring(n):"";return[i+"/",o]}function vS(t){return t.match(pI.URL_SCHEME_REGEX)!=null}const TF=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(i=>vS(i)):n=vS(t),n)return fI(t,e)}return null};Sn.registerSaveRouter(TF);Sn.registerLoadRouter(TF);function fI(t,e){return new pI(t,e)}function uxe(t,e){return fI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Q2{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class EF{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class dxe{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function hxe(t,e,n,i){const o=arguments;return new dxe(IF(...o))}function IF(t,e,n,i){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new Q2(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Q2({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Q2({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:i}))}function pxe(t){return new EF(t)}function fxe(t){return new EF(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _F=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:Ls,browserFiles:oxe,browserHTTPRequest:uxe,concatenateArrayBuffers:JL,copyModel:xhe,decodeWeights:XL,decodeWeightsStream:ZL,encodeWeights:hS,fromMemory:hxe,fromMemorySync:IF,getLoadHandlers:ohe,getModelArtifactsForJSON:kE,getModelArtifactsForJSONSync:ez,getModelArtifactsInfoForJSON:qg,getSaveHandlers:tz,getWeightSpecs:pS,http:fI,isHTTPScheme:vS,listModels:ghe,loadWeights:sxe,moveModel:yhe,registerLoadRouter:ihe,registerSaveRouter:nhe,removeModel:bhe,weightsLoaderFactory:CF,withSaveHandler:pxe,withSaveHandlerSync:fxe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let zc;function mxe(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,i=!1,o=!1,r=!1,s=!1,a=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)i=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)o=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)r=!0;else if(t.getContext!=null)s=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)a=!0;else throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(t.constructor.name));if(rS(iS,ee.backendName)!=null){const f={pixels:t},m={numChannels:e};return ee.runKernel(iS,f,m)}const[c,u]=o?[t.videoWidth,t.videoHeight]:[t.width,t.height];let d;if(s)d=t.getContext("2d").getImageData(0,0,c,u).data;else if(i||n)d=t.data;else if(r||o||a){if(zc==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")zc=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else zc=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});zc.canvas.width=c,zc.canvas.height=u,zc.drawImage(t,0,0,c,u),d=zc.getImageData(0,0,c,u).data}let h;if(e===4)h=new Int32Array(d);else{const f=c*u;h=new Int32Array(f*e);for(let m=0;m<f;m++)for(let b=0;b<e;++b)h[m*e+b]=d[m*4+b]}return tF(h,[u,c,e],"int32")}function gxe(t){if(t.rank!==2&&t.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(t.rank,"."));const e=t.rank===2?1:t.shape[2];if(e>4||e===2)throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(e));if(t.dtype!=="float32"&&t.dtype!=="int32")throw new Error("Unsupported type for toPixels: ".concat(t.dtype,".")+" Please use float32 or int32 tensors.")}async function bxe(t,e){let n=j(t,"img","toPixels");if(!(t instanceof Zt)){const c=n;n=Pe(c,"int32"),c.dispose()}gxe(n);const[i,o]=n.shape.slice(0,2),r=n.rank===2?1:n.shape[2],s=await n.data(),a=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(o*i*4);for(let c=0;c<i*o;++c){const u=[0,0,0,255];for(let h=0;h<r;h++){const p=s[c*r+h];if(n.dtype==="float32"){if(p<0||p>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(p,"."))}else if(n.dtype==="int32"&&(p<0||p>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(p,"."));r===1?(u[0]=p*a,u[1]=p*a,u[2]=p*a):u[h]=p*a}const d=c*4;l[d+0]=Math.round(u[0]),l[d+1]=Math.round(u[1]),l[d+2]=Math.round(u[2]),l[d+3]=Math.round(u[3])}return n!==t&&n.dispose(),l}const xxe=Z({fromPixels_:mxe});function mI(t,e){const n=t.shape.length,i=e.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(i<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(i,"."));if(e.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.shape[i-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(e.shape[i-1]," vs. ").concat(n));if(ge(t.shape)===0)throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(t.shape,"."));const o=e.shape,r=o[o.length-1];let s=1;for(let d=0;d<o.length-1;++d)s*=o[d];const a=t.shape,l=o.slice();l.pop();let c=1;for(let d=r;d<n;++d)c*=a[d],l.push(a[d]);const u=[...nt(t.shape).map(d=>d/c),1].slice(0,r);return[l,s,c,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wS=-2,yxe=-1;function gI(t,e,n){const i=t.shape.length;M(i===e.length,()=>"Error in slice".concat(i,"D: Length of begin ").concat(e," must ")+"match the rank of the array (".concat(i,").")),M(i===n.length,()=>"Error in slice".concat(i,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(i,")."));for(let o=0;o<i;++o)M(e[o]+n[o]<=t.shape[o],()=>"Error in slice".concat(i,"D: begin[").concat(o,"] + size[").concat(o,"] ")+"(".concat(e[o]+n[o],") would overflow input.shape[").concat(o,"] (").concat(t.shape[o],")"))}function vxe(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function bI(t,e,n){const i=[];for(let o=0;o<t.length;o++)i[o]=Math.ceil((e[o]-t[o])/n[o]);return i}function $F(t,e,n,i){const o=[...t];for(let r=o.length;r<i.length;r++)o.push(1);for(let r=0;r<n;r++)r===0?o[e]=1:(o.splice(e,0,1),o.pop());return o}function AF(t,e,n){return n<=t?n:n-(e-1)}function NF(t,e){const n=[];for(let i=0;i<t;i++)n.push(e+i);return n}function wxe(t,e,n,i,o,r,s,a,l){const c=t.length;let u=new Array(c),d=new Array(c),h=new Array(c);if(e.length&&n>0){const p=e[0],f=n+1;u=OF(s,p,f,i,t),d=DF(a,p,f,o,t),h=$F(r,p,f,t)}else for(let p=0;p<c;p++)u[p]=LF(s,i,r,t,p,l),d[p]=zF(a,o,r,t,p,l),h[p]=RF(r,p,l);return{begin:u,end:d,strides:h}}function OF(t,e,n,i,o){const r=[...o],s=NF(n,e);for(let a=0;a<r.length;a++)if(s.indexOf(a)>-1)r[a]=0;else{const l=AF(e,n,a);let c=i[l];t&1<<l&&(c=0),r[a]=c}return r}function DF(t,e,n,i,o){const r=[...o],s=NF(n,e);for(let a=0;a<r.length;a++)if(s.indexOf(a)>-1)r[a]=Number.MAX_SAFE_INTEGER;else{const l=AF(e,n,a);let c=i[l];t&1<<l&&(c=Number.MAX_SAFE_INTEGER),r[a]=c}for(let a=0;a<r.length;a++){const l=o[a];r[a]<0&&(r[a]+=l),r[a]=$u(0,r[a],o[a])}return r}function RF(t,e,n){let i=t[e];return(n&1<<e||i==null)&&(i=1),i}function LF(t,e,n,i,o,r){let s=e[o];const a=n[o]||1;(t&1<<o||r&1<<o||s==null)&&(a>0?s=Number.MIN_SAFE_INTEGER:s=Number.MAX_SAFE_INTEGER);const l=i[o];return s<0&&(s+=l),s=$u(0,s,l-1),s}function zF(t,e,n,i,o,r){let s=e[o];const a=n[o]||1;(t&1<<o||r&1<<o||s==null)&&(a>0?s=Number.MAX_SAFE_INTEGER:s=Number.MIN_SAFE_INTEGER);const l=i[o];return s<0&&(s+=l),a>0?s=$u(0,s,l):s=$u(-1,s,l-1),s}function xI(t,e,n){let i=n.length;for(let o=0;o<n.length;o++)if(n[o]>1){i=o;break}for(let o=i+1;o<n.length;o++)if(e[o]>0||n[o]!==t[o])return!1;return!0}function yI(t,e){let n=t.length>0?t[t.length-1]:1;for(let i=0;i<t.length-1;i++)n+=t[i]*e[i];return n}function ow(t,e,n){let i;const o=t.shape.length;typeof e=="number"?i=[e,...new Array(o-1).fill(0)]:e.length<o?i=e.concat(new Array(o-e.length).fill(0)):i=e.slice(),i.forEach(s=>{M(s!==-1,()=>"slice() does not support negative begin indexing.")});let r;return n==null?r=new Array(o).fill(-1):typeof n=="number"?r=[n,...new Array(o-1).fill(-1)]:n.length<o?r=n.concat(new Array(o-n.length).fill(-1)):r=n,r=r.map((s,a)=>s>=0?s:(M(s===-1,()=>"Negative size values should be exactly -1 but got "+"".concat(s," for the slice() size at index ").concat(a,".")),t.shape[a]-i[a])),[i,r]}function vI(t,e,n,i,o,r,s,a,l){let c;if(i==null?(c=new Array(e.length),c.fill(1)):c=i,s!=null&&s&s-1)throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:c.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:c.slice(),beginMask:o,endMask:r,ellipsisMask:s,newAxisMask:a,shrinkAxisMask:l};for(let y=0;y<d.dims;y++)u&&1<<y&a&&d.numAddAxisAfterEllipsis++,1<<y&s&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const h={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};kxe(d,h);let p=!0,f=!0,m=!0;const b=[],g=[];for(let y=0;y<t.length;++y){if(h.strides[y]===0)throw Error("strides[".concat(y,"] must be non-zero"));const v=!!(h.shrinkAxisMask&1<<y),w=t[y];if(w===-1){b.push(v?1:-1);continue}const C=[h.beginMask&1<<y,h.endMask&1<<y],S=[h.strides[y]>0?0:-1,h.strides[y]>0?w:w-1];if(v&&h.strides[y]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&h.strides[y]===1;const E=!!(h.beginMask&1<<y&&h.endMask&1<<y);if(h.beginValid&&h.endValid){if(v){const D=h.begin[y]<0?w+h.begin[y]:h.begin[y];if(h.begin[y]=D,h.end[y]=h.begin[y]+1,D<0||D>=w)throw Error("slice index ".concat(h.begin[y]," of dimension ").concat(y," out of bounds."))}else h.begin[y]=WA(h.begin[y],0,h.strides[y],w,C,S),h.end[y]=WA(h.end[y],1,h.strides[y],w,C,S);const B=h.strides[y]===1&&h.begin[y]===0&&h.end[y]===w;p=p&&B,f=f&&(y===0&&h.strides[y]===1||B)}else p=p&&h.strides[y]===1&&E,f=f&&(y===0&&h.strides[y]===1||E);let I,N=!1;if(h.beginValid&&h.endValid?(I=h.end[y]-h.begin[y],N=!0):v?(I=1,N=!0):E&&w>=0&&(h.strides[y]<0?I=-w:I=w,N=!0),N){let B;I===0||I<0!=h.strides[y]<0?B=0:B=Math.trunc(I/h.strides[y])+(I%h.strides[y]!==0?1:0),b.push(B)}else b.push(-1)}for(let y=0;y<h.finalShapeGatherIndices.length;++y){const v=h.finalShapeGatherIndices[y];v>=0?g.push(b[v]):v===wS&&g.push(1)}return{finalShapeSparse:g.filter((y,v)=>h.finalShapeGatherIndices[v]!==wS),finalShape:g,isIdentity:p,sliceDim0:f,isSimpleSlice:m,begin:h.begin,end:h.end,strides:h.strides}}function kxe(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let i=0;i<t.dims;i++)if(1<<i&t.ellipsisMask){const o=Math.min(e.dims-(t.dims-i)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<o;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=i}else if(1<<i&t.newAxisMask)e.finalShapeGatherIndices.push(wS),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(e.dims," dims, ").concat(e.begin.length,"."));t.begin!=null&&(e.begin[n]=t.begin[i]),t.end!=null&&(e.end[n]=t.end[i]),e.strides[n]=t.strides[i],t.beginMask&1<<i&&(e.beginMask|=1<<n),t.endMask&1<<i&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<i?(e.finalShapeGatherIndices.push(yxe),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(i)),e.inputShapeGatherIndicesSparse[n]=i,n++}}function WA(t,e,n,i,o,r){if(o[e])return n>0?r[e]:r[e+1&1];{const s=t<0?i+t:t;return s<r[0]?r[0]:s>r[1]?r[1]:s}}const Sxe=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:gI,computeFlatOffset:yI,computeOutShape:bI,getNormalizedAxes:wxe,isSliceContinous:xI,maskToAxes:vxe,parseSliceParams:ow,sliceInfo:vI,startForAxis:LF,startIndicesWithElidedDims:OF,stopForAxis:zF,stopIndicesWithElidedDims:DF,stridesForAxis:RF,stridesWithElidedDims:$F},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cxe{static sgd(e){return new hI(e)}static momentum(e,n,i=!1){return new wF(e,n,i)}static rmsprop(e,n=.9,i=0,o=null,r=!1){return new kF(e,n,i,o,r)}static adam(e=.001,n=.9,i=.999,o=null){return new yF(e,n,i,o)}static adadelta(e=.001,n=.95,i=null){return new bF(e,n,i)}static adamax(e=.002,n=.9,i=.999,o=null,r=0){return new vF(e,n,i,o,r)}static adagrad(e,n=.1){return new xF(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _d=Cxe;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Txe=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function FF(){return new Promise(t=>Txe(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wI(t,e){const n=t[0].length;t.forEach((o,r)=>{M(o.length===n,()=>"Error in concat".concat(n,"D: rank of tensors[").concat(r,"] must be the same ")+"as the rank of the rest (".concat(n,")"))}),M(e>=0&&e<n,()=>"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,"."));const i=t[0];t.forEach((o,r)=>{for(let s=0;s<n;s++)M(s===e||o[s]===i[s],()=>"Error in concat".concat(n,"D: Shape of tensors[").concat(r,"] (").concat(o,") ")+"does not match the shape of the rest (".concat(i,") ")+"along the non-concatenated axis ".concat(r,"."))})}function Js(t,e){const n=t[0].slice();for(let i=1;i<t.length;i++)n[e]+=t[i][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var bs;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(bs||(bs={}));function PF(t,e,n){let i=new Array;if(n==null&&e==null)return i;if(e==null)for(;i.length<t+n.length;)i.push(-1);else i=e.slice();if(n==null)return i;if(t+n.length!==i.length)throw new Error("rt input.shape and shape=".concat(e," are incompatible: rt input.rank = ").concat(t+n.length,", but shape.rank = ").concat(i.length));for(let o=1;o<n.length;++o){const r=n[o],s=i[i.length-n.length+o],a=i[s];if(r>=0)if(a>=0){if(a!==r)throw new Error("rt input.shape and shape=".concat(e," are incompatible: rt input.shape[").concat(o+t,"] = ").concat(r," but shape[").concat(o+t,"] = ").concat(a))}else i[s]=r}return i}function BF(t){const e={FIRST_DIM_SIZE:bs.FIRST_DIM_SIZE,VALUE_ROWIDS:bs.VALUE_ROWIDS,ROW_LENGTHS:bs.ROW_LENGTHS,ROW_SPLITS:bs.ROW_SPLITS,ROW_LIMITS:bs.ROW_LIMITS,ROW_STARTS:bs.ROW_STARTS},n=[];for(const i of t)if(i in e)n.push(e[i]);else break;return n}function MF(t){return t.length===0?0:t[0]===bs.FIRST_DIM_SIZE?t.length-1:t.length}function jF(t,e){if(t==null||e==null)return;const n=t.length,i=e.length;if(n>=i)throw new Error("defaultValue.shape=".concat(t," and ragged tensor flatValues.shape=").concat(e,", are incompatible: defaultValue.rank = ").concat(n," must be less than ragged tensor input flatValues.rank = ").concat(i,")"));for(let o=0;o<Math.min(n,i-1);++o){const r=t[o],s=e[o+1];if(r>=0&&s>=0&&r!==1&&r!==s)throw new Error("defaultValue.shape=".concat(t,", and ragged tensor input flatValues.shape=").concat(e," are incompatible: defaultValue.shape[").concat(o-t.length,"] = ").concat(r," but ragged tensor input.flatValues.shape[").concat(o-t.length,"] = ").concat(s))}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kI=30;function rw(t){return t<=kI?t:eS(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SI(t,e,n){const i=n*(typeof t=="number"?t:t[0]),o=e*(typeof t=="number"?t:t[1]);return[i,o]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t0(t,e,n,i=!0){let o=[];if(i)o=o.concat(e.slice(0)),o.push(t[0]/n),o=o.concat(t.slice(1));else{o=o.concat(t[0]);const r=e.length;for(let s=0;s<r;++s)o=o.concat([t[s+1]/e[s],e[s]]);o=o.concat(t.slice(r+1))}return o}function n0(t,e,n=!0){const i=[];if(n){i.push(e);for(let o=e+1;o<t;++o)o<=2*e?(i.push(o),i.push(o-(e+1))):i.push(o)}else{const o=[],r=[];for(let s=1;s<t;++s)s>=e*2+1||s%2===1?r.push(s):o.push(s);i.push(...o),i.push(0),i.push(...r)}return i}function i0(t,e,n,i=!0){const o=[];i?o.push(t[0]/n):o.push(t[0]*n);for(let r=1;r<t.length;++r)r<=e.length?i?o.push(e[r-1]*t[r]):o.push(t[r]/e[r-1]):o.push(t[r]);return o}function CI(t,e){const n=[0];for(let i=0;i<e;++i)n.push(t[i][0]);return n}function TI(t,e,n){const i=t.slice(0,1);for(let o=0;o<n;++o)i.push(t[o+1]-e[o][0]-e[o][1]);return i}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sw=1.7580993408473768,aw=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EI=.3275911,II=.254829592,_I=-.284496736,$I=1.421413741,AI=-1.453152027,NI=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ka(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(t.length,", imag: ").concat(e.length,"."));const n=new Float32Array(t.length*2);for(let i=0;i<n.length;i+=2)n[i]=t[i/2],n[i+1]=e[i/2];return n}function UF(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let i=0;i<t.length;i+=2)e[i/2]=t[i],n[i/2]=t[i+1];return{real:e,imag:n}}function VF(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),i=new Float32Array(e);for(let o=0;o<t.length;o+=4)n[Math.floor(o/4)]=t[o],i[Math.floor(o/4)]=t[o+1];return{real:n,imag:i}}function HF(t){const e=Math.floor(t.length/4),n=new Float32Array(e),i=new Float32Array(e);for(let o=2;o<t.length;o+=4)n[Math.floor(o/4)]=t[o],i[Math.floor(o/4)]=t[o+1];return{real:n,imag:i}}function OI(t,e){const n=t[e*2],i=t[e*2+1];return{real:n,imag:i}}function WF(t,e,n,i){t[i*2]=e,t[i*2+1]=n}function GF(t,e){const n=new Float32Array(t/2),i=new Float32Array(t/2);for(let o=0;o<Math.ceil(t/2);o++){const r=(e?2:-2)*Math.PI*(o/t);n[o]=Math.cos(r),i[o]=Math.sin(r)}return{real:n,imag:i}}function qF(t,e,n){const i=(n?2:-2)*Math.PI*(t/e),o=Math.cos(i),r=Math.sin(i);return{real:o,imag:r}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ek="->",Exe=/->/g,GA=",",qA="...";function DI(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(Exe,"").length)/ek.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(ek,'").'));const[i,o]=t.split(ek);M(i.indexOf(qA)===-1,()=>'The ellipsis notation ("'.concat(qA,'") is not supported yet.'));const r=i.split(GA),s=r.length;if(e!==s)throw new Error("Expected ".concat(s," input tensors, received ").concat(e));if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const a=[];for(let h=0;h<o.length;++h){const p=o[h];if(!r.some(f=>f.indexOf(p)!==-1))throw new Error("Output subscripts contain the label ".concat(p," ")+"not present in the input subscripts.");a.indexOf(p)===-1&&a.push(p)}for(let h=0;h<i.length;++h){const p=i[h];a.indexOf(p)===-1&&p!==GA&&a.push(p)}const l=new Array(r.length);for(let h=0;h<s;++h){if(new Set(r[h].split("")).size!==r[h].length)throw new Error("Found duplicate axes in input component ".concat(r[h],". ")+"Support for duplicate axes in input is not implemented yet.");l[h]=[];for(let p=0;p<r[h].length;++p)l[h].push(a.indexOf(r[h][p]))}const c=a.length,u=o.length,d=[];for(let h=u;h<c;++h)d.push(h);return{allDims:a,summedDims:d,idDims:l}}function RI(t,e){let n=new Array(t);n.fill(-1);for(let o=0;o<e.length;++o)n[e[o]]=o;const i=[];for(let o=0;o<t;++o)n[o]===-1&&i.push(o);return n=n.filter(o=>o!==-1),{permutationIndices:n,expandDims:i}}function LI(t,e,n){const i=new Array(t);for(let o=0;o<n.length;++o){const r=n[o].shape;for(let s=0;s<e[o].length;++s)i[e[o][s]]===void 0?i[e[o][s]]=r[s]:M(i[e[o][s]]===r[s],()=>"Expected dimension ".concat(i[e[o][s]]," at axis ").concat(s," ")+"of input shaped ".concat(JSON.stringify(r),", ")+"but got dimension ".concat(r[s]))}}function zI(t,e){const n=t,i=[];let o=0;t.length===0&&n.push(-1),o=t.length+1;for(let s=0;s<o;++s)i.push([]);const r=[];for(let s=0;s<n.length;++s){const a=n[s],l=Ixe(e,a);for(const c of l)r.indexOf(c)===-1&&(i[s].push(c),r.push(c))}return{path:n,steps:i}}function FI(t){return t.every((e,n)=>e===n)}function Ixe(t,e){const n=[];for(let i=0;i<t.length;++i)(t[i].length===0||t[i].indexOf(e)!==-1||e===-1)&&n.push(i);return n}function PI(t,e,n=0){let i=[];if(typeof e=="number")M(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),i=new Array(e).fill(t.shape[n]/e);else{const o=e.reduce((s,a)=>(a===-1&&(s+=1),s),0);M(o<=1,()=>"There should be only one negative value in split array.");const r=e.indexOf(-1);if(r!==-1){const s=e.reduce((a,l)=>l>0?a+l:a);e[r]=t.shape[n]-s}M(t.shape[n]===e.reduce((s,a)=>s+a),()=>"The sum of sizes must match the size of the axis dimension."),i=e}return i}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KF(t){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(t)}function XF(t,e){return"indices(".concat(t,", 0) is invalid: ").concat(e," < 0")}function YF(t,e,n){return"indices(".concat(t,", 0) is invalid: ").concat(e," >= ").concat(n)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZF(t,e){return"only one output dimension may be -1, not both ".concat(t," and ").concat(e)}function JF(t,e){return"size ".concat(t," must be non-negative, not ").concat(e)}function QF(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function eP(t,e){const n=ge(t),i=ge(e);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(i,". inputShape=").concat(t," outputShape= ").concat(e)}function tP(t,e){const n=ge(t),i=ge(e);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(i,". inputShape=").concat(t," outputShape=").concat(e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kS(){return"segment ids must be >= 0"}function nP(){return"segment ids are not increasing"}function iP(t,e){return"Segment id ".concat(t," out of range [0, ").concat(e,"), possibly because segmentIds input is not sorted.")}function oP(t,e,n){return"Bad: indices[".concat(t,"] == ").concat(e," out of range [0, ").concat(n,")")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rP(t,e){let n=!1,i;for(t<=kI?(i=t,n=!0):i=eS(t,Math.floor(Math.sqrt(t)));!n;)i>e||i===t?n=!0:i=eS(t,i+1);return i}function sP(t,e,n){const i=[],o=t.length;for(let r=0;r<o;r++)r!==e?i.push(t[r]):i.push(n);return i}function BI(t,e,n,i){const o=e.shape.length,r=t.shape.length;if(i!==0&&(i<-o||i>o))throw new Error("Expect batchDims in the range of [-".concat(o,", ").concat(o,"], but got ").concat(i));if(i<0&&(i+=o),i>r)throw new Error("batchDims (".concat(i,") must be less than rank(x) (\n    ").concat(r,")."));if(n<i)throw new Error("batchDims (".concat(i,") must be less than or equal to axis (").concat(n,")."));for(let d=0;d<i;++d)if(t.shape[d]!==e.shape[d])throw new Error("x.shape[".concat(d,"]: ").concat(t.shape[d]," should be equal to indices.shape[").concat(d,"]: ").concat(e.shape[d],"."));const s=t.shape[n],a=[];let l=1,c=1,u=1;for(let d=0;d<i;++d)a.push(t.shape[d]),l*=t.shape[d];for(let d=i;d<n;d++)a.push(t.shape[d]),c*=t.shape[d];for(let d=i;d<o;d++)a.push(e.shape[d]);for(let d=n+1;d<r;d++)a.push(t.shape[d]),u*=t.shape[d];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:s,outputShape:a}}const _xe=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:BI,computeOutShape:sP,segOpComputeOptimalWindowSize:rP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xa(t){try{return t.map(e=>ec(e))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(e))}}function aP(t){return t.map(e=>Wl(e))}const $xe=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:II,ERF_A2:_I,ERF_A3:$I,ERF_A4:AI,ERF_A5:NI,ERF_P:EI,PARALLELIZE_THRESHOLD:kI,get RowPartitionType(){return bs},SELU_SCALE:aw,SELU_SCALEALPHA:sw,applyActivation:nw,assertAndGetBroadcastShape:ft,assertAxesAreInnerMostDims:Fi,assertParamsConsistent:wI,assignToTypedArray:WF,axesAreInnerMostDims:OE,calculateShapes:sd,checkEinsumDimSizes:LI,checkPadOnDimRoundingMode:co,combineLocations:Lz,combineRaggedTensorToTensorShapes:PF,complexWithEvenIndex:VF,complexWithOddIndex:HF,computeConv2DInfo:gi,computeConv3DInfo:kc,computeDefaultPad:TE,computeDilation2DInfo:Kg,computeOptimalWindowSize:rw,computeOutAndReduceShapes:bi,computeOutShape:Js,computePool2DInfo:ss,computePool3DInfo:Qa,convertConv2DDataFormat:el,decodeEinsumEquation:DI,eitherStridesOrDilationsAreOne:zi,expandShapeToKeepDim:Mn,exponent:qF,exponents:GF,fromStringArrayToUint8:aP,fromUint8ToStringArray:Xa,getAxesPermutation:En,getBroadcastDims:Uh,getComplexWithIndex:OI,getEinsumComputePath:zI,getEinsumPermutation:RI,getFusedBiasGradient:tw,getFusedDyActivation:ew,getImageCenter:SI,getInnerMostAxes:jn,getPermuted:n0,getRaggedRank:MF,getReductionAxes:ii,getReshaped:t0,getReshapedPermuted:i0,getRowPartitionTypesHelper:BF,getSliceBeginCoords:CI,getSliceSize:TI,getSparseFillEmptyRowsIndicesDenseShapeMismatch:KF,getSparseFillEmptyRowsNegativeIndexErrorMessage:XF,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:YF,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:QF,getSparseReshapeInputOutputMismatchErrorMessage:tP,getSparseReshapeInputOutputMultipleErrorMessage:eP,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:ZF,getSparseReshapeNegativeOutputDimErrorMessage:JF,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:oP,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:kS,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:nP,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:iP,getUndoAxesPermutation:Sc,isIdentityPermutation:FI,log:gde,mergeRealAndImagArrays:Ka,prepareAndValidate:mI,prepareSplitSize:PI,segment_util:_xe,shouldFuse:iw,slice_util:Sxe,splitRealAndImagArrays:UF,stridesOrDilationsArePositive:Lu,tupleValuesAreOne:ic,upcastType:Go,validateDefaultValueShape:jF,validateInput:nI,validateUpdateShape:nF,warn:sr},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Zbe();/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lP={kernelName:Oy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,yp(Pe(n,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Axe={kernelName:Jm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=Jt(Pe(n,"float32")),o=Di(Ve(it(1),i));return gn(Ue(t,o))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nxe={kernelName:Qm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=Di(Ve(Jt(Pe(n,"float32")),1));return Ue(t,i)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oxe={kernelName:gp,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,o=ft(n.shape,i.shape);return{a:()=>{let a=t;const l=ii(n.shape,o);return l.length>0&&(a=Ke(a,l)),te(a,n.shape)},b:()=>{let a=t;const l=ii(i.shape,o);return l.length>0&&(a=Ke(a,l)),te(a,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dxe={kernelName:Dy,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((i,o)=>{n[o]=()=>t.clone()}),n}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rxe={kernelName:Ry,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Rt(n)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lxe={kernelName:Ly,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Rt(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zxe={kernelName:eg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,Di(Ve(it(1),Jt(Pe(n,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fxe={kernelName:tg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=Di(Se(it(1),Jt(Pe(n,"float32"))));return Ue(t,i)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pxe={kernelName:og,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,o=ft(n.shape,i.shape);return{a:()=>{const a=Se(Jt(n),Jt(i));let l=Q(t,Ue(i,a));const c=ii(n.shape,o);return c.length>0&&(l=Ke(l,c)),te(l,n.shape)},b:()=>{const a=Se(Jt(n),Jt(i));let l=gn(Q(t,Ue(n,a)));const c=ii(i.shape,o);return c.length>0&&(l=Ke(l,c)),te(l,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bxe={kernelName:ng,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,Se(Jt(Pe(n,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mxe={kernelName:ig,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,Ve(it(1),Jt(Pe(n,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jxe(t,e,n,i,o,r){const s=j(t,"dy","avgPool3dGrad"),a=j(e,"input","avgPool3dGrad");let l=s,c=a,u=!1;a.rank===4&&(u=!0,l=te(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),c=te(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),M(l.rank===5,()=>"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(l.rank,".")),M(c.rank===5,()=>"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(c.rank,".")),co("avgPool3dGrad",o,r);const d={dy:l,input:c},h={filterSize:n,strides:i,pad:o,dimRoundingMode:r},p=ee.runKernel(xT,d,h);return u?te(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}const Uxe=Z({avgPool3dGrad_:jxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vxe={kernelName:Fy,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{filterSize:o,strides:r,pad:s,dimRoundingMode:a}=n;return{x:()=>Uxe(t,i,o,r,s,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hxe(t,e,n,i,o){const r=j(t,"dy","avgPoolGrad"),s=j(e,"input","avgPoolGrad");M(s.rank===r.rank,()=>"Rank of input (".concat(s.rank,") does not match rank of dy (").concat(r.rank,")"));let a=s,l=r,c=!1;s.rank===3&&(c=!0,a=te(s,[1,s.shape[0],s.shape[1],s.shape[2]]),l=te(r,[1,r.shape[0],r.shape[1],r.shape[2]])),M(l.rank===4,()=>"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(l.rank,".")),M(a.rank===4,()=>"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(a.rank,"."));const u={dy:l,input:a},d={filterSize:n,strides:i,pad:o},h=ee.runKernel(bT,u,d);return c?te(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const Wxe=Z({avgPoolGrad_:Hxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gxe={kernelName:zy,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{filterSize:o,strides:r,pad:s}=n;return{x:()=>Wxe(t,i,o,r,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qxe={kernelName:Py,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[i,o]=e,{transposeA:r,transposeB:s}=n;return!r&&!s?{a:()=>_t(t,o,!1,!0),b:()=>_t(i,t,!0,!1)}:!r&&s?{a:()=>_t(t,o,!1,!1),b:()=>_t(t,i,!0,!1)}:r&&!s?{a:()=>_t(o,t,!1,!0),b:()=>_t(i,t,!1,!1)}:{a:()=>_t(o,t,!0,!0),b:()=>_t(t,i,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kxe={kernelName:By,gradFunc:(t,e,n)=>{const{blockShape:i,crops:o}=n;return{x:()=>Gv(t,i,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xxe={kernelName:pde,gradFunc:(t,e,n)=>{const i=n,o=i.inputShape,r=i.shape,s=Array.from(r);for(let l=o.length-1;l>=0;l--)if(o[l]===r[l])s[l]=1;else if(o[l]!==1)throw new Error("broadcastTo(): [".concat(o,"] cannot be broadcast to [").concat(r,"]."));const a=[];for(let l=0;l<s.length;l++)s[l]>1&&a.push(l);return{x:()=>Ke(t,a,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yxe={kernelName:rg,gradFunc:t=>({x:()=>t.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zxe={kernelName:sg,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jxe={kernelName:ag,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{clipValueMin:o,clipValueMax:r}=n;return{x:()=>qi(ia(Cc(i,o),id(i,r)),t,Rt(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qxe={kernelName:jy,inputsToSave:["x"],gradFunc:lP.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e1e={kernelName:Uy,saveAllInputs:!0,gradFunc:(t,e,n)=>{const i=e.map(l=>l.shape),{axis:o}=n,r=Et(o,e[0].shape)[0],s=i.map(l=>l[r]);return Uo(t,s,r).map(l=>()=>l)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t1e={kernelName:Vy,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[i,o]=e,{dilations:r,strides:s,pad:a,dataFormat:l}=n;return M(ic(r),()=>"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(r,"'")),{x:()=>IE(i.shape,t,o,s,a,l),filter:()=>aI(i,t,o.shape,s,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n1e={kernelName:Hy,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[i,o]=e,{strides:r,pad:s,dataFormat:a,dimRoundingMode:l}=n;return{dy:()=>oc(t,o,r,s,a,1,l),filter:()=>aI(t,i,o.shape,r,s,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i1e(t,e,n,i,o){let r=t;t.rank===4&&(r=te(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let s=e;s.rank===4&&(s=te(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),M(r.rank===5,()=>"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(r.shape,".")),M(s.rank===5,()=>"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(s.shape,".")),M(n.length===5,()=>"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,".")),M(r.shape[4]===n[3],()=>"Error in conv3dDerFilter: depth of input ".concat(r.shape[4],") must ")+"match input depth in filter (".concat(n[3],".")),M(s.shape[4]===n[4],()=>"Error in conv3dDerFilter: depth of dy (".concat(s.shape[4],") must ")+"match output depth for filter (".concat(n[4],")."));const a={x:r,dy:s},l={strides:i,pad:o,filterShape:n};return ee.runKernel(ST,a,l)}const o1e=Z({conv3DBackpropFilter_:i1e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r1e={kernelName:Wy,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:i,strides:o,pad:r}=n;M(ic(i),()=>"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(i,"'"));const[s,a]=e;return{x:()=>$z(s.shape,t,a,o,r),filter:()=>o1e(s,t,a.shape,o,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s1e={kernelName:lg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(gn(ZE(Pe(n,"float32"))),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a1e={kernelName:cg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(JE(Pe(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l1e={kernelName:Gy,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{axis:o,exclusive:r,reverse:s}=n;return{x:()=>{const a=En([o],i.rank);let l=AE(t,o,r,!s);return a!=null&&(l=Dt(l,a)),l}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c1e={kernelName:qy,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:i,strides:o,pad:r,dimRoundingMode:s}=n,a=i==null?[1,1]:i;M(ic(a),()=>"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(a,"'"));const[l,c]=e;return M(l.rank===4,()=>"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(l.rank,".")),M(c.rank===4,()=>"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(c.rank,".")),M(l.shape[3]===c.shape[2],()=>"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(l.shape[3],") must match the inChannels dimension ")+"in filter ".concat(c.shape[2],".")),M(zi(o,a),()=>"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(o," and dilations ")+"'".concat(a,"'.")),co("depthwiseConv2d",r,s),{x:()=>dF(l.shape,t,c,o,r,a,s),filter:()=>uF(l,t,c.shape,o,r,a,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u1e={kernelName:Ky,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[i,o]=e,r={x:i,filter:o,dy:t},s={x:i,filter:o,dy:t};return{x:()=>ee.runKernel(tS,r,n),filter:()=>ee.runKernel(nS,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d1e={kernelName:dg,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,i={dy:t,y:n};return{x:()=>ee.runKernel(DT,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h1e={kernelName:hg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,i=Q(ao(gn(Jt(n))),2/Math.sqrt(Math.PI));return{x:()=>Q(t,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p1e={kernelName:pg,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f1e={kernelName:Yy,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>te(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m1e={kernelName:fg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,ao(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g1e={kernelName:mg,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b1e={kernelName:gg,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,o=ft(n.shape,i.shape);return{a:()=>{const a=Ue(t,Pe(i,"float32")),l=ii(n.shape,o);return l.length>0?te(Ke(a,l),n.shape):a},b:()=>{let a=Q(t,Pe(n,"float32"));const l=ii(i.shape,o);l.length>0&&(a=te(Ke(a,l),i.shape));const c=Jt(i);return gn(Ue(a,Pe(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x1e={kernelName:Zy,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:i}=n,[o,r,s,a]=e,l=a==null?it(1):a,c=ii(r.shape,o.shape),u=[];if(r.rank===1){for(let v=0;v<o.shape.length-1;++v)u.push(o.shape[v]);u.push(1)}const d=Ve(o,r),h=Q(t,l),p=KE(Se(s,it(i))),f=Q(Q(Q(p,p),p),it(-.5));return{x:()=>r.rank===1?te(Q(Q(t,Gr(te(p,[1,1,1,r.shape[0]]),u)),l),o.shape):te(Q(Q(t,p),l),o.shape),mean:()=>{let v=Q(Q(p,it(-1)),h);return r.rank===1&&(v=Ke(v,c)),te(v,r.shape)},variance:()=>{let v=Q(Q(f,d),h);return r.rank===1&&(v=Ke(v,c)),te(v,r.shape)},scale:()=>{const v=Q(d,p);let w=Q(t,v);return r.rank===1&&(w=Ke(w,c)),te(w,r.shape)},offset:()=>{let v=t;return r.rank===1&&(v=Ke(v,c)),te(v,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y1e={kernelName:Jy,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[i,o]=e,{axis:r,batchDims:s}=n,a=Et(r,i.shape)[0],l=(c,u,d)=>()=>{const h=c.shape,p=u.size,f=h.slice(0,a),m=f.length,b=h.slice(r,h.length).slice(1),g=b.length,x=KA(0,m),y=KA(m+1,m+1+g),v=XA([f,[p],b]),w=te(d,v),C=te(u,[p]),S=XA([[m],x,y]),E=Dt(w,S);let I=oI(E,C,c.shape[a]);const N=Sc(S);return I=Dt(I,N),I};if(s===1){const c=i.shape[0],u=i.split(c,0);return{x:()=>qo(u.map((p,f)=>l(p,o.slice(f,1),t.slice(f,1))())).reshape(i.shape),indices:()=>o}}else return{x:l(i,o,t),indices:()=>o}}};function KA(t,e){const n=[];for(let i=t;i<e;++i)n.push(i);return n}function XA(t){const e=[];for(let n=0;n<t.length;++n)for(let i=0;i<t[n].length;++i)e.push(t[n][i]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v1e={kernelName:bg,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e;return{a:()=>Rt(n),b:()=>Rt(i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w1e={kernelName:xg,gradFunc:t=>({x:()=>Pe(t,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k1e={kernelName:yg,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S1e={kernelName:vg,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C1e={kernelName:wg,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T1e={kernelName:ev,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{alpha:o}=n,r=Qo(i,0);return{x:()=>qi(r,t,Q(t,o))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E1e={kernelName:Sg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,Se(n,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I1e={kernelName:kg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,Pe(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _1e={kernelName:mde,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i]=e,{axis:o}=n;return{logits:()=>{const s=ao(i);return Ve(t,Q(Ke(t,o,!0),s))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $1e(t,e,n,i=5,o=1,r=1,s=.5){const a={x:t,y:e,dy:n},l={depthRadius:i,bias:o,alpha:r,beta:s};return ee.runKernel(jT,a,l)}const A1e=Z({localResponseNormalizationBackprop_:$1e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N1e={kernelName:sv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i,o]=e,{depthRadius:r,bias:s,alpha:a,beta:l}=n;return{x:()=>A1e(i,o,t,r,s,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cP(t,e,n,i){return e.rank<n.rank&&(e=te(e,Mn(e.shape,i))),t.rank<n.rank&&(t=te(t,Mn(t.shape,i))),{x:()=>Q(t,Pe(Is(n,e),t.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YA={kernelName:av,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const i=n,{reductionIndices:o}=i,r=e[0],s=e[1],a=Et(o,r.shape),l=cP(t,s,r,a);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O1e={kernelName:Cg,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e;return{a:()=>Q(t,Pe(Cc(n,i),"float32")),b:()=>Q(t,Pe(pm(n,i),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D1e(t,e,n,i,o,r,s){const a=j(t,"dy","maxPool3dGrad"),l=j(e,"input","maxPool3dGrad"),c=j(n,"output","maxPool3dGrad");let u=a,d=l,h=c,p=!1;l.rank===4&&(p=!0,u=te(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),d=te(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),h=te(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),M(u.rank===5,()=>"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(u.rank,".")),M(d.rank===5,()=>"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(d.rank,".")),M(h.rank===5,()=>"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(h.rank,".")),co("maxPool3dGrad",r,s);const f={dy:u,input:d,output:h},m={filterSize:i,strides:o,pad:r,dimRoundingMode:s},b=ee.runKernel(VT,f,m);return p?te(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}const R1e=Z({maxPool3dGrad_:D1e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L1e={kernelName:cv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i,o]=e,{filterSize:r,strides:s,pad:a,dimRoundingMode:l}=n;return{x:()=>R1e(t,i,o,r,s,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z1e(t,e,n,i,o,r,s){const a=j(t,"dy","maxPoolGrad"),l=j(e,"input","maxPoolGrad"),c=j(n,"output","maxPoolGrad");M(l.rank===a.rank,()=>"Rank of input (".concat(l.rank,") does not match rank of dy ")+"(".concat(a.rank,")")),M(a.rank===4,()=>"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(a.rank,".")),M(l.rank===4,()=>"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(l.rank,".")),co("maxPoolGrad",r,s);const u={dy:a,input:l,output:c},d={filterSize:i,strides:o,pad:r,dimRoundingMode:s};return ee.runKernel(UT,u,d)}const F1e=Z({maxPoolGrad_:z1e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P1e={kernelName:lv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i,o]=e,{filterSize:r,strides:s,pad:a}=n;return{x:()=>F1e(t,i,o,r,s,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B1e={kernelName:uv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{axis:o}=n,r=Et(o,i.shape),a=bi(i.shape,r)[1],l=ge(a);return{x:()=>{const u=i.shape.slice();r.forEach(p=>{u[p]=1});const d=te(t,u);return Ue(Q(d,jo(i.shape,"float32")),l)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M1e={kernelName:dv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const i=n,{axis:o}=i,[r,s]=e,a=Et(o,r.shape),l=cP(t,s,r,a);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j1e={kernelName:Tg,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e;return{a:()=>Q(t,Pe(id(n,i),"float32")),b:()=>Q(t,Pe(Qo(n,i),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U1e={kernelName:hv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const i=e[0],{paddings:o}=n,r=o.map(s=>s[0]);return{x:()=>at(t,r,i.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V1e={kernelName:Eg,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,o=ft(n.shape,i.shape);return{a:()=>{const a=ii(n.shape,o);return a.length>0?te(Ke(t,a),n.shape):t},b:()=>{const a=Q(t,gn(Qg(Ue(n,i)))),l=ii(i.shape,o);return l.length>0?te(Ke(a,l),i.shape):a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H1e={kernelName:Ig,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,o=ft(n.shape,i.shape);return{a:()=>{const a=Q(t,Pe(i,"float32")),l=ii(n.shape,o);return l.length>0?te(Ke(a,l),n.shape):a},b:()=>{const a=Q(t,Pe(n,"float32")),l=ii(i.shape,o);return l.length>0?te(Ke(a,l),i.shape):a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W1e={kernelName:pv,gradFunc:t=>({x:()=>gn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G1e={kernelName:gv,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>Yn(n.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q1e={kernelName:mv,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K1e={kernelName:bv,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:i}=n;return is(t,i).map(r=>()=>r)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZA={kernelName:xv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const i=e[0],{paddings:o}=n,r=o.map(s=>s[0]);return{x:()=>at(t,r,i.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X1e={kernelName:_g,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,i,o]=e,r=n,s=i,a=ft(r.shape,s.shape);return{a:()=>{const u=Pe(s,"float32");let d=Q(t,Q(u,Ga(r,Ve(u,it(1)))));const h=ii(r.shape,a);return h.length>0&&(d=Ke(d,h)),te(d,r.shape)},b:()=>{const u=Qo(r,0),d=qi(u,gr(r),Rt(r));let h=Q(t,Q(o,d));const p=ii(s.shape,a);return p.length>0&&(h=Ke(h,p)),te(h,s.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y1e={kernelName:yv,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,i]=e,o=Qo(n,0);return{x:()=>qi(o,t,Q(t,i)),alpha:()=>{let r=qi(o,Rt(t),Q(t,n));const s=ii(i.shape,t.shape);return s.length>0&&(r=Ke(r,s)),te(r,i.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z1e(t,e,n){const i=t.shape.slice();i[n]=1;const o=te(e,i),r=Jx(t,n,!0,!1),s=Jx(t,n,!0,!0),a=Q(r,s);return Q(o,a)}function J1e(t,e,n){const i=t.shape.length,o=i-n.length,r=En(n,i);let s=t;r!=null&&(s=Dt(t,r));const a=s.shape.slice(),c=a.splice(i-n.length,n.length).reduce((h,p)=>h*p,1);a.push(c);const u=s.reshape(a);let d=Z1e(u,e,o);if(d=d.reshape(s.shape),r!=null){const h=Sc(r);d=Dt(d,h)}return d}const Q1e={kernelName:vv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{axis:o}=n;let r=[];return o==null?r=i.shape.map((s,a)=>a):typeof o=="number"?r=[o]:r=o,{x:()=>J1e(i,t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eye={kernelName:ug,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,o=ft(n.shape,i.shape);return{a:()=>{const a=Ue(t,Pe(i,"float32")),l=ii(n.shape,o);return l.length>0?te(Ke(a,l),n.shape):a},b:()=>{let a=Q(t,Pe(n,"float32"));const l=ii(i.shape,o);l.length>0&&(a=te(Ke(a,l),i.shape));const c=Jt(i);return gn(Ue(a,Pe(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tye={kernelName:$g,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,gn(Jt(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nye={kernelName:Ng,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,i=Q(id(n,6),yp(n));return{x:()=>Q(t,Pe(i,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iye={kernelName:Ag,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,Pe(yp(n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oye={kernelName:wv,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>te(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rye={kernelName:Sv,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[i]=e,o={dy:t,images:i};return{images:()=>ee.runKernel(tE,o,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sye={kernelName:kv,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[i]=e,o={dy:t,images:i};return{images:()=>ee.runKernel(eE,o,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aye={kernelName:Cv,gradFunc:(t,e,n)=>{const{dims:i}=n,o=Et(i,t.shape);return{x:()=>ns(t,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lye={kernelName:Og,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cye={kernelName:Dg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>gn(Ue(t,Q(Ga(n,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uye={kernelName:Tv,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>Pe(Rt(n),"float32"),t:()=>Q(t,Pe(n,t.dtype)),e:()=>Q(t,Pe(Vv(n),t.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dye={kernelName:Rg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=Qo(n,it(0)),o=it(sw),r=it(aw),s=Q(t,r),a=Q(Q(t,o),ao(Pe(n,"float32")));return qi(i,s,a)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hye={kernelName:Pg,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,Q(n,Ve(it(1),n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pye={kernelName:Fg,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fye={kernelName:Lg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(Pv(Pe(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mye={kernelName:zg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q($E(Pe(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gye={kernelName:Ev,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{begin:o,size:r}=n,s=i.shape,[a,l]=ow(i,o,r),c=[];for(let u=0;u<t.rank;u++)c.push([a[u],s[u]-a[u]-l[u]]);return{x:()=>Tc(t,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bye={kernelName:Av,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i]=e,{dim:o}=n,r=!0,s=Q(t,i);return{logits:()=>Ve(s,Q(Ke(s,[o],r),i))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xye={kernelName:Bg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,Cs(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JA={kernelName:_v,gradFunc:(t,e,n)=>{const{blockShape:i,paddings:o}=n;return{x:()=>Fv(t,i,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QA={kernelName:$v,gradFunc:(t,e,n)=>{const{axis:i}=n;return{x:()=>Dn(t,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yye={kernelName:Mg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,Q(Di(Pe(n,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vye={kernelName:uE,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,Q(Pe(n,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wye={kernelName:jg,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,o=it(2);return{a:()=>Q(t,Q(o,Ve(n,i))),b:()=>Q(t,Q(o,Ve(i,n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kye={kernelName:Gg,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sye={kernelName:Ug,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,o=ft(n.shape,i.shape);return{a:()=>{let a=t;const l=ii(n.shape,o);return l.length>0&&(a=Ke(a,l)),te(a,n.shape)},b:()=>{let a=t;const l=ii(i.shape,o);return l.length>0&&(a=Ke(a,l)),te(gn(a),i.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cye={kernelName:Iv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,o=i.shape.slice(),{axis:r}=n;Et(r,i.shape).forEach(c=>{o[c]=1});const a=te(t,o),l=Q(a,jo(i.shape,"float32"));return{x:()=>l}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tye={kernelName:Vg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,Jt(Pv(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eye={kernelName:Hg,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(Ve(it(1),Jt(n)),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Iye={kernelName:Wg,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{reps:o}=n;return{x:()=>{let s=Rt(i);if(i.rank===1)for(let a=0;a<o[0];++a)s=Se(s,at(t,[a*i.shape[0]],[i.shape[0]]));else if(i.rank===2)for(let a=0;a<o[0];++a)for(let l=0;l<o[1];++l)s=Se(s,at(t,[a*i.shape[0],l*i.shape[1]],[i.shape[0],i.shape[1]]));else if(i.rank===3)for(let a=0;a<o[0];++a)for(let l=0;l<o[1];++l)for(let c=0;c<o[2];++c)s=Se(s,at(t,[a*i.shape[0],l*i.shape[1],c*i.shape[2]],[i.shape[0],i.shape[1],i.shape[2]]));else if(i.rank===4)for(let a=0;a<o[0];++a)for(let l=0;l<o[1];++l)for(let c=0;c<o[2];++c)for(let u=0;u<o[3];++u)s=Se(s,at(t,[a*i.shape[0],l*i.shape[1],c*i.shape[2],u*i.shape[3]],[i.shape[0],i.shape[1],i.shape[2],i.shape[3]]));else throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(i.rank," tensors yet."));return s}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ye={kernelName:bh,gradFunc:(t,e,n)=>{const i=n,{perm:o}=i,r=Sc(o);return{x:()=>Dt(t,r)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ye={kernelName:Ov,gradFunc:(t,e,n)=>{const i=n,{axis:o}=i;return{value:()=>qo(t,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Aye={kernelName:Dv,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Nye(t,n)}}};function Nye(t,e){const n=tl(e,Rt(e)),i=e0(t,n);let o=Cc(e,it(0,"int32"));const r=i.rank-o.rank;for(let a=0;a<r;++a)o=Ci(o,a+1);o=ia(o,jo(i.shape,"bool"));const s=Rt(i);return qi(o,i,s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oye={kernelName:Rv,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dye=[lP,Axe,Nxe,Oxe,Dxe,Rxe,Lxe,zxe,Fxe,Pxe,Bxe,Mxe,Vxe,Gxe,qxe,Kxe,Xxe,Yxe,Zxe,Jxe,Qxe,e1e,n1e,t1e,r1e,s1e,a1e,l1e,c1e,u1e,eye,d1e,h1e,p1e,f1e,m1e,b1e,g1e,x1e,y1e,v1e,w1e,k1e,S1e,C1e,T1e,E1e,I1e,_1e,N1e,YA,YA,O1e,L1e,P1e,B1e,M1e,j1e,U1e,V1e,H1e,W1e,G1e,q1e,K1e,ZA,ZA,X1e,Y1e,Q1e,tye,nye,iye,oye,rye,sye,aye,lye,cye,uye,dye,hye,pye,fye,mye,gye,bye,xye,JA,JA,QA,QA,yye,wye,vye,kye,Sye,Cye,Tye,Eye,Iye,_ye,$ye,Aye,Oye];for(const t of Dye)bde(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.abs=function(){return this.throwIfDisposed(),Xn(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.acos=function(){return this.throwIfDisposed(),uz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.acosh=function(){return this.throwIfDisposed(),dz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.add=function(t){return this.throwIfDisposed(),Se(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.all=function(t,e){return this.throwIfDisposed(),CE(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.any=function(t,e){return this.throwIfDisposed(),Zx(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.argMax=function(t){return this.throwIfDisposed(),jh(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.argMin=function(t){return this.throwIfDisposed(),hz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.asScalar=function(){return this.throwIfDisposed(),M(this.size===1,()=>"The array must have only 1 element."),te(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.asType=function(t){return this.throwIfDisposed(),Pe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.as1D=function(){return this.throwIfDisposed(),te(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.as2D=function(t,e){return this.throwIfDisposed(),te(this,[t,e])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),te(this,[t,e,n])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.as4D=function(t,e,n,i){return this.throwIfDisposed(),te(this,[t,e,n,i])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.as5D=function(t,e,n,i,o){return this.throwIfDisposed(),te(this,[t,e,n,i,o])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.asin=function(){return this.throwIfDisposed(),pz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.asinh=function(){return this.throwIfDisposed(),fz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.atan=function(){return this.throwIfDisposed(),mz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.atan2=function(t){return this.throwIfDisposed(),gz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.atanh=function(){return this.throwIfDisposed(),bz(this)};be().prototype.avgPool=function(t,e,n,i){return this.throwIfDisposed(),zv(this,t,e,n,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),Fv(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.batchNorm=function(t,e,n,i,o){return this.throwIfDisposed(),Xg(this,t,e,n,i,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.broadcastTo=function(t){return this.throwIfDisposed(),vh(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.cast=function(t){return this.throwIfDisposed(),Pe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.ceil=function(){return this.throwIfDisposed(),Sz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),Eo(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof Zt&&(t=[t]),Dn([this,...t],e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.conv1d=function(t,e,n,i,o,r){return this.throwIfDisposed(),EE(this,t,e,n,i,o,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.conv2dTranspose=function(t,e,n,i,o){return this.throwIfDisposed(),_E(this,t,e,n,i,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.conv2d=function(t,e,n,i,o,r){return this.throwIfDisposed(),oc(this,t,e,n,i,o,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.cos=function(){return this.throwIfDisposed(),Pv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.cosh=function(){return this.throwIfDisposed(),$E(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),Jx(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),AE(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),Nz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.depthwiseConv2d=function(t,e,n,i,o,r){return this.throwIfDisposed(),Yg(this,t,e,n,i,o,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.dilation2d=function(t,e,n,i,o){return this.throwIfDisposed(),Oz(this,t,e,n,i,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.divNoNan=function(t){return this.throwIfDisposed(),Dz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.div=function(t){return this.throwIfDisposed(),Ue(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.dot=function(t){return this.throwIfDisposed(),Rz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.elu=function(){return this.throwIfDisposed(),Zg(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.equal=function(t){return this.throwIfDisposed(),Is(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.erf=function(){return this.throwIfDisposed(),NE(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),Fz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.exp=function(){return this.throwIfDisposed(),ao(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.expandDims=function(t){return this.throwIfDisposed(),Ci(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.expm1=function(){return this.throwIfDisposed(),Pz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.fft=function(){return this.throwIfDisposed(),Jv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.flatten=function(){return this.throwIfDisposed(),te(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.floor=function(){return this.throwIfDisposed(),Qg(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.floorDiv=function(t){return this.throwIfDisposed(),SE(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.gather=function(t,e,n){return this.throwIfDisposed(),e0(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.greaterEqual=function(t){return this.throwIfDisposed(),Cc(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.greater=function(t){return this.throwIfDisposed(),Qo(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.ifft=function(){return this.throwIfDisposed(),gm(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.irfft=function(){return this.throwIfDisposed(),eI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.isFinite=function(){return this.throwIfDisposed(),Bz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.isInf=function(){return this.throwIfDisposed(),Mz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.isNaN=function(){return this.throwIfDisposed(),jz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.leakyRelu=function(t){return this.throwIfDisposed(),Mv(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.lessEqual=function(t){return this.throwIfDisposed(),id(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.less=function(t){return this.throwIfDisposed(),pm(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.localResponseNormalization=function(t,e,n,i){return this.throwIfDisposed(),Uz(this,t,e,n,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logSigmoid=function(){return this.throwIfDisposed(),Vz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logSoftmax=function(t){return this.throwIfDisposed(),RE(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),Uv(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.log=function(){return this.throwIfDisposed(),gr(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.log1p=function(){return this.throwIfDisposed(),jv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logicalAnd=function(t){return this.throwIfDisposed(),ia(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logicalNot=function(){return this.throwIfDisposed(),Vv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logicalOr=function(t){return this.throwIfDisposed(),LE(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logicalXor=function(t){return this.throwIfDisposed(),Hz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),_t(this,t,e,n)};be().prototype.maxPool=function(t,e,n,i){return this.throwIfDisposed(),Hv(this,t,e,n,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.max=function(t,e){return this.throwIfDisposed(),Yr(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.maximum=function(t){return this.throwIfDisposed(),tl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.mean=function(t,e){return this.throwIfDisposed(),_n(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.min=function(t,e){return this.throwIfDisposed(),hm(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.minimum=function(t){return this.throwIfDisposed(),Fu(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),Gz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.mod=function(t){return this.throwIfDisposed(),qz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.mul=function(t){return this.throwIfDisposed(),Q(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.neg=function(){return this.throwIfDisposed(),gn(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.norm=function(t,e,n){return this.throwIfDisposed(),Jg(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.notEqual=function(t){return this.throwIfDisposed(),Vh(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),FE(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.onesLike=function(){return this.throwIfDisposed(),br(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.pad=function(t,e){return this.throwIfDisposed(),Tc(this,t,e)};be().prototype.pool=function(t,e,n,i,o,r){return this.throwIfDisposed(),Kz(this,t,e,n,i,o,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.pow=function(t){return this.throwIfDisposed(),Ga(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.prelu=function(t){return this.throwIfDisposed(),qv(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.prod=function(t,e){return this.throwIfDisposed(),Xz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.reciprocal=function(){return this.throwIfDisposed(),Zz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.relu=function(){return this.throwIfDisposed(),ca(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.relu6=function(){return this.throwIfDisposed(),GE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.reshapeAs=function(t){return this.throwIfDisposed(),te(this,t.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.reshape=function(t){return this.throwIfDisposed(),te(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),fF(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),mF(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.reverse=function(t){return this.throwIfDisposed(),ns(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.rfft=function(){return this.throwIfDisposed(),Qv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.round=function(){return this.throwIfDisposed(),qE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.rsqrt=function(){return this.throwIfDisposed(),KE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.selu=function(){return this.throwIfDisposed(),XE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.separableConv2d=function(t,e,n,i,o,r){return this.throwIfDisposed(),YE(this,t,e,n,i,o,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sigmoid=function(){return this.throwIfDisposed(),Cs(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sign=function(){return this.throwIfDisposed(),Jz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sin=function(){return this.throwIfDisposed(),ZE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sinh=function(){return this.throwIfDisposed(),JE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.slice=function(t,e){return this.throwIfDisposed(),at(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.softmax=function(t){return this.throwIfDisposed(),Zv(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.softplus=function(){return this.throwIfDisposed(),xp(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),Gv(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.split=function(t,e){return this.throwIfDisposed(),Uo(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sqrt=function(){return this.throwIfDisposed(),Di(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.square=function(){return this.throwIfDisposed(),Jt(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.squaredDifference=function(t){return this.throwIfDisposed(),tI(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.squeeze=function(t){return this.throwIfDisposed(),Ln(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof Zt?[this,t]:[this,...t];return qo(n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.step=function(t){return this.throwIfDisposed(),yp(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.stridedSlice=function(t,e,n,i,o,r,s,a){return this.throwIfDisposed(),Qz(this,t,e,n,i,o,r,s,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sub=function(t){return this.throwIfDisposed(),Ve(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sum=function(t,e){return this.throwIfDisposed(),Ke(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.tan=function(){return this.throwIfDisposed(),eF(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.tanh=function(){return this.throwIfDisposed(),zu(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.tile=function(t){return this.throwIfDisposed(),Gr(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.toBool=function(){return this.throwIfDisposed(),Pe(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.toFloat=function(){return this.throwIfDisposed(),Pe(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.toInt=function(){return this.throwIfDisposed(),Pe(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.topk=function(t,e){return this.throwIfDisposed(),iF(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.transpose=function(t){return this.throwIfDisposed(),Dt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.unique=function(t){return this.throwIfDisposed(),oF(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),oI(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.unstack=function(t){return this.throwIfDisposed(),is(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.where=function(t,e){return this.throwIfDisposed(),qi(t,this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.zerosLike=function(){return this.throwIfDisposed(),Rt(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class js extends Error{constructor(e){super(e),Object.setPrototypeOf(this,js.prototype)}}class qr extends Error{constructor(e){super(e),Object.setPrototypeOf(this,qr.prototype)}}class re extends Error{constructor(e){super(e),Object.setPrototypeOf(this,re.prototype)}}class gt extends Error{constructor(e){super(e),Object.setPrototypeOf(this,gt.prototype)}}class MI extends Error{constructor(e){super(e),Object.setPrototypeOf(this,MI.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class uP{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error("The maxEntries of LRU caches must be at least 0, but got ".concat(e,"."));if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const i=this.cache.keys().next().value;this.cache.delete(i)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Bu(t,e){if(Array.isArray(t)){let n=[];for(let i=0;i<e;i++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function Us(t,e){if(!t)throw new MI(e)}function eN(t,e){let n=0;for(const i of t)i===e&&n++;return n}function go(t){return t.length===1?t[0]:t}function Ht(t){return Array.isArray(t)?t:[t]}function va(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function Kc(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let _r={};function jI(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function SS(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>SS(e));else{const e=Object.keys(t);for(const n of e){const i=t[n];i!=null&&typeof i=="object"&&(!Array.isArray(i)&&i.type==="ndarray"&&typeof i.value=="number"?t[n]=i.value:SS(i))}}}function o0(t,e={},n={},i="object",o=!1){if(typeof t=="string"){const r=t;let s;if(r in n)s=n[r];else if(r in _r)s=_r[r];else if(s=e[r],s==null)throw new re("Unknown ".concat(i,": ").concat(t,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(i," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(i," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return s}else{const r=t;if(r.className==null||r.config==null)throw new re("".concat(i,": Improper config format: ")+"".concat(JSON.stringify(r),".\n")+"'className' and 'config' must set.");const s=r.className;let a,l;if(s in n?[a,l]=n[s]:s in _r?[a,l]=_r.className:s in e&&([a,l]=e[s]),a==null)throw new re("Unknown ".concat(i,": ").concat(s,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(i," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(i," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(l!=null){const c={};for(const p of Object.keys(_r))c[p]=_r[p];for(const p of Object.keys(n))c[p]=n[p];const u=r.config;u.customObjects=c;const d=Object.assign({},_r);for(const p of Object.keys(n))_r[p]=n[p];SS(r.config);const h=l(a,r.config,n,o);return _r=Object.assign({},d),h}else{const c=Object.assign({},_r);for(const d of Object.keys(n))_r[d]=n[d];const u=new a(r.config);return _r=Object.assign({},c),u}}}function Rye(t,e){return t<e?-1:t>e?1:0}function lb(t,e){return-1*Rye(t,e)}function Gl(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function Lye(t){if(t==null)throw new re("Invalid value in obj: ".concat(JSON.stringify(t)));for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function ad(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new re("".concat(n," is not a valid ").concat(e,".  Valid values are ").concat(t," or null/undefined."))}function UI(t,e,n=0,i=1/0){return Us(n>=0),Us(i>=n),Array.isArray(t)&&t.length>=n&&t.length<=i&&t.every(o=>typeof o===e)}function pi(t,e){Array.isArray(t)?(M(t.length>0,()=>"".concat(e," is unexpectedly an empty array.")),t.forEach((n,i)=>pi(n,"element ".concat(i+1," of ").concat(e)))):M(Number.isInteger(t)&&t>0,()=>"Expected ".concat(e," to be a positive integer, but got ")+"".concat(dP(t),"."))}function dP(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>dP(e)).join(",")+"]":typeof t=="string"?'"'.concat(t,'"'):"".concat(t)}function zye(t,e,n){let i=n!=null?n():mo(),o;return(...s)=>{const a=n!=null?n():mo();return a-i<e||(i=a,o=t(...s)),o}}function hP(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Fye=0;function pP(){return Fye++}const cb={};function lw(t=""){return t in cb||(cb[t]=0),cb[t]+=1,t+cb[t].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Pye=["channelsFirst","channelsLast"],Bye=["nearest","bilinear"],Mye=["valid","same","causal"],jye=["max","avg"],Uye=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const $d=new Map;function Un(t){ad(Pye,"DataFormat",t)}function Vye(t){ad(Bye,"InterpolationFormat",t)}function wr(t){ad(Mye,"PaddingMode",t)}function fP(t){ad(jye,"PoolMode",t)}const Lf=[],tN="/";function gu(t,e){Lf.push(t);try{const n=e();return Lf.pop(),n}catch(n){throw Lf.pop(),n}}function Hye(){return Lf.length===0?"":Lf.join(tN)+tN}function mP(t){if(!bP(t))throw new Error("Not a valid tensor name: '"+t+"'");return Hye()+t}function gP(t){if(!bP(t))throw new Error("Not a valid tensor name: '"+t+"'");$d.has(t)||$d.set(t,0);const e=$d.get(t);if($d.set(t,$d.get(t)+1),e>0){const n="".concat(t,"_").concat(e);return $d.set(n,1),n}else return t}const Wye=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function bP(t){return!!t.match(Wye)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Gye(t){return t===parseInt(t.toString(),10)}function ql(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let i=1;for(let o=e;o<n;++o)i*=t[o];return i}function Wh(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const i=t[n];i<e&&(e=i)}return e}function rc(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const i=t[n];i>e&&(e=i)}return e}function _s(t,e){if(e<t)throw new re("end (".concat(e,") < begin (").concat(t,") is forbidden."));const n=[];for(let i=t;i<e;++i)n.push(i);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let tk;function Zn(){return tk==null&&(tk=KL().epsilon()),tk}function $s(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Qs(t,e){return Pe(t,e)}function r0(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),te(t,n)}function qye(t,e){return ce(()=>{if(t.shape.length!==2)throw new re("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(t.shape.length," tensor."));const n=r0(t,1);return CS(n,[1,e,1])})}function Kye(t){const e=[ql(t.shape)];return te(t,e)}function Xye(t){if(t.rank<=1)throw new re("batchFlatten requires a minimum rank of 2. Got rank: ".concat(t.rank,"."));const e=[t.shape[0],ql(t.shape,1)];return te(t,e)}function bu(t,e,n){return ce(()=>{switch(t.rank){case 1:return Xv(t,e,n);case 2:return QE(t,[e,0],[n,t.shape[1]]);case 3:return Yv(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return mm(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return at(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return at(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new re("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(t.rank))}})}function nk(t,e,n){return ce(()=>{switch(t.rank){case 1:return Xv(t,e,n);case 2:return QE(t,[0,e],[t.shape[0],n]);case 3:return Yv(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return mm(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new re("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(t.rank))}})}function ub(t,e,n,i){return ce(()=>{switch(t.rank){case 1:return Xv(t,e,n);case 2:switch(i){case 1:return bu(t,e,n);case 2:return nk(t,e,n);default:throw new re("The axis is not within the rank of the tensor "+"".concat(i))}case 3:switch(i){case 1:return bu(t,e,n);case 2:return Yv(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return nk(t,e,n);default:throw new re("The axis is not within the rank of the tensor "+"".concat(i))}case 4:switch(i){case 1:return bu(t,e,n);case 2:return mm(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return mm(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return nk(t,e,n);default:throw new re("The axis is not within the rank of the tensor "+"".concat(i))}default:throw new re("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(t.rank))}})}function VI(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),Dn(t,e)}function nN(t,e){switch(t.rank){case 1:return Cz([t,e]);case 2:return Tz([t,e],0);case 3:return Ez([t,e],0);case 4:return Iz([t,e],0);default:throw new re("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(t.rank))}}function CS(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new re("The length of input n (".concat(e.length,") does not match ")+"the number of dimensions in input x (".concat(t.rank,")"));return Gr(t,e)}function cw(t,e=0,n=1,i,o){return WE(t,e,n,i,o)}function ea(t,e,n,i){if(t.rank<2||e.rank<2)throw new gt("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(t.shape," and y shape = ").concat(e.shape));if(e.rank>=3){const o=t.shape.slice(-1)[0],r=e.shape.slice(-2)[0];if(o!==r)throw new gt("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(t.shape," and ")+" y shape = ".concat(e.shape))}if(t.rank===2&&e.rank===2)return yS({a:t,b:e,transposeA:!1,transposeB:!1,bias:i?TS(t.rank,i,$s()):null,activation:n});{const o=t.shape.slice(),r=o.pop();t=te(t,[-1,r]);const s=e.shape.slice(),a=s.pop(),l=s.pop(),c=[...s,a],u=Array.from({length:e.rank},(f,m)=>m===0?e.rank-2:m<=e.rank-2?m-1:m);e=te(Dt(e,u),[l,-1]);const d=[...o,...c];return te(yS({a:t,b:e,transposeA:!1,transposeB:!1,bias:i?TS(t.rank,i,$s()):null,activation:n}),d)}}function xP(t,e,n){return ce(()=>(Array.isArray(e)?e=Gn(e,"int32"):e=Pe(e,"int32"),e0(t,e,n)))}function s0(t){return Q(t,t)}function TS(t,e,n){const i=e.shape;if(e.rank!==1&&e.rank!==t)throw new re("Unexpected bias dimensions: ".concat(e.rank)+"; expected it to be 1 or ".concat(t));if(t===5){if(n==="channelsFirst")return i.length===1?te(e,[1,i[0],1,1,1]):te(e,[1,i[3],i[0],i[1],i[2]]);if(n==="channelsLast")return i.length===1?te(e,[1,1,1,1,i[0]]):te(e,[1].concat(i))}else if(t===4){if(n==="channelsFirst")return i.length===1?te(e,[1,i[0],1,1]):te(e,[1,i[2],i[0],i[1]]);if(n==="channelsLast")return i.length===1?te(e,[1,1,1,i[0]]):te(e,[1].concat(i))}else if(t===3){if(n==="channelsFirst")return i.length===1?te(e,[1,i[0],1]):te(e,[1,i[1],i[0]]);if(n==="channelsLast")return i.length===1?te(e,[1,1,i[0]]):te(e,[1].concat(i))}else if(t<3)return e;throw new re("Unsupported input rank by biasAdd: ".concat(e.rank))}function zs(t,e,n){return ce(()=>(n==null&&(n=$s()),Un(n),Se(t,TS(t.rank,e,n))))}function Yye(t,e=1){if(e!==1)throw new gt("Support for alpha values other than 1 (".concat(e,") is not implemented ")+"yet.");return Zg(t)}function Zye(t){return ce(()=>Ue(t,Se(Xn(t),1)))}function yP(t,e,n,i){return ce(()=>aF(t,e,n,i))}function Jye(t){return ce(()=>{const e=Se(.5,Q(.2,t));return Eo(e,0,1)})}function a0(t,e,n=!1){return n?t():e()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Qye=["fanIn","fanOut","fanAvg"],eve=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function tve(t){ad(Qye,"FanMode",t)}function nve(t){ad(eve,"Distribution",t)}class as extends wp{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class vP extends as{apply(e,n){return Yn(e,n)}}vP.className="Zeros";Ee(vP);class HI extends as{apply(e,n){return jo(e,n)}}HI.className="Ones";Ee(HI);class wP extends as{constructor(e){if(super(),typeof e!="object")throw new re("Expected argument of type ConstantConfig but got ".concat(e));if(e.value===void 0)throw new re("config must have value set but got ".concat(e));this.value=e.value}apply(e,n){return ce(()=>Q(it(this.value),jo(e,n)))}getConfig(){return{value:this.value}}}wP.className="Constant";Ee(wP);class kP extends as{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return rd(e,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}kP.className="RandomUniform";Ee(kP);class SP extends as{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new gt("randomNormal does not support dType ".concat(n,"."));return cw(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}SP.className="RandomNormal";Ee(SP);class CP extends as{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new gt("truncatedNormal does not support dType ".concat(n,"."));return iI(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}CP.className="TruncatedNormal";Ee(CP);class TP extends as{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return ce(()=>{if(e.length!==2||e[0]!==e[1])throw new re("Identity matrix initializer can only be used for 2D square matrices.");return Q(this.gain,DE(e[0]))})}getConfig(){return{gain:this.gain}}}TP.className="Identity";Ee(TP);function ive(t,e="channelsLast"){let n,i;if(Un(e),t.length===2)n=t[0],i=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const o=ql(t,2);n=t[1]*o,i=t[0]*o}else if(e==="channelsLast"){const o=ql(t,0,t.length-2);n=t[t.length-2]*o,i=t[t.length-1]*o}}else{const o=ql(t);n=Math.sqrt(o),i=Math.sqrt(o)}return[n,i]}class Ko extends as{constructor(e){if(super(),e.scale<0)throw new re("scale must be a positive float. Got: ".concat(e.scale));this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,tve(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,nve(this.distribution),this.seed=e.seed}apply(e,n){const i=ive(e),o=i[0],r=i[1];let s=this.scale;if(this.mode==="fanIn"?s/=Math.max(1,o):this.mode==="fanOut"?s/=Math.max(1,r):s/=Math.max(1,(o+r)/2),this.distribution==="normal"){const a=Math.sqrt(s);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new gt("".concat(this.getClassName()," does not support dType ").concat(n,"."));return iI(e,0,a,n,this.seed)}else{const a=Math.sqrt(3*s);return rd(e,-a,a,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Ko.className="VarianceScaling";Ee(Ko);class WI extends Ko{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Ko.className}}WI.className="GlorotUniform";Ee(WI);class GI extends Ko{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Ko.className}}GI.className="GlorotNormal";Ee(GI);class qI extends Ko{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Ko.className}}qI.className="HeNormal";Ee(qI);class KI extends Ko{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Ko.className}}KI.className="HeUniform";Ee(KI);class XI extends Ko{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Ko.className}}XI.className="LeCunNormal";Ee(XI);class YI extends Ko{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Ko.className}}YI.className="LeCunUniform";Ee(YI);class EP extends as{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,n){return ce(()=>{if(e.length<2)throw new gt("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError("Unsupported data type ".concat(n,"."));n=n;const i=ge(e.slice(0,-1)),o=e[e.length-1],r=i*o;r>this.ELEMENTS_WARN_SLOW&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than ".concat(this.ELEMENTS_WARN_SLOW," (").concat(r,") elements: ")+"Slowness may result.");const s=[Math.max(o,i),Math.min(o,i)],a=cw(s,0,1,n,this.seed),l=gF.qr(a,!1);let c=l[0];const d=l[1].flatten().stridedSlice([0],[Math.min(o,i)*Math.min(o,i)],[Math.min(o,i)+1]);return c=Q(c,d.sign()),i<o&&(c=c.transpose()),Q(it(this.gain),c.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}EP.className="Orthogonal";Ee(EP);const iN={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function oN(t,e={}){return o0(t,Br.getMap().classNameMap,e,"initializer")}function Tn(t){return jI(t)}function xn(t){if(typeof t=="string"){const e=t in iN?iN[t]:t;if(e==="GlorotNormal")return new GI;if(e==="GlorotUniform")return new WI;if(e==="HeNormal")return new qI;if(e==="HeUniform")return new KI;if(e==="LeCunNormal")return new XI;if(e==="LeCunUniform")return new YI;{const n={};return n.className=e,n.config={},oN(n)}}else return t instanceof as?t:oN(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ES(t){return Array.isArray(t)&&Array.isArray(t[0])}function Qx(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function lt(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new re("Expected Tensor length to be 1; got ".concat(t.length));e=t[0]}else e=t;return e}function Pt(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new re("Expected exactly 1 Shape; got ".concat(t.length))}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function e1(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((i,o)=>i*o);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const rN="Variable";class ove{constructor(e,n="float32",i=rN,o=!0,r=null){this.dtype=n==null?"float32":n,this.shape=e.shape,this.id=pP(),i=i==null?rN:i,this.originalName=mP(i),this.name=gP(this.originalName),this.trainable_=o,this.constraint=r,this.val=rF(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),rve(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function rve(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function IS(t){return t.map(e=>e.read())}function ZI(t){t.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Jn{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class oa{constructor(e,n,i,o,r,s,a){this.dtype=e,this.shape=n,this.sourceLayer=i,this.inputs=o,this.callArgs=r,this.outputTensorIndex=a,this.id=pP(),s!=null&&(this.originalName=mP(s),this.name=gP(this.originalName)),this.rank=n.length}}let sve=0,uw=class{constructor(e,n){this.callArgs=n,this.id=sve++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const i of e.inboundLayers)i!=null&&i.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},ave=0;class It extends wp{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=ave++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const i=this.getClassName();n=va(i)+"_"+lw(i)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let i;if(e.batchInputShape!=null)i=e.batchInputShape;else if(e.inputShape!=null){let r=null;e.batchSize!=null&&(r=e.batchSize),i=[r].concat(e.inputShape)}this.batchInputShape=i;let o=e.dtype;o==null&&(o=e.inputDType),o==null&&(o="float32"),this.dtype=o}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new qr("The layer has never been called "+"and thus has no defined ".concat(n,"."));if(this.inboundNodes.length<=e)throw new re("Asked to get ".concat(n," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}getInputAt(e){return go(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return go(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new js("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(this.inboundNodes.length===0)throw new js("Layer ".concat(this.name)+" is not connected, no input to return.");return go(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new js("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new js("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return go(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const n=Ht(e);if(this.inputSpec==null||this.inputSpec.length===0)return;const i=Ht(this.inputSpec);if(n.length!==i.length)throw new re("Layer ".concat(this.name," expects ").concat(i.length," inputs, ")+"but it received ".concat(n.length," input tensors. ")+"Input received: ".concat(e));for(let o=0;o<n.length;o++){const r=n[o],s=i[o];if(s==null)continue;const a=r.rank;if(s.ndim!=null&&a!==s.ndim)throw new re("Input ".concat(o," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(s.ndim,", found ndim=").concat(a));if(s.maxNDim!=null&&a>s.maxNDim)throw new re("Input ".concat(o," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(s.maxNDim,", found ndim=").concat(a));if(s.minNDim!=null&&a<s.minNDim)throw new re("Input ".concat(o," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(s.minNDim,", found ndim=").concat(a,"."));if(s.dtype!=null&&r.dtype!==s.dtype)throw new re("Input ".concat(o," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(s.dtype,", found dtype=").concat(r.dtype,"."));if(s.axes){const l=r.shape;for(const c in s.axes){const u=Number(c),d=s.axes[c],h=u>=0?l[u]:l[l.length+u];if(d!=null&&[d,null].indexOf(h)===-1)throw new re("Input ".concat(o," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(u," of input shape to ")+"have value ".concat(d," but got shape ").concat(l,"."))}}if(s.shape!=null)for(let l=0;l<s.shape.length;++l){const c=s.shape[l],u=r.shape[l];if(c!=null&&u!=null&&c!==u)throw new re("Input ".concat(o," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(s.shape,", ")+"found shape=".concat(r.shape,"."))}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const i=Ht(e),o=uve(e),r=dve(e);if(o===r)throw new re("Arguments to apply() must be all SymbolicTensors or all Tensors");return gu(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const s=[];for(const a of Ht(e))s.push(a.shape);this.build(go(s)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&r&&(this._refCount=1)}if(this.assertInputCompatibility(e),r){let s=this.call(e,n);this.supportsMasking&&this.setMaskMetadata(e,s);const a=Ht(s),l=[];for(let c of a)i.indexOf(c)!==-1&&(c=c.clone()),l.push(c);if(s=go(l),this.activityRegularizer!=null)throw new gt("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return s}else{const s=lve(e),a=this.computeOutputShape(s);let l;const c=cve(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?s[0]:s),a!=null&&a.length>0&&Array.isArray(a[0])?l=a.map((u,d)=>new oa(c,u,this,Ht(e),n,this.name,d)):l=new oa(c,a,this,Ht(e),n,this.name),this.addInboundNode(e,l,null,null,s,a,n),this._refCount++,this.activityRegularizer!=null)throw new gt("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{let n=!1;this.batchInputShape.forEach((i,o)=>{i!=null&&e[o]!=null&&e[o]!==i&&(n=!0)}),n&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new js("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");const e=[];for(const n of this.inboundNodes){const i=JSON.stringify(n.outputShapes);e.indexOf(i)===-1&&e.push(i)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new js("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}countParams(){if(!this.built)throw new qr("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return e1(this.weights)}build(e){this.built=!0}getWeights(e=!1){return IS(e?this.trainableWeights:this.weights)}setWeights(e){ce(()=>{const n=this.weights;if(n.length!==e.length)throw new re('You called setWeights(weights) on layer "'.concat(this.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(n.length," weights. ")+"Provided weights: ".concat(e,"..."));if(n.length===0)return;const i=[],o=IS(n);for(let r=0;r<o.length;++r){const s=o[r],a=n[r],l=e[r];if(!Nt(s.shape,l.shape))throw new re("Layer weight shape ".concat(s.shape," ")+"not compatible with provided weight shape ".concat(l.shape));i.push([a,l])}ZI(i)})}addWeight(e,n,i,o,r,s,a,l){if(this._addedWeightNames.indexOf(e)!==-1)throw new re("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),i==null&&(i="float32"),this.fastWeightInitDuringBuild&&(o=l!=null?l():xn("zeros"));const c=o.apply(n,i),u=new ove(c,i,e,s,a);return c.dispose(),r!=null&&this.addLoss(()=>r.apply(u.read())),s==null&&(s=!0),s?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=Ht(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(i=>{if(i!=null)throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.")});else throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");return null}return n}setMaskMetadata(e,n,i){if(!this.supportsMasking)return;const o=this.computeMask(e,i),r=Ht(n),s=Ht(o);if(r.length!==s.length)throw new Error("".concat(this.name," outputs ").concat(r.length," tensors ")+"but ".concat(r.length," masks for those tensors"));for(let a=0;a<r.length;a++)r[a].kerasMask=s[a]}addInboundNode(e,n,i,o,r,s,a=null){const l=Ht(e);n=Ht(n),i=Ht(i),o=Ht(o),r=Qx(r),s=Qx(s);const c=[],u=[],d=[];for(const h of l)c.push(h.sourceLayer),u.push(h.nodeIndex),d.push(h.tensorIndex);new uw({outboundLayer:this,inboundLayers:c,nodeIndices:u,tensorIndices:d,inputTensors:l,outputTensors:n,inputMasks:i,outputMasks:o,inputShapes:r,outputShapes:s},a);for(let h=0;h<n.length;h++)n[h].sourceLayer=this,n[h].nodeIndex=this.inboundNodes.length-1,n[h].tensorIndex=h}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error("Layer '".concat(this.name,"' is already disposed."))}dispose(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(this._refCount===null)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function lve(t){t=Ht(t);const e=[];for(const n of t)e.push(n.shape);return go(e)}function cve(t){return"float32"}function IP(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const i=e.inboundNodes[n];if(i.inboundLayers.length===0)return i.inputTensors;{const o=[];for(let r=0;r<i.inboundLayers.length;r++){const s=i.inputTensors[r],a=i.inboundLayers[r],l=i.nodeIndices[r],c=IP(s,a,l);for(const u of c)o.indexOf(u)===-1&&o.push(u)}return o}}}function uve(t){let e=!0;for(const n of Ht(t))if(!(n instanceof oa)){e=!1;break}return e}function dve(t){let e=!0;for(const n of Ht(t))if(n instanceof oa){e=!1;break}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class l0 extends It{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:lw("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new re("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new re("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new re("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const i=e.dtype||"float32";this.batchInputShape=n,this.dtype=i,this.inputSpec=[{shape:n}];const o=new oa(this.dtype,this.batchInputShape,this,[],{},this.name);o.nodeIndex=0,o.tensorIndex=0,new uw({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[o],outputTensors:[o],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new re("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}l0.className="InputLayer";Ee(l0);function hve(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new re("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new l0({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function pve(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return Pe(e,t.dtype)}catch(n){throw new re("The dtype of the feed (".concat(e.dtype,") can not be cast to the dtype ")+"of the key '".concat(t.name,"' (").concat(t.dtype,")."))}}class Ol{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Ol)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,i){if(this.id2Value[e.id]==null)this.id2Value[e.id]=pve(e,n),this.name2Id[e.name]=e.id,i!=null&&(this.id2Mask[e.id]=i);else throw new re("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof oa){if(this.id2Value[e.id]==null)throw new re("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new re("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[n]}}getMask(e){if(e instanceof oa){if(this.id2Value[e.id]==null)throw new re("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new re("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&pt(this.id2Mask)}}const t1=new uP,n1=new uP;function fve(t){t1!=null&&t1.setMaxEntries(t),n1!=null&&n1.setMaxEntries(t)}function df(t,e,n,i){const o=n==null?!1:n.training,r=Array.isArray(t),s=r?t:[t],a=s.map(f=>f.name),l=[],c=e.names();for(const f of a)c.indexOf(f)!==-1?l.push(e.getValue(f)):l.push(null);const u=a.join(",")+"|"+e.names().sort().join(",");let d=t1.get(u),h;if(d==null){const f=mve(s,e);d=f.sorted,h=f.recipientCounts,t1.put(u,d),n1.put(u,h)}h={},o||Object.assign(h,n1.get(u));const p=new Ol(e);for(let f=0;f<d.length;++f){const m=d[f],b=m.sourceLayer;if(b instanceof l0)continue;const g=[],x=[],y=[];let v=!1;for(const I of m.inputs){const N=p.getValue(I),B=p.getMask(I);g.push(N),x.push(B),B!=null&&(v=!0),o||(h[I.name]--,h[I.name]===0&&!e.hasKey(I)&&a.indexOf(I.name)===-1&&!N.isDisposed&&I.sourceLayer.stateful!==!0&&y.push(N))}v&&(n=n||{},n.mask=x[0]);const w=Ht(b.apply(g,n));let C=null;b.supportsMasking&&(C=b.computeMask(g,x));const S=bve(m),E=Array.isArray(S)?S:[S];for(let I=0;I<E.length;++I){p.hasKey(E[I])||p.add(E[I],w[I],Array.isArray(C)?C[0]:C);const N=a.indexOf(E[I].name);N!==-1&&(l[N]=w[I])}o||pt(y)}return p.disposeMasks(),r?l:l[0]}function mve(t,e){M(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],i={};if(t.length===1){const o=sN(t[0],e);n=o.sorted,i=o.recipientMap}else{const o=new Set;for(const r of t){const{sorted:s,recipientMap:a}=sN(r,e);for(const l of s)o.has(l.name)||(n.push(l),o.add(l.name));for(const l in a)i[l]==null&&(i[l]=new Set),a[l].forEach(c=>i[l].add(c))}}return{sorted:n,recipientCounts:gve(i)}}function gve(t){const e={};for(const n in t)e[n]=t[n].size;return e}function sN(t,e){const n=new Set,i=[],o={};for(const a of e.names())n.add(a);const r=[],s=[];for(r.push(t);r.length>0;){const a=r[r.length-1];if(n.has(a.name)){r.pop();continue}const l=s[s.length-1]===r.length-1;if(a.inputs.length===0||l)r.pop(),i.push(a),n.add(a.name),l&&s.pop();else{s.push(r.length-1);for(const c of a.inputs)o[c.name]==null&&(o[c.name]=new Set),o[c.name].add(a.name),!n.has(c.name)&&r.push(c)}}return{sorted:i,recipientMap:o}}function bve(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let i=0;i<t.sourceLayer.inboundNodes.length;++i)for(const o of t.sourceLayer.inboundNodes[i].outputTensors)if(o.id===t.id){n=i;break}e=t.sourceLayer.getOutputAt(n)}return e}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xve=pe();xve.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,fve);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function JI(t,e){return ce(()=>Di(Ke(Q(t,t),e,!0)))}class c0 extends wp{getConfig(){return{}}}class _P extends c0{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ce(()=>{const n=JI(e,this.axis),i=Eo(n,0,this.maxValue);return Q(e,Ue(i,Se(Zn(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}_P.className="MaxNorm";Ee(_P);class $P extends c0{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ce(()=>Ue(e,Se(Zn(),JI(e,this.axis))))}getConfig(){return{axis:this.axis}}}$P.className="UnitNorm";Ee($P);class AP extends c0{apply(e){return ca(e)}}AP.className="NonNeg";Ee(AP);class NP extends c0{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ce(()=>{const n=JI(e,this.axis),i=Se(Q(this.rate,Eo(n,this.minValue,this.maxValue)),Q(1-this.rate,n));return Q(e,Ue(i,Se(Zn(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}NP.className="MinMaxNorm";Ee(NP);const aN={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function ti(t){return jI(t)}function lN(t,e={}){return o0(t,Br.getMap().classNameMap,e,"constraint")}function ni(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in aN?aN[t]:t,config:{}};return lN(n)}else return t instanceof c0?t:lN(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function Fc(t){if(t==null)return;const e=[],n=[],i=[];for(const o in t){const r=t[o];if(typeof r!="number"){const s=r;e.push(s.data()),n.push(o),i.push(s)}}if(e.length>0){const o=await Promise.all(e);for(let r=0;r<o.length;++r)t[n[r]]=o[r][0];pt(i)}}function OP(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var cN;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(cN||(cN={}));const yve=125;class bm{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class vve{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class wve extends bm{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const i=n.size==null?0:n.size;this.seen+=i;for(const o in n){const r=n[o];if(typeof r=="number")this.totals.hasOwnProperty(o)||(this.totals[o]=0),this.totals[o]=this.totals[o]+r*i;else{let s;o in this.totals?s=this.totals[o]:this.totals[o]=0;const a=ce(()=>Se(this.totals[o],Q(r,i)));this.totals[o]=a,s!=null&&s.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const i of this.params.metrics)this.totals[i]!=null&&(typeof this.totals[i]=="number"?n[i]=this.totals[i]/this.seen:ce(()=>{const o=Q(Ue(1,this.seen),this.totals[i]);n[i]=o,this.totals[i].dispose(),hi(n[i])}))}}class kve extends bm{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const i in n)this.history[i]==null&&(this.history[i]=[]),this.history[i].push(n[i])}async syncData(){const e=[],n=[],i=[];for(const r in this.history){const s=this.history[r];for(let a=0;a<s.length;++a)if(typeof s[a]!="number"){const l=s[a];e.push(l.data()),n.push(r),i.push(a)}}const o=await Promise.all(e);for(let r=0;r<o.length;++r)this.history[n[r]][i[r]].dispose(),this.history[n[r]][i[r]]=o[r][0]}}class Sve extends bm{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||FF,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=yve),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");J3(this.yieldEvery)&&(this.maybeWait=zye(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,i){const o=[];this.yield!=null&&(await Fc(i),o.push(this.yield(e,n,i))),o.push(this.nextFrameFunc()),await Promise.all(o)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await Fc(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const i=[];this.epochEnd!=null&&(await Fc(n),i.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&i.push(this.nextFrameFunc()),await Promise.all(i)}async onBatchBegin(e,n){this.batchBegin!=null&&(await Fc(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const i=[];this.batchEnd!=null&&(await Fc(n),i.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?i.push(this.nextFrameFunc()):J3(this.yieldEvery)&&i.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(i)}async onTrainBegin(e){this.trainBegin!=null&&(await Fc(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await Fc(e),await this.trainEnd(e))}}function DP(t,e){return t==null&&(t={}),t instanceof bm?[t]:Array.isArray(t)&&t[0]instanceof bm?t:Ht(t).map(i=>new Sve(i,e))}class Nr{constructor(){}static registerCallbackConstructor(e,n){M(e>=0&&Number.isInteger(e),()=>"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(e)),Nr.checkForDuplicate(n),Nr.constructors[e]==null&&(Nr.constructors[e]=[]),Nr.constructors[e].push(n)}static checkForDuplicate(e){for(const n in Nr.constructors)Nr.constructors[+n].forEach(o=>{if(o===e)throw new re("Duplicate callback constructor.")})}static clear(){Nr.constructors={}}static createCallbacks(e){const n=[];for(const i in Nr.constructors){const o=+i;e>=o&&n.push(...Nr.constructors[o])}return n.map(i=>new i)}}Nr.constructors={};function RP(t,e,n,i,o,r,s,a,l){const c=new kve,u=[new wve,...Nr.createCallbacks(e)];t!=null&&u.push(...t),u.push(c);const d=new vve(u);return d.setParams({epochs:n,initialEpoch:i,samples:o,steps:r,batchSize:s,verbose:e,doValidation:a,metrics:l}),{callbackList:d,history:c}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ma(t,e={},n=!1){return o0(t,Br.getMap().classNameMap,e,"layer",n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function i1(t,e){return ce(()=>{t.dtype!=="float32"&&(t=Pe(t,"float32"));const n=Ke(s0(t),e,!0),i=bp(n.shape,Zn()),o=Di(tl(n,i));return Ue(t,o)})}function dw(t,e){return ce(()=>_n(s0(Ve(e,t)),-1))}function QI(t,e){return ce(()=>_n(Xn(Ve(e,t)),-1))}function e_(t,e){return ce(()=>{const n=Ve(t,e),i=Eo(Xn(t),Zn(),Number.MAX_VALUE),o=Xn(Ue(n,i));return Q(100,_n(o,-1))})}function Cve(t,e){return ce(()=>{const n=Eo(e,Zn(),Number.MAX_VALUE),i=gr(Se(1,n)),o=Eo(t,Zn(),Number.MAX_VALUE),r=gr(Se(1,o));return _n(s0(Ve(i,r)),-1)})}function Tve(t,e){return ce(()=>{const n=tl(0,Ve(1,Q(t,e)));return _n(s0(n),-1)})}function Eve(t,e){return ce(()=>{const n=tl(0,Ve(1,Q(t,e)));return _n(n,-1)})}function Ive(t,e){return ce(()=>{const n=Ke(Q(t,e),-1),i=Yr(Q(Ve(1,t),e),-1);return tl(0,Se(1,Ve(i,n)))})}function _ve(t,e){return ce(()=>{const n=Math.log(2),i=Ve(e,t),o=Ve(Se(i,xp(Q(-2,i))),n);return _n(o,-1)})}function xm(t,e,n=!1){return ce(()=>{if(n)e=Zv(e);else{const i=Ke(e,e.shape.length-1,!0);e=Ue(e,i)}return e=Eo(e,Zn(),1-Zn()),gn(Ke(Q(Pe(t,"float32"),gr(e)),e.shape.length-1))})}function o1(t,e,n=!1){return ce(()=>{const i=Pe(Qg(Kye(t)),"int32");e=Eo(e,Zn(),1-Zn());const o=e.shape,r=te(FE(i,o[o.length-1]),o);return xm(r,e,n)})}function $ve(t,e){if(!Nt(t.shape,e.shape))throw new re("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(t.shape)," and ").concat(JSON.stringify(e.shape)));return ce(()=>{const n=ca(e),i=gn(Xn(e));return Se(Ve(n,Q(e,t)),jv(ao(i)))})}function hw(t,e){return ce(()=>{let n;return n=Eo(e,Zn(),1-Zn()),n=gr(Ue(n,Ve(1,n))),_n($ve(t,n),-1)})}function Ave(t,e){return ce(()=>{const n=Eo(t,Zn(),1),i=Eo(e,Zn(),1);return Ke(Q(t,gr(Ue(n,i))),-1)})}function Nve(t,e){return ce(()=>{const n=gr(Se(Zn(),e));return _n(Ve(e,Q(t,n)),-1)})}function LP(t,e){return ce(()=>{const n=i1(t,-1),i=i1(e,-1),o=Q(n,i);return gn(Ke(o,-1))})}const r1={meanSquaredError:dw,meanAbsoluteError:QI,meanAbsolutePercentageError:e_,meanSquaredLogarithmicError:Cve,squaredHinge:Tve,hinge:Eve,categoricalHinge:Ive,logcosh:_ve,categoricalCrossentropy:xm,sparseCategoricalCrossentropy:o1,binaryCrossentropy:hw,kullbackLeiblerDivergence:Ave,poisson:Nve,cosineProximity:LP};function ik(t){if(typeof t=="string"){if(t in r1)return r1[t];let e="Unknown loss ".concat(t);throw t.toLowerCase().includes("softmaxcrossentropy")&&(e="Unknown loss ".concat(t,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new re(e)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function zP(t,e){return ce(()=>{const n=Q(.5,br(e)),i=Qs(Qo(e,n),t.dtype);return _n(Is(t,i),-1)})}function FP(t,e){return ce(()=>Qs(Is(jh(t,-1),jh(e,-1)),"float32"))}function Ove(t,e){return ce(()=>Pe(Ke(ia(Is(t,1),Is(e,1))),"float32"))}function Dve(t,e){return ce(()=>Pe(Ke(ia(Is(t,0),Is(e,1))),"float32"))}function Rve(t,e){return ce(()=>{const n=Ove(t,e),i=Dve(t,e),o=Se(n,i);return Pe(qi(Qo(o,0),Ue(n,o),0),"float32")})}function Lve(t,e){return hw(t,e)}function zve(t,e){return t.rank===e.rank&&(t=Ln(t,[t.rank-1])),e=jh(e,-1),e.dtype!==t.dtype&&(e=Pe(e,t.dtype)),Pe(Is(t,e),"float32")}const Fve=dw,Pve=dw,Bve=QI,Mve=QI,jve=e_,Uve=e_,PP=xm,Vve=LP,BP=o1,s1={binaryAccuracy:zP,categoricalAccuracy:FP,precision:Rve,categoricalCrossentropy:PP,sparseCategoricalCrossentropy:BP,mse:Fve,MSE:Pve,mae:Bve,MAE:Mve,mape:jve,MAPE:Uve,cosine:Vve};function Hve(t){if(typeof t=="string"&&t in s1)return s1[t];if(typeof t!="string"&&t!=null)return t;throw new re("Unknown metric ".concat(t))}function db(t){if(Us(t!==null,"Unknown LossOrMetricFn ".concat(t)),typeof t=="string")return t;{let e;for(const n of Object.keys(r1))if(r1[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(s1))if(s1[n]===t){e=n;break}return e!==void 0?e:t.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Wve(t){const e={Adagrad:()=>_d.adagrad(.01),Adadelta:()=>_d.adadelta(1,.95,Zn()),Adam:()=>_d.adam(.001,.9,.999,Zn()),Adamax:()=>_d.adamax(.002,.9,.999,Zn(),0),RMSProp:()=>_d.rmsprop(.001,.9,0,Zn()),SGD:()=>_d.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new re("Unknown Optimizer ".concat(t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const uN=1*1024*1024;function dN(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!_S(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const i=JSON.stringify(t);i.length>uN&&console.warn('User-defined metadata of model "'.concat(e,'" is too large in ')+"size (length=".concat(i.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(uN,"."))}}function _S(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!_S(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!_S(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Gve(t,e,n,i=console.log){const o=Kve(t),r=["Layer (type)","Input Shape","Output shape","Param #"];o?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(u=>Math.floor(e*u)));let s;if(!o){r.push("Receives inputs"),s=[];for(const u in t.nodesByDepth)s.push(...t.nodesByDepth[u])}i("_".repeat(e)),a1(r,n,i),i("=".repeat(e));const a=t.layers;for(let u=0;u<a.length;++u)o?Xve(a[u],n,i):Yve(a[u],n,s,i),i((u===a.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const l=qve(t),c=e1(t.nonTrainableWeights);i("Total params: ".concat(l+c)),i("Trainable params: ".concat(l)),i("Non-trainable params: ".concat(c)),i("_".repeat(e))}function qve(t){let e;return t.collectedTrainableWeights!=null?e=e1(t.collectedTrainableWeights):e=e1(t.trainableWeights),e}function Kve(t){let e=!0;const n=[],i=[];for(const o in t.nodesByDepth)n.push(t.nodesByDepth[o]);for(const o of n){if(o.length>1||o.length===1&&o[0].inboundLayers.length>1){e=!1;break}i.push(...o)}if(e)for(const o of t.layers){let r=!1;for(const s of o.inboundNodes)if(i.indexOf(s)!==-1)if(r){e=!1;break}else r=!0;if(!e)break}return e}function a1(t,e,n=console.log){let i="";for(let o=0;o<t.length;++o)o>0&&(i=i.slice(0,i.length-1)+" "),i+=t[o],i=i.slice(0,e[o]),i+=" ".repeat(e[o]-i.length);n(i)}function Xve(t,e,n){let i,o;try{o=t.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch(l){o="multiple"}try{i=JSON.stringify(t.outputShape)}catch(l){i="multiple"}const r=t.name,s=t.getClassName(),a=["".concat(r," (").concat(s,")"),o,i,t.countParams().toString()];a1(a,e,n)}function Yve(t,e,n,i){let o,r;try{r=t.inboundNodes.map(d=>JSON.stringify(d.inputShapes)).join(",")}catch(d){r="multiple"}try{o=JSON.stringify(t.outputShape)}catch(d){o="multiple"}const s=[];for(const d of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(d)===-1))for(let h=0;h<d.inboundLayers.length;++h){const p=d.inboundLayers[h].name,f=d.nodeIndices[h],m=d.tensorIndices[h];s.push("".concat(p,"[").concat(f,"][").concat(m,"]"))}const a=t.name,l=t.getClassName(),c=s.length===0?"":s[0],u=["".concat(a," (").concat(l,")"),r,o,t.countParams().toString(),c];a1(u,e,i);for(let d=1;d<s.length;++d)a1(["","","","",s[d]],e,i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function MP(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function $S(t,e){if(t===null)return null;if(typeof t=="string")return Kc(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],i=t.length;for(let o=0;o<i;++o){const r=t[o];MP(e,o,r)?n.push(r):n.push($S(r,e))}return n}else{const n={};for(const i of Object.keys(t)){const o=t[i];if(i==="name"&&typeof o=="string")n[i]=o;else{const r=Kc(i);n[r]=$S(o,r)}}return n}}function AS(t,e){if(t==null)return null;if(typeof t=="string")return va(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],i=t.length;for(let o=0;o<i;++o){const r=t[o];MP(e,o,r)?n.push(r):n.push(AS(r,e))}return n}else{const n={};for(const i of Object.keys(t)){const o=t[i],r=va(i);(i==="name"||i==="className")&&typeof o=="string"?n[r]=o:n[r]=AS(o,i)}return n}}/** @license See the LICENSE file. */const jP="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Zve=t=>{const e=Object.keys(t);if(e.length===0)return!1;const n=e[0].split("/");return!isNaN(parseInt(n[n.length-1],10))};class ds extends It{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const x=this.getClassName().toLowerCase();this.name=lw(x)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],Gl(this.inputs).length!==this.inputs.length)throw new re("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(this.inputs.map(x=>x.name)));Gl(this.outputs).length!==this.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(this.outputs.map(x=>x.name))),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const x of this.outputs){const y=x.sourceLayer,v=x.nodeIndex,w=x.tensorIndex;this.outputLayers.push(y),this.outputLayersNodeIndices.push(v),this.outputLayersTensorIndices.push(w)}for(const x of this.inputs){const y=x.sourceLayer,v=x.nodeIndex,w=x.tensorIndex;Us(v===0,"input layer has >1 nodes"),Us(w===0,"input layer has >1 tensors"),this.inputLayers.push(y),this.inputLayersNodeIndices.push(v),this.inputLayersTensorIndices.push(w)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let x=0;x<this.inputLayers.length;x++){const y=this.inputLayers[x];if(!(y instanceof l0))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(x," (0-based) originates ")+"from layer type ".concat(y.getClassName(),"."));this.inputNames.push(y.name),this.feedInputShapes.push(y.batchInputShape),this.feedInputNames.push(y.name)}for(const x of this.outputLayers)this.outputNames.push(x.name);this.internalInputShapes=this.inputs.map(x=>x.shape),this.internalOutputShapes=this.outputs.map(x=>x.shape);const n={},i={},o={},r={},s={},a=[],l=(x,y,v,w,C,S)=>{(w==null||C==null||S==null)&&(w=x.sourceLayer,C=x.nodeIndex,S=x.tensorIndex);const E=w.inboundNodes[C];if(v.indexOf(E)!==-1)throw new qr("The tensor ".concat(x.name,' at layer "').concat(w.name,'" ')+"is part of a cycle.");if(y.indexOf(E)!==-1)return;this.containerNodes.add(ds.nodeKey(w,C)),w.id in s||(s[w.id]=Object.keys(s).length),v.indexOf(E)===-1&&v.push(E);const I=E.inboundLayers.length;for(let N=0;N<I;N++){const B=E.inputTensors[N],D=E.inboundLayers[N],P=E.nodeIndices[N],_=E.tensorIndices[N];l(B,y,v,D,P,_)}for(y.push(E);v.indexOf(E)>=0;)v.splice(v.indexOf(E),1);a.push(E)},c=[],u=[];for(const x of this.outputs)l(x,c,u);const d=a.slice().reverse();for(const x of d){i[x.id]=x,x.id in n||(n[x.id]=0);let y=n[x.id];const v=o[x.outboundLayer.id]==null?0:o[x.outboundLayer.id];y=Math.max(y,v),o[x.outboundLayer.id]=y,r[x.outboundLayer.id]=x.outboundLayer,n[x.id]=y;for(let w=0;w<x.inboundLayers.length;w++){const C=x.inboundLayers[w],S=x.nodeIndices[w],E=C.inboundNodes[S],I=n[E.id]==null?0:n[E.id];n[E.id]=Math.max(y+1,I),i[E.id]=E}}const h={};for(const x in n){const y=n[x];y in h||(h[y]=[]),h[y].push(i[x])}const p={};for(const x in o){const y=o[x];y in p||(p[y]=[]),p[y].push(r[x])}let f=Object.keys(p).map(x=>parseInt(x,10)).sort(lb);this.layers=[];for(const x of f){const y=p[x];y.sort((v,w)=>{const C=s[v.id],S=s[w.id];return C<S?-1:C>S?1:0});for(const v of y)v instanceof ds&&this.internalContainerRefs.push(v),this.layers.push(v)}this.layersByDepth=p,f=Object.keys(h).map(x=>parseInt(x,10)).sort(lb);const m=this.inputs.slice(),b=[];for(const x of f)for(const y of h[x]){const v=y.outboundLayer;if(v!=null){for(const w of y.inputTensors)if(m.indexOf(w)===-1)throw new qr("Graph disconnected: cannot obtain value for tensor ".concat(w)+' at layer "'.concat(v.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(b));for(const w of y.outputTensors)m.push(w);b.push(v.name)}}this.nodesByDepth=h;const g=this.layers.map(x=>x.name);for(const x of g){const y=g.filter(v=>v===x).length;if(y!==1)throw new qr('The name "'.concat(x,'" is used ').concat(y," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new uw({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(x=>null),outputMasks:this.outputs.map(x=>null),inputShapes:this.inputs.map(x=>x.shape),outputShapes:this.outputs.map(x=>x.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error("Container '".concat(this.name,"' is already disposed."))}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(i=>i.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new re("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const i of this.layers)n.push(...i.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const i={};let o=0;const r=Zve(e);r&&this.parseWeights(e);for(const a of this.layers)for(const[l,c]of a.weights.entries()){const u=r?"".concat(c.name.split("/").slice(0,-1).join("/")+"/").concat(l):c.originalName;if(i[u]!=null)throw new re("Duplicate weight name: ".concat(u));i[u]=c,o++}const s=[];for(const a in e){let l=a;if(i[a]==null){const c=a.split("/");l=c.slice(0,-2).concat([c[c.length-1]]).join("/")}if(i[l]!=null)s.push([i[l],e[a]]);else if(n)throw new re("Provided weight data has no target variable: ".concat(a));delete i[l]}if(n){const a=[];for(const l in i)a.push(l);if(a.length>0)throw new re("".concat(a.length," of ").concat(o," weights are not set: ")+"".concat(a))}ZI(s)}parseWeights(e){for(const n in Object.keys(e)){const i=n.split("/"),o=["vars","layer_checkpoint_dependencies"],r=i.map(s=>s.startsWith("_")?s.slice(1):s).filter(s=>!o.includes(s)).join("/");r!==n&&(e[r]=e[n],delete e[n])}}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion="tfjs-layers ".concat(jP),n.backend="TensorFlow.js",n}toJSON(e,n=!0){const i=AS(this.updatedConfig());return n?JSON.stringify(i):i}call(e,n){return ce(()=>{e=Ht(e);const i=new Ol;for(let o=0;o<this.inputs.length;++o)i.add(this.inputs[o],e[o]);return df(this.outputs,i,n)})}computeMask(e,n){return ce(()=>{e=Ht(e);let i;return n==null?i=Bu(null,e.length):i=Ht(n),this.runInternalGraph(e,i)[1]})}computeOutputShape(e){const n=Qx(e);if(n.length!==this.inputLayers.length)throw new re("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));const i={};for(let a=0;a<n.length;a++){const l=this.inputLayers[a],c=n[a],u=l.name+"_0_0";i[u]=c}const o=Object.keys(this.nodesByDepth).map(a=>parseInt(a,10)).sort(lb);if(o.length>1)for(const a of o){const l=this.nodesByDepth[a];for(const c of l){const u=c.outboundLayer;if(this.inputLayers.map(m=>m.id).indexOf(u.id)!==-1)continue;const d=[];for(let m=0;m<c.inboundLayers.length;m++){const b=c.inboundLayers[m],g=c.nodeIndices[m],x=c.tensorIndices[m],y="".concat(b.name,"_").concat(g,"_").concat(x),v=i[y];d.push(v)}const h=u.computeOutputShape(go(d)),p=Qx(h),f=u.inboundNodes.indexOf(c);for(let m=0;m<p.length;m++){const b="".concat(u.name,"_").concat(f,"_").concat(m);i[b]=p[m]}}}const r=[],s=[];for(let a=0;a<this.outputLayers.length;a++){const l=this.outputLayers[a],c=this.outputLayersNodeIndices[a],u=this.outputLayersTensorIndices[a],d="".concat(l.name,"_").concat(c,"_").concat(u);s.push(d)}for(let a=0;a<s.length;a++){const l=s[a];Us(l in i),r.push(i[l])}return go(r)}runInternalGraph(e,n){n==null&&(n=Bu(null,e.length));const i={};for(let l=0;l<this.inputs.length;++l){const c=this.inputs[l],u=e[l],d=n[l];i[c.id]=[u,d]}const o=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(lb);for(const l of o){const c=this.nodesByDepth[l];for(const u of c){const d=u.outboundLayer,h=u.inputTensors,p=u.outputTensors,f=new Array;for(const m of h)m.id in i&&f.push(i[m.id]);if(f.length===h.length){let m={},b,g,x,y;if(u.callArgs!=null&&(m=u.callArgs),f.length===1){const[v,w]=f[0];m.mask==null&&(m.mask=w),x=Ht(d.call(v,m)),y=Ht(d.computeMask(v,w)),b=[v],g=[w]}else b=f.map(v=>v[0]),g=f.map(v=>v[1]),m.mask==null&&(m.mask=g),x=Ht(d.call(b,m)),y=Ht(d.computeMask(b,g));if(d.activityRegularizer)throw new gt("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let v=0;v<p.length;++v){const w=p[v],C=x[v],S=y[v];i[w.id]=[C,S]}}}}const r=[],s=[],a=[];for(const l of this.outputs){Us(l.id in i,"Could not compute output ".concat(l.name," : ").concat(l.id));const[c,u]=i[l.id];a.push(c.shape),r.push(c),s.push(u)}return[r,s,a]}buildNodeConversionMap(e){const n={};let i;for(const o of this.layers){i=o instanceof ds?1:0;for(let r=0;r<o.inboundNodes.length;r++){const s=ds.nodeKey(o,r);this.containerNodes.has(s)&&(n[s]=i,i+=1)}}return n}getLayer(e,n){if(n!=null)return this.findLayer(n);if(e==null)throw new re("Provide either a layer name or layer index");if(typeof e=="number")return this.findLayer(e);for(const i of this.layers)if(i.name===e)return i;throw new re("No such layer: ".concat(e))}findLayer(e){if(this.layers.length<=e)throw new re("Was asked to retrieve layer at index ".concat(e,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[e]}calculateLosses(){return ce(()=>{const e=[];for(const n of this.layers)for(let i=0;i<n.inboundNodes.length;++i){const o=ds.nodeKey(n,i);this.containerNodes.has(o)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),i=[];for(const s of this.layers){const a=s.getClassName(),l=s.getConfig(),c=[];for(let d=0;d<s.inboundNodes.length;d++){const h=s.inboundNodes[d],p=ds.nodeKey(s,d);let f={};if(this.containerNodes.has(p)){if(h.callArgs)try{JSON.stringify(h.callArgs),f=h.callArgs}catch(m){console.warn("Layer ".concat(s.name," was passed ")+"non-serializable keyword arguments: "+"".concat(h.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),f={}}if(h.inboundLayers.length>0){const m=[];for(let b=0;b<h.inboundLayers.length;b++){const g=h.inboundLayers[b],x=h.nodeIndices[b],y=h.tensorIndices[b],v=ds.nodeKey(g,x);let w=n[v];w==null&&(w=0),m.push([g.name,w,y,f])}c.push(m)}}}const u={};u.name=s.name,u.className=a,u.config=l,u.inboundNodes=c,i.push(u)}e.layers=i;const o=[];for(let s=0;s<this.inputLayers.length;s++){const a=this.inputLayers[s],l=this.inputLayersNodeIndices[s],c=ds.nodeKey(a,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const d=this.inputLayersTensorIndices[s];o.push([a.name,u,d])}e.inputLayers=o;const r=[];for(let s=0;s<this.outputLayers.length;s++){const a=this.outputLayers[s],l=this.outputLayersNodeIndices[s],c=ds.nodeKey(a,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const d=this.outputLayersTensorIndices[s];r.push([a.name,u,d])}return e.outputLayers=r,e}static fromConfig(e,n,i={},o=!1){const r={},s={};function a(b,g){b.name in s?s[b.name].push(g):s[b.name]=[g]}function l(b,g){const x=[];let y;for(const v of g){const w=v[0],C=v[1],S=v[2];if(y=v[3]==null?{}:v[3],!(w in r)){a(b,g);return}const E=r[w];if(E.inboundNodes.length<=C){a(b,g);return}const I=E.inboundNodes[C];x.push(I.outputTensors[S])}x.length>0&&b.apply(go(x),y)}function c(b){const g=b.name,x=Ma(b,n.customObjects!=null?n.customObjects:{});x.setFastWeightInitDuringBuild(o),r[g]=x,b.inboundNodes.forEach(v=>{if(!(v instanceof Array))throw new re("Corrupted configuration, expected array for nodeData: ".concat(v));a(x,v)})}const u=n.name,d=n.layers;for(const b of d)c(b);for(;!Lye(s);)for(const b of d){const g=r[b.name];if(g.name in s){const x=s[g.name];delete s[g.name];for(const y of x)l(g,y)}}const h=[],p=[],f=n.inputLayers;for(const b of f){const g=b[0],x=b[1],y=b[2];Us(g in r);const w=r[g].inboundNodes[x].outputTensors;h.push(w[y])}const m=n.outputLayers;for(const b of m){const g=b[0],x=b[1],y=b[2];Us(g in r);const w=r[g].inboundNodes[x].outputTensors;p.push(w[y])}return new e({inputs:h,outputs:p,name:u})}get stateful(){if(this._stateful)throw new re("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){ce(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Jve(t,e,n){const i=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(o=>null);if(i===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==i)throw new Error("Provided ".concat(n," is an array of ").concat(t.length," ")+"element(s), but the model has ".concat(i," outputs. ")+"Make sure a set of weights is provided for each model output.");return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const o=[];return e.forEach(r=>{r in t?o.push(t[r]):o.push(null)}),o}else throw new Error("The model has multiple (".concat(i,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(i," elements or an object with ").concat(e," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(t)))}function UP(t,e){return Jve(t,e,"classWeight")}async function VP(t,e,n,i){if(n!=null){const o=ce(()=>{if(t.shape.length===1)return Ba(t);if(t.shape.length===2){if(t.shape[1]>1)return jh(t,1);if(t.shape[1]===1)return te(t,[t.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(t.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}else throw new Error("Unexpected rank of target (y) tensor (".concat(t.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")}),r=Array.from(await o.data());pt(o);const s=[];return r.forEach(a=>{if(n[a]==null)throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(a," exists in the data but not in ")+"classWeight");s.push(n[a])}),Gn(s,"float32")}else return null}function Qve(t,e){return Q(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const ewe=32;function HP(t,e){let n,i;const o=e;n=o.xs,i=o.ys,M(n!=null&&i!=null,()=>"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(e));const r=hN("input",t.inputNames,n),s=hN("output",t.outputNames,i),a=r[0].shape[0];M(r.length===t.inputs.length,()=>"LayersModel has ".concat(t.inputs.length," inputs, but the dataset ")+"provides ".concat(r.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(t.inputNames),")")),M(s.length===t.outputs.length,()=>"LayersModel has ".concat(t.outputs.length," outputs, but the dataset ")+"provides ".concat(s.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(t.outputNames),")"));for(let l=0;l<r.length;l++)M(r[l].shape[0]===a,()=>"Batch size mismatch: input "+"".concat(t.inputNames[l]," has ").concat(r[l].shape[0],"; ")+"expected  ".concat(a," based on input ").concat(t.inputNames[0],"."));for(let l=0;l<s.length;l++)M(s[l].shape[0]===a,()=>"Batch size mismatch: output "+"".concat(t.outputNames[l]," has ").concat(s[l].shape[0],"; ")+"expected  ".concat(a," based on input ").concat(t.inputNames[0],"."));return{xs:r,ys:s}}function hN(t,e,n){if(n instanceof Zt)return[n];if(Array.isArray(n))return M(n.length===e.length,()=>"Received an array of ".concat(n.length," Tensors, but expected ").concat(e.length," to match the ").concat(t," keys ").concat(e,".")),n;{const i=[];for(const o of e){if(n[o]==null)throw new re("The feature data generated by the dataset lacks the required "+"".concat(t," key '").concat(o,"'."));i.push(n[o])}return i}}function twe(t){if(t.length===3)throw new gt("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function nwe(t,e,n){const i=n.batchesPerEpoch!=null;if(M(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),M(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),M(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(n.epochs)),M(!i||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(n.batchesPerEpoch)),M(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const o=n.validationData!=null;let r,s;if(o)if(pN(n.validationData))M(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(n.validationBatches));else{const b=twe(n.validationData);r=b.xs,s=b.ys}const a=t.makeTrainFunction(),l=t.getDedupedMetricsNames();let c;o?c=l.slice().concat(l.map(b=>"val_"+b)):c=l.slice();const u=DP(n.callbacks,n.yieldEvery),d=n.verbose==null?1:n.verbose,{callbackList:h,history:p}=RP(u,d,n.epochs,null,null,iwe(e,n),null,o,c);h.setModel(t),t.history=p,await h.onTrainBegin(),t.stopTraining_=!1;let f=n.initialEpoch==null?0:n.initialEpoch,m=await e.iterator();for(;f<n.epochs;){const b={};await h.onEpochBegin(f);let g=0,x=0;for(i||(m=await e.iterator());!i||g<n.batchesPerEpoch;){const y=await m.next();if(i&&y.done){console.warn("You provided `batchesPerEpoch` as "+"".concat(n.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(g," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(n.batchesPerEpoch*n.epochs," batches). ")+"You may need to use the repeat() function when building your dataset.");break}if(y.value!=null){const{xs:v,ys:w}=HP(t,y.value),C={};C.batch=x,C.size=v[0].shape[0],await h.onBatchBegin(x,C);const S=[];if(n.classWeight!=null){const N=UP(n.classWeight,t.outputNames);for(let B=0;B<N.length;++B)S.push(await VP(w[B],null,N[B]))}const E=v.concat(w).concat(S),I=a(E);pt(E);for(let N=0;N<l.length;++N){const B=l[N],D=I[N];C[B]=D,hi(D)}await h.onBatchEnd(x,C),OP(C),x++,g++}if(i?g>=n.batchesPerEpoch:y.done){if(o){let v;pN(n.validationData)?v=Ht(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):v=Ht(t.evaluate(r,s,{batchSize:n.validationBatchSize==null?ewe:n.validationBatchSize,verbose:0}));for(let w=0;w<t.metricsNames.length;++w)b["val_".concat(t.metricsNames[w])]=v[w]}break}if(t.stopTraining_)break}if(await h.onEpochEnd(f,b),f++,t.stopTraining_)break}return await h.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function iwe(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function pN(t){return typeof t.iterator=="function"}function owe(t){return typeof t.next=="function"}async function rwe(t,e,n){n=n||{};const i=n.batches!=null,o=t.testFunction;let r=[];if(n.verbose>0)throw new gt("Verbose mode is not implemented yet.");M(!i||n.batches>0&&Number.isInteger(n.batches),()=>"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(n.batches)));const s=owe(e)?e:await e.iterator();let a=0,l=0;for(;!i||l<n.batches;){const c=await s.next();if(r=ce(()=>{if(c.value){const{xs:u,ys:d}=HP(t,c.value),h=u.concat(d),p=ce(()=>o(h));if(pt(h),l===0)for(let m=0;m<p.length;++m)r.push(it(0));const f=h[0].shape[0];for(let m=0;m<p.length;++m){const b=p[m],g=r[m];r[m]=ce(()=>Se(r[m],Q(f,b))),l>0&&pt(g)}pt(p),a+=f,++l}return r}),c.done){i&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(n.batches," batches). ")+"You may need to use the repeat() function when building your dataset.");break}}for(let c=0;c<r.length;++c){const u=r[c];r[c]=Ue(r[c],a),pt(u)}return go(r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ok(t){M(t>0&&Number.isInteger(t),()=>"batchSize is required to be a positive integer, but got ".concat(t))}function Jp(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(i=>bu(i,e,n-e)):bu(t,e,n-e)}function NS(t,e){return ce(()=>t==null?null:Array.isArray(t)?t.map(n=>NS(n,e)):xP(t,e.dtype==="int32"?e:Pe(e,"int32")))}function rk(t,e){const n=[];let i=0,o=null;for(;i<t;)o=i+e,o>=t&&(o=t),n.push([i,o]),i=o;return n}function WP(t){const e=[];t instanceof Zt&&(t=[t]);for(let n=0;n<t.length;++n){const i=t[n];if(i.rank===1)e.push(r0(i,1));else{if(i.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(i)}}return e}function us(t,e){if(t==null)return;const n=[];if(e instanceof Zt)n.push(e.id);else if(Array.isArray(e))e.forEach(o=>n.push(o.id));else if(e!=null)for(const o in e){const r=e[o];n.push(r.id)}const i=[];if(t instanceof Zt)n.indexOf(t.id)===-1&&i.push(t);else if(Array.isArray(t))t.forEach(o=>{n.indexOf(o.id)===-1&&i.push(o)});else if(t!=null)for(const o in t){const r=t[o];n.indexOf(r.id)===-1&&i.push(r)}i.forEach(o=>{o.isDisposed||o.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function swe(t){return t instanceof Zt}function OS(t){return Array.isArray(t)}function fN(t){return!swe(t)&&!OS(t)}function mN(t,e,n,i=!0,o=""){if(e==null||e.length===0){if(t!=null){let s=!1;if(OS(t)&&t.length>0)s=!0;else if(fN(t)){for(const a in t)if(t.hasOwnProperty(a)){s=!0;break}}else s=!0;if(s)throw new re("Error when checking model ".concat(o," expected no data, ")+"but got ".concat(t))}return[]}if(t==null)return e.map(s=>null);let r;if(fN(t)){t=t,r=[];for(const s of e){if(t[s]==null)throw new re('No data provided for "'.concat(s,'". Need data for each key in: ')+"".concat(e));r.push(t[s])}}else if(OS(t)){if(t=t,t.length!==e.length)throw new re("Error when checking model ".concat(o,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(e.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(t));r=t}else{if(t=t,e.length>1)throw new re("The model ".concat(o," expects ").concat(e.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(t.shape));r=[t]}if(r=WP(r),n!=null)for(let s=0;s<e.length;++s){if(n[s]==null)continue;const a=r[s];if(a.shape.length!==n[s].length)throw new re("Error when checking ".concat(o,": expected ").concat(e[s]," ")+"to have ".concat(n[s].length," dimension(s). but got array with ")+"shape ".concat(a.shape));for(let l=0;l<n[s].length;++l){if(l===0&&!i)continue;const c=a.shape[l],u=n[s][l];if(u!=null&&u>=0&&c!==u)throw new re("".concat(o," expected a batch of elements where each ")+"example has shape [".concat(n[s].slice(1,n[s].length),"] ")+"(i.e.,tensor shape [*,".concat(n[s].slice(1,n[s].length),"])")+" but the ".concat(o," received an input with ").concat(a.shape[0])+" examples, each with shape [".concat(a.shape.slice(1,a.shape.length),"]")+" (tensor shape [".concat(a.shape,"])"))}}return r}function awe(t,e,n){const i=Gl(t.map(r=>r.shape[0]));i.sort();const o=Gl(e.map(r=>r.shape[0]));if(o.sort(),i.length>1)throw new re("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map(r=>r.shape))));if(o.length>1)throw new re("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map(r=>r.shape))));if(i.length>0&&o.length>0&&!Nt(i,o))throw new re("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(i[0]," input sample(s) and ").concat(o[0]," target ")+"sample(s).")}function lwe(t,e,n){const i=[dw,hw,xm];for(let o=0;o<t.length;++o){const r=t[o],s=e[o],a=n[o];if(s!=null){if(s===xm&&r.shape[r.shape.length-1]===1)throw new re("You are passing a target array of shape ".concat(r.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(i.indexOf(s)!==-1){const l=r.shape.slice(1),c=a.slice(1);for(let u=0;u<l.length;++u){const d=l[u],h=c[u];if(h!=null&&d!==h)throw new re("A target Tensor with shape ".concat(r.shape," was passed for an ")+"output of shape ".concat(a,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}}function gN(t,e,n,i=!0,o=""){let r;if(Array.isArray(t)){if(t.length!==e.length)throw new re("Error when checking model ".concat(o,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(e.length," Tensor(s),")+" but instead got ".concat(t.length," Tensors(s)."));r=t}else{if(e.length>1)throw new re("The model expects ".concat(e.length," ").concat(o," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(t.shape),"."));r=[t]}if(n!=null)for(let s=0;s<e.length;++s){if(n[s]==null)continue;const a=r[s];if(a.shape.length!==n[s].length)throw new re("Error when checking ".concat(o,": expected ").concat(e[s]," ")+"to have ".concat(n[s].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(a.shape)));for(let l=0;l<n[s].length;++l){if(l===0&&!i)continue;const c=a.shape[l],u=n[s][l];if(u!=null&&u!==c)throw new re("Error when checking ".concat(o,": expected ")+"".concat(e[s]," to have shape ").concat(JSON.stringify(n[s])," but ")+"got array with shape ".concat(JSON.stringify(a.shape),"."))}}}function cwe(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(i=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(t));if(Array.isArray(n))return e.map(i=>n);{const i=[];for(const o of e){let r=n.hasOwnProperty(o)?n[o]:[];Array.isArray(r)||(r=[r]),i.push(r)}return i}}const uwe="layers-model";class wh extends ds{constructor(e){super(e),this.isTraining=!1}summary(e,n,i=console.log){if(!this.built)throw new re("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Gve(this,e,n,i)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=Wve(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Ec))throw new re("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const s in e.loss)if(this.outputNames.indexOf(s)===-1)throw new re('Unknown entry in loss dictionary: "'.concat(s,'". ')+"Only expected the following keys: ".concat(this.outputNames));for(const s of this.outputNames)e.loss[s]==null&&console.warn('Output "'.concat(s,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(s," during training")),n.push(ik(e.loss[s]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new re("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));n=e.loss.map(a=>ik(a))}else{const s=ik(e.loss);this.outputs.forEach(a=>{n.push(s)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let s=0;s<this.outputs.length;++s){const a=this.internalOutputShapes[s],l=this.outputNames[s];this.feedOutputNames.push(l),this.feedOutputShapes.push(a),this.feedLossFns.push(this.lossFunctions[s])}const i=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],gu("loss",()=>{for(let s=0;s<this.outputs.length;++s){if(i.indexOf(s)!==-1)continue;const a=this.lossFunctions[s];this.outputs.length>1&&(this.metricsTensors.push([a,s]),this.metricsNames.push(this.outputNames[s]+"_loss"))}});const o=cwe(e.metrics,this.outputNames),r=(s,a,l)=>{this.outputNames.length>1&&(a=this.outputNames[s]+"_"+a),this.metricsNames.push(a),this.metricsTensors.push([l,s])};gu("metric",()=>{for(let s=0;s<this.outputs.length;++s){if(i.indexOf(s)!==-1)continue;const a=o[s];(c=>{const u="";let d,h,p;for(const f of c){if(typeof f=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(f)!==-1){const b=this.internalOutputShapes[s];b[b.length-1]===1||this.lossFunctions[s]===hw?["accuracy","acc"].indexOf(f)!==-1?h=zP:["crossentropy","ce"].indexOf(f)!==-1&&(h=Lve):this.lossFunctions[s]===o1?["accuracy","acc"].indexOf(f)!==-1?h=zve:["crossentropy","ce"].indexOf(f)!==-1&&(h=BP):["accuracy","acc"].indexOf(f)!==-1?h=FP:["crossentropy","ce"].indexOf(f)!==-1&&(h=PP);let g;["accuracy","acc"].indexOf(f)!==-1?g="acc":["crossentropy","ce"].indexOf(f)!==-1&&(g="ce"),p=h,d=u+g}else p=Hve(f),d=u+db(f);let m;gu(d,()=>{m=p}),r(s,d,m)}})(a)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,i={}){const o=i.batchSize==null?32:i.batchSize;ok(o);const s=this.standardizeUserDataXY(e,n,!0,o);try{const a=s[0].concat(s[1]);this.makeTestFunction();const l=this.testFunction,c=this.testLoop(l,a,o,i.verbose,i.steps);return go(c)}finally{us(s[0],e),us(s[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),rwe(this,e,n)}checkNumSamples(e,n,i,o="steps"){let r;if(i!=null){if(r=null,n!=null)throw new re("If ".concat(o," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(n))}else if(e!=null)Array.isArray(e)?r=e[0].shape[0]:r=e.shape[0];else throw new re("Either the input data should have a defined shape, or "+"".concat(o," shoud be specified."));return r}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new re("`outputs` is an empty Array, which is not allowed.");const i=Array.isArray(n),o=i?n:[n],r=this.retrieveSymbolicTensors(o),s=new Ol;if(e instanceof Zt&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new re("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(let l=0;l<this.inputs.length;++l)s.add(this.inputs[l],e[l])}else for(const l of this.inputs){const c=e[l.name];if(c==null)throw new re("No value is provided for the model's input ".concat(l.name));s.add(l,c)}const a=df(r,s);return i?a:a[0]}retrieveSymbolicTensors(e){const n=Bu(null,e.length);let i=e.length;for(const o of this.layers){const r=Array.isArray(o.output)?o.output:[o.output],s=r.map(a=>a.name);for(let a=0;a<e.length;++a){const l=s.indexOf(e[a]);if(l!==-1&&(n[a]=r[l],i--),i===0)break}if(i===0)break}if(i>0){const o=[];throw n.forEach((r,s)=>{r==null&&o.push(e[s])}),new re("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(o)))}return n}predictLoop(e,n=32,i=!1){return ce(()=>{const o=this.checkNumSamples(e);if(i)throw new gt("Verbose predictLoop() is not implemented yet.");const r=rk(o,n),s=this.outputs.map(a=>[]);for(let a=0;a<r.length;++a)ce(()=>{const c=r[a][0],u=r[a][1],d=Jp(e,c,u),h=[];if(Array.isArray(d))for(let f=0;f<d.length;++f)h.push({key:this.inputs[f],value:d[f]});else h.push({key:this.inputs[0],value:d});const p=new Ol(h);return df(this.outputs,p)}).forEach((c,u)=>s[u].push(c));return go(s.map(a=>Dn(a,0)))})}predict(e,n={}){const i=WP(e);gN(i,this.inputNames,this.feedInputShapes,!1);try{const o=n.batchSize==null?32:n.batchSize;return ok(o),this.predictLoop(i,o)}finally{us(i,e)}}predictOnBatch(e){gN(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,i=!0,o){if(this.optimizer_==null)throw new qr("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const r=[];for(let s=0;s<this.feedOutputShapes.length;++s){const a=this.feedOutputShapes[s];this.feedLossFns[s]===o1?r.push(a.slice(0,a.length-1).concat([1])):r.push(a)}if(e=mN(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=mN(n,this.feedOutputNames,r,!1,"target"),awe(e,n),lwe(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&o!=null&&o>0&&e[0].shape[0]%o!==0)throw new re("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(o,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,n]}async standardizeUserData(e,n,i,o,r=!0,s){const[a,l]=this.standardizeUserDataXY(e,n,r,s);if(i!=null)throw new Error("sample weight is not supported yet.");let c=null;if(o!=null){const u=UP(o,this.outputNames);c=[];for(let d=0;d<u.length;++d)c.push(await VP(l[d],null,u[d]))}return[a,l,c]}testLoop(e,n,i,o=0,r){return ce(()=>{const s=this.checkNumSamples(n,i,r,"steps"),a=[];if(o>0)throw new gt("Verbose mode is not implemented yet.");if(r!=null)throw new gt("steps mode in testLoop() is not implemented yet");{const l=rk(s,i),c=Gn(_s(0,s));for(let u=0;u<l.length;++u){const d=l[u][0],h=l[u][1],p=bu(c,d,h-d),f=NS(n,p),m=e(f);if(u===0)for(let b=0;b<m.length;++b)a.push(it(0));for(let b=0;b<m.length;++b){const g=m[b];a[b]=Se(a[b],Q(h-d,g))}}for(let u=0;u<a.length;++u)a[u]=Ue(a[u],s)}return a})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let i=0;i<e.length;++i){const o=e[i];let r=o;if(eN(e,o)>1){const s=eN(e.slice(0,i),o);r+="_".concat(s)}n.push(r)}return n}makeTrainFunction(){return e=>{const n=[],i=e.slice(0,this.inputs.length),o=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),r=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),s=[],a=()=>{const d=[];for(let m=0;m<this.inputs.length;++m)d.push({key:this.inputs[m],value:i[m]});const h=new Ol(d),p=df(this.outputs,h,{training:!0});let f;for(let m=0;m<this.lossFunctions.length;++m){const b=this.lossFunctions[m];let g=b(o[m],p[m]);r[m]!=null&&(g=Qve(g,r[m]));const x=_n(g);n.push(x),m===0?f=g:f=Se(f,g)}for(let m=0;m<this.metricsTensors.length;++m){let b;if(this.outputs.length>1&&m<this.outputs.length)b=n[m];else{const g=this.metricsTensors[m][0],x=this.metricsTensors[m][1];b=_n(g(o[x],p[x]))}hi(b),s.push(b)}return f=_n(f),this.calculateLosses().forEach(m=>{f=Se(f,m)}),f},l=this.collectedTrainableWeights.map(d=>d.read());return[this.optimizer_.minimize(a,!0,l)].concat(s)}}makeTestFunction(){this.testFunction=e=>ce(()=>{const n=[];let i;const o=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),s=[];for(let c=0;c<this.inputs.length;++c)s.push({key:this.inputs[c],value:o[c]});const a=new Ol(s),l=df(this.outputs,a);for(let c=0;c<this.lossFunctions.length;++c){const u=this.lossFunctions[c],d=_n(u(r[c],l[c]));c===0?i=d:i=Se(i,d),n.push(i)}for(let c=0;c<this.metricsTensors.length;++c){const u=this.metricsTensors[c][0],d=this.metricsTensors[c][1],h=_n(u(r[d],l[d]));n.push(h)}return n})}async fit(e,n,i={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let o,r,s,a,l,c,u,d,h;try{const p=i.batchSize==null?32:i.batchSize;ok(p);const m=await this.standardizeUserData(e,n,i.sampleWeight,i.classWeight,!1,p);o=m[0],r=m[1],h=m[2];let b=!1,g;if(i.validationData!=null&&i.validationData.length>0){if(b=!0,i.validationData.length===2)l=i.validationData[0],c=i.validationData[1];else throw i.validationData.length===3?new gt("validationData including sample weights is not supported yet."):new re("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(i.validationData," is invalid."));const N=await this.standardizeUserData(l,c,null,null,!0,p);u=N[0],d=N[1],g=u.concat(d)}else if(i.validationSplit!=null&&i.validationSplit>0&&i.validationSplit<1){b=!0;const I=Math.floor(o[0].shape[0]*(1-i.validationSplit)),N=o[0].shape[0];u=Jp(o,I,N),s=o,o=Jp(o,0,I),d=Jp(r,I,N),a=r,r=Jp(r,0,I),g=u.concat(d)}else i.validationSteps!=null&&(b=!0);const x=o.concat(r).concat(h);this.checkTrainableWeightsConsistency();const y=this.makeTrainFunction(),v=this.getDedupedMetricsNames();let w,C;b?(this.makeTestFunction(),w=this.testFunction,C=v.slice().concat(v.map(I=>"val_"+I))):(w=null,g=[],C=v.slice());const S=DP(i.callbacks,i.yieldEvery);return await this.fitLoop(y,x,v,p,i.epochs,i.verbose,S,w,g,i.shuffle,C,i.initialEpoch,null,null)}finally{this.isTraining=!1,us(o,e),us(r,n),us(s,e),us(a,n),us(u,l),us(d,c),h!=null&&pt(h)}}async fitLoop(e,n,i,o,r,s,a,l,c,u,d,h,p,f){o==null&&(o=32),r==null&&(r=1),u==null&&(u=!0),h==null&&(h=0);let m=!1;if(l!=null&&c!=null&&(m=!0),f!=null&&(m=!0,p==null))throw new re("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const b=this.checkNumSamples(n,o,p,"steps_per_epoch");let g;b!=null&&(g=_s(0,b)),s==null&&(s=1);const{callbackList:x,history:y}=RP(a,s,r,h,b,p,o,m,d);x.setModel(this),this.history=y,await x.onTrainBegin(),this.stopTraining_=!1;for(let v=h;v<r;++v){await x.onEpochBegin(v);const w={};if(p!=null)throw new gt("stepsPerEpoch mode is not implemented yet.");{if(u==="batch")throw new gt("batch shuffling is not implemneted yet");u&&Que(g);const C=Gn(g),S=rk(b,o);for(let E=0;E<S.length;++E){const I={};if(await x.onBatchBegin(E,I),ce(()=>{const N=S[E][0],B=S[E][1],D=bu(C,N,B-N);I.batch=E,I.size=B-N;const P=NS(n,D),_=e(P);for(let L=0;L<i.length;++L){const z=i[L],V=_[L];I[z]=V,hi(V)}if(E===S.length-1&&m){const L=this.testLoop(l,c,o);for(let z=0;z<i.length;++z){const V=i[z],q=L[z];hi(q),w["val_"+V]=q}}}),await x.onBatchEnd(E,I),OP(I),this.stopTraining_)break}C.dispose()}if(await x.onEpochEnd(v,w),this.stopTraining_)break}return await x.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,n){return nwe(this,e,n)}async trainOnBatch(e,n){const i=await this.standardizeUserData(e,n),o=i[0],r=i[1],a=this.makeTrainFunction()(o.concat(r)),l=[];for(const c of a){const u=await c.data();l.push(u[0])}return pt(a),us(i[0],e),us(i[1],n),go(l)}getNamedWeights(e){const n=[],i=e!=null&&e.trainableOnly,o=i?this.trainableWeights:this.weights,r=this.getWeights(i);for(let s=0;s<o.length;++s)i&&!o[s].trainable||n.push({name:o[s].originalName,tensor:r[s]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=FA().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-FA().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=va(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>va(n))}else{const n=Object.keys(this.loss);e={};const i=this.loss;for(const o of n)if(typeof i[o]=="string")e[o]=va(i[o]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[va(db(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>va(db(e)));{const e={};for(const n in this.metrics)e[n]=va(db(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=$S(e.optimizer_config),i=Ma(n);let o;if(typeof e.loss=="string")o=Kc(e.loss);else if(Array.isArray(e.loss))o=e.loss.map(s=>Kc(s));else if(e.loss!=null){o={};for(const s in e.loss)o[s]=Kc(e.loss[s])}let r;if(Array.isArray(e.metrics))r=e.metrics.map(s=>Kc(s));else if(e.metrics!=null){r={};for(const s in e.metrics)r[s]=Kc(e.metrics[s])}this.compile({loss:o,metrics:r,optimizer:i})}async save(e,n){if(typeof e=="string"){const c=tz(e);if(c.length===0)throw new re("Cannot find any save handlers for URL '".concat(e,"'"));if(c.length>1)throw new re("Found more than one (".concat(c.length,") save handlers for ")+"URL '".concat(e,"'"));e=c[0]}if(e.save==null)throw new re("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const i=await hS(this.getNamedWeights(n)),a={modelTopology:this.toJSON(null,!1),format:uwe,generatedBy:"TensorFlow.js tfjs-layers v".concat(jP),convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){a.trainingConfig=this.getTrainingConfig();const c="optimizer",{data:u,specs:d}=await hS(await this.optimizer.getWeights(),c);i.specs.push(...d),i.data=JL([i.data,u])}return this.userDefinedMetadata!=null&&(dN(this.userDefinedMetadata,this.name,!0),a.userDefinedMetadata=this.userDefinedMetadata),a.weightData=i.data,a.weightSpecs=i.specs,e.save(a)}setUserDefinedMetadata(e){dN(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}wh.className="Model";Ee(wh);class GP extends wh{}GP.className="Functional";Ee(GP);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ym extends wh{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:lw("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(i=>i<0))throw new re("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}add(e){const n=e instanceof ym||e instanceof wh;let i;if(n){if(i=e,i.outputs.length!==1)throw new re("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(i.inputs.length!==1)throw new re("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new re("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const o=hve({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(o)}if(n)this.outputs=i.outputs,this.inputs=i.inputs;else{if(e.inboundNodes.length!==1)throw new re("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(e.inboundNodes[0].outputTensors.length!==1)throw new re("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=IP(this.outputs[0])}this.inboundNodes=[],new uw({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Bu(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(o=>o.shape),outputShapes:this.outputs[0].shape})}else{const o=e.apply(this.outputs[0]);if(Array.isArray(o))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[o],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(Pt(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new wh({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,i=console.log){this.built||this.build(),super.summary(e,n,i)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,i={}){if(!this.built)throw new qr("The model needs to be compiled before being used.");return this.model.evaluate(e,n,i)}async evaluateDataset(e,n){if(!this.built)throw new qr("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,i={}){if(!this.built)throw new qr("The model needs to be compiled before being used.");return this.model.fit(e,n,i)}async fitDataset(e,n){if(!this.built)throw new qr("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,i={},o=!1){let r,s={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new re("Legacy serialization format not supported yet.");r=n}else M(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),r=n.layers,delete n.layers,s=n;const a=new e(s);if(!(a instanceof ym))throw new gt("Sequential.fromConfig called on non-Sequential input: ".concat(a));for(const l of r){const u=Ma(l,void 0,o);o&&u.setFastWeightInitDuringBuild(!0),a.add(u)}return a}set stopTraining(e){if(this.model==null)throw new re("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new re("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const i={};i.className=n.getClassName(),i.config=n.getConfig(),e.push(i)}return{name:this.name,layers:e}}}ym.className="Sequential";Ee(ym);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Yi=class extends wp{getConfig(){return{}}};class qP extends Yi{apply(e,n=1){return Yye(e,n)}}qP.className="elu";Ee(qP);class KP extends Yi{apply(e){return XE(e)}}KP.className="selu";Ee(KP);class XP extends Yi{apply(e){return ca(e)}}XP.className="relu";Ee(XP);class YP extends Yi{apply(e){return ce(()=>Fu(6,ca(e)))}}YP.className="relu6";Ee(YP);class ZP extends Yi{apply(e){return e}}ZP.className="linear";Ee(ZP);class JP extends Yi{apply(e){return Cs(e)}}JP.className="sigmoid";Ee(JP);class QP extends Yi{apply(e){return Jye(e)}}QP.className="hardSigmoid";Ee(QP);class eB extends Yi{apply(e){return xp(e)}}eB.className="softplus";Ee(eB);class tB extends Yi{apply(e){return Zye(e)}}tB.className="softsign";Ee(tB);class nB extends Yi{apply(e){return zu(e)}}nB.className="tanh";Ee(nB);let t_=class extends Yi{apply(e,n=-1){return Zv(e,n)}};t_.className="softmax";Ee(t_);class iB extends Yi{apply(e,n=-1){return RE(e,n)}}iB.className="logSoftmax";Ee(iB);class oB extends Yi{apply(e){return ce(()=>ce(()=>{const n=Math.sqrt(2),i=Q(.5,Se(1,NE(Ue(e,n))));return Q(e,i)}))}}oB.className="gelu";Ee(oB);class rB extends Yi{apply(e){return ce(()=>Q(.5,Q(e,Se(1,zu(Q(Di(Ue(2,Math.PI)),Se(e,Q(.044715,Ga(e,3)))))))))}}rB.className="gelu_new";Ee(rB);class sB extends Yi{apply(e){return ce(()=>Q(e,zu(xp(e))))}}sB.className="mish";Ee(sB);class aB extends Yi{apply(e,n=1){return ce(()=>Q(Cs(Q(e,n)),e))}}aB.className="swish";Ee(aB);function sc(t){return t.getClassName()}function sk(t,e={}){return o0(t,Br.getMap().classNameMap,e,"activation")}function ac(t){if(t==null){const e={};return e.className="linear",e.config={},sk(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},sk(e)}else return t instanceof Yi?t:sk(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function dwe(t){if(t!=null&&typeof t!="object")throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(t))}class lB extends wp{}class cB extends lB{constructor(e){super(),dwe(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return ce(()=>{let n=Yn([1]);return this.hasL1&&(n=Se(n,Ke(Q(this.l1,Xn(e))))),this.hasL2&&(n=Se(n,Ke(Q(this.l2,s0(e))))),te(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}cB.className="L1L2";Ee(cB);const bN={l1l2:"L1L2"};function Qt(t){return jI(t)}function xN(t,e={}){return o0(t,Br.getMap().classNameMap,e,"regularizer")}function vn(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in bN?bN[t]:t,config:{}};return xN(n)}else return t instanceof lB?t:xN(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class uB extends It{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=lt(e);let i=ca(e);return this.maxValue!=null&&(i=Eo(i,0,this.maxValue)),i}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}uB.className="ReLU";Ee(uB);class dB extends It{constructor(e){super(e==null?{}:e),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const i=lt(e);return Mv(i,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}dB.className="LeakyReLU";Ee(dB);class hB extends It{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=xn(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=vn(e.alphaRegularizer),this.alphaConstraint=ni(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new re("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes))}build(e){e=Pt(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const o of this.sharedAxes)n[o-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const i={};if(this.sharedAxes!=null)for(let o=1;o<e.length;++o)i[o]=e[o];this.inputSpec=[new Jn({ndim:e.length,axes:i})],this.built=!0}call(e,n){return e=lt(e),qv(e,this.alpha.read())}getConfig(){const e={alphaInitializer:Tn(this.alphaInitializer),alphaRegularizer:Qt(this.alphaRegularizer),alphaConstraint:ti(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}hB.className="PReLU";Ee(hB);let pB=class extends It{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new gt("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const i=lt(e);return Zg(i)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}};pB.className="ELU";Ee(pB);class fB extends It{constructor(e){super(e==null?{}:e),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const i=lt(e);return Q(i,Pe(Qo(i,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}fB.className="ThresholdedReLU";Ee(fB);class mB extends It{constructor(e){super(e==null?{}:e),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new t_().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){return ce(()=>{let i=lt(e);const o=n.mask;if(o!=null){const r=Q(Ve(jo(i.shape),Pe(o,i.dtype)),it(-1e9));i=Se(i,r)}return this.axis instanceof Array?this.axis.length>1?ao(Ve(i,Uv(i,this.axis,!0))):this.softmax(i,this.axis[0]):this.softmax(i,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}mB.className="Softmax";Ee(mB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function kh(t,e,n){if(typeof t=="number")return Bu(t,e);if(t.length!==e)throw new re("The ".concat(n," argument must be an integer or tuple of ").concat(e," integers.")+" Received: ".concat(t.length," elements."));for(let i=0;i<e;++i){const o=t[i];if(!Gye(o))throw new re("The ".concat(n," argument must be an integer or tuple of ").concat(e)+" integers. Received: ".concat(JSON.stringify(t)," including a")+" non-integer number ".concat(o))}return t}function Ts(t,e,n,i,o=1){if(t==null)return t;const r=e+(e-1)*(o-1);let s;return n==="same"?s=t:s=t-r+1,Math.floor((s+i-1)/i)}function Vs(t,e,n,i){if(t==null)return null;if(i==="valid")t=t*e+rc([n-e,0]);else if(i==="same")t=t*e;else throw new re("Unsupport padding mode: ".concat(i,"."));return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function n_(t,e){return ce(()=>(Un(e),e==="channelsFirst"?Dt(t,[0,2,3,1]):t))}function gB(t,e){return ce(()=>(Un(e),e==="channelsFirst"?Dt(t,[0,2,3,4,1]):t))}function hwe(t,e,n,i=1,o="valid",r,s=1){return ce(()=>{if(r==null&&(r=$s()),Un(r),t.shape.length!==3)throw new re("The input of a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead."));if(e.shape.length!==3)throw new re("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead"));if(n!=null&&n.shape.length!==1)throw new re("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(n.shape.length," instead"));if(r==="channelsFirst"&&(t=Dt(t,[0,2,1])),o==="causal")throw new gt("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let a=EE(t,e,i,o==="same"?"same":"valid","NWC",s);return n!=null&&(a=zs(a,n)),a})}function yN(t,e,n,i=[1,1],o="valid",r,s,a=null){return ce(()=>{if(r==null&&(r=$s()),Un(r),t.rank!==3&&t.rank!==4)throw new re("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(t.rank,"."));if(e.rank!==3&&e.rank!==4)throw new re("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(t.rank,"."));let l=n_(t,r);if(o==="causal")throw new gt("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=cF({x:l,filter:e,strides:i,pad:o==="same"?"same":"valid",dilations:s,dataFormat:"NHWC",bias:n,activation:a}),r==="channelsFirst"&&(l=Dt(l,[0,3,1,2])),l})}function pwe(t,e,n,i=[1,1,1],o="valid",r,s){return ce(()=>{if(r==null&&(r=$s()),Un(r),t.rank!==4&&t.rank!==5)throw new re("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(t.rank,"."));if(e.rank!==4&&e.rank!==5)throw new re("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(t.rank,"."));let a=gB(t,r);if(o==="causal")throw new gt("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return a=_z(a,e,i,o==="same"?"same":"valid","NDHWC",s),n!=null&&(a=zs(a,n)),r==="channelsFirst"&&(a=Dt(a,[0,4,1,2,3])),a})}class pw extends It{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",pw.verifyArgs(n),this.rank=e,pi(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new gt("Convolution layer for rank other than 1, 2, or 3 (".concat(this.rank,") is ")+"not implemented yet.");if(this.kernelSize=kh(n.kernelSize,e,"kernelSize"),this.strides=kh(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,wr(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,Un(this.dataFormat),this.activation=ac(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=xn(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=ni(n.biasConstraint),this.biasRegularizer=vn(n.biasRegularizer),this.activityRegularizer=vn(n.activityRegularizer),this.dilationRate=kh(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new re("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(this.dilationRate)));if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new re("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new re("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}}static verifyArgs(e){if(Us("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!UI(e.kernelSize,"number",1,3))throw new re("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:sc(this.activation),useBias:this.useBias,biasInitializer:Tn(this.biasInitializer),biasRegularizer:Qt(this.biasRegularizer),activityRegularizer:Qt(this.activityRegularizer),biasConstraint:ti(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class kp extends pw{constructor(e,n){super(e,n),this.kernel=null,kp.verifyArgs(n),this.filters=n.filters,pi(this.filters,"filters"),this.kernelInitializer=xn(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=ni(n.kernelConstraint),this.kernelRegularizer=vn(n.kernelRegularizer)}build(e){e=Pt(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new re("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));const i=e[n],o=this.kernelSize.concat([i,this.filters]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:i}}],this.built=!0}call(e,n){return ce(()=>{e=lt(e);let i;const o=this.bias==null?null:this.bias.read(),r=hP(this.activation.getClassName());if(r!=null&&this.rank===2)i=yN(e,this.kernel.read(),o,this.strides,this.padding,this.dataFormat,this.dilationRate,r);else{if(this.rank===1)i=hwe(e,this.kernel.read(),o,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)i=yN(e,this.kernel.read(),o,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)i=pwe(e,this.kernel.read(),o,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new gt("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(i=this.activation.apply(i))}return i})}computeOutputShape(e){e=Pt(e);const n=[],i=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let r=0;r<i.length;++r){const s=Ts(i[r],this.kernelSize[r],this.padding,this.strides[r],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[r]);n.push(s)}let o=[e[0]];return this.dataFormat==="channelsLast"?(o=o.concat(n),o.push(this.filters)):(o.push(this.filters),o=o.concat(n)),o}getConfig(){const e={filters:this.filters,kernelInitializer:Tn(this.kernelInitializer),kernelRegularizer:Qt(this.kernelRegularizer),kernelConstraint:ti(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new re("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}class u0 extends kp{constructor(e){super(2,e),u0.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!UI(e.kernelSize,"number",1,2))throw new re("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}u0.className="Conv2D";Ee(u0);class d0 extends kp{constructor(e){super(3,e),d0.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new re("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}d0.className="Conv3D";Ee(d0);class bB extends u0{constructor(e){if(super(e),this.inputSpec=[new Jn({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new re("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(e=Pt(e),e.length!==4)throw new re("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new re("The channel dimension of the inputs should be defined. Found `None`.");const i=e[n],o=this.kernelSize.concat([this.filters,i]);this.kernel=this.addWeight("kernel",o,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Jn({ndim:4,axes:{[n]:i}})],this.built=!0}call(e,n){return ce(()=>{let i=lt(e);if(i.shape.length!==4)throw new re("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(i.shape.length));const o=i.shape,r=o[0];let s,a;this.dataFormat==="channelsFirst"?(s=2,a=3):(s=1,a=2);const l=o[s],c=o[a],u=this.kernelSize[0],d=this.kernelSize[1],h=this.strides[0],p=this.strides[1],f=Vs(l,h,u,this.padding),m=Vs(c,p,d,this.padding),b=[r,f,m,this.filters];this.dataFormat!=="channelsLast"&&(i=Dt(i,[0,2,3,1]));let g=_E(i,this.kernel.read(),b,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(g=Dt(g,[0,3,1,2])),this.bias!=null&&(g=zs(g,this.bias.read(),this.dataFormat)),this.activation!=null&&(g=this.activation.apply(g)),g})}computeOutputShape(e){e=Pt(e);const n=e.slice();let i,o,r;this.dataFormat==="channelsFirst"?(i=1,o=2,r=3):(i=3,o=1,r=2);const s=this.kernelSize[0],a=this.kernelSize[1],l=this.strides[0],c=this.strides[1];return n[i]=this.filters,n[o]=Vs(n[o],l,s,this.padding),n[r]=Vs(n[r],c,a,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}bB.className="Conv2DTranspose";Ee(bB);class xB extends d0{constructor(e){if(super(e),this.inputSpec=[new Jn({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new re("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(e=Pt(e),e.length!==5)throw new re("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new re("The channel dimension of the inputs should be defined. Found `None`.");const i=e[n],o=this.kernelSize.concat([this.filters,i]);this.kernel=this.addWeight("kernel",o,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Jn({ndim:5,axes:{[n]:i}})],this.built=!0}call(e,n){return ce(()=>{let i=lt(e);if(i.shape.length!==5)throw new re("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(i.shape.length));const o=i.shape,r=o[0];let s,a,l;this.dataFormat==="channelsFirst"?(l=2,s=3,a=4):(l=1,s=2,a=3);const c=o[l],u=o[s],d=o[a],h=this.kernelSize[0],p=this.kernelSize[1],f=this.kernelSize[2],m=this.strides[0],b=this.strides[1],g=this.strides[2],x=Vs(c,m,h,this.padding),y=Vs(u,b,p,this.padding),v=Vs(d,g,f,this.padding),w=[r,x,y,v,this.filters];this.dataFormat!=="channelsLast"&&(i=Dt(i,[0,2,3,4,1]));let C=Az(i,this.kernel.read(),w,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(C=Dt(C,[0,4,1,2,3])),this.bias!==null&&(C=zs(C,this.bias.read(),this.dataFormat)),this.activation!==null&&(C=this.activation.apply(C)),C})}computeOutputShape(e){e=Pt(e);const n=e.slice();let i,o,r,s;this.dataFormat==="channelsFirst"?(i=1,o=2,r=3,s=4):(i=4,o=1,r=2,s=3);const a=this.kernelSize[0],l=this.kernelSize[1],c=this.kernelSize[2],u=this.strides[0],d=this.strides[1],h=this.strides[2];return n[i]=this.filters,n[o]=Vs(n[o],u,a,this.padding),n[r]=Vs(n[r],d,l,this.padding),n[s]=Vs(n[s],h,c,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}xB.className="Conv3DTranspose";Ee(xB);class yB extends kp{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new re("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new re("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new re("SeparableConv".concat(this.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(n.padding)));this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=xn(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=vn(n.depthwiseRegularizer),this.depthwiseConstraint=ni(n.depthwiseConstraint),this.pointwiseInitializer=xn(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=vn(n.pointwiseRegularizer),this.pointwiseConstraint=ni(n.pointwiseConstraint)}build(e){if(e=Pt(e),e.length<this.rank+2)throw new re("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new re("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[n])));const i=e[n],o=this.kernelSize.concat([i,this.depthMultiplier]),r=[];for(let a=0;a<this.rank;++a)r.push(1);r.push(i*this.depthMultiplier,this.filters);const s=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",o,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,s,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",r,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,s,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,s,this.biasConstraint):this.bias=null,this.inputSpec=[new Jn({ndim:this.rank+2,axes:{[n]:i}})],this.built=!0}call(e,n){return ce(()=>{e=lt(e);let i;if(this.rank===1)throw new gt("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=Dt(e,[0,2,3,1])),i=YE(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(i=zs(i,this.bias.read(),this.dataFormat)),this.activation!=null&&(i=this.activation.apply(i)),this.dataFormat==="channelsFirst"&&(i=Dt(i,[0,3,1,2])),i})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Tn(this.depthwiseInitializer),e.pointwiseInitializer=Tn(this.pointwiseInitializer),e.depthwiseRegularizer=Qt(this.depthwiseRegularizer),e.pointwiseRegularizer=Qt(this.pointwiseRegularizer),e.depthwiseConstraint=ti(this.depthwiseConstraint),e.pointwiseConstraint=ti(this.pointwiseConstraint),e}}yB.className="SeparableConv";class vB extends yB{constructor(e){super(2,e)}}vB.className="SeparableConv2D";Ee(vB);class fw extends kp{constructor(e){super(1,e),fw.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!UI(e.kernelSize,"number",1,1))throw new re("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}fw.className="Conv1D";Ee(fw);class wB extends It{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return ce(()=>{if(e=lt(e),this.dataFormat==="channelsLast"){const i=ub(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return ub(i,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const i=ub(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return ub(i,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}wB.className="Cropping2D";Ee(wB);class kB extends It{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Un(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,Vye(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],i=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,i]}else{const n=e[1]==null?null:this.size[0]*e[1],i=e[2]==null?null:this.size[1]*e[2];return[e[0],n,i,e[3]]}}call(e,n){return ce(()=>{let i=lt(e);const o=i.shape;if(this.dataFormat==="channelsFirst"){i=Dt(i,[0,2,3,1]);const r=this.size[0]*o[2],s=this.size[1]*o[3],a=this.interpolation==="nearest"?ar.resizeNearestNeighbor(i,[r,s]):ar.resizeBilinear(i,[r,s]);return Dt(a,[0,3,1,2])}else{const r=this.size[0]*o[1],s=this.size[1]*o[2];return this.interpolation==="nearest"?ar.resizeNearestNeighbor(i,[r,s]):ar.resizeBilinear(i,[r,s])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}kB.className="UpSampling2D";Ee(kB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function fwe(t,e,n=[1,1],i="valid",o,r){return ce(()=>{o==null&&(o=$s()),Un(o);let s=n_(t,o);if(t.rank!==4)throw new re("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));if(e.rank!==4)throw new re("depthwiseKernel is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));return s=Yg(s,e,n,i==="same"?"same":"valid","NHWC",r),o==="channelsFirst"&&(s=Dt(s,[0,3,1,2])),s})}class SB extends pw{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=xn(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=ni(e.depthwiseConstraint),this.depthwiseRegularizer=vn(e.depthwiseRegularizer)}build(e){if(e=Pt(e),e.length<4)throw new re("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new re("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[n],")."));const i=e[n],o=[this.kernelSize[0],this.kernelSize[1],i,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",o,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[i*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return ce(()=>{e=lt(e);let i=fwe(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(i=zs(i,this.bias.read(),this.dataFormat)),this.activation!=null&&(i=this.activation.apply(i)),i})}computeOutputShape(e){e=Pt(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],i=this.dataFormat==="channelsFirst"?e[3]:e[2],o=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,r=Ts(n,this.kernelSize[0],this.padding,this.strides[0]),s=Ts(i,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],o,r,s]:[e[0],r,s,o]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Tn(this.depthwiseInitializer),e.depthwiseRegularizer=Qt(this.depthwiseRegularizer),e.depthwiseConstraint=ti(this.depthwiseRegularizer),e}}SB.className="DepthwiseConv2D";Ee(SB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function CB(t,e,n,i){if(Array.isArray(t)){if(e!=null||n!=null)throw new re("When inputs is an array, neither initialState or constants should be provided");i!=null&&(n=t.slice(t.length-i,t.length),t=t.slice(0,t.length-i)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function o(r){return r==null||Array.isArray(r)?r:[r]}return e=o(e),n=o(n),{inputs:t,initialState:e,constants:n}}function TB(t,e,n,i=!1,o,r,s=!1,a=!1){return ce(()=>{const l=e.shape.length;if(l<3)throw new re("Input should be at least 3D, but is ".concat(l,"D."));const c=[1,0].concat(_s(2,l));e=Dt(e,c),s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),o!=null&&(o=Pe(Pe(o,"bool"),"float32"),o.rank===l-1&&(o=Ci(o,-1)),o=Dt(o,c)),i&&(e=ns(e,0),o!=null&&(o=ns(o,0)));const u=[];let d,h=n;const p=e.shape[0],f=is(e);let m;o!=null&&(m=is(o));for(let g=0;g<p;++g){const x=f[g],y=ce(()=>t(x,h));if(o==null)d=y[0],h=y[1];else{const v=ce(()=>{const w=m[g],C=Ve(br(w),w),S=Se(Q(y[0],w),Q(h[0],C)),E=h.map((I,N)=>Se(Q(y[1][N],w),Q(I,C)));return{output:S,newStates:E}});d=v.output,h=v.newStates}a&&u.push(d)}let b;return a&&(b=qo(u,1)),[d,b,h]})}class Ic extends It{constructor(e){super(e);let n;if(e.cell==null)throw new re("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new r_({cells:e.cell}):n=e.cell,n.stateSize==null)throw new re("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new Jn({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return _s(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){ES(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const i=n[0];let o;if(this.returnSequences?o=[e[0],e[1],i]:o=[e[0],i],this.returnState){const r=[];for(const s of n)r.push([e[0],s]);return[o].concat(r)}else return o}computeMask(e,n){return ce(()=>{Array.isArray(n)&&(n=n[0]);const i=this.returnSequences?n:null;if(this.returnState){const o=this.states.map(r=>null);return[i].concat(o)}else return i})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let i=0;i<e;++i)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new gt("Constants support is not implemented in RNN yet.");ES(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,i=e.slice(2);this.inputSpec[0]=new Jn({shape:[n,null,...i]});const o=[e[0]].concat(e.slice(2));this.cell.build(o);let r;if(Array.isArray(this.cell.stateSize)?r=this.cell.stateSize:r=[this.cell.stateSize],this.stateSpec!=null){if(!Nt(this.stateSpec.map(s=>s.shape[s.shape.length-1]),r))throw new re("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=r.map(s=>new Jn({shape:[null,s]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){ce(()=>{if(!this.stateful)throw new js("Cannot call resetStates() on an RNN Layer that is not stateful.");const i=this.inputSpec[0].shape[0];if(i==null)throw new re("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(o=>Yn([i,o])):this.states_=[Yn([i,this.cell.stateSize])];else if(e==null)pt(this.states_),this.keptStates!=null&&(pt(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(o=>Yn([i,o])):this.states_[0]=Yn([i,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new re("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n===!0?this.keptStates.push(this.states_.slice()):pt(this.states_);for(let o=0;o<this.states_.length;++o){const r=e[o],s=Array.isArray(this.cell.stateSize)?this.cell.stateSize[o]:this.cell.stateSize,a=[i,s];if(!Nt(r.shape,a))throw new re("State ".concat(o," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(a,", received shape=").concat(r.shape));this.states_[o]=r}}this.states_=this.states_.map(o=>hi(o.clone()))})}apply(e,n){let i=n==null?null:n.initialState,o=n==null?null:n.constants;n==null&&(n={});const r=CB(e,i,o,this.numConstants);e=r.inputs,i=r.initialState,o=r.constants;let s=[],a=[];if(i!=null){n.initialState=i,s=s.concat(i),this.stateSpec=[];for(const c of i)this.stateSpec.push(new Jn({shape:c.shape}));a=a.concat(this.stateSpec)}if(o!=null&&(n.constants=o,s=s.concat(o),this.numConstants=o.length),s[0]instanceof oa){const c=[e].concat(s),u=this.inputSpec.concat(a),d=this.inputSpec;this.inputSpec=u;const h=super.apply(c,n);return this.inputSpec=d,h}else return super.apply(e,n)}call(e,n){return ce(()=>{const i=n==null?null:n.mask,o=n==null?null:n.training;let r=n==null?null:n.initialState;e=lt(e),r==null&&(this.stateful?r=this.states_:r=this.getInitialState(e));const s=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(r.length!==s)throw new re("RNN Layer has ".concat(s," state(s) but was passed ")+"".concat(r.length," initial state(s)."));this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const a={training:o},c=TB((f,m)=>{const b=this.cell.call([f].concat(m),a);return[b[0],b.slice(1)]},e,r,this.goBackwards,i,null,this.unroll,this.returnSequences),u=c[0],d=c[1],h=c[2];this.stateful&&this.resetStates(h,o);const p=this.returnSequences?d:u;return this.returnState?[p].concat(h):p})}getInitialState(e){return ce(()=>{let n=Yn(e.shape);return n=Ke(n,[1,2]),n=r0(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(i=>i>1?CS(n,[1,i]):n):this.cell.stateSize>1?[CS(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const i=this.cell.getConfig();return this.getClassName()===Ic.className&&(n.cell={className:this.cell.getClassName(),config:i}),Object.assign(Object.assign(Object.assign({},i),e),n)}static fromConfig(e,n,i={}){const o=n.cell,r=Ma(o,i);return new e(Object.assign(n,{cell:r}))}}Ic.className="RNN";Ee(Ic);class mw extends It{}class i_ extends mw{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,pi(this.units,"units"),this.activation=ac(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=xn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=xn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=xn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=vn(e.kernelRegularizer),this.recurrentRegularizer=vn(e.recurrentRegularizer),this.biasRegularizer=vn(e.biasRegularizer),this.kernelConstraint=ni(e.kernelConstraint),this.recurrentConstraint=ni(e.recurrentConstraint),this.biasConstraint=ni(e.biasConstraint),this.dropout=Wh([1,rc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Wh([1,rc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Pt(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return ce(()=>{if(e=e,e.length!==2)throw new re("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));let i=e[1];e=e[0];const o=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=lc({ones:()=>br(e),rate:this.dropout,training:o,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=lc({ones:()=>br(i),rate:this.recurrentDropout,training:o,dropoutFunc:this.dropoutFunc}));let r;const s=this.dropoutMask,a=this.recurrentDropoutMask;s!=null?r=ea(Q(e,s),this.kernel.read()):r=ea(e,this.kernel.read()),this.bias!=null&&(r=zs(r,this.bias.read())),a!=null&&(i=Q(i,a));let l=Se(r,ea(i,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:sc(this.activation),useBias:this.useBias,kernelInitializer:Tn(this.kernelInitializer),recurrentInitializer:Tn(this.recurrentInitializer),biasInitializer:Tn(this.biasInitializer),kernelRegularizer:Qt(this.kernelRegularizer),recurrentRegularizer:Qt(this.recurrentRegularizer),biasRegularizer:Qt(this.biasRegularizer),activityRegularizer:Qt(this.activityRegularizer),kernelConstraint:ti(this.kernelConstraint),recurrentConstraint:ti(this.recurrentConstraint),biasConstraint:ti(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}i_.className="SimpleRNNCell";Ee(i_);class EB extends Ic{constructor(e){e.cell=new i_(e),super(e)}call(e,n){return ce(()=>{this.cell.dropoutMask!=null&&(pt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(pt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const i=n==null?null:n.mask,o=n==null?null:n.training,r=n==null?null:n.initialState;return super.call(e,{mask:i,training:o,initialState:r})})}static fromConfig(e,n){return new e(n)}}EB.className="SimpleRNN";Ee(EB);class o_ extends mw{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new re("GRUCell does not support reset_after parameter set to true.");this.units=e.units,pi(this.units,"units"),this.activation=ac(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=ac(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=xn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=xn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=xn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=vn(e.kernelRegularizer),this.recurrentRegularizer=vn(e.recurrentRegularizer),this.biasRegularizer=vn(e.biasRegularizer),this.kernelConstraint=ni(e.kernelConstraint),this.recurrentConstraint=ni(e.recurrentConstraint),this.biasConstraint=ni(e.biasConstraint),this.dropout=Wh([1,rc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Wh([1,rc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Pt(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return ce(()=>{if(e=e,e.length!==2)throw new re("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const i=n.training==null?!1:n.training;let o=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=lc({ones:()=>br(e),rate:this.dropout,training:i,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=lc({ones:()=>br(o),rate:this.recurrentDropout,training:i,count:3,dropoutFunc:this.dropoutFunc}));const r=this.dropoutMask,s=this.recurrentDropoutMask;let a,l,c;0<this.dropout&&this.dropout<1&&(e=Q(e,r[0]));let u=ea(e,this.kernel.read());this.useBias&&(u=zs(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(o=Q(o,s[0]));const d=this.recurrentKernel.read(),[h,p]=Uo(d,[2*this.units,this.units],d.rank-1),f=ea(o,h),[m,b,g]=Uo(u,3,u.rank-1),[x,y]=Uo(f,2,f.rank-1);a=this.recurrentActivation.apply(Se(m,x)),l=this.recurrentActivation.apply(Se(b,y));const v=ea(Q(l,o),p);c=this.activation.apply(Se(g,v));const w=Se(Q(a,o),Q(Se(1,gn(a)),c));return[w,w]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:sc(this.activation),recurrentActivation:sc(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Tn(this.kernelInitializer),recurrentInitializer:Tn(this.recurrentInitializer),biasInitializer:Tn(this.biasInitializer),kernelRegularizer:Qt(this.kernelRegularizer),recurrentRegularizer:Qt(this.recurrentRegularizer),biasRegularizer:Qt(this.biasRegularizer),activityRegularizer:Qt(this.activityRegularizer),kernelConstraint:ti(this.kernelConstraint),recurrentConstraint:ti(this.recurrentConstraint),biasConstraint:ti(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}o_.className="GRUCell";Ee(o_);class IB extends Ic{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new o_(e),super(e)}call(e,n){return ce(()=>{this.cell.dropoutMask!=null&&(pt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(pt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const i=n==null?null:n.mask,o=n==null?null:n.training,r=n==null?null:n.initialState;return super.call(e,{mask:i,training:o,initialState:r})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}IB.className="GRU";Ee(IB);class gw extends mw{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,pi(this.units,"units"),this.activation=ac(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=ac(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=xn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=xn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=xn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=vn(e.kernelRegularizer),this.recurrentRegularizer=vn(e.recurrentRegularizer),this.biasRegularizer=vn(e.biasRegularizer),this.kernelConstraint=ni(e.kernelConstraint),this.recurrentConstraint=ni(e.recurrentConstraint),this.biasConstraint=ni(e.biasConstraint),this.dropout=Wh([1,rc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Wh([1,rc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=Pt(e);const i=e[e.length-1];this.kernel=this.addWeight("kernel",[i,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let o;if(this.useBias){if(this.unitForgetBias){const r=this.biasInitializer,s=this.units;o=new(n=class extends as{apply(l,c){const u=r.apply([s]),d=new HI().apply([s]),h=r.apply([s*2]);return nN(nN(u,d),h)}},n.className="CustomInit",n)}else o=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,o,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return ce(()=>{const i=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new re("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));let o=e[1];const r=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=lc({ones:()=>br(e),rate:this.dropout,training:i,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=lc({ones:()=>br(o),rate:this.recurrentDropout,training:i,count:4,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,a=this.recurrentDropoutMask;let l,c,u,d;0<this.dropout&&this.dropout<1&&(e=Q(e,s[0]));let h=ea(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(o=Q(o,a[0])),h=Se(h,ea(o,this.recurrentKernel.read())),this.useBias&&(h=zs(h,this.bias.read()));const[p,f,m,b]=Uo(h,4,h.rank-1);l=this.recurrentActivation.apply(p),c=this.recurrentActivation.apply(f),u=Se(Q(c,r),Q(l,this.activation.apply(m))),d=this.recurrentActivation.apply(b);const g=Q(d,this.activation.apply(u));return[g,g,u]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:sc(this.activation),recurrentActivation:sc(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Tn(this.kernelInitializer),recurrentInitializer:Tn(this.recurrentInitializer),biasInitializer:Tn(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Qt(this.kernelRegularizer),recurrentRegularizer:Qt(this.recurrentRegularizer),biasRegularizer:Qt(this.biasRegularizer),activityRegularizer:Qt(this.activityRegularizer),kernelConstraint:ti(this.kernelConstraint),recurrentConstraint:ti(this.recurrentConstraint),biasConstraint:ti(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}gw.className="LSTMCell";Ee(gw);class _B extends Ic{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new gw(e),super(e)}call(e,n){return ce(()=>{this.cell.dropoutMask!=null&&(pt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(pt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const i=n==null?null:n.mask,o=n==null?null:n.training,r=n==null?null:n.initialState;return super.call(e,{mask:i,training:o,initialState:r})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}_B.className="LSTM";Ee(_B);class r_ extends mw{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return ce(()=>{e=e;let i=e.slice(1);const o=[];for(const a of this.cells.slice().reverse())Array.isArray(a.stateSize)?o.push(i.splice(0,a.stateSize.length)):o.push(i.splice(0,1));o.reverse();const r=[];let s;for(let a=0;a<this.cells.length;++a){const l=this.cells[a];i=o[a],a===0?s=[e[0]].concat(i):s=[s[0]].concat(i),s=l.call(s,n),r.push(s.slice(1))}i=[];for(const a of r.slice().reverse())i.push(...a);return[s[0]].concat(i)})}build(e){ES(e)&&(e=e[0]),e=e;let n;this.cells.forEach((i,o)=>{gu("RNNCell_".concat(o),()=>{i.build(e),Array.isArray(i.stateSize)?n=i.stateSize[0]:n=i.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=r=>({className:r.getClassName(),config:r.getConfig()}),o={cells:this.cells.map(n)};return Object.assign(Object.assign({},e),o)}static fromConfig(e,n,i={}){const o=[];for(const r of n.cells)o.push(Ma(r,i));return new e({cells:o})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const i of this.cells)n.push(...i.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return IS(e)}setWeights(e){const n=[];for(const i of this.cells){const o=i.weights.length,r=e.splice(o);for(let s=0;s<i.weights.length;++s)n.push([i.weights[s],r[s]])}ZI(n)}}r_.className="StackedRNNCells";Ee(r_);function lc(t){const{ones:e,rate:n,training:i=!1,count:o=1,dropoutFunc:r}=t,s=()=>r!=null?r(e(),n):yP(e(),n),a=()=>a0(s,e,i);return!o||o<=1?hi(a().clone()):Array(o).fill(void 0).map(a).map(c=>hi(c.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var mwe=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};class $B extends Ic{constructor(e){if(e.unroll)throw new gt("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new gt("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Jn({ndim:5})]}call(e,n){return ce(()=>{if(this.cell.dropoutMask!=null&&(pt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(pt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new re("ConvRNN2D cell does not support constants");const i=n==null?null:n.mask,o=n==null?null:n.training,r=n==null?null:n.initialState;return super.call(e,{mask:i,training:o,initialState:r})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return ce(()=>{const{stateSize:n}=this.cell,i=e.shape,o=this.computeSingleOutputShape(i),r=[o[0],...o.slice(2)],s=Yn(r);return Array.isArray(n)?Array(n.length).fill(s):[s]})}resetStates(e,n=!1){ce(()=>{if(!this.stateful)throw new js("Cannot call resetStates() on an RNN Layer that is not stateful.");const i=this.inputSpec[0].shape,o=this.computeSingleOutputShape(i),r=[o[0],...o.slice(2)];if(i[0]==null)throw new re("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Yn(r)):this.states_=[Yn(r)];else if(e==null)pt(this.states_),this.keptStates!=null&&(pt(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Yn(r)):this.states_[0]=Yn(r);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new re("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n?this.keptStates.push(this.states_.slice()):pt(this.states_);for(let a=0;a<this.states_.length;++a){const l=e[a],c=r;if(!Nt(l.shape,c))throw new re("State ".concat(a," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(c,", received shape=").concat(l.shape));this.states_[a]=l}}this.states_=this.states_.map(a=>hi(a.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:i,kernelSize:o,padding:r,strides:s,dilationRate:a}=this.cell,l=n==="channelsFirst",c=e[l?3:2],u=e[l?4:3],d=Ts(c,o[0],r,s[0],a[0]),h=Ts(u,o[1],r,s[1],a[1]);return[...e.slice(0,2),...l?[i,d,h]:[d,h,i]]}}$B.className="ConvRNN2D";class s_ extends gw{constructor(e){const{filters:n,kernelSize:i,strides:o,padding:r,dataFormat:s,dilationRate:a}=e;super(Object.assign(Object.assign({},e),{units:n})),this.filters=n,pi(this.filters,"filters"),this.kernelSize=kh(i,2,"kernelSize"),this.kernelSize.forEach(l=>pi(l,"kernelSize")),this.strides=kh(o||1,2,"strides"),this.strides.forEach(l=>pi(l,"strides")),this.padding=r||"valid",wr(this.padding),this.dataFormat=s||"channelsLast",Un(this.dataFormat),this.dilationRate=kh(a||1,2,"dilationRate"),this.dilationRate.forEach(l=>pi(l,"dilationRate"))}build(e){var n;e=Pt(e);const i=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[i]==null)throw new re("The channel dimension of the input should be defined. "+"Found ".concat(e[i]));const o=e[i],r=4,s=this.kernelSize.concat([o,this.filters*r]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const a=this.kernelSize.concat([this.filters,this.filters*r]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",a,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const c=this.biasInitializer,u=this.filters;l=new(n=class extends as{apply(h,p){const f=c.apply([u]),m=jo([u]),b=c.apply([u*2]);return VI([f,m,b])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*r],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return ce(()=>{if(e.length!==3)throw new re("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const i=n.training||!1,o=e[0],r=e[1],s=e[2],a=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=lc({ones:()=>br(o),rate:this.dropout,training:i,count:a,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,c=(X,G,W)=>!G||!G[W]?X:Q(G[W],X);let u=c(o,l,0),d=c(o,l,1),h=c(o,l,2),p=c(o,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=lc({ones:()=>br(r),rate:this.recurrentDropout,training:i,count:a,dropoutFunc:this.dropoutFunc}));const f=this.recurrentDropoutMask;let m=c(r,f,0),b=c(r,f,1),g=c(r,f,2),x=c(r,f,3);const y=3,[v,w,C,S]=Uo(this.kernel.read(),a,y),[E,I,N,B]=this.useBias?Uo(this.bias.read(),a):[null,null,null,null];u=this.inputConv(u,v,E,this.padding),d=this.inputConv(d,w,I,this.padding),h=this.inputConv(h,C,N,this.padding),p=this.inputConv(p,S,B,this.padding);const[D,P,_,L]=Uo(this.recurrentKernel.read(),a,y);m=this.recurrentConv(m,D),b=this.recurrentConv(b,P),g=this.recurrentConv(g,_),x=this.recurrentConv(x,L);const z=this.recurrentActivation.apply(Se(u,m)),V=this.recurrentActivation.apply(Se(d,b)),q=Se(Q(V,s),Q(z,this.activation.apply(Se(h,g)))),U=Q(this.recurrentActivation.apply(Se(p,x)),this.activation.apply(q));return[U,U,q]})}getConfig(){const e=super.getConfig(),{units:n}=e,i=mwe(e,["units"]),o={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},i),o)}inputConv(e,n,i,o){const r=oc(e,n,this.strides,o||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return i?zs(r,i,this.dataFormat):r}recurrentConv(e,n){return oc(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}s_.className="ConvLSTM2DCell";Ee(s_);class AB extends $B{constructor(e){const n=new s_(e);super(Object.assign(Object.assign({},e),{cell:n}))}static fromConfig(e,n){return new e(n)}}AB.className="ConvLSTM2D";Ee(AB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class a_ extends It{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,i=[];for(let o=0;o<this.noiseShape.length;++o)i.push(this.noiseShape[o]==null?n[o]:this.noiseShape[o]);return i}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=lt(e);if(0<this.rate&&this.rate<1){const o=n.training==null?!1:n.training,r=this.getNoiseShape(i);return a0(()=>yP(i,this.rate,r,this.seed),()=>i,o)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}a_.className="Dropout";Ee(a_);class NB extends a_{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}NB.className="SpatialDropout1D";Ee(NB);class OB extends It{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,pi(this.units,"units"),this.activation=ac(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=xn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=xn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=ni(e.kernelConstraint),this.biasConstraint=ni(e.biasConstraint),this.kernelRegularizer=vn(e.kernelRegularizer),this.biasRegularizer=vn(e.biasRegularizer),this.activityRegularizer=vn(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=Pt(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=Pt(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=lt(e),o=hP(this.activation.getClassName());let r;return o!=null?r=ea(i,this.kernel.read(),o,this.bias?this.bias.read():null):(r=ea(i,this.kernel.read()),this.bias!=null&&(r=zs(r,this.bias.read())),this.activation!=null&&(r=this.activation.apply(r))),r})}getConfig(){const e={units:this.units,activation:sc(this.activation),useBias:this.useBias,kernelInitializer:Tn(this.kernelInitializer),biasInitializer:Tn(this.biasInitializer),kernelRegularizer:Qt(this.kernelRegularizer),biasRegularizer:Qt(this.biasRegularizer),activityRegularizer:Qt(this.activityRegularizer),kernelConstraint:ti(this.kernelConstraint),biasConstraint:ti(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}OB.className="Dense";Ee(OB);class DB extends It{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Pt(e);for(const n of e.slice(1))if(n==null)throw new re('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.');return[e[0],ql(e,1)]}call(e,n){return ce(()=>{this.invokeCallHook(e,n);let i=lt(e);if(this.dataFormat==="channelsFirst"&&i.rank>1){const o=[0];for(let r=2;r<i.rank;++r)o.push(r);o.push(1),i=Dt(i,o)}return Xye(i)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}DB.className="Flatten";Ee(DB);class RB extends It{constructor(e){super(e),this.supportsMasking=!0,this.activation=ac(e.activation)}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=lt(e);return this.activation.apply(i)})}getConfig(){const e={activation:sc(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}RB.className="Activation";Ee(RB);class LB extends It{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return ce(()=>(e=lt(e),qye(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}LB.className="RepeatVector";Ee(LB);class zB extends It{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const i="Total size of new array must be unchanged.",o=n.slice();let r=1,s=null;for(let l=0;l<o.length;++l){const c=o[l];if(this.isUnknown(c))if(s===null)s=l;else throw new re("Can only specifiy one unknown dimension.");else r*=c}const a=ql(e);if(s!==null){if(r===0||a%r!==0)throw new re(i);o[s]=a/r}else if(a!==r)throw new re(i);return o}computeOutputShape(e){let n=!1;for(let i=0;i<e.length;++i)if(this.isUnknown(e[i])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=lt(e),o=i.shape,r=o.slice(0,1).concat(this.fixUnknownDimension(o.slice(1),this.targetShape));return te(i,r)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}zB.className="Reshape";Ee(zB);class FB extends It{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));const n=_s(1,e.dims.length+1);if(!Nt(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Jn({ndim:this.dims.length+1})]}computeOutputShape(e){e=Pt(e);const n=e.slice();return this.dims.forEach((i,o)=>{n[o+1]=e[i]}),n}call(e,n){return Dt(lt(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}FB.className="Permute";Ee(FB);class PB extends It{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const i=lt(e);return Zx(Vh(i,this.maskValue),-1)}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=lt(e),s=Zx(Vh(i,this.maskValue),-1,!0);return Q(i,Pe(s,i.dtype))})}}PB.className="Masking";Ee(PB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class BB extends It{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(Ht(e.inputLength))}this.inputDim=e.inputDim,pi(this.inputDim,"inputDim"),this.outputDim=e.outputDim,pi(this.outputDim,"outputDim"),this.embeddingsInitializer=xn(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=vn(e.embeddingsRegularizer),this.activityRegularizer=vn(e.activityRegularizer),this.embeddingsConstraint=ni(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return ce(()=>this.maskZero?(e=lt(e),Vh(e,Rt(e))):null)}computeOutputShape(e){if(e=Pt(e),this.inputLength==null)return[...e,this.outputDim];const n=Ht(this.inputLength);if(n.length!==e.length-1)throw new re('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));{let i=0;for(let o=0;o<n.length;++o){const r=n[o],s=e[o+1];if(r!=null&&s!=null&&r!==s)throw new re('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));r==null&&(n[i]=s),i++}}return[e[0],...n,this.outputDim]}call(e,n){return ce(()=>{this.invokeCallHook(e,n);let i=lt(e);i.dtype!=="int32"&&(i=Qs(i,"int32"));const o=xP(this.embeddings.read(),te(i,[i.size]));return te(o,Pt(this.computeOutputShape(i.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Tn(this.embeddingsInitializer),embeddingsRegularizer:Qt(this.embeddingsRegularizer),activityRegularizer:Qt(this.activityRegularizer),embeddingsConstraint:ti(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}BB.className="Embedding";Ee(BB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ld extends It{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new gt}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const i=e.slice(0,e.length-n.length);for(let o=0;o<n.length;++o){const r=e[e.length-n.length+o],s=n[o];if(r==null||s==null||r<0||s<0)i.push(null);else if(r===1)i.push(s);else if(s===1)i.push(r);else{if(r!==s)throw new re("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));i.push(r)}}return i}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Pt(e)]),e=e,e.length<2)throw new re("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));let n=[];for(const r of e)r!=null&&r[0]!==null&&n.push(r[0]);if(n=Gl(n),n.length>1)throw new re("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));let i=e[0]==null?null:e[0].slice(1);for(let r=1;r<e.length;++r){const s=e[r]==null?null:e[r].slice(1);i=this.computeElementwiseOpOutputShape(i,s)}const o=e.map(r=>r.length);e.indexOf(null)===-1&&Gl(o).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return ce(()=>{if(e=e,this.reshapeRequired){const i=[],o=e.map(r=>r.rank);if(o.indexOf(null)===-1){const r=rc(o);for(let s of e){const a=s.rank;for(let l=0;l<r-a;++l)s=r0(s,1);i.push(s)}return this.mergeFunction(i)}else{let r=!1;for(const l of e){const c=l.rank;if(c==null){const u=l.shape,d=u[0],h=u.slice(1).concat([d]);let p=te(l,[d].concat(ql(u.slice(1))));p=Dt(p,[1,0]),p=te(p,h),i.push(p),r=!0}else if(c>1){const u=_s(1,c).concat([0]);i.push(Dt(l,u)),r=!0}else i.push(l)}let s=this.mergeFunction(i);const a=s.rank;if(r){if(a==null){const l=s.shape,c=l.length,u=l[c-1],d=[u].concat(l.slice(0,l.length-1));s=te(Dt(te(s,[-1,u]),[1,0]),d)}else if(a>1){const l=[a-1].concat(_s(0,a-1));s=Dt(s,l)}}return s}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let o=1;o<e.length;++o){const r=e[o]==null?null:e[o].slice(1);n=this.computeElementwiseOpOutputShape(n,r)}let i=[];for(const o of e)o!=null&&o[0]!==null&&i.push(o[0]);return i=Gl(i),i.length===1?n=i.concat(n):n=[null].concat(n),n}computeMask(e,n){return ce(()=>{if(n==null)return null;if(!Array.isArray(n))throw new re("`mask` should be an Array");if(!Array.isArray(e))throw new re("`inputs` should be an Array");if(n.length!==e.length)throw new re("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(n.length,")"));if(n.every(o=>o==null))return null;n=n.map(o=>o==null?o:Ci(o,0));let i=n[0];for(let o=1;o<n.length-1;++o)i=ia(i,n[o]);return i})}}class MB extends ld{constructor(e){super(e)}mergeFunction(e){return ce(()=>{let n=e[0].clone();for(let i=1;i<e.length;++i)n=Se(n,e[i]);return n})}}MB.className="Add";Ee(MB);class jB extends ld{constructor(e){super(e)}mergeFunction(e){return ce(()=>{let n=e[0].clone();for(let i=1;i<e.length;++i)n=Q(n,e[i]);return n})}}jB.className="Multiply";Ee(jB);class UB extends ld{constructor(e){super(e)}mergeFunction(e){return ce(()=>{let n=e[0].clone();for(let i=1;i<e.length;++i)n=Se(n,e[i]);return Q(1/e.length,n)})}}UB.className="Average";Ee(UB);class VB extends ld{constructor(e){super(e)}mergeFunction(e){return ce(()=>{let n=e[0];for(let i=1;i<e.length;++i)n=tl(n,e[i]);return n})}}VB.className="Maximum";Ee(VB);class HB extends ld{constructor(e){super(e)}mergeFunction(e){return ce(()=>{let n=e[0];for(let i=1;i<e.length;++i)n=Fu(n,e[i]);return n})}}HB.className="Minimum";Ee(HB);class WB extends ld{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new re("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const o of e)if(o!=null){n=!1;break}if(n)return;const i=[];for(let o=0;o<e.length;++o){const r=e[o].slice();r.splice(this.axis,1);let s=!1;for(const a of i)if(Nt(a,r)){s=!0;break}s||i.push(r)}if(i.length>1)throw new re("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return ce(()=>VI(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new re("A `Concatenate` layer should be called on a list of inputs.");const n=e,i=n[0].slice(),o=this.axis<0?i.length+this.axis:this.axis;for(const r of n.slice(1)){if(i[o]==null||r[o]==null){i[o]=null;break}i[o]+=r[o]}return i}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new re("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new re("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new re("Mismatch in the length of mask (".concat(n.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return ce(()=>{let i=!0;if(n.forEach(s=>{if(s!=null){i=!1;return}}),i)return null;const o=[];for(let s=0;s<e.length;++s)n[s]==null?o.push(Pe(br(e[s]),"bool")):n[s].rank<e[s].rank?o.push(Ci(n[s],-1)):o.push(n[s]);const r=Dn(o,this.axis);return CE(r,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}WB.className="Concatenate";Ee(WB);function Qp(t,e){for(;t<0;)t+=e;return t}function gwe(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new gt("batchDot is not implemented for tensors of 4D or higher rank yet");if(M(t.shape.length>=2,()=>"batchDot requires the rank of x to be >= 2, "+"but got ".concat(t.shape.length)),M(t.shape.length>=2,()=>"batchDot requires the rank of y to be >= 2, "+"but got ".concat(e.shape.length)),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new gt("batchDot is not implemented for complex64-type Tensors yet.");const i=t.shape.length,o=e.shape.length;n==null&&(n=[i-1,o-2]);const r=n;return ce(()=>{let s;if(i>o){s=i-o;const l=[];for(let c=0;c<s;++c)l.push(1);e=te(e,e.shape.concat(l))}else if(o>i){s=o-i;const l=[];for(let c=0;c<s;++c)l.push(1);t=te(t,t.shape.concat(l))}else s=0;let a;if(t.shape.length===2&&e.shape.length===2)r[0]===r[1]?a=Ke(Q(t,e),r[0]):a=Ke(Q(Dt(t,[1,0]),e),r[1]);else{const l=r[0]!==t.shape.length-1,c=r[1]===e.shape.length-1;a=_t(t,e,l,c)}if(s>0){let l;i>o?l=i+o-3:l=i-1;const c=[];for(let u=l;u<l+s;++u)c.push(u);a=Ln(a,c)}return a.shape.length===1&&(a=Ci(a,1)),a})}class GB extends ld{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){M(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],i=e[1];if(n.length>3||i.length>3)throw new gt("Dot layer does not support tensors of 4D or higher rank yet.");const o=this.interpretAxes(n,i);if(n[o[0]]!==i[o[1]])throw new re("Dimension incompatibility: "+"".concat(n[o[0]]," !== ").concat(i[o[1]]))}mergeFunction(e){if(e.length!==2)throw new re("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));let n=e[0],i=e[1],o;return Array.isArray(this.axes)?o=this.axes.map((r,s)=>Qp(r,e[s].shape.length)):o=[Qp(this.axes,n.shape.length),Qp(this.axes,i.shape.length)],this.normalize&&(n=i1(n,o[0]),i=i1(i,o[1])),gwe(n,i,o)}interpretAxes(e,n){let i;return Array.isArray(this.axes)?i=this.axes:i=[Qp(this.axes,e.length),Qp(this.axes,n.length)],i}computeOutputShape(e){M(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),i=e[1].slice();if(n.length>3||i.length>3)throw new gt("Dot layer does not support tensors of 4D or higher rank yet.");const o=this.interpretAxes(n,i);n.splice(o[0],1),i.splice(o[1],1),i.splice(0,1);const r=n.concat(i);return r.length===1&&r.push(1),r}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}}GB.className="Dot";Ee(GB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class qB extends It{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=lt(e);return a0(()=>Se(cw(i.shape,0,this.stddev),i),()=>i,n.training||!1)})}}qB.className="GaussianNoise";Ee(qB);class KB extends It{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=lt(e);return this.rate>0&&this.rate<1?a0(()=>{const r=Math.sqrt(this.rate/(1-this.rate));return Q(i,cw(i.shape,1,r))},()=>i,n.training||!1):i})}}KB.className="GaussianDropout";Ee(KB);class XB extends It{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||lt(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return ce(()=>{if(this.rate<1&&this.rate>0){const i=this._getNoiseShape(e);return a0(()=>{const r=lt(e),a=-1.6732632423543772*1.0507009873554805;let l=Cc(rd(i),this.rate);l=Qs(l,"float32");const c=((1-this.rate)*(1+this.rate*a**2))**-.5,u=-c*a*this.rate,d=Se(Q(r,l),Q(Se(l,-1),a));return Se(Q(d,c),u)},()=>lt(e),n.training||!1)}return e})}}XB.className="AlphaDropout";Ee(XB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function vm(t,e,n,i,o,r=.001){let s;if(t.rank===2)s=yz(t,e,n,i,o,r);else if(t.rank===3)s=vz(t,e,n,i,o,r);else if(t.rank===4)s=wz(t,e,n,i,o,r);else throw new gt("batchNormalization is not implemented for array of rank ".concat(t.rank," ")+"yet");return s}function bwe(t,e,n,i,o=.001){return ce(()=>{const r=Wv(t,i),s=r.mean,a=r.variance;return[vm(t,s,a,n,e,o),s,a]})}function xwe(t,e,n,i,o=.001){return ce(()=>{const r=Wv(t,i),s=r.mean,a=r.variance,l=[];for(const f of _s(0,t.rank))i.indexOf(f)!==-1?l.push(1):l.push(t.shape[f]);const c=te(s,l),u=te(a,l),d=e==null?null:te(e,l),h=n==null?null:te(n,l);return[vm(t,c,u,h,d,o),s,a]})}function ywe(t,e,n,i,o=.001){return Nt(i.slice().sort(),_s(0,t.rank-1))?bwe(t,e,n,i,o):xwe(t,e,n,i,o)}class YB extends It{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=xn(e.betaInitializer||"zeros"),this.gammaInitializer=xn(e.gammaInitializer||"ones"),this.movingMeanInitializer=xn(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=xn(e.movingVarianceInitializer||"ones"),this.betaConstraint=ni(e.betaConstraint),this.gammaConstraint=ni(e.gammaConstraint),this.betaRegularizer=vn(e.betaRegularizer),this.gammaRegularizer=vn(e.gammaRegularizer)}build(e){e=Pt(e);const n=this.axis>=0?this.axis:this.axis+e.length,i=e[n];if(i==null)throw new re("Axis ".concat(n," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new Jn({ndim:e.length,axes:{[n]:i}})];const o=[i];this.scale&&(this.gamma=this.addWeight("gamma",o,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",o,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",o,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",o,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return ce(()=>{const i=n.training==null?!1:n.training,o=lt(e),r=o.shape,s=r.length,a=_s(0,s),l=this.axis>=0?this.axis:this.axis+s;a.splice(l,1);const c=Bu(1,s);c[l]=r[l];const u=a.slice();u.sort();const d=!Nt(u,_s(0,s).slice(0,s-1)),h=()=>{if(d){const x=te(this.movingMean.read(),c),y=te(this.movingVariance.read(),c),v=this.center?te(this.beta.read(),c):null,w=this.scale?te(this.gamma.read(),c):null;return vm(o,x,y,v,w,this.epsilon)}else return vm(o,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!i)return h();const[p,f,m]=ywe(o,this.gamma.read(),this.beta.read(),a,this.epsilon),b=(x,y,v)=>{ce(()=>{const w=1-v,C=x.read(),S=Q(Ve(C,y),w);x.write(Ve(C,S))})};return(()=>{b(this.movingMean,f,this.momentum),b(this.movingVariance,m,this.momentum)})(),p})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Tn(this.betaInitializer),gammaInitializer:Tn(this.gammaInitializer),movingMeanInitializer:Tn(this.movingMeanInitializer),movingVarianceInitializer:Tn(this.movingVarianceInitializer),betaRegularizer:Qt(this.betaRegularizer),gammaRegularizer:Qt(this.gammaRegularizer),betaConstraint:ti(this.betaConstraint),gammaConstraint:ti(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}YB.className="BatchNormalization";Ee(YB);class ZB extends It{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error("Expected axis to be an integer, but received ".concat(this.axis))}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(this.axis)))}else throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(this.axis)));this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=xn(e.betaInitializer||"zeros"),this.gammaInitializer=xn(e.gammaInitializer||"ones"),this.betaRegularizer=vn(e.betaRegularizer),this.gammaRegularizer=vn(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=Pt(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let r=0;r<this.axis.length;++r)this.axis[r]<0&&(this.axis[r]+=n);for(const r of this.axis)if(r<0||r>=n)throw new Error("Invalid axis: ".concat(r));if(this.axis.length!==Gl(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));const i=this.axis.map(r=>e[r]),o=!0;this.scale?this.gamma=this.addWeight("gamma",i,"float32",this.gammaInitializer,this.gammaRegularizer,o):this.gamma=null,this.center?this.beta=this.addWeight("beta",i,"float32",this.betaInitializer,this.betaRegularizer,o):this.beta=null,this.built=!0}call(e,n){const i=lt(e),o=i.shape,r=o.length;return ce(()=>{let{mean:a,variance:l}=Wv(i,this.axis,!0);const c=Bu(1,r);for(const m of this.axis)c[m]=o[m];const u=m=>m!=null&&m.shape.length!==r?te(m,c):m;let d=this.scale?u(this.gamma.read()):null,h=this.center?u(this.beta.read()):null;const p=[],f=[];for(let m=0;m<r;++m)this.axis.indexOf(m)!==-1?(p.push(o[m]),f.push(1)):(p.push(1),f.push(o[m]));return a=Gr(a,p),l=Gr(l,p),d!=null&&(d=Gr(d,f)),h!=null&&(h=Gr(h,f)),vm(i,a,l,h,d,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Tn(this.betaInitializer),gammaInitializer:Tn(this.gammaInitializer),betaRegularizer:Qt(this.betaRegularizer),gammaRegularizer:Qt(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}ZB.className="LayerNormalization";Ee(ZB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function vwe(t,e,n){return ce(()=>{if(t.rank!==4)throw new re("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(t.rank,"-D tensor."));if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new re("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=$s()),n!=="channelsLast"&&n!=="channelsFirst")throw new re("Unknown data format: ".concat(n,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");let i;return n==="channelsFirst"?i=[[0,0],[0,0],e[0],e[1]]:i=[[0,0],e[0],e[1],[0,0]],Tc(t,i)})}class JB extends It{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?$s():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new re("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));let n,i;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],i=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new re("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(n=e.padding[0],e.padding[1].length!==2)throw new re("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));i=e.padding[1]}this.padding=[n,i]}this.inputSpec=[new Jn({ndim:4})]}computeOutputShape(e){e=Pt(e);let n,i;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?i=e[3]+this.padding[1][0]+this.padding[1][1]:i=null,[e[0],e[1],n,i]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?i=e[2]+this.padding[1][0]+this.padding[1][1]:i=null,[e[0],n,i,e[3]])}call(e,n){return ce(()=>vwe(lt(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}JB.className="ZeroPadding2D";Ee(JB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function bw(t,e,n,i,o,r){return ce(()=>{Un(o),fP(r),wr(i),n==null&&(n=[1,1]),i==null&&(i="valid"),o==null&&(o=$s()),r==null&&(r="max"),t=n_(t,o);let s;const a=i==="same"?"same":"valid";return r==="max"?s=Hv(t,e,n,a):s=zv(t,e,n,a),o==="channelsFirst"&&(s=Dt(s,[0,3,1,2])),s})}function QB(t,e,n,i,o,r){return ce(()=>{Un(o),fP(r),wr(i),n==null&&(n=[1,1,1]),i==null&&(i="valid"),o==null&&(o=$s()),r==null&&(r="max"),t=gB(t,o);let s;const a=i==="same"?"same":"valid";return r==="max"?s=Wz(t,e,n,a):s=xz(t,e,n,a),o==="channelsFirst"&&(s=Dt(s,[0,4,1,2,3])),s})}class eM extends It{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new re("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));if(pi(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new re("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));pi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,wr(this.padding),this.inputSpec=[new Jn({ndim:3})]}computeOutputShape(e){e=Pt(e);const n=Ts(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return ce(()=>{this.invokeCallHook(e,n),e=r0(lt(e),2);const i=this.poolingFunction(lt(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return Ln(i,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class tM extends eM{constructor(e){super(e)}poolingFunction(e,n,i,o,r){return Un(r),wr(o),bw(e,n,i,o,r,"max")}}tM.className="MaxPooling1D";Ee(tM);class nM extends eM{constructor(e){super(e)}poolingFunction(e,n,i,o,r){return Un(r),wr(o),bw(e,n,i,o,r,"avg")}}nM.className="AveragePooling1D";Ee(nM);class iM extends It{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new re("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides];pi(this.poolSize,"poolSize"),pi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Un(this.dataFormat),wr(this.padding),this.inputSpec=[new Jn({ndim:4})]}computeOutputShape(e){e=Pt(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],i=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=Ts(n,this.poolSize[0],this.padding,this.strides[0]),i=Ts(i,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,i]:[e[0],n,i,e[3]]}call(e,n){return ce(()=>(this.invokeCallHook(e,n),this.poolingFunction(lt(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class oM extends iM{constructor(e){super(e)}poolingFunction(e,n,i,o,r){return Un(r),wr(o),bw(e,n,i,o,r,"max")}}oM.className="MaxPooling2D";Ee(oM);class rM extends iM{constructor(e){super(e)}poolingFunction(e,n,i,o,r){return Un(r),wr(o),bw(e,n,i,o,r,"avg")}}rM.className="AveragePooling2D";Ee(rM);class sM extends It{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new re("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];pi(this.poolSize,"poolSize"),pi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Un(this.dataFormat),wr(this.padding),this.inputSpec=[new Jn({ndim:5})]}computeOutputShape(e){e=Pt(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],i=this.dataFormat==="channelsFirst"?e[3]:e[2],o=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=Ts(n,this.poolSize[0],this.padding,this.strides[0]),i=Ts(i,this.poolSize[1],this.padding,this.strides[1]),o=Ts(o,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,i,o]:[e[0],n,i,o,e[4]]}call(e,n){return ce(()=>(this.invokeCallHook(e,n),this.poolingFunction(lt(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class aM extends sM{constructor(e){super(e)}poolingFunction(e,n,i,o,r){return Un(r),wr(o),QB(e,n,i,o,r,"max")}}aM.className="MaxPooling3D";Ee(aM);class lM extends sM{constructor(e){super(e)}poolingFunction(e,n,i,o,r){return Un(r),wr(o),QB(e,n,i,o,r,"avg")}}lM.className="AveragePooling3D";Ee(lM);class cM extends It{constructor(e){super(e),this.inputSpec=[new Jn({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new gt}}class uM extends cM{constructor(e){super(e||{})}call(e,n){return ce(()=>{const i=lt(e);return _n(i,1)})}}uM.className="GlobalAveragePooling1D";Ee(uM);class dM extends cM{constructor(e){super(e||{})}call(e,n){return ce(()=>{const i=lt(e);return Yr(i,1)})}}dM.className="GlobalMaxPooling1D";Ee(dM);class hM extends It{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Un(this.dataFormat),this.inputSpec=[new Jn({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new gt}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class pM extends hM{call(e,n){return ce(()=>{const i=lt(e);return this.dataFormat==="channelsLast"?_n(i,[1,2]):_n(i,[2,3])})}}pM.className="GlobalAveragePooling2D";Ee(pM);class fM extends hM{call(e,n){return ce(()=>{const i=lt(e);return this.dataFormat==="channelsLast"?Yr(i,[1,2]):Yr(i,[2,3])})}}fM.className="GlobalMaxPooling2D";Ee(fM);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class mM extends It{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,i={}){const o=n.layer,r=Ma(o,i);delete n.layer;const s={layer:r};return Object.assign(s,n),new e(s)}}class gM extends mM{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=Pt(e),e.length<3)throw new re("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=Pt(e);const n=[e[0]].concat(e.slice(2)),i=this.layer.computeOutputShape(n),o=e[1];return[i[0],o].concat(i.slice(1))}call(e,n){return ce(()=>(e=lt(e),TB((s,a)=>[lt(this.layer.call(s,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}gM.className="TimeDistributed";Ee(gM);function wwe(t){ad(Uye,"BidirectionalMergeMode",t)}const kwe="concat";class bM extends mM{constructor(e){super(e);const n=e.layer.getConfig(),i={};i.className=e.layer.getClassName(),i.config=n,this.forwardLayer=Ma(i),n.goBackwards=n.goBackwards!==!0;const o={};if(o.className=e.layer.getClassName(),o.config=n,this.backwardLayer=Ma(o),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?kwe:e.mergeMode,wwe(this.mergeMode),e.weights)throw new gt("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,i=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,i)),this.backwardLayer.setWeights(e.slice(i))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let i,o,r;return this.returnState&&(r=n.slice(1)),i=n[0],i=i,this.mergeMode==="concat"?(i[i.length-1]*=2,o=[i]):this.mergeMode==null?o=[i,i.slice()]:o=[i],this.returnState?this.mergeMode==null?o.concat(r).concat(r.slice()):[i].concat(r).concat(r.slice()):go(o)}apply(e,n){let i=n==null?null:n.initialState,o=n==null?null:n.constants;n==null&&(n={});const r=CB(e,i,o,this.numConstants);if(e=r.inputs,i=r.initialState,o=r.constants,Array.isArray(e)&&(i=e.slice(1),e=e[0]),(i==null||i.length===0)&&o==null)return super.apply(e,n);const s=[],a=[];if(i!=null){const c=i.length;if(c%2>0)throw new re("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=i,s.push(...i);const u=i.map(d=>new Jn({shape:d.shape}));this.forwardLayer.stateSpec=u.slice(0,c/2),this.backwardLayer.stateSpec=u.slice(c/2),a.push(...u)}if(o!=null)throw new gt("Support for constants in Bidirectional layers is not implemented yet.");const l=s[0]instanceof oa;for(const c of s)if(c instanceof oa!==l)throw new re("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const c=[e].concat(s),u=this.inputSpec.concat(a),d=this.inputSpec;this.inputSpec=u;const h=super.apply(c,n);return this.inputSpec=d,h}else return super.apply(e,n)}call(e,n){return ce(()=>{const i=n.initialState;let o,r;if(i==null)o=this.forwardLayer.call(e,n),r=this.backwardLayer.call(e,n);else{const l=i.slice(0,i.length/2),c=i.slice(i.length/2);o=this.forwardLayer.call(e,Object.assign(n,{initialState:l})),r=this.backwardLayer.call(e,Object.assign(n,{initialState:c}))}let s;this.returnState&&(Array.isArray(o)&&(s=o.slice(1).concat(r.slice(1))),o=o[0],r=r[0]),this.returnSequences&&(r=ns(r,1));let a;return this.mergeMode==="concat"?a=VI([o,r]):this.mergeMode==="sum"?a=Se(o,r):this.mergeMode==="ave"?a=Q(.5,Se(o,r)):this.mergeMode==="mul"?a=Q(o,r):this.mergeMode==null&&(a=[o,r]),this.returnState?this.mergeMode==null?a.concat(s):[a].concat(s):a})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){gu(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),gu(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let i;if(this.returnSequences?this.mergeMode==null?i=[n,n]:i=n:this.mergeMode==null?i=[null,null]:i=null,this.returnState){const r=this.forwardLayer.states.map(s=>null);return Array.isArray(i)?i.concat(r).concat(r):[i].concat(r).concat(r)}else return i}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const i=Ma(n.layer);if(delete n.layer,n.numConstants!=null)throw new gt("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const o=n;return o.layer=i,new e(o)}}bM.className="Bidirectional";Ee(bM);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class xM extends It{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return ce(()=>(e=lt(e),e.dtype!=="float32"&&(e=Qs(e,"float32")),Se(Q(e,this.scale),this.offset)))}}xM.className="Rescaling";Ee(xM);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const{resizeBilinear:Swe,cropAndResize:Cwe}=ar;class yM extends It{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,n,i,o,r,s,a,l){return ce(()=>{let c,u=!1;const d=n/s,h=i/a,p=(o+n)/s,f=(r+i)/a,m=[d,h,p,f],b=[];e.rank===3?(u=!0,c=qo([e])):c=e;for(let w=0;w<c.shape[0];w++)b.push(m);const g=Ss(b,[b.length,4]),x=Hh(0,b.length,1,"int32"),v=Cwe(c,g,x,[o,r],"nearest");return Qs(u?lt(is(v)):v,l)})}upsize(e,n,i,o){return ce(()=>{const r=Swe(e,[n,i]);return Qs(r,o)})}call(e,n){return ce(()=>{const i=lt(e),o=i.dtype,r=i.shape,s=r[r.length-3],a=r[r.length-2];let l=0;s!==this.height&&(l=Math.floor((s-this.height)/2));let c=0;return a!==this.width&&(c=Math.floor((a-this.width)/2),c===0&&(c=1)),l>=0&&c>=0?this.centerCrop(i,l,c,this.height,this.width,s,a,o):this.upsize(e,this.height,this.width,o)})}getConfig(){const e={height:this.height,width:this.width},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=Pt(e);const n=e.length-3,i=e.length-2;return e[n]=this.height,e[i]=this.width,e}}yM.className="CenterCrop";Ee(yM);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Twe(t,e,n,i){let o=lt(t);if(o.dtype!=="int32"&&(o=Qs(o,"int32")),e==="int")return o;const r=o.shape;if(o.rank===0&&(o=Ci(o,-1)),e==="oneHot"&&o.shape[o.shape.length-1]!==1&&(o=Ci(o,-1)),o.rank>2)throw new re("When outputMode is not int, maximum output rank is 2"+" Received outputMode ".concat(e," and input shape ").concat(r)+" which would result in output rank ".concat(o.rank,"."));const s=["multiHot","oneHot"].includes(e),a=o;let l;if(typeof i<"u"&&e==="count"?l=xS(a,i,n,s):l=xS(a,[],n,s),e!=="tfIdf")return l;if(i)return Q(l,i);throw new re("When outputMode is 'tfIdf', weights must be provided.")}/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class vM extends It{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){return e=Pt(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,n){return ce(()=>{e=lt(e),e.dtype!=="int32"&&(e=Qs(e,"int32"));let i;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new re("countWeights is not used when outputMode !== count.\n              Received countWeights=".concat(n.countWeights));i=lt(n.countWeights)}const o=Yr(e),r=hm(e),s=Qo(this.numTokens,o).bufferSync().get(0),a=Cc(r,0).bufferSync().get(0);if(!(s&&a))throw new re("Input values must be between 0 < values <="+" numTokens with numTokens=".concat(this.numTokens));return Twe(e,this.outputMode,this.numTokens,i)})}}vM.className="CategoryEncoding";Ee(vM);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Ewe=["bilinear","nearest"],vN=new Set(Ewe);class wM extends It{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(vN.has(e.interpolation))this.interpolation=e.interpolation;else throw new re("Invalid interpolation parameter: ".concat(e.interpolation," is not implemented"));else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){e=Pt(e);const n=e[2];return[this.height,this.width,n]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return ce(()=>{const i=[this.height,this.width];if(this.interpolation==="bilinear")return ar.resizeBilinear(e,i,!this.cropToAspectRatio);if(this.interpolation==="nearest")return ar.resizeNearestNeighbor(e,i,!this.cropToAspectRatio);throw new Error("Interpolation is ".concat(this.interpolation," but only ").concat([...vN]," are supported"))})}}wM.className="Resizing";Ee(wM);/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class kM{constructor(e){this.seed=e}next(){if(this.seed!==void 0)return this.seed++}}kM.className="RandomSeed";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class SM extends It{constructor(e){super(e),this.randomGenerator=new kM(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(e,n),e}}SM.className="BaseRandomLayer";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Iwe=["bilinear","nearest"],wN=new Set(Iwe);class CM extends SM{constructor(e){super(e);const{factor:n,interpolation:i="bilinear"}=e;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new re("Invalid factor: ".concat(this.factor,". Must be positive number or tuple of 2 numbers"));if(this.widthLower<-1||this.widthUpper<-1)throw new re("factor must have values larger than -1. Got: ".concat(this.factor));if(this.widthUpper<this.widthLower)throw new re("factor cannot have upper bound less than lower bound.\n        Got upper bound: ".concat(this.widthUpper,".\n        Got lower bound: ").concat(this.widthLower,"\n      "));if(i)if(wN.has(i))this.interpolation=i;else throw new re("Invalid interpolation parameter: ".concat(i," is not implemented"))}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=Pt(e);const n=e[2];return[this.imgHeight,-1,n]}call(e,n){return ce(()=>{const i=lt(e);this.imgHeight=i.shape[i.shape.length-3];const o=i.shape[i.shape.length-2];this.widthFactor=rd([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let r=this.widthFactor.dataSync()[0]*o;r=Math.round(r);const s=[this.imgHeight,r];switch(this.interpolation){case"bilinear":return ar.resizeBilinear(e,s);case"nearest":return ar.resizeNearestNeighbor(e,s);default:throw new Error("Interpolation is ".concat(this.interpolation,"\n          but only ").concat([...wN]," are supported"))}})}}CM.className="RandomWidth";Ee(CM);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _we=pe();_we.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Ro;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(Ro||(Ro={}));var kN;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(kN||(kN={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $we={};function TM(t){return $we[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $(t,e,n,i,o){const r=e.inputParams[t];if(r&&r.inputIndexStart!==void 0){const a=r.inputIndexStart,l=r.inputIndexEnd===0?void 0:r.inputIndexEnd===void 0?a+1:r.inputIndexEnd,c=a<0?e.inputNames.length+a:a;if(r.type==="tensor")return Ei(e.inputNames[c],n,i,o);if(r.type==="tensors"){const h=e.inputs.slice(a,l);return e.inputNames.slice(a,l).filter((f,m)=>{var b;return((b=h[m])===null||b===void 0?void 0:b.op)!=="NoOp"}).map(f=>Ei(f,n,i,o))}const u=Ei(e.inputNames[c],n,i,o),d=u.dataSync();return r.type==="number"?d[0]:Xr(u.shape,d)}const s=e.attrParams[t];return s&&s.value}function Ei(t,e,n,i){const[o,r]=zo(t,n);if(i!=null){const a=i.getHashTableHandleByName(o);if(a!=null)return a}const s=n.currentContextIds.find(a=>!!e[l1(o,a)]);return s!==void 0?e[l1(o,s)][r]:void 0}function SN(t,e,n){return e[l1(t,n.currentContextId)]}function wa(t,e){const[n,i,o]=zo(t,e);return[l1(n,e&&e.currentContextId),i,o]}function l1(t,e){return e?"".concat(t,"-").concat(e):t}function zo(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const r=e.parseNodeNameCache.get(t);if(r!=null)return r}const i=t.split(":");let o;if(i.length===1)o=[t,0,void 0];else{const r=i[0],s=i.length===3?i[1]:void 0,a=Number(i[i.length-1]);o=[r,a,s]}return n&&e.parseNodeNameCache.set(t,o),o}function Vb(t,e,n){let i=$("pad",t,e,n);if(i==="explicit"){i=$("explicitPaddings",t,e,n);const o=[[0,0],[0,0],[0,0],[0,0]];for(let r=0;r<4;r++)o[r][0]=i[r*2],o[r][1]=i[r*2+1];return o}return i}function ka(t){return t.kept?t:Ba(t)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Awe=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Nwe=Object.freeze(Object.defineProperty({__proto__:null,json:Awe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Owe=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Dwe=Object.freeze(Object.defineProperty({__proto__:null,json:Owe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rwe=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],Lwe=Object.freeze(Object.defineProperty({__proto__:null,json:Rwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zwe=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],Fwe=Object.freeze(Object.defineProperty({__proto__:null,json:zwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pwe=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Bwe=Object.freeze(Object.defineProperty({__proto__:null,json:Pwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mwe=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],jwe=Object.freeze(Object.defineProperty({__proto__:null,json:Mwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uwe=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],Vwe=Object.freeze(Object.defineProperty({__proto__:null,json:Uwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hwe=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Wwe=Object.freeze(Object.defineProperty({__proto__:null,json:Hwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gwe=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],qwe=Object.freeze(Object.defineProperty({__proto__:null,json:Gwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kwe=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],Xwe=Object.freeze(Object.defineProperty({__proto__:null,json:Kwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ywe=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],Zwe=Object.freeze(Object.defineProperty({__proto__:null,json:Ywe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jwe=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],Qwe=Object.freeze(Object.defineProperty({__proto__:null,json:Jwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e2e=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],t2e=Object.freeze(Object.defineProperty({__proto__:null,json:e2e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n2e=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],i2e=Object.freeze(Object.defineProperty({__proto__:null,json:n2e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o2e=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],r2e=Object.freeze(Object.defineProperty({__proto__:null,json:o2e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s2e=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],a2e=Object.freeze(Object.defineProperty({__proto__:null,json:s2e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l2e=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],c2e=Object.freeze(Object.defineProperty({__proto__:null,json:l2e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u2e=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],d2e=Object.freeze(Object.defineProperty({__proto__:null,json:u2e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h2e=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],p2e=Object.freeze(Object.defineProperty({__proto__:null,json:h2e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CN{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[Nwe,Dwe,Lwe,Fwe,Bwe,jwe,Vwe,Wwe,qwe,Xwe,Zwe,Qwe,t2e,i2e,r2e,a2e,c2e,d2e,p2e],n=[].concat(...e.map(i=>i.json));this.opMappers=n.reduce((i,o)=>(i[o.tfOpName]=o,i),{})}transformGraph(e,n={}){const i=e.node,o=[],r=[],s=[],a=i.reduce((m,b)=>(m[b.name]=this.mapNode(b),b.op.startsWith("Placeholder")?o.push(m[b.name]):b.op==="Const"?r.push(m[b.name]):(b.input==null||b.input.length===0)&&s.push(m[b.name]),m),{});let l=[];const c=[];let u={},d={};n!=null&&(u=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));const h=Object.keys(a);h.forEach(m=>{const b=a[m];b.inputNames.forEach((g,x)=>{const[y,,v]=wa(g),w=a[y];if(w.outputs!=null){const C=w.outputs.indexOf(v);if(C!==-1){const S="".concat(y,":").concat(C);b.inputNames[x]=S}}b.inputs.push(w),w.children.push(b)})}),Object.keys(d).length===0?h.forEach(m=>{const b=a[m];b.children.length===0&&c.push(b)}):Object.keys(d).forEach(m=>{const[b]=wa(m),g=a[b];g!=null&&(g.signatureKey=d[m],c.push(g))}),Object.keys(u).length>0?Object.keys(u).forEach(m=>{const[b]=wa(m),g=a[b];g&&(g.signatureKey=u[m],l.push(g))}):l=o;let p={};e.library!=null&&e.library.function!=null&&(p=e.library.function.reduce((m,b)=>(m[b.signature.name]=this.mapFunction(b),m),{}));const f={nodes:a,inputs:l,outputs:c,weights:r,placeholders:o,signature:n,functions:p};return s.length>0&&(f.initNodes=s),f}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,i)=>(n[e[i].name]=i,n),{})}mapNode(e){const n=TM(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const i={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(o=>o.startsWith("^")?o.slice(1):o),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(i.inputParams=n.inputs.reduce((o,r)=>(o[r.name]={type:r.type,inputIndexStart:r.start,inputIndexEnd:r.end},o),{})),n.attrs!=null&&(i.attrParams=n.attrs.reduce((o,r)=>{const s=r.type;let a;switch(r.type){case"string":a=DS(e.attr,r.tfName,r.defaultValue),a===void 0&&r.tfDeprecatedName&&(a=DS(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"string[]":a=MS(e.attr,r.tfName,r.defaultValue),a===void 0&&r.tfDeprecatedName&&(a=MS(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"number":a=LS(e.attr,r.tfName,r.defaultValue||0),a===void 0&&r.tfDeprecatedName&&(a=LS(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"number[]":a=BS(e.attr,r.tfName,r.defaultValue),a===void 0&&r.tfDeprecatedName&&(a=BS(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"bool":a=RS(e.attr,r.tfName,r.defaultValue),a===void 0&&r.tfDeprecatedName&&(a=RS(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"bool[]":a=US(e.attr,r.tfName,r.defaultValue),a===void 0&&r.tfDeprecatedName&&(a=US(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"shape":a=PS(e.attr,r.tfName,r.defaultValue),a===void 0&&r.tfDeprecatedName&&(a=PS(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"shape[]":a=jS(e.attr,r.tfName,r.defaultValue),a===void 0&&r.tfDeprecatedName&&(a=jS(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"dtype":a=zS(e.attr,r.tfName,r.defaultValue),a===void 0&&r.tfDeprecatedName&&(a=zS(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"dtype[]":a=FS(e.attr,r.tfName,r.defaultValue),a===void 0&&r.tfDeprecatedName&&(a=FS(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"func":a=TN(e.attr,r.tfName,r.defaultValue),a===void 0&&r.tfDeprecatedName&&(a=TN(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(r.type," for op: ").concat(e.op))}return o[r.name]={value:a,type:s},o},{})),i}mapFunction(e){const n=e.nodeDef,i=[],o=[];let r={};n!=null&&(r=n.reduce((d,h)=>(d[h.name]=this.mapNode(h),h.op==="Const"&&o.push(d[h.name]),d),{}));const s=[],a=[];e.signature.inputArg.forEach(d=>{const[h]=wa(d.name),p={name:h,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:l_(d.type),type:"dtype"}},children:[]};p.signatureKey=d.name,s.push(p),r[h]=p}),Object.keys(r).forEach(d=>{const h=r[d];h.inputNames.forEach((p,f)=>{const[m,,b]=wa(p),g=r[m];if(g.outputs!=null){const x=g.outputs.indexOf(b);if(x!==-1){const y="".concat(m,":").concat(x);h.inputNames[f]=y}}h.inputs.push(g),g.children.push(h)})});const c=e.ret;e.signature.outputArg.forEach(d=>{const[h,p]=wa(c[d.name]),f=r[h];f!=null&&(f.defaultOutput=p,a.push(f))});const u=this.mapArgsToSignature(e);return{nodes:r,inputs:s,outputs:a,weights:o,placeholders:i,signature:u}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,i)=>(n[i.name]=this.mapArgToTensorInfo(i),n),{}),outputs:e.signature.outputArg.reduce((n,i)=>(n[i.name]=this.mapArgToTensorInfo(i,e.ret),n),{})}}mapArgToTensorInfo(e,n){let i=e.name;return n!=null&&(i=n[i]),{name:i,dtype:e.type}}}function f2e(t){const e=pe().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function EM(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):f2e(t);return e?n:n.toLowerCase()}function DS(t,e,n,i=!1){const o=t[e];return o!=null?EM(o.s,i):n}function RS(t,e,n){const i=t[e];return i?i.b:n}function LS(t,e,n){const i=t[e]||{},o=i.i!=null?i.i:i.f!=null?i.f:n;return typeof o=="number"?o:parseInt(o,10)}function l_(t){switch(typeof t=="string"&&(t=Ro[t]),t){case Ro.DT_FLOAT:case Ro.DT_HALF:return"float32";case Ro.DT_INT32:case Ro.DT_INT64:case Ro.DT_INT8:case Ro.DT_UINT8:return"int32";case Ro.DT_BOOL:return"bool";case Ro.DT_DOUBLE:return"float32";case Ro.DT_STRING:return"string";case Ro.DT_COMPLEX64:case Ro.DT_COMPLEX128:return"complex64";default:return null}}function TN(t,e,n){const i=t[e];return i&&i.func?i.func.name:n}function zS(t,e,n){const i=t[e];return i&&i.type?l_(i.type):n}function FS(t,e,n){const i=t[e];return i&&i.list&&i.list.type?i.list.type.map(o=>l_(o)):n}function IM(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function PS(t,e,n){const i=t[e];return i&&i.shape?IM(i.shape):n}function BS(t,e,n){const i=t[e];return i?((i.list.f&&i.list.f.length?i.list.f:i.list.i)||[]).map(o=>typeof o=="number"?o:parseInt(o,10)):n}function MS(t,e,n,i=!1){const o=t[e];return o&&o.list&&o.list.s?o.list.s.map(r=>EM(r,i)):n}function jS(t,e,n){const i=t[e];return i&&i.list&&i.list.shape?i.list.shape.map(o=>IM(o)):n}function US(t,e,n){const i=t[e];return i&&i.list&&i.list.b?i.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class m2e{constructor(e,n,i){this.node=e,this.tensorMap=n,this.context=i,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(o=>this.getInput(o)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((o,r)=>(o[r]=this.getAttr(r),o),{}))}getInput(e){return Ei(e,this.tensorMap,this.context)}getAttr(e,n){const i=this.node.rawAttrs[e];if(i.tensor!=null)return Ei(e,this.tensorMap,this.context);if(i.i!=null||i.f!=null)return LS(this.node.rawAttrs,e,n);if(i.s!=null)return DS(this.node.rawAttrs,e,n);if(i.b!=null)return RS(this.node.rawAttrs,e,n);if(i.shape!=null)return PS(this.node.rawAttrs,e,n);if(i.type!=null)return zS(this.node.rawAttrs,e,n);if(i.list!=null){if(i.list.i!=null||i.list.f!=null)return BS(this.node.rawAttrs,e,n);if(i.list.s!=null)return MS(this.node.rawAttrs,e,n);if(i.list.shape!=null)return jS(this.node.rawAttrs,e,n);if(i.list.b!=null)return US(this.node.rawAttrs,e,n);if(i.list.type!=null)return FS(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pi=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:GL,abs:Xn,acos:uz,acosh:dz,add:Se,addN:Rhe,all:CE,any:Zx,argMax:jh,argMin:hz,asin:pz,asinh:fz,atan:mz,atan2:gz,atanh:bz,avgPool:zv,avgPool3d:xz,basicLSTMCell:ipe,batchNorm:Xg,batchNorm2d:yz,batchNorm3d:vz,batchNorm4d:wz,batchToSpaceND:Fv,bincount:kz,bitwiseAnd:hpe,booleanMaskAsync:Gge,broadcastArgs:fpe,broadcastTo:vh,buffer:xt,cast:Pe,ceil:Sz,clipByValue:Eo,clone:Ba,complex:tc,concat:Dn,concat1d:Cz,concat2d:Tz,concat3d:Ez,concat4d:Iz,conv1d:EE,conv2d:oc,conv2dTranspose:_E,conv3d:_z,conv3dTranspose:Az,cos:Pv,cosh:$E,cosineWindow:sI,cumprod:Jx,cumsum:AE,denseBincount:xS,depthToSpace:Nz,depthwiseConv2d:Yg,diag:Fpe,dilation2d:Oz,div:Ue,divNoNan:Dz,dot:Rz,dropout:aF,einsum:Hd,elu:Zg,enclosingPowerOfTwo:lF,ensureShape:qpe,equal:Is,erf:NE,euclideanNorm:Fz,exp:ao,expandDims:Ci,expm1:Pz,eye:DE,fft:Jv,fill:bp,floor:Qg,floorDiv:SE,fused:f0e,gather:e0,gatherND:n0e,greater:Qo,greaterEqual:Cc,ifft:gm,imag:Bv,image:ar,inTopKAsync:s0e,irfft:eI,isFinite:Bz,isInf:Mz,isNaN:jz,leakyRelu:Mv,less:pm,lessEqual:id,linalg:gF,linspace:yfe,localResponseNormalization:Uz,log:gr,log1p:jv,logSigmoid:Vz,logSoftmax:RE,logSumExp:Uv,logicalAnd:ia,logicalNot:Vv,logicalOr:LE,logicalXor:Hz,losses:Wbe,lowerBound:Lfe,matMul:_t,max:Yr,maxPool:Hv,maxPool3d:Wz,maxPoolWithArgmax:Bfe,maximum:tl,mean:_n,meshgrid:Ufe,min:hm,minimum:Fu,mirrorPad:Gz,mod:qz,moments:Wv,movingAverage:Xge,mul:Q,multiRNNCell:Kfe,multinomial:Yfe,neg:gn,norm:Jg,notEqual:Vh,oneHot:FE,ones:jo,onesLike:br,op:Z,outerProduct:tme,pad:Tc,pad1d:ome,pad2d:sme,pad3d:lme,pad4d:ume,pool:Kz,pow:Ga,prelu:qv,print:cz,prod:Xz,raggedGather:xme,raggedRange:vme,raggedTensorToTensor:kme,rand:Cme,randomGamma:Ume,randomNormal:WE,randomStandardNormal:Wme,randomUniform:rd,randomUniformInt:Kme,range:Hh,real:fm,reciprocal:Zz,relu:ca,relu6:GE,reshape:te,reverse:ns,reverse1d:tge,reverse2d:ige,reverse3d:rge,reverse4d:age,rfft:Qv,round:qE,rsqrt:KE,scalar:it,scatterND:Zge,searchSorted:zE,selu:XE,separableConv2d:YE,setdiff1dAsync:pge,sigmoid:Cs,sign:Jz,signal:Hbe,sin:ZE,sinh:JE,slice:at,slice1d:Xv,slice2d:QE,slice3d:Yv,slice4d:mm,softmax:Zv,softplus:xp,spaceToBatchND:Gv,sparse:Gbe,sparseToDense:e0e,spectral:Vbe,split:Uo,sqrt:Di,square:Jt,squaredDifference:tI,squeeze:Ln,stack:qo,step:yp,stridedSlice:Qz,string:qbe,sub:Ve,sum:Ke,tan:eF,tanh:zu,tensor:Ss,tensor1d:Gn,tensor2d:mu,tensor3d:tF,tensor4d:Dge,tensor5d:Rge,tensor6d:Lge,tensorScatterUpdate:Fge,tile:Gr,topk:iF,transpose:Dt,truncatedNormal:iI,unique:oF,unsortedSegmentSum:oI,unstack:is,upperBound:Vge,variable:rF,where:qi,whereAsync:sF,zeros:Yn,zerosLike:Rt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g2e=(t,e,n,i=Pi)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[i.add($("a",t,e,n),$("b",t,e,n))];case"AddN":return[i.addN($("tensors",t,e,n))];case"FloorMod":case"Mod":return[i.mod($("a",t,e,n),$("b",t,e,n))];case"Mul":return[i.mul($("a",t,e,n),$("b",t,e,n))];case"RealDiv":case"Div":return[i.div($("a",t,e,n),$("b",t,e,n))];case"DivNoNan":return[i.divNoNan($("a",t,e,n),$("b",t,e,n))];case"FloorDiv":return[i.floorDiv($("a",t,e,n),$("b",t,e,n))];case"Sub":return[i.sub($("a",t,e,n),$("b",t,e,n))];case"Minimum":return[i.minimum($("a",t,e,n),$("b",t,e,n))];case"Maximum":return[i.maximum($("a",t,e,n),$("b",t,e,n))];case"Pow":return[i.pow($("a",t,e,n),$("b",t,e,n))];case"SquaredDifference":return[i.squaredDifference($("a",t,e,n),$("b",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b2e=(t,e,n,i=Pi)=>{switch(t.op){case"Abs":case"ComplexAbs":return[i.abs($("x",t,e,n))];case"Acos":return[i.acos($("x",t,e,n))];case"Acosh":return[i.acosh($("x",t,e,n))];case"Asin":return[i.asin($("x",t,e,n))];case"Asinh":return[i.asinh($("x",t,e,n))];case"Atan":return[i.atan($("x",t,e,n))];case"Atan2":return[i.atan2($("x",t,e,n),$("y",t,e,n))];case"Atanh":return[i.atanh($("x",t,e,n))];case"Ceil":return[i.ceil($("x",t,e,n))];case"Complex":return[i.complex($("real",t,e,n),$("imag",t,e,n))];case"Cos":return[i.cos($("x",t,e,n))];case"Cosh":return[i.cosh($("x",t,e,n))];case"Elu":return[i.elu($("x",t,e,n))];case"Erf":return[i.erf($("x",t,e,n))];case"Exp":return[i.exp($("x",t,e,n))];case"Expm1":return[i.expm1($("x",t,e,n))];case"Floor":return[i.floor($("x",t,e,n))];case"Log":return[i.log($("x",t,e,n))];case"Log1p":return[i.log1p($("x",t,e,n))];case"Imag":return[i.imag($("x",t,e,n))];case"Neg":return[i.neg($("x",t,e,n))];case"Reciprocal":return[i.reciprocal($("x",t,e,n))];case"Real":return[i.real($("x",t,e,n))];case"Relu":return[i.relu($("x",t,e,n))];case"Round":return[i.round($("x",t,e,n))];case"Selu":return[i.selu($("x",t,e,n))];case"Sigmoid":return[i.sigmoid($("x",t,e,n))];case"Sin":return[i.sin($("x",t,e,n))];case"Sign":return[i.sign($("x",t,e,n))];case"Sinh":return[i.sinh($("x",t,e,n))];case"Softplus":return[i.softplus($("x",t,e,n))];case"Sqrt":return[i.sqrt($("x",t,e,n))];case"Square":return[i.square($("x",t,e,n))];case"Tanh":return[i.tanh($("x",t,e,n))];case"Tan":return[i.tan($("x",t,e,n))];case"ClipByValue":return[i.clipByValue($("x",t,e,n),$("clipValueMin",t,e,n),$("clipValueMax",t,e,n))];case"Relu6":return[i.relu6($("x",t,e,n))];case"Rsqrt":return[i.rsqrt(Ei(t.inputNames[0],e,n))];case"LeakyRelu":return[i.leakyRelu($("x",t,e,n),$("alpha",t,e,n))];case"Prelu":return[i.prelu($("x",t,e,n),$("alpha",t,e,n))];case"IsNan":return[i.isNaN(Ei(t.inputNames[0],e,n))];case"IsInf":return[i.isInf(Ei(t.inputNames[0],e,n))];case"IsFinite":return[i.isFinite(Ei(t.inputNames[0],e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dr(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){M(t.length===e.length,()=>n+" Shapes ".concat(t," and ").concat(e," must match"));for(let i=0;i<t.length;i++){const o=t[i],r=e[i];M(o<0||r<0||o===r,()=>n+" Shapes ".concat(t," and ").concat(e," must match"))}}}function EN(t){return!(typeof t=="number"||t.some(e=>e<0))}function ef(t,e,n){let i=VS(t,n);const o=!EN(i);if(o&&e.length===0)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(i));if(o&&e.forEach(r=>{i=VS(r.shape,i)}),!EN(i))throw new Error("Non-fully-defined elementShape: ".concat(i));return i}function VS(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error("Incompatible ranks during merge: ".concat(t," vs. ").concat(e));const n=[];for(let i=0;i<t.length;++i){const o=t[i],r=e[i];if(o>=0&&r>=0&&o!==r)throw new Error("Incompatible shape during merge: ".concat(t," vs. ").concat(e));n[i]=o>=0?o:r}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class x2e{constructor(e,n,i,o,r,s,a){this.name=e,this.dtype=n,this.maxSize=i,this.elementShape=o,this.identicalElementShapes=r,this.dynamicSize=s,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=it(0),hi(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));const n=this.tensors[e];if(n.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));const i=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(n.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),Dr(this.elementShape,n.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),i.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(i.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));i.tensor=n,hi(n),i.written=!0,this.tensors[e]=i}writeMany(e,n){if(e.length!==n.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(n.length,"."));e.forEach((i,o)=>this.write(i,n[o]))}gather(e,n){if(n&&n!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(n));if(e)e=e.slice(0,this.size());else{e=[];for(let o=0;o<this.size();o++)e.push(o)}if(e.length===0)return Ss([],[0].concat(this.elementShape));const i=this.readMany(e);return Dr(this.elementShape,i[0].shape,"TensorArray shape mismatch: "),qo(i,0)}concat(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(this.size()===0)return Ss([],[0].concat(this.elementShape));const n=[];for(let o=0;o<this.size();o++)n.push(o);const i=this.readMany(n);return Dr(this.elementShape,i[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(i[0].shape,")")),Dn(i,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(n.dtype));if(e.length!==n.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(n.shape[0]));const i=Math.max(...e);if(!this.dynamicSize&&i>=this.maxSize)throw new Error("Max index must be < array size (".concat(i,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,is(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(n.dtype));let i=0;const o=e.map(l=>(i+=l,i));if(i!==n.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(i,", and tensor's shape is: ").concat(n.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");const r=i===0?0:n.size/i,s=[];ce(()=>{n=te(n,[1,i,r]);for(let l=0;l<e.length;++l){const u=[0,l===0?0:o[l-1],0],d=[1,e[l],r];s[l]=te(at(n,u,d),this.elementShape)}return s});const a=[];for(let l=0;l<e.length;l++)a[l]=l;this.writeMany(a,s)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Mu{get id(){return this.idTensor.id}constructor(e,n,i,o=-1){this.tensors=e,this.elementShape=n,this.elementDtype=i,e!=null&&e.forEach(r=>{if(i!==r.dtype)throw new Error("Invalid data types; op elements ".concat(i,", but list elements ").concat(r.dtype));Dr(n,r.shape,"TensorList shape mismatch: "),hi(r)}),this.idTensor=it(0),this.maxNumElements=o,hi(this.idTensor)}copy(){return new Mu([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,i=-1){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(i!==-1&&this.tensors.length!==i)throw new Error("Operation expected a list with ".concat(i," elements but got a list with ").concat(this.tensors.length," elements."));Dr(e,this.elementShape,"TensorList shape mismatch: ");const o=ef(this.elementShape,this.tensors,e);return ce(()=>{const r=this.tensors.map(s=>te(s,o));return qo(r,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(this.size()===0)throw new Error("Trying to pop from an empty list.");const i=ef(this.elementShape,this.tensors,e),o=this.tensors.pop();return o.kept=!1,Dr(o.shape,e,"TensorList shape mismatch: "),te(o,i)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(Dr(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");hi(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(e));if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error("TensorListResize input size ".concat(e," is greater maxNumElement ").concat(this.maxNumElements,"."));const n=new Mu([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let i=0;i<Math.min(this.tensors.length,e);++i)n.tensors[i]=this.tensors[i];return n}getItem(e,n,i){if(i!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(i,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(this.tensors[e]==null)throw new Error("element at index ".concat(e," is null."));Dr(this.tensors[e].shape,n,"TensorList shape mismatch: ");const o=ef(this.elementShape,this.tensors,n);return te(this.tensors[e],o)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n.dtype,", but list elements ").concat(this.elementDtype));if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));Dr(this.elementShape,n.shape,"TensorList shape mismatch: "),hi(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,i){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));Dr(this.elementShape,i,"TensorList shape mismatch: "),e=e.slice(0,this.size());const o=ef(this.elementShape,this.tensors,i);return e.length===0?Ss([],[0].concat(o)):ce(()=>{const r=e.map(s=>te(this.tensors[s],o));return qo(r,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));Dr(this.elementShape,n,"TensorList shape mismatch: ");const i=ef(this.elementShape,this.tensors,n);return this.size()===0?Ss([],[0].concat(i)):ce(()=>{const o=this.tensors.map(r=>te(r,i));return Dn(o,0)})}}function y2e(t,e,n){const i=t.dtype;if(t.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(t.shape));if(t.dtype!==n)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(n));const o=t.shape.slice(1);Dr(o,e,"TensorList shape mismatch: ");const r=is(t);return new Mu(r,e,i)}function v2e(t,e,n,i){return new Mu([],t,e,i)}function w2e(t,e,n,i){if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));const o=Math.max(...e);if(i!=null&&i!==-1&&o>=i)throw new Error("Max index must be < array size (".concat(o,"  vs. ").concat(i,")"));const r=new Mu([],n,t.dtype,i),s=is(t,0);return e.forEach((a,l)=>{r.setItem(a,s[l])}),r}function k2e(t,e,n){let i=0;const o=e.map(u=>(i+=u,i));if(i!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(i,", and tensor's shape is: ").concat(t.shape));const r=t.shape.slice(1),s=VS(r,n),a=i===0?0:t.size/i,l=ce(()=>{const u=[];t=te(t,[1,i,a]);for(let d=0;d<e.length;++d){const p=[0,d===0?0:o[d-1],0],f=[1,e[d],a];u[d]=te(at(t,p,f),s)}return t.dispose(),u}),c=new Mu([],n,t.dtype,e.length);for(let u=0;u<l.length;u++)c.setItem(u,l[u]);return c}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S2e=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const i=$("thenBranch",t,e,n),o=$("elseBranch",t,e,n),r=$("cond",t,e,n),s=$("args",t,e,n);return(await r.data())[0]?n.functionMap[i].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap):n.functionMap[o].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const i=$("body",t,e,n),o=$("cond",t,e,n),r=$("args",t,e,n),s=await n.functionMap[o].executeFunctionAsync(r,n.tensorArrayMap,n.tensorListMap),a=r.map(u=>u.id);let l=await s[0].data();s.forEach(u=>{!u.kept&&a.indexOf(u.id)===-1&&u.dispose()});let c=r;for(;l[0];){const u=c;c=await n.functionMap[i].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const d=c.map(p=>p.id);u.forEach(p=>{!p.kept&&a.indexOf(p.id)===-1&&d.indexOf(p.id)===-1&&p.dispose()});const h=await n.functionMap[o].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await h[0].data(),h.forEach(p=>{!p.kept&&a.indexOf(p.id)===-1&&d.indexOf(p.id)===-1&&p.dispose()})}return c}case"LoopCond":{const i=$("pred",t,e,n);return[ka(i)]}case"Switch":{const i=$("pred",t,e,n);let o=$("data",t,e,n);return o.kept||(o=ka(o)),(await i.data())[0]?[void 0,o]:[o,void 0]}case"Merge":{const i=t.inputNames.find(o=>Ei(o,e,n)!==void 0);if(i){const o=Ei(i,e,n);return[ka(o)]}return}case"Enter":{const i=$("frameName",t,e,n),o=$("tensor",t,e,n);return n.enterFrame(i),[ka(o)]}case"Exit":{const i=$("tensor",t,e,n);return n.exitFrame(),[ka(i)]}case"NextIteration":{const i=$("tensor",t,e,n);return n.nextIteration(),[ka(i)]}case"TensorArrayV3":{const i=$("size",t,e,n),o=$("dtype",t,e,n),r=$("elementShape",t,e,n),s=$("dynamicSize",t,e,n),a=$("clearAfterRead",t,e,n),l=$("identicalElementShapes",t,e,n),c=$("name",t,e,n),u=new x2e(c,o,i,r,l,s,a);return n.addTensorArray(u),[u.idTensor,it(1)]}case"TensorArrayWriteV3":{const i=$("tensorArrayId",t,e,n),o=$("index",t,e,n),r=$("tensor",t,e,n),s=n.getTensorArray(i.id);return s.write(o,r),[s.idTensor]}case"TensorArrayReadV3":{const i=$("tensorArrayId",t,e,n),o=$("index",t,e,n);return[n.getTensorArray(i.id).read(o)]}case"TensorArrayGatherV3":{const i=$("tensorArrayId",t,e,n),o=$("indices",t,e,n),r=$("dtype",t,e,n);return[n.getTensorArray(i.id).gather(o,r)]}case"TensorArrayScatterV3":{const i=$("tensorArrayId",t,e,n),o=$("indices",t,e,n),r=$("tensor",t,e,n),s=n.getTensorArray(i.id);return s.scatter(o,r),[s.idTensor]}case"TensorArrayConcatV3":{const i=$("tensorArrayId",t,e,n),o=n.getTensorArray(i.id),r=$("dtype",t,e,n);return[o.concat(r)]}case"TensorArraySplitV3":{const i=$("tensorArrayId",t,e,n),o=$("tensor",t,e,n),r=$("lengths",t,e,n),s=n.getTensorArray(i.id);return s.split(r,o),[s.idTensor]}case"TensorArraySizeV3":{const i=$("tensorArrayId",t,e,n),o=n.getTensorArray(i.id);return[it(o.size(),"int32")]}case"TensorArrayCloseV3":{const i=$("tensorArrayId",t,e,n),o=n.getTensorArray(i.id);return o.clearAndClose(),[o.idTensor]}case"TensorListSetItem":{const i=$("tensorListId",t,e,n),o=$("index",t,e,n),r=$("tensor",t,e,n),s=n.getTensorList(i.id);return s.setItem(o,r),[s.idTensor]}case"TensorListGetItem":{const i=$("tensorListId",t,e,n),o=$("index",t,e,n),r=$("elementShape",t,e,n),s=$("elementDType",t,e,n);return[n.getTensorList(i.id).getItem(o,r,s)]}case"TensorListScatterV2":case"TensorListScatter":{const i=$("indices",t,e,n),o=$("tensor",t,e,n),r=$("elementShape",t,e,n),s=$("numElements",t,e,n),a=w2e(o,i,r,s);return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const i=$("elementShape",t,e,n),o=$("elementDType",t,e,n);let r;t.op==="TensorListReserve"?r="numElements":r="maxNumElements";const s=$(r,t,e,n),a=t.op==="TensorListReserve"?-1:s,l=v2e(i,o,s,a);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const i=$("tensorListId",t,e,n),o=$("indices",t,e,n),r=$("elementShape",t,e,n),s=$("elementDType",t,e,n);return[n.getTensorList(i.id).gather(o,s,r)]}case"TensorListStack":{const i=$("tensorListId",t,e,n),o=$("elementShape",t,e,n),r=$("elementDType",t,e,n),s=$("numElements",t,e,n);return[n.getTensorList(i.id).stack(o,r,s)]}case"TensorListFromTensor":{const i=$("tensor",t,e,n),o=$("elementShape",t,e,n),r=$("elementDType",t,e,n),s=y2e(i,o,r);return n.addTensorList(s),[s.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const i=$("tensorListId",t,e,n),o=n.getTensorList(i.id),r=$("dtype",t,e,n),s=$("elementShape",t,e,n);return[o.concat(r,s)]}case"TensorListPushBack":{const i=$("tensorListId",t,e,n),o=$("tensor",t,e,n),r=n.getTensorList(i.id);return r.pushBack(o),[r.idTensor]}case"TensorListPopBack":{const i=$("tensorListId",t,e,n),o=$("elementShape",t,e,n),r=$("elementDType",t,e,n);return[n.getTensorList(i.id).popBack(o,r)]}case"TensorListSplit":{const i=$("tensor",t,e,n),o=$("elementShape",t,e,n),r=$("lengths",t,e,n),s=k2e(i,r,o);return n.addTensorList(s),[s.idTensor]}case"TensorListLength":{const i=$("tensorListId",t,e,n),o=n.getTensorList(i.id);return[it(o.size(),"int32")]}case"TensorListResize":{const i=$("tensorListId",t,e,n),o=$("size",t,e,n),s=n.getTensorList(i.id).resize(o);return n.addTensorList(s),[s.idTensor]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IN(t,e,n){const[i,o]=$("fusedOps",t,e,n),r=i==="biasadd",s=!r,a=o==="prelu",l=i==="fusedbatchnorm",c=$("numArgs",t,e,n);if(r){if(a&&c!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&r&&c!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=$("strides",t,e,n),d=Vb(t,e,n),h=$("dataFormat",t,e,n).toUpperCase(),p=$("dilations",t,e,n);let[f,m]=$("args",t,e,n);s&&(m=f,f=void 0);const b=$("leakyreluAlpha",t,e,n);return{stride:u,pad:d,dataFormat:h,dilations:p,biasArg:f,preluArg:m,activationFunc:o,leakyreluAlpha:b}}const C2e=(t,e,n,i=Pi)=>{switch(t.op){case"Conv1D":{const o=$("stride",t,e,n),r=$("pad",t,e,n),s=$("dataFormat",t,e,n).toUpperCase(),a=$("dilation",t,e,n);return[i.conv1d($("x",t,e,n),$("filter",t,e,n),o,r,s,a)]}case"Conv2D":{const o=$("strides",t,e,n),r=Vb(t,e,n),s=$("dataFormat",t,e,n).toUpperCase(),a=$("dilations",t,e,n);return[i.conv2d($("x",t,e,n),$("filter",t,e,n),[o[1],o[2]],r,s,[a[1],a[2]])]}case"_FusedConv2D":{const{stride:o,pad:r,dataFormat:s,dilations:a,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=IN(t,e,n);return[i.fused.conv2d({x:$("x",t,e,n),filter:$("filter",t,e,n),strides:[o[1],o[2]],pad:r,dataFormat:s,dilations:[a[1],a[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:o,pad:r,dataFormat:s,dilations:a,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=IN(t,e,n);return[i.fused.depthwiseConv2d({x:$("x",t,e,n),filter:$("filter",t,e,n),strides:[o[1],o[2]],pad:r,dataFormat:s,dilations:[a[1],a[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const o=$("outputShape",t,e,n),r=$("strides",t,e,n),s=Vb(t,e,n);return[i.conv2dTranspose($("x",t,e,n),$("filter",t,e,n),o,[r[1],r[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const o=$("strides",t,e,n),r=Vb(t,e,n),s=$("dilations",t,e,n),a=$("dataFormat",t,e,n).toUpperCase();return[i.depthwiseConv2d($("input",t,e,n),$("filter",t,e,n),[o[1],o[2]],r,a,[s[1],s[2]])]}case"Conv3D":{const o=$("strides",t,e,n),r=$("pad",t,e,n),s=$("dataFormat",t,e,n).toUpperCase(),a=$("dilations",t,e,n);return[i.conv3d($("x",t,e,n),$("filter",t,e,n),[o[1],o[2],o[3]],r,s,[a[1],a[2],a[3]])]}case"AvgPool":{const o=$("strides",t,e,n),r=$("pad",t,e,n),s=$("kernelSize",t,e,n);return[i.avgPool($("x",t,e,n),[s[1],s[2]],[o[1],o[2]],r)]}case"MaxPool":{const o=$("strides",t,e,n),r=$("pad",t,e,n),s=$("kernelSize",t,e,n);return[i.maxPool($("x",t,e,n),[s[1],s[2]],[o[1],o[2]],r)]}case"MaxPoolWithArgmax":{const o=$("strides",t,e,n),r=$("pad",t,e,n),s=$("kernelSize",t,e,n),a=$("includeBatchInIndex",t,e,n),{result:l,indexes:c}=i.maxPoolWithArgmax($("x",t,e,n),[s[1],s[2]],[o[1],o[2]],r,a);return[l,c]}case"AvgPool3D":{const o=$("strides",t,e,n),r=$("pad",t,e,n),s=$("kernelSize",t,e,n);return[i.avgPool3d($("x",t,e,n),[s[1],s[2],s[3]],[o[1],o[2],o[3]],r)]}case"MaxPool3D":{const o=$("strides",t,e,n),r=$("pad",t,e,n),s=$("kernelSize",t,e,n);return[i.maxPool3d($("x",t,e,n),[s[1],s[2],s[3]],[o[1],o[2],o[3]],r)]}case"Dilation2D":{const o=$("strides",t,e,n),r=$("pad",t,e,n),s=$("dilations",t,e,n),a=o[1],l=o[2],c=s[1],u=s[2];return[i.dilation2d($("x",t,e,n),$("filter",t,e,n),[a,l],r,[c,u],"NHWC")]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T2e=(t,e,n,i=Pi)=>{switch(t.op){case"Fill":{const o=$("shape",t,e,n),r=$("dtype",t,e,n),s=$("value",t,e,n);return[i.fill(o,s,r)]}case"LinSpace":{const o=$("start",t,e,n),r=$("stop",t,e,n),s=$("num",t,e,n);return[i.linspace(o,r,s)]}case"Multinomial":{const o=$("logits",t,e,n),r=$("numSamples",t,e,n),s=$("seed",t,e,n);return[i.multinomial(o,r,s)]}case"OneHot":{const o=$("indices",t,e,n),r=$("depth",t,e,n),s=$("onValue",t,e,n),a=$("offValue",t,e,n),l=$("dtype",t,e,n);return[i.oneHot(o,r,s,a,l)]}case"Ones":return[i.ones($("shape",t,e,n),$("dtype",t,e,n))];case"OnesLike":return[i.onesLike($("x",t,e,n))];case"RandomStandardNormal":return[i.randomStandardNormal($("shape",t,e,n),$("dtype",t,e,n),$("seed",t,e,n))];case"RandomUniform":return[i.randomUniform($("shape",t,e,n),$("minval",t,e,n),$("maxval",t,e,n),$("dtype",t,e,n))];case"RandomUniformInt":return[i.randomUniformInt($("shape",t,e,n),$("minval",t,e,n),$("maxval",t,e,n),$("seed",t,e,n))];case"Range":{const o=$("start",t,e,n),r=$("stop",t,e,n),s=$("step",t,e,n);return[i.range(o,r,s,$("dtype",t,e,n))]}case"TruncatedNormal":{const o=$("shape",t,e,n),r=$("mean",t,e,n),s=$("stdDev",t,e,n),a=$("seed",t,e,n);return[i.truncatedNormal(o,r,s,$("dtype",t,e,n),a)]}case"Zeros":return[i.zeros($("shape",t,e,n),$("dtype",t,e,n))];case"ZerosLike":return[i.zerosLike($("x",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ak(t,e,n){const i=$("boxes",t,e,n),o=$("scores",t,e,n),r=$("maxOutputSize",t,e,n),s=$("iouThreshold",t,e,n),a=$("scoreThreshold",t,e,n),l=$("softNmsSigma",t,e,n);return{boxes:i,scores:o,maxOutputSize:r,iouThreshold:s,scoreThreshold:a,softNmsSigma:l}}const E2e=async(t,e,n,i,o=Pi)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:s,maxOutputSize:a,iouThreshold:l,scoreThreshold:c,softNmsSigma:u}=ak(t,e,n),d=await o.image.nonMaxSuppressionWithScoreAsync(r,s,a,l,c,u);return[d.selectedIndices,d.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:s,maxOutputSize:a,iouThreshold:l,scoreThreshold:c}=ak(t,e,n),u=$("padToMaxOutputSize",t,e,n),d=await o.image.nonMaxSuppressionPaddedAsync(r,s,a,l,c,u);return[d.selectedIndices,d.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:s,maxOutputSize:a,iouThreshold:l,scoreThreshold:c}=ak(t,e,n);return[await o.image.nonMaxSuppressionAsync(r,s,a,l,c)]}case"Where":{const r=o.cast($("condition",t,e,n),"bool"),s=[await o.whereAsync(r)];return r.dispose(),s}case"ListDiff":return o.setdiff1dAsync($("x",t,e,n),$("y",t,e,n));default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I2e=(t,e,n,i=Pi)=>{switch(t.op){case"LowerBound":{const o=$("sortedSequence",t,e,n),r=$("values",t,e,n);return[i.lowerBound(o,r)]}case"TopKV2":{const o=$("x",t,e,n),r=$("k",t,e,n),s=$("sorted",t,e,n),a=i.topk(o,r,s);return[a.values,a.indices]}case"UpperBound":{const o=$("sortedSequence",t,e,n),r=$("values",t,e,n);return[i.upperBound(o,r)]}case"Unique":{const o=$("x",t,e,n),r=i.unique(o);return[r.values,r.indices]}case"UniqueV2":{const o=$("x",t,e,n),r=$("axis",t,e,n),s=i.unique(o,r);return[s.values,s.indices]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _2e=(t,e,n,i=Pi)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const o=$("default",t,e,n);return[Ei(t.name,e,n)||o];case"Placeholder":return[Ei(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const u=$("x",t,e,n);return[ka(u)]}case"IdentityN":return $("x",t,e,n).map(u=>ka(u));case"Snapshot":const r=$("x",t,e,n);return[ka(r)];case"Shape":return[i.tensor1d($("x",t,e,n).shape,"int32")];case"ShapeN":return $("x",t,e,n).map(u=>i.tensor1d(u.shape));case"Size":return[i.scalar($("x",t,e,n).size,"int32")];case"Rank":return[i.scalar($("x",t,e,n).rank,"int32")];case"NoOp":return[i.scalar(1)];case"Print":const s=$("x",t,e,n),a=$("data",t,e,n),l=$("message",t,e,n),c=$("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let u=0;u<a.length;u++)console.log(Array.prototype.slice.call(a[u].dataSync()).slice(0,c));return[s];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $2e{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=it(0),this.tensorMap=new Map,hi(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return it(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const i=await e.data();return this.tensorMap.forEach(o=>o.dispose()),this.tensorMap.clear(),ce(()=>{const o=is(n),r=i.length,s=o.length;M(r===s,()=>"The number of elements doesn't match, keys has "+"".concat(r," elements, the values has ").concat(s," ")+"elements.");for(let a=0;a<r;a++){const l=i[a],c=o[a];hi(c),this.tensorMap.set(l,c)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const i=await e.data();return ce(()=>{const o=[];for(let r=0;r<i.length;r++){const s=i[r],a=this.findWithDefault(s,n);o.push(a)}return qo(o)})}findWithDefault(e,n){const i=this.tensorMap.get(e);return i!=null?i:n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(n.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(n.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A2e=async(t,e,n,i)=>{switch(t.op){case"HashTable":case"HashTableV2":{const o=i.getHashTableHandleByName(t.name);if(o!=null)return[o];{const r=$("keyDType",t,e,n),s=$("valueDType",t,e,n),a=new $2e(r,s);return i.addHashTable(t.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const o=$("tableHandle",t,e,n,i),r=$("keys",t,e,n),s=$("values",t,e,n);return[await i.getHashTableById(o.id).import(r,s)]}case"LookupTableFind":case"LookupTableFindV2":{const o=$("tableHandle",t,e,n,i),r=$("keys",t,e,n),s=$("defaultValue",t,e,n);return[await i.getHashTableById(o.id).find(r,s)]}case"LookupTableSize":case"LookupTableSizeV2":{const o=$("tableHandle",t,e,n,i);return[i.getHashTableById(o.id).tensorSize()]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N2e=(t,e,n,i=Pi)=>{switch(t.op){case"ResizeBilinear":{const o=$("images",t,e,n),r=$("size",t,e,n),s=$("alignCorners",t,e,n),a=$("halfPixelCenters",t,e,n);return[i.image.resizeBilinear(o,[r[0],r[1]],s,a)]}case"ResizeNearestNeighbor":{const o=$("images",t,e,n),r=$("size",t,e,n),s=$("alignCorners",t,e,n),a=$("halfPixelCenters",t,e,n);return[i.image.resizeNearestNeighbor(o,[r[0],r[1]],s,a)]}case"CropAndResize":{const o=$("image",t,e,n),r=$("boxes",t,e,n),s=$("boxInd",t,e,n),a=$("cropSize",t,e,n),l=$("method",t,e,n),c=$("extrapolationValue",t,e,n);return[i.image.cropAndResize(o,r,s,a,l,c)]}case"ImageProjectiveTransformV3":{const o=$("images",t,e,n),r=$("transforms",t,e,n),s=$("outputShape",t,e,n),a=$("fillValue",t,e,n),l=$("interpolation",t,e,n),c=$("fillMode",t,e,n);return[i.image.transform(o,r,l.toLowerCase(),c.toLowerCase(),a,s)]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O2e=(t,e,n,i=Pi)=>{switch(t.op){case"Equal":return[i.equal($("a",t,e,n),$("b",t,e,n))];case"NotEqual":return[i.notEqual($("a",t,e,n),$("b",t,e,n))];case"Greater":return[i.greater($("a",t,e,n),$("b",t,e,n))];case"GreaterEqual":return[i.greaterEqual($("a",t,e,n),$("b",t,e,n))];case"Less":return[i.less($("a",t,e,n),$("b",t,e,n))];case"LessEqual":return[i.lessEqual($("a",t,e,n),$("b",t,e,n))];case"LogicalAnd":return[i.logicalAnd($("a",t,e,n),$("b",t,e,n))];case"LogicalNot":return[i.logicalNot($("a",t,e,n))];case"LogicalOr":return[i.logicalOr($("a",t,e,n),$("b",t,e,n))];case"Select":case"SelectV2":return[i.where($("condition",t,e,n),$("a",t,e,n),$("b",t,e,n))];case"BitwiseAnd":return[i.bitwiseAnd($("a",t,e,n),$("b",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D2e=(t,e,n,i=Pi)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[i.matMul($("a",t,e,n),$("b",t,e,n),$("transposeA",t,e,n),$("transposeB",t,e,n))];case"Einsum":return[i.einsum($("equation",t,e,n),...$("tensors",t,e,n))];case"Transpose":return[i.transpose($("x",t,e,n),$("perm",t,e,n))];case"_FusedMatMul":const[o,r]=$("fusedOps",t,e,n),s=o==="biasadd",a=r==="prelu",l=$("numArgs",t,e,n),c=$("leakyreluAlpha",t,e,n);if(s){if(a&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,d]=$("args",t,e,n);return[i.fused.matMul({a:$("a",t,e,n),b:$("b",t,e,n),transposeA:$("transposeA",t,e,n),transposeB:$("transposeB",t,e,n),bias:u,activation:r,preluActivationWeights:d,leakyreluAlpha:c})];case"MatrixBandPart":return[i.linalg.bandPart($("a",t,e,n),$("numLower",t,e,n),$("numUpper",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R2e=(t,e,n,i=Pi)=>{switch(t.op){case"EuclideanNorm":return[i.euclideanNorm($("x",t,e,n),$("axis",t,e,n),$("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[i.batchNorm($("x",t,e,n),$("mean",t,e,n),$("variance",t,e,n),$("offset",t,e,n),$("scale",t,e,n),$("epsilon",t,e,n))];case"FusedBatchNormV3":return[i.batchNorm($("x",t,e,n),$("mean",t,e,n),$("variance",t,e,n),$("offset",t,e,n),$("scale",t,e,n),$("epsilon",t,e,n))];case"LRN":return[i.localResponseNormalization($("x",t,e,n),$("radius",t,e,n),$("bias",t,e,n),$("alpha",t,e,n),$("beta",t,e,n))];case"Softmax":return[i.softmax($("x",t,e,n))];case"LogSoftmax":return[i.logSoftmax($("x",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L2e=(t,e,n,i=Pi)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:o,outputDenseValues:r}=i.raggedGather($("paramsNestedSplits",t,e,n),$("paramsDenseValues",t,e,n),$("indices",t,e,n),$("outputRaggedRank",t,e,n));return o.concat(r)}case"RaggedRange":{const{rtNestedSplits:o,rtDenseValues:r}=i.raggedRange($("starts",t,e,n),$("limits",t,e,n),$("splits",t,e,n));return[o,r]}case"RaggedTensorToTensor":return[i.raggedTensorToTensor($("shape",t,e,n),$("values",t,e,n),$("defaultValue",t,e,n),$("rowPartitionTensors",t,e,n),$("rowPartitionTypes",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z2e=(t,e,n,i=Pi)=>{switch(t.op){case"Max":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.max($("x",t,e,n),a,l)]}case"Mean":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.mean($("x",t,e,n),a,l)]}case"Min":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.min($("x",t,e,n),a,l)]}case"Sum":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.sum($("x",t,e,n),a,l)]}case"All":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.all($("x",t,e,n),a,l)]}case"Any":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.any($("x",t,e,n),a,l)]}case"ArgMax":{const a=$("axis",t,e,n);return[i.argMax($("x",t,e,n),a)]}case"ArgMin":{const a=$("axis",t,e,n);return[i.argMin($("x",t,e,n),a)]}case"Prod":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.prod($("x",t,e,n),a,l)]}case"Cumprod":{const a=$("axis",t,e,n),l=$("exclusive",t,e,n),c=$("reverse",t,e,n);return[i.cumprod($("x",t,e,n),a,l,c)]}case"Cumsum":{const a=$("axis",t,e,n),l=$("exclusive",t,e,n),c=$("reverse",t,e,n);return[i.cumsum($("x",t,e,n),a,l,c)]}case"Bincount":const o=$("x",t,e,n),r=$("weights",t,e,n),s=$("size",t,e,n);return[i.bincount(o,r,s)];case"DenseBincount":{const a=$("x",t,e,n),l=$("weights",t,e,n),c=$("size",t,e,n),u=$("binaryOutput",t,e,n);return[i.denseBincount(a,l,c,u)]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F2e=(t,e,n,i=Pi)=>{switch(t.op){case"ConcatV2":case"Concat":{const o=$("n",t,e,n),r=$("axis",t,e,n);let s=$("tensors",t,e,n);return s=s.slice(0,o),[i.concat(s,r)]}case"Gather":{const o=$("x",t,e,n),r=$("indices",t,e,n);return[i.gather(o,i.cast(r,"int32"),0)]}case"GatherV2":{const o=$("axis",t,e,n),r=$("batchDims",t,e,n),s=$("x",t,e,n),a=$("indices",t,e,n);return[i.gather(s,i.cast(a,"int32"),o,r)]}case"Reverse":{const o=$("dims",t,e,n),r=[];for(let a=0;a<o.length;a++)o[a]&&r.push(a);const s=$("x",t,e,n);return[i.reverse(s,r)]}case"ReverseV2":{const o=$("axis",t,e,n),r=$("x",t,e,n);return[i.reverse(r,o)]}case"Slice":{const o=$("begin",t,e,n),r=$("size",t,e,n);return[i.slice($("x",t,e,n),o,r)]}case"StridedSlice":{const o=$("begin",t,e,n),r=$("end",t,e,n),s=$("strides",t,e,n),a=$("beginMask",t,e,n),l=$("endMask",t,e,n),c=$("ellipsisMask",t,e,n),u=$("newAxisMask",t,e,n),d=$("shrinkAxisMask",t,e,n),h=$("x",t,e,n);return[i.stridedSlice(h,o,r,s,a,l,c,u,d)]}case"Pack":return ce(()=>{const o=$("axis",t,e,n),r=$("tensors",t,e,n),s=r[0].shape,a=i.squeeze(r[0]).shape,l=r.map(c=>{const u=Nt(c.shape,s);if(!u&&!Nt(i.squeeze(c).shape,a))throw new Error("the input tensors shape does not match");return u?c:i.reshape(c,s)});return[i.stack(l,o)]});case"Unpack":{const o=$("axis",t,e,n),r=$("tensor",t,e,n);return i.unstack(r,o)}case"Tile":{const o=$("reps",t,e,n);return[i.tile($("x",t,e,n),o)]}case"Split":case"SplitV":{const o=$("axis",t,e,n),r=$("numOrSizeSplits",t,e,n),s=$("x",t,e,n);return i.split(s,r,o)}case"ScatterNd":{const o=$("indices",t,e,n),r=$("values",t,e,n),s=$("shape",t,e,n);return[i.scatterND(o,r,s)]}case"GatherNd":{const o=$("x",t,e,n),r=$("indices",t,e,n);return[i.gatherND(o,r)]}case"SparseToDense":{const o=$("sparseIndices",t,e,n),r=$("outputShape",t,e,n),s=$("sparseValues",t,e,n),a=$("defaultValue",t,e,n);return[i.sparseToDense(o,s,r,s.dtype===a.dtype?a:i.cast(a,s.dtype))]}case"TensorScatterUpdate":{const o=$("indices",t,e,n),r=$("values",t,e,n),s=$("tensor",t,e,n);return[i.tensorScatterUpdate(s,o,r)]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P2e=(t,e,n,i=Pi)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:o,outputValues:r,emptyRowIndicator:s,reverseIndexMap:a}=i.sparse.sparseFillEmptyRows($("indices",t,e,n),$("values",t,e,n),$("denseShape",t,e,n),$("defaultValue",t,e,n));return[o,r,s,a]}case"SparseReshape":{const{outputIndices:o,outputShape:r}=i.sparse.sparseReshape($("inputIndices",t,e,n),$("inputShape",t,e,n),$("newShape",t,e,n));return[o,r]}case"SparseSegmentMean":return[i.sparse.sparseSegmentMean($("data",t,e,n),$("indices",t,e,n),$("segmentIds",t,e,n))];case"SparseSegmentSum":return[i.sparse.sparseSegmentSum($("data",t,e,n),$("indices",t,e,n),$("segmentIds",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B2e=(t,e,n,i=Pi)=>{switch(t.op){case"FFT":return[i.fft($("x",t,e,n))];case"IFFT":return[i.ifft($("x",t,e,n))];case"RFFT":return[i.rfft($("x",t,e,n))];case"IRFFT":return[i.irfft($("x",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M2e=(t,e,n,i=Pi)=>{switch(t.op){case"StaticRegexReplace":return[i.string.staticRegexReplace($("input",t,e,n),$("pattern",t,e,n),$("rewrite",t,e,n),$("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:o,nGramsSplits:r}=i.string.stringNGrams($("data",t,e,n),$("dataSplits",t,e,n),$("separator",t,e,n),$("nGramWidths",t,e,n),$("leftPad",t,e,n),$("rightPad",t,e,n),$("padWidth",t,e,n),$("preserveShortSequences",t,e,n));return[o,r]}case"StringSplit":{const{indices:o,values:r,shape:s}=i.string.stringSplit($("input",t,e,n),$("delimiter",t,e,n),$("skipEmpty",t,e,n));return[o,r,s]}case"StringToHashBucketFast":return[i.string.stringToHashBucketFast($("input",t,e,n),$("numBuckets",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j2e=(t,e,n,i=Pi)=>{switch(t.op){case"Cast":return[i.cast($("x",t,e,n),$("dtype",t,e,n))];case"ExpandDims":{const o=$("axis",t,e,n);return[i.expandDims($("x",t,e,n),o)]}case"Squeeze":{const o=$("axis",t,e,n);return[i.squeeze($("x",t,e,n),o)]}case"Reshape":return[i.reshape($("x",t,e,n),$("shape",t,e,n))];case"EnsureShape":return[i.ensureShape($("x",t,e,n),$("shape",t,e,n))];case"MirrorPad":return[i.mirrorPad($("x",t,e,n),$("padding",t,e,n),$("mode",t,e,n))];case"PadV2":case"Pad":return[i.pad($("x",t,e,n),$("padding",t,e,n),$("constantValue",t,e,n))];case"SpaceToBatchND":{const o=$("blockShape",t,e,n),r=$("paddings",t,e,n);return[i.spaceToBatchND($("x",t,e,n),o,r)]}case"BatchToSpaceND":{const o=$("blockShape",t,e,n),r=$("crops",t,e,n);return[i.batchToSpaceND($("x",t,e,n),o,r)]}case"DepthToSpace":{const o=$("blockSize",t,e,n),r=$("dataFormat",t,e,n).toUpperCase();return[i.depthToSpace($("x",t,e,n),o,r)]}case"BroadcastTo":return[i.broadcastTo($("x",t,e,n),$("shape",t,e,n))];case"BroadcastArgs":return[i.broadcastArgs($("s0",t,e,n),$("s1",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _N(t,e,n,i,o=ce){const r=((s,a,l)=>{switch(s.category){case"arithmetic":return o(()=>g2e(s,a,l));case"basic_math":return o(()=>b2e(s,a,l));case"control":return S2e(s,a,l);case"convolution":return o(()=>C2e(s,a,l));case"creation":return o(()=>T2e(s,a,l));case"dynamic":return E2e(s,a,l);case"evaluation":return o(()=>I2e(s,a,l));case"image":return o(()=>N2e(s,a,l));case"graph":return o(()=>_2e(s,a,l));case"logical":return o(()=>O2e(s,a,l));case"matrices":return o(()=>D2e(s,a,l));case"normalization":return o(()=>R2e(s,a,l));case"ragged":return o(()=>L2e(s,a,l));case"reduction":return o(()=>z2e(s,a,l));case"slice_join":return o(()=>F2e(s,a,l));case"sparse":return o(()=>P2e(s,a,l));case"spectral":return o(()=>B2e(s,a,l));case"string":return o(()=>M2e(s,a,l));case"transformation":return o(()=>j2e(s,a,l));case"hash_table":return A2e(s,a,l,i);case"custom":const c=TM(s.op);if(c&&c.customExecutor)return c.customExecutor(new m2e(s,a,l));throw TypeError("Custom op ".concat(s.op," is not registered."));default:throw TypeError("Unknown op '".concat(s.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}})(t,e,n);return Au(r)?r.then(s=>[].concat(s)):[].concat(r)}class $N{constructor(e={},n={},i={},o={},r){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=i,this.functionMap=o,this.parseNodeNameCache=r,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const i=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(i))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":"".concat(n.frameName,"-").concat(n.iterationId)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AN(t,e,n,i){const o=new Set,r=[];let s=null,a=null;const l=new Set,c=new Set(Object.keys(t).map(h=>zo(h)[0]));i=i||[];const u=new Set(i.map(h=>zo(h.name)[0])),d=[...e];for(;d.length>0;){const h=d.pop();if((Xc(h)||X2e(h)||Y2e(h))&&s==null&&(s=h,a=s.children.map(p=>p.name).filter(p=>o.has(p))),o.add(h.name),n[h.name]==null&&!c.has(h.name)&&!u.has(h.name)){if(h.inputs.length===0){r.push(h.name);continue}h.inputs.forEach(p=>{l.has(p.name)||(l.add(p.name),d.push(p))})}}return{inputs:t,outputs:e,usedNodes:o,missingInputs:r,dynamicNode:s,syncInputs:a}}function U2e(t,e){const{usedNodes:n,inputs:i}=e,o=Object.keys(i).map(b=>zo(b)[0]).map(b=>t.nodes[b]),r=t.initNodes||[],s=b=>n.has(typeof b=="string"?b:b.name);function a(b){return[...new Map(b.map(g=>[g.name,g])).values()]}const l=a([...o,...t.weights,...r]).filter(s),c=a([...l,...Object.values(t.nodes)]).filter(s),u=new Map(c.map(b=>[b.name,b])),d={};for(const b of c){d[b.name]=d[b.name]||0;for(const g of b.children)s(g)||(d[g.name]=Number.POSITIVE_INFINITY),d[g.name]=(d[g.name]||0)+1}const h=Object.entries(d).filter(([,b])=>b===0).map(([b])=>b),p=[...h];for(;h.length>0;){const b=h.pop(),g=u.get(b);for(const x of g.children.filter(s))--d[x.name]===0&&(p.push(x.name),h.push(x.name))}const f=p.map(b=>u.get(b)),m=V2e(f,l);return H2e(m,l),m}function V2e(t,e){const n=new Map(t.map(s=>[s.name,s])),i=e.map(s=>s.name),o=new Set(i);for(;i.length>0;){const s=i.pop(),a=n.get(s);for(const l of a.children)!n.has(l.name)||o.has(l.name)||(o.add(l.name),i.push(l.name))}return t.filter(s=>o.has(s.name))}class hb extends Error{constructor(e){super("NodesExecutionOrderError: ".concat(e))}}function H2e(t,e){const n=new Map(t.map((a,l)=>[a.name,l])),i=new Set(e.map(a=>a.name)),o=a=>i.has(typeof a=="string"?a:a.name),r=new Set(t.map(a=>a.name)),s=a=>r.has(typeof a=="string"?a:a.name);for(const a of t){for(const l of a.children.filter(s)){if(!n.has(l.name))throw new hb("Child ".concat(l.name," of node ").concat(a.name," is unreachable."));if(n.get(a.name)>n.get(l.name))throw new hb("Node ".concat(a.name," is scheduled to run after its child ").concat(l.name,"."))}if(!o(a))for(const l of a.inputs){if(!n.has(l.name))throw new hb("Input ".concat(l.name," of node ").concat(a.name," is unreachable."));if(n.get(l.name)>n.get(a.name))throw new hb("Node ".concat(a.name," is scheduled to run before its input ").concat(l.name,"."))}}}function W2e(t){const e=new Map(t.map((a,l)=>[a.name,l])),n=Number.MAX_SAFE_INTEGER,i=t.map((a,l)=>Xc(a)?n:l),o=a=>{const l=i[e.get(a.name)];return l==null?-1:l},r=t.map((a,l)=>a.children.map(o).reduce((c,u)=>Math.max(c,u),i[l])),s=new Map;for(let a=0;a<t.length;++a){const l=r[a];if(l===n)continue;const c=t[a],u=t[l];s.has(u.name)||s.set(u.name,[]),s.get(u.name).push(c)}return s}const G2e=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),q2e=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),K2e=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function Xc(t){return G2e.has(t.op)}function X2e(t){return q2e.has(t.op)}function Y2e(t){return K2e.has(t.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class c1{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(i=>e[i].map(o=>o.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?"".concat(n,":").concat(e.defaultOutput):n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(i=>{this._functionExecutorMap[i]=new c1(e.functions[i],this)})}getCompilationKey(e,n){const i=e.map(r=>r.name).sort(),o=n.map(r=>r.name).sort();return i.join(this.SEPARATOR)+"--"+o.join(this.SEPARATOR)}compile(e,n){const i=AN(e,n,this.weightMap,this._initNodes),{missingInputs:o,dynamicNode:r,syncInputs:s}=i;if(r!=null)throw new Error("This execution contains the node '".concat(r.name,"', which has ")+"the dynamic op '".concat(r.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(s,"]"));if(o.length>0){const c=n.map(d=>d.name),u=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(c,"] from the provided inputs ")+"[".concat(u,"]. Missing the following inputs: [").concat(o,"]"))}const a=U2e(this.graph,i),l=W2e(a);return{orderedNodes:a,nodeLiveUntilMap:l}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return hi(n),n}cloneTensorList(e){return e?e.map(i=>this.cloneAndKeepTensor(i)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,i])=>[n,this.cloneTensorList(i)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const i=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const o=i.map(h=>this.graph.nodes[zo(h)[0]]),r=n.map(h=>zo(h)[0]),s=new Set(r);let a=r.map(h=>this.graph.nodes[h]);a.length===0&&(a=this._outputs);const l=this.getCompilationKey(o,a);let c=this.compiledMap.get(l);c==null&&(c=this.compile(e,a),this.compiledMap.set(l,c));try{this.keepIntermediateTensors=pe().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const u={},d={};return ce(()=>{const h=new $N(this.weightMap,u,d,this.functionExecutorMap,this.parseNodeNameCache),p=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(g=>{const[x,y]=zo(g,h),v=[];v[y]=e[g],p[x]=v,this.keepIntermediateTensors&&(this.clonedTensorsMap[x]=this.cloneTensorList(v))});const f=this.getFrozenTensorIds(p),{orderedNodes:m,nodeLiveUntilMap:b}=c;for(const g of m){if(p[g.name])continue;const x=_N(g,p,h,this._resourceManager);if(Au(x))throw new Error("The execution of the op '".concat(g.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");p[g.name]=x,this.keepIntermediateTensors&&(this.clonedTensorsMap[g.name]=this.cloneTensorList(x)),this.checkTensorForDisposalWithNodeLiveUntilInfo(g,p,h,f,s,b.get(g.name))}return this.parent==null&&h.dispose(f),n.map(g=>Ei(g,p,h))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(i=>e[i]).map(i=>i.map(o=>o.id)));return new Set(n)}checkTensorForDisposal(e,n,i,o,r,s,a){if(!(Xc(n)||s.has(e))){for(const l of i[e])l!=null&&(a[l.id]=(a[l.id]||0)+n.children.length);for(const l of n.inputs){if(Xc(l))continue;const c=SN(l.name,i,o);if(c!=null)for(const u of c){if(!u||u.kept||r.has(u.id))continue;const d=a[u.id];d===1?(u.dispose(),delete a[u.id]):d!=null&&a[u.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,i,o,r,s){function a(l){return Xc(l)||r.has(l.name)}if(!(Xc(e)||s==null))for(const l of s){if(a(l))continue;const c=SN(l.name,n,i);for(const u of c)!u||u.kept||o.has(u.id)||u.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,i=!1,o={},r={}){this.disposeIntermediateTensors(),i||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=pe().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const s=new $N(this.weightMap,o,r,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const a=await this.executeWithControlFlow(e,s,n,i),l=n.map(h=>Ei(h,a,s)),c=l.map(h=>h.id),u=Object.keys(e).map(h=>e[h].id),d=new Set([...c,...u,...this.weightIds]);return Object.values(a).forEach(h=>{h.forEach(p=>{p&&!p.isDisposed&&!d.has(p.id)&&p.dispose()})}),this.parent==null&&s.dispose(d),l}async executeFunctionAsync(e,n,i){const o=e.reduce((r,s,a)=>(r[this.inputs[a].name]=s,r),{});return this._executeAsync(o,this.outputNodes,!0,n,i)}async executeWithControlFlow(e,n,i,o){const r=Object.keys(e),s=r.map(v=>this.graph.nodes[zo(v)[0]]),a=i.map(v=>zo(v)[0]),l=new Set(a);let c=a.map(v=>this.graph.nodes[v]);c.length===0&&(c=this._outputs);const{usedNodes:u,missingInputs:d,dynamicNode:h,syncInputs:p}=AN(e,c,this.weightMap,this._initNodes),f=[...s,...this.graph.weights,...this._initNodes||[]].map(v=>({node:v,contexts:n.currentContext})),m=Object.assign({},this.weightMap);Object.keys(e).forEach(v=>{const[w,C]=zo(v),S=[];S[C]=e[v],m[w]=S});const b={},g=this.getFrozenTensorIds(m),x={};for(;f.length>0;){const v=this.processStack(s,f,n,m,x,g,l,b,u);await Promise.all(v)}h==null&&!o&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const y=c.filter(v=>!Xc(v)&&!Ei(v.name,m,n)).map(v=>v.name);if(y.length>0){let v="";throw h!=null&&(v="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(p,"]")),new Error("Cannot compute the outputs [".concat(y,"] from the provided ")+"inputs [".concat(r,"]. Consider providing the following inputs: ")+"[".concat(d,"]. ").concat(v))}return m}processStack(e,n,i,o,r,s,a,l,c){const u=[];for(;n.length>0;){const d=n.pop();i.currentContext=d.contexts;let h="";if(d.node.op==="Enter"&&$("isConstant",d.node,o,i)&&([h]=wa(d.node.name,i)),o[d.node.name]==null){const p=_N(d.node,o,i,this._resourceManager);h||([h]=wa(d.node.name,i));const f=i.currentContext;Au(p)?u.push(p.then(m=>(o[h]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(m)),i.currentContext=f,this.checkTensorForDisposal(h,d.node,o,i,s,a,l),this.processChildNodes(d.node,n,i,o,r,c),m))):(o[h]=p,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(p)),this.checkTensorForDisposal(h,d.node,o,i,s,a,l),this.processChildNodes(d.node,n,i,o,r,c))}else this.processChildNodes(d.node,n,i,o,r,c)}return u}processChildNodes(e,n,i,o,r,s){e.children.forEach(a=>{const[l]=wa(a.name,i);r[l]||!s.has(a.name)||(a.op==="Merge"?a.inputNames.some(c=>!!Ei(c,o,i))&&(r[l]=!0,n.push({contexts:i.currentContext,node:a})):a.inputNames.every(c=>!!Ei(c,o,i))&&(r[l]=!0,n.push({contexts:i.currentContext,node:a})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const i=e[n],[o]=zo(n),r=this.graph.nodes[o];if(r.attrParams.shape&&r.attrParams.shape.value){const s=r.attrParams.shape.value,a=s.length===i.shape.length&&i.shape.every((l,c)=>s[c]===-1||s[c]===l);M(a,()=>"The shape of dict['".concat(r.name,"'] provided in ")+"model.execute(dict) must be [".concat(s,"], but was ")+"[".concat(i.shape,"]"))}r.attrParams.dtype&&r.attrParams.dtype.value&&M(i.dtype===r.attrParams.dtype.value,()=>"The dtype of dict['".concat(r.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(r.attrParams.dtype.value,", but was ").concat(i.dtype))})}mapInputs(e){var n,i;const o={};for(const r in e){const s=(i=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||i===void 0?void 0:i[r];s!=null?o[s.name]=e[r]:o[r]=e[r]}return o}checkInputs(e){const n=Object.keys(e).filter(i=>{const[o]=zo(i);return this.graph.nodes[o]==null});if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(n,"] that are not part of graph"))}mapOutputs(e){return e.map(n=>{var i,o;const r=(o=(i=this._signature)===null||i===void 0?void 0:i.outputs)===null||o===void 0?void 0:o[n];return r!=null?r.name:n},{})}checkOutputs(e){e.forEach(n=>{const[i]=zo(n);if(!this.graph.nodes[i])throw new Error("The output '".concat(n,"' is not found in the graph"))})}}class Z2e{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J2e="?tfjs-format=file",Q2e="model.json";class eke{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},i=_F){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=i,n==null&&(this.loadOptions={}),this.resourceManager=new Z2e}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error("Found more than one (".concat(n.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Au(e)?e.then(n=>n.getWeightStream==null?this.loadSync(n):this.loadStreaming(n)):this.loadSync(e)}loadSync(e){const n=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,n)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const n=await ZL(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,n)}loadWithWeightMap(e,n){this.artifacts=e;const i=this.artifacts.modelTopology;let o=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const r=this.artifacts.userDefinedMetadata;r.signature!=null&&(o=r.signature),r.structuredOutputKeys!=null&&(this.structuredOutputKeys=r.structuredOutputKeys)}if(this.signature=o,this.version="".concat(i.versions.producer,".").concat(i.versions.minConsumer),this.executor=new c1(CN.Instance.transformGraph(i,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const r=CN.Instance.transformGraph(e.modelInitializer);this.initializer=new c1(r),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const i=this.io.getSaveHandlers(e);if(i.length===0)throw new Error("Cannot find any save handlers for URL '".concat(e,"'"));if(i.length>1)throw new Error("Found more than one (".concat(i.length,") save handlers for ")+"URL '".concat(e,"'"));e=i[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof Zt?[e]:e,i={};return n.forEach((o,r)=>i[this.structuredOutputKeys[r]]=o),i}return e}predict(e,n){const i=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(i)}async predictAsync(e,n){const i=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(i)}normalizeInputs(e){var n;if(!(e instanceof Zt)&&!Array.isArray(e)){const r=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(r!=null)for(const s in r){const a=r[s];a.resourceId!=null&&(e[s]=this.resourceIdToCapturedInput[a.resourceId])}return e}e=Array.isArray(e)?e:[e];const i=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+i!==this.inputNodes.length)throw new Error("Input tensor count mismatch, the graph model has ".concat(this.inputNodes.length-i," non-resource placeholders, while there are ").concat(e.length," input tensors provided."));let o=0;return this.inputNodes.reduce((r,s)=>{var a,l,c;const u=(c=(l=(a=this.signature)===null||a===void 0?void 0:a.inputs)===null||l===void 0?void 0:l[s])===null||c===void 0?void 0:c.resourceId;return u!=null?r[s]=this.resourceIdToCapturedInput[u]:r[s]=e[o++],r},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,i=Object.keys(n);for(let o=0;o<i.length;o++){const r=i[o],s=n[r];this.resourceIdToCapturedInput[s.resourceId]=e[o]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const i=this.executor.execute(e,n);return i.length>1?i:i[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const i=await this.executor.executeAsync(e,n);return i.length>1?i:i[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,i)=>(n[i]=[e[i]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&pt(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function tke(t,e={},n=_F){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=nke(t));const i=new eke(t,e,n);return await i.load(),i}function nke(t){return t.endsWith("/")||(t=t+"/"),"".concat(t).concat(Q2e).concat(J2e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var NN;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(NN||(NN={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xe(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&M(n.dtype!=="complex64",()=>"".concat(e," does not support complex64 tensors in the CPU backend."))})}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ike=rI;class xw extends dT{nextDataId(){return xw.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new yL(this,Bs())}write(e,n,i){this.firstUse&&(this.firstUse=!1,pe().get("IS_NODE")&&sr("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const o={id:this.nextDataId()};return this.data.set(o,{values:e,dtype:i,refCount:1}),o}makeTensorInfo(e,n,i){let o;if(n==="string"&&i!=null&&i.length>0&&Zm(i[0])){const r=i.map(s=>Wl(s));o=this.write(r,e,n)}else o=this.write(i,e,n);return{dataId:o,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,i,o,r){this.data.set(e,{values:n,dtype:o,refCount:r})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:i}=this.data.get(e);if(n==="complex64"){const o=this.readSync(i.real.dataId),r=this.readSync(i.imag.dataId);return Ka(o,r)}return sde(this.data.get(e).values,n)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const i=n.map(o=>ec(o));return xt(e.shape,e.dtype,i)}catch(i){throw new Error("Failed to decode encoded string bytes into utf-8")}return xt(e.shape,e.dtype,n)}makeOutput(e,n,i){return Bs().makeTensorFromTensorInfo(this.makeTensorInfo(n,i,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:i}=this.data.get(e);i!=null&&(this.disposeData(i.real.dataId,!0),this.disposeData(i.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=mo();return e(),{kernelMs:mo()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Xe([e],"where");const n=this.readSync(e.dataId);return ike(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}xw.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _M(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const oke=t=>{const{x:e}=t.inputs,n=t.backend;Xe(e,"abs");let i=new Float32Array(ge(e.shape));const o=n.data.get(e.dataId).values;return i=_M(o),n.makeOutput(i,e.shape,e.dtype)},rke={kernelName:Oy,backendName:"cpu",kernelFunc:oke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vn(t){return(e,n,i,o,r)=>{const s=ft(e,n),a=s.length,l=nt(s),c=ge(s),u=Oi(r,c),d=e.length,h=n.length,p=nt(e),f=nt(n),m=Uh(e,s),b=Uh(n,s);if(m.length+b.length===0)for(let g=0;g<u.length;++g)u[g]=t(i[g%i.length],o[g%o.length]);else for(let g=0;g<u.length;++g){const x=mp(g,a,l),y=x.slice(-d);m.forEach(S=>y[S]=0);const v=Zs(y,d,p),w=x.slice(-h);b.forEach(S=>w[S]=0);const C=Zs(w,h,f);u[g]=t(i[v],o[C])}return[u,s]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Po(t){const{inputs:e,backend:n}=t,{real:i,imag:o}=e,r=n.data.get(i.dataId).values,s=n.data.get(o.dataId).values,a=n.makeTensorInfo(i.shape,"complex64"),l=n.data.get(a.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(i.shape,"float32",r),imag:n.makeTensorInfo(o.shape,"float32",s)},a}const ske={kernelName:wT,backendName:"cpu",kernelFunc:Po};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u1(t,e,n="float32"){if(n==="complex64"){const o=u1(t,e,"float32"),r=u1(t,e,"float32");return Po({inputs:{real:o,imag:r},backend:t})}const i=Xi(ge(e),n);return t.makeTensorInfo(e,n,i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ra(t){const{inputs:e,backend:n}=t,{x:i}=e;return n.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const ake={kernelName:xg,backendName:"cpu",kernelFunc:ra};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ju(t){const{inputs:e,backend:n}=t,{input:i}=e,o=n.data.get(i.dataId).complexTensorInfos.real,r=n.data.get(o.dataId).values;return n.makeTensorInfo(o.shape,o.dtype,r)}const lke={kernelName:QT,backendName:"cpu",kernelFunc:ju};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $M(t,e,n,i){if(i==="int32"){const o=Int32Array.from(t);return[e,"int32",o]}if(i==="bool"){const o=nd([0],n),[r,s]=Vn((a,l)=>a!==l?1:0)(e,[],t,o,"bool");return[s,"bool",r]}throw new Error("Error in Cast: failed to cast ".concat(n," to ").concat(i))}function cc(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{dtype:r}=i;if(r==="complex64"){if(o.dtype==="complex64")return ra({inputs:{x:o},backend:n});const u=u1(n,o.shape,o.dtype),d=cc({inputs:{x:o},backend:n,attrs:{dtype:"float32"}}),h=Po({inputs:{real:d,imag:u},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),h}if(o.dtype==="complex64"){const u=ju({inputs:{input:o},backend:n}),d=cc({inputs:{x:u},backend:n,attrs:{dtype:r}});return n.disposeIntermediateTensorInfo(u),d}if(!wL(o.dtype,r)){const u=ra({inputs:{x:o},backend:n});return{dataId:u.dataId,shape:u.shape,dtype:r}}const s=n.data.get(o.dataId).values,[a,l,c]=$M(s,o.shape,o.dtype,r);return n.makeTensorInfo(a,l,c)}const cke={kernelName:rg,backendName:"cpu",kernelFunc:cc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oi(t,e,n,i){return n==null?({inputs:o,backend:r})=>{const{a:s,b:a}=o,l=r;Xe([s,a],t);const c=l.data.get(s.dataId).values,u=l.data.get(a.dataId).values,d=s.dtype==="string"?Xa(c):c,h=s.dtype==="string"?Xa(u):u,p=i||s.dtype,[f,m]=e(s.shape,a.shape,d,h,p);return l.makeTensorInfo(m,p,f)}:({inputs:o,backend:r})=>{const{a:s,b:a}=o,l=r;if(s.dtype==="complex64"||a.dtype==="complex64"){const c=cc({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),u=l.data.get(c.dataId),d=u.complexTensorInfos.real,h=u.complexTensorInfos.imag,p=l.data.get(d.dataId).values,f=l.data.get(h.dataId).values,m=cc({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),b=l.data.get(m.dataId),g=b.complexTensorInfos.real,x=b.complexTensorInfos.imag,y=l.data.get(g.dataId).values,v=l.data.get(x.dataId).values,[w,C,S]=n(s.shape,a.shape,p,f,y,v),E=l.makeTensorInfo(S,"float32",w),I=l.makeTensorInfo(S,"float32",C),N=Po({inputs:{real:E,imag:I},backend:l});return l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(m),l.disposeIntermediateTensorInfo(E),l.disposeIntermediateTensorInfo(I),N}else{const c=l.data.get(s.dataId).values,u=l.data.get(a.dataId).values,d=i||s.dtype,[h,p]=e(s.shape,a.shape,c,u,d);return l.makeTensorInfo(p,d,h)}}}function c_(t){return(e,n,i,o,r,s)=>{const a=ft(e,n),l=ge(a),c=a.length,u=nt(a),d=Oi("float32",l),h=Oi("float32",l),p=Uh(e,a),f=Uh(n,a),m=Ka(i,o),b=Ka(r,s),g=e.length,x=nt(e),y=n.length,v=nt(n);if(p.length+f.length===0)for(let w=0;w<d.length;w++){const C=w%m.length,S=w%b.length,E=t(m[C*2],m[C*2+1],b[S*2],b[S*2+1]);d[w]=E.real,h[w]=E.imag}else for(let w=0;w<d.length;w++){const C=mp(w,c,u),S=C.slice(-g);p.forEach(D=>S[D]=0);const E=Zs(S,g,x),I=C.slice(-y);f.forEach(D=>I[D]=0);const N=Zs(I,y,v),B=t(m[E*2],m[E*2+1],b[N*2],b[N*2+1]);d[w]=B.real,h[w]=B.imag}return[d,h,a]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AM=Vn((t,e)=>t+e),uke=c_((t,e,n,i)=>({real:t+n,imag:e+i})),Gh=oi(gp,AM,uke),dke={kernelName:gp,backendName:"cpu",kernelFunc:Gh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u_(t,e,n,i,o){const r=ge(i),s=Xi(o,n);for(let a=0;a<t.length;a++){const l=t[a];if(l<0)throw new Error("Input x must be non-negative!");l>=o||(r>0?s[l]+=e[a]:s[l]+=1)}return s}function NM(t,e,n,i=!1){const o=t.shape[0],r=t.shape[1],s=xt([o,n],e.dtype);for(let a=0;a<o;a++)for(let l=0;l<r;l++){const c=t.get(a,l);if(c<0)throw new Error("Input x must be non-negative!");c>=n||(i?s.set(1,a,c):e.size>0?s.set(s.get(a,c)+e.get(a,l),a,c):s.set(s.get(a,c)+1,a,c))}return s}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OM=Vn((t,e)=>t&e),hke=oi(My,OM),pke={kernelName:My,backendName:"cpu",kernelFunc:hke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ua(t){return(e,n,i)=>{const o=Pn(n,e.length);for(let r=0;r<e.length;++r)o[r]=t(e[r],i);return o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wt(t,e,n){const i=ua(e);return _c(t,i,n)}function _c(t,e,n){return({inputs:i,attrs:o,backend:r})=>{const{x:s}=i;Xe(s,t);const a=r,l=a.data.get(s.dataId).values;let c;if(s.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");c=Xa(l)}else c=l;const u=n||s.dtype,d=e(c,u,o);return a.makeTensorInfo(s.shape,u,d)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DM=ua(t=>Math.ceil(t)),fke=_c(sg,DM),mke={kernelName:sg,backendName:"cpu",kernelFunc:fke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RM(t,e,n,i){const o=Pn(n,ge(e));if(i&&n!=="string"){let r=0;t.forEach(s=>{const a=ge(s.shape);o.set(s.vals,r),r+=a})}else{let r=0;t.forEach(s=>{const a=n==="string"?Xa(s.vals):s.vals;let l=0;for(let c=0;c<s.shape[0];++c){const u=c*e[1]+r;for(let d=0;d<s.shape[1];++d)o[u+d]=a[l++]}r+=s.shape[1]})}return o}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LM=Vn((t,e)=>t===e?1:0),zM=oi(Xy,LM,null,"bool"),gke={kernelName:Xy,backendName:"cpu",kernelFunc:zM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FM=ua(t=>Math.exp(t)),PM=_c(pg,FM,"float32"),bke={kernelName:pg,backendName:"cpu",kernelFunc:PM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BM=ua(t=>Math.expm1(t)),xke=_c(fg,BM),yke={kernelName:fg,backendName:"cpu",kernelFunc:xke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MM=ua(t=>Math.floor(t)),vke=_c(mg,MM),wke={kernelName:mg,backendName:"cpu",kernelFunc:vke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jM=Vn((t,e)=>Math.floor(t/e)),kke=oi(gg,jM,null,"int32"),Ske={kernelName:gg,backendName:"cpu",kernelFunc:kke};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UM(t,e,n,i,o,r,s,a,l){const c=xt([i,r],n);for(let u=0;u<i;u++){const d=[];let h=0;for(let p=0;p<o;p++){const f=t[u*o+p];h+=f*s[p],d.push(f)}if(h<0||h>=l/r)throw new Error("Invalid indices: ".concat(d," does not index into ").concat(a));for(let p=0;p<r;p++)c.values[u*r+p]=e.get(...e.indexToLoc(h*r+p))}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VM(t,e,n){const i=xt(n,t.dtype);for(let o=0;o<i.size;++o){const s=i.indexToLoc(o).slice(),a=s[0],l=s[2],c=e.locToIndex([a,l]);s[2]=e.values[c];const u=t.locToIndex(s);0<=u&&u<t.values.length&&(i.values[o]=t.values[u])}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HM=Vn((t,e)=>t>e?1:0),Cke=oi(Qy,HM,null,"bool"),Tke={kernelName:Qy,backendName:"cpu",kernelFunc:Cke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WM=Vn((t,e)=>t>=e?1:0),Eke=oi(bg,WM,null,"bool"),Ike={kernelName:bg,backendName:"cpu",kernelFunc:Eke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GM=Vn((t,e)=>t<e?1:0),_ke=oi(tv,GM,null,"bool"),$ke={kernelName:tv,backendName:"cpu",kernelFunc:_ke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qM=Vn((t,e)=>t<=e?1:0),Ake=oi(nv,qM,null,"bool"),Nke={kernelName:nv,backendName:"cpu",kernelFunc:Ake};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KM(t,e,n){const i=(e-t)/(n-1),o=Xi(n,"float32");o[0]=t;for(let r=1;r<o.length;r++)o[r]=o[r-1]+i;return o}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XM=ua(t=>Math.log(t)),Oke=_c(kg,XM),Dke={kernelName:kg,backendName:"cpu",kernelFunc:Oke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YM(t,e,n,i){const o=Oi(i,ge(n));for(let r=0;r<o.length;++r){const s=r*e;let a=t[s];for(let l=0;l<e;++l){const c=t[s+l];(Number.isNaN(c)||c>a)&&(a=c)}o[r]=a}return o}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZM=Vn((t,e)=>Math.max(t,e)),Rke=oi(Cg,ZM),Lke={kernelName:Cg,backendName:"cpu",kernelFunc:Rke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JM=Vn((t,e)=>Math.min(t,e)),zke=oi(Tg,JM),Fke={kernelName:Tg,backendName:"cpu",kernelFunc:zke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d_=Vn((t,e)=>t*e),Pke=c_((t,e,n,i)=>({real:t*n-e*i,imag:t*i+e*n})),yw=oi(Ig,d_,Pke),Bke={kernelName:Ig,backendName:"cpu",kernelFunc:yw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QM(t,e,n){const i=yc(-1,n);return d_([],e,i,t,n)}function Mke(t){const{inputs:e,backend:n}=t,{x:i}=e;Xe(i,"neg");const o=n.data.get(i.dataId).values,[r,s]=QM(o,i.shape,i.dtype);return n.makeTensorInfo(s,i.dtype,r)}const jke={kernelName:pv,backendName:"cpu",kernelFunc:Mke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ej=Vn((t,e)=>t!==e?1:0),Uke=oi(fv,ej,null,"bool"),Vke={kernelName:fv,backendName:"cpu",kernelFunc:Uke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h_(t,e,n,i,o){const r=e.length,s=ge(e),a=nt(e),l=nt(o),c=Oi(n,ge(o));for(let u=0;u<s;++u){const d=mp(u,r,a),h=new Array(d.length);for(let f=0;f<h.length;f++)h[f]=d[i[f]];const p=Zs(h,r,l);c[p]=t[u]}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Io(t){const{inputs:e,attrs:n,backend:i}=t,{x:o}=e,{perm:r}=n;Xe(o,"transpose");const s=o.shape.length,a=new Array(s);for(let d=0;d<a.length;d++)a[d]=o.shape[r[d]];const l=i.data.get(o.dataId).values,c=h_(l,o.shape,o.dtype,r,a);return{dataId:i.write(c,a,o.dtype),shape:a,dtype:o.dtype}}const Hke={kernelName:bh,backendName:"cpu",kernelFunc:Io};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tj(t,e,n,i){const[o,r]=bi(t,i),s=Go(e,"int32"),a=Xi(ge(o),s),l=ge(r);for(let c=0;c<a.length;++c){const u=c*l;let d=1;for(let h=0;h<l;++h)d*=n[u+h];a[c]=d}return{outVals:a,outShape:o,outDtype:s}}function Wke(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,keepDims:s}=i;Xe(o,"prod");const a=o.shape.length,l=Et(r,o.shape),c=En(l,a);let u=l,d=o;const h=[];c!=null&&(d=Io({inputs:{x:o},backend:n,attrs:{perm:c}}),h.push(d),u=jn(u.length,a));const p=n.data.get(d.dataId).values,{outVals:f,outShape:m,outDtype:b}=tj(d.shape,d.dtype,p,u);let g=m;return s&&(g=Mn(m,l)),h.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.makeTensorInfo(g,b,f)}const Gke={kernelName:vv,backendName:"cpu",kernelFunc:Wke};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qke(t,e,n){t.forEach((i,o)=>{if(i<0||i>=n){const r=mp(o,e.length,nt(e)).join(",");throw new Error("indices[".concat(r,"] = ").concat(i," is not in [0, ").concat(n,")"))}})}function Kke(t,e){for(let n=0;n<t.length;++n){const i=t[n],o=n===t.length-1?e:t[n+1].length;if(i.length===0)throw new Error("Ragged splits may not be empty");if(i[0]<0)throw new Error("Ragged splits must be non-negative");if(i[i.length-1]>o)throw new Error("Ragged splits must not point past values");for(let r=1;r<i.length;++r)if(i[r-1]>i[r])throw new Error("Ragged splits must be sorted in ascending order")}}function Xke(t,e,n,i){const o=[];let r=0;const s=e.length-1+n.length,a=new Array(s).fill(null).map(()=>[0]);Kke(n,i);let l=1;for(let c=0;c<e.length-1;++c){l*=e[c];const u=e[c+1];for(let d=1;d<l+1;++d)a[c].push(d*u)}for(let c=0;c<t.length;++c){let u=t[c],d=t[c]+1;for(let h=0;h<n.length;++h){const p=n[h],f=h+e.length-1;if(f>=0){const m=a[f],b=m[m.length-1]-p[u];for(let g=u;g<d;++g)a[f].push(p[g+1]+b)}u=p[u],d=p[d]}d!==u&&(o.push([u,d]),r+=d-u)}return{outSplits:a,valueSlices:o,numValues:r}}function Yke(t){const e=[];for(let n=0;n<t.length;++n){const i=t[n].length,o=Pn("int32",i);e.push(o),t[n].forEach((r,s)=>o[s]=r)}return e}function ON(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let i=e;i<t.length;i++)n[e-1]*=t[i];return n}function Zke(t,e,n,i,o,r){const s=ON(e,2)[1],a=ON(r,2)[1];let l=0;for(const c of n)for(let u=c[0];u<c[1];++u){for(let d=0;d<i;++d)o[l*a+d]=t[u*s+d];++l}}function Jke(t,e,n,i,o){const r=e.slice();r[0]=o;const s=Pn(n,ge(r)),a=t.length,l=a===0?0:a/e[0];return Zke(t,e,i,l,s,r),[s,r]}function nj(t,e,n,i,o,r,s,a){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const l=e[0][0]-1;if(qke(r,s,l),i.length===0)throw new Error("params.rank must be nonzero");const c=i[0],{outSplits:u,valueSlices:d,numValues:h}=Xke(r,s,t,c),p=Yke(u),f=Jke(n,i,o,d,h);return[p,f[0],f[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DN=2147483647;function ij(t,e,n,i,o,r,s){if(e.length>1)throw new Error("starts must be a scalar or vector");if(o.length>1)throw new Error("limits must be a scalar or vector");if(s.length>1)throw new Error("deltas must be a scalar or vector");const a=e.length===0,l=o.length===0,c=s.length===0,u=[];a||u.push(e[0]),l||u.push(o[0]),c||u.push(s[0]);for(let b=1;b<u.length;++b)if(u[b]!==u[b-1])throw new Error("starts, limits, and deltas must have the same shape");const d=u.length===0?1:u[0],h=Pn("int32",d+1);h[0]=0;for(let b=0;b<d;++b){const g=a?t[0]:t[b],x=l?i[0]:i[b],y=c?r[0]:r[b];if(y===0)throw new Error("Requires delta != 0");let v;if(y>0&&x<g||y<0&&x>g)v=0;else if(v=Math.ceil(Math.abs((x-g)/y)),v>DN)throw new Error("Requires ((limit - start) / delta) <= ".concat(DN));h[b+1]=h[b]+v}const p=h[d],f=Pn(n,p);let m=0;for(let b=0;b<d;++b){const g=h[b+1]-h[b];let x=a?t[0]:t[b];const y=c?r[0]:r[b];for(let v=0;v<g;++v)f[m++]=x,x+=y}return[h,f]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var $r=bs;class d1{constructor(e,n,i,o,r,s,a,l,c,u){this.shape=e,this.shapeShape=n,this.values=i,this.valuesShape=o,this.valuesDType=r,this.defaultValue=s,this.defaultValueShape=a,this.rowPartitionValues=l,this.rowPartitionValuesShapes=c,this.rowPartitionTypes=BF(u),this.raggedRank=MF(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===$r.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===$r.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case $r.VALUE_ROWIDS:return d1.getMaxWidthValueRowID(n);case $r.ROW_SPLITS:return d1.getMaxWidthRowSplit(n);default:throw new Error("Cannot handle partition type ".concat($r[this.getRowPartitionTypeByDimension(e-1)]))}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let i=0;for(let o=0;o<n-1;++o){const r=e[o+1]-e[o];r>i&&(i=r)}return i}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let i=0,o=e[0],r=0;for(let s=1;s<n;++s){const a=e[s];a!==o&&(o=a,r=Math.max(s-i,r),i=s)}return Math.max(n-i,r)}tensorShapeFromTensor(e,n,i=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return LN(e,i)}calculateOutputSize(e){const n=this.valuesShape,i=this.defaultValueShape;jF(i,n);const o=this.tensorShapeFromTensor(this.shape,this.shapeShape),s=PF(this.raggedRank,o,n);s[0]<0&&(s[0]=e);for(let a=1;a<=this.raggedRank;++a)s[a]<0&&(s[a]=this.getMaxWidth(a));return s}calculateFirstParentOutputIndex(e,n,i){const o=Math.min(e,i),r=[];let s=0;for(let a=0;a<o;++a,s+=n)r.push(s);for(let a=o;a<e;++a)r.push(-1);return M(r.length===e,()=>"Final length of result must be equal to firstDimension."),r}calculateOutputIndexRowSplit(e,n,i,o){const r=e.length,s=[];for(let a=0;a<r-1;++a){const l=e[a+1]-e[a];let c=Math.min(o,l),u=n[a];u===-1&&(c=0);for(let d=0;d<c;++d)s.push(u),u+=i;for(let d=0;d<l-c;++d)s.push(-1)}if(r>0&&s.length!==e[r-1])throw new Error("Invalid row split size.");return s}calculateOutputIndexValueRowID(e,n,i,o){const r=e.length,s=[];if(r===0)return[];let a=0,l=e[0];if(l>=n.length)throw new Error("Got currentValueRowId=".concat(l,", which is not less than ").concat(n.length));let c=n[l];s.push(c);for(let u=1;u<r;++u){const d=e[u];if(d===l)c>=0&&(++a,a<o?c+=i:c=-1);else{if(a=0,l=d,d>=n.length)throw new Error("Got nextValueRowId=".concat(d," which is not less than ").concat(n.length));c=n[d]}s.push(c)}if(s.length!==e.length)throw new Error("Invalid row ids.");return s}calculateOutputIndex(e,n,i,o){const r=this.getRowPartitionTensor(e),s=this.getRowPartitionTypeByDimension(e);switch(s){case $r.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(r,n,i,o);case $r.ROW_SPLITS:if(r.length-1>n.length)throw new Error("Row partition size is greater than output size: ".concat(r.length-1," > ").concat(n.length));return this.calculateOutputIndexRowSplit(r,n,i,o);default:throw new Error("Unsupported partition type: ".concat($r[s]))}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case $r.FIRST_DIM_SIZE:return e[0];case $r.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case $r.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error("Cannot handle type ".concat($r[n]))}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),i=this.calculateOutputSize(n),o=new Array(this.raggedRank+1);o[o.length-1]=1;for(let l=o.length-2;l>=0;--l)o[l]=o[l+1]*i[l+1];const r=LN(i,!1),s=Pn(this.valuesDType,ge(r));if(o[0]*i[0]>0){let l=this.calculateFirstParentOutputIndex(n,o[0],i[0]);for(let c=1;c<=this.raggedRank;++c)l=this.calculateOutputIndex(c-1,l,o[c],i[c]);this.setOutput(this.raggedRank,l,s,r)}return[r,s]}setOutput(e,n,i,o){if(i.length===0)return;const r=this.values,s=i;let a=o.slice();a=a.slice(e+1);const l=ge(a),c=n.length;let u=this.defaultValue;if(u.length!==l&&u.length!==1){const f=this.defaultValueShape;ce(()=>{const m=te(u,f);u=vh(m,a).dataSync()})}let d=0,h=0,p=0;for(let f=0;f<=c;++f){let m=f<c?n[f]:-1;if(m===p){++p;continue}if(h<p){const b=r.subarray(d*l),g=s.subarray(h*l),x=(p-h)*l;RN(g,b,x)}if(f>=c){const b=i.length;m=Math.floor(b/l)}if(m>p)if(this.defaultValue.length===1)s.subarray(p*l,m*l).fill(this.defaultValue[0]),p=m;else for(;m>p;){const b=s.slice(p*l);RN(b,u,l),++p}m<0?(d=f+1,h=p):(d=f,h=p,p=h+1)}}}function RN(t,e,n){for(let i=0;i<n;i++)t[i]=e[i]}function LN(t,e){const n=[];for(let i of t){if(i<0){if(!e)throw new Error("Dimension ".concat(i," must be >= 0"));if(i<-1)throw new Error("Dimension ".concat(i," must be >= -1"));i=-1}n.push(i)}return n}function oj(t,e,n,i,o,r,s,a,l,c){return new d1(t,e,n,i,o,r,s,a,l,c).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rj(t,e,n,i){const o=t===e,r=t<e&&n<0,s=e<t&&n>1;if(o||r||s)return Xi(0,i);const a=Math.abs(Math.ceil((e-t)/n)),l=Xi(a,i);e<t&&n===1&&(n=-1),l[0]=t;for(let c=1;c<l.length;c++)l[c]=l[c-1]+n;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sj=ua(t=>1/Math.sqrt(t)),Qke=_c(Dg,sj),e3e={kernelName:Dg,backendName:"cpu",kernelFunc:Qke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function su(t,e,n,i,o,r,s,a,l,c){const u=[i/o,o],d=t.values,h=e.values;if(i===0)return xt(n,e.dtype);const p=l instanceof ei?l:xt(u,e.dtype);typeof l=="string"||typeof l=="number"?p.values.fill(l):typeof l=="boolean"&&p.values.fill(+l);for(let f=0;f<r;f++){const m=[];let b=0;for(let g=0;g<s;g++){const x=d[f*s+g];m.push(x),b+=x*a[g]}if(b<0||b>=i/o)throw new Error("Invalid indices: ".concat(m," does not index into ").concat(n));for(let g=0;g<o;g++)c?p.values[b*o+g]+=h[f*o+g]:p.values[b*o+g]=e.rank===0?h[0]:h[f*o+g]}return p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t3e=ua(t=>1/(1+Math.exp(-t))),aj=Wt(Pg,t=>1/(1+Math.exp(-t))),n3e={kernelName:Pg,backendName:"cpu",kernelFunc:aj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lj(t,e,n,i,o){const r=xI(i,e,n),s=ge(n),a=nt(i);if(r){const d=yI(e,a);return o==="string"?t.slice(d,d+s):t.subarray(d,d+s)}const l=o==="string"?Xa(t):t,c=xt(i,o,l),u=xt(n,o);for(let d=0;d<u.size;++d){const h=u.indexToLoc(d),p=h.map((f,m)=>f+e[m]);u.set(c.get(...p),...h)}return o==="string"?aP(u.values):u.values}function Uu(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{begin:r,size:s}=i;Xe(o,"slice");const[a,l]=ow(o,r,s);gI(o,a,l);const c=n.data.get(o.dataId).values,u=lj(c,a,l,o.shape,o.dtype);return n.makeTensorInfo(l,o.dtype,u)}const i3e={kernelName:Ev,backendName:"cpu",kernelFunc:Uu};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cj(t,e,n,i,o,r,s){const a=e[0],l=r[0],c=new Array(l),u=new Array(a),d=e[1];if(l===0){if(a!==0)throw new Error(KF(a));const b=Pn(n,0),g=Pn(o,0);return[b,[0,d],g,c,u]}let h=!0,p=0;const f=new Array(l).fill(0);for(let b=0;b<a;++b){const g=t[b*d];if(g<0)throw new Error(XF(b,g));if(g>=l)throw new Error(YF(b,g,l));++f[g],h=h&&g>=p,p=g}let m=!0;for(let b=0;b<l;++b){const g=f[b]===0;c[b]=g,m=m&&!g,f[b]=Math.max(f[b],1),b>0&&(f[b]+=f[b-1])}if(m&&h){const b=t,g=i;for(let x=0;x<a;++x)u[x]=x;return[b,[a,d],g,c,u]}else{const b=f[l-1],g=Pn(n,b*d),x=Pn(o,b),y=new Array(l).fill(0);for(let v=0;v<a;++v){const w=t[v*d],C=y[w],S=(w===0?0:f[w-1])+C;y[w]++;for(let E=0;E<d;++E)g[S*d+E]=t[v*d+E];x[S]=i[v],u[v]=S}for(let v=0;v<l;++v)if(y[v]===0){const C=v===0?0:f[v-1];g[C*d+0]=v;for(let S=1;S<d;++S)g[C*d+S]=0;x[C]=s}return[g,[b,d],x,c,u]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uj(t,e,n,i,o){const r=ge(i),s=e[0],a=o.length,l=[];let c=1,u=-1;for(let b=0;b<a;++b){const g=o[b];if(g===-1){if(u!==-1)throw new Error(ZF(u,b));u=b,l.push(1)}else{if(g<0)throw new Error(JF(b,g));c*=g,l.push(g)}}if(u!==-1){if(c<=0)throw new Error(QF());const b=Math.trunc(r/c);if(c*b!==r)throw new Error(eP(i,l));l[u]=b}if(ge(l)!==r)throw new Error(tP(i,l));const h=i.length,p=[];if(h>0){p[h-1]=1;for(let b=h-2;b>=0;--b)p[b]=p[b+1]*i[b+1]}const f=[];if(a>0){f[a-1]=1;for(let b=a-2;b>=0;--b)f[b]=f[b+1]*l[b+1]}const m=Pn(n,s*a);for(let b=0;b<s;++b){let g=0;for(let x=0;x<h;++x)g+=t[b*h+x]*p[x];for(let x=0;x<a;++x)m[b*a+x]=Math.trunc(g/f[x]),g%=f[x]}return[m,[s,a],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p_(t,e,n,i,o,r=!1,s=0){const a=i.length,l=[e[0],t.length/e[0]],c=l[1],d=a>0?o[a-1]+1:0;if(d<0)throw new Error(kS());const h=e.slice();h[0]=d;const p=h.reduce((y,v)=>y*v,1),f=Pn(n,p);if(a===0)return d>0&&f.fill(s),[f,h];if(d<=0)throw new Error(kS());let m=0,b=1,g=0,x=o[m];for(;;){let y=0;if(b<a){if(y=o[b],x===y){++b;continue}if(x>=y)throw new Error(nP())}if(x<0||x>=d)throw new Error(iP(x,d));x>g&&f.fill(s,g*c,x*c);for(let v=m;v<b;++v){const w=i[v];if(w<0||w>=l[0])throw new Error(oP(v,i[v],l[0]));for(let C=0;C<c;C++)f[x*c+C]+=t[w*c+C]}if(r)for(let v=0;v<c;v++)f[x*c+v]/=b-m;if(m=b,++b,g=x+1,x=y,b>a)break}return g<d&&f.fill(s,g*c,d*c),[f,h]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o3e=ua(t=>Math.sqrt(t)),r3e=Wt(Mg,t=>Math.sqrt(t)),s3e={kernelName:Mg,backendName:"cpu",kernelFunc:r3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dj=Vn((t,e)=>{const n=t-e;return n*n}),a3e=oi(jg,dj),l3e={kernelName:jg,backendName:"cpu",kernelFunc:a3e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hj=ua((t,e)=>{const{pattern:n,replaceGlobal:i,rewrite:o}=e;return t.replace(new RegExp(n,i?"g":""),o)}),c3e=_c(Nv,hj),u3e={kernelName:Nv,backendName:"cpu",kernelFunc:c3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pj(t,e,n,i){const o=xt(t,e.dtype);for(let r=0;r<o.size;r++){const s=o.indexToLoc(r),a=new Array(s.length);for(let l=0;l<a.length;l++)a[l]=s[l]*n[l]+i[l];o.set(e.get(...a),...s)}return o}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class d3e{constructor(e,n,i,o,r,s){this.separator=Wl(e),this.nGramWidths=n,this.leftPad=Wl(i),this.rightPad=Wl(o),this.padWidth=r,this.preserveShort=s}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const i=this.getPadWidth(n);return Math.max(0,e+2*i-n+1)}createNGrams(e,n,i,o,r,s){for(let a=0;a<r;++a){const l=this.getPadWidth(s),c=Math.max(0,l-a),u=Math.max(0,l-(r-(a+1))),d=s-(c+u),h=n+(c>0?0:a-l);let p=0;p+=c*this.leftPad.length;for(let x=0;x<d;++x)p+=e[h+x].length;p+=u*this.rightPad.length;const f=c+u+d-1;p+=f*this.separator.length,i[o+a]=new Uint8Array(p);const m=i[o+a];let b=0;const g=x=>x.forEach(y=>m[b++]=y);for(let x=0;x<c;++x)g(this.leftPad),g(this.separator);for(let x=0;x<d-1;++x)g(e[h+x]),g(this.separator);if(d>0){g(e[h+d-1]);for(let x=0;x<u;++x)g(this.separator),g(this.rightPad)}else{for(let x=0;x<u-1;++x)g(this.rightPad),g(this.separator);g(this.rightPad)}}}compute(e,n){const i=e.length,o=n.length;if(o>0){let l=n[0];if(l!==0)throw new Error("First split value must be 0, got ".concat(l));for(let c=1;c<o;++c){let u=n[c]>=l;if(u=u&&n[c]<=i,!u)throw new Error("Invalid split value ".concat(n[c],", must be in [").concat(l,", ").concat(i,"]"));l=n[c]}if(l!==i)throw new Error("Last split value must be data size. Expected ".concat(i,", got ").concat(l))}const r=o-1,s=Pn("int32",o);if(i===0||o===0){const l=new Array(i);for(let c=0;c<=r;++c)s[c]=0;return[l,s]}s[0]=0;for(let l=1;l<=r;++l){const c=n[l]-n[l-1];let u=0;this.nGramWidths.forEach(d=>{u+=this.getNumNGrams(c,d)}),this.preserveShort&&c>0&&u===0&&(u=1),s[l]=s[l-1]+u}const a=new Array(s[r]);for(let l=0;l<r;++l){const c=n[l];let u=s[l];if(this.nGramWidths.forEach(d=>{const h=n[l+1]-n[l],p=this.getNumNGrams(h,d);this.createNGrams(e,c,a,u,p,d),u+=p}),this.preserveShort&&u===s[l]){const d=n[l+1]-n[l];if(d===0)continue;const h=d+2*this.padWidth;this.createNGrams(e,c,a,u,1,h)}}return[a,s]}}function fj(t,e,n,i,o,r,s,a){return new d3e(n,i,o,r,s,a).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h3e(t,e,n,i){if(!t.length)return;if(e.length===0){for(let r=0;r<t.length;++r)i.push(t.subarray(r,r+1));return}if(e.length===1){const r=e[0];let s=t.indexOf(r);for(;s!==-1;){const a=t.subarray(0,s);(!n||a.length!==0)&&i.push(a),t=t.subarray(s+1),s=t.indexOf(r)}(!n||t.length!==0)&&i.push(t);return}let o=0;for(let r=0;r<t.length+1;r++)if(r===t.length||e.indexOf(t[r])!==-1){const s=t.subarray(o,r);(!n||s.length!==0)&&i.push(s),o=r+1}}function mj(t,e,n){const i=t.length,o=[];let r=0,s=0;const a=new Array(i);for(let h=0;h<i;++h){const p=o.length;h3e(t[h],e,n,o);const f=o.length-p;a[h]=f,r+=f,s=Math.max(s,f)}const l=Pn("int32",r*2),c=new Array(r),u=[i,s];let d=0;for(let h=0;h<i;++h)for(let p=0;p<a[h];++p)l[d*2]=h,l[d*2+1]=p,c[d]=o[d],++d;return[l,c,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gj(t,e){const n=Pn("int32",t.length);for(let i=0;i<t.length;++i)n[i]=Tde(t[i]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bj=Vn((t,e)=>t-e),p3e=c_((t,e,n,i)=>({real:t-n,imag:e-i})),f_=oi(Ug,bj,p3e),f3e={kernelName:Ug,backendName:"cpu",kernelFunc:f_};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xj(t,e){const n=new Array(t.rank);for(let o=0;o<n.length;o++)n[o]=t.shape[o]*e[o];const i=xt(n,t.dtype);for(let o=0;o<i.values.length;++o){const r=i.indexToLoc(o),s=new Array(t.rank);for(let l=0;l<s.length;l++)s[l]=r[l]%t.shape[l];const a=t.locToIndex(s);i.values[o]=t.values[a]}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hf=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function yj(t,e,n=0,i=t.length-1){for(;i>n;){if(i-n>600){const a=i-n+1,l=e-n+1,c=Math.log(a),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(a-u)/a)*Math.sign(l-a/2),h=Math.max(n,Math.floor(e-l*u/a+d)),p=Math.min(i,Math.floor(e+(a-l)*u/a+d));yj(t,e,h,p)}const o=t[e];let r=n,s=i;for(jd(t,n,e),hf(t[i],o)>0&&jd(t,n,i);r<s;){for(jd(t,r,s),r++,s--;hf(t[r],o)<0;)r=r+1;for(;hf(t[s],o)>0;)s=s-1}hf(t[n],o)===0?jd(t,n,s):(s=s+1,jd(t,s,i)),s<=e&&(n=s+1),e<=s&&(i=s-1)}}function vj(t,e,n,i,o){const r=e[e.length-1],[s,a]=[t.length/r,r],l=Oi(n,s*i),c=Oi("int32",s*i);for(let d=0;d<s;d++){const h=d*a,p=t.subarray(h,h+a);let f=new Array(p.length);p.forEach((x,y)=>f[y]={value:x,index:y}),i<f.length&&(yj(f,i),f=f.slice(0,i)),o&&f.sort(hf);const m=d*i,b=l.subarray(m,m+i),g=c.subarray(m,m+i);for(let x=0;x<i;x++)b[x]=f[x].value,g[x]=f[x].index}const u=e.slice();return u[u.length-1]=i,[xt(u,n,l),xt(u,"int32",c)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wj(t,e,n,i){const o=Et(e,n)[0],r=[1,n[0],1];for(let f=0;f<o;f++)r[0]*=n[f];r[1]=n[o];for(let f=o+1;f<n.length;f++)r[2]*=n[f];const s=new Map,a=new Int32Array(n[o]),l=new ei(r,i,t),c=[],u=r[0]===1&&r[2]===1;for(let f=0;f<n[o];f++){let m;if(u)m=t[f].toString();else{const g=[];for(let x=0;x<r[0];x++)for(let y=0;y<r[2];y++)g.push(l.get(x,f,y));m=g.join(",")}const b=s.get(m);if(b!=null)a[f]=b;else{const g=s.size;s.set(m,g),a[f]=g,c.push(f)}}const d=r.slice();d[1]=s.size;const h=new ei(d,i);c.forEach((f,m)=>{for(let b=0;b<r[0];b++)for(let g=0;g<r[2];g++)h.set(l.get(b,f,g),b,m,g)});const p=n.slice();return p[o]=d[1],{outputValues:h.values,outputShape:p,indices:a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m3e=Object.freeze(Object.defineProperty({__proto__:null,addImpl:AM,bincountImpl:u_,bincountReduceImpl:NM,bitwiseAndImpl:OM,castImpl:$M,ceilImpl:DM,concatImpl:RM,equalImpl:LM,expImpl:FM,expm1Impl:BM,floorDivImpl:jM,floorImpl:MM,gatherNdImpl:UM,gatherV2Impl:VM,greaterEqualImpl:WM,greaterImpl:HM,lessEqualImpl:qM,lessImpl:GM,linSpaceImpl:KM,logImpl:XM,maxImpl:YM,maximumImpl:ZM,minimumImpl:JM,multiplyImpl:d_,negImpl:QM,notEqualImpl:ej,prodImpl:tj,raggedGatherImpl:nj,raggedRangeImpl:ij,raggedTensorToTensorImpl:oj,rangeImpl:rj,rsqrtImpl:sj,scatterImpl:su,sigmoidImpl:t3e,simpleAbsImpl:_M,sliceImpl:lj,sparseFillEmptyRowsImpl:cj,sparseReshapeImpl:uj,sparseSegmentReductionImpl:p_,sqrtImpl:o3e,squaredDifferenceImpl:dj,staticRegexReplaceImpl:hj,stridedSliceImpl:pj,stringNGramsImpl:fj,stringSplitImpl:mj,stringToHashBucketFastImpl:gj,subImpl:bj,tileImpl:xj,topKImpl:vj,transposeImpl:h_,uniqueImpl:wj},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */qL("cpu",()=>new xw,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kj=Wt(dg,t=>t>=0?t:Math.exp(t)-1),g3e={kernelName:dg,backendName:"cpu",kernelFunc:kj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sj(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{alpha:r}=i;Xe([o],"leakyRelu");const s=ge(o.shape),a=n.data.get(o.dataId).values,l=Oi("float32",s);for(let c=0;c<a.length;c++)l[c]=a[c]<0?r*a[c]:a[c];return n.makeTensorInfo(o.shape,"float32",l)}const b3e={kernelName:ev,backendName:"cpu",kernelFunc:Sj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x3e=Vn((t,e)=>t<0?e*t:t);function Cj(t){const{inputs:e,backend:n}=t,{x:i,alpha:o}=e;Xe([i,o],"prelu");const r=n.data.get(i.dataId).values,s=n.data.get(o.dataId).values,[a,l]=x3e(i.shape,o.shape,r,s,"float32");return n.makeTensorInfo(l,"float32",a)}const y3e={kernelName:yv,backendName:"cpu",kernelFunc:Cj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tj=Wt(Ag,t=>Math.max(0,t)),v3e={kernelName:Ag,backendName:"cpu",kernelFunc:Tj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ej=Wt(Ng,t=>Math.min(Math.max(0,t),6)),w3e={kernelName:Ng,backendName:"cpu",kernelFunc:Ej};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h1(t,e,n,i,o){if(n==="linear")return ra({inputs:{x:e},backend:t});if(n==="relu")return Tj({inputs:{x:e},backend:t});if(n==="elu")return kj({inputs:{x:e},backend:t});if(n==="relu6")return Ej({inputs:{x:e},backend:t});if(n==="prelu")return Cj({inputs:{x:e,alpha:i},backend:t});if(n==="leakyrelu")return Sj({inputs:{x:e},backend:t,attrs:{alpha:o}});if(n==="sigmoid")return aj({inputs:{x:e},backend:t});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rn(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{shape:r}=i,s=ge(o.shape),a=vL(r,s),l=ge(a);M(s===l,()=>"The new shape (".concat(a,") has ").concat(l," elements and the old ")+"shape (".concat(o.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."),n.incRef(o.dataId);const c=n.data.get(o.dataId);if(c.complexTensorInfos!=null){const u=c.complexTensorInfos.real,d=c.complexTensorInfos.imag;u.shape=a,d.shape=a}return{dataId:o.dataId,shape:a,dtype:o.dtype}}const k3e={kernelName:wv,backendName:"cpu",kernelFunc:rn};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ij(t){const{inputs:e,backend:n,attrs:i}=t,{a:o,b:r}=e,{transposeA:s,transposeB:a}=i;Xe([o,r],"matMul");const l=o.shape.length,c=r.shape.length,u=s?o.shape[l-2]:o.shape[l-1],d=a?r.shape[c-1]:r.shape[c-2],h=s?o.shape[l-1]:o.shape[l-2],p=a?r.shape[c-2]:r.shape[c-1],f=o.shape.slice(0,-2),m=r.shape.slice(0,-2),b=ge(f),g=ge(m),y=ft(o.shape.slice(0,-2),r.shape.slice(0,-2)).concat([h,p]);M(u===d,()=>"Error in matMul: inner shapes (".concat(u,") and (")+"".concat(d,") of Tensors with shapes ").concat(o.shape," and ")+"".concat(r.shape," and transposeA=").concat(s)+" and transposeB=".concat(a," must match."));const v=s?[b,u,h]:[b,h,u],w=a?[g,p,d]:[g,d,p],C=rn({inputs:{x:o},backend:n,attrs:{shape:v}}),S=rn({inputs:{x:r},backend:n,attrs:{shape:w}}),E=s?C.shape[1]:C.shape[2],I=s?C.shape[2]:C.shape[1],N=a?S.shape[1]:S.shape[2],B=Math.max(b,g),D=n.data.get(C.dataId).values,P=n.data.get(S.dataId).values,_=nt(C.shape),L=nt(S.shape),[z,V,q]=s?[_[0],1,_[1]]:[_[0],_[1],1],[U,X,G]=a?[1,L[1],L[0]]:[L[1],1,L[0]],W=I*N,le=xt([B,I,N],C.dtype),oe=le.values,ie=n.blockSize;for(let we=0;we<B;we++){const $e=we%b,_e=we%g;for(let Oe=0;Oe<I;Oe+=ie){const We=Math.min(Oe+ie,I);for(let Ge=0;Ge<N;Ge+=ie){const ot=Math.min(Ge+ie,N);for(let st=0;st<E;st+=ie){const O=Math.min(st+ie,E);for(let me=Oe;me<We;me++)for(let he=Ge;he<ot;he++){let Y=0;for(let K=st;K<O;K++){const se=D[$e*z+me*V+K*q],ye=P[K*U+he*X+_e*G];Y+=se*ye}oe[we*W+(me*N+he)]+=Y}}}}}return n.disposeIntermediateTensorInfo(C),n.disposeIntermediateTensorInfo(S),n.makeTensorInfo(y,le.dtype,le.values)}const S3e={kernelName:Py,backendName:"cpu",kernelFunc:Ij};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C3e(t){const{inputs:e,backend:n,attrs:i}=t,{a:o,b:r,bias:s,preluActivationWeights:a}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=i;let h,p,f;const m=[];h=Ij({inputs:{a:o,b:r},attrs:{transposeA:l,transposeB:c},backend:n}),s&&(p=Gh({inputs:{a:h,b:s},backend:n}),m.push(h),h=p),u&&(f=h1(n,h,u,a,d),m.push(h),h=f);for(const g of m)n.disposeIntermediateTensorInfo(g);return h}const T3e={kernelName:Hx,backendName:"cpu",kernelFunc:C3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E3e=Wt(Jm,t=>Math.acos(t)),I3e={kernelName:Jm,backendName:"cpu",kernelFunc:E3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _3e=Wt(Qm,t=>Math.acosh(t)),$3e={kernelName:Qm,backendName:"cpu",kernelFunc:_3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A3e(t){const{inputs:e,backend:n}=t,i=e;Xe(e,"addN");const o=i.map(a=>n.data.get(a.dataId).values),r=xt(i[0].shape,i[0].dtype),s=r.values;for(let a=0;a<i.length;a++){const l=o[a];for(let c=0;c<s.length;c++)s[c]+=l[c]}return n.makeTensorInfo(r.shape,r.dtype,r.values)}const N3e={kernelName:Dy,backendName:"cpu",kernelFunc:A3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,keepDims:s}=i;Xe(o,"all");const a=Et(r,o.shape);let l=a;const c=En(l,o.shape.length);let u=o;c!=null&&(u=Io({inputs:{x:o},backend:n,attrs:{perm:c}}),l=jn(l.length,o.shape.length)),Fi("all",l,u.shape.length);const[d,h]=bi(u.shape,l),p=ge(h),f=Xi(ge(d),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<f.length;++g){const x=g*p;let y=m[x];for(let v=0;v<p;++v){const w=m[x+v];y=y&&w}f[g]=y}c!=null&&n.disposeIntermediateTensorInfo(u);const b=n.makeTensorInfo(d,u.dtype,f);if(s){const g=Mn(d,a),x=rn({inputs:{x:b},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(b),x}return b}const D3e={kernelName:mT,backendName:"cpu",kernelFunc:O3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,keepDims:s}=i;Xe(o,"any");const a=Et(r,o.shape);let l=a;const c=En(l,o.shape.length);let u=o;c!=null&&(u=Io({inputs:{x:o},backend:n,attrs:{perm:c}}),l=jn(l.length,o.shape.length)),Fi("any",l,u.shape.length);const[d,h]=bi(u.shape,l),p=ge(h),f=Xi(ge(d),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<f.length;++g){const x=g*p;let y=m[x];for(let v=0;v<p;++v){const w=m[x+v];y=y||w}f[g]=y}c!=null&&n.disposeIntermediateTensorInfo(u);const b=n.makeTensorInfo(d,u.dtype,f);if(s){const g=Mn(d,a),x=rn({inputs:{x:b},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(b),x}return b}const L3e={kernelName:gT,backendName:"cpu",kernelFunc:R3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r}=i;Xe(o,"argMax");let s=Et(r,o.shape);const a=En(s,o.shape.length);let l=o;const c=[];a!=null&&(l=Io({inputs:{x:o},backend:n,attrs:{perm:a}}),c.push(l),s=jn(s.length,l.shape.length)),s=[s[0]],Fi("argMax",s,l.shape.length);const[u,d]=bi(l.shape,s),h=ge(u),p=Xi(h,"int32"),f=ge(d),m=n.data.get(l.dataId).values;for(let b=0;b<p.length;++b){const g=b*f;let x=m[g],y=0;for(let v=0;v<f;++v){const w=m[g+v];w>x&&(x=w,y=v)}p[b]=y}return c.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(u,"int32",p)}const F3e={kernelName:Ry,backendName:"cpu",kernelFunc:z3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r}=i;Xe(o,"argMin");let s=Et(r,o.shape);const a=En(s,o.shape.length);let l=o;const c=[];a!=null&&(l=Io({inputs:{x:o},backend:n,attrs:{perm:a}}),c.push(l),s=jn(s.length,l.shape.length)),s=[s[0]],Fi("argMin",s,l.shape.length);const[u,d]=bi(l.shape,s),h=ge(u),p=Xi(h,"int32"),f=ge(d),m=n.data.get(l.dataId).values;for(let b=0;b<p.length;++b){const g=b*f;let x=m[g],y=0;for(let v=0;v<f;++v){const w=m[g+v];w<x&&(x=w,y=v)}p[b]=y}return c.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(u,"int32",p)}const B3e={kernelName:Ly,backendName:"cpu",kernelFunc:P3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M3e=Wt(eg,t=>Math.asin(t)),j3e={kernelName:eg,backendName:"cpu",kernelFunc:M3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U3e=Wt(tg,t=>Math.asinh(t)),V3e={kernelName:tg,backendName:"cpu",kernelFunc:U3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H3e=Wt(ng,t=>Math.atan(t)),W3e={kernelName:ng,backendName:"cpu",kernelFunc:H3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G3e=Vn((t,e)=>Math.atan2(t,e)),q3e=oi(og,G3e),K3e={kernelName:og,backendName:"cpu",kernelFunc:q3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X3e=Wt(ig,t=>Math.atanh(t)),Y3e={kernelName:ig,backendName:"cpu",kernelFunc:X3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m_(t,e,n,i,o,r){const s=o.strideHeight,a=o.strideWidth,l=o.dilationHeight,c=o.dilationWidth,u=o.effectiveFilterHeight,d=o.effectiveFilterWidth,h=o.padInfo.top,p=o.padInfo.left,f=r==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=xt(o.outShape,n),b=m.values,g=o.outShape[1]*o.outShape[2]*o.outShape[3],x=o.outShape[2]*o.outShape[3],y=o.outShape[3];for(let v=0;v<o.batchSize;++v){const w=v*g,C=v*i[0];for(let S=0;S<o.inChannels;++S)for(let E=0;E<o.outHeight;++E){const I=E*s-h,N=Math.max(0,I),B=Math.min(o.inHeight,u+I),D=w+E*x;for(let P=0;P<o.outWidth;++P){const _=P*a-p,L=Math.max(0,_),z=Math.min(o.inWidth,d+_);let V=f,q=0,U=0;for(let G=N;G<B;G+=l){const W=C+G*i[1];for(let le=L;le<z;le+=c){const oe=W+le*i[2],ie=t[oe+S];r==="max"&&ie>V?V=ie:r==="avg"&&(q+=ie,U++)}if(isNaN(V))break}const X=D+P*y+S;b[X]=r==="avg"?q/U:V}}}return m}function _j(t,e,n,i,o=!1,r=!1){const s=xt(i.outShape,"int32"),a=i.strideHeight,l=i.strideWidth,c=i.dilationHeight,u=i.dilationWidth,d=i.effectiveFilterHeight,h=i.effectiveFilterWidth,p=i.padInfo.top,f=i.padInfo.left,m=xt(e,n,t);for(let b=0;b<i.batchSize;++b)for(let g=0;g<i.inChannels;++g)for(let x=0;x<i.outHeight;++x){const y=x*a-p;let v=y;for(;v<0;)v+=c;const w=Math.min(i.inHeight,d+y);for(let C=0;C<i.outWidth;++C){const S=C*l-f;let E=S;for(;E<0;)E+=u;const I=Math.min(i.inWidth,h+S);let N=Number.NEGATIVE_INFINITY,B=-1;for(let D=v;D<w;D+=c){const P=D-y;for(let _=E;_<I;_+=u){const L=_-S,z=m.get(b,D,_,g);z>N&&(N=z,o?B=r?((b*i.inHeight+D)*i.inWidth+_)*i.inChannels+g:(D*i.inWidth+_)*i.inChannels+g:B=P*h+L)}}s.set(B,b,x,C,g)}}return s}function $j(t,e,n,i,o,r){const s=o.strideDepth,a=o.strideHeight,l=o.strideWidth,c=o.dilationDepth,u=o.dilationHeight,d=o.dilationWidth,h=o.effectiveFilterDepth,p=o.effectiveFilterHeight,f=o.effectiveFilterWidth,m=o.padInfo.front,b=o.padInfo.top,g=o.padInfo.left,x=r==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=xt(o.outShape,n),v=y.values,w=o.outShape[1]*o.outShape[2]*o.outShape[3]*o.outShape[4],C=o.outShape[2]*o.outShape[3]*o.outShape[4],S=o.outShape[3]*o.outShape[4],E=o.outShape[4];for(let I=0;I<o.batchSize;++I){const N=I*w,B=I*i[0];for(let D=0;D<o.inChannels;++D)for(let P=0;P<o.outDepth;++P){const _=P*s-m;let L=_;for(;L<0;)L+=c;const z=Math.min(o.inDepth,h+_),V=N+P*C;for(let q=0;q<o.outHeight;++q){const U=q*a-b;let X=U;for(;X<0;)X+=u;const G=Math.min(o.inHeight,p+U),W=V+q*S;for(let le=0;le<o.outWidth;++le){const oe=le*l-g;let ie=oe;for(;ie<0;)ie+=d;const we=Math.min(o.inWidth,f+oe),$e=W+le*E;let _e=x,Oe=0,We=0;for(let ot=L;ot<z;ot+=c){const st=B+ot*i[1];for(let O=X;O<G;O+=u){const me=st+O*i[2];for(let he=ie;he<we;he+=d){const Y=me+he*i[3],K=t[Y+D];if(r==="max"&&K>_e?_e=K:r==="avg"&&(Oe+=K,We++),isNaN(_e))break}if(isNaN(_e))break}if(isNaN(_e))break}const Ge=$e+D;v[Ge]=r==="avg"?Oe/Math.max(We,1):_e}}}}return y}function Z3e(t,e){const n=xt(e.outShape,"int32"),i=e.strideDepth,o=e.strideHeight,r=e.strideWidth,s=e.dilationDepth,a=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.front,p=e.padInfo.top,f=e.padInfo.left;for(let m=0;m<e.batchSize;++m)for(let b=0;b<e.inChannels;++b)for(let g=0;g<e.outDepth;++g){const x=g*i-h;let y=x;for(;y<0;)y+=s;const v=Math.min(e.inDepth,c+x);for(let w=0;w<e.outHeight;++w){const C=w*o-p;let S=C;for(;S<0;)S+=a;const E=Math.min(e.inHeight,u+C);for(let I=0;I<e.outWidth;++I){const N=I*r-f;let B=N;for(;B<0;)B+=l;const D=Math.min(e.inWidth,d+N);let P=Number.NEGATIVE_INFINITY,_=-1;for(let L=y;L<v;L+=s){const z=L-x;for(let V=S;V<E;V+=a){const q=V-C;for(let U=B;U<D;U+=l){const X=U-N,G=t.get(m,L,V,U,b);G>=P&&(P=G,_=z*u*d+q*u+X)}}}n.set(_,m,g,w,I,b)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e;Xe(o,"avgPool");const{filterSize:r,strides:s,pad:a,dimRoundingMode:l}=i,c=1;M(zi(s,c),()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(c,"'"));const u=ss(o.shape,r,s,c,a,l);let d;if(u.filterWidth===1&&u.filterHeight===1&&Nt(u.inShape,u.outShape))d=ra({inputs:{x:o},backend:n});else{const h=n.data.get(o.dataId).values,p=nt(o.shape),f=m_(h,o.shape,o.dtype,p,u,"avg");d=n.makeTensorInfo(u.outShape,o.dtype,f.values)}return d}const Q3e={kernelName:zy,backendName:"cpu",kernelFunc:J3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{filterSize:r,strides:s,pad:a,dimRoundingMode:l,dataFormat:c}=i;Xe(o,"avgPool3d");const u=Qa(o.shape,r,s,1,a,l,c),d=n.data.get(o.dataId).values,h=$j(d,o.shape,o.dtype,nt(o.shape),u,"avg");return n.makeTensorInfo(h.shape,"float32",h.values)}const tSe={kernelName:Fy,backendName:"cpu",kernelFunc:eSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nSe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,input:r}=e,{filterSize:s,strides:a,pad:l,dimRoundingMode:c}=i;Xe([o,r],"avgPool3DGrad");const u=Qa(r.shape,s,a,1,l,c),d=u.strideDepth,h=u.strideHeight,p=u.strideWidth,f=u.filterDepth,m=u.filterHeight,b=u.filterWidth,g=u.dilationDepth,x=u.dilationHeight,y=u.dilationWidth,v=u.effectiveFilterDepth,w=u.effectiveFilterHeight,C=u.effectiveFilterWidth,S=v-1-u.padInfo.front,E=C-1-u.padInfo.left,I=w-1-u.padInfo.top,N=xt(r.shape,"float32"),B=1/(f*m*b),D=n.bufferSync(o);for(let P=0;P<u.batchSize;++P)for(let _=0;_<u.inChannels;++_)for(let L=0;L<u.inDepth;++L)for(let z=0;z<u.inHeight;++z)for(let V=0;V<u.inWidth;++V){const q=L-S,U=z-I,X=V-E;let G=0;for(let W=0;W<v;W+=g){const le=(q+W)/d;if(!(le<0||le>=u.outDepth||Math.floor(le)!==le))for(let oe=0;oe<w;oe+=x){const ie=(U+oe)/h;if(!(ie<0||ie>=u.outHeight||Math.floor(ie)!==ie))for(let we=0;we<C;we+=y){const $e=(X+we)/p;if($e<0||$e>=u.outWidth||Math.floor($e)!==$e)continue;const _e=D.get(P,le,ie,$e,_);G+=_e}}}N.set(G*B,P,L,z,V,_)}return n.makeTensorInfo(N.shape,N.dtype,N.values)}const iSe={kernelName:xT,backendName:"cpu",kernelFunc:nSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oSe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,input:r}=e,s=r;Xe([o,r],"avgPoolGrad");const{filterSize:a,strides:l,pad:c}=i,u=ss(s.shape,a,l,1,c),d=u.strideHeight,h=u.strideWidth,p=u.filterHeight,f=u.filterWidth,m=u.dilationHeight,b=u.dilationWidth,g=u.effectiveFilterHeight,x=u.effectiveFilterWidth,y=x-1-u.padInfo.left,v=g-1-u.padInfo.top,w=xt(s.shape,"float32"),C=1/(p*f),S=n.data.get(o.dataId).values,E=xt(o.shape,"float32",S);for(let I=0;I<u.batchSize;++I)for(let N=0;N<u.inChannels;++N)for(let B=0;B<u.inHeight;++B)for(let D=0;D<u.inWidth;++D){const P=B-v,_=D-y;let L=0;for(let z=0;z<g;z+=m){const V=(P+z)/d;if(!(V<0||V>=u.outHeight||Math.floor(V)!==V))for(let q=0;q<x;q+=b){const U=(_+q)/h;if(U<0||U>=u.outWidth||Math.floor(U)!==U)continue;const X=E.get(I,V,U,N);L+=X}}w.set(L*C,I,B,D,N)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const rSe={kernelName:bT,backendName:"cpu",kernelFunc:oSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,scale:r,offset:s,mean:a,variance:l}=e;M(a.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),M(s==null||a.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),M(r==null||a.shape.length===r.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Xe([o,a,l,r,s],"batchNorm");let{varianceEpsilon:c}=i;c==null&&(c=.001);const u=n.data.get(o.dataId).values,d=n.data.get(a.dataId).values,h=n.data.get(l.dataId).values,p=r?n.data.get(r.dataId).values:new Float32Array([1]),f=s?n.data.get(s.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),b=f.length,g=p.length,x=h.length,y=d.length;let v=0,w=0,C=0,S=0;for(let E=0;E<u.length;++E)m[E]=f[v++]+(u[E]-d[w++])*p[C++]/Math.sqrt(h[S++]+c),v>=b&&(v=0),w>=y&&(w=0),C>=g&&(C=0),S>=x&&(S=0);return n.makeTensorInfo(o.shape,o.dtype,m)}const aSe={kernelName:Zy,backendName:"cpu",kernelFunc:sSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{blockShape:r,crops:s}=i;Xe([o],"batchToSpaceND");const a=r.reduce((g,x)=>g*x),l=t0(o.shape,r,a),c=n0(l.length,r.length),u=i0(o.shape,r,a),d=CI(s,r.length),h=TI(u,s,r.length),p=rn({inputs:{x:o},backend:n,attrs:{shape:l}}),f=Io({inputs:{x:p},backend:n,attrs:{perm:c}}),m=rn({inputs:{x:f},backend:n,attrs:{shape:u}}),b=Uu({inputs:{x:m},backend:n,attrs:{begin:d,size:h}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),b}const cSe={kernelName:By,backendName:"cpu",kernelFunc:lSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,weights:r}=e,{size:s}=i,a=n.data.get(o.dataId).values,l=n.data.get(r.dataId).values,c=u_(a,l,r.dtype,r.shape,s);return n.makeTensorInfo([s],r.dtype,c)}const dSe={kernelName:yT,backendName:"cpu",kernelFunc:uSe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hSe(t){const{inputs:e,backend:n}=t,{s0:i,s1:o}=e,r=n.data.get(i.dataId).values,s=n.data.get(o.dataId).values,a=ft(Array.from(r),Array.from(s));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const pSe={kernelName:vT,backendName:"cpu",kernelFunc:hSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fSe=Wt(ag,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),mSe={kernelName:ag,backendName:"cpu",kernelFunc:fSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gSe=t=>{const{x:e}=t.inputs,n=t.backend,i=new Float32Array(ge(e.shape)),o=n.data.get(e.dataId),r=o.complexTensorInfos.real,s=o.complexTensorInfos.imag,a=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values;for(let c=0;c<a.length;c++){const u=a[c],d=l[c];i[c]=Math.hypot(u,d)}return n.makeOutput(i,e.shape,"float32")},bSe={kernelName:jy,backendName:"cpu",kernelFunc:gSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qh(t){const{inputs:e,backend:n}=t,{input:i}=e,o=n.data.get(i.dataId).complexTensorInfos.imag,r=n.data.get(o.dataId).values;return n.makeTensorInfo(o.shape,o.dtype,r)}const xSe={kernelName:BT,backendName:"cpu",kernelFunc:qh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kh(t){const{inputs:e,backend:n,attrs:i}=t,{axis:o}=i,r=Et(o,e[0].shape)[0],s=e.map(m=>m.shape);wI(s,r);let a=Js(e.map(m=>m.shape),r);if(ge(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const l=e.filter(m=>ge(m.shape)>0);if(l.length===1)return ra({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const m=l.map(v=>ju({inputs:{input:v},backend:n})),b=l.map(v=>qh({inputs:{input:v},backend:n})),g=Kh({inputs:m,backend:n,attrs:{axis:r}}),x=Kh({inputs:b,backend:n,attrs:{axis:r}}),y=Po({inputs:{real:g,imag:x},backend:n});return m.forEach(v=>n.disposeIntermediateTensorInfo(v)),b.forEach(v=>n.disposeIntermediateTensorInfo(v)),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(x),y}const c=l.map(m=>{const g=[-1,ge(m.shape.slice(r))];return rn({inputs:{x:m},backend:n,attrs:{shape:g}})}),u=c.map(m=>({vals:n.data.get(m.dataId).values,shape:m.shape}));a=Js(c.map(m=>m.shape),1);const d=c[0].shape[0]===1,h=RM(u,a,e[0].dtype,d),p=Js(l.map(m=>m.shape),r),f=n.makeTensorInfo(p,e[0].dtype,h);return c.forEach(m=>n.disposeIntermediateTensorInfo(m)),f}const ySe={kernelName:Uy,backendName:"cpu",kernelFunc:Kh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aj(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,filter:r}=e,{strides:s,pad:a,dataFormat:l,dilations:c,dimRoundingMode:u}=i;Xe([o,r],"conv2d");const d=el(l),h=gi(o.shape,r.shape,s,c,a,u,!1,d),p=h.filterHeight,f=h.filterWidth,m=h.dilationHeight,b=h.dilationWidth,g=h.padInfo.left,x=h.padInfo.top,y=h.dataFormat==="channelsLast",v=new ei(h.outShape,o.dtype),w=nt(o.shape),C=nt(r.shape),S=w[0],E=y?w[1]:w[2],I=y?w[2]:1,N=y?1:w[1],B=v.strides[0],D=y?v.strides[1]:v.strides[2],P=y?v.strides[2]:1,_=y?1:v.strides[1],L=n.data.get(o.dataId).values,z=n.data.get(r.dataId).values,V=v.values;for(let q=0;q<h.batchSize;++q){const U=q*S,X=q*B;for(let G=0;G<h.outHeight;++G){const W=X+G*D,le=G*h.strideHeight-x;for(let oe=0;oe<p;++oe){const ie=le+oe*m;if(ie<0||ie>=h.inHeight)continue;const we=oe*C[0],$e=U+ie*E;for(let _e=0;_e<h.outWidth;++_e){const Oe=W+_e*P,We=_e*h.strideWidth-g;for(let Ge=0;Ge<f;++Ge){const ot=We+Ge*b;if(ot<0||ot>=h.inWidth)continue;const st=we+Ge*C[1],O=$e+ot*I;let me=st;for(let he=0;he<h.inChannels;++he){const Y=L[O+he*N];for(let K=0;K<h.outChannels;++K)V[Oe+K*_]+=Y*z[me+K];me+=h.outChannels}}}}}}return n.makeTensorInfo(v.shape,v.dtype,V)}const vSe={kernelName:Vy,backendName:"cpu",kernelFunc:Aj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,dy:r}=e,{strides:s,pad:a,dataFormat:l,dimRoundingMode:c,filterShape:u}=i;Xe([o,r],"conv2dBackpropFilter");const d=el(l),h=gi(o.shape,u,s,1,a,c,!1,d),{strideHeight:p,strideWidth:f,filterHeight:m,filterWidth:b}=h,g=h.dataFormat==="channelsLast",x=new ei(h.filterShape,"float32"),y=h.padInfo.left,v=h.padInfo.top,w=n.data.get(o.dataId).values,C=n.data.get(r.dataId).values,S=new ei(o.shape,o.dtype,w),E=new ei(r.shape,r.dtype,C);for(let I=0;I<m;++I){const N=Math.max(0,Math.ceil((v-I)/p)),B=Math.min(h.outHeight,(h.inHeight+v-I)/p);for(let D=0;D<b;++D){const P=Math.max(0,Math.ceil((y-D)/f)),_=Math.min(h.outWidth,(h.inWidth+y-D)/f);for(let L=0;L<h.inChannels;++L)for(let z=0;z<h.outChannels;++z){let V=0;for(let q=0;q<h.batchSize;++q)for(let U=N;U<B;++U){const X=I+U*p-v;for(let G=P;G<_;++G){const W=D+G*f-y;g?V+=S.get(q,X,W,L)*E.get(q,U,G,z):V+=S.get(q,L,X,W)*E.get(q,z,U,G)}}x.set(V,I,D,L,z)}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const kSe={kernelName:kT,backendName:"cpu",kernelFunc:wSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SSe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,filter:r}=e,{inputShape:s,strides:a,pad:l,dataFormat:c,dimRoundingMode:u}=i;Xe([o,r],"conv2dBackpropInput");const d=nt(r.shape),h=nt(o.shape);let p=el(c);const f=gi(s,r.shape,a,1,l,u,!1,p),m=new ei(f.inShape,"float32"),b=m.values,g=n.data.get(o.dataId).values,x=n.data.get(r.dataId).values,[y,v,w]=d,{batchSize:C,filterHeight:S,filterWidth:E,inChannels:I,inHeight:N,inWidth:B,outChannels:D,outHeight:P,outWidth:_,strideHeight:L,strideWidth:z}=f;p=f.dataFormat;const V=S-1-f.padInfo.top,q=E-1-f.padInfo.left,U=p==="channelsLast",X=m.strides[0],G=U?m.strides[1]:m.strides[2],W=U?m.strides[2]:1,le=U?1:m.strides[1],oe=h[0],ie=U?h[1]:h[2],we=U?h[2]:1,$e=U?1:h[1];for(let _e=0;_e<C;++_e)for(let Oe=0;Oe<I;++Oe)for(let We=0;We<N;++We){const Ge=We-V,ot=Math.max(0,Math.ceil(Ge/L)),st=Math.min(P,(S+Ge)/L);for(let O=0;O<B;++O){const me=O-q,he=Math.max(0,Math.ceil(me/z)),Y=Math.min(_,(E+me)/z);let K=0;for(let ye=ot;ye<st;++ye){const Ce=ye*L-Ge;for(let de=he;de<Y;++de){const Ie=de*z-me,Fe=oe*_e+ie*ye+we*de,Ne=y*(S-1-Ce)+v*(E-1-Ie)+w*Oe;for(let He=0;He<D;++He){const mt=g[Fe+$e*He],ct=x[Ne+He];K+=mt*ct}}}const se=X*_e+G*We+W*O+le*Oe;b[se]=K}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const CSe={kernelName:Hy,backendName:"cpu",kernelFunc:SSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,filter:r}=e,{strides:s,pad:a,dilations:l}=i;Xe([o,r],"conv3d");const c=kc(o.shape,r.shape,s,l,a),{filterDepth:u,filterHeight:d,filterWidth:h,dilationDepth:p,dilationHeight:f,dilationWidth:m,padInfo:b}=c,g=b.front,x=b.left,y=b.top,v=new ei(c.outShape,o.dtype),w=n.data.get(o.dataId).values,C=n.data.get(r.dataId).values,S=v.values,E=nt(o.shape),I=nt(r.shape);for(let N=0;N<c.batchSize;++N){const B=N*E[0],D=N*v.strides[0];for(let P=0;P<c.outDepth;++P){const _=D+P*v.strides[1],L=P*c.strideDepth-g;for(let z=0;z<u;++z){const V=L+z*p;if(V<0||V>=c.inDepth)continue;const q=z*I[0],U=B+V*E[1];for(let X=0;X<c.outHeight;++X){const G=_+X*v.strides[2],W=X*c.strideHeight-y;for(let le=0;le<d;++le){const oe=W+le*f;if(oe<0||oe>=c.inHeight)continue;const ie=q+le*I[1],we=U+oe*E[2];for(let $e=0;$e<c.outWidth;++$e){const _e=G+$e*c.outChannels,Oe=$e*c.strideWidth-x;for(let We=0;We<h;++We){const Ge=Oe+We*m;if(Ge<0||Ge>=c.inWidth)continue;const ot=ie+We*I[2],st=we+Ge*c.inChannels;let O=ot;for(let me=0;me<c.inChannels;++me){const he=w[st+me];for(let Y=0;Y<c.outChannels;++Y)S[_e+Y]+=he*C[O+Y];O+=c.outChannels}}}}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const ESe={kernelName:Wy,backendName:"cpu",kernelFunc:TSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ISe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,dy:r}=e,{strides:s,pad:a,filterShape:l}=i;Xe([o,r],"conv3dBackpropFilterV2");const c=nt(o.shape),u=nt(r.shape),d=kc(o.shape,l,s,1,a),h=d.strideDepth,p=d.strideHeight,f=d.strideWidth,m=d.filterDepth,b=d.filterHeight,g=d.filterWidth,x=new ei(d.filterShape,"float32"),y=x.values,[v,w,C,S]=x.strides,E=n.data.get(r.dataId).values,[I,N,B,D]=u,P=n.data.get(o.dataId).values,[_,L,z,V]=c,q=d.padInfo.front,U=d.padInfo.left,X=d.padInfo.top;for(let G=0;G<m;++G){const W=Math.max(0,Math.ceil((q-G)/h)),le=Math.min(d.outDepth,(d.inDepth+q-G)/h),oe=G*v;for(let ie=0;ie<b;++ie){const we=Math.max(0,Math.ceil((X-ie)/p)),$e=Math.min(d.outHeight,(d.inHeight+X-ie)/p),_e=ie*w+oe;for(let Oe=0;Oe<g;++Oe){const We=Math.max(0,Math.ceil((U-Oe)/f)),Ge=Math.min(d.outWidth,(d.inWidth+U-Oe)/f),ot=Oe*C+_e;for(let st=0;st<d.inChannels;++st){const O=st*S+ot;for(let me=0;me<d.outChannels;++me){let he=0;for(let Y=0;Y<d.batchSize;++Y){const K=Y*_,se=Y*I;for(let ye=W;ye<le;++ye){const de=(G+ye*h-q)*L+K,Ie=ye*N+se;for(let Fe=we;Fe<$e;++Fe){const He=(ie+Fe*p-X)*z+de,mt=Fe*B+Ie;for(let ct=We;ct<Ge;++ct){const ho=(Oe+ct*f-U)*V+He,sn=ct*D+mt;he+=P[ho+st]*E[sn+me]}}}}y[O+me]=he}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const _Se={kernelName:ST,backendName:"cpu",kernelFunc:ISe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Se(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,filter:r}=e,{pad:s,strides:a,inputShape:l}=i;Xe([o],"conv3dBackpropInputV2");const c=nt(o.shape),u=nt(r.shape),d=kc(l,r.shape,a,1,s),h=new ei(d.inShape,"float32"),p=h.values,[f,m,b,g]=h.strides,x=n.data.get(o.dataId).values,[y,v,w,C]=c,S=n.data.get(r.dataId).values,[E,I,N,B]=u,{batchSize:D,filterDepth:P,filterHeight:_,filterWidth:L,inChannels:z,inDepth:V,inHeight:q,inWidth:U,outChannels:X,outDepth:G,outHeight:W,outWidth:le,strideDepth:oe,strideHeight:ie,strideWidth:we}=d,$e=P-1-d.padInfo.front,_e=_-1-d.padInfo.top,Oe=L-1-d.padInfo.left;for(let We=0;We<D;++We)for(let Ge=0;Ge<z;++Ge)for(let ot=0;ot<V;++ot){const st=ot-$e,O=Math.max(0,Math.ceil(st/oe)),me=Math.min(G,(P+st)/oe);for(let he=0;he<q;++he){const Y=he-_e,K=Math.max(0,Math.ceil(Y/ie)),se=Math.min(W,(_+Y)/ie);for(let ye=0;ye<U;++ye){const Ce=ye-Oe,de=Math.max(0,Math.ceil(Ce/we)),Ie=Math.min(le,(L+Ce)/we);let Fe=0;for(let Ne=O;Ne<me;++Ne){const He=Ne*oe-st;for(let mt=K;mt<se;++mt){const ct=mt*ie-Y;for(let Vt=de;Vt<Ie;++Vt){const ho=Vt*we-Ce,sn=y*We+v*Ne+w*mt+C*Vt,$o=E*(P-1-He)+I*(_-1-ct)+N*(L-1-ho)+B*Ge;for(let Bt=0;Bt<X;++Bt){const Ao=x[sn+Bt],er=S[$o+Bt];Fe+=Ao*er}}}}p[f*We+m*ot+b*he+g*ye+Ge]=Fe}}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}const ASe={kernelName:CT,backendName:"cpu",kernelFunc:$Se};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NSe=Wt(lg,t=>Math.cos(t)),OSe={kernelName:lg,backendName:"cpu",kernelFunc:NSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DSe=Wt(cg,t=>Math.cosh(t)),RSe={kernelName:cg,backendName:"cpu",kernelFunc:DSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LSe(t){const{inputs:e,backend:n,attrs:i}=t,{image:o,boxes:r,boxInd:s}=e,{cropSize:a,method:l,extrapolationValue:c}=i,[u,d,h,p]=o.shape,f=r.shape[0],[m,b]=a,g=xt([f,m,b,p],"float32"),x=n.data.get(r.dataId).values,y=n.data.get(s.dataId).values,v=n.data.get(o.dataId).values,w=nt(o.shape),C=nt(g.shape);for(let S=0;S<f;S++){const E=S*4,I=x[E],N=x[E+1],B=x[E+2],D=x[E+3],P=y[S];if(P>=u)continue;const _=m>1?(B-I)*(d-1)/(m-1):0,L=b>1?(D-N)*(h-1)/(b-1):0;for(let z=0;z<m;z++){const V=m>1?I*(d-1)+z*_:.5*(I+B)*(d-1);if(V<0||V>d-1){for(let q=0;q<b;q++)for(let U=0;U<p;U++){const X=U+q*C[2]+z*C[1]+S*C[0];g.values[X]=c}continue}if(l==="bilinear"){const q=Math.floor(V),U=Math.ceil(V),X=V-q;for(let G=0;G<b;G++){const W=b>1?N*(h-1)+G*L:.5*(N+D)*(h-1);if(W<0||W>h-1){for(let we=0;we<p;we++){const $e=we+G*C[2]+z*C[1]+S*C[0];g.values[$e]=c}continue}const le=Math.floor(W),oe=Math.ceil(W),ie=W-le;for(let we=0;we<p;we++){let $e=we+le*w[2]+q*w[1]+P*w[0];const _e=v[$e];$e=we+oe*w[2]+q*w[1]+P*w[0];const Oe=v[$e];$e=we+le*w[2]+U*w[1]+P*w[0];const We=v[$e];$e=we+oe*w[2]+U*w[1]+P*w[0];const Ge=v[$e],ot=_e+(Oe-_e)*ie,st=We+(Ge-We)*ie;$e=we+G*C[2]+z*C[1]+S*C[0],g.values[$e]=ot+(st-ot)*X}}}else for(let q=0;q<b;++q){const U=b>1?N*(h-1)+q*L:.5*(N+D)*(h-1);if(U<0||U>h-1){for(let W=0;W<p;W++){const le=W+q*C[2]+z*C[1]+S*C[0];g.values[le]=c}continue}const X=Math.round(U),G=Math.round(V);for(let W=0;W<p;W++){const le=W+X*w[2]+G*w[1]+P*w[0],oe=W+q*C[2]+z*C[1]+S*C[0];g.values[oe]=v[le]}}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const zSe={kernelName:ET,backendName:"cpu",kernelFunc:LSe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,exclusive:s,reverse:a}=i;Xe(o,"cumprod");const l=En([r],o.shape.length);let c=o;l!=null&&(c=Io({inputs:{x:o},backend:n,attrs:{perm:l}}));const u=jn(1,o.shape.length)[0];if(u!==c.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(u));const d=Go(c.dtype,"int32"),h=pT(ge(c.shape),d),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=a?(g,x)=>g+f-x-1:(g,x)=>g+x;for(let g=0;g<p.length;g+=f)for(let x=0;x<f;x++){const y=m(g,x);if(x===0)h[y]=s?1:p[y];else{const v=m(g,x-1);h[y]=s?p[v]*h[v]:p[y]*h[v]}}const b=n.makeTensorInfo(c.shape,d,h);if(l!=null){const g=Sc(l),x=Io({inputs:{x:b},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(c),x}return b}const PSe={kernelName:TT,backendName:"cpu",kernelFunc:FSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,exclusive:s,reverse:a}=i;Xe(o,"cumsum");const l=En([r],o.shape.length);let c=o;l!=null&&(c=Io({inputs:{x:o},backend:n,attrs:{perm:l}}));const u=jn(1,o.shape.length)[0];if(u!==c.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(u));const d=Go(c.dtype,"int32"),h=Xi(ge(c.shape),d),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=a?(g,x)=>g+f-x-1:(g,x)=>g+x;for(let g=0;g<p.length;g+=f)for(let x=0;x<f;x++){const y=m(g,x);if(x===0)h[y]=s?0:p[y];else{const v=m(g,x-1);h[y]=s?p[v]+h[v]:p[y]+h[v]}}const b=n.makeTensorInfo(c.shape,d,h);if(l!=null){const g=Sc(l),x=Io({inputs:{x:b},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(c),x}return b}const MSe={kernelName:Gy,backendName:"cpu",kernelFunc:BSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,weights:r}=e,{size:s,binaryOutput:a}=i;if(o.shape.length===1){const l=n.data.get(o.dataId).values,c=n.data.get(r.dataId).values,u=u_(l,c,r.dtype,r.shape,s);return n.makeTensorInfo([s],r.dtype,u)}else if(o.shape.length===2){const l=n.bufferSync(o),c=n.bufferSync(r),u=NM(l,c,s,a);return n.makeTensorInfo(u.shape,r.dtype,u.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(o.shape.length,"."))}const USe={kernelName:IT,backendName:"cpu",kernelFunc:jSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{blockSize:r,dataFormat:s}=i;M(s==="NHWC",()=>"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(s));const a=o.shape[0],l=o.shape[1],c=o.shape[2],u=o.shape[3],d=l*r,h=c*r,p=u/(r*r),f=n.data.get(o.dataId).values,m=new Float32Array(a*d*h*p);let b=0;for(let g=0;g<a;++g)for(let x=0;x<d;++x){const y=Math.floor(x/r),v=x%r;for(let w=0;w<h;++w){const C=Math.floor(w/r),S=w%r,E=(v*r+S)*p;for(let I=0;I<p;++I){const B=I+E+u*(C+c*(y+l*g));m[b++]=f[B]}}}return n.makeTensorInfo([a,d,h,p],o.dtype,m)}const HSe={kernelName:_T,backendName:"cpu",kernelFunc:VSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nj(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,filter:r}=e,{strides:s,pad:a,dilations:l,dimRoundingMode:c}=i;Xe([o,r],"depthwiseConv2DNative");const u=nt(o.shape),d=nt(r.shape);let h=l;h==null&&(h=[1,1]),M(zi(s,h),()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(h,"'"));const p=gi(o.shape,r.shape,s,h,a,c,!0),{filterHeight:f,filterWidth:m,dilationHeight:b,dilationWidth:g,padInfo:x}=p,y=x.left,v=x.top,w=p.outChannels/p.inChannels,C=new ei(p.outShape,o.dtype),S=n.data.get(o.dataId).values,E=n.data.get(r.dataId).values,I=C.values;for(let N=0;N<p.batchSize;++N){const B=N*u[0],D=N*C.strides[0];for(let P=0;P<p.outHeight;++P){const _=D+P*C.strides[1],L=P*p.strideHeight-v;for(let z=0;z<f;++z){const V=L+z*b;if(V<0||V>=p.inHeight)continue;const q=z*d[0],U=B+V*u[1];for(let X=0;X<p.outWidth;++X){const G=_+X*C.strides[2],W=X*p.strideWidth-y;for(let le=0;le<m;++le){const oe=W+le*g;if(oe<0||oe>=p.inWidth)continue;const ie=q+le*d[1],we=U+oe*p.inChannels;let $e=G,_e=ie;for(let Oe=0;Oe<p.inChannels;++Oe){const We=S[we+Oe];for(let Ge=0;Ge<w;++Ge)I[$e+Ge]+=We*E[_e+Ge];$e+=w,_e+=w}}}}}}return n.makeTensorInfo(C.shape,C.dtype,C.values)}const WSe={kernelName:qy,backendName:"cpu",kernelFunc:Nj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,dy:r}=e,{strides:s,dilations:a,pad:l,dimRoundingMode:c,filterShape:u}=i;Xe([o,r],"depthwiseConv2dNativeBackpropFilter");const d=gi(o.shape,u,s,a,l,c,!0),{strideHeight:h,strideWidth:p,filterHeight:f,filterWidth:m}=d,b=new ei(d.filterShape,"float32"),g=d.padInfo.left,x=d.padInfo.top,y=d.outChannels/d.inChannels,v=n.data.get(o.dataId).values,w=new ei(o.shape,o.dtype,v),C=n.data.get(r.dataId).values,S=new ei(r.shape,r.dtype,C);for(let E=0;E<f;++E){const I=Math.max(0,Math.ceil((x-E)/h)),N=Math.min(d.outHeight,(d.inHeight+x-E)/h);for(let B=0;B<m;++B){const D=Math.max(0,Math.ceil((g-B)/p)),P=Math.min(d.outWidth,(d.inWidth+g-B)/p);for(let _=0;_<d.outChannels;++_){const L=Math.trunc(_/y),z=_%y;let V=0;for(let q=0;q<d.batchSize;++q)for(let U=I;U<N;++U){const X=E+U*h-x;for(let G=D;G<P;++G){const W=B+G*p-g;V+=w.get(q,X,W,L)*S.get(q,U,G,_)}}b.set(V,E,B,L,z)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const qSe={kernelName:$T,backendName:"cpu",kernelFunc:GSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KSe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,filter:r}=e,{strides:s,dilations:a,pad:l,dimRoundingMode:c,inputShape:u}=i;Xe([o,r],"depthwiseConv2DNativeBackpropInput");const d=nt(o.shape),h=nt(r.shape),p=gi(u,r.shape,s,a,l,c,!0),f=new ei(p.inShape,"float32"),m=f.values,[b,g,x]=f.strides,y=n.data.get(o.dataId).values,[v,w,C]=d,S=n.data.get(r.dataId).values,[E,I,N]=h,{batchSize:B,filterHeight:D,filterWidth:P,inChannels:_,inHeight:L,inWidth:z,outChannels:V,outHeight:q,outWidth:U,strideHeight:X,strideWidth:G}=p,W=D-1-p.padInfo.top,le=P-1-p.padInfo.left,oe=V/_;for(let ie=0;ie<B;++ie)for(let we=0;we<_;++we)for(let $e=0;$e<L;++$e){const _e=$e-W,Oe=Math.max(0,Math.ceil(_e/X)),We=Math.min(q,(D+_e)/X);for(let Ge=0;Ge<z;++Ge){const ot=Ge-le,st=Math.max(0,Math.ceil(ot/G)),O=Math.min(U,(P+ot)/G);let me=0;for(let he=Oe;he<We;++he){const Y=he*X-_e;for(let K=st;K<O;++K){const se=K*G-ot,ye=v*ie+w*he+C*K,Ce=E*(D-1-Y)+I*(P-1-se)+N*we;for(let de=0;de<oe;++de){const Ie=we*oe+de,Fe=y[ye+Ie],Ne=S[Ce+de];me+=Fe*Ne}}}m[b*ie+g*$e+x*Ge+we]=me}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}const XSe={kernelName:AT,backendName:"cpu",kernelFunc:KSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YSe(t){const{inputs:e,backend:n}=t,{x:i}=e,o=ge(i.shape),r=n.data.get(i.dataId).values,s=xt([o,o],i.dtype),a=s.values;for(let c=0;c<r.length;c++)a[c*o+c]=r[c];const l=[...i.shape,...i.shape];return n.makeTensorInfo(l,s.dtype,s.values)}const ZSe={kernelName:NT,backendName:"cpu",kernelFunc:YSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JSe={kernelName:Ky,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:i,filter:o}=t,{strides:r,pad:s,dilations:a}=n,l=e,c=l.data.get(i.dataId).values,u=i.shape.length,d=l.data.get(o.dataId).values,h=o.shape.length,{batchSize:p,inHeight:f,inWidth:m,inChannels:b,outHeight:g,outWidth:x,padInfo:y,strideHeight:v,strideWidth:w,filterHeight:C,filterWidth:S,dilationHeight:E,dilationWidth:I,outShape:N}=Kg(i.shape,o.shape,r,s,"NHWC",a),B=ge(N),D=N.length,P=Pn(i.dtype,B);for(let L=0;L<p;++L)for(let z=0;z<g;++z){const V=z*v-y.top;for(let q=0;q<x;++q){const U=q*w-y.left;for(let X=0;X<b;++X){let G=Number.MIN_SAFE_INTEGER;for(let le=0;le<C;++le){const oe=V+le*E;if(oe>=0&&oe<f)for(let ie=0;ie<S;++ie){const we=U+ie*I;if(we>=0&&we<m){const $e=Zs([L,oe,we,X],u,nt(i.shape)),_e=Zs([le,ie,X],h,nt(o.shape)),Oe=c[$e]+d[_e];Oe>G&&(G=Oe)}}}const W=Zs([L,z,q,X],D,nt(N));P[W]=G}}}return{dataId:l.write(nd(P,i.dtype),N,i.dtype),shape:N,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QSe={kernelName:nS,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:i,filter:o,dy:r}=t,{strides:s,pad:a,dilations:l}=n,c=e,u=Xr(i.shape,c.data.get(i.dataId).values),d=Xr(o.shape,c.data.get(o.dataId).values),{batchSize:h,inHeight:p,inWidth:f,inChannels:m,outHeight:b,outWidth:g,padInfo:x,strideHeight:y,strideWidth:v,filterHeight:w,filterWidth:C,dilationHeight:S,dilationWidth:E,outShape:I}=Kg(i.shape,o.shape,s,a,"NHWC",l);M(r.rank===I.length,()=>"Error in ".concat(nS,", dy ")+"must have the same rank as output ".concat(I.length,", but got ")+"".concat(r.rank));const N=Xr(I,c.data.get(r.dataId).values),B=SL(o.shape,o.dtype);for(let P=0;P<h;++P)for(let _=0;_<b;++_){const L=_*y-x.top;for(let z=0;z<g;++z){const V=z*v-x.left;for(let q=0;q<m;++q){let U=Number.MIN_SAFE_INTEGER,X=0,G=0;for(let W=0;W<w;++W){const le=L+W*S;if(le>=0&&le<p)for(let oe=0;oe<C;++oe){const ie=V+oe*E;if(ie>=0&&ie<f){const we=u[P][le][ie][q]+d[W][oe][q];we>U&&(U=we,X=W,G=oe)}}}B[X][G][q]+=N[P][_][z][q]}}}return{dataId:c.write(nd(B,i.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eCe={kernelName:tS,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:i,filter:o,dy:r}=t,{strides:s,pad:a,dilations:l}=n,c=e,u=Xr(i.shape,c.data.get(i.dataId).values),d=Xr(o.shape,c.data.get(o.dataId).values),{batchSize:h,inHeight:p,inWidth:f,inChannels:m,outHeight:b,outWidth:g,padInfo:x,strideHeight:y,strideWidth:v,filterHeight:w,filterWidth:C,dilationHeight:S,dilationWidth:E,outShape:I}=Kg(i.shape,o.shape,s,a,"NHWC",l);M(r.rank===I.length,()=>"Error in ".concat(tS,", dy ")+"must have the same rank as output ".concat(I.length,", but got ")+"".concat(r.rank));const N=Xr(I,c.data.get(r.dataId).values),B=SL(i.shape,i.dtype);for(let P=0;P<h;++P)for(let _=0;_<b;++_){const L=_*y-x.top;for(let z=0;z<g;++z){const V=z*v-x.left;for(let q=0;q<m;++q){let U=Number.MIN_SAFE_INTEGER,X=L<0?0:L,G=V<0?0:V;for(let W=0;W<w;++W){const le=L+W*S;if(le>=0&&le<p)for(let oe=0;oe<C;++oe){const ie=V+oe*E;if(ie>=0&&ie<f){const we=u[P][le][ie][q]+d[W][oe][q];we>U&&(U=we,X=le,G=ie)}}}B[P][X][G][q]+=N[P][_][z][q]}}}return{dataId:c.write(nd(B,i.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tCe(t){const{inputs:e,backend:n,attrs:i}=t,{image:o}=e,{canvas:r,options:s}=i,{contextOptions:a,imageOptions:l}=s||{},c=(l==null?void 0:l.alpha)||1,u=(a==null?void 0:a.contextType)||"2d";if(u!=="2d")throw new Error("Context type ".concat(a.contextType," is not supported by the CPU backend."));const d=r.getContext(u,(a==null?void 0:a.contextAttributes)||{});if(d==null)throw new Error("Could not get the context with ".concat(u," type."));const[h,p]=o.shape.slice(0,2),f=o.shape.length===2?1:o.shape[2],m=n.data.get(o.dataId).values,b=o.dtype==="float32"?255:1,g=new Uint8ClampedArray(p*h*4);for(let y=0;y<h*p;++y){const v=[0,0,0,255*c];for(let C=0;C<f;C++){const S=m[y*f+C];if(o.dtype==="float32"){if(S<0||S>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(S,"."))}else if(o.dtype==="int32"&&(S<0||S>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(S,"."));f===1?(v[0]=S*b,v[1]=S*b,v[2]=S*b):v[C]=S*b}const w=y*4;g[w+0]=Math.round(v[0]),g[w+1]=Math.round(v[1]),g[w+2]=Math.round(v[2]),g[w+3]=Math.round(v[3])}r.width=p,r.height=h;const x=new ImageData(g,p,h);return d.putImageData(x,0,0),o}const nCe={kernelName:fde,backendName:"cpu",kernelFunc:tCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h0(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,keepDims:s}=i;Xe(o,"sum");let a;o.dtype==="bool"?a=cc({inputs:{x:o},backend:n,attrs:{dtype:"int32"}}):a=ra({inputs:{x:o},backend:n});const l=a.shape.length,c=Et(r,a.shape),u=En(c,l);let d=c,h=a;u!=null&&(h=Io({inputs:{x:a},backend:n,attrs:{perm:u}}),d=jn(d.length,l)),Fi("sum",d,h.shape.length);const[p,f]=bi(h.shape,d),m=Go(h.dtype,"int32");let b=u1(n,p,m);const g=ge(f),x=n.data.get(b.dataId).values,y=n.data.get(h.dataId).values;for(let v=0;v<x.length;++v){const w=v*g;let C=0;for(let S=0;S<g;++S)C+=y[w+S];x[v]=C}if(s){const v=Mn(b.shape,c),w=b;b=rn({inputs:{x:b},backend:n,attrs:{shape:v}}),n.disposeIntermediateTensorInfo(w)}return n.disposeIntermediateTensorInfo(a),u!=null&&n.disposeIntermediateTensorInfo(h),b}const iCe={kernelName:Iv,backendName:"cpu",kernelFunc:h0};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oCe(t){const{inputs:e,backend:n,attrs:i}=t,{equation:o}=i,r=e,{allDims:s,summedDims:a,idDims:l}=DI(o,r.length);LI(s.length,l,r);const{path:c,steps:u}=zI(a,l),d=u.length;let h=null,p=s.length;const f=[];for(let m=0;m<d;++m){for(const b of u[m]){const{permutationIndices:g,expandDims:x}=RI(p,l[b]);let y;FI(g)?y=r[b]:(y=Io({inputs:{x:r[b]},backend:n,attrs:{perm:g}}),f.push(y));const v=y.shape.slice();for(let w=0;w<x.length;++w)v.splice(x[w],0,1);Nt(y.shape,v)||(y=rn({inputs:{x:y},backend:n,attrs:{shape:v}}),f.push(y)),h===null?h=y:(h=yw({inputs:{a:y,b:h},backend:n}),f.push(h))}m<d-1&&(c[m]>=0&&(h=h0({inputs:{x:h},backend:n,attrs:{axis:c[m]-(s.length-p),keepDims:!1}}),f.push(h)),p--)}for(const m of f)m!==h&&n.disposeIntermediateTensorInfo(m);return h}const rCe={kernelName:OT,backendName:"cpu",kernelFunc:oCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sCe(t){const{inputs:e,backend:n}=t,{dy:i,y:o}=e;Xe([i,o],"eluGrad");const r=new Float32Array(ge(o.shape)),s=n.data.get(o.dataId).values,a=n.data.get(i.dataId).values;for(let l=0;l<s.length;++l){const c=s[l];c>=0?r[l]=a[l]:r[l]=a[l]*(c+1)}return n.makeTensorInfo(o.shape,"float32",r)}const aCe={kernelName:DT,backendName:"cpu",kernelFunc:sCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lCe=EI,cCe=II,uCe=_I,dCe=$I,hCe=AI,pCe=NI,fCe=Wt(hg,t=>{const e=Math.sign(t),n=Math.abs(t),i=1/(1+lCe*n);return e*(1-((((pCe*i+hCe)*i+dCe)*i+uCe)*i+cCe)*i*Math.exp(-n*n))}),mCe={kernelName:hg,backendName:"cpu",kernelFunc:fCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p1(t){const{inputs:e,backend:n,attrs:i}=t,{input:o}=e,{dim:r}=i,s=o.shape.length,a=o.shape.slice();let l=r;return r<0&&(M(-(s+1)<=r,()=>"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]")),l=s+r+1),a.splice(l,0,1),rn({inputs:{x:o},backend:n,attrs:{shape:a}})}const gCe={kernelName:Yy,backendName:"cpu",kernelFunc:p1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bCe=Vn((t,e)=>t/e),g_=oi(ug,bCe),HS={kernelName:ug,backendName:"cpu",kernelFunc:g_};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oj(t,e,n){const i=t.shape,o=i[0],r=i[1],s=n.data.get(t.dataId),a=s.complexTensorInfos.real,l=s.complexTensorInfos.imag,c=[o,r],u=ge(c),d=Oi("float32",u),h=Oi("float32",u);for(let b=0;b<o;b++){const g=Uu({inputs:{x:a},backend:n,attrs:{begin:[b,0],size:[1,r]}}),x=Uu({inputs:{x:l},backend:n,attrs:{begin:[b,0],size:[1,r]}}),y=Po({inputs:{real:g,imag:x},backend:n}),{real:v,imag:w}=xCe(y,e,n),C=Ka(v,w);for(let S=0;S<r;S++){const E=OI(C,S);d[b*r+S]=E.real,h[b*r+S]=E.imag}n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(y)}const p=n.makeTensorInfo(c,"float32",d),f=n.makeTensorInfo(c,"float32",h),m=Po({inputs:{real:p,imag:f},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}function xCe(t,e,n){const i=ge(t.shape),o=n.data.get(t.dataId),r=n.data.get(o.complexTensorInfos.real.dataId).values,s=n.data.get(o.complexTensorInfos.imag.dataId).values;if(yCe(i)){const a=WS(r,s,i,e,n),l=[t.shape[0],t.shape[1]];if(e){const c=n.makeTensorInfo(l,"float32",a.real),u=n.makeTensorInfo(l,"float32",a.imag),d=n.makeTensorInfo([],"float32",yc(i,"float32")),h=ra({inputs:{x:d},backend:n}),p=HS.kernelFunc({inputs:{a:c,b:d},backend:n}),f=HS.kernelFunc({inputs:{a:u,b:h},backend:n}),m=n.data.get(p.dataId).values,b=n.data.get(f.dataId).values;return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),{real:m,imag:b}}return a}else{const a=Ka(r,s),l=vCe(a,i,e);return UF(l)}}function yCe(t){return(t&t-1)===0}function WS(t,e,n,i,o){if(n===1)return{real:t,imag:e};const r=Ka(t,e),s=n/2,a=VF(r),l=a.real,c=a.imag,u=[l.length],d=o.makeTensorInfo(u,"float32",l),h=o.makeTensorInfo(u,"float32",c),p=Po({inputs:{real:d,imag:h},backend:o}),f=HF(r),m=f.real,b=f.imag,g=[m.length],x=o.makeTensorInfo(g,"float32",m),y=o.makeTensorInfo(g,"float32",b),v=Po({inputs:{real:x,imag:y},backend:o}),w=WS(l,c,s,i,o),C=w.real,S=w.imag,E=[C.length],I=o.makeTensorInfo(E,"float32",C),N=o.makeTensorInfo(E,"float32",S),B=Po({inputs:{real:I,imag:N},backend:o}),D=WS(m,b,s,i,o),P=D.real,_=D.imag,L=[P.length],z=o.makeTensorInfo(L,"float32",P),V=o.makeTensorInfo(L,"float32",_),q=Po({inputs:{real:z,imag:V},backend:o}),U=GF(n,i),X=[U.real.length],G=o.makeTensorInfo(X,"float32",U.real),W=o.makeTensorInfo(X,"float32",U.imag),le=Po({inputs:{real:G,imag:W},backend:o}),oe=yw({inputs:{a:le,b:q},backend:o}),ie=Gh({inputs:{a:B,b:oe},backend:o}),we=f_({inputs:{a:B,b:oe},backend:o}),$e=ju({inputs:{input:ie},backend:o}),_e=ju({inputs:{input:we},backend:o}),Oe=qh({inputs:{input:ie},backend:o}),We=qh({inputs:{input:we},backend:o}),Ge=Kh({inputs:[$e,_e],backend:o,attrs:{axis:0}}),ot=Kh({inputs:[Oe,We],backend:o,attrs:{axis:0}}),st=o.data.get(Ge.dataId).values,O=o.data.get(ot.dataId).values;return o.disposeIntermediateTensorInfo(d),o.disposeIntermediateTensorInfo(h),o.disposeIntermediateTensorInfo(p),o.disposeIntermediateTensorInfo(x),o.disposeIntermediateTensorInfo(y),o.disposeIntermediateTensorInfo(v),o.disposeIntermediateTensorInfo(I),o.disposeIntermediateTensorInfo(N),o.disposeIntermediateTensorInfo(B),o.disposeIntermediateTensorInfo(z),o.disposeIntermediateTensorInfo(V),o.disposeIntermediateTensorInfo(q),o.disposeIntermediateTensorInfo(G),o.disposeIntermediateTensorInfo(W),o.disposeIntermediateTensorInfo(le),o.disposeIntermediateTensorInfo(oe),o.disposeIntermediateTensorInfo(ie),o.disposeIntermediateTensorInfo(we),o.disposeIntermediateTensorInfo($e),o.disposeIntermediateTensorInfo(Oe),o.disposeIntermediateTensorInfo(_e),o.disposeIntermediateTensorInfo(We),o.disposeIntermediateTensorInfo(Ge),o.disposeIntermediateTensorInfo(ot),{real:st,imag:O}}function vCe(t,e,n){const i=new Float32Array(e*2);for(let o=0;o<e;o++){let r=0,s=0;for(let a=0;a<e;a++){const l=qF(o*a,e,n),c=OI(t,a);r+=c.real*l.real-c.imag*l.imag,s+=c.real*l.imag+c.imag*l.real}n&&(r/=e,s/=e),WF(i,r,s,o)}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wCe(t){const{inputs:e,backend:n}=t,{input:i}=e,o=ge(i.shape),r=i.shape[i.shape.length-1],s=o/r,a=rn({inputs:{x:i},backend:n,attrs:{shape:[s,r]}}),l=Oj(a,!1,n),c=rn({inputs:{x:l},backend:n,attrs:{shape:i.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}const kCe={kernelName:RT,backendName:"cpu",kernelFunc:wCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b_(t){const{backend:e,attrs:n}=t,{shape:i,value:o,dtype:r}=n,s=r||fp(o),a=Pn(s,ge(i));return CCe(a,o,s),e.makeTensorInfo(i,s,a)}const SCe={kernelName:LT,backendName:"cpu",kernelFunc:b_};function CCe(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TCe={kernelName:zT,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:i}=t,o=n,r=Oi(i.dtype,ge(i.shape)),[s,a,l,c]=i.shape,u=o.data.get(i.dataId).values;for(let h=0;h<s;h++){const p=h*l*a*c;for(let f=0;f<a;f++){const m=f*(l*c);for(let b=0;b<l;b++){const g=b*c;for(let x=0;x<c;x++){const y=Math.round(l-b-1),v=p+m+g+x;let w=u[v];if(y>=0&&y<l){const C=y*c,S=p+m+C+x;w=u[S]}r[v]=w}}}}return{dataId:o.write(r,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ECe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,filter:r,bias:s,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=i;let m=Aj({inputs:{x:o,filter:r},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h}});if(s){const b=m;if(u==="NCHW"&&s.shape.length===1&&s.shape[0]!==1){const g=rn({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=Gh({inputs:{a:m,b:g},backend:n}),n.disposeIntermediateTensorInfo(g)}else m=Gh({inputs:{a:m,b:s},backend:n});n.disposeIntermediateTensorInfo(b)}if(p){const b=m;if(u==="NCHW"&&p==="prelu"&&a.shape.length===1&&a.shape[0]!==1){const g=rn({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});m=h1(n,m,p,g,f),n.disposeIntermediateTensorInfo(g)}else m=h1(n,m,p,a,f);n.disposeIntermediateTensorInfo(b)}return m}const ICe={kernelName:Wx,backendName:"cpu",kernelFunc:ECe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Ce(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,filter:r,bias:s,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=i;let m=Nj({inputs:{x:o,filter:r},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h}});if(s){const b=m;m=Gh({inputs:{a:m,b:s},backend:n}),n.disposeIntermediateTensorInfo(b)}if(p){const b=m;m=h1(n,m,p,a,f),n.disposeIntermediateTensorInfo(b)}return m}const $Ce={kernelName:Gx,backendName:"cpu",kernelFunc:_Ce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ACe(t){const{inputs:e,backend:n}=t,{params:i,indices:o}=e,r=ge(i.shape),s=o.shape,a=s[s.length-1],[l,c,u,d]=mI(i,o);if(c===0)return n.makeTensorInfo(l,i.dtype,[]);const h=n.data.get(o.dataId).values,p=n.bufferSync(i),f=UM(h,p,i.dtype,c,a,u,d,i.shape,r);return n.makeTensorInfo(l,i.dtype,f.values)}const NCe={kernelName:FT,backendName:"cpu",kernelFunc:ACe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OCe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,indices:r}=e,{axis:s,batchDims:a}=i;Xe([o,r],"gatherV2");const l=Et(s,o.shape)[0],c=n.data.get(r.dataId).values,u=o.shape[l];for(let v=0;v<c.length;++v){const w=c[v];M(w<=u-1&&w>=0,()=>"GatherV2: the index value ".concat(w," is not in [0, ").concat(u-1,"]"))}let d=a;a==null&&(d=0);const h=ge(r.shape),p=BI(o,r,l,d),f=rn({inputs:{x:o},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),m=rn({inputs:{x:r},backend:n,attrs:{shape:[p.batchSize,h/p.batchSize]}}),b=[p.batchSize,p.outerSize,h/p.batchSize,p.sliceSize],g=n.bufferSync(m),x=n.bufferSync(f),y=VM(x,g,b);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(p.outputShape,y.dtype,y.values)}const DCe={kernelName:Jy,backendName:"cpu",kernelFunc:OCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RCe(t){const{inputs:e,backend:n}=t,{input:i}=e,o=ge(i.shape),r=i.shape[i.shape.length-1],s=o/r,a=rn({inputs:{x:i},backend:n,attrs:{shape:[s,r]}}),l=Oj(a,!0,n),c=rn({inputs:{x:l},backend:n,attrs:{shape:i.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}const LCe={kernelName:PT,backendName:"cpu",kernelFunc:RCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zCe=Wt(yg,t=>Number.isFinite(t)?1:0,"bool"),FCe={kernelName:yg,backendName:"cpu",kernelFunc:zCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PCe=Wt(vg,t=>Math.abs(t)===1/0?1:0,"bool"),BCe={kernelName:vg,backendName:"cpu",kernelFunc:PCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MCe=Wt(wg,t=>Number.isNaN(t)?1:0,"bool"),jCe={kernelName:wg,backendName:"cpu",kernelFunc:MCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UCe(t){const{backend:e,attrs:n}=t,{start:i,stop:o,num:r}=n,s=KM(i,o,r);return e.makeTensorInfo([s.length],"float32",s)}const VCe={kernelName:MT,backendName:"cpu",kernelFunc:UCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HCe=Wt(Sg,t=>Math.log1p(t)),WCe={kernelName:Sg,backendName:"cpu",kernelFunc:HCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GCe=Vn((t,e)=>t&&e),qCe=oi(iv,GCe,null,"bool"),KCe={kernelName:iv,backendName:"cpu",kernelFunc:qCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XCe=Wt(ov,t=>t?0:1,"bool"),YCe={kernelName:ov,backendName:"cpu",kernelFunc:XCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZCe=Vn((t,e)=>t||e),JCe=oi(rv,ZCe,null,"bool"),QCe={kernelName:rv,backendName:"cpu",kernelFunc:JCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{depthRadius:r,bias:s,alpha:a,beta:l}=i;Xe(o,"LRN");const c=o.shape[3],u=c-1,d=n.data.get(o.dataId).values,h=ge(o.shape),p=new Float32Array(h);function f(m){const b=m%c;let g=m-b+Math.max(0,b-r);const x=m-b+Math.min(b+r,u);let y=0;for(;g<=x;g++){const v=d[g];y+=v*v}return y}for(let m=0;m<h;m++){const b=f(m),g=d[m]*Math.pow(s+a*b,-l);p[m]=g}return n.makeTensorInfo(o.shape,o.dtype,p)}const t4e={kernelName:sv,backendName:"cpu",kernelFunc:e4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,y:r,dy:s}=e,{depthRadius:a,bias:l,alpha:c,beta:u}=i;Xe(s,"LRNGrad");const d=ge(s.shape),h=s.shape[3],p=n.data.get(s.dataId).values,f=n.data.get(o.dataId).values,m=n.data.get(r.dataId).values,b=new Float32Array(d),g=d;for(let x=0;x<g;x++){const y=x%h,v=x-y+Math.max(0,y-a),w=x-y+Math.min(h,y+a+1);let C=0;for(let S=v;S<w;S++)C+=Math.pow(f[S],2);C=c*C+l;for(let S=v;S<w;S++){let E=-2*c*u*f[S]*m[x]/C;x===S&&(E+=Math.pow(C,-u)),E*=p[x],b[S]+=E}}return n.makeTensorInfo(s.shape,o.dtype,b)}const i4e={kernelName:jT,backendName:"cpu",kernelFunc:n4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dj(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{reductionIndices:r,keepDims:s}=i,a=n;let l=o.shape;const c=l.length,u=Et(r,l);let d=u;const h=En(d,c);let p=a.data.get(o.dataId).values;if(h!=null){const v=new Array(c);for(let w=0;w<v.length;w++)v[w]=l[h[w]];p=h_(p,l,o.dtype,h,v),d=jn(d.length,c),l=v}Xe(o,"max"),Fi("max",d,c);const[f,m]=bi(l,d),b=ge(m),g=YM(p,b,f,o.dtype),x=a.write(g,f,o.dtype);let y=f;return s&&(y=Mn(f,u)),{dataId:x,shape:y,dtype:o.dtype}}const o4e={kernelName:av,backendName:"cpu",kernelFunc:Dj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e;Xe(o,"maxPool");const{filterSize:r,strides:s,pad:a,dimRoundingMode:l}=i,c=1;M(zi(s,c),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(c,"'"));const u=ss(o.shape,r,s,c,a,l);let d;if(u.filterWidth===1&&u.filterHeight===1&&Nt(u.inShape,u.outShape))d=ra({inputs:{x:o},backend:n});else{const h=n.data.get(o.dataId).values,p=nt(o.shape),f=m_(h,o.shape,o.dtype,p,u,"max");d=n.makeTensorInfo(u.outShape,o.dtype,f.values)}return d}const s4e={kernelName:lv,backendName:"cpu",kernelFunc:r4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{filterSize:r,strides:s,pad:a,dimRoundingMode:l,dataFormat:c}=i;Xe(o,"maxPool3d");const u=Qa(o.shape,r,s,1,a,l,c),d=n.data.get(o.dataId).values,h=$j(d,o.shape,o.dtype,nt(o.shape),u,"max");return n.makeTensorInfo(h.shape,"float32",h.values)}const l4e={kernelName:cv,backendName:"cpu",kernelFunc:a4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c4e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,input:r}=e,{filterSize:s,strides:a,pad:l,dimRoundingMode:c}=i;Xe([o,r],"maxPool3DGrad");const u=Qa(r.shape,s,a,1,l,c),d=n.bufferSync(r),h=Z3e(d,u),p=u.strideDepth,f=u.strideHeight,m=u.strideWidth,b=u.dilationDepth,g=u.dilationHeight,x=u.dilationWidth,y=u.effectiveFilterDepth,v=u.effectiveFilterHeight,w=u.effectiveFilterWidth,C=y-1-u.padInfo.front,S=w-1-u.padInfo.left,E=v-1-u.padInfo.top,I=xt(r.shape,"float32"),N=n.bufferSync(o);for(let B=0;B<u.batchSize;++B)for(let D=0;D<u.inChannels;++D)for(let P=0;P<u.inDepth;++P)for(let _=0;_<u.inHeight;++_)for(let L=0;L<u.inWidth;++L){const z=P-C,V=_-E,q=L-S;let U=0;for(let X=0;X<y;X+=b){const G=(z+X)/p;if(!(G<0||G>=u.outDepth||Math.floor(G)!==G))for(let W=0;W<v;W+=g){const le=(V+W)/f;if(!(le<0||le>=u.outHeight||Math.floor(le)!==le))for(let oe=0;oe<w;oe+=x){const ie=(q+oe)/m;if(ie<0||ie>=u.outWidth||Math.floor(ie)!==ie)continue;const we=y*v*w-1-h.get(B,G,le,ie,D),$e=X*v*w+W*w+oe,_e=we===$e?1:0;if(_e===0)continue;const Oe=N.get(B,G,le,ie,D);U+=Oe*_e}}}I.set(U,B,P,_,L,D)}return n.makeTensorInfo(I.shape,I.dtype,I.values)}const u4e={kernelName:VT,backendName:"cpu",kernelFunc:c4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d4e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,input:r,output:s}=e,a=r;Xe([r,s],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=i,h=ss(a.shape,l,c,1,u,d),p=n.data.get(a.dataId).values,f=xt(h.outShape,a.dtype,_j(p,a.shape,a.dtype,h).values),m=h.strideHeight,b=h.strideWidth,g=h.dilationHeight,x=h.dilationWidth,y=h.effectiveFilterHeight,v=h.effectiveFilterWidth,w=v-1-h.padInfo.left,C=y-1-h.padInfo.top,S=xt(a.shape,"float32"),E=n.data.get(o.dataId).values,I=xt(o.shape,"float32",E);for(let N=0;N<h.batchSize;++N)for(let B=0;B<h.inChannels;++B)for(let D=0;D<h.inHeight;++D)for(let P=0;P<h.inWidth;++P){const _=D-C,L=P-w;let z=0;for(let V=0;V<y;V+=g){const q=(_+V)/m;if(!(q<0||q>=h.outHeight||Math.floor(q)!==q))for(let U=0;U<v;U+=x){const X=(L+U)/b;if(X<0||X>=h.outWidth||Math.floor(X)!==X)continue;const G=y*v-1-f.get(N,q,X,B),W=V*v+U,le=G===W?1:0;if(le===0)continue;const oe=I.get(N,q,X,B);z+=oe*le}}S.set(z,N,D,P,B)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}const h4e={kernelName:UT,backendName:"cpu",kernelFunc:d4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p4e(t,e,n,i,o){const r=nt(e),s=m_(t,e,n,r,o,"max"),a=_j(t,e,n,o,!0,i);return[s.values,a.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f4e={kernelName:HT,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:i}=t,{filterSize:o,strides:r,pad:s,includeBatchInIndex:a}=e,l=n;Xe(i,"MaxPoolWithArgmax");const c=l.data.get(i.dataId).values,u=ss(i.shape,o,r,[1,1],s),[d,h]=p4e(c,i.shape,i.dtype,a,u),p=l.write(d,u.outShape,i.dtype),f=l.write(h,u.outShape,i.dtype);return[{dataId:p,shape:u.outShape,dtype:i.dtype},{dataId:f,shape:u.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,keepDims:s}=i,a=Et(r,o.shape),c=bi(o.shape,a)[1],u=ge(c),d=[],h=n.makeTensorInfo([],"float32",new Float32Array([u]));d.push(h);const p=cc({inputs:{x:o},backend:n,attrs:{dtype:"float32"}});d.push(p);const f=g_({inputs:{a:p,b:h},backend:n});d.push(f);const m=h0({inputs:{x:f},backend:n,attrs:{axis:r,keepDims:s}});return d.forEach(b=>n.disposeIntermediateTensorInfo(b)),m}const g4e={kernelName:uv,backendName:"cpu",kernelFunc:m4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,keepDims:s}=i;Xe(o,"min");const a=Et(r,o.shape);let l=a;const c=En(l,o.shape.length);let u=o;c!=null&&(u=Io({inputs:{x:o},backend:n,attrs:{perm:c}}),l=jn(l.length,o.shape.length)),Fi("min",l,u.shape.length);const[d,h]=bi(u.shape,l),p=ge(h),f=Xi(ge(d),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<f.length;++g){const x=g*p;let y=m[x];for(let v=0;v<p;++v){const w=m[x+v];(Number.isNaN(w)||w<y)&&(y=w)}f[g]=y}c!=null&&n.disposeIntermediateTensorInfo(u);const b=n.makeTensorInfo(d,u.dtype,f);if(s){const g=Mn(d,a),x=rn({inputs:{x:b},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(b),x}return b}const x4e={kernelName:dv,backendName:"cpu",kernelFunc:b4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{paddings:r,mode:s}=i;Xe(o,"mirrorPad");const a=r.map((y,v)=>y[0]+o.shape[v]+y[1]),l=r.map(y=>y[0]),c=r.map((y,v)=>y[0]+o.shape[v]),u=s==="reflect"?0:1,d=n.data.get(o.dataId).values,h=o.shape.length,p=nt(o.shape),f=ge(a),m=a.length,b=nt(a),g=Oi(o.dtype,f);for(let y=0;y<f;y++){let v=mp(y,m,b);for(let C=0;C<m;C++)v[C]<l[C]?v[C]=l[C]*2-v[C]-u:v[C]>=c[C]&&(v[C]=(c[C]-1)*2-v[C]+u);v=v.map((C,S)=>C-l[S]);const w=Zs(v,h,p);g[y]=d[w]}return{dataId:n.write(g,a,o.dtype),shape:a,dtype:o.dtype}}const v4e={kernelName:hv,backendName:"cpu",kernelFunc:y4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w4e=Vn((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),k4e=oi(Eg,w4e),S4e={kernelName:Eg,backendName:"cpu",kernelFunc:k4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rj(t){const{inputs:e,backend:n,attrs:i}=t,{logits:o}=e,{dim:r}=i,s=o.shape.length;let a=r;if(a===-1&&(a=s-1),a!==s-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(s," and dim was ").concat(a));const l=Et([a],o.shape),c=Dj({inputs:{x:o},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=Mn(c.shape,l),d=rn({inputs:{x:c},backend:n,attrs:{shape:u}}),h=f_({inputs:{a:o,b:d},backend:n}),p=PM({inputs:{x:h},backend:n}),f=h0({inputs:{x:p},backend:n,attrs:{axis:l,keepDims:!1}}),m=rn({inputs:{x:f},backend:n,attrs:{shape:u}}),b=g_({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),b}const C4e={kernelName:Av,backendName:"cpu",kernelFunc:Rj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T4e(t){const{inputs:e,backend:n,attrs:i}=t,{logits:o}=e,{numSamples:r,seed:s,normalized:a}=i;Xe(o,"multinomial");const l=a?o:Rj({inputs:{logits:o},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],d=n.data.get(l.dataId).values,h=[c,r],p=Xi(ge(h),"int32");for(let f=0;f<c;++f){const m=f*u,b=new Float32Array(u-1);b[0]=d[m];for(let y=1;y<b.length;++y)b[y]=b[y-1]+d[m+y];const g=Kv.alea(s.toString()),x=f*r;for(let y=0;y<r;++y){const v=g();p[x+y]=b.length;for(let w=0;w<b.length;w++)if(v<b[w]){p[x+y]=w;break}}}return a||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(h,"int32",p)}const E4e={kernelName:WT,backendName:"cpu",kernelFunc:T4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I4e=lI;function _4e(t){const{inputs:e,backend:n,attrs:i}=t,{boxes:o,scores:r}=e,{maxOutputSize:s,iouThreshold:a,scoreThreshold:l}=i;Xe(o,"NonMaxSuppression");const c=n.data.get(o.dataId).values,u=n.data.get(r.dataId).values,{selectedIndices:d}=I4e(c,u,s,a,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const $4e={kernelName:GT,backendName:"cpu",kernelFunc:_4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A4e=cI;function N4e(t){const{inputs:e,backend:n,attrs:i}=t,{boxes:o,scores:r}=e,{maxOutputSize:s,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:c}=i;Xe(o,"NonMaxSuppressionPadded");const u=n.data.get(o.dataId).values,d=n.data.get(r.dataId).values,{selectedIndices:h,validOutputs:p}=A4e(u,d,s,a,l,c);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}const O4e={kernelName:qT,backendName:"cpu",kernelFunc:N4e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D4e=uI;function R4e(t){const{inputs:e,backend:n,attrs:i}=t,{boxes:o,scores:r}=e,{maxOutputSize:s,iouThreshold:a,scoreThreshold:l,softNmsSigma:c}=i;Xe(o,"NonMaxSuppressionWithScore");const u=n.data.get(o.dataId).values,d=n.data.get(r.dataId).values,h=s,p=a,f=l,m=c,{selectedIndices:b,selectedScores:g}=D4e(u,d,h,p,f,m);return[n.makeTensorInfo([b.length],"int32",new Int32Array(b)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const L4e={kernelName:KT,backendName:"cpu",kernelFunc:R4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z4e(t){const{inputs:e,backend:n,attrs:i}=t,{indices:o}=e,{dtype:r,depth:s,onValue:a,offValue:l}=i;Xe(o,"oneHot");const c=ge(o.shape),u=new Float32Array(c*s);u.fill(l);const d=n.data.get(o.dataId).values;for(let h=0;h<c;++h)d[h]>=0&&d[h]<s&&(u[h*s+d[h]]=a);return n.makeTensorInfo([...o.shape,s],r,u)}const F4e={kernelName:gv,backendName:"cpu",kernelFunc:z4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f1(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(i.dtype==="complex64"){const o=ju({inputs:{input:i},backend:n}),r=f1({inputs:{x:o},backend:n}),s=qh({inputs:{input:i},backend:n}),a=f1({inputs:{x:s},backend:n}),l=Po({inputs:{real:r,imag:a},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(a),l}else return b_({backend:n,attrs:{shape:i.shape,value:0,dtype:i.dtype}})}const P4e={kernelName:Rv,backendName:"cpu",kernelFunc:f1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lj(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(i.dtype==="complex64"){const o=ju({inputs:{input:i},backend:n}),r=Lj({inputs:{x:o},backend:n}),s=qh({inputs:{input:i},backend:n}),a=f1({inputs:{x:s},backend:n}),l=Po({inputs:{real:r,imag:a},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(a),l}else return b_({backend:n,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}const B4e={kernelName:mv,backendName:"cpu",kernelFunc:Lj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zj(t){const{inputs:e,backend:n,attrs:i}=t,{axis:o}=i;if(e.length===1)return p1({inputs:{input:e[0]},backend:n,attrs:{dim:o}});const r=e[0].shape,s=e[0].dtype;e.forEach(u=>{Zo(r,u.shape,"All tensors passed to stack must have matching shapes"),M(s===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=e.map(u=>{const d=p1({inputs:{input:u},backend:n,attrs:{dim:o}});return a.push(d),d}),c=Kh({inputs:l,backend:n,attrs:{axis:o}});return a.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const M4e={kernelName:bv,backendName:"cpu",kernelFunc:zj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{paddings:r,constantValue:s}=i;Xe(o,"pad");const a=r.map((x,y)=>x[0]+o.shape[y]+x[1]),l=r.map(x=>x[0]),c=n.data.get(o.dataId).values,u=ge(o.shape),d=o.shape.length,h=nt(o.shape),p=ge(a),f=a.length,m=nt(a),b=Oi(o.dtype,p);s!==0&&b.fill(s);for(let x=0;x<u;x++){const v=mp(x,d,h).map((C,S)=>C+l[S]),w=Zs(v,f,m);b[w]=c[x]}return{dataId:n.write(b,a,o.dtype),shape:a,dtype:o.dtype}}const Fj={kernelName:xv,backendName:"cpu",kernelFunc:j4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U4e=Vn((t,e)=>Math.pow(t,e)),V4e=oi(_g,U4e),H4e={kernelName:_g,backendName:"cpu",kernelFunc:V4e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W4e(t){const{inputs:e,backend:n,attrs:i}=t,{paramsNestedSplits:o,paramsDenseValues:r,indices:s}=e,{outputRaggedRank:a}=i,l=o.map(g=>n.data.get(g.dataId).values),c=o.map(g=>g.shape),u=n.data.get(r.dataId).values,d=n.data.get(s.dataId).values,[h,p,f]=nj(l,c,u,r.shape,r.dtype,d,s.shape),m=h.map(g=>n.makeTensorInfo([g.length],"int32",g)),b=n.makeTensorInfo(f,r.dtype,p);return m.concat([b])}const G4e={kernelName:XT,backendName:"cpu",kernelFunc:W4e};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q4e(t){const{inputs:e,backend:n}=t,{starts:i,limits:o,deltas:r}=e,s=n.data.get(i.dataId).values,a=n.data.get(o.dataId).values,l=n.data.get(r.dataId).values,[c,u]=ij(s,i.shape,i.dtype,a,o.shape,l,r.shape),d=n.makeTensorInfo([c.length],"int32",c),h=n.makeTensorInfo([u.length],i.dtype,u);return[d,h]}const K4e={kernelName:YT,backendName:"cpu",kernelFunc:q4e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X4e(t){const{inputs:e,backend:n,attrs:i}=t,{shape:o,values:r,defaultValue:s,rowPartitionTensors:a}=e,{rowPartitionTypes:l}=i,c=n.data.get(o.dataId).values,u=n.data.get(r.dataId).values,d=n.data.get(s.dataId).values,h=a.map(b=>n.data.get(b.dataId).values),p=a.map(b=>b.shape),[f,m]=oj(c,o.shape,u,r.shape,r.dtype,d,s.shape,h,p,l);return n.makeTensorInfo(f,r.dtype,m)}const Y4e={kernelName:ZT,backendName:"cpu",kernelFunc:X4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z4e(t){const{backend:e,attrs:n}=t,{start:i,stop:o,dtype:r,step:s}=n,a=rj(i,o,s,r);return e.makeTensorInfo([a.length],r,a)}const J4e={kernelName:JT,backendName:"cpu",kernelFunc:Z4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q4e=Wt($g,t=>1/t),eTe={kernelName:$g,backendName:"cpu",kernelFunc:Q4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tTe(t){const{inputs:e,backend:n,attrs:i}=t,{images:o}=e,{alignCorners:r,halfPixelCenters:s,size:a}=i;Xe(o,"resizeBilinear");const l=nt(o.shape),[c,u]=a,[d,h,p,f]=o.shape,m=n.data.get(o.dataId).values,b=new Float32Array(ge([d,c,u,f])),g=[r&&c>1?h-1:h,r&&u>1?p-1:p],x=[r&&c>1?c-1:c,r&&u>1?u-1:u];let y=0;const v=g[0]/x[0],w=g[1]/x[1];for(let C=0;C<d;C++)for(let S=0;S<c;S++){let E;s?E=v*(S+.5)-.5:E=v*S;const I=Math.max(0,Math.floor(E)),N=E-I,B=Math.min(h-1,Math.ceil(E)),D=C*l[0]+I*l[1],P=C*l[0]+B*l[1];for(let _=0;_<u;_++){let L;s?L=w*(_+.5)-.5:L=w*_;const z=Math.max(0,Math.floor(L)),V=L-z,q=Math.min(p-1,Math.ceil(L)),U=D+z*l[2],X=P+z*l[2],G=D+q*l[2],W=P+q*l[2];for(let le=0;le<f;le++){const oe=m[U+le],ie=m[X+le],we=m[G+le],$e=m[W+le],_e=oe+(we-oe)*V,Oe=ie+($e-ie)*V,We=_e+(Oe-_e)*N;b[y++]=We}}}return n.makeTensorInfo([d,c,u,f],"float32",b)}const nTe={kernelName:Sv,backendName:"cpu",kernelFunc:tTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iTe(t){const{inputs:e,backend:n,attrs:i}=t,{images:o,dy:r}=e,{alignCorners:s}=i;Xe([r,o],"resizeBilinearGrad");const a=nt(o.shape),[l,c,u,d]=o.shape,[,h,p]=r.shape,f=new Float32Array(l*c*u*d),m=[s&&h>1?c-1:c,s&&p>1?u-1:u],b=[s&&h>1?h-1:h,s&&p>1?p-1:p],g=m[0]/b[0],x=m[1]/b[1],y=n.data.get(r.dataId).values;let v=0;for(let w=0;w<l;w++){const C=w*a[0];for(let S=0;S<h;S++){const E=S*g,I=Math.floor(E),N=Math.min(Math.ceil(E),c-1),B=C+I*a[1],D=C+N*a[1],P=E-I,_=1-P;for(let L=0;L<p;L++){const z=L*x,V=Math.floor(z),q=Math.min(Math.ceil(z),u-1),U=z-V,X=1-U,G=B+V*a[2],W=B+q*a[2],le=D+V*a[2],oe=D+q*a[2],ie=_*X,we=_*U,$e=P*X,_e=P*U;for(let Oe=0;Oe<d;Oe++){const We=y[v++];f[G+Oe]+=We*ie,f[W+Oe]+=We*we,f[le+Oe]+=We*$e,f[oe+Oe]+=We*_e}}}}return n.makeTensorInfo([l,u,c,d],"float32",f)}const oTe={kernelName:tE,backendName:"cpu",kernelFunc:iTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rTe(t){const{inputs:e,backend:n,attrs:i}=t,{images:o}=e,{alignCorners:r,halfPixelCenters:s,size:a}=i;Xe(o,"resizeNearestNeighbor");const l=nt(o.shape),[c,u]=a,[d,h,p,f]=o.shape,m=n.data.get(o.dataId).values,b=new Float32Array(d*c*u*f),g=[r&&c>1?h-1:h,r&&u>1?p-1:p],x=[r&&c>1?c-1:c,r&&u>1?u-1:u],y=g[0]/x[0],v=g[1]/x[1];let w=0;for(let C=0;C<d;C++){const S=C*l[0];for(let E=0;E<c;E++){const I=s?y*(E+.5):y*E;let N=Math.min(h-1,r?Math.round(I):Math.floor(I));s&&(N=Math.max(0,N));const B=S+N*l[1];for(let D=0;D<u;D++){const P=s?v*(D+.5):v*D;let _=Math.min(p-1,r?Math.round(P):Math.floor(P));s&&(_=Math.max(0,_));const L=B+_*l[2];for(let z=0;z<f;z++){const V=m[L+z];b[w++]=V}}}}return n.makeTensorInfo([d,c,u,f],o.dtype,b)}const sTe={kernelName:kv,backendName:"cpu",kernelFunc:rTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aTe(t){const{inputs:e,backend:n,attrs:i}=t,{images:o,dy:r}=e,{alignCorners:s}=i;Xe([r,o],"resizeNearestNeighborGrad");const a=nt(o.shape),l=nt(r.shape),[c,u,d,h]=o.shape,[,p,f]=r.shape,m=new Float32Array(c*u*d*h),b=n.data.get(r.dataId).values,g=[s&&p>1?u-1:u,s&&f>1?d-1:d],x=[s&&p>1?p-1:p,s&&f>1?f-1:f],y=g[0]/x[0],v=g[1]/x[1],w=1/y,C=1/v,S=Math.ceil(w)*2+2,E=Math.ceil(C)*2+2;for(let I=0;I<c;I++){const N=I*a[0];for(let B=0;B<u;B++){const D=N+B*a[1],P=Math.floor(B*w),_=Math.floor(P-S/2);for(let L=0;L<d;L++){const z=D+L*a[2],V=Math.floor(L*C),q=Math.floor(V-E/2);for(let U=0;U<h;U++){let X=0;for(let G=0;G<S;G++){const W=G+_;if(W<0||W>=p)continue;const le=N+W*l[1],oe=W*y,ie=Math.min(u-1,s?Math.round(oe):Math.floor(oe));if(B===ie)for(let we=0;we<E;we++){const $e=we+q;if($e<0||$e>=f)continue;const _e=le+$e*l[2],Oe=$e*v,We=Math.min(d-1,s?Math.round(Oe):Math.floor(Oe));L===We&&(X+=b[_e+U])}}m[z+U]=X}}}}return n.makeTensorInfo(o.shape,o.dtype,m)}const lTe={kernelName:eE,backendName:"cpu",kernelFunc:aTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cTe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{dims:r}=i;Xe(o,"reverse");const s=o.shape.length,a=Et(r,o.shape);if(s===0)return ra({inputs:{x:o},backend:n});const l=new ei(o.shape,o.dtype),c=n.bufferSync(o);for(let u=0;u<l.size;u++){const d=l.indexToLoc(u),h=d.slice();a.forEach(p=>h[p]=o.shape[p]-1-h[p]),l.set(c.get(...h),...d)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const uTe={kernelName:Cv,backendName:"cpu",kernelFunc:cTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dTe={kernelName:xE,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:i}=t,{radians:o,fillValue:r,center:s}=e,a=n,l=Oi(i.dtype,ge(i.shape)),[c,u,d,h]=i.shape,[p,f]=SI(s,u,d),m=255,b=Math.sin(o),g=Math.cos(o),x=a.data.get(i.dataId).values;for(let v=0;v<c;v++){const w=v*d*u*h;for(let C=0;C<u;C++){const S=C*(d*h);for(let E=0;E<d;E++){const I=E*h;for(let N=0;N<h;N++){const B=[c,C,E,N],D=B[2],P=B[1];let _=(D-p)*g-(P-f)*b,L=(D-p)*b+(P-f)*g;_=Math.round(_+p),L=Math.round(L+f);let z=r;if(typeof r!="number"&&(N===3?z=m:z=r[N]),_>=0&&_<d&&L>=0&&L<u){const q=L*(d*h),U=_*h,X=w+q+U+N;z=x[X]}const V=w+S+I+N;l[V]=z}}}}return{dataId:a.write(l,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hTe=Wt(Og,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),pTe={kernelName:Og,backendName:"cpu",kernelFunc:hTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fTe(t){const{inputs:e,backend:n,attrs:i}=t,{indices:o,updates:r}=e,{shape:s}=i,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=sd(r,o,s),h=!0,p=n.bufferSync(o),f=n.bufferSync(r),m=su(p,f,s,d,c,l,a,u,0,h);return n.makeTensorInfo(s,m.dtype,m.values)}const mTe={kernelName:nE,backendName:"cpu",kernelFunc:fTe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gTe(t,e){let n=0,i=t.length,o=0;for(;n<i;)o=Math.floor((n+i)/2),t[o]<e?n=o+1:i=o;return i}function bTe(t,e){let n=0,i=t.length,o=0;for(;n<i;)o=Math.floor((n+i)/2),t[o]<=e?n=o+1:i=o;return i}function xTe(t,e,n,i,o,r){const s=Pn("int32",n*o);for(let a=0;a<n;++a){const l=t.slice(a*i,(a+1)*i),c=a*o;for(let u=0;u<o;++u)s[c+u]=r==="left"?gTe(l,e[u+c]):bTe(l,e[u+c])}return s}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yTe(t){const{inputs:e,backend:n,attrs:i}=t,{sortedSequence:o,values:r}=e,{side:s}=i,a=n.data.get(o.dataId).values,l=n.data.get(r.dataId).values,c=xTe(a,l,o.shape[0],o.shape[1],r.shape[1],s);return n.makeTensorInfo(r.shape,"int32",c)}const vTe={kernelName:oE,backendName:"cpu",kernelFunc:yTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wTe(t){const{inputs:e,backend:n}=t,{condition:i,t:o,e:r}=e;Xe([i,o,r],"select");const s=i.shape.length,a=n.data.get(i.dataId).values,l=n.data.get(o.dataId).values,c=n.data.get(r.dataId).values,u=Go(o.dtype,r.dtype),d=Xi(ge(o.shape),u);let h=0;const p=s===0||s>1||o.shape.length===1?1:ge(o.shape.slice(1));for(let f=0;f<a.length;f++)for(let m=0;m<p;m++)a[f]===1?d[h++]=l[f]:d[h++]=c[f];return n.makeTensorInfo(o.shape,u,d)}const kTe={kernelName:Tv,backendName:"cpu",kernelFunc:wTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const STe=sw,CTe=aw,TTe=Wt(Rg,t=>t>=0?CTe*t:STe*(Math.exp(t)-1)),ETe={kernelName:Rg,backendName:"cpu",kernelFunc:TTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ITe=Wt(Fg,t=>t<0?-1:t>0?1:0),_Te={kernelName:Fg,backendName:"cpu",kernelFunc:ITe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Te=Wt(Lg,t=>Math.sin(t)),ATe={kernelName:Lg,backendName:"cpu",kernelFunc:$Te};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NTe=Wt(zg,t=>Math.sinh(t)),OTe={kernelName:zg,backendName:"cpu",kernelFunc:NTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DTe=11920928955078125e-23,zN=Math.log(DTe)+2,RTe=Wt(Bg,t=>{const e=t>-zN,n=t<zN,i=Math.exp(t);let o;return n?o=i:e?o=t:o=Math.log(1+i),o}),LTe={kernelName:Bg,backendName:"cpu",kernelFunc:RTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zTe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{blockShape:r,paddings:s}=i;Xe([o],"spaceToBatchND");const a=ge(r),l=[[0,0]];l.push(...s);for(let C=1+r.length;C<o.shape.length;++C)l.push([0,0]);const c=Fj.kernelFunc({inputs:{x:o},backend:n,attrs:{paddings:l,constantValue:0}}),u=t0(c.shape,r,a,!1),d=n0(u.length,r.length,!1),h=i0(c.shape,r,a,!1),m=rn({inputs:{x:c},backend:n,attrs:{shape:u}}),x=Io({inputs:{x:m},backend:n,attrs:{perm:d}}),w=rn({inputs:{x},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(x),w}const FTe={kernelName:_v,backendName:"cpu",kernelFunc:zTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PTe(t){const{inputs:e,backend:n}=t,{indices:i,values:o,denseShape:r,defaultValue:s}=e;if(r.shape.length!==1)throw new Error("Dense shape must be a vector, saw:\n        ".concat(r.shape));if(i.shape.length!==2)throw new Error("Indices must be a matrix, saw:\n        ".concat(i.shape));if(o.shape.length!==1)throw new Error("Values must be a vector, saw:\n        ".concat(o.shape));if(s.shape.length!==0)throw new Error("Default value must be a scalar, saw:\n        ".concat(s.shape));const a=n.data.get(i.dataId).values,l=n.data.get(o.dataId).values,c=n.data.get(r.dataId).values,u=n.data.get(s.dataId).values[0],[d,h,p,f,m]=cj(a,i.shape,i.dtype,l,o.dtype,c,u);return[n.makeTensorInfo(h,i.dtype,d),n.makeTensorInfo([h[0]],o.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map(b=>Number(b)))),n.makeTensorInfo([m.length],i.dtype,new Int32Array(m))]}const BTe={kernelName:rE,backendName:"cpu",kernelFunc:PTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MTe(t){const{inputs:e,backend:n}=t,{inputIndices:i,inputShape:o,newShape:r}=e;if(i.shape.length!==2)throw new Error("Input indices should be a matrix but received shape\n        ".concat(i.shape));if(o.shape.length!==1)throw new Error("Input shape should be a vector but received shape\n        ".concat(o.shape));if(r.shape.length!==1)throw new Error("Target shape should be a vector but received shape ".concat(r.shape));const s=Array.from(n.data.get(o.dataId).values),a=n.data.get(i.dataId).values,l=Array.from(n.data.get(r.dataId).values),[c,u,d]=uj(a,i.shape,i.dtype,s,l);return[n.makeTensorInfo(u,i.dtype,c),n.makeTensorInfo([d.length],r.dtype,new Int32Array(d))]}const jTe={kernelName:sE,backendName:"cpu",kernelFunc:MTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UTe(t){const{inputs:e,backend:n}=t,{data:i,indices:o,segmentIds:r}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.shape.length!==1)throw new Error("Indices should be a vector but received shape\n          ".concat(o.shape));if(r.shape.length!==1)throw new Error("Segment ids should be a vector but received shape\n          ".concat(r.shape));if(o.shape[0]!==r.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(i.dataId).values,a=n.data.get(o.dataId).values,l=n.data.get(r.dataId).values,[c,u]=p_(s,i.shape,i.dtype,a,l,!0);return n.makeTensorInfo(u,i.dtype,c)}const VTe={kernelName:aE,backendName:"cpu",kernelFunc:UTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HTe(t){const{inputs:e,backend:n}=t,{data:i,indices:o,segmentIds:r}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.shape.length!==1)throw new Error("Indices should be a vector but received shape\n         ".concat(o.shape));if(r.shape.length!==1)throw new Error("Segment ids should be a vector but received shape\n         ".concat(r.shape));if(o.shape[0]!==r.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(i.dataId).values,a=n.data.get(o.dataId).values,l=n.data.get(r.dataId).values,[c,u]=p_(s,i.shape,i.dtype,a,l);return n.makeTensorInfo(u,i.dtype,c)}const WTe={kernelName:lE,backendName:"cpu",kernelFunc:HTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GTe(t){const{inputs:e,backend:n,attrs:i}=t,{sparseIndices:o,sparseValues:r,defaultValue:s}=e,{outputShape:a}=i,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:h}=sd(r,o,a),p=!1,f=n.bufferSync(o);let m;switch(r.dtype){case"bool":{const b=n.bufferSync(r),g=!!n.data.get(s.dataId).values[0];m=su(f,b,a,h,u,c,l,d,g,p);break}case"float32":{const b=n.bufferSync(r),g=n.data.get(s.dataId).values[0];m=su(f,b,a,h,u,c,l,d,g,p);break}case"int32":{const b=n.bufferSync(r),g=n.data.get(s.dataId).values[0];m=su(f,b,a,h,u,c,l,d,g,p);break}case"string":{const b=n.bufferSync(r),g=ec(n.data.get(s.dataId).values[0]);m=su(f,b,a,h,u,c,l,d,g,p);break}default:throw new Error("Unsupported type ".concat(r.dtype))}return n.makeTensorInfo(a,m.dtype,m.values)}const qTe={kernelName:cE,backendName:"cpu",kernelFunc:GTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KTe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{numOrSizeSplits:r,axis:s}=i,a=Et(s,o.shape)[0],l=PI(o,r,a),c=new Array(o.shape.length).fill(0),u=o.shape.slice();return l.map(d=>{const h=[...u];h[a]=d;const p=Uu({inputs:{x:o},backend:n,attrs:{begin:c,size:h}});return c[a]+=d,p})}const XTe={kernelName:$v,backendName:"cpu",kernelFunc:KTe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YTe={kernelName:uE,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,i=e;Xe(n,"square");const o=i.data.get(n.dataId).values,r=new Float32Array(o.length);for(let a=0;a<o.length;++a){const l=o[a];r[a]=l*l}return{dataId:i.write(r,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZTe=Wt(Gg,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),JTe={kernelName:Gg,backendName:"cpu",kernelFunc:ZTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QTe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{begin:r,end:s,strides:a,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=i;Xe(o,"stridedSlice");const{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:b,isSimpleSlice:g,begin:x,end:y,strides:v}=vI(o.shape,r,s,a,l,c,u,d,h);let w;if(m)w=rn({inputs:{x:o},backend:n,attrs:{shape:f}});else if(b||g){M(o.shape.length>=1,()=>"Input must have rank at least 1, got: ".concat(o.shape.length));const C=bI(x,y,v),S=Uu({inputs:{x:o},backend:n,attrs:{begin:x,size:C}});w=rn({inputs:{x:S},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(S)}else{const C=n.bufferSync(o),S=pj(p,C,v,x);w=n.makeTensorInfo(f,S.dtype,S.values)}return w}const eEe={kernelName:dE,backendName:"cpu",kernelFunc:QTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tEe(t){const{inputs:e,backend:n,attrs:i}=t,{separator:o,nGramWidths:r,leftPad:s,rightPad:a,padWidth:l,preserveShortSequences:c}=i,{data:u,dataSplits:d}=e,h=n.data.get(u.dataId).values,p=n.data.get(d.dataId).values,[f,m]=fj(h,p,o,r,s,a,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}const nEe={kernelName:hE,backendName:"cpu",kernelFunc:tEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iEe(t){const{inputs:e,backend:n,attrs:i}=t,{skipEmpty:o}=i,{input:r,delimiter:s}=e;if(r.dtype!=="string")throw new Error("Input must be of datatype string");if(r.shape.length!==1)throw new Error("Input must be a vector, got shape: ".concat(r.shape));if(s.shape.length!==0)throw new Error("Delimiter must be a scalar, got shape: ".concat(s.shape));const a=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values[0],[c,u,d]=mj(a,l,o),h=u.length;return[n.makeTensorInfo([h,2],"int32",c),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const oEe={kernelName:pE,backendName:"cpu",kernelFunc:iEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rEe(t){const{inputs:e,backend:n,attrs:i}=t,{numBuckets:o}=i,{input:r}=e;if(r.dtype!=="string")throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const s=n.data.get(r.dataId).values,a=gj(s,o);return n.makeTensorInfo(r.shape,"int32",a)}const sEe={kernelName:fE,backendName:"cpu",kernelFunc:rEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aEe=Wt(Vg,t=>Math.tan(t)),lEe={kernelName:Vg,backendName:"cpu",kernelFunc:aEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cEe=Wt(Hg,t=>Math.tanh(t)),uEe={kernelName:Hg,backendName:"cpu",kernelFunc:cEe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dEe(t){const{inputs:e,backend:n}=t,{tensor:i,indices:o,updates:r}=e,{sliceRank:s,numUpdates:a,sliceSize:l,strides:c,outputSize:u}=sd(r,o,i.shape),d=!1,h=n.bufferSync(o),p=n.bufferSync(r),f=n.bufferSync(i),m=su(h,p,i.shape,u,l,a,s,c,f,d);return n.makeTensorInfo(i.shape,m.dtype,m.values)}const hEe={kernelName:iE,backendName:"cpu",kernelFunc:dEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pEe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{reps:r}=i;Xe(o,"tile");const s=xj(n.bufferSync(o),r);return n.makeTensorInfo(s.shape,s.dtype,s.values)}const fEe={kernelName:Wg,backendName:"cpu",kernelFunc:pEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mEe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{k:r,sorted:s}=i;Xe(o,"topk");const a=n.data.get(o.dataId).values,[l,c]=vj(a,o.shape,o.dtype,r,s);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}const gEe={kernelName:mE,backendName:"cpu",kernelFunc:mEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bEe(t){const{inputs:e,attrs:n,backend:i}=t,{image:o,transforms:r}=e,{interpolation:s,fillMode:a,fillValue:l,outputShape:c}=n,[u,d,h,p]=o.shape,[f,m]=c!=null?c:[d,h],b=[u,f,m,p],g=nt(o.shape),x=g[0],y=g[1],v=g[2],w=nt(b),C=w[0],S=w[1],E=w[2],I=Oi(o.dtype,ge(b));I.fill(l);const N=i.data.get(o.dataId).values,B=i.data.get(r.dataId).values;for(let P=0;P<u;++P){const _=r.shape[0]===1?B:B.subarray(P*8,P*8+8);for(let L=0;L<f;++L)for(let z=0;z<m;++z)for(let V=0;V<p;++V){let q;const U=_[6]*z+_[7]*L+1;if(U===0)continue;const X=(_[0]*z+_[1]*L+_[2])/U,G=(_[3]*z+_[4]*L+_[5])/U,W=FN(X,h,a),le=FN(G,d,a);switch(s){case"nearest":q=SEe(N,d,h,x,y,v,P,le,W,V,l);break;case"bilinear":q=CEe(N,d,h,x,y,v,P,le,W,V,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(s))}const oe=P*C+L*S+z*E+V;I[oe]=q}return i.makeTensorInfo(b,o.dtype,I)}return{dataId:i.write(I,b,o.dtype),shape:o.shape,dtype:o.dtype}}const xEe={kernelName:gE,backendName:"cpu",kernelFunc:bEe};function FN(t,e,n){switch(n){case"reflect":return yEe(t,e);case"wrap":return vEe(t,e);case"nearest":return kEe(t,e);case"constant":default:return wEe(t)}}function yEe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const i=2*e;n<i&&(n=i*Math.trunc(-n/i)+n),n=n<-e?n+i:-n-1}else if(n>e-1)if(e<=1)n=0;else{const i=2*e;n-=i*Math.trunc(n/i),n>=e&&(n=i-n-1)}return $u(0,n,e-1)}function vEe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const i=e-1;n+=e*(Math.trunc(-n/i)+1)}else if(n>e-1)if(e<=1)n=0;else{const i=e-1;n-=e*Math.trunc(n/i)}return $u(0,n,e-1)}function wEe(t,e){return t}function kEe(t,e){return $u(0,t,e-1)}function pf(t,e,n,i,o,r,s,a,l,c,u){const d=s*i+a*o+l*r+c;return 0<=a&&a<e&&0<=l&&l<n?t[d]:u}function SEe(t,e,n,i,o,r,s,a,l,c,u){const d=Math.round(a),h=Math.round(l);return pf(t,e,n,i,o,r,s,d,h,c,u)}function CEe(t,e,n,i,o,r,s,a,l,c,u){const d=Math.floor(a),h=Math.floor(l),p=d+1,f=h+1,m=(f-l)*pf(t,e,n,i,o,r,s,d,h,c,u)+(l-h)*pf(t,e,n,i,o,r,s,d,f,c,u),b=(f-l)*pf(t,e,n,i,o,r,s,p,h,c,u)+(l-h)*pf(t,e,n,i,o,r,s,p,f,c,u);return(p-a)*m+(a-d)*b}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TEe(t){const{inputs:e,attrs:n,backend:i}=t,{axis:o}=n,{x:r}=e;Xe(r,"unique");const s=i.data.get(r.dataId).values,{outputValues:a,outputShape:l,indices:c}=wj(s,o,r.shape,r.dtype);return[i.makeTensorInfo(l,r.dtype,a),i.makeTensorInfo([c.length],"int32",c)]}const EEe={kernelName:bE,backendName:"cpu",kernelFunc:TEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IEe(t){const{inputs:e,backend:n,attrs:i}=t,{value:o}=e;let{axis:r}=i;r<0&&(r+=o.shape.length);const s=o.shape.length,a=o.shape[r],l=new Array(s-1);let c=0;for(let p=0;p<s;p++)p!==r&&(l[c++]=o.shape[p]);const u=new Array(s).fill(0),d=o.shape.slice();d[r]=1;const h=new Array(a);for(let p=0;p<h.length;p++){u[r]=p;const f=Uu({inputs:{x:o},backend:n,attrs:{begin:u,size:d}});h[p]=rn({inputs:{x:f},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(f)}return h}const _Ee={kernelName:Ov,backendName:"cpu",kernelFunc:IEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ee(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,segmentIds:r}=e,{numSegments:s}=i;Xe(o,"unsortedSegmentSum");const a=o.shape.length,l=r.shape.length,c=[],u=[],d=a-l;let h=r;for(let f=0;f<d;++f){const m=p1({inputs:{input:h},backend:n,attrs:{dim:f+1}});h=m,u.push(m)}for(let f=0;f<s;++f){const m=yc(f,"int32"),b=n.makeTensorInfo([],"int32",m),g=zM({inputs:{a:b,b:h},backend:n}),x=cc({inputs:{x:g},backend:n,attrs:{dtype:"float32"}}),y=yw({inputs:{a:x,b:o},backend:n}),v=h0({inputs:{x:y},backend:n,attrs:{axis:0,keepDims:!1}});c.push(v),u.push(b),u.push(g),u.push(x),u.push(y),u.push(v)}const p=zj({inputs:c,backend:n,attrs:{axis:0}});return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),p}const AEe={kernelName:Dv,backendName:"cpu",kernelFunc:$Ee};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NEe=[T3e,rke,I3e,$3e,dke,N3e,D3e,L3e,F3e,B3e,j3e,V3e,W3e,K3e,Y3e,Q3e,tSe,iSe,rSe,S3e,aSe,cSe,dSe,pke,pSe,cke,mke,mSe,ske,bSe,ySe,vSe,kSe,CSe,ESe,_Se,ASe,OSe,RSe,zSe,PSe,MSe,USe,HSe,WSe,qSe,XSe,ZSe,JSe,QSe,eCe,nCe,rCe,g3e,aCe,gke,mCe,bke,gCe,yke,kCe,SCe,TCe,wke,Ske,ICe,$Ce,NCe,DCe,Tke,Ike,ake,LCe,xSe,FCe,BCe,jCe,b3e,$ke,Nke,VCe,Dke,WCe,KCe,YCe,QCe,t4e,i4e,o4e,Lke,s4e,l4e,u4e,h4e,f4e,g4e,x4e,Fke,v4e,S4e,E4e,Bke,jke,$4e,O4e,L4e,Vke,F4e,B4e,M4e,Fj,H4e,y3e,Gke,G4e,K4e,Y4e,J4e,lke,HS,eTe,v3e,w3e,k3e,nTe,oTe,sTe,lTe,uTe,dTe,pTe,e3e,mTe,vTe,kTe,ETe,n3e,_Te,ATe,OTe,i3e,C4e,LTe,FTe,BTe,jTe,VTe,WTe,qTe,XTe,s3e,YTe,l3e,u3e,JTe,eEe,nEe,oEe,sEe,f3e,iCe,lEe,uEe,hEe,fEe,gEe,xEe,Hke,EEe,_Ee,AEe,P4e];for(const t of NEe)EL(t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yc={},pb={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function OEe(t,e){Yc[t]=e}function As(t,e){if(!(t in Yc)||e!=null){const i=REe(t,e);if(i!==null)Yc[t]=i;else return console.log("Could not get context for WebGL version",t),null}const n=Yc[t];return n==null||n.isContextLost()?(delete Yc[t],As(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),Yc[t])}function DEe(t){if(!pe().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function REe(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e==null?DEe(t):e;return n.addEventListener("webglcontextlost",i=>{i.preventDefault(),delete Yc[t]},!1),pe().getBool("SOFTWARE_WEBGL_ENABLED")&&(pb.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",pb)||n.getContext("experimental-webgl",pb):n.getContext("webgl2",pb)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var wm;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(wm||(wm={}));var lr;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(lr||(lr={}));var Ii;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Ii||(Ii={}));function p0(t,e){return[e,t]}function LEe(t,e){return t*e}function fb(t){const e=ge(t),n=Math.ceil(e/4);return Z3(n)}function Sp(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function zEe(t,e){const[n,i]=Sp(t,e);return n*i*4}function x_(t,e){const n=t;let i,o,r,s,a,l,c,u,d,h;return pe().getNumber("WEBGL_VERSION")===2?(i=n.R32F,o=n.R16F,r=n.RGBA16F,s=n.RGBA32F,a=n.RED,c=4,u=1,d=n.HALF_FLOAT,h=n.FLOAT,l=n.RGBA8):(i=t.RGBA,o=t.RGBA,r=t.RGBA,s=n.RGBA,a=t.RGBA,c=4,u=4,d=e!=null?e.HALF_FLOAT_OES:null,h=t.FLOAT,l=t.RGBA),{internalFormatFloat:i,internalFormatHalfFloat:o,internalFormatPackedHalfFloat:r,internalFormatPackedFloat:s,textureFormatFloat:a,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:d,textureTypeFloat:h}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function je(t,e){const n=e();return pe().getBool("DEBUG")&&FEe(t),n}function FEe(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+jEe(t,e))}const PEe=596e-10,BEe=65504;function MEe(t){return!!(pe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||PEe<Math.abs(t)&&Math.abs(t)<BEe)}function jEe(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(e)}}function mb(t,e){return il(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function UEe(t,e){const n=il(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(je(t,()=>t.shaderSource(n,e)),je(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function VEe(t,e){const n=il(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(je(t,()=>t.shaderSource(n,e)),je(t,()=>t.compileShader(n)),pe().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw Pj(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const HEe=/ERROR: [0-9]+:([0-9]+):/g;function Pj(t,e){const n=HEe.exec(e);if(n==null){console.log("Couldn't parse line number in error: ".concat(e)),console.log(t);return}const i=+n[1],o=t.split("\n"),r=o.length.toString().length+2,s=o.map((d,h)=>gh((h+1).toString(),r)+d);let a=0;for(let d=0;d<s.length;d++)a=Math.max(s[d].length,a);const l=s.slice(0,i-1),c=s.slice(i-1,i),u=s.slice(i);console.log(l.join("\n")),console.log(e.split("\n")[0]),console.log("%c ".concat(gh(c[0],a)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join("\n"))}function WEe(t){return il(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function GEe(t,e){if(je(t,()=>t.linkProgram(e)),!pe().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function lk(t,e){if(je(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function qEe(t,e){const n=il(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return je(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),je(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function KEe(t,e){const n=il(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return je(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),je(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function XEe(t){return il(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function YEe(t,e){const n=pe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const i="[".concat(t,"x").concat(e,"]");throw new Error("Requested texture size "+i+" is invalid.")}if(t>n||e>n){const i="[".concat(t,"x").concat(e,"]"),o="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU "+o+".")}}function ZEe(t){return il(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function PN(t,e,n,i,o,r,s){const a=t.getAttribLocation(e,n);return a===-1?!1:(je(t,()=>t.bindBuffer(t.ARRAY_BUFFER,i)),je(t,()=>t.vertexAttribPointer(a,o,t.FLOAT,!1,r,s)),je(t,()=>t.enableVertexAttribArray(a)),!0)}function JEe(t,e,n){iIe(t,n),je(t,()=>t.activeTexture(t.TEXTURE0+n)),je(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function QEe(t,e,n){return il(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function eIe(t,e,n){return t.getUniformLocation(e,n)}function tIe(t,e,n,i){je(t,()=>JEe(t,e,i)),je(t,()=>t.uniform1i(n,i))}function ck(t,e,n){je(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),je(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function BN(t,e){je(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),je(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function gb(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+nIe(t,e))}function nIe(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(e)}}function il(t,e,n){const i=je(t,()=>e());if(i==null)throw new Error(n);return i}function iIe(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,i=e+t.TEXTURE0;if(i<t.TEXTURE0||i>n){const o="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(o,"."))}}function Xh(t,e=2){return ge(t.slice(0,t.length-e))}function Yh(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function bb(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[Xh(t),...Yh(t)]),e}function oIe(t,e=!1){let n=pe().getNumber("WEBGL_MAX_TEXTURE_SIZE"),i=pe().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");i===1/0&&pe().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(i=n/2),e&&(n=n*2,i=i*2,t=t.map((a,l)=>l>=t.length-2?hT(t[l]):t[l]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=xc(t).newShape);let o=ge(t),r=null;t.length<=1&&o<=n?r=[1,o]:t.length===2&&t[0]<=n&&t[1]<=n?r=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?r=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?r=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?r=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(r=[t[0],t[1]*t[2]*t[3]]);const s=r!=null&&Math.max(...r)>i&&Math.min(...r)<=(e?2:1)&&Math.min(...r)>0;if(r==null||s)if(e){const a=Xh(t);let l=2,c=2;t.length&&([l,c]=Yh(t)),o=a*(l/2)*(c/2),r=Z3(o).map(u=>u*2)}else r=Z3(o);return r}function xb(t){return t%2===0}function m1(t,e){if(t=t.slice(-2),e=e.slice(-2),Nt(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t[t.length-1],i=e[e.length-1];if(n===i||xb(n)&&xb(i)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&xb(t[0])&&xb(e[0])}let uk,dk;function rIe(t){if(uk==null){const e=As(t);uk=e.getParameter(e.MAX_TEXTURE_SIZE)}return uk}function sIe(t){if(dk==null){const e=As(t);dk=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,dk)}function aIe(t){if(t===0)return 0;let e;const n=As(t);return Kr(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:Kr(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function Kr(t,e){return t.getExtension(e)!=null}function MN(t){try{if(As(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function lIe(t){if(t===0)return!1;const e=As(t);if(t===1){if(!Kr(e,"OES_texture_float"))return!1}else if(!Kr(e,"EXT_color_buffer_float"))return!1;return GS(e)}function cIe(t){if(t===0)return!1;const e=As(t);if(t===1){if(!Kr(e,"OES_texture_float")||!Kr(e,"WEBGL_color_buffer_float"))return!1}else{if(Kr(e,"EXT_color_buffer_float"))return GS(e);const i="EXT_color_buffer_half_float";if(Kr(e,i)){const o=e.getExtension(i);return uIe(e,o)}return!1}return GS(e)}function GS(t){const e=x_(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const s=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(r),s}function uIe(t,e){const n=x_(t,e),i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0);const a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(i),t.deleteFramebuffer(s),a}function dIe(t){return t!==2?!1:As(t).fenceSync!=null}function f0(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&M(n.dtype!=="complex64",()=>"".concat(e," does not support complex64 tensors ")+"in the WebGL backend.")})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ye=pe();Ye.registerFlag("HAS_WEBGL",()=>Ye.getNumber("WEBGL_VERSION")>0);Ye.registerFlag("WEBGL_VERSION",()=>MN(2)?2:MN(1)?1:0);Ye.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);Ye.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>Ye.get("WEBGL_VERSION")===2);Ye.registerFlag("WEBGL_CPU_FORWARD",()=>!0);Ye.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);Ye.registerFlag("WEBGL_PACK",()=>Ye.getBool("HAS_WEBGL"));Ye.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Ye.getBool("WEBGL_PACK"));Ye.registerFlag("WEBGL_PACK_CLIP",()=>Ye.getBool("WEBGL_PACK"));Ye.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Ye.getBool("WEBGL_PACK"));Ye.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Ye.getBool("WEBGL_PACK"));Ye.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Ye.getBool("WEBGL_PACK"));Ye.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Ye.getBool("WEBGL_PACK"));Ye.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Ye.getBool("WEBGL_PACK"));Ye.registerFlag("WEBGL_PACK_REDUCE",()=>Ye.getBool("WEBGL_PACK"));Ye.registerFlag("WEBGL_LAZILY_UNPACK",()=>Ye.getBool("WEBGL_PACK"));Ye.registerFlag("WEBGL_CONV_IM2COL",()=>Ye.getBool("WEBGL_PACK"));Ye.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>Ye.getBool("WEBGL_PACK"));Ye.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>rIe(Ye.getNumber("WEBGL_VERSION")));Ye.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>sIe(Ye.getNumber("WEBGL_VERSION")));Ye.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=Ye.getNumber("WEBGL_VERSION");return t===0?0:aIe(t)});Ye.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Ye.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!VL());Ye.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>lIe(Ye.getNumber("WEBGL_VERSION")));Ye.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>Ye.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:Ye.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));Ye.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>cIe(Ye.getNumber("WEBGL_VERSION")));Ye.registerFlag("WEBGL_FENCE_API_ENABLED",()=>dIe(Ye.getNumber("WEBGL_VERSION")));Ye.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Ye.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);Ye.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(typeof t!="number")throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but "+"got ".concat(t,"."));if(t<0&&t!==-1)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(t,"."))});Ye.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>VL()?1:-1,t=>{if(typeof t!="number")throw new Error("WEBGL_FLUSH_THRESHOLD must be a number but got "+"".concat(t,"."));if(t<0&&t!==-1)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(t,"."))});Ye.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);Ye.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);Ye.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);Ye.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);Ye.registerFlag("WEBGL_EXP_CONV",()=>!1);Ye.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>Ye.getBool("IS_TEST"));Ye.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);Ye.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);Ye.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);Ye.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uo(){let t,e,n,i,o,r,s,a,l,c;return pe().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",i="in",o="texture",r="outputColor",s="out vec4 outputColor;",a=pe().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(t="",e="attribute",n="varying",i="varying",o="texture2D",r="gl_FragColor",s="",a="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:t,attribute:e,varyingVs:n,varyingFs:i,texture2D:o,output:r,defineOutput:s,defineSpecialNaN:a,defineSpecialInf:l,defineRound:c}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cd(t,e,n="index"){const i=nt(e);return i.map((o,r)=>{const s="int ".concat(t[r]," = ").concat(n," / ").concat(o),a=r===i.length-1?"int ".concat(t[r+1]," = ").concat(n," - ").concat(t[r]," * ").concat(o):"index -= ".concat(t[r]," * ").concat(o);return"".concat(s,"; ").concat(a,";")}).join("")}function vw(t,e,n="index"){const i=nt(e);return i.map((o,r)=>{const s="int ".concat(t[r]," = ").concat(n," / outShapeStrides[").concat(r,"]"),a=r===i.length-1?"int ".concat(t[r+1]," = ").concat(n," - ").concat(t[r]," * outShapeStrides[").concat(r,"]"):"index -= ".concat(t[r]," * outShapeStrides[").concat(r,"]");return"".concat(s,"; ").concat(a,";")}).join("")}function hIe(t,e){const n=t.length,i=t.map(r=>"".concat(e,"[").concat(r,"]")),o=new Array(n-1);o[n-2]=i[n-1];for(let r=n-3;r>=0;--r)o[r]="(".concat(o[r+1]," * ").concat(i[r+1],")");return o}function pIe(t,e,n="index"){const i=t.map((r,s)=>s),o=hIe(i,e);return o.map((r,s)=>{const a="int ".concat(t[s]," = ").concat(n," / ").concat(o[s]),l=s===o.length-1?"int ".concat(t[s+1]," = ").concat(n," - ").concat(t[s]," * ").concat(o[s]):"index -= ".concat(t[s]," * ").concat(o[s]);return"".concat(a,"; ").concat(l,";")}).join("")}function y_(t){const e=nt(t).map(n=>n.toString());return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(e[0]," + coords.y * ").concat(e[1]," + coords.z;\n  }\n")}function v_(){return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n"}const Bj="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:Mj}=$xe;function fIe(t,e,n){const i=[];if(t.forEach(p=>{const f=ge(p.shapeInfo.logicalShape);if(p.shapeInfo.isUniform?i.push("uniform float ".concat(p.name).concat(f>1?"[".concat(f,"]"):"",";")):(i.push("uniform sampler2D ".concat(p.name,";")),i.push("uniform int offset".concat(p.name,";"))),n.enableShapeUniforms){const{uniformShape:m}=w_(n.packedInputs,p.shapeInfo.logicalShape,p.shapeInfo.texShape);switch(m.length){case 1:i.push("uniform int ".concat(p.name,"Shape;"));break;case 2:i.push("uniform ivec2 ".concat(p.name,"Shape;"));break;case 3:i.push("uniform ivec3 ".concat(p.name,"Shape;"));break;case 4:i.push("uniform ivec4 ".concat(p.name,"Shape;"));break}i.push("uniform ivec2 ".concat(p.name,"TexShape;"))}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:i.push("uniform int outShape;");break;case 2:i.push("uniform ivec2 outShape;"),i.push("uniform int outShapeStrides;");break;case 3:i.push("uniform ivec3 outShape;"),i.push("uniform ivec2 outShapeStrides;");break;case 4:i.push("uniform ivec4 outShape;"),i.push("uniform ivec3 outShapeStrides;");break}i.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(p=>{i.push("uniform ".concat(p.type," ").concat(p.name).concat(p.arrayIndex?"[".concat(p.arrayIndex,"]"):"",";"))});const o=i.join("\n"),r=t.map(p=>mIe(p,e,n.packedInputs,n.enableShapeUniforms)).join("\n"),s=e.texShape,a=uo(),l=xIe(a);let c,u,d=wIe(a);return e.isPacked?(c=gIe(e.logicalShape,s,n.enableShapeUniforms),u=vIe(a)):(c=bIe(e.logicalShape,s,n.enableShapeUniforms),u=yIe(a)),n.packedInputs&&(d+=TIe),[d,l,u,o,c,r,n.userCode].join("\n")}function Cp(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return FIe(t,e);case 1:return BIe(t,e);case 2:return jIe(t,e);case 3:return VIe(t,e);case 4:return WIe(t,e);case 5:return GIe(t);case 6:return qIe(t);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function jj(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return zIe(t);case 1:return PIe(t,e);case 2:return MIe(t,e);case 3:return UIe(t,e);default:return HIe(t,e)}}function mIe(t,e,n=!1,i){let o="";n?o+=jj(t,i):o+=Cp(t,i);const r=t.shapeInfo.logicalShape,s=e.logicalShape;return r.length<=s.length&&(n?o+=KIe(t,e):o+=XIe(t,e)),o}function gIe(t,e,n){switch(t.length){case 0:return Uj();case 1:return EIe(t,e,n);case 2:return RIe(t,e,n);case 3:return _Ie(t,e,n);default:return AIe(t,e,n)}}function bIe(t,e,n){switch(t.length){case 0:return Uj();case 1:return IIe(t,e,n);case 2:return LIe(t,e,n);case 3:return $Ie(t,e,n);case 4:return NIe(t,e,n);case 5:return OIe(t,e);case 6:return DIe(t,e);default:throw new Error("".concat(t.length,"-D output sampling is not yet supported"))}}function xIe(t){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(t.texture2D,"(textureSampler, uv).r;\n    }\n  ")}function yIe(t){return"\n    void setOutput(float val) {\n      ".concat(t.output," = vec4(val, 0, 0, 0);\n    }\n  ")}function vIe(t){return"\n    void setOutput(vec4 val) {\n      ".concat(t.output," = val;\n    }\n  ")}function wIe(t){return"".concat(t.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(t.varyingFs," vec2 resultUV;\n    ").concat(t.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(t.defineSpecialNaN,"\n    ").concat(t.defineSpecialInf,"\n    ").concat(t.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(kIe,"\n    ").concat(SIe,"\n    ").concat(CIe,"\n  ")}const kIe="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",SIe="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",CIe="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",TIe="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Uj(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function EIe(t,e,n){const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return i[0]===1?n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(i[1],".0);\n      }\n    "):i[1]===1?n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(i[0],".0);\n      }\n    "):n?"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(i[0],", ").concat(i[1],"));\n      return 2 * (resTexRC.x * ").concat(i[1]," + resTexRC.y);\n    }\n  ")}function IIe(t,e,n){return e[0]===1?n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(e[1],".0);\n      }\n    "):e[1]===1?n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(e[0],".0);\n      }\n    "):n?"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(e[0],", ").concat(e[1],"));\n      return resTexRC.x * ").concat(e[1]," + resTexRC.y;\n    }\n  ")}function _Ie(t,e,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],o=Math.ceil(t[2]/2),r=o*Math.ceil(t[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(i[0],", ").concat(i[1],"));\n      int index = resTexRC.x * ").concat(i[1]," + resTexRC.y;\n\n      int b = index / ").concat(r,";\n      index -= b * ").concat(r,";\n\n      int r = 2 * (index / ").concat(o,");\n      int c = imod(index, ").concat(o,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}function $Ie(t,e,n){if(n){const o=vw(["r","c","d"],t);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(o,"\n    return ivec3(r, c, d);\n  }\n")}const i=cd(["r","c","d"],t);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec3(r, c, d);\n    }\n  ")}function AIe(t,e,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],o=Math.ceil(t[t.length-1]/2),r=o*Math.ceil(t[t.length-2]/2);let s=r,a="",l="b, r, c";for(let c=2;c<t.length-1;c++)s*=t[t.length-c-1],a="\n      int b".concat(c," = index / ").concat(s,";\n      index -= b").concat(c," * ").concat(s,";\n    ")+a,l="b".concat(c,", ")+l;return"\n    ivec".concat(t.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(i[0],", ").concat(i[1],"));\n      int index = resTexRC.x * ").concat(i[1]," + resTexRC.y;\n\n      ").concat(a,"\n\n      int b = index / ").concat(r,";\n      index -= b * ").concat(r,";\n\n      int r = 2 * (index / ").concat(o,");\n      int c = imod(index, ").concat(o,") * 2;\n\n      return ivec").concat(t.length,"(").concat(l,");\n    }\n  ")}function NIe(t,e,n){if(n){const o=vw(["r","c","d","d2"],t);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(o,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}const i=cd(["r","c","d","d2"],t);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}function OIe(t,e){const n=cd(["r","c","d","d2","d3"],t);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(e[0],",\n                             ").concat(e[1],"));\n\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}function DIe(t,e){const n=cd(["r","c","d","d2","d3","d4"],t);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}function RIe(t,e,n){const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(Nt(t,e))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(i[0],", ").concat(i[1],"));\n      }\n    ");const o=Math.ceil(t[1]/2);return n?"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(i[0],", ").concat(i[1],"));\n\n      int index = resTexRC.x * ").concat(i[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(o,");\n      int c = imod(index, ").concat(o,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}function LIe(t,e,n){return Nt(t,e)?n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(e[0],", ").concat(e[1],"));\n      }\n    "):t[1]===1?n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(e[0],", ").concat(e[1],"));\n        int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    "):t[0]===1?n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(e[0],", ").concat(e[1],"));\n        int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    "):n?"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n      int r = index / ").concat(t[1],";\n      int c = index - r * ").concat(t[1],";\n      return ivec2(r, c);\n    }\n  ")}function ud(t){return"offset".concat(t)}function zIe(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),i=uo();return"\n    vec4 ".concat(n,"() {\n      return ").concat(i.texture2D,"(").concat(e,", halfCR);\n    }\n  ")}function FIe(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return"float ".concat(i,"() {return ").concat(n,";}");const[o,r]=t.shapeInfo.texShape;if(o===1&&r===1)return"\n      float ".concat(i,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const s=ud(n);if(e)return"\n    float ".concat(i,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");const[a,l]=t.shapeInfo.texShape;return"\n    float ".concat(i,"() {\n      vec2 uv = uvFromFlat(").concat(a,", ").concat(l,", ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function PIe(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t.shapeInfo.texShape,r=uo();if(e)return"\n    vec4 ".concat(i,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(r.texture2D,"(").concat(n,", uv);\n    }\n  ");const s=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return"\n    vec4 ".concat(i,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(s[0],", ").concat(s[1],", index);\n      return ").concat(r.texture2D,"(").concat(n,", uv);\n    }\n  ")}function BIe(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return"\n      float ".concat(i,"(int index) {\n        ").concat(Tp(t),"\n      }\n    ");const o=t.shapeInfo.texShape,r=o[0],s=o[1];if(s===1&&r===1)return"\n      float ".concat(i,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const a=ud(n);return s===1?e?"\n      float ".concat(i,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(a,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(i,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(a,") + 0.5) / ").concat(r,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):r===1?e?"\n      float ".concat(i,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(a,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(i,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(a,") + 0.5) / ").concat(s,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):e?"\n    float ".concat(i,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(a,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  "):"\n    float ".concat(i,"(int index) {\n      vec2 uv = uvFromFlat(").concat(r,", ").concat(s,", index + ").concat(a,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function MIe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),r=t.shapeInfo.texShape,s=r[0],a=r[1],l=uo();if(r!=null&&Nt(n,r))return e?"\n      vec4 ".concat(o,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n\n        return ").concat(l.texture2D,"(").concat(i,", uv);\n      }\n    "):"\n      vec4 ".concat(o,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(a,".0, ").concat(s,".0);\n\n        return ").concat(l.texture2D,"(").concat(i,", uv);\n      }\n    ");if(e)return"\n    vec4 ".concat(o,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(i,"TexShape[0]) / 2.0), ceil(float(").concat(i,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(i,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(l.texture2D,"(").concat(i,", uv);\n    }\n  ");const c=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],u=Math.ceil(n[1]/2);return"\n    vec4 ".concat(o,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(u,", ").concat(c[0],", ").concat(c[1],", row, col);\n      return ").concat(l.texture2D,"(").concat(i,", uv);\n    }\n  ")}function jIe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),r=t.shapeInfo.texShape;if(r!=null&&Nt(n,r)){if(e)return"\n      float ".concat(o,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    ");const h=r[0],p=r[1];return"\n    float ".concat(o,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(p,".0, ").concat(h,".0);\n      return sampleTexture(").concat(i,", uv);\n    }\n  ")}const{newShape:s,keptDims:a}=xc(n),l=s;if(l.length<n.length){const h=Ep(t,l),p=["row","col"];return"\n      ".concat(Cp(h,e),"\n      float ").concat(o,"(int row, int col) {\n        return ").concat(o,"(").concat(Ip(p,a),");\n      }\n    ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(o,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(Tp(t),"\n      }\n    ");const c=r[0],u=r[1],d=ud(i);return u===1?e?"\n      float ".concat(o,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(i,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(i,"TexShape[0]));\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n    float ".concat(o,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(c,".0);\n      return sampleTexture(").concat(i,", uv);\n    }\n  "):c===1?e?"\n      float ".concat(o,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(i,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(i,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n    float ".concat(o,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(u,".0, 0.5);\n      return sampleTexture(").concat(i,", uv);\n    }\n  "):e?"\n      float ".concat(o,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(i,"Shape[1] + col + ").concat(d,";\n        vec2 uv = uvFromFlat(").concat(i,"TexShape[0], ").concat(i,"TexShape[1], index);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n  float ".concat(o,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(d,";\n    vec2 uv = uvFromFlat(").concat(c,", ").concat(u,", index);\n    return sampleTexture(").concat(i,", uv);\n  }\n")}function UIe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),r=t.shapeInfo.texShape,s=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];if(n[0]===1){const h=n.slice(1),p=[1,2],f=Ep(t,h),m=["b","row","col"];return"\n        ".concat(jj(f,e),"\n        vec4 ").concat(o,"(int b, int row, int col) {\n          return ").concat(o,"(").concat(Ip(m,p),");\n        }\n      ")}const a=uo();if(e)return"\n    vec4 ".concat(o,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(i,"TexShape[0]) / 2.0), ceil(float(").concat(i,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(i,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(i,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(a.texture2D,"(").concat(i,", uv);\n    }\n  ");const l=s[0],c=s[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return"\n    vec4 ".concat(o,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(l,", ").concat(c,", ").concat(d,", ").concat(u,", b, row, col);\n      return ").concat(a.texture2D,"(").concat(i,", uv);\n    }\n  ")}function VIe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),r=n[1]*n[2],s=n[2],{newShape:a,keptDims:l}=xc(n),c=a;if(c.length<n.length){const m=Ep(t,c),b=["row","col","depth"];return"\n        ".concat(Cp(m,e),"\n        float ").concat(o,"(int row, int col, int depth) {\n          return ").concat(o,"(").concat(Ip(b,l),");\n        }\n      ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(o,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(r,", ").concat(s,", 1)));\n        ").concat(Tp(t),"\n      }\n    ");const u=t.shapeInfo.texShape,d=u[0],h=u[1],p=t.shapeInfo.flatOffset;if(h===r&&p==null)return e?"\n      float ".concat(o,"(int row, int col, int depth) {\n        int stride1 = ").concat(i,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n        float ".concat(o,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(s,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(h,".0, ").concat(d,".0);\n          return sampleTexture(").concat(i,", uv);\n        }\n      ");if(h===s&&p==null)return e?"\n      float ".concat(o,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(i,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n    float ".concat(o,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(h,".0, ").concat(d,".0);\n      return sampleTexture(").concat(i,", uv);\n    }\n  ");const f=ud(i);return e?"\n    float ".concat(o,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(i,"Shape[1] * ").concat(i,"Shape[2];\n      int stride1 = ").concat(i,"Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(i,"TexShape[0], ").concat(i,"TexShape[1], index);\n      return sampleTexture(").concat(i,", uv);\n    }\n    "):"\n      float ".concat(o,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r," + col * ").concat(s," + depth + ").concat(f,";\n        vec2 uv = uvFromFlat(").concat(d,", ").concat(h,", index);\n        return sampleTexture(").concat(i,", uv);\n      }\n  ")}function HIe(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),o=uo();if(e)return"\n    vec4 ".concat(i,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ");const r=t.shapeInfo.logicalShape,s=r.length,a=t.shapeInfo.texShape,l=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],c=l[0],u=l[1],d=Math.ceil(r[s-1]/2);let h=d*Math.ceil(r[s-2]/2),p="int b, int row, int col",f="b * ".concat(h," + (row / 2) * ").concat(d," + (col / 2)");for(let m=2;m<s-1;m++)p="int b".concat(m,", ")+p,h*=r[s-m-1],f="b".concat(m," * ").concat(h," + ")+f;return"\n    vec4 ".concat(i,"(").concat(p,") {\n      int index = ").concat(f,";\n      int texR = index / ").concat(u,";\n      int texC = index - texR * ").concat(u,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(u,", ").concat(c,");\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ")}function WIe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),r=n[3],s=n[2]*r,a=n[1]*s,{newShape:l,keptDims:c}=xc(n);if(l.length<n.length){const x=Ep(t,l),y=["row","col","depth","depth2"];return"\n      ".concat(Cp(x,e),"\n      float ").concat(o,"(int row, int col, int depth, int depth2) {\n        return ").concat(o,"(").concat(Ip(y,c),");\n      }\n    ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(o,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(a,", ").concat(s,", ").concat(r,", 1)));\n        ").concat(Tp(t),"\n      }\n    ");const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],p=d[1],f="int stride2 = ".concat(i,"Shape[3];"),m="int stride1 = ".concat(i,"Shape[2] * stride2;"),b="int stride0 = ".concat(i,"Shape[1] * stride1;");if(p===a&&u==null)return e?"\n      float ".concat(o,"(int row, int col, int depth, int depth2) {\n        ").concat(f,"\n        ").concat(m,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n      float ".concat(o,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(s,", ").concat(r,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(i,", uv);\n      }\n    ");if(p===r&&u==null)return e?"\n      float ".concat(o,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(i,"Shape[1] * ").concat(i,"Shape[2], ").concat(i,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n      float ".concat(o,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(i,", uv);\n      }\n    ");const g=ud(i);return e?"\n    float ".concat(o,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(f,"\n      ").concat(m,"\n      ").concat(b,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(i,"TexShape[0], ").concat(i,"TexShape[1], index + ").concat(g,");\n      return sampleTexture(").concat(i,", uv);\n    }\n  "):"\n    float ".concat(o,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(a," + col * ").concat(s," +\n          depth * ").concat(r," + depth2;\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(p,", index + ").concat(g,");\n      return sampleTexture(").concat(i,", uv);\n    }\n  ")}function GIe(t){const e=t.shapeInfo.logicalShape,n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e[4],r=e[3]*o,s=e[2]*r,a=e[1]*s,{newShape:l,keptDims:c}=xc(e);if(l.length<e.length){const m=Ep(t,l),b=["row","col","depth","depth2","depth3"];return"\n      ".concat(Cp(m),"\n      float ").concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(i,"(").concat(Ip(b,c),");\n      }\n    ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(a,", ").concat(s,", ").concat(r,", ").concat(o,")) +\n          depth3;\n        ").concat(Tp(t),"\n      }\n    ");const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],p=d[1];if(p===a&&u==null)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(s,", ").concat(r,", ").concat(o,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(p===o&&u==null)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(e[1]*e[2]*e[3],",\n               ").concat(e[2]*e[3],", ").concat(e[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const f=ud(n);return"\n    float ".concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(a," + col * ").concat(s," + depth * ").concat(r," +\n          depth2 * ").concat(o," + depth3 + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(p,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function qIe(t){const e=t.shapeInfo.logicalShape,n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:o,keptDims:r}=xc(e);if(o.length<e.length){const b=Ep(t,o),g=["row","col","depth","depth2","depth3","depth4"];return"\n      ".concat(Cp(b),"\n      float ").concat(i,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(i,"(").concat(Ip(g,r),");\n      }\n    ")}const s=e[5],a=e[4]*s,l=e[3]*a,c=e[2]*l,u=e[1]*c;if(t.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(u,", ").concat(c,", ").concat(l,", ").concat(a,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(s,", 1)));\n        ").concat(Tp(t),"\n      }\n    ");const d=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,p=h[0],f=h[1];if(f===u&&d==null)return"\n      float ".concat(i,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(c,", ").concat(l,", ").concat(a,", ").concat(s,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(f,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(f===s&&d==null)return"\n      float ".concat(i,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(e[1]*e[2]*e[3]*e[4],",\n               ").concat(e[2]*e[3]*e[4],",\n               ").concat(e[3]*e[4],",\n               ").concat(e[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(f,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const m=ud(n);return"\n    float ".concat(i,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(c," + depth * ").concat(l," +\n          depth2 * ").concat(a," + depth3 * ").concat(s," + depth4 + ").concat(m,";\n      vec2 uv = uvFromFlat(").concat(p,", ").concat(f,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function Tp(t){const e=t.name,n=ge(t.shapeInfo.logicalShape);return n<2?"return ".concat(e,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(e,"[i];\n      }\n    }\n  ")}function KIe(t,e){const n=t.name,i=n.charAt(0).toUpperCase()+n.slice(1),o="get"+i+"AtOutCoords",r=t.shapeInfo.logicalShape.length,s=e.logicalShape.length,a=Mj(t.shapeInfo.logicalShape,e.logicalShape),l=qt(s),c=s-r;let u;const d=["x","y","z","w","u","v"];r===0?u="":s<2&&a.length>=1?u="coords = 0;":u=a.map(x=>"coords.".concat(d[x+c]," = 0;")).join("\n");let h="";s<2&&r>0?h="coords":h=t.shapeInfo.logicalShape.map((x,y)=>"coords.".concat(d[y+c])).join(", ");let p="return outputValue;";const m=ge(t.shapeInfo.logicalShape)===1,g=ge(e.logicalShape)===1;if(r===1&&!m&&!g)p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";else if(m&&!g)s===1?p="\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":p="\n        return vec4(outputValue.x);\n      ";else if(a.length){const x=r-2,y=r-1;a.indexOf(x)>-1&&a.indexOf(y)>-1?p="return vec4(outputValue.x);":a.indexOf(x)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":a.indexOf(y)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}return"\n    vec4 ".concat(o,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(u,"\n      vec4 outputValue = get").concat(i,"(").concat(h,");\n      ").concat(p,"\n    }\n  ")}function XIe(t,e){const n=t.name,i=n.charAt(0).toUpperCase()+n.slice(1),o="get"+i+"AtOutCoords",r=e.texShape,s=t.shapeInfo.texShape,a=t.shapeInfo.logicalShape.length,l=e.logicalShape.length;if(!t.shapeInfo.isUniform&&a===l&&t.shapeInfo.flatOffset==null&&Nt(s,r))return"\n      float ".concat(o,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");const c=qt(l),u=Mj(t.shapeInfo.logicalShape,e.logicalShape),d=l-a;let h;const p=["x","y","z","w","u","v"];a===0?h="":l<2&&u.length>=1?h="coords = 0;":h=u.map(m=>"coords.".concat(p[m+d]," = 0;")).join("\n");let f="";return l<2&&a>0?f="coords":f=t.shapeInfo.logicalShape.map((m,b)=>"coords.".concat(p[b+d])).join(", "),"\n    float ".concat(o,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(h,"\n      return get").concat(i,"(").concat(f,");\n    }\n  ")}function qt(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error("GPU for rank ".concat(t," is not yet supported"))}function w_(t,e,n){const{newShape:i,keptDims:o}=xc(e),r=e.length,s=t&&r===3&&e[0]===1,a=s?e.slice(1):i,l=!t&&r>1&&!Nt(e,n)&&i.length<r||s;return{useSqueezeShape:l,uniformShape:l?a:e,keptDims:o}}function Ep(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function Ip(t,e){return e.map(n=>t[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YIe(t,e,n,i){const o=n.map((u,d)=>{const h={logicalShape:u.shape,texShape:u.isUniform?null:u.texData.texShape,isUniform:u.isUniform,isPacked:u.isUniform?!1:u.texData.isPacked,flatOffset:null};return u.texData!=null&&u.texData.slice!=null&&u.texData.slice.flatOffset>0&&(h.flatOffset=u.texData.slice.flatOffset),{name:e.variableNames[d],shapeInfo:h}}),r=o.map(u=>u.shapeInfo),s={logicalShape:i.shape,texShape:i.texData.texShape,isUniform:!1,isPacked:i.texData.isPacked,flatOffset:null},a=fIe(o,s,e),l=VEe(t.gl,a),c=t.createProgram(l);return pe().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:l,source:a,webGLProgram:c,inShapeInfos:r,outShapeInfo:s,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(t.buildVao(c),Object.assign({program:e,fragmentShader:l,source:a,webGLProgram:c,inShapeInfos:r,outShapeInfo:s},Vj(t,e,c)))}function Vj(t,e,n){const i=[],o=[];let r,s,a,l=null,c=null;c=t.getUniformLocation(n,"NAN",!1),pe().getNumber("WEBGL_VERSION")===1&&(l=t.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const d of e.variableNames){const h={name:d,uniform:t.getUniformLocation(n,d,u),offset:t.getUniformLocation(n,"offset".concat(d),u)};e.enableShapeUniforms&&(h.shape=t.getUniformLocation(n,"".concat(d,"Shape"),u),h.texShape=t.getUniformLocation(n,"".concat(d,"TexShape"),u)),i.push(h)}if(e.enableShapeUniforms&&(r=t.getUniformLocation(n,"outShape",u),a=t.getUniformLocation(n,"outShapeStrides",u),s=t.getUniformLocation(n,"outTexShape",u)),e.customUniforms)for(const d of e.customUniforms)o.push(t.getUniformLocation(n,d.name,u));return{variablesLocations:i,customUniformLocations:o,infLoc:l,nanLoc:c,outShapeLocation:r,outShapeStridesLocation:a,outTexShapeLocation:s}}function jN(t,e){if(t.length!==e.length)throw Error("Binary was compiled with ".concat(t.length," inputs, but ")+"was executed with ".concat(e.length," inputs"));t.forEach((n,i)=>{const o=n.logicalShape,r=e[i],s=r.shape;if(!Nt(o,s))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(o," and ").concat(s," must match"));if(n.isUniform&&r.isUniform)return;const a=n.texShape,l=r.isUniform?null:r.texData.texShape;if(!Nt(a,l))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(a," and ").concat(l," must match"))})}function ZIe(t,e,n,i,o){e.program.enableShapeUniforms||(jN(e.inShapeInfos,n),jN([e.outShapeInfo],[i]));const r=i.texData.texture,s=i.texData.texShape;i.texData.isPacked?t.setOutputPackedMatrixTexture(r.texture,s[0],s[1]):t.setOutputMatrixTexture(r.texture,s[0],s[1]),t.setProgram(e.webGLProgram),t.bindVertexArray(e.webGLProgram.vao),pe().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN);for(let l=0;l<n.length;++l){const c=n[l],{uniform:u,offset:d,shape:h,texShape:p}=e.variablesLocations[l];if(h){const{uniformShape:f}=w_(e.program.packedInputs,c.shape,c.texData.texShape);switch(f.length){case 1:t.gl.uniform1iv(h,new Int32Array(f));break;case 2:t.gl.uniform2iv(h,new Int32Array(f));break;case 3:t.gl.uniform3iv(h,new Int32Array(f));break;case 4:t.gl.uniform4iv(h,new Int32Array(f));break}}if(p&&t.gl.uniform2i(p,c.texData.texShape[0],c.texData.texShape[1]),u!=null){if(c.isUniform){if(ge(c.shape)<2)t.gl.uniform1f(u,c.uniformValues[0]);else{let f=c.uniformValues;f instanceof Float32Array||(f=new Float32Array(f)),t.gl.uniform1fv(u,f)}continue}c.texData.slice!=null&&d!=null&&t.gl.uniform1i(d,c.texData.slice.flatOffset),t.setInputMatrixTexture(c.texData.texture.texture,u,l)}}const a=e.outShapeLocation;if(a)switch(i.shape.length){case 1:t.gl.uniform1iv(a,new Int32Array(i.shape));break;case 2:t.gl.uniform2iv(a,new Int32Array(i.shape));break;case 3:t.gl.uniform3iv(a,new Int32Array(i.shape));break;case 4:t.gl.uniform4iv(a,new Int32Array(i.shape));break}if(e.outShapeStridesLocation){const l=nt(i.shape);switch(i.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(l));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(l));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(l));break}}if(e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,i.texData.texShape[0],i.texData.texShape[1]),e.program.customUniforms&&o)for(let l=0;l<e.program.customUniforms.length;++l){const c=e.program.customUniforms[l],u=e.customUniformLocations[l],d=o[l];if(c.type==="float")t.gl.uniform1fv(u,d);else if(c.type==="vec2")t.gl.uniform2fv(u,d);else if(c.type==="vec3")t.gl.uniform3fv(u,d);else if(c.type==="vec4")t.gl.uniform4fv(u,d);else if(c.type==="int")t.gl.uniform1iv(u,d);else if(c.type==="ivec2")t.gl.uniform2iv(u,d);else if(c.type==="ivec3")t.gl.uniform3iv(u,d);else if(c.type==="ivec4")t.gl.uniform4iv(u,d);else throw Error("uniform type ".concat(c.type," is not supported yet."))}t.executeProgram()}function JIe(t,e,n){let i="";e.concat(n).forEach(s=>{const a=s.texData!=null&&s.texData.slice!=null&&s.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!s.isUniform){const l=s.texData.texShape,{useSqueezeShape:c,uniformShape:u,keptDims:d}=w_(t.packedInputs,s.shape,l);let h="",p="",f="";if(u.length===1&&t.packedInputs){const w=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];h="".concat(w[0]>1,"_").concat(w[1]>1)}else if(u.length===2&&!t.packedInputs)p="".concat(u[0]>1,"_").concat(u[1]>1);else if(u.length>2&&!t.packedInputs){const w=nt(u);f="".concat(w[0]===l[1],"_").concat(w[w.length-1]===l[1])}const m=s.shape.length,b=u.length===2&&Nt(s.shape,l),g=ge(s.shape)===1,x=Uh(s.shape,n.shape),y=!t.packedInputs&&m===n.shape.length&&Nt(l,n.texData.texShape),v=t.packedInputs||u.length>2?"":"".concat(l[0]>1,"_").concat(l[1]>1);i+="".concat(m,"_").concat(y,"_").concat(c?d:"","_").concat(u.length,"_").concat(g,"_").concat(x,"_").concat(b,"_").concat(h,"_").concat(p,"_").concat(f,"_").concat(v,"_").concat(a)}else{const l=s.isUniform?"uniform":s.texData.texShape;i+="".concat(s.shape,"_").concat(l,"_").concat(a)}});const o=t.userCode;let r=t.constructor.name;return r+="_"+i+"_"+o+"".concat(pe().getNumber("WEBGL_VERSION")),r}function Zi(t){return pe().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class QIe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=wm.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=uo();this.outputShape=e,this.enableShapeUniforms=Zi(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?vw(["r","c","d"],e):cd(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class e_e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=wm.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=uo();this.outputShape=e,this.enableShapeUniforms=Zi(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?vw(["r","c","d"],e):cd(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class t_e{constructor(e){this.variableNames=["A"],this.outTexUsage=lr.DOWNLOAD;const n=uo();this.outputShape=e,this.userCode="\n      ".concat(Bj,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class n_e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=lr.DOWNLOAD;const n=uo();this.outputShape=e,this.userCode="\n      ".concat(Bj,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i_e={R:0,G:1,B:2,A:3};class UN{constructor(e,n=!1,i="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const o=uo();this.outputShape=e,this.enableShapeUniforms=Zi(this.outputShape.length);let r="result";n&&(r="floor(result * 255. + 0.5)");let s="";for(let a=0;a<i.length;a++){const l=i[a];s+="\n          if(offset == ".concat(a,") {\n            result = values[").concat(i_e[l],"];\n          }")}this.userCode="\n      ".concat(this.enableShapeUniforms?v_():y_(e),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ").concat(i.length,");\n\n        flatIndex = idiv(flatIndex, ").concat(i.length,", 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ").concat(o.texture2D,"(A, uv);\n          ").concat(s,"\n        }\n        ").concat(o.output," = vec4(").concat(r,", 0., 0., 0.);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class o_e{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const i=uo();this.outputShape=e,this.enableShapeUniforms=Zi(this.outputShape.length);let o="",r="result";n&&(r="floor(result * 255. + 0.5)");for(let s=0;s<=1;s++)for(let a=0;a<=1;a++){const l=s*2+a;o+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(a," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(e[2]),") {\n          localCoords[2] += ").concat(a,";\n          if (localCoords[1] + ").concat(s," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(e[1]),") {\n            localCoords[1] += ").concat(s,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(i.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(l,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(l,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(l,"] = values[2];\n            } else {\n              result[").concat(l,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?v_():y_(e),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(o,"\n\n          ").concat(i.output," = ").concat(r,";\n        }\n    ")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r_e(t){const e=uo(),n="".concat(e.version,"\n    precision highp float;\n    ").concat(e.attribute," vec3 clipSpacePos;\n    ").concat(e.attribute," vec2 uv;\n    ").concat(e.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }");return UEe(t,n)}function s_e(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return qEe(t,e)}function a_e(t){const e=new Uint16Array([0,1,2,2,1,3]);return KEe(t,e)}function m0(t,e,n,i,o,r){YEe(e,n);const s=XEe(t),a=t.TEXTURE_2D;return je(t,()=>t.bindTexture(a,s)),je(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),je(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),je(t,()=>t.texParameteri(a,t.TEXTURE_MIN_FILTER,t.NEAREST)),je(t,()=>t.texParameteri(a,t.TEXTURE_MAG_FILTER,t.NEAREST)),pe().getNumber("WEBGL_VERSION")===1?je(t,()=>t.texImage2D(a,0,i,e,n,0,o,r,null)):je(t,()=>t.texStorage2D(a,1,i,e,n)),je(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:s,texShape:[n,e]}}function Hj(t){return t.internalFormatFloat}function l_e(t,e,n,i){const[o,r]=p0(e,n);return m0(t,o,r,Hj(i),i.textureFormatFloat,t.FLOAT)}function Wj(t){return t.internalFormatHalfFloat}function c_e(t,e,n,i){const[o,r]=p0(e,n);return m0(t,o,r,Wj(i),i.textureFormatFloat,i.textureTypeHalfFloat)}function Gj(t){return t.downloadTextureFormat}function u_e(t,e,n,i){const[o,r]=p0(e,n);return m0(t,o,r,Gj(i),t.RGBA,t.UNSIGNED_BYTE)}function qj(t){return t.internalFormatPackedFloat}function d_e(t,e,n,i){const[o,r]=Sp(e,n);return m0(t,o,r,qj(i),t.RGBA,t.FLOAT)}function Kj(t){return t.internalFormatPackedHalfFloat}function h_e(t,e,n,i){const[o,r]=Sp(e,n);return m0(t,o,r,Kj(i),t.RGBA,i.textureTypeHalfFloat)}function p_e(t,e,n){return je(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),PN(t,e,"clipSpacePos",n,3,20,0)&&PN(t,e,"uv",n,2,20,12)}function f_e(t,e,n,i,o,r){je(t,()=>t.bindTexture(t.TEXTURE_2D,e));let s,a,l;o instanceof Uint8Array?(s=new Uint8Array(n*i*4),a=t.UNSIGNED_BYTE,l=t.RGBA):(s=new Float32Array(n*i*4),a=t.FLOAT,l=r.internalFormatPackedFloat),s.set(o),pe().getNumber("WEBGL_VERSION")===2?je(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,i,t.RGBA,a,s)):je(t,()=>t.texImage2D(t.TEXTURE_2D,0,l,n,i,0,t.RGBA,a,s)),je(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function m_e(t,e,n){je(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?pe().getNumber("WEBGL_VERSION")===2?je(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):je(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):pe().getNumber("WEBGL_VERSION")===2?je(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):je(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),je(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function g_e(t,e,n,i){const o=t.createBuffer();je(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,o));const a=4*4*e*n;return je(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,a,t.STREAM_READ)),je(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),je(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),o}function b_e(t,e,n){const i=t,o=new Float32Array(n);return i.bindBuffer(i.PIXEL_PACK_BUFFER,e),i.getBufferSubData(i.PIXEL_PACK_BUFFER,0,o),i.bindBuffer(i.PIXEL_PACK_BUFFER,null),o}function x_e(t,e,n,i){const[o,r]=p0(e,n),s=4,a=new Uint8Array(LEe(e*n,s));return je(t,()=>t.readPixels(0,0,o,r,i.downloadTextureFormat,t.UNSIGNED_BYTE,a)),new Float32Array(a.buffer)}function y_e(t,e,n,i,o,r,s,a){const l=t,c=new Float32Array(zEe(r,s));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}function v_e(t,e,n){const i=new Float32Array(e*n*4);return je(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,i)),i}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hk{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=pe().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,OEe(n,e)):this.gl=As(n),e=this.gl,pe().getNumber("WEBGL_VERSION")===2){const r=e;this.createVertexArray=()=>je(r,()=>r.createVertexArray()),this.bindVertexArray=s=>je(r,()=>r.bindVertexArray(s)),this.deleteVertexArray=s=>je(r,()=>r.deleteVertexArray(s)),this.getVertexArray=()=>je(r,()=>r.getParameter(r.VERTEX_ARRAY_BINDING))}else if(e!=null){const r=e.getExtension("OES_vertex_array_object");if(r==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>je(e,()=>r.createVertexArrayOES()),this.bindVertexArray=s=>je(e,()=>r.bindVertexArrayOES(s)),this.deleteVertexArray=s=>je(e,()=>r.deleteVertexArrayOES(s)),this.getVertexArray=()=>je(e,()=>e.getParameter(r.VERTEX_ARRAY_BINDING_OES))}let i="WEBGL_color_buffer_float";const o="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),pe().getNumber("WEBGL_VERSION")===1){const r="OES_texture_float",s="OES_texture_half_float";if(this.textureFloatExtension=mb(this.gl,r),Kr(this.gl,s))this.textureHalfFloatExtension=mb(this.gl,s);else if(pe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(i),Kr(this.gl,o))this.colorBufferHalfFloatExtension=mb(this.gl,o);else if(pe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(i="EXT_color_buffer_float",Kr(this.gl,i))this.colorBufferFloatExtension=this.gl.getExtension(i);else if(Kr(this.gl,o))this.colorBufferHalfFloatExtension=this.gl.getExtension(o);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=s_e(this.gl),this.indexBuffer=a_e(this.gl),this.framebuffer=ZEe(this.gl),this.textureConfig=x_(this.gl,this.textureHalfFloatExtension)}get debug(){return pe().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;je(e,()=>e.finish()),je(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),je(e,()=>e.deleteFramebuffer(this.framebuffer)),je(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),je(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),je(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),l_e(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),c_e(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),u_e(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),m_e(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,i,o){this.throwIfDisposed(),f_e(this.gl,e,n,i,o,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),h_e(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),d_e(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(BN(this.gl,this.framebuffer),this.outputTexture=null),je(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,i){return this.downloadMatrixDriver(e,()=>x_e(this.gl,n,i,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,i,o,r,s){return y_e(this.gl,e,n,i,o,r,s,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return b_e(this.gl,e,n)}createBufferFromTexture(e,n,i){this.bindTextureToFrameBuffer(e);const o=g_e(this.gl,n,i,this.textureConfig);return this.unbindTextureToFrameBuffer(),o}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,i;if(pe().getBool("WEBGL_FENCE_API_ENABLED")){const o=e,r=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),i=()=>{const s=o.clientWaitSync(r,0,0);return s===o.ALREADY_SIGNALED||s===o.CONDITION_SATISFIED},n=r}else pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),i=()=>this.isQueryAvailable(n,pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):i=()=>!0;return{query:n,isFencePassed:i}}downloadMatrixFromPackedTexture(e,n,i){return this.downloadMatrixDriver(e,()=>v_e(this.gl,n,i))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=r_e(n));const i=WEe(n);je(n,()=>n.attachShader(i,this.vertexShader)),je(n,()=>n.attachShader(i,e)),GEe(n,i);const o=Object.assign(i,{vao:this.createVertexArray()});return this.debug&&lk(n,o),o}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const n=this.gl;je(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),p_e(n,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(je(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&lk(this.gl,this.program),je(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,i=!0){return this.throwIfDisposed(),i?QEe(this.gl,e,n):eIe(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),je(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,i){this.throwIfDisposed(),this.throwIfNoProgram(),tIe(this.gl,e,n,i)}setOutputMatrixTexture(e,n,i){this.setOutputMatrixTextureDriver(e,i,n)}setOutputPackedMatrixTexture(e,n,i){this.throwIfDisposed();const[o,r]=Sp(n,i);this.setOutputMatrixTextureDriver(e,o,r)}setOutputMatrixWriteRegion(e,n,i,o){this.setOutputMatrixWriteRegionDriver(i,e,o,n)}setOutputPackedMatrixWriteRegion(e,n,i,o){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&lk(this.gl,this.program),gb(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}je(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),je(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=mb(this.gl,pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const i=this.gl,o=this.getQueryTimerExtensionWebGL2(),r=i.createQuery();return i.beginQuery(o.TIME_ELAPSED_EXT,r),r}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,i=this.getQueryTimerExtensionWebGL2();n.endQuery(i.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await CA(()=>this.disposed||this.isQueryAvailable(e,pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const i=this.gl;return i.getQueryParameter(e,i.QUERY_RESULT)/1e6}else{const i=this.getQueryTimerExtensionWebGL1();return i.getQueryObjectEXT(e,i.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const i=this.gl,o=this.getQueryTimerExtensionWebGL2(),r=i.getQueryParameter(e,i.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),r&&!this.disjoint}else{const i=this.getQueryTimerExtensionWebGL1(),o=i.getQueryObjectEXT(e,i.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),o&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=w_e(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:i}=this.itemsToPoll[n];i()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let i;"setTimeoutCustom"in pe().platform&&(i=pe().platform.setTimeoutCustom.bind(pe().platform)),CA(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,i)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),ck(this.gl,e,this.framebuffer),this.debug&&gb(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(ck(this.gl,this.outputTexture,this.framebuffer),this.debug&&gb(this.gl)):BN(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const i=n();return this.unbindTextureToFrameBuffer(),i}setOutputMatrixTextureDriver(e,n,i){this.throwIfDisposed();const o=this.gl;ck(o,e,this.framebuffer),this.debug&&gb(o),this.outputTexture=e,je(o,()=>o.viewport(0,0,n,i)),je(o,()=>o.scissor(0,0,n,i))}setOutputMatrixWriteRegionDriver(e,n,i,o){this.throwIfDisposed(),je(this.gl,()=>this.gl.scissor(e,n,i,o))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function w_e(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:k_e,bincountImpl:Xj,bincountReduceImpl:S_e,bitwiseAndImpl:C_e,castImpl:T_e,ceilImpl:E_e,concatImpl:I_e,equalImpl:__e,expImpl:$_e,expm1Impl:A_e,floorImpl:N_e,gatherNdImpl:O_e,gatherV2Impl:D_e,greaterImpl:R_e,greaterEqualImpl:L_e,lessImpl:z_e,lessEqualImpl:F_e,linSpaceImpl:P_e,logImpl:B_e,maxImpl:M_e,maximumImpl:j_e,minimumImpl:U_e,multiplyImpl:V_e,negImpl:H_e,notEqualImpl:W_e,prodImpl:G_e,raggedGatherImpl:q_e,raggedRangeImpl:K_e,raggedTensorToTensorImpl:X_e,rangeImpl:Y_e,rsqrtImpl:Z_e,scatterImpl:J_e,sigmoidImpl:Q_e,simpleAbsImpl:Yj,sliceImpl:e$e,sparseFillEmptyRowsImpl:t$e,sparseReshapeImpl:n$e,sparseSegmentReductionImpl:Zj,sqrtImpl:i$e,staticRegexReplaceImpl:o$e,stridedSliceImpl:r$e,stringNGramsImpl:s$e,stringSplitImpl:a$e,stringToHashBucketFastImpl:l$e,subImpl:c$e,tileImpl:u$e,topKImpl:d$e,transposeImpl:k_,uniqueImpl:h$e}=m3e;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jj(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>"".concat(t,".").concat(n))}function to(t,e){return e===1?[t]:Jj(t,e)}function p$e(t,e){if(t===1)return"rc";let n="";for(let i=0;i<t;i++)n+=e[i],i<t-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class f$e{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Zi(this.outputShape.length),this.rank===0)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const n=to("rc",this.rank),i=qt(this.rank),o=this.getOutOfBoundsCondition(n),r=this.getSetup(n),s=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(i," rc = getOutputCoords();\n\n          if(").concat(o,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(r,"\n\n            setOutput(vec4(").concat(s,"));\n          }\n        }\n      ")}}getSourceCoordsArr(e){const n=[];for(let i=0;i<=1;i++)for(let o=0;o<=1;o++){let r="".concat(i===0?"r":"rp1",", ").concat(o===0?"c":"cp1");for(let s=2;s<this.rank;s++)r="".concat(e[e.length-1-s],",")+r;n.push(r)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);let n="";for(let i=this.rank-2;i<this.rank;i++)n+="".concat(e[i]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(i,"]"):this.outputShape[i]),i<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),i=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],o=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(n[0],";\n      int c = ").concat(n[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(i,";\n      bool rEdge = rp1 >= ").concat(o,";\n    ")}getOutput(e){const n=this.getSourceCoordsArr(e);if(this.rank===1){const i=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(i," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(n[0],"),\n            cEdge ? 0. : getA(").concat(n[1],"),\n            rEdge ? 0. : getA(").concat(n[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(n[3],")")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Qj{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Zi(this.outputShape.length);let i="";for(let o=0;o<4;o++){let r="thisRC = rc;";o%2===1&&(r+="thisRC.z += 1;"),o>1&&(r+="thisRC.y += 1;"),i+="\n        ".concat(r,"\n        ").concat(o>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(o,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(o>0?"}":"","\n      ")}this.userCode="\n      ".concat(m$e(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?v_():y_(e),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":e[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":e[2],";\n\n        ").concat(i,"\n\n        setOutput(result);\n      }\n    ")}}function m$e(t,e){const n=e?pIe(["r","c","d"],"inputShape"):cd(["r","c","d"],t);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class g$e{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,n,i){const o=HN(n,i),r=WN(e,o,i);r in this.freeTextures||(this.freeTextures[r]=[]),r in this.usedTextures||(this.usedTextures[r]=[]);const s=VN(e,o,this.gpgpu.gl,this.gpgpu.textureConfig,i);if(this.freeTextures[r].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=s,this.log();const l=this.freeTextures[r].pop();return this.usedTextures[r].push(l),l}let a;return o===Ii.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):o===Ii.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):o===Ii.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):o===Ii.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):o===Ii.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[r].push(a),this.numUsedTextures++,this._numBytesAllocated+=s,this.log(),a}releaseTexture(e,n,i,o){if(this.freeTextures==null)return;const r=HN(i,o),s=WN(n,r,o);s in this.freeTextures||(this.freeTextures[s]=[]);const a=VN(n,r,this.gpgpu.gl,this.gpgpu.textureConfig,o),l=pe().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=a):(this.freeTextures[s].push(e),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const c=this.usedTextures[s],u=c&&c.indexOf(e);if(u==null||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c[u]=c[c.length-1],c.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));const n=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*n),"%)"))}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function b$e(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(e))}function VN(t,e,n,i,o){const r=x$e(e,i);let s;if(o){const[l,c]=Sp(t[0],t[1]);s=l*c}else{const[l,c]=p0(t[0],t[1]);s=l*c}const a=b$e(n,r);return s*a}function x$e(t,e){switch(t){case Ii.PACKED_2X2_FLOAT32:return qj(e);case Ii.PACKED_2X2_FLOAT16:return Kj(e);case Ii.UNPACKED_FLOAT32:return Hj(e);case Ii.UNPACKED_FLOAT16:return Wj(e);case Ii.PACKED_4X1_UNSIGNED_BYTE:return Gj(e);default:throw new Error("Unknown physical texture type ".concat(t))}}function y$e(t){return pe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Ii.PACKED_2X2_FLOAT32:Ii.UNPACKED_FLOAT32:t?Ii.PACKED_2X2_FLOAT16:Ii.UNPACKED_FLOAT16}function HN(t,e){if(t===lr.UPLOAD)return Ii.PACKED_2X2_FLOAT32;if(t===lr.RENDER||t==null)return y$e(e);if(t===lr.DOWNLOAD||t===lr.PIXELS)return Ii.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(t))}function WN(t,e,n){return"".concat(t[0],"_").concat(t[1],"_").concat(e,"_").concat(n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gs{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Zi(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}const ls="if (isnan(x)) return x;",v$e="return x;",GN="return abs(x);",w$e="return (x >= 0.0) ? x : (exp(x) - 1.0);",k$e=ls+"\n  return (x < 0.0) ? 0.0 : x;\n",S$e=ls+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",kl="return x;",C$e="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T$e="return x;",E$e="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",I$e="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",_$e="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",$$e="return 1.0 / (1.0 + exp(-1.0 * x));";class Dl{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Zi(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class A$e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Zi(this.outputShape.length);const n=e.length,i=to("rc",n),o=qt(n),r=p$e(n,i),s=i.slice(-2),a=n<=1?"rc":"vec2(".concat(s.join(","),")");this.userCode="\n      void main() {\n        ".concat(o," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(r,");\n\n        setOutput(getChannel(packedInput, ").concat(a,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N$e=rI,O$e=1e-7,D$e=1e-4,yb={};function R$e(t){return t in yb||(yb[t]={}),yb[t]}const L$e=pe().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),z$e=600;function F$e(){return pe().global.screen==null?1024:pe().global.screen.height*pe().global.screen.width*window.devicePixelRatio*z$e/1024/1024}class ww extends dT{nextDataId(){return ww.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!pe().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof hk)n=e;else{const i=As(pe().getNumber("WEBGL_VERSION"),e);n=new hk(i)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const i=As(pe().getNumber("WEBGL_VERSION"));n=new hk(i),this.binaryCache=R$e(pe().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new g$e(this.gpgpu),this.numMBBeforeWarning=F$e(),this.texData=new yL(this,Bs())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,n,i,o,r,s){const a=this.makeTensorInfo(n,i),l=this.texData.get(a.dataId);l.isPacked=!1,l.texture={texture:e,texShape:[o,r]},l.texShape=[o,r];const c=bb(n),u=new UN(c,!1,s),d=this.runWebGLProgram(u,[a],i,[[o,r]]);return d.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(a),d.dataId}write(e,n,i){if((pe().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||pe().getBool("DEBUG"))&&this.checkNumericalProblems(e),i==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const o={id:this.nextDataId()};return this.texData.set(o,{shape:n,dtype:i,values:e,usage:lr.UPLOAD,refCount:1}),o}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,i,o,r){if(pe().getBool("DEBUG")&&this.checkNumericalProblems(n),o==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:i,dtype:o,values:n,usage:lr.UPLOAD,refCount:r})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:i,dtype:o,complexTensorInfos:r,slice:s,shape:a,isPacked:l}=n;if(s!=null){let h;l?h=new Dl(a,kl):h=new Gs(a,kl);const p=this.runWebGLProgram(h,[{dataId:e,shape:a,dtype:o}],o),f=this.readSync(p.dataId);return this.disposeIntermediateTensorInfo(p),f}if(i!=null)return this.convertAndCacheOnCPU(e);if(o==="string")return i;const c=this.activeTimers!=null;let u;c&&(u=mo());let d;if(o==="complex64"){const h=this.readSync(r.real.dataId),p=this.readSync(r.imag.dataId);d=Ka(h,p)}else d=this.getValuesFromTexture(e);return c&&(this.downloadWaitMs+=mo()-u),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const f=this.pendingRead.get(e);return new Promise(m=>f.push(m))}const n=this.texData.get(e),{values:i,shape:o,slice:r,dtype:s,complexTensorInfos:a,isPacked:l}=n;if(r!=null){let f;l?f=new Dl(o,kl):f=new Gs(o,kl);const m=this.runWebGLProgram(f,[{dataId:e,shape:o,dtype:s}],s),b=this.read(m.dataId);return this.disposeIntermediateTensorInfo(m),b}if(i!=null)return this.convertAndCacheOnCPU(e);if(pe().getBool("DEBUG")&&!pe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&pe().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let c=null,u;if(s!=="complex64"&&pe().get("WEBGL_BUFFER_SUPPORTED")){u=this.decode(e);const f=this.texData.get(u.dataId);c=this.gpgpu.createBufferFromTexture(f.texture.texture,...fb(o))}this.pendingRead.set(e,[]),s!=="complex64"&&await this.gpgpu.createAndWaitForFence();let d;if(s==="complex64"){const f=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]),m=f[0],b=f[1];d=Ka(m,b)}else if(c==null)d=this.getValuesFromTexture(e);else{const f=ge(o);d=this.gpgpu.downloadFloat32MatrixFromBuffer(c,f)}if(u!=null&&this.disposeIntermediateTensorInfo(u),c!=null){const f=this.gpgpu.gl;je(f,()=>f.deleteBuffer(c))}const h=this.convertAndCacheOnCPU(e,d),p=this.pendingRead.get(e);return this.pendingRead.delete(e),p.forEach(f=>f(h)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Bs().removeDataId(e,this),this.pendingDeletes--),h}readToGPU(e,n={}){const i=this.texData.get(e),{values:o,shape:r,slice:s,dtype:a,isPacked:l,texture:c}=i;if(a==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(s!=null){let p;l?p=new Dl(r,kl):p=new Gs(r,kl);const f=this.runWebGLProgram(p,[{dataId:e,shape:r,dtype:a}],a),m=this.readToGPU(f,n);return this.disposeIntermediateTensorInfo(f),m}if(c==null)throw o!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,n.customTexShape),d=Bs().makeTensorFromTensorInfo(u),h=this.texData.get(u.dataId);return Object.assign({tensorRef:d},h.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const i=n.map(o=>ec(o));return xt(e.shape,e.dtype,i)}catch(i){throw new Error("Failed to decode encoded string bytes into utf-8")}return xt(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const i=e[n];if(!MEe(i))throw pe().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value ".concat(i," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value ".concat(i," cannot be represented on this device."))}}getValuesFromTexture(e){const{shape:n,dtype:i,isPacked:o}=this.texData.get(e),r=ge(n);if(pe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const h=this.decode(e),p=this.texData.get(h.dataId),f=this.gpgpu.downloadMatrixFromPackedTexture(p.texture.texture,...fb(n)).subarray(0,r);return this.disposeIntermediateTensorInfo(h),f}const s=pe().getBool("WEBGL_PACK")&&o===!0,a=s?bb(n):n,l=s?new n_e(a):new t_e(a),c=this.runWebGLProgram(l,[{shape:a,dtype:i,dataId:e}],"float32"),u=this.texData.get(c.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,r);return this.disposeIntermediateTensorInfo(c),d}timerAvailable(){return pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,i=[];let o=!1;this.programTimersStack==null?(this.programTimersStack=i,o=!0):this.activeTimers.push(i),this.activeTimers=i,e();const r=Nu(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),s=Nu(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,o&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(r);a.kernelMs=ede(l),a.getExtraProfileInfo=()=>l.map((c,u)=>({name:s[u],ms:c})).map(c=>"".concat(c.name,": ").concat(c.ms)).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:mo(),endMs:null}}endTimer(e){return pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=mo(),e)}async getQueryTime(e){if(pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:i}=this.texData.get(e);return i!=null&&(this.disposeData(i.real.dataId,n),this.disposeData(i.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:i,texShape:o,usage:r,isPacked:s,slice:a}=this.texData.get(e),l=a&&a.origDataId||e,c=this.dataRefCount.get(l);c>1?this.dataRefCount.set(l,c-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(o,i),this.textureManager.releaseTexture(n,o,r,s)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=L$e){return pe().getBool("WEBGL_CPU_FORWARD")&&e.every(i=>this.texData.get(i.dataId).texture==null&&ge(i.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){sr("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return N$e(e.shape,n)}packedUnaryOp(e,n,i){const o=new Dl(e.shape,n),r=this.compileAndRun(o,[e],i);return Bs().makeTensorFromTensorInfo(r)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const o=Yj(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,o)}if(pe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,GN,e.dtype);const n=new Gs(e.shape,GN),i=this.compileAndRun(n,[e]);return Bs().makeTensorFromTensorInfo(i)}makeTensorInfo(e,n,i){let o;if(n==="string"&&i!=null&&i.length>0&&Zm(i[0])){const r=i.map(s=>Wl(s));o=this.write(r,e,n)}else o=this.write(i,e,n);return this.texData.get(o).usage=null,{dataId:o,shape:e,dtype:n}}makeOutput(e,n,i){return Bs().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,i),this)}unpackTensor(e){const n=new A$e(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new f$e(e.shape);return this.runWebGLProgram(n,[e],e.dtype,null,!0)}packedReshape(e,n){const i=[Xh(e.shape),...Yh(e.shape)],o={dtype:e.dtype,shape:i,dataId:e.dataId},r=[Xh(n),...Yh(n)],s=new Qj(r,i),a=!0,l=[i],c=this.runWebGLProgram(s,[o],e.dtype,l,a);return{dataId:c.dataId,shape:n,dtype:c.dtype}}decode(e,n){const i=this.texData.get(e),{isPacked:o,shape:r,dtype:s}=i;if(n!=null){const h=ge(r),p=n[0]*n[1]*4;M(h<=p,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const a=bb(r);let l;o?l=new e_e(a):l=new QIe(a);const c=!0,u=[n!=null?n:fb(a)],d=this.runWebGLProgram(l,[{shape:a,dtype:s,dataId:e}],s,u,c,n);return{dtype:s,shape:r,dataId:d.dataId}}runWebGLProgram(e,n,i,o,r=!1,s){const a=this.makeTensorInfo(e.outputShape,i),l=this.texData.get(a.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===wm.DENSE){const g=s!=null?s:fb(e.outputShape);l.texShape=g.map(x=>x*2)}if(e.outTexUsage!=null&&(l.usage=e.outTexUsage),ge(a.shape)===0)return l.values=Oi(a.dtype,0),a;const c=[],u=n.map(g=>{if(g.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let x=this.texData.get(g.dataId);if(x.texture==null){if(!e.packedInputs&&ge(g.shape)<=pe().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:g.shape,texData:null,isUniform:!0,uniformValues:x.values};e.packedInputs&&(x.isPacked=!0,x.shape=g.shape)}if(this.uploadToGPU(g.dataId),!!x.isPacked!=!!e.packedInputs)g=x.isPacked?this.unpackTensor(g):this.packTensor(g),c.push(g),x=this.texData.get(g.dataId);else if(x.isPacked&&!m1(x.shape,g.shape)){const y=g,v=g.shape;g.shape=x.shape,g=this.packedReshape(g,v),c.push(g),x=this.texData.get(g.dataId),y.shape=v}return{shape:g.shape,texData:x,isUniform:!1}});this.uploadToGPU(a.dataId);const d={shape:a.shape,texData:l,isUniform:!1},h=JIe(e,u,d),p=this.getAndSaveBinary(h,()=>YIe(this.gpgpu,e,u,d)),f=this.activeTimers!=null;let m;f&&(m=this.startTimer()),pe().get("ENGINE_COMPILE_ONLY")||ZIe(this.gpgpu,p,u,d,o),c.forEach(g=>this.disposeIntermediateTensorInfo(g)),f&&(m=this.endTimer(m),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(m)}));const b=pe().getNumber("WEBGL_FLUSH_THRESHOLD");if(b>0){const g=mo();g-this.lastGlFlushTime>b&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=g)}if(!pe().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&r===!1){const g=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),g}return a}compileAndRun(e,n,i,o,r=!1){return i=i||n[0].dtype,this.runWebGLProgram(e,n,i,o,r)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(pe().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=ce(()=>{if(!pe().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=pe().getBool("DEBUG");pe().set("DEBUG",!1);const n=this.abs(it(1e-8)).dataSync()[0];if(pe().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?O$e:D$e}uploadToGPU(e){const n=this.texData.get(e),{shape:i,dtype:o,values:r,texture:s,usage:a,isPacked:l}=n;if(s!=null)return;const c=this.activeTimers!=null;let u;c&&(u=mo());let d=n.texShape;if(d==null&&(d=oIe(i,l),n.texShape=d),r!=null){const h=bb(i);let p,f=d[1],m=d[0];const b=r instanceof Uint8Array||r instanceof Uint8ClampedArray;(l||!b)&&([f,m]=Sp(d[0],d[1])),l?p=new o_e(h,b):p=new UN(h,b);const g=b?[m,f]:d,x=this.makeTensorInfo(g,o),y=this.texData.get(x.dataId);b?y.usage=lr.PIXELS:y.usage=lr.UPLOAD,y.texShape=g,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),f,m,r);const v=[[m,f]],C=this.runWebGLProgram(p,[x],o,v,!0),S=this.texData.get(C.dataId);n.texShape=S.texShape,n.isPacked=S.isPacked,n.usage=S.usage,pe().get("ENGINE_COMPILE_ONLY")?this.disposeData(C.dataId):(n.texture=S.texture,n.values=null,this.texData.delete(C.dataId)),this.disposeIntermediateTensorInfo(x),c&&(this.uploadWaitMs+=mo()-u)}else{const h=this.acquireTexture(d,a,o,l);n.texture=h}}convertAndCacheOnCPU(e,n){const i=this.texData.get(e),{dtype:o}=i;return n!=null&&(i.values=P$e(n,o)),i.values}acquireTexture(e,n,i,o){if(this.numBytesInGPU+=this.computeBytes(e,i),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const r=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(r," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,n,o)}computeBytes(e,n){return e[0]*e[1]*Vx(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const i=new Promise(o=>{try{this.checkCompletion_(n),o(!0)}catch(r){throw r}});e.push(i)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await FF(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(Pj(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:n,customUniformLocations:i,infLoc:o,nanLoc:r,outShapeLocation:s,outShapeStridesLocation:a,outTexShapeLocation:l}=Vj(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=n,e.customUniformLocations=i,e.infLoc=o,e.nanLoc=r,e.outShapeLocation=s,e.outShapeStridesLocation=a,e.outTexShapeLocation=l}}createTensorFromGPUData(e,n,i){e.channels=e.channels||"RGBA";const{texture:o,height:r,width:s,channels:a}=e,l=Bs().backend;if(!l.gpgpu.gl.isTexture(o))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const c=l.writeTexture(o,n,i,r,s,a);return Bs().makeTensorFromDataId(c,n,i,l)}}ww.nextDataId=0;function P$e(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let i=0;i<n.length;++i)n[i]=Math.round(t[i]);return n}else throw new Error("Unknown dtype ".concat(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */HL()&&qL("webgl",()=>new ww,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S_="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class Vu{constructor(e,n,i){this.variableNames=["A","B"],this.outputShape=ft(n,i),this.enableShapeUniforms=Zi(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dd="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class _p{constructor(e,n,i,o=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=ft(n,i);const r=this.outputShape.length;this.enableShapeUniforms=Zi(r);let s="";if(o)if(r===0||ge(this.outputShape)===1)s="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{const a=qt(r);if(s="\n          ".concat(a," coords = getOutputCoords();\n        "),r===1)this.enableShapeUniforms?s+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":s+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{const l=to("coords",r);this.enableShapeUniforms?s+="\n            bool nextRowOutOfBounds =\n              (".concat(l[r-2]," + 1) >= outShape[").concat(r," - 2];\n            bool nextColOutOfBounds =\n              (").concat(l[r-1]," + 1) >= outShape[").concat(r," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):s+="\n            bool nextRowOutOfBounds =\n              (".concat(l[r-2]," + 1) >= ").concat(this.outputShape[r-2],";\n            bool nextColOutOfBounds =\n              (").concat(l[r-1]," + 1) >= ").concat(this.outputShape[r-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(s,"\n\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xo(t){const{inputs:e,backend:n}=t,{x:i}=e;return n.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const B$e={kernelName:xg,backendName:"webgl",kernelFunc:Xo};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $c(t){const{inputs:e,backend:n}=t,{real:i,imag:o}=e,r=n.makeTensorInfo(i.shape,"complex64"),s=n.texData.get(r.dataId),a=Xo({inputs:{x:i},backend:n}),l=Xo({inputs:{x:o},backend:n});return s.complexTensorInfos={real:a,imag:l},r}const M$e={kernelName:wT,backendName:"webgl",kernelFunc:$c};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eU="return (a < 0.) ? b * a : a;",tU="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";function j$e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{alpha:r}=i,s=n.makeTensorInfo([],"float32",yc(r,"float32")),a=pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new _p(tU,o.shape,s.shape):new Vu(eU,o.shape,s.shape),l=n.runWebGLProgram(a,[o,s],"float32");return n.disposeIntermediateTensorInfo(s),l}const U$e={kernelName:ev,backendName:"webgl",kernelFunc:j$e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nU="return (a < 0.) ? b * a : a;",iU="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";function V$e(t){const{inputs:e,backend:n}=t,{x:i,alpha:o}=e,r=pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new _p(iU,i.shape,o.shape):new Vu(nU,i.shape,o.shape);return n.runWebGLProgram(r,[i,o],"float32")}const H$e={kernelName:yv,backendName:"webgl",kernelFunc:V$e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $p="if (isnan(x)) return x;";function zt({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:i}){return({inputs:o,backend:r})=>{const{x:s}=o,a=r,l=i||s.dtype;if(a.shouldExecuteOnCPU([s])&&n!=null){const d=a.texData.get(s.dataId),h=n(d.values,l);return a.makeTensorInfo(s.shape,l,h)}const c=pe().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let u;return c?u=new Dl(s.shape,e):u=new Gs(s.shape,t),a.runWebGLProgram(u,[s],l)}}function Bi({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:i=!1,cpuKernelImpl:o,dtype:r}){return({inputs:s,backend:a})=>{const{a:l,b:c}=s,u=a;if(i&&l.dtype==="complex64"){const f=u.texData.get(l.dataId),m=u.texData.get(c.dataId),[b,g]=[[f.complexTensorInfos.real,m.complexTensorInfos.real],[f.complexTensorInfos.imag,m.complexTensorInfos.imag]].map(y=>{const[v,w]=y,C={dataId:v.dataId,dtype:v.dtype,shape:l.shape},S={dataId:w.dataId,dtype:w.dtype,shape:c.shape},E=new Vu(t,l.shape,c.shape);return u.runWebGLProgram(E,[C,S],Go(v.dtype,w.dtype))}),x=$c({inputs:{real:b,imag:g},backend:u});return u.disposeIntermediateTensorInfo(b),u.disposeIntermediateTensorInfo(g),x}const d=r||Go(l.dtype,c.dtype);if((l.dtype==="string"||c.dtype==="string"||u.shouldExecuteOnCPU([l,c]))&&o!=null){const f=u.texData.get(l.dataId).values,m=u.texData.get(c.dataId).values,b=l.dtype==="string"?Xa(f):f,g=l.dtype==="string"?Xa(m):m,[x,y]=o(l.shape,c.shape,b,g,d),v=u.makeTensorInfo(y,d),w=u.texData.get(v.dataId);return w.values=x,v}const h=pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let p;return h?p=new _p(e,l.shape,c.shape,n):p=new Vu(t,l.shape,c.shape),u.runWebGLProgram(p,[l,c],d)}}function km(t,e=!1){if(t==="linear")return e?T$e:v$e;if(t==="relu")return e?I$e:k$e;if(t==="elu")return e?E$e:w$e;if(t==="relu6")return e?_$e:S$e;if(t==="prelu")return e?iU:nU;if(t==="leakyrelu")return e?tU:eU;if(t==="sigmoid")return e?$$e:C$e;throw new Error("Activation ".concat(t," has not been implemented for the WebGL backend."))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oU{constructor(e,n,i,o=!1,r=!1,s=!1,a=null,l=!1,c=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i,this.enableShapeUniforms=Zi(this.outputShape.length);const u=o?e[1]:e[2],d=Math.ceil(u/2),h=o?"i * 2, rc.y":"rc.y, i * 2",p=r?"rc.z, i * 2":"i * 2, rc.z",f=o?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let b="",g="";a&&(l?b="vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(a,"\n        }"):c?b="vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(a,"\n        }"):b="vec4 activation(vec4 x) {\n          ".concat(a,"\n        }"),g="result = activation(result);");const x=s?"result += getBiasAtOutCoords();":"";s&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");let y="rc.x",v="rc.x";e[0]<n[0]?y="imod(rc.x, ".concat(e[0],")"):n[0]<e[0]&&(v="imod(rc.x, ".concat(n[0],")")),this.userCode="\n      ".concat(b,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(d,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ").concat(y,";\n        int batchB = ").concat(v,";\n        for (int i = 0; i < ").concat(d,"; i++) {\n          vec4 a = getMatrixA(batchA, ").concat(h,");\n          vec4 b = getMatrixB(batchB, ").concat(p,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(f[0]," * ").concat(m[0],");\n          result += (").concat(f[1]," * ").concat(m[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(x,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qN={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class KN{constructor(e,n,i){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=ft(n,i),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XN="return a * b;";function C_(t){const{inputs:e,backend:n}=t,{a:i,b:o}=e,r=Go(i.dtype,o.dtype);if(i.dtype==="complex64"){const a=n.texData.get(i.dataId),l=n.texData.get(o.dataId),c=new KN(qN.REAL,i.shape,o.shape),u=new KN(qN.IMAG,i.shape,o.shape),d=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:i.shape},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:i.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:o.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:o.shape}],h=n.runWebGLProgram(c,d,"float32"),p=n.runWebGLProgram(u,d,"float32"),f=$c({inputs:{real:h,imag:p},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),f}if(n.shouldExecuteOnCPU([i,o])){const a=n.texData.get(i.dataId),l=n.texData.get(o.dataId),[c,u]=V_e(i.shape,o.shape,a.values,l.values,r),d=n.makeTensorInfo(u,r),h=n.texData.get(d.dataId);return h.values=c,d}let s;return pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?s=new _p(XN,i.shape,o.shape):s=new Vu(XN,i.shape,o.shape),n.runWebGLProgram(s,[i,o],r)}const W$e={kernelName:Ig,backendName:"webgl",kernelFunc:C_};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G$e(t,e,n){const i=[Xh(t.shape),...Yh(t.shape)],o={dtype:t.dtype,shape:i,dataId:t.dataId},r=[Xh(e),...Yh(e)],s=new Qj(r,i),a=!0,l=[i],c=n.runWebGLProgram(s,[o],t.dtype,l,a);return{dataId:c.dataId,shape:e,dtype:c.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Be(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{shape:r}=i,s=n,a=ge(o.shape),l=vL(r,a),c=ge(l);M(a===c,()=>"The new shape (".concat(l,") has ").concat(c," elements and the old ")+"shape (".concat(o.shape,") has ").concat(a," elements. The new shape and old ")+"shape must have the same number of elements.");const u=s.texData.get(o.dataId);return u.isPacked&&!m1(o.shape,l)&&!(u.texture!==null&&m1(u.shape,l))?G$e(o,l,s):(s.incRef(o.dataId),{dataId:o.dataId,shape:l,dtype:o.dtype})}const q$e={kernelName:wv,backendName:"webgl",kernelFunc:Be};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class YN{constructor(e,n){this.variableNames=["x"];const{windowSize:i,batchSize:o,inSize:r,outSize:s}=e;this.outputShape=[o,s];const a=Math.floor(i/4)*4,l=i%4;let c="sumValue += dot(values, ones);";if(n!=null){const d=1/n;c="sumValue += dot(values * ".concat(Ph(d)?d.toPrecision(2):d,", ones);")}let u="";r%i>0&&(u="\n        if (inIdx < 0 || inIdx >= ".concat(r,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(u,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(i,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(a,";\n        if (").concat(l===1,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(l===2,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(l===3,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(c,"\n        }\n        setOutput(sumValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class K$e{constructor(e,n){this.variableNames=["x"];const{windowSize:i,batchSize:o,inSize:r,outSize:s}=e;this.outputShape=[o,s];let a="0.0",l="";n==="prod"?a="1.0":n==="min"?(a="1.0 / 1e-20",l="min"):n==="max"&&(a="-1.0 / 1e-20",l="max");let c="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="sum"?c="sumValue":n==="prod"?c="prodValue":n==="all"?c="allValue":n==="any"&&(c="anyValue");const u=Math.floor(i/4)*4,d=i%4;let h="\n      if (".concat(n==="sum",") {\n        sumValue += dot(values, ones);\n      } else if (").concat(n==="prod",") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(l,"(values, minMaxValue);\n        if (").concat(n==="min"," || ").concat(n==="max",") {\n          minMaxValue = ").concat(l,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),p="vec4";n==="all"?(a="1.0",h="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):n==="any"&&(a="0.0",h="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");let f="";r%i>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(r,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(a,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(f,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(i,";\n\n        vec4 minMaxValue = vec4(").concat(a,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(h,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(d===1,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(h,"\n        } else if (").concat(d===2,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(h,"\n        } else if (").concat(d===3,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(h,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X$e(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],i=rw(n);e.push({inSize:n,windowSize:i,outSize:Math.ceil(n/i)})}return e}function hd(t,e,n,i){const o=X$e(t.shape);let r=t;for(let s=0;s<o.length;s++){const{inSize:a,windowSize:l,outSize:c}=o[s];let u,d;n==="mean"?u=s===0?new YN({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c},a):new YN({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c}):u=new K$e({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c},n),d=r,r=i.runWebGLProgram(u,[r],e),d.dataId!==t.dataId&&i.disposeIntermediateTensorInfo(d)}return r}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Y$e{constructor(e,n){this.variableNames=["A"];const i=new Array(e.length);for(let s=0;s<i.length;s++)i[s]=e[n[s]];this.outputShape=i,this.rank=i.length;const o=qt(this.rank),r=Z$e(n);this.userCode="\n    void main() {\n      ".concat(o," resRC = getOutputCoords();\n      setOutput(getA(").concat(r,"));\n    }\n    ")}}function Z$e(t){const e=t.length;if(e>6)throw Error("Transpose for rank ".concat(e," is not yet supported"));const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],i=new Array(e);for(let o=0;o<t.length;o++)i[t[o]]=n[o];return i.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class J$e{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const i=new Array(e.length);for(let u=0;u<i.length;u++)i[u]=e[n[u]];if(this.outputShape=i,this.rank=i.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));const o=qt(this.rank),r=Jj("rc",this.rank),s=new Array(this.rank);for(let u=0;u<n.length;u++)s[n[u]]=r[u];const a="vec2(".concat(s.slice(-2).join(),")"),l="++".concat(r[this.rank-1]," < ").concat(i[this.rank-1]),c="getChannel(getA(".concat(s.join(),"), ").concat(a,")");this.userCode="\n    void main() {\n      ".concat(o," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(c,";\n      if(").concat(l,") {\n        result[1] = ").concat(c,";\n      }\n      --").concat(r[this.rank-1],";\n      if(++").concat(r[this.rank-2]," < ").concat(i[this.rank-2],") {\n        result[2] = ").concat(c,";\n        if(").concat(l,") {\n          result[3] = ").concat(c,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kw(t,e,n){const i=pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new J$e(t.shape,e):new Y$e(t.shape,e);return n.runWebGLProgram(i,[t],t.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q$e(t,e,n,i){const o=e,r=t.shape.length,s=Et(o,t.shape);let a=s;const l=En(a,r),c=l!=null;let u=t;c&&(u=kw(t,l,i),a=jn(a.length,r)),Fi("sum",a,r);const[d,h]=bi(u.shape,a);let p=d;n&&(p=Mn(d,s));const f=ge(h),b=ge(t.shape)/f,g=Be({inputs:{x:u},attrs:{shape:[b,f]},backend:i}),x=vE(t.dtype),y=hd(g,x,"sum",i),v=Be({inputs:{x:y},attrs:{shape:p},backend:i});return i.disposeIntermediateTensorInfo(g),i.disposeIntermediateTensorInfo(y),c&&i.disposeIntermediateTensorInfo(u),v}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sw(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,keepDims:s}=i;return Q$e(o,r,s,n)}const e5e={kernelName:Iv,backendName:"webgl",kernelFunc:Sw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lo(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{perm:r}=i,s=n,a=o.shape.length,l=new Array(a);for(let u=0;u<l.length;u++)l[u]=o.shape[r[u]];let c;if(s.shouldExecuteOnCPU([o])){const d=s.texData.get(o.dataId).values,h=k_(d,o.shape,o.dtype,r,l);c=s.makeTensorInfo(l,o.dtype);const p=s.texData.get(c.dataId);p.values=h}else c=kw(o,r,s);return c}const t5e={kernelName:bh,backendName:"webgl",kernelFunc:lo};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rU=1e3;function g1({a:t,b:e,transposeA:n,transposeB:i,backend:o,bias:r=null,preluActivationWeights:s=null,leakyreluAlpha:a=0,activation:l=null}){const c=t.shape.length,u=e.shape.length,d=n?t.shape[c-2]:t.shape[c-1],h=i?e.shape[u-1]:e.shape[u-2],p=n?t.shape[c-1]:t.shape[c-2],f=i?e.shape[u-2]:e.shape[u-1],m=t.shape.slice(0,-2),b=e.shape.slice(0,-2),g=ge(m),x=ge(b),v=ft(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([p,f]);M(d===h,()=>"Error in matMul: inner shapes (".concat(d,") and (")+"".concat(h,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(e.shape," and transposeA=").concat(n)+" and transposeB=".concat(i," must match."));const w=n?[g,d,p]:[g,p,d],C=i?[x,f,h]:[x,h,f],S=Be({inputs:{x:t},backend:o,attrs:{shape:w}}),E=Be({inputs:{x:e},backend:o,attrs:{shape:C}}),I=[S,E],N=Math.max(g,x),B=n?S.shape[1]:S.shape[2],D=r!=null,P=s!=null,_=l==="leakyrelu",L=l!=null?km(l,!0):null,z=D||P||_||L!=null;let V;if((p===1||f===1)&&B>rU&&z===!1){let U=S,X=E;n&&(U=lo({inputs:{x:S},backend:o,attrs:{perm:[0,2,1]}}),I.push(U)),i&&(X=lo({inputs:{x:E},backend:o,attrs:{perm:[0,2,1]}}),I.push(X));const G=f!==1,W=f===1;let le=U;G&&(le=Be({inputs:{x:U},backend:o,attrs:{shape:[N,B,1]}}),I.push(le));const oe=f===1?2:1;let ie=X;W&&(ie=Be({inputs:{x:X},backend:o,attrs:{shape:[N,1,B]}}),I.push(ie));const we=C_({inputs:{a:le,b:ie},backend:o});V=Sw({inputs:{x:we},backend:o,attrs:{axis:oe,keepDims:!0}}),I.push(we)}else{const U=Go(t.dtype,e.dtype),X=new oU(w,C,[N,p,f],n,i,D,L,P,_),G=[S,E];if(r!=null&&G.push(r),P&&G.push(s),_){const W=o.makeTensorInfo([],"float32",yc(a,"float32"));G.push(W),I.push(W)}V=o.runWebGLProgram(X,G,U)}const q=Be({inputs:{x:V},backend:o,attrs:{shape:v}});I.push(V);for(const U of I)o.disposeIntermediateTensorInfo(U);return q}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n5e(t){const{inputs:e,backend:n,attrs:i}=t,{a:o,b:r,bias:s,preluActivationWeights:a}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=i;return g1({a:o,b:r,transposeA:l,transposeB:c,backend:n,bias:s,preluActivationWeights:a,leakyreluAlpha:d,activation:u})}const i5e={kernelName:Hx,backendName:"webgl",kernelFunc:n5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZN="return abs(x);";function o5e(t){const{inputs:e,backend:n}=t,{x:i}=e;if(n.shouldExecuteOnCPU([i])&&i.dtype!=="complex64"){const r=n.texData.get(i.dataId),s=Yj(r.values);return n.makeTensorInfo(i.shape,i.dtype,s)}let o;return pe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?o=new Dl(i.shape,ZN):o=new Gs(i.shape,ZN),n.runWebGLProgram(o,[i],i.dtype)}const r5e={kernelName:Oy,backendName:"webgl",kernelFunc:o5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s5e=ls+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",a5e=zt({opSnippet:s5e}),l5e={kernelName:Jm,backendName:"webgl",kernelFunc:a5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c5e=ls+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));",u5e=zt({opSnippet:c5e}),d5e={kernelName:Qm,backendName:"webgl",kernelFunc:u5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JN="return a + b;",h5e=Bi({opSnippet:JN,packedOpSnippet:JN,supportsComplex:!0,cpuKernelImpl:k_e}),p5e={kernelName:gp,backendName:"webgl",kernelFunc:h5e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class f5e{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((r,s)=>"T".concat(s));const i=[];this.variableNames.forEach(r=>{i.push("float v".concat(r," = get").concat(r,"AtOutCoords();"))});const o=this.variableNames.map(r=>"v".concat(r)).join(" + ");this.userCode="\n      void main() {\n        ".concat(i.join("\n        "),"\n\n        float result = ").concat(o,";\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class m5e{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((r,s)=>"T".concat(s));const i=[];this.variableNames.forEach(r=>{i.push("vec4 v".concat(r," = get").concat(r,"AtOutCoords();"))});const o=this.variableNames.map(r=>"v".concat(r)).join(" + ");this.userCode="\n      void main() {\n        ".concat(i.join("\n        "),"\n\n        vec4 result = ").concat(o,";\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hb(t){const{inputs:e,backend:n}=t,i=e;if(i.length===1)return Xo({inputs:{x:i[0]},backend:n});if(i.length>pe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(i.length/2),c=Hb({inputs:i.slice(0,l),backend:n}),u=Hb({inputs:i.slice(l),backend:n});return Hb({inputs:[c,u],backend:n})}const o=i.map(l=>l.dtype).reduce((l,c)=>Go(l,c)),r=i.map(l=>l.shape),a=pe().getBool("WEBGL_PACK")?new m5e(i[0].shape,r):new f5e(i[0].shape,r);return n.runWebGLProgram(a,i,o)}const g5e={kernelName:Dy,backendName:"webgl",kernelFunc:Hb};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b5e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,keepDims:s}=i,a=o.shape.length,l=Et(r,o.shape);let c=l;const u=En(c,a);let d=o;u!=null&&(d=lo({inputs:{x:o},backend:n,attrs:{perm:u}}),c=jn(c.length,a)),Fi("all",c,a);const[h,p]=bi(d.shape,c),f=ge(p),m=Be({inputs:{x:d},backend:n,attrs:{shape:[-1,f]}}),b=hd(m,m.dtype,"all",n);let g;if(s){const x=Mn(h,l);g=Be({inputs:{x:b},backend:n,attrs:{shape:x}})}else g=Be({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),u!=null&&n.disposeIntermediateTensorInfo(d),g}const x5e={kernelName:mT,backendName:"webgl",kernelFunc:b5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y5e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,keepDims:s}=i,a=o.shape.length,l=Et(r,o.shape);let c=l;const u=En(c,a);let d=o;u!=null&&(d=lo({inputs:{x:o},backend:n,attrs:{perm:u}}),c=jn(c.length,a)),Fi("any",c,a);const[h,p]=bi(d.shape,c),f=ge(p),m=Be({inputs:{x:d},backend:n,attrs:{shape:[-1,f]}}),b=hd(m,m.dtype,"any",n);let g;if(s){const x=Mn(h,l);g=Be({inputs:{x:b},backend:n,attrs:{shape:x}})}else g=Be({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),u!=null&&n.disposeIntermediateTensorInfo(d),g}const v5e={kernelName:gT,backendName:"webgl",kernelFunc:y5e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class w5e{constructor(e,n,i){this.variableNames=["A"];const{windowSize:o,batchSize:r,outSize:s}=e;i||this.variableNames.push("bestIndicesA"),this.outputShape=[r,s];const a=n==="max"?">":"<",l=i?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(o,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(o,"; i++) {\n          int inIdx = ").concat(l,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(a," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class k5e{constructor(e,n,i,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,M(e.length>2,()=>"Packed arg".concat(i.charAt(0).toUpperCase()+i.slice(1)," supports only inputs with rank above 2."));const r=e[e.length-1],s=Math.ceil(r/n);this.outputShape=e.slice(0,-1),s>1&&this.outputShape.push(s),o||this.variableNames.push("bestIndicesA");const a=this.outputShape,l=a.length,c=qt(l),u=to("coords",l);let d,h;if(s===1){h=l+1;const E=qt(h);d="\n        ".concat(E," sourceLocR = ").concat(E,"(").concat(u.join(),", 0);\n        ++").concat(u[l-1],";\n        ").concat(E," sourceLocG = ").concat(E,"(").concat(u.join(),", 0);\n        ++").concat(u[l-2],";\n        ").concat(E," sourceLocA = ").concat(E,"(").concat(u.join(),", 0);\n        --").concat(u[l-1],";\n        ").concat(E," sourceLocB = ").concat(E,"(").concat(u.join(),", 0);\n        --").concat(u[l-2],";")}else h=l,d="\n        ".concat(c," sourceLocR = coords;\n        ++").concat(u[l-1],";\n        ").concat(c," sourceLocG = coords;\n        ++").concat(u[l-2],";\n        ").concat(c," sourceLocA = coords;\n        --").concat(u[l-1],";\n        ").concat(c," sourceLocB = coords;\n        --").concat(u[l-2],";");const p=["x","y","z","w","u","v"].slice(0,h),f="."+p[h-1],m=p.map(E=>"int "+E),b=to("sourceLocR",h-1).concat("inIdx.r"),g=to("sourceLocG",h-1).concat("inIdx.g"),x=to("sourceLocB",h-1).concat("inIdx.b"),y=to("sourceLocA",h-1).concat("inIdx.a"),v=i==="max"?"greaterThan":"lessThan",w=o?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(g.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),")));"),C="vec4(\n            getAChannel(".concat(b.join(),"),\n            hasNextCol ? getAChannel(").concat(g.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(x.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(y.join(),") : 0.)"),S=o?"":"\n      float getBestIndicesAChannel(".concat(m.join(),") {\n        return getChannel(getBestIndicesA(").concat(p.join(),"),\n                                          vec2(").concat(p.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(m.join(),") {\n        return getChannel(getA(").concat(p.join(),"),\n                               vec2(").concat(p.slice(-2).join(),"));\n      }\n      ").concat(S,"\n      void main() {\n        ").concat(c," coords = getOutputCoords();\n        bool hasNextCol = ").concat(u[l-1]," < ").concat(a[l-1]-1,";\n        bool hasNextRow = ").concat(u[l-2]," < ").concat(a[l-2]-1,";\n        ").concat(d,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(f,", sourceLocG").concat(f,",\n          sourceLocB").concat(f,", sourceLocA").concat(f,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(C,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(w,"\n          vec4 candidate = ").concat(C,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(v,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sU(t,e,n,i=null){let o=e.shape[0],r=e.shape[1];i!=null&&(o=i.shape[0],r=i.shape[1]);const s=rw(r),a={windowSize:s,inSize:r,batchSize:o,outSize:Math.ceil(r/s)},l=new w5e(a,n,i==null),c=[e];i!=null&&c.push(i);const u=t.runWebGLProgram(l,c,"int32");if(u.shape[1]===1)return u;const d=sU(t,e,n,u);return t.disposeIntermediateTensorInfo(u),d}function aU(t,e,n,i=null){const o=i!=null?i.shape:e.shape,r=o[o.length-1],s=rw(r),a=new k5e(o,s,n,i==null),l=i==null?[e]:[e,i],c=t.runWebGLProgram(a,l,"int32");if(c.shape.length===e.shape.length){const u=aU(t,e,n,c);return t.disposeIntermediateTensorInfo(c),u}return c}function lU(t,e,n,i){const o=[n];if(Fi("arg"+i.charAt(0).toUpperCase()+i.slice(1),o,e.shape.length),!pe().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const r=[],s=t.texData.get(e.dataId),a=s!==null&&s.isPacked;let l=e;a&&(l=t.unpackTensor(e),r.push(l));const[c,u]=bi(l.shape,o),d=ge(u),h=Be({inputs:{x:l},backend:t,attrs:{shape:[-1,d]}});r.push(h);const p=sU(t,h,i);r.push(p);const f=Be({inputs:{x:p},backend:t,attrs:{shape:c}});return r.forEach(m=>t.disposeIntermediateTensorInfo(m)),f}return aU(t,e,i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S5e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r}=i;let s=Et(r,o.shape);const a=En(s,o.shape.length);let l=o;const c=[];a!=null&&(l=lo({inputs:{x:o},backend:n,attrs:{perm:a}}),c.push(l),s=jn(s.length,l.shape.length)),Fi("argMax",[s[0]],l.shape.length);const u=lU(n,l,s[0],"max");return c.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const C5e={kernelName:Ry,backendName:"webgl",kernelFunc:S5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T5e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r}=i;let s=Et(r,o.shape);const a=En(s,o.shape.length);let l=o;const c=[];a!=null&&(l=lo({inputs:{x:o},backend:n,attrs:{perm:a}}),c.push(l),s=jn(s.length,l.shape.length)),Fi("argMin",[s[0]],l.shape.length);const u=lU(n,l,s[0],"min");return c.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const E5e={kernelName:Ly,backendName:"webgl",kernelFunc:T5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I5e=ls+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",_5e=zt({opSnippet:I5e}),$5e={kernelName:eg,backendName:"webgl",kernelFunc:_5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A5e=ls+"return log(x + sqrt(x * x + 1.0));",N5e=zt({opSnippet:A5e}),O5e={kernelName:tg,backendName:"webgl",kernelFunc:N5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D5e=ls+"\n  return atan(x);\n",R5e=zt({opSnippet:D5e}),L5e={kernelName:ng,backendName:"webgl",kernelFunc:R5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z5e=S_+"\n  return atan(a, b);\n",F5e="\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+dd+"\n  return result;\n",P5e=Bi({opSnippet:z5e,packedOpSnippet:F5e}),B5e={kernelName:og,backendName:"webgl",kernelFunc:P5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M5e=ls+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;",j5e=zt({opSnippet:M5e}),U5e={kernelName:ig,backendName:"webgl",kernelFunc:j5e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Sm{constructor(e,n,i,o=!1,r=!1){if(this.variableNames=["x"],n==="avg"&&i)throw new Error("Cannot compute positions for average pool.");const s=e.filterWidth,a=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,p=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;const m=n==="avg",b="((batch  * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + d"),g="(xR * ".concat(e.inWidth," + xC) * ").concat(e.inChannels," + d");let x="0.0";if(m||(x="-1.0 / 1e-20"),i){const E=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(a,", ").concat(l,");\n        const ivec2 pads = ivec2(").concat(p,", ").concat(f,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(u,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(E," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(o?r?b:g:"wR * ".concat(h," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ");return}const y="max";let v="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="avg"&&(v="avgValue / max(count, 1.0)");const w=Math.floor(s/4)*4,C=s%4,S="\n      if (".concat(m,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(y,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(a,", ").concat(l,");\n      const ivec2 pads = ivec2(").concat(p,", ").concat(f,");\n      const float initializationValue = ").concat(x,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(x,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(d,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(w,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(u,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(u,", d),\n              getValue(batch, xR, xC + 2 * ").concat(u,", d),\n              getValue(batch, xR, xC + 3 * ").concat(u,", d)\n            );\n\n            ").concat(S,"\n          }\n\n          int xC = xCCorner + ").concat(w,";\n          if (").concat(C===1,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(S,"\n          } else if (").concat(C===2,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(u,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(S,"\n          } else if (").concat(C===3,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(u,", d),\n              getValue(batch, xR, xC + 2 * ").concat(u,", d),\n              initializationValue\n            );\n\n            ").concat(S,"\n          }\n        }\n        setOutput(").concat(v,");\n      }\n    ")}}class T_{constructor(e,n,i,o=!1,r=!1){if(this.variableNames=["x"],n==="avg"&&i)throw new Error("Cannot compute positions for average pool.");const s=e.filterWidth,a=e.strideDepth,l=e.strideHeight,c=e.strideWidth,u=e.dilationDepth,d=e.dilationHeight,h=e.dilationWidth,p=e.effectiveFilterDepth,f=e.effectiveFilterHeight,m=e.effectiveFilterWidth,b=e.padInfo.front,g=e.padInfo.top,x=e.padInfo.left;this.outputShape=e.outShape;const y=n==="avg";let v="0.0";if(y||(v="-1.0 / 1e-20"),i){const N=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(a,", ").concat(l,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(b,", ").concat(g,", ").concat(x,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(p,";\n              wD += ").concat(u,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(f,";\n                wR += ").concat(d,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(m,";\n                  wC += ").concat(h,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(N," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(o?r?"(((batch * ".concat(e.inDepth," + xD) * ").concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"((xD * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"wD * ".concat(f," * ").concat(m," +\n                      wR * ").concat(m," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ");return}const w="max";let C="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="avg"&&(C="avgValue / max(count, 1.0)");const S=Math.floor(s/4)*4,E=s%4,I="\n      if (".concat(y,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(w,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(a,", ").concat(l,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(b,", ").concat(g,", ").concat(x,");\n      const float initializationValue = ").concat(v,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(v,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(p,";\n            wD += ").concat(u,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(f,";\n            wR += ").concat(d,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(S,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(h,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(h,", ch)\n              );\n\n              ").concat(I,"\n            }\n\n            int xC = xCCorner + ").concat(S,";\n            if (").concat(E===1,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(I,"\n            } else if (").concat(E===2,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(I,"\n            } else if (").concat(E===3,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(h,", ch),\n                initializationValue\n              );\n\n              ").concat(I,"\n            }\n          }\n        }\n        setOutput(").concat(C,");\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V5e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e;f0(o,"avgPool");const{filterSize:r,strides:s,pad:a,dimRoundingMode:l}=i,c=1;M(zi(s,c),()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(c,"'"));const u=ss(o.shape,r,s,c,a,l);if(u.filterWidth===1&&u.filterHeight===1&&Nt(u.inShape,u.outShape))return Xo({inputs:{x:o},backend:n});const d=new Sm(u,"avg",!1);return n.runWebGLProgram(d,[o],"float32")}const H5e={kernelName:zy,backendName:"webgl",kernelFunc:V5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W5e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{filterSize:r,strides:s,pad:a,dimRoundingMode:l,dataFormat:c}=i,u=[1,1,1],d=Qa(o.shape,r,s,u,a,l,c),h=new T_(d,"avg",!1);return n.runWebGLProgram(h,[o],"float32")}const G5e={kernelName:Fy,backendName:"webgl",kernelFunc:W5e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class q5e{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,i=e.filterWidth,o=e.strideHeight,r=e.strideWidth,s=e.dilationHeight,a=e.dilationWidth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=l-1-e.padInfo.top,d=c-1-e.padInfo.left,h=1/(n*i);this.userCode="\n      const ivec2 pads = ivec2(".concat(u,", ").concat(d,");\n      const float avgMultiplier = float(").concat(h,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(l,";\n            wR += ").concat(s,") {\n          float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(a,") {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class K5e{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,i=e.filterHeight,o=e.filterWidth,r=e.strideDepth,s=e.strideHeight,a=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterDepth,h=e.effectiveFilterHeight,p=e.effectiveFilterWidth,f=d-1-e.padInfo.front,m=h-1-e.padInfo.top,b=p-1-e.padInfo.left,g=1/(n*i*o);this.userCode="\n      const ivec3 pads = ivec3(".concat(f,", ").concat(m,", ").concat(b,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(d,";\n            wD += ").concat(l,") {\n          float dyD = float(dyDCorner + wD) / ").concat(r,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(h,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(s,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(p,";\n                wC += ").concat(u,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X5e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,input:r}=e,s=r,{filterSize:a,strides:l,pad:c,dimRoundingMode:u}=i,d=[1,1,1],h=Qa(s.shape,a,l,d,c,u),p=new K5e(h);return n.runWebGLProgram(p,[o],s.dtype)}const Y5e={kernelName:xT,backendName:"webgl",kernelFunc:X5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z5e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,input:r}=e,s=r;f0([o,r],"avgPoolGrad");const{filterSize:a,strides:l,pad:c}=i,u=ss(s.shape,a,l,1,c),d=new q5e(u);return n.runWebGLProgram(d,[o],s.dtype)}const J5e={kernelName:bT,backendName:"webgl",kernelFunc:Z5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q5e(t){const{inputs:e,backend:n,attrs:i}=t,{a:o,b:r}=e,{transposeA:s,transposeB:a}=i;return g1({a:o,b:r,transposeA:s,transposeB:a,backend:n})}const e6e={kernelName:Py,backendName:"webgl",kernelFunc:Q5e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class t6e{constructor(e,n,i,o,r,s){this.outputShape=[],this.variableNames=["x","mean","variance"],ft(e,n),ft(e,i);let a="0.0";o!=null&&(ft(e,o),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="1.0";r!=null&&(ft(e,r),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(a,";\n        float scale = ").concat(l,";\n        float inv = scale * inversesqrt(variance + float(").concat(s,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class n6e{constructor(e,n,i,o,r,s){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],ft(e,n),ft(e,i);let a="vec4(0.0)";o!=null&&(ft(e,o),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="vec4(1.0)";r!=null&&(ft(e,r),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = ".concat(a,";\n        vec4 scale = ").concat(l,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(s,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i6e=({inputs:t,backend:e,attrs:n})=>{const{x:i,mean:o,variance:r,offset:s,scale:a}=t;M(o.shape.length===r.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),M(s==null||o.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),M(a==null||o.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const c=[i,o,r];let u=null;s!=null&&(u=s.shape,c.push(s));let d=null;a!=null&&(d=a.shape,c.push(a));const h=pe().getBool("WEBGL_PACK_NORMALIZATION")?new n6e(i.shape,o.shape,r.shape,u,d,l):new t6e(i.shape,o.shape,r.shape,u,d,l);return e.runWebGLProgram(h,c,c[0].dtype)},o6e={kernelName:Zy,backendName:"webgl",kernelFunc:i6e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class r6e{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=qt(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const i=s6e(this.rank);let o;const r=e.map((s,a)=>"sourceLoc.".concat(qS[a]," = start[").concat(a,"] + coords.").concat(qS[a],";"));o="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(r.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(o,"\n        setOutput(getSource(").concat(i,"));\n      }\n    ")}}const qS=["x","y","z","w","u","v"];function s6e(t){if(t===1)return"sourceLoc";if(t<=6)return qS.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error("Slicing for rank ".concat(t," is not yet supported"))}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class a6e{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=qt(this.rank),i=to("coords",this.rank),o=to("sourceLoc",this.rank),r=this.rank===1?"sourceLoc":"vec2(".concat(o.slice(-2).join(),")"),s="getChannel(getSource(".concat(o.join(),"), ").concat(r,")"),a="\n      result.x = ".concat(s,";\n      if (++").concat(i[this.rank-1]," < ").concat(e[this.rank-1],") {\n        ++").concat(o[this.rank-1],";\n        result.y = ").concat(s,";\n        --").concat(o[this.rank-1],";\n      }\n    "),l=this.rank===1?"":"\n      --".concat(i[this.rank-1],";\n      if (++").concat(i[this.rank-2]," < ").concat(e[this.rank-2],") {\n        ++").concat(o[this.rank-2],";\n        result.z = ").concat(s,";\n        if (++").concat(i[this.rank-1]," < ").concat(e[this.rank-1],") {\n          ++").concat(o[this.rank-1],";\n          result.w = ").concat(s,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(e.map((u,d)=>"start[".concat(d,"]")).join(),");"):e.map((u,d)=>"".concat(o[d]," = ").concat(i[d]," + start[").concat(d,"];")).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(a,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l6e(t,e,n,i){const o=i.texData.get(t.dataId),r=i.makeTensorInfo(n,t.dtype),s=i.texData.get(r.dataId);Object.assign(s,o),s.refCount=1,s.shape=n,s.dtype=t.dtype;let a=yI(e,nt(t.shape));o.slice&&(a+=o.slice.flatOffset),s.slice={flatOffset:a,origDataId:o.slice&&o.slice.origDataId||t.dataId};const l=i.dataRefCount.get(s.slice.origDataId)||1;return i.dataRefCount.set(s.slice.origDataId,l+1),r}function Ap(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{begin:r,size:s}=i,[a,l]=ow(o,r,s);if(gI(o,a,l),ge(l)===0)return n.makeTensorInfo(l,o.dtype,[]);if(n.shouldExecuteOnCPU([o])||o.dtype==="string"){const d=n.texData.get(o.dataId),h=e$e(d.values,a,l,o.shape,o.dtype);return n.makeTensorInfo(l,o.dtype,h)}const{isPacked:c}=n.texData.get(o.dataId),u=xI(o.shape,a,l);if(c||!u){const d=pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new a6e(l):new r6e(l),h=[a];return n.runWebGLProgram(d,[o],o.dtype,h)}return n.uploadToGPU(o.dataId),l6e(o,a,l,n)}const c6e={kernelName:Ev,backendName:"webgl",kernelFunc:Ap};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u6e=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{blockShape:r,crops:s}=i;M(o.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const a=r.reduce((x,y)=>x*y),l=t0(o.shape,r,a),c=n0(l.length,r.length),u=i0(o.shape,r,a),d=CI(s,r.length),h=TI(u,s,r.length),p=[],f=Be({inputs:{x:o},backend:n,attrs:{shape:l}}),m=lo({inputs:{x:f},backend:n,attrs:{perm:c}}),b=Be({inputs:{x:m},backend:n,attrs:{shape:u}}),g=Ap({inputs:{x:b},backend:n,attrs:{begin:d,size:h}});return p.push(f),p.push(m),p.push(b),p.forEach(x=>n.disposeIntermediateTensorInfo(x)),g},d6e={kernelName:By,backendName:"webgl",kernelFunc:u6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h6e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,weights:r}=e,{size:s}=i,a=n.readSync(o.dataId),l=n.readSync(r.dataId),c=Xj(a,l,r.dtype,r.shape,s);return n.makeTensorInfo([s],r.dtype,c)}const p6e={kernelName:yT,backendName:"webgl",kernelFunc:h6e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f6e="\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",m6e="\n  return float(int(a.r) & int(b.r));\n";function g6e(t){const{inputs:e,backend:n}=t,{a:i,b:o}=e,r=pe().getBool("WEBGL_PACK_BINARY_OPERATIONS"),s=pe().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([i,o])||s===1){const l=n.texData.get(i.dataId).values,c=n.texData.get(o.dataId).values,[u,d]=C_e(i.shape,o.shape,l,c,i.dtype),h=n.makeTensorInfo(d,i.dtype),p=n.texData.get(h.dataId);return p.values=u,h}let a;return r?a=new _p(f6e,i.shape,o.shape,!1):a=new Vu(m6e,i.shape,o.shape),n.runWebGLProgram(a,[i,o],i.dtype)}const b6e={kernelName:My,backendName:"webgl",kernelFunc:g6e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x6e(t){const{inputs:e,backend:n}=t,{s0:i,s1:o}=e,r=n.readSync(i.dataId),s=n.readSync(o.dataId),a=ft(Array.from(r),Array.from(s));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const y6e={kernelName:vT,backendName:"webgl",kernelFunc:x6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v6e="return float(a != b);",cU=Bi({opSnippet:v6e,cpuKernelImpl:W_e,dtype:"bool"}),w6e={kernelName:fv,backendName:"webgl",kernelFunc:cU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g0(t){const{inputs:e,backend:n}=t,{input:i}=e,o=n.texData.get(i.dataId);return Xo({inputs:{x:o.complexTensorInfos.real},backend:n})}const k6e={kernelName:QT,backendName:"webgl",kernelFunc:g0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S6e="return float(int(x));";function C6e(t,e){const n=new Gs(t.shape,S6e),i=e.runWebGLProgram(n,[t],"int32");return{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KS(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{dtype:r}=i;if(r==="complex64"){if(o.dtype==="complex64")return Xo({inputs:{x:o},backend:n});const s=Yn(o.shape),a=KS({inputs:{x:o},backend:n,attrs:{dtype:"float32"}}),l=$c({inputs:{real:a,imag:s},backend:n});return s.dispose(),n.disposeIntermediateTensorInfo(a),l}if(o.dtype==="complex64"){const s=g0({inputs:{input:o},backend:n}),a=KS({inputs:{x:s},backend:n,attrs:{dtype:r}});return n.disposeIntermediateTensorInfo(s),a}if(!wL(o.dtype,r)){const s=Xo({inputs:{x:o},backend:n});return{dataId:s.dataId,shape:s.shape,dtype:r}}if(n.shouldExecuteOnCPU([o])){const s=n.texData.get(o.dataId).values,[a,l,c]=T_e(s,o.shape,o.dtype,r);return n.makeTensorInfo(a,l,c)}if(r==="int32")return C6e(o,n);if(r==="bool"){const s=n.makeTensorInfo([],"bool",Oi("bool",1)),l=cU({inputs:{a:o,b:s},backend:n});return n.disposeIntermediateTensorInfo(s),l}throw new Error("Error in Cast: failed to cast ".concat(o.dtype," to ").concat(r))}const T6e={kernelName:rg,backendName:"webgl",kernelFunc:KS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QN="return ceil(x);",E6e=zt({opSnippet:QN,packedOpSnippet:QN,cpuKernelImpl:E_e}),I6e={kernelName:sg,backendName:"webgl",kernelFunc:E6e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _6e{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $6e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A6e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{clipValueMin:r,clipValueMax:s}=i;let a;pe().getBool("WEBGL_PACK_CLIP")?a=new $6e(o.shape):a=new _6e(o.shape);const l=[[r],[s]];return n.runWebGLProgram(a,[o],o.dtype,l)}const N6e={kernelName:ag,backendName:"webgl",kernelFunc:A6e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class O6e{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eO(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function D6e(t){const{inputs:e,backend:n}=t,{x:i}=e,o=n.texData.get(i.dataId),r=new O6e(i.shape),s=[eO(i,o.complexTensorInfos.real),eO(i,o.complexTensorInfos.imag)];return n.runWebGLProgram(r,s,s[0].dtype)}const R6e={kernelName:jy,backendName:"webgl",kernelFunc:D6e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class L6e{constructor(e){this.outputShape=[],this.outputShape=Js(e,1),this.variableNames=e.map((s,a)=>"T".concat(a));const n=new Array(e.length-1);n[0]=e[0][1];for(let s=1;s<n.length;s++)n[s]=n[s-1]+e[s][1];const i=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")];for(let s=1;s<n.length;s++){const a=n[s-1];i.push("else if (yC < ".concat(n[s],") ")+"setOutput(getT".concat(s,"(yR, yC-").concat(a,"));"))}const o=n.length,r=n[n.length-1];i.push("else setOutput(getT".concat(o,"(yR, yC-").concat(r,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(i.join("\n        "),"\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z6e{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Js(e,n);const i=this.outputShape,o=i.length,r=qt(o),s=to("coords",o),a=["x","y","z","w","u","v"].slice(0,o);this.variableNames=e.map((m,b)=>"T".concat(b));const l=new Array(e.length-1);l[0]=e[0][n];for(let m=1;m<l.length;m++)l[m]=l[m-1]+e[m][n];const c=a[n],u=a.slice(-2),d=a.join();let h="if (".concat(c," < ").concat(l[0],") {\n        return getChannel(\n            getT0(").concat(d,"), vec2(").concat(u.join(),"));\n        }");for(let m=1;m<l.length;m++){const b=l[m-1];h+="\n        if (".concat(c," < ").concat(l[m],"  && ").concat(c," >= ").concat(l[m-1],") {\n          return getChannel(\n            getT").concat(m,"(").concat(vb(a,c,b),"),\n            vec2(").concat(vb(u,c,b),"));\n        }")}const p=l.length,f=l[l.length-1];h+="\n        return getChannel(\n          getT".concat(p,"(").concat(vb(a,c,f),"),\n          vec2(").concat(vb(u,c,f),"));"),this.userCode="\n      float getValue(".concat(a.map(m=>"int "+m),") {\n        ").concat(h,"\n      }\n\n      void main() {\n        ").concat(r," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(s,"), 0., 0., 0.);\n\n        ").concat(s[o-1]," = ").concat(s[o-1]," + 1;\n        if (").concat(s[o-1]," < ").concat(i[o-1],") {\n          result.g = getValue(").concat(s,");\n        }\n\n        ").concat(s[o-2]," = ").concat(s[o-2]," + 1;\n        if (").concat(s[o-2]," < ").concat(i[o-2],") {\n          result.a = getValue(").concat(s,");\n        }\n\n        ").concat(s[o-1]," = ").concat(s[o-1]," - 1;\n        if (").concat(s[o-2]," < ").concat(i[o-2]," &&\n            ").concat(s[o-1]," < ").concat(i[o-1],") {\n          result.b = getValue(").concat(s,");\n        }\n        setOutput(result);\n      }\n    ")}}function vb(t,e,n){const i=t.indexOf(e);return t.map((r,s)=>s===i?"".concat(r," - ").concat(n):r).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cw(t){const{inputs:e,backend:n}=t,{input:i}=e,o=n.texData.get(i.dataId);return Xo({inputs:{x:o.complexTensorInfos.imag},backend:n})}const F6e={kernelName:BT,backendName:"webgl",kernelFunc:Cw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ff(t,e,n){const i=t[0].dtype;if(i==="complex64"){const p=t.map(x=>g0({inputs:{input:x},backend:n})),f=t.map(x=>Cw({inputs:{input:x},backend:n})),m=ff(p,e,n),b=ff(f,e,n),g=$c({inputs:{real:m,imag:b},backend:n});return p.forEach(x=>n.disposeIntermediateTensorInfo(x)),f.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),g}let o=n.shouldExecuteOnCPU(t);if(i==="string"&&(o=!0),o){const p=t.map(v=>{const C=[-1,ge(v.shape.slice(e))];return Be({inputs:{x:v},backend:n,attrs:{shape:C}})}),f=p.map(v=>({vals:n.readSync(v.dataId),shape:v.shape})),m=Js(p.map(v=>v.shape),1),b=p[0].shape[0]===1,g=I_e(f,m,i,b),x=Js(t.map(v=>v.shape),e),y=n.makeTensorInfo(x,i,g);return p.forEach(v=>n.disposeIntermediateTensorInfo(v)),y}const r=t.filter(p=>ge(p.shape)>0),s=pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&r[0].shape.length>1;if(r.length===1){const p=s?new Gs(t[0].shape,kl):new Dl(t[0].shape,kl);return n.runWebGLProgram(p,t,i)}const a=pe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(r.length>a){const p=[];for(let m=0;m<r.length;m+=a){const b=r.slice(m,m+a);p.push(ff(b,e,n))}const f=ff(p,e,n);for(const m of p)n.disposeIntermediateTensorInfo(m);return f}if(s){const p=new z6e(r.map(f=>f.shape),e);return n.runWebGLProgram(p,r,i)}const{tensors2D:l,outShape:c}=P6e(r,e,n),u=new L6e(l.map(p=>p.shape)),d=n.runWebGLProgram(u,l,i);l.forEach(p=>n.disposeIntermediateTensorInfo(p));const h=Be({inputs:{x:d},attrs:{shape:c},backend:n});return n.disposeIntermediateTensorInfo(d),h}function P6e(t,e,n){const i=Js(t.map(r=>r.shape),e);return{tensors2D:t.map(r=>Be({inputs:{x:r},attrs:{shape:[-1,ge(r.shape.slice(e))]},backend:n})),outShape:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uU(t){const{inputs:e,backend:n,attrs:i}=t,{axis:o}=i,r=Et(o,e[0].shape)[0],s=e.map(c=>c.shape);wI(s,r);const a=Js(e.map(c=>c.shape),r);if(ge(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const l=e.filter(c=>ge(c.shape)>0);return l.length===1?Xo({inputs:{x:l[0]},backend:n}):ff(l,r,n)}const B6e={kernelName:Uy,backendName:"webgl",kernelFunc:uU};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dU{constructor(e,n=!1,i=null,o=!1,r=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const s=e.padInfo.top,a=e.padInfo.left,l=e.strideHeight,c=e.strideWidth,u=e.dilationHeight,d=e.dilationWidth,h=e.filterHeight,p=e.filterWidth,f=Math.floor(e.inChannels/4)*4,m=e.inChannels%4,b=e.dataFormat==="channelsLast",g=b?1:2,x=b?2:3,y=b?3:1;let v="",w="";i&&(o?v="float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(i,"\n        }"):r?v="float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(i,"\n        }"):v="\n          float activation(float x) {\n            ".concat(i,"\n          }\n        "),w="result = activation(result);");const C=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(v,"\n\n      const ivec2 strides = ivec2(").concat(l,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(s,", ").concat(a,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(y,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(x,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(h,"; wR++) {\n          int xR = xRCorner + wR * ").concat(u,";\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(p,"; wC++) {\n            int xC = xCCorner + wC * ").concat(d,";\n\n            if (xC < 0 || xC >= ").concat(e.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(f,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(b,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(m===1,") {\n\n              if (").concat(b,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(f,") *\n                    getW(wR, wC, ").concat(f,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(f,", xR, xC) *\n                    getW(wR, wC, ").concat(f,", d2);\n              }\n\n            } else if (").concat(m===2,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(f,", d2),\n                getW(wR, wC, ").concat(f," + 1, d2)\n              );\n\n              if (").concat(b,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(f,"),\n                  getX(batch, xR, xC, ").concat(f," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(f,", xR, xC),\n                  getX(batch, ").concat(f," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(m===3,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(f,", d2),\n                getW(wR, wC, ").concat(f," + 1, d2),\n                getW(wR, wC, ").concat(f," + 2, d2)\n              );\n\n              if (").concat(b,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(f,"),\n                  getX(batch, xR, xC, ").concat(f," + 1),\n                  getX(batch, xR, xC, ").concat(f," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(f,", xR, xC),\n                  getX(batch, ").concat(f," + 1, xR, xC),\n                  getX(batch, ").concat(f," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(C,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")}}class M6e{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,i=e.padInfo.top,o=e.padInfo.left,r=e.strideDepth,s=e.strideHeight,a=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.filterDepth,h=e.filterHeight,p=e.filterWidth,f=Math.floor(e.inChannels/4)*4,m=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(r,", ").concat(s,", ").concat(a,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(i,", ").concat(o,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(d,"; wF++) {\n          int xF = xFCorner + wF * ").concat(l,";\n\n          if (xF < 0 || xF >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(h,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(p,"; wC++) {\n              int xC = xCCorner + wC * ").concat(u,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(f,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(m===1,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(f,") *\n                  getW(wF, wR, wC, ").concat(f,", d2);\n              } else if (").concat(m===2,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(f,"),\n                  getX(batch, xF, xR, xC, ").concat(f," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(f,", d2),\n                  getW(wF, wR, wC, ").concat(f," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(m===3,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(f,"),\n                  getX(batch, xF, xR, xC, ").concat(f," + 1),\n                  getX(batch, xF, xR, xC, ").concat(f," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(f,", d2),\n                  getW(wF, wR, wC, ").concat(f," + 1, d2),\n                  getW(wF, wR, wC, ").concat(f," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hU{constructor(e,n=!1,i=null,o=!1,r=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Zi(this.outputShape.length);const s=e.padInfo.left,a=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,d=u;let h="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let b=0;b<u;b++)h+="\n           vec4 xTexelC".concat(b*2,";\n           int xTexelC").concat(b*2,"Ready;\n           vec4 xTexelC").concat(b*2+1,";\n           int xTexelC").concat(b*2+1,"Ready;\n           vec4 xC").concat(b,";");h+="\n     for (int r = 0; r < ".concat(c,"; r++) {\n      for (int d1 = 0; d1 < ").concat(e.inChannels,"; d1 += 2) {\n       ");for(let b=0;b<u;b++)h+="\n           xTexelC".concat(b*2," = vec4(0.0);\n           xTexelC").concat(b*2,"Ready = 0;\n           xTexelC").concat(b*2+1," = vec4(0.0);\n           xTexelC").concat(b*2+1,"Ready = 0;\n           xC").concat(b," = vec4(0.0);");h+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let b=0;b<(d+1)/2;b++){const g=b*2;if(h+="\n           xC = xCCorner + ".concat(g*l,";\n           "),a===1){if(g<u&&(s%2===1?(h+="\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n               "),l===1&&g>0?h+="\n                 xC".concat(g," = vec4(xTexelC").concat(g-2,".zw, xTexelC").concat(g,".xy);\n                 "):h+="\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC".concat(g," = vec4(previous.zw, xTexelC").concat(g,".xy);\n                   } else {\n                     xC").concat(g," = vec4(0.0, 0.0, xTexelC").concat(g,".xy);\n                   }\n                   ")):h+="\n                 if (xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n\n                 xC").concat(g," = xTexelC").concat(g,";\n                 "),g+1<u)){const x=s%2===0?hT(l):l;l%2===0&&s%2===1||l%2!==0&&s%2!==1?(h+="\n                   xCOffset = xC + imod(pads[1], 2) + ".concat(x,";\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                     xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC").concat(g+1,".zw = vec2(0.0);\n                     }\n                     xTexelC").concat(g+1,"Ready = 1;\n                   }\n                   "),l>1?h+="\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC".concat(g+1," = vec4(previous.zw, xTexelC").concat(g+1,".xy);\n                     } else {\n                      xC").concat(g+1," = vec4(0.0, 0.0, xTexelC").concat(g+1,".xy);\n                     }\n                     "):h+="\n                     xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".xy);\n                     ")):x===1?h+="\n                     xC".concat(g+1," = xTexelC").concat(g,";\n                     "):h+="\n                     xCOffset = xC + ".concat(x,";\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                       xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC").concat(g+1,".zw = vec2(0.0);\n                       }\n                       xTexelC").concat(g+1,"Ready = 1;\n                     }\n\n                     xC").concat(g+1," = xTexelC").concat(g+1,";\n                     ")}}else g<u&&(s%2===1?(h+="\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                   xTexelC").concat(g+1," = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC").concat(g+1,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g+1,"Ready = 1;\n                 }\n\n                 xC").concat(g," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n               "),g+1<u&&(h+="\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC".concat(g+1," = vec4(xTexelC").concat(g+1,".xy, final.xy);\n                 "))):(h+="\n                 if(xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                   xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(g+1,".zw = vec2(0.);\n                   }\n                   xTexelC").concat(g+1,"Ready = 1;\n                 }\n\n                 xC").concat(g," = vec4(\n                   xTexelC").concat(g,".xy, xTexelC").concat(g+1,".xy);\n               "),g+1<u&&(h+="\n                   xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n                 "))));g<u&&(h+="\n             wTexel = getW(r, ".concat(g,", d1, d2);\n             dotProd += xC").concat(g,".xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ").concat(e.inChannels,") {\n               dotProd += xC").concat(g,".yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           "),g+1<u&&(h+="\n               wTexel = getW(r, ".concat(g+1,", d1, d2);\n               dotProd += xC").concat(g+1,".xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ").concat(e.inChannels,") {\n                 dotProd += xC").concat(g+1,".yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             ")))}h+="\n     }\n   ",h+="\n     }\n   ",h+="\n     }\n   ";let p="",f="";i&&(o?p="vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ".concat(i,"\n         }"):r?p="vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ".concat(i,"\n         }"):p="vec4 activation(vec4 x) {\n           ".concat(i,"\n         }"),f="result = activation(result);");const m=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n       ".concat(p,"\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ").concat(h,"\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ").concat(m,"\n         ").concat(f,"\n         setOutput(result);\n       }\n     ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class j6e{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=Zi(this.outputShape.length);const{dataFormat:i}=n,o=uo(),r=i==="channelsLast",s=r?1:2,a=r?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(e[2]," && pos < ").concat(e[1],") {");let c="";for(let u=0;u<=1;u++)for(let d=0;d<=1;d++)c+="\n          blockIndex = rc.z + ".concat(d,";\n          pos = rc.y + ").concat(u,";\n\n          ").concat(l,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(s,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(a,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(r,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(u*2+d,"] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(u*2+d,"] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(c,"\n\n        ").concat(o.output," = result;\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b1(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function pU({x:t,filter:e,convInfo:n,backend:i,bias:o=null,preluActivationWeights:r=null,leakyreluAlpha:s=0,activation:a=null}){const l=t.shape,c=i.texData.get(t.dataId),u=n.inChannels,d=l[0]*l[1]*l[2],h=n.outChannels,p=n.dataFormat==="channelsLast",f=!1,m=!1;let b;const g=[];if(r!=null){const v=b1(r.shape,p);v!=null&&(r=Be({inputs:{x:r},backend:i,attrs:{shape:v}}),g.push(r))}if(o!=null){const v=b1(o.shape,p);v!=null&&(o=Be({inputs:{x:o},backend:i,attrs:{shape:v}}),g.push(o))}if(!((d===1||h===1)&&u>rU)&&c.isPacked&&p&&c.texture!=null&&l[2]%2!==0&&Nt(c.shape.slice(-3),l.slice(-3))){const v=l[0]*l[1]*(l[2]+1),w={dataId:t.dataId,shape:[1,v,n.inChannels],dtype:t.dtype},C=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,M(m1(c.shape,w.shape),()=>"packed reshape ".concat(c.shape," to ").concat(w.shape," isn't free"));const S=Be({inputs:{x:e},backend:i,attrs:{shape:[1,n.inChannels,n.outChannels]}});g.push(S);const E=g1({a:w,b:S,backend:i,transposeA:f,transposeB:m,bias:o,activation:a,preluActivationWeights:r,leakyreluAlpha:s}),I=i.texData.get(E.dataId);M(I.isPacked,()=>"batchMatMul result is expected to be packed"),c.shape=C,I.shape=n.outShape,b=Xo({inputs:{x:E},backend:i}),b.shape=n.outShape,g.push(E)}else{const v=n.outHeight*n.outWidth,w=Be({inputs:{x:t},backend:i,attrs:{shape:p?[n.batchSize,v,n.inChannels]:[n.batchSize,n.inChannels,v]}}),C=Be({inputs:{x:e},backend:i,attrs:{shape:[1,n.inChannels,n.outChannels]}}),S=g1({a:p?w:C,b:p?C:w,transposeA:!p,transposeB:m,backend:i,bias:o,activation:a,preluActivationWeights:r,leakyreluAlpha:s});b=Be({inputs:{x:S},backend:i,attrs:{shape:n.outShape}}),g.push(w),g.push(C),g.push(S)}for(const v of g)i.disposeIntermediateTensorInfo(v);return b}function fU({x:t,filter:e,convInfo:n,backend:i,bias:o=null,preluActivationWeights:r=null,leakyreluAlpha:s=0,activation:a=null}){const{filterWidth:l,filterHeight:c,inChannels:u,outWidth:d,outHeight:h,dataFormat:p}=n,f=p==="channelsLast",m=l*c*u,b=h*d,g=[n.batchSize,m,b],x=!0,y=!1,v=[];if(r!=null){const q=b1(r.shape,f);q!=null&&(r=Be({inputs:{x:r},backend:i,attrs:{shape:q}}),v.push(r))}if(o!=null){const q=b1(o.shape,f);q!=null&&(o=Be({inputs:{x:o},backend:i,attrs:{shape:q}}),v.push(o))}const w=Be({inputs:{x:e},backend:i,attrs:{shape:[1,m,ge(e.shape)/m]}});v.push(w);const C=new j6e(g,n),S=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],E=i.runWebGLProgram(C,[t],"float32",S),I=Be({inputs:{x:E},backend:i,attrs:{shape:g}});v.push(E),v.push(I);const N=o!=null,B=r!=null,D=a==="leakyrelu",P=a?km(a,!0):null,_=new oU(f?I.shape:w.shape,f?w.shape:I.shape,f?[n.batchSize,b,n.outChannels]:[n.batchSize,n.outChannels,b],x,y,N,P,B,D),L=f?[I,w]:[w,I];if(o&&L.push(o),B&&L.push(r),D){const q=i.makeTensorInfo([],"float32",yc(s,"float32"));L.push(q),v.push(q)}const z=i.runWebGLProgram(_,L,"float32"),V=Be({inputs:{x:z},backend:i,attrs:{shape:n.outShape}});v.push(z);for(const q of v)i.disposeIntermediateTensorInfo(q);return V}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U6e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,filter:r}=e,{strides:s,pad:a,dataFormat:l,dilations:c,dimRoundingMode:u}=i,d=el(l),h=gi(o.shape,r.shape,s,c,a,u,!1,d);let p;if(h.filterHeight===1&&h.filterWidth===1&&h.dilationHeight===1&&h.dilationWidth===1&&h.strideHeight===1&&h.strideWidth===1&&(h.padInfo.type==="SAME"||h.padInfo.type==="VALID"))p=pU({x:o,filter:r,convInfo:h,backend:n});else if(h.strideWidth<=2&&d==="channelsLast"&&pe().getBool("WEBGL_EXP_CONV")){const m=new hU(h),b=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];p=n.runWebGLProgram(m,[o,r],"float32",b)}else if(pe().getBool("WEBGL_CONV_IM2COL"))p=fU({x:o,filter:r,convInfo:h,backend:n});else{const m=new dU(h);p=n.runWebGLProgram(m,[o,r],"float32")}const f=Be({inputs:{x:p},backend:n,attrs:{shape:h.outShape}});return n.disposeIntermediateTensorInfo(p),f}const V6e={kernelName:Vy,backendName:"webgl",kernelFunc:U6e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class H6e{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,i=e.strideWidth,o=e.padInfo.top,r=e.padInfo.left,s=e.dataFormat==="channelsLast";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(o,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(i," - ").concat(r,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              ").concat(s?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);","\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class W6e{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,i=e.filterWidth,o=e.strideHeight,r=e.strideWidth,s=e.dataFormat==="channelsLast",a=n-1-e.padInfo.top,l=i-1-e.padInfo.left,c=s?1:2,u=s?2:3,d=s?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(a,", ").concat(l,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(d,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(u,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(i," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n\n              if (").concat(s,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class G6e{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,i=e.strideHeight,o=e.strideWidth,r=e.padInfo.front,s=e.padInfo.top,a=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(e.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(r,";\n\n            if (xF < 0 || xF >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(i," - ").concat(s,";\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(o," - ").concat(a,";\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class q6e{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,i=e.filterHeight,o=e.filterWidth,r=e.strideDepth,s=e.strideHeight,a=e.strideWidth,l=n-1-e.padInfo.front,c=i-1-e.padInfo.top,u=o-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(l,", ").concat(c,", ").concat(u,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(r,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(e.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(i,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(s,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(i," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(o,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(o," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K6e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,dy:r}=e,{strides:s,pad:a,dataFormat:l,dimRoundingMode:c,filterShape:u}=i,d=el(l),h=gi(o.shape,u,s,1,a,c,!1,d),p=new H6e(h);return n.runWebGLProgram(p,[o,r],"float32")}const X6e={kernelName:kT,backendName:"webgl",kernelFunc:K6e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Y6e{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=Zi(this.outputShape.length);const n=e.filterHeight,i=e.filterWidth,o=n-1-e.padInfo.top,r=i-1-e.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(r,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            int wCPerm = ").concat(i," - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ").concat(e.outWidth,".0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ").concat(e.outWidth,".0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z6e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,filter:r}=e,{inputShape:s,strides:a,pad:l,dataFormat:c,dimRoundingMode:u}=i,d=el(c),h=gi(s,r.shape,a,1,l,u,!1,d);if(pe().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&d==="channelsLast"){const p=[[h.strideHeight,h.strideWidth]],f=new Y6e(h);return n.runWebGLProgram(f,[o,r],"float32",p)}else{const p=new W6e(h);return n.runWebGLProgram(p,[o,r],"float32")}}const J6e={kernelName:Hy,backendName:"webgl",kernelFunc:Z6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q6e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,filter:r}=e,{strides:s,pad:a,dilations:l}=i,c=kc(o.shape,r.shape,s,l,a),u=new M6e(c);return n.runWebGLProgram(u,[o,r],"float32")}const eAe={kernelName:Wy,backendName:"webgl",kernelFunc:Q6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,dy:r}=e,{strides:s,pad:a,filterShape:l}=i,c=kc(o.shape,l,s,1,a),u=new G6e(c);return n.runWebGLProgram(u,[o,r],"float32")}const nAe={kernelName:ST,backendName:"webgl",kernelFunc:tAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iAe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,filter:r}=e,{pad:s,strides:a,inputShape:l}=i,c=kc(l,r.shape,a,1,s),u=new q6e(c);return n.runWebGLProgram(u,[o,r],"float32")}const oAe={kernelName:CT,backendName:"webgl",kernelFunc:iAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rAe=$p+"\n  return cos(x);\n",sAe="\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(dd,"\n  return result;\n"),aAe=zt({opSnippet:rAe,packedOpSnippet:sAe}),lAe={kernelName:lg,backendName:"webgl",kernelFunc:aAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cAe="\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n",uAe=zt({opSnippet:cAe}),dAe={kernelName:cg,backendName:"webgl",kernelFunc:uAe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hAe{constructor(e,n,i,o,r){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[s,a,l,c]=e,[u]=n,[d,h]=i;this.outputShape=[u,d,h,c];const p=o==="bilinear"?1:0,[f,m]=["".concat(a-1,".0"),"".concat(l-1,".0")],[b,g,x]=d>1?["".concat((a-1)/(d-1)),"(y2-y1) * height_ratio","y1*".concat(f," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(f)],[y,v,w]=h>1?["".concat((l-1)/(h-1)),"(x2-x1) * width_ratio","x1*".concat(m," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(m)];this.userCode="\n      const float height_ratio = float(".concat(b,");\n      const float width_ratio = float(").concat(y,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(s,") {\n          return;\n        }\n\n        float height_scale = ").concat(g,";\n        float width_scale = ").concat(v,";\n\n        float in_y = ").concat(x,";\n        if( in_y < 0.0 || in_y > ").concat(f," ) {\n          setOutput(float(").concat(r,"));\n          return;\n        }\n        float in_x = ").concat(w,";\n        if( in_x < 0.0 || in_x > ").concat(m," ) {\n          setOutput(float(").concat(r,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(p," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pAe=t=>{const{inputs:e,backend:n,attrs:i}=t,{image:o,boxes:r,boxInd:s}=e,{cropSize:a,method:l,extrapolationValue:c}=i,u=new hAe(o.shape,r.shape,a,l,c);return n.runWebGLProgram(u,[o,r,s],"float32")},fAe={kernelName:ET,backendName:"webgl",kernelFunc:pAe};var Cm;(function(t){t.Prod="*",t.Sum="+"})(Cm||(Cm={}));class tO{constructor(e,n,i,o){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const r=this.outputShape.length,s=this.op===Cm.Prod?"1.0":"0.0",a=i?s:"getX(".concat(nO(r,"coords",this.op),")"),l=this.outputShape[this.outputShape.length-1];let c="",u="";i?(c=o?"end != ".concat(l-1):"end != 0",u=o?"end + 1":"end - 1"):(c=o?"end + pow2 < ".concat(l):"end >= pow2",u=o?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(qt(r)," coords = getOutputCoords();\n        int end = ").concat(iO(r,"coords",this.op),";\n        float val = ").concat(a,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(c,") {\n          int idx = ").concat(u,";\n          ").concat(iO(r,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(nO(r,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}}function nO(t,e,n){if(t===1)return"".concat(e);if(t===2)return"".concat(e,".x, ").concat(e,".y");if(t===3)return"".concat(e,".x, ").concat(e,".y, ").concat(e,".z");if(t===4)return"".concat(e,".x, ").concat(e,".y, ").concat(e,".z, ").concat(e,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(t," is not yet supported"))}function iO(t,e,n){if(t===1)return"".concat(e);if(t===2)return"".concat(e,".y");if(t===3)return"".concat(e,".z");if(t===4)return"".concat(e,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(t," is not yet supported"))}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mU(t,e,n,i,o,r){const s=e.shape.length,a=En([i],s);let l=e;a!=null&&(l=lo({inputs:{x:e},backend:n,attrs:{perm:a}}));const c=jn(1,s)[0];if(c!==s-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(e.shape.length-1," ")+"but got axis=".concat(i));const u=l.shape[c];let d=Xo({inputs:{x:l},backend:n});for(let h=0;h<=Math.ceil(Math.log2(u))-1;h++){const p=new tO(t,l.shape,!1,r),f=[[h]],m=d;d=n.runWebGLProgram(p,[d],d.dtype,f),n.disposeIntermediateTensorInfo(m)}if(o){const h=new tO(t,l.shape,o,r),p=d;d=n.runWebGLProgram(h,[d],d.dtype),n.disposeIntermediateTensorInfo(p)}if(a!=null){const h=Sc(a),p=lo({inputs:{x:d},backend:n,attrs:{perm:h}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),p}return d}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,exclusive:s,reverse:a}=i;return mU(Cm.Prod,o,n,r,s,a)}const gAe={kernelName:TT,backendName:"webgl",kernelFunc:mAe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,exclusive:s,reverse:a}=i;return mU(Cm.Sum,o,n,r,s,a)}const xAe={kernelName:Gy,backendName:"webgl",kernelFunc:bAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,weights:r}=e,{size:s,binaryOutput:a}=i;if(o.shape.length===1){const l=n.readSync(o.dataId),c=n.readSync(r.dataId),u=Xj(l,c,r.dtype,r.shape,s);return n.makeTensorInfo([s],r.dtype,u)}else if(o.shape.length===2){const l=n.bufferSync(o),c=n.bufferSync(r),u=S_e(l,c,s,a);return n.makeTensorInfo(u.shape,r.dtype,u.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(o.shape.length,"."))}const vAe={kernelName:IT,backendName:"webgl",kernelFunc:yAe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wAe{constructor(e,n,i){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=i,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{blockSize:r,dataFormat:s}=i,a=o.shape[0],l=s==="NHWC"?o.shape[1]:o.shape[2],c=s==="NHWC"?o.shape[2]:o.shape[3],u=s==="NHWC"?o.shape[3]:o.shape[1],d=l*r,h=c*r,p=u/(r*r),f=s==="NHWC"?[a,d,h,p]:[a,p,d,h],m=new wAe(f,r,s);return n.runWebGLProgram(m,[o],o.dtype)}const SAe={kernelName:_T,backendName:"webgl",kernelFunc:kAe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gU{constructor(e,n=!1,i=null,o=!1,r=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Zi(this.outputShape.length);const s=e.filterHeight,a=e.filterWidth,l=e.outChannels/e.inChannels;let c="",u="";i&&(o?c="float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(i,"\n        }"):r?c="float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(i,"\n        }"):c="\n          float activation(float x) {\n            ".concat(i,"\n          }\n        "),u="result = activation(result);");const d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(c,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(l,";\n        int q = d2 - d1 * ").concat(l,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(s,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(a,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(d,"\n        ").concat(u,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bU{constructor(e,n=!1,i=null,o=!1,r=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Zi(this.outputShape.length);const s=e.outChannels/e.inChannels,a=e.padInfo.left,l=e.strideWidth,c=e.dilationWidth,u=e.filterHeight,d=e.filterWidth,h=d;let p="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<d;g++)p+="\n          vec4 xTexelC".concat(g*2,";\n          int xTexelC").concat(g*2,"Ready;\n          vec4 xTexelC").concat(g*2+1,";\n          int xTexelC").concat(g*2+1,"Ready;\n          vec4 xC").concat(g,";");p+="\n    for (int r = 0; r < ".concat(u,"; r++) {\n      ");for(let g=0;g<d;g++)p+="\n          xTexelC".concat(g*2," = vec4(0.0);\n          xTexelC").concat(g*2,"Ready = 0;\n          xTexelC").concat(g*2+1," = vec4(0.0);\n          xTexelC").concat(g*2+1,"Ready = 0;\n          xC").concat(g," = vec4(0.0);");p+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(h+1)/2;g++){const x=g*2;if(p+="\n          xC = xCCorner + ".concat(x*c,";\n          "),l===1){if(x<d&&(a%2===1?(p+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n              "),c===1&&x>0?p+="\n                xC".concat(x," = vec4(xTexelC").concat(x-2,".zw, xTexelC").concat(x,".xy);\n                "):p+="\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(x," = vec4(previous.zw, xTexelC").concat(x,".xy);\n                  } else {\n                    xC").concat(x," = vec4(0.0, 0.0, xTexelC").concat(x,".xy);\n                  }\n                  ")):p+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n\n                xC").concat(x," = xTexelC").concat(x,";\n                "),x+1<d)){const y=a%2===0?hT(c):c;c%2===0&&a%2===1||c%2!==0&&a%2!==1?(p+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(y,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                    xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(x+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(x+1,"Ready = 1;\n                  }\n                  "),c>1?p+="\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC".concat(x+1," = vec4(previous.zw, xTexelC").concat(x+1,".xy);\n                    } else {\n                     xC").concat(x+1," = vec4(0.0, 0.0, xTexelC").concat(x+1,".xy);\n                    }\n                    "):p+="\n                    xC".concat(x+1," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".xy);\n                    ")):y===1?p+="\n                    xC".concat(x+1," = xTexelC").concat(x,";\n                    "):p+="\n                    xCOffset = xC + ".concat(y,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                      xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(x+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(x+1,"Ready = 1;\n                    }\n\n                    xC").concat(x+1," = xTexelC").concat(x+1,";\n                    ")}}else x<d&&(a%2===1?(p+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                  xTexelC").concat(x+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(x+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x+1,"Ready = 1;\n                }\n\n                xC").concat(x," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".zw);\n              "),x+1<d&&(p+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(x+1," = vec4(xTexelC").concat(x+1,".xy, final.xy);\n                "))):(p+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                  xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(x+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(x+1,"Ready = 1;\n                }\n\n                xC").concat(x," = vec4(\n                  xTexelC").concat(x,".xy, xTexelC").concat(x+1,".xy);\n              "),x+1<d&&(p+="\n                  xC".concat(x+1," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".zw);\n                "))));x<d&&(p+="\n            wTexel = getW(r, ".concat(x,", d1, q);\n            dotProd += xC").concat(x," * vec4(wTexel.xz, wTexel.xz);\n          "),x+1<d&&(p+="\n              wTexel = getW(r, ".concat(x+1,", d1, q);\n              dotProd += xC").concat(x+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}p+="\n    }\n  ",p+="\n      }\n    ";let f="",m="";i&&(o?f="vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(i,"\n        }"):r?f="vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(i,"\n        }"):f="vec4 activation(vec4 x) {\n          ".concat(i,"\n        }"),m="result = activation(result);");const b=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(f,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(s,";\n        int q = d2 - d1 * ").concat(s,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(p,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(b,"\n        ").concat(m,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,filter:r}=e,{strides:s,pad:a,dilations:l,dimRoundingMode:c}=i;let u=l;u==null&&(u=[1,1]),M(zi(s,u),()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(u,"'"));const d=gi(o.shape,r.shape,s,u,a,c,!0);let h;pe().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?h=new bU(d):h=new gU(d);const p=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(h,[o,r],"float32",p)}const TAe={kernelName:qy,backendName:"webgl",kernelFunc:CAe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EAe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,i=e.strideWidth,o=e.padInfo.top,r=e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(s," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(o,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(i," - ").concat(r,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class IAe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,i=e.filterWidth,o=e.strideHeight,r=e.strideWidth,s=n-1-e.padInfo.top,a=i-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(a,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(i," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(l,"; dm++) {\n              int d2 = d1 * ").concat(l," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Ae(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,dy:r}=e,{strides:s,dilations:a,pad:l,dimRoundingMode:c,filterShape:u}=i,d=gi(o.shape,u,s,a,l,c,!0),h=new EAe(d);return n.runWebGLProgram(h,[o,r],"float32")}const $Ae={kernelName:$T,backendName:"webgl",kernelFunc:_Ae};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AAe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,filter:r}=e,{strides:s,dilations:a,pad:l,dimRoundingMode:c,inputShape:u}=i,d=gi(u,r.shape,s,a,l,c,!0),h=new IAe(d);return n.runWebGLProgram(h,[o,r],"float32")}const NAe={kernelName:AT,backendName:"webgl",kernelFunc:AAe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OAe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DAe(t){const{inputs:e,backend:n}=t,{x:i}=e,o=[...i.shape,...i.shape],r=ge(i.shape),s=Be({inputs:{x:i},backend:n,attrs:{shape:[r]}}),a=new OAe(r),l=n.runWebGLProgram(a,[s],s.dtype),c=Be({inputs:{x:l},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),c}const RAe={kernelName:NT,backendName:"webgl",kernelFunc:DAe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class LAe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:i,padInfo:o,strideHeight:r,strideWidth:s,filterHeight:a,filterWidth:l,dilationHeight:c,dilationWidth:u}=e,{top:d,left:h}=o;this.userCode="\n      const ivec2 strides = ivec2(".concat(r,", ").concat(s,");\n      const ivec2 pads = ivec2(").concat(d,", ").concat(h,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(a,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(l,"; w++) {\n              int wIn = wBeg + w * ").concat(u,";\n\n              if (wIn >= 0 && wIn < ").concat(i,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,filter:r}=e,{strides:s,pad:a,dilations:l}=i,c=Kg(o.shape,r.shape,s,a,"NHWC",l);let u;const d=new LAe(c);u=n.runWebGLProgram(d,[o,r],"float32");const h=Be({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),h}const FAe={kernelName:Ky,backendName:"webgl",kernelFunc:zAe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PAe(t){const{inputs:e,backend:n,attrs:i}=t,{equation:o}=i,r=e,{allDims:s,summedDims:a,idDims:l}=DI(o,r.length);LI(s.length,l,r);const{path:c,steps:u}=zI(a,l),d=u.length;let h=null,p=s.length;const f=[];for(let m=0;m<d;++m){for(const b of u[m]){const{permutationIndices:g,expandDims:x}=RI(p,l[b]);let y;FI(g)?y=r[b]:(y=lo({inputs:{x:r[b]},backend:n,attrs:{perm:g}}),f.push(y));const v=y.shape.slice();for(let w=0;w<x.length;++w)v.splice(x[w],0,1);Nt(y.shape,v)||(y=Be({inputs:{x:y},backend:n,attrs:{shape:v}}),f.push(y)),h===null?h=y:(h=C_({inputs:{a:y,b:h},backend:n}),f.push(h))}m<d-1&&(c[m]>=0&&(h=Sw({inputs:{x:h},backend:n,attrs:{axis:c[m]-(s.length-p),keepDims:!1}}),f.push(h)),p--)}for(const m of f)m!==h&&n.disposeIntermediateTensorInfo(m);return h}const BAe={kernelName:OT,backendName:"webgl",kernelFunc:PAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MAe="return (x >= 0.0) ? x : (exp(x) - 1.0);",jAe="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",UAe=zt({opSnippet:MAe,packedOpSnippet:jAe}),VAe={kernelName:dg,backendName:"webgl",kernelFunc:UAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HAe="return (b >= 0.0) ? a : a * (b + 1.0);",WAe="\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",GAe=t=>{const{inputs:e,backend:n}=t,{dy:i,y:o}=e,r=pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new _p(WAe,i.shape,o.shape):new Vu(HAe,i.shape,o.shape);return n.runWebGLProgram(r,[i,o],i.dtype)},qAe={kernelName:DT,backendName:"webgl",kernelFunc:GAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KAe="\n  return vec4(equal(a, b));\n",XAe="return float(a == b);",YAe=Bi({opSnippet:XAe,packedOpSnippet:KAe,dtype:"bool",cpuKernelImpl:__e}),ZAe={kernelName:Xy,backendName:"webgl",kernelFunc:YAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JAe='\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(EI,";\n  float a1 = ").concat(II,";\n  float a2 = ").concat(_I,";\n  float a3 = ").concat($I,";\n  float a4 = ").concat(AI,";\n  float a5 = ").concat(NI,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n"),QAe=zt({opSnippet:JAe}),eNe={kernelName:hg,backendName:"webgl",kernelFunc:QAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tNe=$p+"\n  return exp(x);\n",nNe="\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",xU=zt({opSnippet:tNe,packedOpSnippet:nNe,cpuKernelImpl:$_e,dtype:"float32"}),iNe={kernelName:pg,backendName:"webgl",kernelFunc:xU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XS(t){const{inputs:e,attrs:n,backend:i}=t,{dim:o}=n,{input:r}=e,s=r.shape.length,a=r.shape.slice();let l=o;return o<0&&(M(-(s+1)<=o,()=>"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]")),l=s+o+1),a.splice(l,0,1),Be({inputs:{x:r},backend:i,attrs:{shape:a}})}const oNe={kernelName:Yy,backendName:"webgl",kernelFunc:XS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oO="return exp(x) - 1.0;",rNe=zt({opSnippet:oO,packedOpSnippet:oO,cpuKernelImpl:A_e}),sNe={kernelName:fg,backendName:"webgl",kernelFunc:rNe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rO{constructor(e,n,i){this.variableNames=["real","imag"];const o=n[1];this.outputShape=n;const r=i?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),s=i?"".concat(o,".0"):"1.0";let a;if(e==="real")a="return real * expR - imag * expI;";else if(e==="imag")a="return real * expI + imag * expR;";else throw new Error('FFT component must be either "real" or "imag", got '.concat(e,"."));this.userCode="\n      const float exponentMultiplier = ".concat(r,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(a,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(o,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(o,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(s,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yU(t,e,n){const i=n.texData.get(t.dataId),o=ge(t.shape),r=t.shape[t.shape.length-1],s=o/r,a=Be({inputs:{x:t},backend:n,attrs:{shape:[s,r]}}),l=a.shape,c=new rO("real",l,e),u=new rO("imag",l,e),d=[{dataId:i.complexTensorInfos.real.dataId,dtype:i.complexTensorInfos.real.dtype,shape:l},{dataId:i.complexTensorInfos.imag.dataId,dtype:i.complexTensorInfos.imag.dtype,shape:l}],h=n.runWebGLProgram(c,d,"float32"),p=n.runWebGLProgram(u,d,"float32"),f=$c({inputs:{real:h,imag:p},backend:n});n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p);const m=Be({inputs:{x:f},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(f),m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aNe(t){const{inputs:e,backend:n}=t,{input:i}=e;return yU(i,!1,n)}const lNe={kernelName:RT,backendName:"webgl",kernelFunc:aNe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cNe{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b0(t){const{backend:e,attrs:n}=t,{shape:i,value:o}=n;let{dtype:r}=n;if(r=r||fp(o),r==="string"){const s=Pn(r,ge(i));return s.fill(o),e.makeTensorInfo(i,r,s)}else{const s=new cNe(i,o),a=[[o]];return e.runWebGLProgram(s,[],r,a)}}const uNe={kernelName:LT,backendName:"webgl",kernelFunc:b0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dNe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hNe={kernelName:zT,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,i=e,o=new dNe(n.shape);return i.runWebGLProgram(o,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sO="return floor(x);",pNe=zt({opSnippet:sO,packedOpSnippet:sO,cpuKernelImpl:N_e}),fNe={kernelName:mg,backendName:"webgl",kernelFunc:pNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mNe="\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",gNe="\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",bNe=Bi({opSnippet:mNe,packedOpSnippet:gNe,dtype:"int32"}),xNe={kernelName:gg,backendName:"webgl",kernelFunc:bNe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yNe{constructor(e){this.variableNames=["A"];const n=uo(),[i,o]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(o,".0, ").concat(i,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vNe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=uo(),[i,o]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(o,".0, ").concat(i,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wNe={kernelName:iS,backendName:"webgl",kernelFunc:kNe};let Ad,pk=pe().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function kNe(t){const{inputs:e,backend:n,attrs:i}=t;let{pixels:o}=e;const{numChannels:r}=i,s=typeof HTMLVideoElement<"u"&&o instanceof HTMLVideoElement,a=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,[l,c]=s?[o.videoWidth,o.videoHeight]:[o.width,o.height],u=[c,l],d=[c,l,r];if(a||s){const m=pe().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(Ad==null||m!==pk)&&(pk=m,Ad=document.createElement("canvas").getContext("2d",{willReadFrequently:pk})),Ad.canvas.width=l,Ad.canvas.height=c,Ad.drawImage(o,0,0,l,c),o=Ad.canvas}const h=n.makeTensorInfo(u,"int32");n.texData.get(h.dataId).usage=lr.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),o);const p=pe().getBool("WEBGL_PACK")?new vNe(d):new yNe(d),f=n.runWebGLProgram(p,[h],"int32");return n.disposeData(h.dataId),f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SNe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,filter:r,bias:s,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=i,m=el(u),b=gi(o.shape,r.shape,l,d,c,h,!1,m);let g;const x=[],y=s!=null,v=a!=null,w=p==="leakyrelu",C=()=>{const E=[o,r],I=(N,B)=>{if(B==="NCHW"&&N.shape.length===1&&N.shape[0]!==1){const D=Be({inputs:{x:N},backend:n,attrs:{shape:[N.shape[0],1,1]}});return x.push(D),D}return N};if(y&&E.push(I(s,u)),v&&E.push(I(a,u)),w){const N=n.makeTensorInfo([],"float32",yc(f,"float32"));E.push(N),x.push(N)}return E};if(b.filterHeight===1&&b.filterWidth===1&&b.dilationHeight===1&&b.dilationWidth===1&&b.strideHeight===1&&b.strideWidth===1&&(b.padInfo.type==="SAME"||b.padInfo.type==="VALID"))g=pU({x:o,filter:r,convInfo:b,backend:n,bias:s,activation:p,preluActivationWeights:a,leakyreluAlpha:f});else if(b.strideWidth<=2&&m==="channelsLast"&&pe().getBool("WEBGL_EXP_CONV")){const E=p?km(p,!0):null,I=new hU(b,y,E,v,w),N=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],B=C();g=n.runWebGLProgram(I,B,"float32",N)}else if(pe().getBool("WEBGL_CONV_IM2COL"))g=fU({x:o,filter:r,convInfo:b,backend:n,bias:s,activation:p,preluActivationWeights:a,leakyreluAlpha:f});else{const E=p?km(p,!1):null,I=new dU(b,y,E,v,w),N=C();g=n.runWebGLProgram(I,N,"float32")}const S=Be({inputs:{x:g},backend:n,attrs:{shape:b.outShape}});return x.push(g),x.forEach(E=>n.disposeIntermediateTensorInfo(E)),S}const CNe={kernelName:Wx,backendName:"webgl",kernelFunc:SNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TNe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,filter:r,bias:s,preluActivationWeights:a}=e,{strides:l,pad:c,dilations:u,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=i,f=[];let m=u;m==null&&(m=[1,1]),M(zi(l,m),()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(l," and dilations '").concat(m,"'"));const b=gi(o.shape,r.shape,l,m,c,d,!0),g=pe().getBool("WEBGL_PACK_DEPTHWISECONV")&&b.strideWidth<=2&&b.outChannels/b.inChannels===1,x=h?km(h,g):null,y=[o,r],v=s!=null,w=a!=null,C=h==="leakyrelu";if(v&&y.push(s),w&&y.push(a),C){const N=n.makeTensorInfo([],"float32",yc(p,"float32"));y.push(N),f.push(N)}let S;g?S=new bU(b,v,x,w,C):S=new gU(b,v,x,w,C);const E=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],I=n.runWebGLProgram(S,y,"float32",E);return f.forEach(N=>n.disposeIntermediateTensorInfo(N)),I}const ENe={kernelName:Gx,backendName:"webgl",kernelFunc:TNe};class INe{constructor(e,n,i,o){this.sliceDim=e,this.strides=n,this.paramsShape=o,this.variableNames=["x","indices"],this.outputShape=i;const r=qt(i.length);let s="\n    int index;";for(let a=0;a<this.sliceDim;a++)s+="\n          index = round(getIndices(coords[0], ".concat(a,"));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ").concat(this.paramsShape[a],";\n          flattenIndex += index * ").concat(this.strides[a],";");this.userCode="\n         void main() {\n          ".concat(r," coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ").concat(s,"\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Ne(t){const{inputs:e,backend:n}=t,{params:i,indices:o}=e,r=o.shape,s=r[r.length-1],a=ge(i.shape),[l,c,u,d]=mI(i,o),h=Be({inputs:{x:o},backend:n,attrs:{shape:[c,s]}}),p=Be({inputs:{x:i},backend:n,attrs:{shape:[ge(i.shape)/u,u]}});if(n.shouldExecuteOnCPU([i,o])||i.dtype==="string"){const g=n.readSync(o.dataId),x=n.bufferSync(i),y=O_e(g,x,i.dtype,c,s,u,d,i.shape,a);return n.makeTensorInfo(l,i.dtype,y.values)}const f=new INe(s,d,[c,u],i.shape),m=n.runWebGLProgram(f,[p,h],p.dtype),b=Be({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),b}const $Ne={kernelName:FT,backendName:"webgl",kernelFunc:_Ne};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ANe{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const i=qt(this.rank),o=NNe(e);this.userCode="\n      void main() {\n        ".concat(i," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(e[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(o,"));\n      }\n    ")}}function NNe(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[];for(let o=0;o<t.length;o++)o===2?i.push("index"):i.push("".concat(n[o]));return i.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vU(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,indices:r}=e,{axis:s,batchDims:a}=i,l=Et(s,o.shape)[0];if(pe().get("DEBUG")){const x=n.readSync(r.dataId),y=o.shape[l];for(let v=0;v<x.length;++v){const w=x[v];M(w<=y-1&&w>=0,()=>"GatherV2: the index value ".concat(w," is not in [0, ").concat(y-1,"]"))}}const c=BI(o,r,l,a),u=ge(r.shape),d=[],h=Be({inputs:{x:o},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),p=Be({inputs:{x:r},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});d.push(h),d.push(p);const f=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([o,r])||o.dtype==="string"){const x=n.bufferSync(p),y=n.bufferSync(h),v=D_e(y,x,f);return d.forEach(w=>n.disposeIntermediateTensorInfo(w)),n.makeTensorInfo(c.outputShape,v.dtype,v.values)}const m=new ANe(h.shape,f),b=n.runWebGLProgram(m,[h,p],h.dtype);d.push(b);const g=Be({inputs:{x:b},backend:n,attrs:{shape:c.outputShape}});return d.forEach(x=>n.disposeIntermediateTensorInfo(x)),g}const ONe={kernelName:Jy,backendName:"webgl",kernelFunc:vU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DNe="return float(a > b);",RNe="\n  return vec4(greaterThan(a, b));\n",LNe=Bi({opSnippet:DNe,packedOpSnippet:RNe,cpuKernelImpl:R_e,dtype:"bool"}),zNe={kernelName:Qy,backendName:"webgl",kernelFunc:LNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FNe="return float(a >= b);",PNe="\n  return vec4(greaterThanEqual(a, b));\n",BNe=Bi({opSnippet:FNe,packedOpSnippet:PNe,dtype:"bool",cpuKernelImpl:L_e}),MNe={kernelName:bg,backendName:"webgl",kernelFunc:BNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jNe(t){const{inputs:e,backend:n}=t,{input:i}=e;return yU(i,!0,n)}const UNe={kernelName:PT,backendName:"webgl",kernelFunc:jNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VNe="return float(!isnan(x) && !isinf(x));",HNe=zt({opSnippet:VNe,dtype:"bool"}),WNe={kernelName:yg,backendName:"webgl",kernelFunc:HNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GNe="return float(isinf(x));",qNe=zt({opSnippet:GNe,dtype:"bool"}),KNe={kernelName:vg,backendName:"webgl",kernelFunc:qNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XNe="return float(isnan(x));",YNe=zt({opSnippet:XNe,dtype:"bool"}),ZNe={kernelName:wg,backendName:"webgl",kernelFunc:YNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JNe="return float(a < b);",QNe="\n  return vec4(lessThan(a, b));\n",eOe=Bi({opSnippet:JNe,packedOpSnippet:QNe,cpuKernelImpl:z_e,dtype:"bool"}),tOe={kernelName:tv,backendName:"webgl",kernelFunc:eOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nOe="return float(a <= b);",iOe="\n  return vec4(lessThanEqual(a, b));\n",oOe=Bi({opSnippet:nOe,packedOpSnippet:iOe,cpuKernelImpl:F_e,dtype:"bool"}),rOe={kernelName:nv,backendName:"webgl",kernelFunc:oOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sOe(t){const{backend:e,attrs:n}=t,{start:i,stop:o,num:r}=n,s=P_e(i,o,r);return e.makeTensorInfo([s.length],"float32",s)}const aOe={kernelName:MT,backendName:"webgl",kernelFunc:sOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lOe=$p+"\n  return x < 0.0 ? 0./0. : log(x);\n",cOe="\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",uOe=zt({opSnippet:lOe,packedOpSnippet:cOe,cpuKernelImpl:B_e}),dOe={kernelName:kg,backendName:"webgl",kernelFunc:uOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hOe=$p+"\n  return log(1.0 + x);\n",pOe=zt({opSnippet:hOe}),fOe={kernelName:Sg,backendName:"webgl",kernelFunc:pOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mOe="return float(a >= 1.0 && b >= 1.0);",gOe="\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",bOe=Bi({opSnippet:mOe,packedOpSnippet:gOe,dtype:"bool"}),xOe={kernelName:iv,backendName:"webgl",kernelFunc:bOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yOe="return float(!(x >= 1.0));",vOe=zt({opSnippet:yOe}),wOe={kernelName:ov,backendName:"webgl",kernelFunc:vOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kOe="return float(a >= 1.0 || b >= 1.0);",SOe="\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",COe=Bi({opSnippet:kOe,packedOpSnippet:SOe,dtype:"bool"}),TOe={kernelName:rv,backendName:"webgl",kernelFunc:COe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EOe{constructor(e,n,i,o,r){this.variableNames=["x"],this.outputShape=[];const s=n,a=e[3]-1;this.outputShape=e;let l;const c="float(".concat(i,") + float(").concat(o,") * sum");r===.5?l="inversesqrt(".concat(c,")"):r===1?l="1.0/(".concat(c,")"):l="exp(log(".concat(c,") * float(-").concat(r,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(s,"; j <= ").concat(s,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(a,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(l,";\n        setOutput(val);\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class IOe{constructor(e,n,i,o,r){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const s=n,a=e[3]-1;this.outputShape=e;let l;const c="float(".concat(i,") + float(").concat(o,") * sum");r===.5?l="inversesqrt(".concat(c,")"):r===1?l="1.0/(".concat(c,")"):l="exp(log(".concat(c,") * float(-").concat(r,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(s,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(s,"; j <= ").concat(s,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(a,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(l,";\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Oe=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{depthRadius:r,bias:s,alpha:a,beta:l}=i,c=pe().getBool("WEBGL_PACK_NORMALIZATION")?new IOe(o.shape,r,s,a,l):new EOe(o.shape,r,s,a,l);return n.runWebGLProgram(c,[o],o.dtype)},$Oe={kernelName:sv,backendName:"webgl",kernelFunc:_Oe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class AOe{constructor(e,n,i,o,r){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=i,this.alpha=o,this.beta=r,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(o,") * norm + float(").concat(i,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(o,")\n                * float(").concat(r,")\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(r,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NOe=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:o,y:r,dy:s}=e,{depthRadius:a,bias:l,alpha:c,beta:u}=i,d=new AOe(o.shape,a,l,c,u);return n.runWebGLProgram(d,[o,r,s],o.dtype)},OOe={kernelName:jT,backendName:"webgl",kernelFunc:NOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DOe(t,e,n,i){const o=ge(e),s=ge(t.shape)/o,a=Be({inputs:{x:t},attrs:{shape:[s,o]},backend:i}),l=hd(a,t.dtype,"max",i),c=Be({inputs:{x:l},attrs:{shape:n},backend:i});return i.disposeIntermediateTensorInfo(a),i.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wU(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{reductionIndices:r,keepDims:s}=i,a=o.shape.length,l=Et(r,o.shape);let c=l;const u=En(c,a),d=u!=null,h=n.shouldExecuteOnCPU([o]);let p=o;if(d){if(h){const y=n.texData.get(p.dataId).values,v=new Array(a);for(let S=0;S<v.length;S++)v[S]=o.shape[u[S]];const w=k_(y,o.shape,o.dtype,u,v);p=n.makeTensorInfo(v,o.dtype);const C=n.texData.get(p.dataId);C.values=w}else p=kw(o,u,n);c=jn(c.length,a)}Fi("max",c,a);const[f,m]=bi(p.shape,c);let b=f;s&&(b=Mn(f,l));let g;if(h){const y=n.texData.get(p.dataId).values,v=M_e(y,ge(m),b,o.dtype);g=n.makeTensorInfo(b,o.dtype);const w=n.texData.get(g.dataId);w.values=v}else g=DOe(p,m,b,n);return d&&n.disposeIntermediateTensorInfo(p),g}const ROe={kernelName:av,backendName:"webgl",kernelFunc:wU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LOe=S_+"\n  return max(a, b);\n",zOe="\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+dd+"\n  return result;\n",FOe=Bi({opSnippet:LOe,packedOpSnippet:zOe,cpuKernelImpl:j_e}),POe={kernelName:Cg,backendName:"webgl",kernelFunc:FOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BOe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e;f0(o,"maxPool");const{filterSize:r,strides:s,pad:a,dimRoundingMode:l}=i,c=1;M(zi(s,c),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(c,"'"));const u=ss(o.shape,r,s,c,a,l);if(u.filterWidth===1&&u.filterHeight===1&&Nt(u.inShape,u.outShape))return Xo({inputs:{x:o},backend:n});const d=new Sm(u,"max",!1);return n.runWebGLProgram(d,[o],o.dtype)}const MOe={kernelName:lv,backendName:"webgl",kernelFunc:BOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jOe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{filterSize:r,strides:s,pad:a,dataFormat:l,dimRoundingMode:c}=i,u=[1,1,1],d=Qa(o.shape,r,s,u,a,c,l),h=new T_(d,"max",!1);return n.runWebGLProgram(h,[o],o.dtype)}const UOe={kernelName:cv,backendName:"webgl",kernelFunc:jOe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class VOe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,r=e.effectiveFilterHeight,s=e.effectiveFilterWidth,a=r-1-e.padInfo.top,l=s-1-e.padInfo.left,c=r*s-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(a,", ").concat(l,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(r,";\n          wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(s," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class HOe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,i=e.strideHeight,o=e.strideWidth,r=e.dilationDepth,s=e.dilationHeight,a=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=l-1-e.padInfo.front,h=c-1-e.padInfo.top,p=u-1-e.padInfo.left,f=l*c*u-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(d,", ").concat(h,", ").concat(p,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(l,";\n           wD += ").concat(r,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(s,") {\n            float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(u,";\n                wC += ").concat(a,") {\n              float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(f," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(u," +\n                  wR * ").concat(u," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WOe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,input:r}=e,s=r,{filterSize:a,strides:l,pad:c,dimRoundingMode:u}=i,d=[1,1,1],h=Qa(s.shape,a,l,d,c,u),p=new T_(h,"max",!0),f=n.runWebGLProgram(p,[s],s.dtype),m=new HOe(h),b=n.runWebGLProgram(m,[o,f],s.dtype);return n.disposeIntermediateTensorInfo(f),b}const GOe={kernelName:VT,backendName:"webgl",kernelFunc:WOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qOe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:o,input:r,output:s}=e,a=r;f0([r,s],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=i,h=ss(a.shape,l,c,1,u,d),p=!0,f=new Sm(h,"max",p),m=n.runWebGLProgram(f,[a],a.dtype),b=new VOe(h),g=n.runWebGLProgram(b,[o,m],a.dtype);return n.disposeIntermediateTensorInfo(m),g}const KOe={kernelName:UT,backendName:"webgl",kernelFunc:qOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XOe(t,e,n,i){let o=new Sm(n,"max",!1);const r=i.runWebGLProgram(o,[t],"float32");o=new Sm(n,"max",!0,!0,e);const s=i.runWebGLProgram(o,[t],"float32");return[r,s]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YOe={kernelName:HT,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:i}=t,{filterSize:o,strides:r,pad:s,includeBatchInIndex:a}=e,l=n;M(i.shape.length===4,()=>"Error in maxPool: input must be rank 4 but got rank ".concat(i.shape.length,"."));const c=[1,1];M(zi(r,c),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(c,"'"));const u=ss(i.shape,o,r,c,s),[d,h]=XOe(i,a,u,l);return[d,h]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZOe(t,e,n,i){const o=ge(e),s=ge(t.shape)/o,a=Be({inputs:{x:t},attrs:{shape:[s,o]},backend:i}),l=hd(a,"float32","mean",i),c=Be({inputs:{x:l},attrs:{shape:n},backend:i});return i.disposeIntermediateTensorInfo(a),i.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JOe={kernelName:uv,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:i}=t,{keepDims:o,axis:r}=e,s=n,a=i.shape.length,l=Et(r,i.shape);let c=l;const u=En(c,a),d=u!=null,h=s.shouldExecuteOnCPU([i]),p=[];let f=i;if(d){if(h){const v=s.texData.get(f.dataId).values,w=new Array(a);for(let E=0;E<w.length;E++)w[E]=i.shape[u[E]];const C=k_(v,i.shape,i.dtype,u,w);f=s.makeTensorInfo(w,i.dtype);const S=s.texData.get(f.dataId);S.values=C}else f=kw(i,u,s);p.push(f),c=jn(c.length,a)}Fi("sum",c,a);const[m,b]=bi(f.shape,c);let g=m;o&&(g=Mn(m,l));const x=ZOe(f,b,g,s);for(const y of p)s.disposeIntermediateTensorInfo(y);return x}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QOe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,keepDims:s}=i,a=o.shape.length,l=Et(r,o.shape);let c=l;const u=En(c,a);let d=o;u!=null&&(d=lo({inputs:{x:o},backend:n,attrs:{perm:u}}),c=jn(c.length,o.shape.length)),Fi("min",c,a);const[h,p]=bi(d.shape,c),f=ge(p),m=Be({inputs:{x:d},backend:n,attrs:{shape:[-1,f]}}),b=hd(m,m.dtype,"min",n);let g;if(s){const x=Mn(h,l);g=Be({inputs:{x:b},backend:n,attrs:{shape:x}})}else g=Be({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),u!=null&&n.disposeIntermediateTensorInfo(d),g}const eDe={kernelName:dv,backendName:"webgl",kernelFunc:QOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tDe=S_+"\n  return min(a, b);\n",nDe="\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+dd+"\n  return result;\n",iDe=Bi({opSnippet:tDe,packedOpSnippet:nDe,cpuKernelImpl:U_e}),oDe={kernelName:Tg,backendName:"webgl",kernelFunc:iDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rDe{constructor(e,n,i){this.variableNames=["x"],this.outputShape=n.map((u,d)=>u[0]+e[d]+u[1]);const o=e.length,r=qt(o),s=n.map(u=>u[0]).join(","),a=n.map((u,d)=>u[0]+e[d]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,o),c=i==="reflect"?0:1;if(o===1){this.userCode="\n        int start = ".concat(s,";\n        int end = ").concat(a,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ");return}this.userCode="\n      ".concat(r," start = ").concat(r,"(").concat(s,");\n      ").concat(r," end = ").concat(r,"(").concat(a,");\n\n      void main() {\n        ").concat(r," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(o,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(r," coords = outC - start;\n        setOutput(getX(").concat(l,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sDe{constructor(e,n,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((f,m)=>f[0]+e[m]+f[1]);const o=e.length,r=qt(o),s=n.map(f=>f[0]).join(","),a=n.map((f,m)=>f[0]+e[m]).join(","),l=to("rc",o),c=to("source",o),u="".concat(l[o-1]," < ").concat(this.outputShape[o-1]),d=o===1?"source":"vec2(".concat(c.slice(-2).join(),")"),h=i==="reflect"?0:1;let p="";if(o===1){const f="\n        ".concat(r," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(h,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(h,";\n        }\n        source -= start;\n      ");p="\n        ".concat(r," rc = outputLoc;\n        ").concat(f,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(l[o-1]," += 1;\n        if(").concat(u,") {\n          ").concat(f,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ")}else{const f="\n        ".concat(r," source = rc;\n        ").concat(r," lt = ").concat(r,"(lessThan(source, start));\n        ").concat(r," gte = ").concat(r,"(greaterThanEqual(source, end));\n        ").concat(r," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(h,") +\n                gte * ((end - 1) * 2 - source + ").concat(h,");\n        source -= start;\n      ");p="\n        ".concat(r," rc = outputLoc;\n        ").concat(f,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(l[o-1]," += 1;\n        if(").concat(u,") {\n          ").concat(f,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n        rc = outputLoc;\n        ").concat(l[o-2]," += 1;\n        if(").concat(l[o-2]," < ").concat(this.outputShape[o-2],") {\n          ").concat(f,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          ").concat(l[o-1]," += 1;\n          if(").concat(u,") {\n            ").concat(f,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(r," start = ").concat(r,"(").concat(s,");\n      const ").concat(r," end = ").concat(r,"(").concat(a,");\n\n      void main() {\n        ").concat(r," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(p,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aDe=({inputs:t,backend:e,attrs:n})=>{const{x:i}=t,{paddings:o,mode:r}=n,s=pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new sDe(i.shape,o,r):new rDe(i.shape,o,r);return e.runWebGLProgram(s,[i],i.dtype)},lDe={kernelName:hv,backendName:"webgl",kernelFunc:aDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cDe="if (b == 0.0) return NAN;\n  return mod(a, b);",uDe="\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+dd+"\n  return result;\n",dDe=Bi({opSnippet:cDe,packedOpSnippet:uDe}),hDe={kernelName:Eg,backendName:"webgl",kernelFunc:dDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pDe{constructor(e,n,i){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,i],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fDe="\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",mDe="\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",kU=Bi({opSnippet:fDe,packedOpSnippet:mDe,checkOutOfBounds:!0}),gDe={kernelName:ug,backendName:"webgl",kernelFunc:kU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aO="return a - b;",SU=Bi({opSnippet:aO,packedOpSnippet:aO,supportsComplex:!0,cpuKernelImpl:c$e}),bDe={kernelName:Ug,backendName:"webgl",kernelFunc:SU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CU(t){const{inputs:e,backend:n,attrs:i}=t,{logits:o}=e,{dim:r}=i,s=Et([r],o.shape),a=wU({inputs:{x:o},backend:n,attrs:{reductionIndices:s,keepDims:!1}}),l=Mn(a.shape,s),c=Be({inputs:{x:a},backend:n,attrs:{shape:l}}),u=SU({inputs:{a:o,b:c},backend:n}),d=xU({inputs:{x:u},backend:n}),h=Sw({inputs:{x:d},backend:n,attrs:{axis:s,keepDims:!1}}),p=Be({inputs:{x:h},backend:n,attrs:{shape:l}}),f=kU({inputs:{a:d,b:p},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),f}const xDe={kernelName:Av,backendName:"webgl",kernelFunc:CU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yDe(t){const{inputs:e,backend:n,attrs:i}=t,{logits:o}=e,{numSamples:r,seed:s,normalized:a}=i,l=a?o:CU({inputs:{logits:o},backend:n,attrs:{dim:o.shape.length-1}}),c=l.shape[0],u=l.shape[1],d=new pDe(c,u,r),h=[[s]],p=n.runWebGLProgram(d,[l],"int32",h);return a||n.disposeIntermediateTensorInfo(l),p}const vDe={kernelName:WT,backendName:"webgl",kernelFunc:yDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wDe=ls+"\n  return -x;\n",kDe="\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n";function SDe(t){const{inputs:e,backend:n}=t,{x:i}=e;if(n.shouldExecuteOnCPU([i])){const r=n.texData.get(i.dataId),[s,a]=H_e(r.values,i.shape,i.dtype);return n.makeTensorInfo(a,i.dtype,s)}let o;return pe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?o=new Dl(i.shape,kDe):o=new Gs(i.shape,wDe),n.runWebGLProgram(o,[i],i.dtype)}const CDe={kernelName:pv,backendName:"webgl",kernelFunc:SDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TDe=lI;function EDe(t){sr("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:i}=t,{boxes:o,scores:r}=e,{maxOutputSize:s,iouThreshold:a,scoreThreshold:l}=i,c=n.readSync(o.dataId),u=n.readSync(r.dataId),{selectedIndices:d}=TDe(c,u,s,a,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const IDe={kernelName:GT,backendName:"webgl",kernelFunc:EDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _De=cI;function $De(t){sr("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:i}=t,{boxes:o,scores:r}=e,{maxOutputSize:s,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:c}=i,u=n.readSync(o.dataId),d=n.readSync(r.dataId),{selectedIndices:h,validOutputs:p}=_De(u,d,s,a,l,c);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}const ADe={kernelName:qT,backendName:"webgl",kernelFunc:$De};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NDe=uI;function ODe(t){sr("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:i}=t,{boxes:o,scores:r}=e,{maxOutputSize:s,iouThreshold:a,scoreThreshold:l,softNmsSigma:c}=i,u=n.readSync(o.dataId),d=n.readSync(r.dataId),h=s,p=a,f=l,m=c,{selectedIndices:b,selectedScores:g}=NDe(u,d,h,p,f,m);return[n.makeTensorInfo([b.length],"int32",new Int32Array(b)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const DDe={kernelName:KT,backendName:"webgl",kernelFunc:ODe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class RDe{constructor(e,n,i,o){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(o,"), float(").concat(i,"),\n                      float(index == coords.y)));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LDe=t=>{const{inputs:e,backend:n,attrs:i}=t,{indices:o}=e,{dtype:r,depth:s,onValue:a,offValue:l}=i,c=ge(o.shape),u=new RDe(c,s,a,l),d=Be({inputs:{x:o},backend:n,attrs:{shape:[c]}}),h=n.runWebGLProgram(u,[d],r);n.disposeIntermediateTensorInfo(d);const p=[...o.shape,s],f=Be({inputs:{x:h},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(h),f},zDe={kernelName:gv,backendName:"webgl",kernelFunc:LDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x1(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="complex64"){const o=g0({inputs:{input:i},backend:n}),r=x1({inputs:{x:o},backend:n}),s=Cw({inputs:{input:i},backend:n}),a=x1({inputs:{x:s},backend:n}),l=$c({inputs:{real:r,imag:a},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(a),l}else return b0({attrs:{shape:i.shape,dtype:i.dtype,value:i.dtype==="string"?"":0},backend:n})}const FDe={kernelName:Rv,backendName:"webgl",kernelFunc:x1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TU(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(i.dtype==="complex64"){const o=g0({inputs:{input:i},backend:n}),r=TU({inputs:{x:o},backend:n}),s=Cw({inputs:{input:i},backend:n}),a=x1({inputs:{x:s},backend:n}),l=$c({inputs:{real:r,imag:a},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(a),l}else return b0({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:n})}const PDe={kernelName:mv,backendName:"webgl",kernelFunc:TU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BDe(t){const{inputs:e,backend:n,attrs:i}=t,{axis:o}=i;if(e.length===1)return XS({inputs:{input:e[0]},backend:n,attrs:{dim:o}});const r=e[0].shape,s=e[0].dtype;e.forEach(u=>{Zo(r,u.shape,"All tensors passed to stack must have matching shapes"),M(s===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=e.map(u=>{const d=XS({inputs:{input:u},backend:n,attrs:{dim:o}});return a.push(d),d}),c=uU({inputs:l,backend:n,attrs:{axis:o}});return a.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const MDe={kernelName:bv,backendName:"webgl",kernelFunc:BDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jDe{constructor(e,n,i){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((c,u)=>c[0]+e[u]+c[1]);const o=e.length,r=qt(o),s=n.map(c=>c[0]).join(","),a=n.map((c,u)=>c[0]+e[u]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,o);if(o===1){this.userCode="\n        int start = ".concat(s,";\n        int end = ").concat(a,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ");return}this.userCode="\n      ".concat(r," start = ").concat(r,"(").concat(s,");\n      ").concat(r," end = ").concat(r,"(").concat(a,");\n\n      void main() {\n        ").concat(r," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(r," coords = outC - start;\n          setOutput(getX(").concat(l,"));\n        }\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UDe{constructor(e,n,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((m,b)=>m[0]+e[b]+m[1]);const o=e.length,r=qt(o),s=n.map(m=>m[0]).join(","),a=n.map((m,b)=>m[0]+e[b]).join(","),l=to("rc",o),c=to("source",o),u="".concat(l[o-1]," < ").concat(this.outputShape[o-1]),d=o===1?"source":"vec2(".concat(c.slice(-2).join(),")"),h=["".concat(r," rc = outputLoc;"),"".concat(l[o-1]," += 1;\n       if(").concat(u,") {\n      "),o===1?"":"}\n       rc = outputLoc;\n       ".concat(l[o-2]," += 1;\n       if(").concat(l[o-2]," < ").concat(this.outputShape[o-2],") {"),o===1?"":"  ".concat(l[o-1]," += 1;\n         if(").concat(u,") {")],p=o===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let f="";for(let m=0,b=o===1?2:4;m<b;m++)f+="\n        ".concat(h[m],"\n        if (").concat(p,") {\n          result[").concat(m,"] = float(value);\n        } else {\n          ").concat(r," source = rc - start;\n          result[").concat(m,"] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ");f+=o===1?"} ":"}}",this.userCode="\n      const ".concat(r," start = ").concat(r,"(").concat(s,");\n      const ").concat(r," end = ").concat(r,"(").concat(a,");\n\n      void main() {\n        ").concat(r," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(f,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EU=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{paddings:r,constantValue:s}=i;if(ge(o.shape)===0){const c=r.map((u,d)=>u[0]+o.shape[d]+u[1]);return b0({backend:n,attrs:{shape:c,value:s,dtype:o.dtype}})}const a=pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new UDe(o.shape,r,s):new jDe(o.shape,r,s),l=[[s]];return n.runWebGLProgram(a,[o],o.dtype,l)},VDe={kernelName:xv,backendName:"webgl",kernelFunc:EU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HDe="\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",WDe="\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+dd+"\n  return result;\n",GDe=Bi({opSnippet:HDe,packedOpSnippet:WDe}),qDe={kernelName:_g,backendName:"webgl",kernelFunc:GDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KDe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{axis:r,keepDims:s}=i,a=o.shape.length,l=[],c=Et(r,o.shape);let u=c;const d=En(u,a);let h=o;d!=null&&(h=lo({inputs:{x:o},backend:n,attrs:{perm:d}}),u=jn(u.length,a),l.push(h)),Fi("prod",u,a);let p;if(n.shouldExecuteOnCPU([h])){const f=n.texData.get(h.dataId).values,{outVals:m,outShape:b,outDtype:g}=G_e(h.shape,h.dtype,f,u);p=n.makeTensorInfo(b,g,m)}else{const[f,m]=bi(h.shape,u),b=ge(m),g=Be({inputs:{x:h},backend:n,attrs:{shape:[-1,b]}}),x=vE(o.dtype),y=hd(g,x,"prod",n);p=Be({inputs:{x:y},backend:n,attrs:{shape:f}}),l.push(g),l.push(y)}if(s){l.push(p);const f=Mn(p.shape,c);p=Be({inputs:{x:p},backend:n,attrs:{shape:f}})}return l.forEach(f=>n.disposeIntermediateTensorInfo(f)),p}const XDe={kernelName:vv,backendName:"webgl",kernelFunc:KDe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YDe(t){const{inputs:e,backend:n,attrs:i}=t,{paramsNestedSplits:o,paramsDenseValues:r,indices:s}=e,{outputRaggedRank:a}=i,l=o.map(g=>n.readSync(g.dataId)),c=o.map(g=>g.shape),u=n.readSync(r.dataId),d=n.readSync(s.dataId),[h,p,f]=q_e(l,c,u,r.shape,r.dtype,d,s.shape,a),m=h.map(g=>n.makeTensorInfo([g.length],"int32",g)),b=n.makeTensorInfo(f,r.dtype,p);return m.concat([b])}const ZDe={kernelName:XT,backendName:"webgl",kernelFunc:YDe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JDe(t){const{inputs:e,backend:n}=t,{starts:i,limits:o,deltas:r}=e,s=n.readSync(i.dataId),a=n.readSync(o.dataId),l=n.readSync(r.dataId),[c,u]=K_e(s,i.shape,i.dtype,a,o.shape,l,r.shape),d=n.makeTensorInfo([c.length],"int32",c),h=n.makeTensorInfo([u.length],i.dtype,u);return[d,h]}const QDe={kernelName:YT,backendName:"webgl",kernelFunc:JDe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eRe(t){const{inputs:e,backend:n,attrs:i}=t,{shape:o,values:r,defaultValue:s,rowPartitionTensors:a}=e,{rowPartitionTypes:l}=i,c=n.readSync(o.dataId),u=n.readSync(r.dataId),d=n.readSync(s.dataId),h=a.map(b=>n.readSync(b.dataId)),p=a.map(b=>b.shape),[f,m]=X_e(c,o.shape,u,r.shape,r.dtype,d,s.shape,h,p,l);return n.makeTensorInfo(f,r.dtype,m)}const tRe={kernelName:ZT,backendName:"webgl",kernelFunc:eRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IU=t=>{const{backend:e,attrs:n}=t,{start:i,stop:o,step:r,dtype:s}=n,a=Y_e(i,o,r,s);return e.makeTensorInfo([a.length],s,a)},nRe={kernelName:JT,backendName:"webgl",kernelFunc:IU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iRe="return 1.0 / x;",oRe=zt({opSnippet:iRe}),rRe={kernelName:$g,backendName:"webgl",kernelFunc:oRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sRe=ls+"\n  return (x < 0.0) ? 0.0 : x;\n",aRe="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",lRe=zt({opSnippet:sRe,packedOpSnippet:aRe}),cRe={kernelName:Ag,backendName:"webgl",kernelFunc:lRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uRe=ls+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",dRe="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",hRe=zt({opSnippet:uRe,packedOpSnippet:dRe}),pRe={kernelName:Ng,backendName:"webgl",kernelFunc:hRe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fRe{constructor(e,n,i,o,r){this.variableNames=["A"],this.outputShape=[];const[s,a,l,c]=e;this.outputShape=[s,n,i,c];const u=[o&&n>1?a-1:a,o&&i>1?l-1:l],d=[o&&n>1?n-1:n,o&&i>1?i-1:i];let h;r?h="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(u[0]/d[0],",\n          ").concat(u[1]/d[1],");\n      const vec2 inputShapeRC = vec2(").concat(a,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mRe{constructor(e,n,i,o,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[s,a,l,c]=e;this.outputShape=[s,n,i,c];const u=[o&&n>1?a-1:a,o&&i>1?l-1:l],d=[o&&n>1?n-1:n,o&&i>1?i-1:i];let h;r?h="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(u[0]/d[0],",\n          ").concat(u[1]/d[1],",\n          ").concat(u[1]/d[1],");\n      const vec3 inputShapeRC = vec3(").concat(a,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(i-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gRe(t){const{inputs:e,backend:n,attrs:i}=t,{images:o}=e,{alignCorners:r,halfPixelCenters:s,size:a}=i,[l,c]=a,u=pe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new mRe(o.shape,l,c,r,s):new fRe(o.shape,l,c,r,s);return n.runWebGLProgram(u,[o],"float32")}const bRe={kernelName:Sv,backendName:"webgl",kernelFunc:gRe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xRe{constructor(e,n,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,o,r]=n,[,s,a]=e,l=[i&&s>1?o-1:o,i&&a>1?r-1:r],c=[i&&s>1?s-1:s,i&&a>1?a-1:a],u=l[0]/c[0],d=l[1]/c[1],h=1/u,p=1/d,f=Math.ceil(h)*2+2,m=Math.ceil(p)*2+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(u,");\n        const float widthScale = float(").concat(d,");\n\n        const float invHeightScale = float(").concat(h,");\n        const float invWidthScale = float(").concat(p,");\n\n        const int winHeight = int(").concat(f,");\n        const int winWidth = int(").concat(m,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(s,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(a,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(o-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(r-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yRe(t){const{inputs:e,backend:n,attrs:i}=t,{images:o,dy:r}=e,{alignCorners:s}=i,a=new xRe(r.shape,o.shape,s);return n.runWebGLProgram(a,[r],r.dtype)}const vRe={kernelName:tE,backendName:"webgl",kernelFunc:yRe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wRe{constructor(e,n,i,o,r){this.variableNames=["A"],this.outputShape=[];const[s,a,l,c]=e;this.outputShape=[s,n,i,c];const u=[o&&n>1?a-1:a,o&&i>1?l-1:l],d=[o&&n>1?n-1:n,o&&i>1?i-1:i],h=o?"0.5":"0.0";let p;r?p="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":p="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(u[0]/d[0],",\n          ").concat(u[1]/d[1],");\n      const vec2 inputShapeRC = vec2(").concat(a,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(h,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kRe{constructor(e,n,i,o,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[s,a,l,c]=e;this.outputShape=[s,n,i,c];const u=[o&&n>1?a-1:a,o&&i>1?l-1:l],d=[o&&n>1?n-1:n,o&&i>1?i-1:i],h=o?"0.5":"0.0";let p;r?p="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":p="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(u[0]/d[0],",\n          ").concat(u[1]/d[1],",\n          ").concat(u[1]/d[1],");\n      const vec3 inputShapeRC = vec3(").concat(a,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(h,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(i-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SRe(t){const{inputs:e,backend:n,attrs:i}=t,{images:o}=e,{alignCorners:r,halfPixelCenters:s,size:a}=i,[l,c]=a,u=pe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new kRe(o.shape,l,c,r,s):new wRe(o.shape,l,c,r,s);return n.runWebGLProgram(u,[o],o.dtype)}const CRe={kernelName:kv,backendName:"webgl",kernelFunc:SRe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TRe{constructor(e,n,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,o,r]=n,[,s,a]=e,l=[i&&s>1?o-1:o,i&&a>1?r-1:r],c=[i&&s>1?s-1:s,i&&a>1?a-1:a],u=l[0]/c[0],d=l[1]/c[1],h=1/u,p=1/d,f=Math.ceil(h)*2+2,m=Math.ceil(p)*2+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(u,");\n        const float widthScale = float(").concat(d,");\n\n        const float invHeightScale = float(").concat(h,");\n        const float invWidthScale = float(").concat(p,");\n\n        const int winHeight = int(").concat(f,");\n        const int winWidth = int(").concat(m,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(s,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(a,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(l[0],") *\n                (float(dyR) / float(").concat(c[0],"));\n\n            float sourceFracCol =\n                float(").concat(l[1],") *\n                  (float(dyC) / float(").concat(c[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(i," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(r,") - 1),\n                ").concat(i," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ERe(t){const{inputs:e,backend:n,attrs:i}=t,{images:o,dy:r}=e,{alignCorners:s}=i,a=new TRe(r.shape,o.shape,s);return n.runWebGLProgram(a,[r],r.dtype)}const IRe={kernelName:eE,backendName:"webgl",kernelFunc:ERe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _Re{constructor(e,n){this.variableNames=["x"];const i=e.length;if(i>4)throw new Error("WebGL backend: Reverse of rank-".concat(i," tensor is not yet supported"));if(this.outputShape=e,i===1){this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(e[0]," - coord - 1));\n        }\n      ");return}const o=a=>n.indexOf(a)!==-1&&e[a]!==1?"".concat(e[a]," - coords[").concat(a,"] - 1"):"coords[".concat(a,"]"),r=e.map((a,l)=>o(l)).join(","),s=qt(i);this.userCode="\n      void main() {\n        ".concat(s," coords = getOutputCoords();\n        setOutput(getX(").concat(r,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $Re{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const i=e.length;if(i>4)throw new Error("WebGL backend: Reverse of rank-".concat(i," tensor is not yet supported"));this.outputShape=e;const o=to("rc",i),r="".concat(o[i-1]," + 1 < ").concat(this.outputShape[i-1]),s="".concat(o[i-2]," + 1 < ").concat(this.outputShape[i-2]),a=qt(i);i===1?this.userCode="\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(e[0]," - rc - 1),\n            ").concat(e[0]," - rc - 1);\n          if(").concat(r,"){\n              result.g = getChannel(getX(").concat(e[0]," - (rc  + 1) - 1),\n                ").concat(e[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):this.userCode="\n        void main() {\n          ".concat(a," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(l(o.slice()),";\n          if(").concat(r,"){\n            result.g = ").concat(c(o.slice()),";\n          }\n          if(").concat(s,") {\n            result.b = ").concat(u(o.slice()),";\n            if(").concat(r,") {\n              result.a = ").concat(d(o.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ");function l(f){return h(f)}function c(f){return f[i-1]="("+f[i-1]+" + 1)",h(f)}function u(f){return f[i-2]="("+f[i-2]+" + 1)",h(f)}function d(f){return f[i-1]="("+f[i-1]+" + 1)",f[i-2]="("+f[i-2]+" + 1)",h(f)}function h(f){const m=e.map((x,y)=>p(y,f)),b=m.join(","),g=m.slice(-2).join(",");return"getChannel(getX(".concat(b,"), vec2(").concat(g,"))")}function p(f,m){return n.indexOf(f)!==-1&&e[f]!==1?"".concat(e[f]," - ").concat(m[f]," - 1"):"".concat(m[f])}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ARe(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{dims:r}=i,s=o.shape.length,a=Et(r,o.shape);if(s===0)return Xo({inputs:{x:o},backend:n});const l=pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new $Re(o.shape,a):new _Re(o.shape,a);return n.runWebGLProgram(l,[o],o.dtype)}const NRe={kernelName:Cv,backendName:"webgl",kernelFunc:ARe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ORe{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const i=e[1],o=e[2];this.outputShape=e;let r="";typeof n=="number"?r="float outputValue = ".concat(n.toFixed(2),";"):r="\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(r,"\n          if(coordX >= 0 && coordX < ").concat(o," && coordY >= 0 && coordY < ").concat(i,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DRe={kernelName:xE,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:i}=t,{radians:o,fillValue:r,center:s}=e,a=n,l=new ORe(i.shape,r),[c,u]=SI(s,i.shape[1],i.shape[2]),d=[[c,u,Math.sin(o),Math.cos(o)]];return a.runWebGLProgram(l,[i],i.dtype,d)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RRe="\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n",LRe=zt({opSnippet:RRe}),zRe={kernelName:Og,backendName:"webgl",kernelFunc:LRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FRe="return inversesqrt(x);",PRe=zt({opSnippet:FRe,cpuKernelImpl:Z_e}),BRe={kernelName:Dg,backendName:"webgl",kernelFunc:PRe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class E_{constructor(e,n,i,o,r,s,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=s;const c=qt(r.length),u=qt(s.length);let d="";i===1?d="i":i===2&&(d="i, j");const h="getIndices(".concat(d,")");let p="";o===1?p="i":o===2&&(p="i, coords[1]");const f="getUpdates(".concat(p,")");let m="";l&&(m="coords[0], coords[1]");const b="getDefaultValue(".concat(m,")"),g=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(c," strides = ").concat(c,"(").concat(r,");\n\n        void main() {\n          ").concat(u," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(e,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(h,");\n              flattenedIndex += index * ").concat(g,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(f,";\n              found = true;\n            }\n          }\n          setOutput(mix(").concat(b,", sum, float(found)));\n        }\n      ")}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MRe{constructor(e,n,i,o,r,s,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=s;const c=qt(r.length),u=qt(s.length);let d="";i===1?d="i":i===2&&(d="i, j");const h="getIndices(".concat(d,")");let p="";o===1?p="i":o===2&&(p="i, coords[1]");const f="getUpdates(".concat(p,")");let m="";l&&(m="coords[0], coords[1]");const b="getDefaultValue(".concat(m,")"),g=n>1?"strides[j]":"strides",x=n>1?"strides[j + 1]":"strides";this.userCode="\n        ".concat(c," strides = ").concat(c,"(").concat(r,");\n\n        void main() {\n          ").concat(u," coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ").concat(e,"; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ").concat(n,"; j+=2) {\n              ivec4 index = round(").concat(h,");\n              flattenedIndex += index.xz * ").concat(g,";\n              if (j + 1 < ").concat(n,") {\n                flattenedIndex += index.yw * ").concat(x,";\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ").concat(f,";\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(").concat(b,", sum, found));\n        }\n      ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jRe(t){const{inputs:e,backend:n,attrs:i}=t,{indices:o,updates:r}=e,{shape:s}=i,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=sd(r,o,s),h=[d/c,c];if(d===0)return n.makeTensorInfo(s,o.dtype);const p=Be({inputs:{x:o},backend:n,attrs:{shape:[l,a]}}),f=Be({inputs:{x:r},backend:n,attrs:{shape:[l,c]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let b;pe().getBool("WEBGL_PACK")?b=new MRe(l,a,p.shape.length,f.shape.length,u,h):b=new E_(l,a,p.shape.length,f.shape.length,u,h);const g=n.runWebGLProgram(b,[f,p,m],f.dtype),x=Be({inputs:{x:g},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),x}const URe={kernelName:nE,backendName:"webgl",kernelFunc:jRe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class VRe{constructor(e,n,i,o){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,i];const r="while (left < right) {",s="for (int i = 0; i < ".concat(Math.ceil(Math.log2(n+1)),"; ++i) { if (left >= right) break;"),a=pe().getNumber("WEBGL_VERSION")===2?r:s,l=o==="left"?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(a,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(l," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HRe(t){const{inputs:e,backend:n,attrs:i}=t,{sortedSequence:o,values:r}=e,{side:s}=i,a=new VRe(o.shape[0],o.shape[1],r.shape[1],s),l=[[o.shape[1]]];return n.runWebGLProgram(a,[o,r],"int32",l)}const WRe={kernelName:oE,backendName:"webgl",kernelFunc:HRe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GRe{constructor(e,n,i){this.variableNames=["c","a","b"],this.outputShape=n;let o,r;if(i>4)throw Error("Where for rank ".concat(i," is not yet supported"));if(i===1)r="resRC",o="resRC";else{const a=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],c=[];for(let u=0;u<n.length;u++)c.push("".concat(a[u])),u<e&&l.push("".concat(a[u]));o=l.join(),r=c.join()}const s=qt(i);this.userCode="\n      void main() {\n        ".concat(s," resRC = getOutputCoords();\n        float cVal = getC(").concat(o,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(r,"));\n        } else {\n          setOutput(getB(").concat(r,"));\n        }\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qRe(t){const{inputs:e,backend:n}=t,{condition:i,t:o,e:r}=e,s=new GRe(i.shape.length,o.shape,o.shape.length);return n.runWebGLProgram(s,[i,o,r],Go(o.dtype,r.dtype))}const KRe={kernelName:Tv,backendName:"webgl",kernelFunc:qRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XRe="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(sw,";\n  float scale = ").concat(aw,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n"),YRe=zt({opSnippet:XRe}),ZRe={kernelName:Rg,backendName:"webgl",kernelFunc:YRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JRe=$p+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",QRe="\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",e8e=zt({opSnippet:JRe,packedOpSnippet:QRe,cpuKernelImpl:Q_e}),t8e={kernelName:Pg,backendName:"webgl",kernelFunc:e8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n8e="\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n",i8e=zt({opSnippet:n8e}),o8e={kernelName:Fg,backendName:"webgl",kernelFunc:i8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r8e=$p+"\n  return sin(x);\n",s8e="\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(dd,"\n  return result;\n"),a8e=zt({opSnippet:r8e,packedOpSnippet:s8e}),l8e={kernelName:Lg,backendName:"webgl",kernelFunc:a8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c8e="\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n",u8e=zt({opSnippet:c8e}),d8e={kernelName:zg,backendName:"webgl",kernelFunc:u8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h8e="\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n",p8e=zt({opSnippet:h8e}),f8e={kernelName:Bg,backendName:"webgl",kernelFunc:p8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m8e=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{blockShape:r,paddings:s}=i;M(o.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const a=r.reduce((g,x)=>g*x),l=[[0,0]];l.push(...s);for(let g=1+r.length;g<o.shape.length;++g)l.push([0,0]);const c=[],u=EU({inputs:{x:o},backend:n,attrs:{paddings:l,constantValue:0}}),d=t0(u.shape,r,a,!1),h=n0(d.length,r.length,!1),p=i0(u.shape,r,a,!1),f=Be({inputs:{x:u},backend:n,attrs:{shape:d}}),m=lo({inputs:{x:f},backend:n,attrs:{perm:h}}),b=Be({inputs:{x:m},backend:n,attrs:{shape:p}});return c.push(u),c.push(f),c.push(m),c.forEach(g=>n.disposeIntermediateTensorInfo(g)),b},g8e={kernelName:_v,backendName:"webgl",kernelFunc:m8e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b8e(t){const{inputs:e,backend:n}=t,{indices:i,values:o,denseShape:r,defaultValue:s}=e;if(r.shape.length!==1)throw new Error("Dense shape must be a vector, saw:\n         ".concat(r.shape));if(i.shape.length!==2)throw new Error("Indices must be a matrix, saw:\n         ".concat(i.shape));if(o.shape.length!==1)throw new Error("Values must be a vector, saw:\n         ".concat(o.shape));if(s.shape.length!==0)throw new Error("Default value must be a scalar, saw:\n        ".concat(s.shape));const a=n.readSync(i.dataId),l=n.readSync(o.dataId),c=n.readSync(r.dataId),u=n.readSync(s.dataId)[0],[d,h,p,f,m]=t$e(a,i.shape,i.dtype,l,o.dtype,c,u);return[n.makeTensorInfo(h,i.dtype,d),n.makeTensorInfo([h[0]],o.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map(b=>Number(b)))),n.makeTensorInfo([m.length],i.dtype,new Int32Array(m))]}const x8e={kernelName:rE,backendName:"webgl",kernelFunc:b8e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y8e(t){const{inputs:e,backend:n}=t,{inputIndices:i,inputShape:o,newShape:r}=e;if(i.shape.length!==2)throw new Error("Input indices should be a matrix but received shape ".concat(i.shape));if(o.shape.length!==1)throw new Error("Input shape should be a vector but received shape ".concat(o.shape));if(r.shape.length!==1)throw new Error("Target shape should be a vector but received shape ".concat(r.shape));const s=Array.from(n.readSync(o.dataId)),a=n.readSync(i.dataId),l=Array.from(n.readSync(r.dataId)),[c,u,d]=n$e(a,i.shape,i.dtype,s,l);return[n.makeTensorInfo(u,i.dtype,c),n.makeTensorInfo([d.length],r.dtype,new Int32Array(d))]}const v8e={kernelName:sE,backendName:"webgl",kernelFunc:y8e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w8e(t){const{inputs:e,backend:n}=t,{data:i,indices:o,segmentIds:r}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.shape.length!==1)throw new Error("Indices should be a vector but received shape\n              ".concat(o.shape));if(r.shape.length!==1)throw new Error("Segment ids should be a vector but received shape\n              ".concat(r.shape));const s=n.readSync(i.dataId),a=n.readSync(o.dataId),l=n.readSync(r.dataId),[c,u]=Zj(s,i.shape,i.dtype,a,l,!0);return n.makeTensorInfo(u,i.dtype,c)}const k8e={kernelName:aE,backendName:"webgl",kernelFunc:w8e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S8e(t){const{inputs:e,backend:n}=t,{data:i,indices:o,segmentIds:r}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.shape.length!==1)throw new Error("Indices should be a vector but received shape\n             ".concat(o.shape));if(r.shape.length!==1)throw new Error("Segment ids should be a vector but received shape\n             ".concat(r.shape));const s=n.readSync(i.dataId),a=n.readSync(o.dataId),l=n.readSync(r.dataId),[c,u]=Zj(s,i.shape,i.dtype,a,l);return n.makeTensorInfo(u,i.dtype,c)}const C8e={kernelName:lE,backendName:"webgl",kernelFunc:S8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T8e(t){const{inputs:e,backend:n,attrs:i}=t,{sparseIndices:o,sparseValues:r,defaultValue:s}=e,{outputShape:a}=i,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:h}=sd(r,o,a),p=!1;if(r.dtype==="string"){const g=n.bufferSync(o),x=n.bufferSync(r),y=ec(n.readSync(s.dataId)[0]),v=J_e(g,x,a,h,u,c,l,d,y,p);return n.makeTensorInfo(a,v.dtype,v.values)}const f=new E_(c,l,o.shape.length,r.shape.length,d,[h,1],p),m=n.runWebGLProgram(f,[r,o,s],r.dtype),b=Be({inputs:{x:m},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(m),b}const E8e={kernelName:cE,backendName:"webgl",kernelFunc:T8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I8e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{numOrSizeSplits:r,axis:s}=i,a=Et(s,o.shape)[0],l=PI(o,r,a),c=o.shape.length,u=new Array(c).fill(0),d=o.shape.slice();return l.map(h=>{const p=[...d];p[a]=h;const f=Ap({inputs:{x:o},backend:n,attrs:{begin:u,size:p}});return u[a]+=h,f})}const _8e={kernelName:$v,backendName:"webgl",kernelFunc:I8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lO="return sqrt(x);",$8e=zt({opSnippet:lO,packedOpSnippet:lO,cpuKernelImpl:i$e}),A8e={kernelName:Mg,backendName:"webgl",kernelFunc:$8e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N8e="return x * x;",O8e=zt({opSnippet:N8e}),D8e={kernelName:uE,backendName:"webgl",kernelFunc:O8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cO="return (a - b) * (a - b);",R8e=Bi({opSnippet:cO,packedOpSnippet:cO}),L8e={kernelName:jg,backendName:"webgl",kernelFunc:R8e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z8e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");const r=n.readSync(o.dataId),s=Xa(r),a=o$e(s,"string",i);return n.makeTensorInfo(o.shape,"string",a)}const F8e={kernelName:Nv,backendName:"webgl",kernelFunc:z8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P8e({inputs:t,attrs:e,backend:n}){const{x:i}=t,o=ls+"\n    return x > 0.0 ? 1.0 : float(".concat(e.alpha,");\n  "),r=new Gs(i.shape,o);return n.runWebGLProgram(r,[i],i.dtype)}const B8e={kernelName:Gg,backendName:"webgl",kernelFunc:P8e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class M8e{constructor(e,n,i){this.variableNames=["x"],this.outputShape=i;const o=i.length,r=qt(i.length),s=qt(i.length);let a="";if(o===1)a="coords * strides + begin";else{let l=0;a=i.map((c,u)=>(l++,i.length===1?"coords * strides[".concat(u,"] + begin[").concat(u,"]"):"coords[".concat(l-1,"] * strides[").concat(u,"] + begin[").concat(u,"]"))).join(",")}this.userCode="\n      ".concat(r," begin = ").concat(r,"(").concat(e,");\n      ").concat(r," strides = ").concat(r,"(").concat(n,");\n\n      void main() {\n        ").concat(s," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j8e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{begin:r,end:s,strides:a,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=i,{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:b,isSimpleSlice:g,begin:x,end:y,strides:v}=vI(o.shape,r,s,a,l,c,u,d,h);let w;if(m)w=Be({inputs:{x:o},backend:n,attrs:{shape:f}});else if(b||g){M(o.shape.length>=1,()=>"Input must have rank at least 1, got: ".concat(o.shape.length));const S=bI(x,y,v),E=Ap({inputs:{x:o},backend:n,attrs:{begin:x,size:S}});w=Be({inputs:{x:E},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(E)}else if(n.shouldExecuteOnCPU([o])){const E=n.readSync(o.dataId),I=xt(o.shape,o.dtype,E),N=r$e(p,I,v,x);w=n.makeTensorInfo(f,o.dtype,N.values)}else{const E=new M8e(x,v,p);w=n.runWebGLProgram(E,[o],o.dtype)}const C=Be({inputs:{x:w},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(w),C}const U8e={kernelName:dE,backendName:"webgl",kernelFunc:j8e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V8e(t){const{inputs:e,backend:n,attrs:i}=t,{separator:o,nGramWidths:r,leftPad:s,rightPad:a,padWidth:l,preserveShortSequences:c}=i,{data:u,dataSplits:d}=e,h=n.readSync(u.dataId),p=n.readSync(d.dataId),[f,m]=s$e(h,p,o,r,s,a,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}const H8e={kernelName:hE,backendName:"webgl",kernelFunc:V8e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W8e(t){const{inputs:e,backend:n,attrs:i}=t,{skipEmpty:o}=i,{input:r,delimiter:s}=e;if(r.dtype!=="string")throw new Error("Input must be of datatype string");if(r.shape.length!==1)throw new Error("Input must be a vector, got shape: ".concat(r.shape));if(s.shape.length!==0)throw new Error("Delimiter must be a scalar, got shape: ".concat(s.shape));const a=n.readSync(r.dataId),l=n.readSync(s.dataId)[0],[c,u,d]=a$e(a,l,o),h=u.length;return[n.makeTensorInfo([h,2],"int32",c),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const G8e={kernelName:pE,backendName:"webgl",kernelFunc:W8e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q8e(t){const{inputs:e,backend:n,attrs:i}=t,{numBuckets:o}=i,{input:r}=e;if(r.dtype!=="string")throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const s=n.readSync(r.dataId),a=l$e(s,o);return n.makeTensorInfo(r.shape,"int32",a)}const K8e={kernelName:fE,backendName:"webgl",kernelFunc:q8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X8e="return tan(x);",Y8e=zt({opSnippet:X8e}),Z8e={kernelName:Vg,backendName:"webgl",kernelFunc:Y8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J8e="\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n",Q8e=zt({opSnippet:J8e}),e7e={kernelName:Hg,backendName:"webgl",kernelFunc:Q8e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t7e(t){const{inputs:e,backend:n,attrs:i}=t,{tensor:o,indices:r,updates:s}=e,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=sd(s,r,o.shape),h=[d/c,c];if(d===0)return n.makeTensorInfo(o.shape,r.dtype);const p=Be({inputs:{x:r},backend:n,attrs:{shape:[l,a]}}),f=Be({inputs:{x:s},backend:n,attrs:{shape:[l,c]}}),m=Be({inputs:{x:o},backend:n,attrs:{shape:h}}),b=new E_(l,a,p.shape.length,f.shape.length,u,h,!1,!0),g=n.runWebGLProgram(b,[f,p,m],m.dtype),x=Be({inputs:{x:g},backend:n,attrs:{shape:o.shape}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),x}const n7e={kernelName:iE,backendName:"webgl",kernelFunc:t7e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class i7e{constructor(e,n){this.variableNames=["A"];const i=new Array(e.length);for(let s=0;s<i.length;s++)i[s]=e[s]*n[s];this.outputShape=i,this.rank=i.length;const o=qt(this.rank),r=o7e(e);this.userCode="\n      void main() {\n        ".concat(o," resRC = getOutputCoords();\n        setOutput(getA(").concat(r,"));\n      }\n    ")}}function o7e(t){const e=t.length;if(e>5)throw Error("Tile for rank ".concat(e," is not yet supported"));if(e===1)return"imod(resRC, ".concat(t[0],")");const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],i=[];for(let o=0;o<t.length;o++)i.push("imod(".concat(n[o],", ").concat(t[o],")"));return i.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _U(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{reps:r}=i;if(o.dtype==="string"||o.shape.length>5){const l=n.readSync(o.dataId),c=o.dtype==="string"?l.map(h=>ec(h)):l,u=xt(o.shape,o.dtype,c),d=u$e(u,r);return n.makeTensorInfo(d.shape,d.dtype,d.values)}const s=new i7e(o.shape,r);return n.runWebGLProgram(s,[o],o.dtype)}const r7e={kernelName:Wg,backendName:"webgl",kernelFunc:_U};class s7e{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class a7e{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pc(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function uO(t){let e=1;for(;e<t;)e*=2;return e}function l7e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o}=e,{k:r,sorted:s}=i,a=pe().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=pe().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=o.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([o])||u<a||r>l){const N=n.readSync(o.dataId),[B,D]=d$e(N,c,o.dtype,r,s);return[n.makeTensorInfo(B.shape,B.dtype,B.values),n.makeTensorInfo(D.shape,D.dtype,D.values)]}if(r===0)return c[c.length-1]=0,[n.makeTensorInfo(c,o.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(u===1)return[o,b0({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const d=n.texData.get(o.dataId),h=d!==null&&d.isPacked,p=h?n.unpackTensor(o):o,m=ge(c)/u,b=Be({inputs:{x:p},attrs:{shape:[m,u]},backend:n});h&&Pc(n,p);const g=uO(r),x=uO(u);let y=null;const v=()=>y===null?[b,b]:[b,y],w=(N,B,D)=>{const P=v(),_=new s7e(D),z=[[u],[y===null?1:0],[Number.NEGATIVE_INFINITY],[N],[B]],V=y;y=n.runWebGLProgram(_,P,"int32",z),Pc(n,V)};for(let N=1;N<g;N*=2){const B=N*2;for(let D=N;D>=1;D/=2)w(B,D,[m,x])}for(let N=x;N>g;N/=2){const B=v(),D=new a7e([m,N/2]),_=[[u],[y===null?1:0],[g]],L=y;y=n.runWebGLProgram(D,B,"int32",_),Pc(n,L);const z=g/2,V=z*2;for(let q=z;q>=1;q/=2)w(V,q,y.shape)}let C=y;y=Ap({inputs:{x:y},backend:n,attrs:{begin:0,size:[m,r]}}),Pc(n,C);let S=vU({inputs:{x:b,indices:y},backend:n,attrs:{axis:1,batchDims:1}});Pc(n,b);const E=c.slice(0,-1);E.push(r),C=y,y=Be({inputs:{x:y},attrs:{shape:E},backend:n}),Pc(n,C);const I=S;return S=Be({inputs:{x:S},attrs:{shape:E},backend:n}),Pc(n,I),[S,y]}const c7e={kernelName:mE,backendName:"webgl",kernelFunc:l7e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class u7e{constructor(e,n,i,o,r,s){this.variableNames=["Image","Transforms"],this.outputShape=s;const a=i==="nearest"?1:2;let l;switch(o){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(l," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(l," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(l," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(e," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(r,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(r,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(e,"));\n\n                if (").concat(a," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d7e(t){const{inputs:e,backend:n,attrs:i}=t,{image:o,transforms:r}=e,{interpolation:s,fillMode:a,fillValue:l,outputShape:c}=i,[u,d,h,p]=o.shape,[f,m]=c!=null?c:[d,h],b=[u,f,m,p],g=new u7e(d,h,s,a,l,b);return n.runWebGLProgram(g,[o,r],"float32")}const h7e={kernelName:gE,backendName:"webgl",kernelFunc:d7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p7e(t){const{inputs:e,attrs:n,backend:i}=t,{axis:o}=n,{x:r}=e;f0(r,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const s=i.readSync(r.dataId),{outputValues:a,outputShape:l,indices:c}=h$e(s,o,r.shape,r.dtype);return[i.makeTensorInfo(l,r.dtype,a),i.makeTensorInfo([c.length],"int32",c)]}const f7e={kernelName:bE,backendName:"webgl",kernelFunc:p7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m7e(t){const{inputs:e,backend:n,attrs:i}=t,{value:o}=e;let{axis:r}=i;r<0&&(r+=o.shape.length);const s=o,a=s.shape.length,l=o.shape[r],c=new Array(a-1);let u=0;for(let m=0;m<a;m++)m!==r&&(c[u++]=s.shape[m]);const d=[],h=new Array(a).fill(0),p=s.shape.slice();p[r]=1;const f=new Array(l);for(let m=0;m<f.length;m++){h[r]=m;const b=Ap({inputs:{x:s},backend:n,attrs:{begin:h,size:p}}),g=Be({inputs:{x:b},backend:n,attrs:{shape:c}});f[m]=g,d.push(b)}return d.forEach(m=>n.disposeIntermediateTensorInfo(m)),f}const g7e={kernelName:Ov,backendName:"webgl",kernelFunc:m7e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class b7e{constructor(e,n){this.variableNames=["x","segmentIds"];const i=e.windowSize,o=e.batchSize,r=e.inSize,s=e.numSegments,a=s*Math.ceil(r/i);this.outputShape=[o,a];const l="0.0",c="sumValue",u=Math.floor(i/4)*4,d=i%4,h="\n        sumValue += dot(values, segFilter);\n    ";let p="";r%i>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(r,") {\n          return initializationValue;\n        }\n      "));let f="";r%i>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(r,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(l,";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(p,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(f,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(s,")) * float(").concat(i,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(s,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(h,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(d===1,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(h,"\n        } else if (").concat(d===2,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(h,"\n        } else if (").concat(d===3,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(h,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x7e(t){const{inputs:e,backend:n,attrs:i}=t,{x:o,segmentIds:r}=e,{numSegments:s}=i,a=o.shape.length,l=[];let c=0;const u=En([c],a);let d=o;u!=null&&(d=lo({inputs:{x:o},backend:n,attrs:{perm:u}}),l.push(d),c=jn(1,a)[0]);const h=sP(d.shape,c,s),p=ge([d.shape[c]]),f=Be({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}});l.push(f);const m=vE(o.dtype),b=(v,w,C,S,E)=>{const I=v.shape[0],N=v.shape[1],B=rP(N,E),D={windowSize:B,inSize:N,batchSize:I,numSegments:E},P=new b7e(D,w),_=n.compileAndRun(P,[v,C],S);if(l.push(_),_.shape[1]===E)return _;const L=IU({backend:n,attrs:{start:0,stop:E,step:1,dtype:"float32"}}),z=_U({inputs:{x:L},backend:n,attrs:{reps:[N/B]}});return l.push(L),l.push(z),b(_,w,z,S,E)},g=b(f,"unsortedSegmentSum",r,m,s),x=Be({inputs:{x:g},backend:n,attrs:{shape:h}});let y=x;if(u!=null){l.push(x);const v=Sc(u);y=lo({inputs:{x:y},backend:n,attrs:{perm:v}})}return l.forEach(v=>n.disposeIntermediateTensorInfo(v)),y}const y7e={kernelName:Dv,backendName:"webgl",kernelFunc:x7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v7e=[i5e,r5e,l5e,d5e,p5e,g5e,x5e,v5e,C5e,E5e,$5e,O5e,L5e,B5e,U5e,H5e,G5e,Y5e,J5e,e6e,o6e,d6e,p6e,b6e,y6e,T6e,I6e,N6e,M$e,R6e,B6e,V6e,X6e,J6e,eAe,nAe,oAe,lAe,dAe,fAe,gAe,xAe,vAe,SAe,TAe,$Ae,NAe,RAe,FAe,BAe,VAe,qAe,ZAe,eNe,iNe,oNe,sNe,lNe,uNe,hNe,fNe,xNe,wNe,CNe,ENe,$Ne,ONe,zNe,MNe,B$e,UNe,F6e,WNe,KNe,ZNe,U$e,tOe,rOe,aOe,dOe,fOe,xOe,wOe,TOe,$Oe,OOe,ROe,POe,MOe,UOe,GOe,KOe,YOe,JOe,eDe,oDe,lDe,hDe,vDe,W$e,CDe,IDe,ADe,DDe,w6e,zDe,PDe,MDe,VDe,qDe,H$e,XDe,ZDe,QDe,tRe,nRe,k6e,gDe,rRe,cRe,pRe,q$e,bRe,vRe,CRe,IRe,NRe,DRe,zRe,BRe,URe,WRe,KRe,ZRe,t8e,o8e,l8e,d8e,c6e,xDe,f8e,g8e,x8e,v8e,k8e,C8e,E8e,_8e,A8e,D8e,L8e,F8e,B8e,U8e,H8e,G8e,K8e,bDe,e5e,Z8e,e7e,n7e,r7e,c7e,h7e,t5e,f7e,g7e,y7e,FDe];for(const t of v7e)EL(t);var w7e={};(function(){var t;function e(k){var A=0;return function(){return A<k.length?{done:!1,value:k[A++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(k,A,R){return k==Array.prototype||k==Object.prototype||(k[A]=R.value),k};function i(k){k=[typeof globalThis=="object"&&globalThis,k,typeof window=="object"&&window,typeof self=="object"&&self,typeof dn=="object"&&dn];for(var A=0;A<k.length;++A){var R=k[A];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var o=i(this);function r(k,A){if(A)e:{var R=o;k=k.split(".");for(var H=0;H<k.length-1;H++){var J=k[H];if(!(J in R))break e;R=R[J]}k=k[k.length-1],H=R[k],A=A(H),A!=H&&A!=null&&n(R,k,{configurable:!0,writable:!0,value:A})}}r("Symbol",function(k){function A(ue){if(this instanceof A)throw new TypeError("Symbol is not a constructor");return new R(H+(ue||"")+"_"+J++,ue)}function R(ue,ne){this.g=ue,n(this,"description",{configurable:!0,writable:!0,value:ne})}if(k)return k;R.prototype.toString=function(){return this.g};var H="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",J=0;return A}),r("Symbol.iterator",function(k){if(k)return k;k=Symbol("Symbol.iterator");for(var A="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),R=0;R<A.length;R++){var H=o[A[R]];typeof H=="function"&&typeof H.prototype[k]!="function"&&n(H.prototype,k,{configurable:!0,writable:!0,value:function(){return s(e(this))}})}return k});function s(k){return k={next:k},k[Symbol.iterator]=function(){return this},k}function a(k){var A=typeof Symbol<"u"&&Symbol.iterator&&k[Symbol.iterator];return A?A.call(k):{next:e(k)}}function l(k){if(!(k instanceof Array)){k=a(k);for(var A,R=[];!(A=k.next()).done;)R.push(A.value);k=R}return k}var c=typeof Object.create=="function"?Object.create:function(k){function A(){}return A.prototype=k,new A},u;if(typeof Object.setPrototypeOf=="function")u=Object.setPrototypeOf;else{var d;e:{var h={a:!0},p={};try{p.__proto__=h,d=p.a;break e}catch(k){}d=!1}u=d?function(k,A){if(k.__proto__=A,k.__proto__!==A)throw new TypeError(k+" is not extensible");return k}:null}var f=u;function m(k,A){if(k.prototype=c(A.prototype),k.prototype.constructor=k,f)f(k,A);else for(var R in A)if(R!="prototype")if(Object.defineProperties){var H=Object.getOwnPropertyDescriptor(A,R);H&&Object.defineProperty(k,R,H)}else k[R]=A[R];k.na=A.prototype}function b(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function g(k){if(k.l)throw new TypeError("Generator is already running");k.l=!0}b.prototype.s=function(k){this.h=k};function x(k,A){k.j={da:A,ea:!0},k.g=k.o||k.u}b.prototype.return=function(k){this.j={return:k},this.g=this.u};function y(k,A,R){return k.g=R,{value:A}}function v(k){this.g=new b,this.h=k}function w(k,A){g(k.g);var R=k.g.i;return R?C(k,"return"in R?R.return:function(H){return{value:H,done:!0}},A,k.g.return):(k.g.return(A),S(k))}function C(k,A,R,H){try{var J=A.call(k.g.i,R);if(!(J instanceof Object))throw new TypeError("Iterator result "+J+" is not an object");if(!J.done)return k.g.l=!1,J;var ue=J.value}catch(ne){return k.g.i=null,x(k.g,ne),S(k)}return k.g.i=null,H.call(k.g,ue),S(k)}function S(k){for(;k.g.g;)try{var A=k.h(k.g);if(A)return k.g.l=!1,{value:A.value,done:!1}}catch(R){k.g.h=void 0,x(k.g,R)}if(k.g.l=!1,k.g.j){if(A=k.g.j,k.g.j=null,A.ea)throw A.da;return{value:A.return,done:!0}}return{value:void 0,done:!0}}function E(k){this.next=function(A){return g(k.g),k.g.i?A=C(k,k.g.i.next,A,k.g.s):(k.g.s(A),A=S(k)),A},this.throw=function(A){return g(k.g),k.g.i?A=C(k,k.g.i.throw,A,k.g.s):(x(k.g,A),A=S(k)),A},this.return=function(A){return w(k,A)},this[Symbol.iterator]=function(){return this}}function I(k){function A(H){return k.next(H)}function R(H){return k.throw(H)}return new Promise(function(H,J){function ue(ne){ne.done?H(ne.value):Promise.resolve(ne.value).then(A,R).then(ue,J)}ue(k.next())})}function N(k){return I(new E(new v(k)))}r("Promise",function(k){function A(ne){this.h=0,this.i=void 0,this.g=[],this.s=!1;var fe=this.j();try{ne(fe.resolve,fe.reject)}catch(ve){fe.reject(ve)}}function R(){this.g=null}function H(ne){return ne instanceof A?ne:new A(function(fe){fe(ne)})}if(k)return k;R.prototype.h=function(ne){if(this.g==null){this.g=[];var fe=this;this.i(function(){fe.l()})}this.g.push(ne)};var J=o.setTimeout;R.prototype.i=function(ne){J(ne,0)},R.prototype.l=function(){for(;this.g&&this.g.length;){var ne=this.g;this.g=[];for(var fe=0;fe<ne.length;++fe){var ve=ne[fe];ne[fe]=null;try{ve()}catch(Le){this.j(Le)}}}this.g=null},R.prototype.j=function(ne){this.i(function(){throw ne})},A.prototype.j=function(){function ne(Le){return function(Ze){ve||(ve=!0,Le.call(fe,Ze))}}var fe=this,ve=!1;return{resolve:ne(this.D),reject:ne(this.l)}},A.prototype.D=function(ne){if(ne===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(ne instanceof A)this.H(ne);else{e:switch(typeof ne){case"object":var fe=ne!=null;break e;case"function":fe=!0;break e;default:fe=!1}fe?this.A(ne):this.o(ne)}},A.prototype.A=function(ne){var fe=void 0;try{fe=ne.then}catch(ve){this.l(ve);return}typeof fe=="function"?this.I(fe,ne):this.o(ne)},A.prototype.l=function(ne){this.u(2,ne)},A.prototype.o=function(ne){this.u(1,ne)},A.prototype.u=function(ne,fe){if(this.h!=0)throw Error("Cannot settle("+ne+", "+fe+"): Promise already settled in state"+this.h);this.h=ne,this.i=fe,this.h===2&&this.G(),this.B()},A.prototype.G=function(){var ne=this;J(function(){if(ne.C()){var fe=o.console;typeof fe<"u"&&fe.error(ne.i)}},1)},A.prototype.C=function(){if(this.s)return!1;var ne=o.CustomEvent,fe=o.Event,ve=o.dispatchEvent;return typeof ve>"u"?!0:(typeof ne=="function"?ne=new ne("unhandledrejection",{cancelable:!0}):typeof fe=="function"?ne=new fe("unhandledrejection",{cancelable:!0}):(ne=o.document.createEvent("CustomEvent"),ne.initCustomEvent("unhandledrejection",!1,!0,ne)),ne.promise=this,ne.reason=this.i,ve(ne))},A.prototype.B=function(){if(this.g!=null){for(var ne=0;ne<this.g.length;++ne)ue.h(this.g[ne]);this.g=null}};var ue=new R;return A.prototype.H=function(ne){var fe=this.j();ne.M(fe.resolve,fe.reject)},A.prototype.I=function(ne,fe){var ve=this.j();try{ne.call(fe,ve.resolve,ve.reject)}catch(Le){ve.reject(Le)}},A.prototype.then=function(ne,fe){function ve(ht,et){return typeof ht=="function"?function(wt){try{Le(ht(wt))}catch(Mt){Ze(Mt)}}:et}var Le,Ze,dt=new A(function(ht,et){Le=ht,Ze=et});return this.M(ve(ne,Le),ve(fe,Ze)),dt},A.prototype.catch=function(ne){return this.then(void 0,ne)},A.prototype.M=function(ne,fe){function ve(){switch(Le.h){case 1:ne(Le.i);break;case 2:fe(Le.i);break;default:throw Error("Unexpected state: "+Le.h)}}var Le=this;this.g==null?ue.h(ve):this.g.push(ve),this.s=!0},A.resolve=H,A.reject=function(ne){return new A(function(fe,ve){ve(ne)})},A.race=function(ne){return new A(function(fe,ve){for(var Le=a(ne),Ze=Le.next();!Ze.done;Ze=Le.next())H(Ze.value).M(fe,ve)})},A.all=function(ne){var fe=a(ne),ve=fe.next();return ve.done?H([]):new A(function(Le,Ze){function dt(wt){return function(Mt){ht[wt]=Mt,et--,et==0&&Le(ht)}}var ht=[],et=0;do ht.push(void 0),et++,H(ve.value).M(dt(ht.length-1),Ze),ve=fe.next();while(!ve.done)})},A});function B(k,A){k instanceof String&&(k+="");var R=0,H=!1,J={next:function(){if(!H&&R<k.length){var ue=R++;return{value:A(ue,k[ue]),done:!1}}return H=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}var D=typeof Object.assign=="function"?Object.assign:function(k,A){for(var R=1;R<arguments.length;R++){var H=arguments[R];if(H)for(var J in H)Object.prototype.hasOwnProperty.call(H,J)&&(k[J]=H[J])}return k};r("Object.assign",function(k){return k||D}),r("Object.is",function(k){return k||function(A,R){return A===R?A!==0||1/A===1/R:A!==A&&R!==R}}),r("Array.prototype.includes",function(k){return k||function(A,R){var H=this;H instanceof String&&(H=String(H));var J=H.length;for(R=R||0,0>R&&(R=Math.max(R+J,0));R<J;R++){var ue=H[R];if(ue===A||Object.is(ue,A))return!0}return!1}}),r("String.prototype.includes",function(k){return k||function(A,R){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(A instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(A,R||0)!==-1}}),r("Array.prototype.keys",function(k){return k||function(){return B(this,function(A){return A})}});var P=this||self;function _(k,A){k=k.split(".");var R=P;k[0]in R||typeof R.execScript>"u"||R.execScript("var "+k[0]);for(var H;k.length&&(H=k.shift());)k.length||A===void 0?R[H]&&R[H]!==Object.prototype[H]?R=R[H]:R=R[H]={}:R[H]=A}function L(){throw Error("Invalid UTF8")}function z(k,A){return A=String.fromCharCode.apply(null,A),k==null?A:k+A}var V,q=typeof TextDecoder<"u",U,X=typeof TextEncoder<"u",G={},W=null;function le(k){var A;A===void 0&&(A=0),we(),A=G[A];for(var R=Array(Math.floor(k.length/3)),H=A[64]||"",J=0,ue=0;J<k.length-2;J+=3){var ne=k[J],fe=k[J+1],ve=k[J+2],Le=A[ne>>2];ne=A[(ne&3)<<4|fe>>4],fe=A[(fe&15)<<2|ve>>6],ve=A[ve&63],R[ue++]=Le+ne+fe+ve}switch(Le=0,ve=H,k.length-J){case 2:Le=k[J+1],ve=A[(Le&15)<<2]||H;case 1:k=k[J],R[ue]=A[k>>2]+A[(k&3)<<4|Le>>4]+ve+H}return R.join("")}function oe(k){var A=k.length,R=3*A/4;R%3?R=Math.floor(R):"=.".indexOf(k[A-1])!=-1&&(R="=.".indexOf(k[A-2])!=-1?R-2:R-1);var H=new Uint8Array(R),J=0;return ie(k,function(ue){H[J++]=ue}),J!==R?H.subarray(0,J):H}function ie(k,A){function R(ve){for(;H<k.length;){var Le=k.charAt(H++),Ze=W[Le];if(Ze!=null)return Ze;if(!/^[\s\xa0]*$/.test(Le))throw Error("Unknown base64 encoding at char: "+Le)}return ve}we();for(var H=0;;){var J=R(-1),ue=R(0),ne=R(64),fe=R(64);if(fe===64&&J===-1)break;A(J<<2|ue>>4),ne!=64&&(A(ue<<4&240|ne>>2),fe!=64&&A(ne<<6&192|fe))}}function we(){if(!W){W={};for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),A=["+/=","+/","-_=","-_.","-_"],R=0;5>R;R++){var H=k.concat(A[R].split(""));G[R]=H;for(var J=0;J<H.length;J++){var ue=H[J];W[ue]===void 0&&(W[ue]=J)}}}}var $e=typeof Uint8Array=="function";function _e(k){return $e&&k!=null&&k instanceof Uint8Array}var Oe;function We(k){if(this.L=k,k!==null&&k.length===0)throw Error("ByteString should be constructed with non-empty values")}var Ge=typeof Uint8Array.prototype.slice=="function",ot=0,st=0;function O(k,A){if(k.constructor===Uint8Array)return k;if(k.constructor===ArrayBuffer)return new Uint8Array(k);if(k.constructor===Array)return new Uint8Array(k);if(k.constructor===String)return oe(k);if(k.constructor===We)return!A&&(A=k.L)&&A.constructor===Uint8Array?A:(A=k.L,A=A==null||_e(A)?A:typeof A=="string"?oe(A):null,(k=k.L=A)?new Uint8Array(k):Oe||(Oe=new Uint8Array(0)));if(k instanceof Uint8Array)return new Uint8Array(k.buffer,k.byteOffset,k.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function me(k,A){return Error("Invalid wire type: "+k+" (at position "+A+")")}function he(){return Error("Failed to read varint, encoding is invalid.")}function Y(k,A){A=A===void 0?{}:A,A=A.v===void 0?!1:A.v,this.h=null,this.g=this.i=this.j=0,this.v=A,k&&K(this,k)}function K(k,A){k.h=O(A,k.v),k.j=0,k.i=k.h.length,k.g=k.j}Y.prototype.reset=function(){this.g=this.j};function se(k){if(k.g>k.i)throw Error("Tried to read past the end of the data "+k.g+" > "+k.i)}function ye(k){var A=k.h,R=A[k.g],H=R&127;if(128>R)return k.g+=1,se(k),H;if(R=A[k.g+1],H|=(R&127)<<7,128>R)return k.g+=2,se(k),H;if(R=A[k.g+2],H|=(R&127)<<14,128>R)return k.g+=3,se(k),H;if(R=A[k.g+3],H|=(R&127)<<21,128>R)return k.g+=4,se(k),H;if(R=A[k.g+4],k.g+=5,H|=(R&15)<<28,128>R)return se(k),H;if(128<=A[k.g++]&&128<=A[k.g++]&&128<=A[k.g++]&&128<=A[k.g++]&&128<=A[k.g++])throw he();return se(k),H}var Ce=[];function de(){this.g=[]}de.prototype.length=function(){return this.g.length},de.prototype.end=function(){var k=this.g;return this.g=[],k};function Ie(k,A){for(;127<A;)k.g.push(A&127|128),A>>>=7;k.g.push(A)}function Fe(k){var A={},R=A.W===void 0?!1:A.W;this.l={v:A.v===void 0?!1:A.v},this.W=R,A=this.l,Ce.length?(R=Ce.pop(),A&&(R.v=A.v),k&&K(R,k),k=R):k=new Y(k,A),this.g=k,this.j=this.g.g,this.h=this.i=-1}Fe.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};function Ne(k){var A=k.g;if(A.g==A.i)return!1;k.j=k.g.g;var R=ye(k.g)>>>0;if(A=R>>>3,R&=7,!(0<=R&&5>=R))throw me(R,k.j);if(1>A)throw Error("Invalid field number: "+A+" (at position "+k.j+")");return k.i=A,k.h=R,!0}function He(k){switch(k.h){case 0:if(k.h!=0)He(k);else e:{k=k.g;for(var A=k.g,R=A+10;A<R;)if(!(k.h[A++]&128)){k.g=A,se(k);break e}throw he()}break;case 1:k=k.g,k.g+=8,se(k);break;case 2:k.h!=2?He(k):(A=ye(k.g)>>>0,k=k.g,k.g+=A,se(k));break;case 5:k=k.g,k.g+=4,se(k);break;case 3:A=k.i;do{if(!Ne(k))throw Error("Unmatched start-group tag: stream EOF");if(k.h==4){if(k.i!=A)throw Error("Unmatched end-group tag");break}He(k)}while(!0);break;default:throw me(k.h,k.j)}}var mt=[];function ct(){this.i=[],this.h=0,this.g=new de}function Vt(k,A){A.length!==0&&(k.i.push(A),k.h+=A.length)}function ho(k,A){if(A=A.ba){Vt(k,k.g.end());for(var R=0;R<A.length;R++)Vt(k,A[R])}}var sn=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function $o(k,A){Object.isFrozen(k)||(sn?k[sn]|=A:k.N!==void 0?k.N|=A:Object.defineProperties(k,{N:{value:A,configurable:!0,writable:!0,enumerable:!1}}))}function Bt(k){var A;return sn?A=k[sn]:A=k.N,A==null?0:A}function Ao(k){return $o(k,1),k}function er(k){return Array.isArray(k)?!!(Bt(k)&2):!1}function po(k){if(!Array.isArray(k))throw Error("cannot mark non-array as immutable");$o(k,2)}function Ac(k){return k!==null&&typeof k=="object"&&!Array.isArray(k)&&k.constructor===Object}var ol=Object.freeze(Ao([]));function pd(k){if(er(k.m))throw Error("Cannot mutate an immutable Message")}var fd=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function Nc(k){return{value:k,configurable:!1,writable:!1,enumerable:!1}}function ri(k,A,R){return A===-1?null:A>=k.i?k.g?k.g[A]:void 0:R!==void 0&&R&&k.g&&(R=k.g[A],R!=null)?R:k.m[A+k.h]}function an(k,A,R,H){H=H===void 0?!1:H,pd(k),A<k.i&&!H?k.m[A+k.h]=R:(k.g||(k.g=k.m[k.i+k.h]={}))[A]=R}function x0(k,A,R,H){R=R===void 0?!0:R,H=H===void 0?!1:H;var J=ri(k,A,H);return J==null&&(J=ol),er(k.m)?R&&(po(J),Object.freeze(J)):(J===ol||er(J))&&(J=Ao(J.slice()),an(k,A,J,H)),J}function kr(k,A,R){return k=ri(k,A),k=k==null?k:+k,k==null?R===void 0?0:R:k}function md(k,A,R,H){k.j||(k.j={});var J=er(k.m),ue=k.j[R];if(!ue){H=x0(k,R,!0,H===void 0?!1:H),ue=[],J=J||er(H);for(var ne=0;ne<H.length;ne++)ue[ne]=new A(H[ne]),J&&po(ue[ne].m);J&&(po(ue),Object.freeze(ue)),k.j[R]=ue}return ue}function y0(k,A,R,H,J){var ue=ue===void 0?!1:ue;return pd(k),ue=md(k,R,A,ue),R=H||new R,k=x0(k,A),J!=null?(ue.splice(J,0,R),k.splice(J,0,R.m)):(ue.push(R),k.push(R.m)),R}function Oc(k,A){return k=ri(k,A),k==null?0:k}function v0(k,A){return k=ri(k,A),k==null?"":k}function w0(k){switch(typeof k){case"number":return isFinite(k)?k:String(k);case"object":if(k&&!Array.isArray(k)){if(_e(k))return le(k);if(k instanceof We){var A=k.L;return A=A==null||typeof A=="string"?A:$e&&A instanceof Uint8Array?le(A):null,(k.L=A)||""}}}return k}function rl(k){var A=Tw;return A=A===void 0?Ew:A,fo(k,A)}function Np(k,A){if(k!=null){if(Array.isArray(k))k=fo(k,A);else if(Ac(k)){var R={},H;for(H in k)R[H]=Np(k[H],A);k=R}else k=A(k);return k}}function fo(k,A){for(var R=k.slice(),H=0;H<R.length;H++)R[H]=Np(R[H],A);return Array.isArray(k)&&Bt(k)&1&&Ao(R),R}function Tw(k){return k&&typeof k=="object"&&k.toJSON?k.toJSON():(k=w0(k),Array.isArray(k)?rl(k):k)}function Ew(k){return _e(k)?new Uint8Array(k):k}function gd(k,A,R){k||(k=Op),Op=null;var H=this.constructor.h;k||(k=H?[H]:[]),this.h=(H?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=k;e:{if(H=this.m.length,k=H-1,H&&(H=this.m[k],Ac(H))){this.i=k-this.h,this.g=H;break e}A!==void 0&&-1<A?(this.i=Math.max(A,k+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE}if(R)for(A=0;A<R.length;A++)if(k=R[A],k<this.i)k+=this.h,(H=this.m[k])?Array.isArray(H)&&Ao(H):this.m[k]=ol;else{H=this.g||(this.g=this.m[this.i+this.h]={});var J=H[k];J?Array.isArray(J)&&Ao(J):H[k]=ol}}gd.prototype.toJSON=function(){return rl(this.m)},gd.prototype.toString=function(){return this.m.toString()};var Op;function bd(){gd.apply(this,arguments)}if(m(bd,gd),fd){var k0={};Object.defineProperties(bd,(k0[Symbol.hasInstance]=Nc(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),k0))}function S0(k,A,R){if(R){var H={},J;for(J in R){var ue=R[J],ne=ue.ha;ne||(H.F=ue.la||ue.fa.P,ue.aa?(H.U=qe(ue.aa),ne=function(fe){return function(ve,Le,Ze){return fe.F(ve,Le,Ze,fe.U)}}(H)):ue.ca?(H.T=vt(ue.X.g,ue.ca),ne=function(fe){return function(ve,Le,Ze){return fe.F(ve,Le,Ze,fe.T)}}(H)):ne=H.F,ue.ha=ne),ne(A,k,ue.X),H={F:H.F,U:H.U,T:H.T}}}ho(A,k)}var xd=Symbol();function Dp(k,A,R){return k[xd]||(k[xd]=function(H,J){return A(H,J,R)})}function C0(k){var A=k[xd];if(!A){var R=A_(k);A=function(H,J){return N_(H,J,R)},k[xd]=A}return A}function T0(k){var A=k.aa;if(A)return C0(A);if(A=k.ka)return Dp(k.X.g,A,k.ca)}function I_(k){var A=T0(k),R=k.X,H=k.fa.O;return A?function(J,ue){return H(J,ue,R,A)}:function(J,ue){return H(J,ue,R)}}function Iw(k,A,R,H,J,ue){k=k();var ne=0;for(k.length&&typeof k[0]!="number"&&(R(A,k[0]),ne++);ne<k.length;){R=k[ne++];for(var fe=ne+1;fe<k.length&&typeof k[fe]!="number";)fe++;var ve=k[ne++];switch(fe-=ne,fe){case 0:H(A,R,ve);break;case 1:H(A,R,ve,k[ne++]);break;case 2:J(A,R,ve,k[ne++],k[ne++]);break;case 3:fe=k[ne++];var Le=k[ne++],Ze=k[ne++];Array.isArray(Ze)?J(A,R,ve,fe,Le,Ze):ue(A,R,ve,fe,Le,Ze);break;case 4:ue(A,R,ve,k[ne++],k[ne++],k[ne++],k[ne++]);break;default:throw Error("unexpected number of binary field arguments: "+fe)}}return A}var xe=Symbol();function qe(k){var A=k[xe];if(!A){var R=__(k);A=function(H,J){return O_(H,J,R)},k[xe]=A}return A}function vt(k,A){var R=k[xe];return R||(R=function(H,J){return S0(H,J,A)},k[xe]=R),R}var kn=Symbol();function Mi(k,A){k.push(A)}function Sr(k,A,R){k.push(A,R.P)}function da(k,A,R,H,J){var ue=qe(J),ne=R.P;k.push(A,function(fe,ve,Le){return ne(fe,ve,Le,H,ue)})}function DU(k,A,R,H,J,ue){var ne=vt(H,ue),fe=R.P;k.push(A,function(ve,Le,Ze){return fe(ve,Le,Ze,H,ne)})}function __(k){var A=k[kn];return A||Iw(k,k[kn]=[],Mi,Sr,da,DU)}var $_=Symbol();function RU(k,A){k[0]=A}function LU(k,A,R,H){var J=R.O;k[A]=H?function(ue,ne,fe){return J(ue,ne,fe,H)}:J}function zU(k,A,R,H,J,ue){var ne=R.O,fe=C0(J);k[A]=function(ve,Le,Ze){return ne(ve,Le,Ze,H,fe,ue)}}function FU(k,A,R,H,J,ue,ne){var fe=R.O,ve=Dp(H,J,ue);k[A]=function(Le,Ze,dt){return fe(Le,Ze,dt,H,ve,ne)}}function A_(k){var A=k[$_];return A||Iw(k,k[$_]={},RU,LU,zU,FU)}function N_(k,A,R){for(;Ne(A)&&A.h!=4;){var H=A.i,J=R[H];if(!J){var ue=R[0];ue&&(ue=ue[H])&&(J=R[H]=I_(ue))}if((!J||!J(A,k,H))&&(J=A,H=k,ue=J.j,He(J),!J.W)){var ne=J.g.h;J=J.g.g,J=ue===J?Oe||(Oe=new Uint8Array(0)):Ge?ne.slice(ue,J):new Uint8Array(ne.subarray(ue,J)),(ue=H.ba)?ue.push(J):H.ba=[J]}}return k}function _w(k,A,R){if(mt.length){var H=mt.pop();k&&(K(H.g,k),H.i=-1,H.h=-1),k=H}else k=new Fe(k);try{return N_(new A,k,A_(R))}finally{A=k.g,A.h=null,A.j=0,A.i=0,A.g=0,A.v=!1,k.i=-1,k.h=-1,100>mt.length&&mt.push(k)}}function O_(k,A,R){for(var H=R.length,J=H%2==1,ue=J?1:0;ue<H;ue+=2)(0,R[ue+1])(A,k,R[ue]);S0(k,A,J?R[0]:void 0)}function $w(k,A){var R=new ct;O_(k,R,__(A)),Vt(R,R.g.end()),k=new Uint8Array(R.h),A=R.i;for(var H=A.length,J=0,ue=0;ue<H;ue++){var ne=A[ue];k.set(ne,J),J+=ne.length}return R.i=[k],k}function Rp(k,A){return{O:k,P:A}}var cs=Rp(function(k,A,R){if(k.h!==5)return!1;k=k.g;var H=k.h[k.g],J=k.h[k.g+1],ue=k.h[k.g+2],ne=k.h[k.g+3];return k.g+=4,se(k),J=(H<<0|J<<8|ue<<16|ne<<24)>>>0,k=2*(J>>31)+1,H=J>>>23&255,J&=8388607,an(A,R,H==255?J?NaN:1/0*k:H==0?k*Math.pow(2,-149)*J:k*Math.pow(2,H-150)*(J+Math.pow(2,23))),!0},function(k,A,R){if(A=ri(A,R),A!=null){Ie(k.g,8*R+5),k=k.g;var H=A;H=(R=0>H?1:0)?-H:H,H===0?0<1/H?ot=st=0:(st=0,ot=2147483648):isNaN(H)?(st=0,ot=2147483647):34028234663852886e22<H?(st=0,ot=(R<<31|2139095040)>>>0):11754943508222875e-54>H?(H=Math.round(H/Math.pow(2,-149)),st=0,ot=(R<<31|H)>>>0):(A=Math.floor(Math.log(H)/Math.LN2),H*=Math.pow(2,-A),H=Math.round(8388608*H),16777216<=H&&++A,st=0,ot=(R<<31|A+127<<23|H&8388607)>>>0),R=ot,k.g.push(R>>>0&255),k.g.push(R>>>8&255),k.g.push(R>>>16&255),k.g.push(R>>>24&255)}}),PU=Rp(function(k,A,R){if(k.h!==0)return!1;for(var H=k.g,J=128,ue=0,ne=k=0;4>ne&&128<=J;ne++)J=H.h[H.g++],se(H),ue|=(J&127)<<7*ne;if(128<=J&&(J=H.h[H.g++],se(H),ue|=(J&127)<<28,k|=(J&127)>>4),128<=J)for(ne=0;5>ne&&128<=J;ne++)J=H.h[H.g++],se(H),k|=(J&127)<<7*ne+3;if(128>J)H=ue>>>0,J=k>>>0,(k=J&2147483648)&&(H=~H+1>>>0,J=~J>>>0,H==0&&(J=J+1>>>0)),H=4294967296*J+(H>>>0);else throw he();return an(A,R,k?-H:H),!0},function(k,A,R){if(A=ri(A,R),A!=null&&A!=null){Ie(k.g,8*R),k=k.g;var H=A;for(R=0>H,H=Math.abs(H),A=H>>>0,H=Math.floor((H-A)/4294967296),H>>>=0,R&&(H=~H>>>0,A=(~A>>>0)+1,4294967295<A&&(A=0,H++,4294967295<H&&(H=0))),ot=A,st=H,R=ot,A=st;0<A||127<R;)k.g.push(R&127|128),R=(R>>>7|A<<25)>>>0,A>>>=7;k.g.push(R)}}),BU=Rp(function(k,A,R){return k.h!==0?!1:(an(A,R,ye(k.g)),!0)},function(k,A,R){if(A=ri(A,R),A!=null&&A!=null)if(Ie(k.g,8*R),k=k.g,R=A,0<=R)Ie(k,R);else{for(A=0;9>A;A++)k.g.push(R&127|128),R>>=7;k.g.push(1)}}),D_=Rp(function(k,A,R){if(k.h!==2)return!1;var H=ye(k.g)>>>0;k=k.g;var J=k.g;k.g+=H,se(k),k=k.h;var ue;if(q)(ue=V)||(ue=V=new TextDecoder("utf-8",{fatal:!0})),ue=ue.decode(k.subarray(J,J+H));else{H=J+H;for(var ne=[],fe=null,ve,Le,Ze;J<H;)ve=k[J++],128>ve?ne.push(ve):224>ve?J>=H?L():(Le=k[J++],194>ve||(Le&192)!==128?(J--,L()):ne.push((ve&31)<<6|Le&63)):240>ve?J>=H-1?L():(Le=k[J++],(Le&192)!==128||ve===224&&160>Le||ve===237&&160<=Le||((ue=k[J++])&192)!==128?(J--,L()):ne.push((ve&15)<<12|(Le&63)<<6|ue&63)):244>=ve?J>=H-2?L():(Le=k[J++],(Le&192)!==128||(ve<<28)+(Le-144)>>30||((ue=k[J++])&192)!==128||((Ze=k[J++])&192)!==128?(J--,L()):(ve=(ve&7)<<18|(Le&63)<<12|(ue&63)<<6|Ze&63,ve-=65536,ne.push((ve>>10&1023)+55296,(ve&1023)+56320))):L(),8192<=ne.length&&(fe=z(fe,ne),ne.length=0);ue=z(fe,ne)}return an(A,R,ue),!0},function(k,A,R){if(A=ri(A,R),A!=null){var H=!1;if(H=H===void 0?!1:H,X){if(H&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(A))throw Error("Found an unpaired surrogate");A=(U||(U=new TextEncoder)).encode(A)}else{for(var J=0,ue=new Uint8Array(3*A.length),ne=0;ne<A.length;ne++){var fe=A.charCodeAt(ne);if(128>fe)ue[J++]=fe;else{if(2048>fe)ue[J++]=fe>>6|192;else{if(55296<=fe&&57343>=fe){if(56319>=fe&&ne<A.length){var ve=A.charCodeAt(++ne);if(56320<=ve&&57343>=ve){fe=1024*(fe-55296)+ve-56320+65536,ue[J++]=fe>>18|240,ue[J++]=fe>>12&63|128,ue[J++]=fe>>6&63|128,ue[J++]=fe&63|128;continue}else ne--}if(H)throw Error("Found an unpaired surrogate");fe=65533}ue[J++]=fe>>12|224,ue[J++]=fe>>6&63|128}ue[J++]=fe&63|128}}A=ue.subarray(0,J)}Ie(k.g,8*R+2),Ie(k.g,A.length),Vt(k,k.g.end()),Vt(k,A)}}),R_=Rp(function(k,A,R,H,J){if(k.h!==2)return!1;A=y0(A,R,H),R=k.g.i,H=ye(k.g)>>>0;var ue=k.g.g+H,ne=ue-R;if(0>=ne&&(k.g.i=ue,J(A,k),ne=ue-k.g.g),ne)throw Error("Message parsing ended unexpectedly. Expected to read "+(H+" bytes, instead read "+(H-ne)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return k.g.g=ue,k.g.i=R,!0},function(k,A,R,H,J){if(A=md(A,H,R),A!=null)for(H=0;H<A.length;H++){var ue=k;Ie(ue.g,8*R+2);var ne=ue.g.end();Vt(ue,ne),ne.push(ue.h),ue=ne,J(A[H],k),ne=k;var fe=ue.pop();for(fe=ne.h+ne.g.length()-fe;127<fe;)ue.push(fe&127|128),fe>>>=7,ne.h++;ue.push(fe),ne.h++}});function Cr(){bd.apply(this,arguments)}if(m(Cr,bd),fd){var L_={};Object.defineProperties(Cr,(L_[Symbol.hasInstance]=Nc(Object[Symbol.hasInstance]),L_))}function Lp(k){Cr.call(this,k)}m(Lp,Cr);function z_(){return[1,BU,2,cs,3,D_,4,D_]}function Aw(k){Cr.call(this,k,-1,jU)}m(Aw,Cr),Aw.prototype.addClassification=function(k,A){return y0(this,1,Lp,k,A),this};function MU(){return[1,R_,Lp,z_]}var jU=[1];function E0(k){Cr.call(this,k)}m(E0,Cr);function F_(){return[1,cs,2,cs,3,cs,4,cs,5,cs]}function P_(k){Cr.call(this,k,-1,VU)}m(P_,Cr);function UU(){return[1,R_,E0,F_]}var VU=[1];function Nw(k){Cr.call(this,k)}m(Nw,Cr);function B_(){return[1,cs,2,cs,3,cs,4,cs,5,cs,6,PU]}var M_=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],j_=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],U_=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],V_=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],H_=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],W_=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],HU=[].concat(l(M_),l(j_),l(U_),l(V_),l(H_),l(W_));function G_(k,A,R){if(R=k.createShader(R===0?k.VERTEX_SHADER:k.FRAGMENT_SHADER),k.shaderSource(R,A),k.compileShader(R),!k.getShaderParameter(R,k.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+k.getShaderInfoLog(R));return R}function WU(k){return md(k,Lp,1).map(function(A){return{index:Oc(A,1),ga:kr(A,2),label:ri(A,3)!=null?v0(A,3):void 0,displayName:ri(A,4)!=null?v0(A,4):void 0}})}function GU(k){return{x:kr(k,1),y:kr(k,2),z:kr(k,3),visibility:ri(k,4)!=null?kr(k,4):void 0}}function Ow(k,A){this.h=k,this.g=A,this.l=0}function q_(k,A,R){return qU(k,A),typeof k.g.canvas.transferToImageBitmap=="function"?Promise.resolve(k.g.canvas.transferToImageBitmap()):R?Promise.resolve(k.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(k.g.canvas):(k.i===void 0&&(k.i=document.createElement("canvas")),new Promise(function(H){k.i.height=k.g.canvas.height,k.i.width=k.g.canvas.width,k.i.getContext("2d",{}).drawImage(k.g.canvas,0,0,k.g.canvas.width,k.g.canvas.height),H(k.i)}))}function qU(k,A){var R=k.g;if(k.o===void 0){var H=G_(R,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),J=G_(R,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),ue=R.createProgram();if(R.attachShader(ue,H),R.attachShader(ue,J),R.linkProgram(ue),!R.getProgramParameter(ue,R.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+R.getProgramInfoLog(ue));H=k.o=ue,R.useProgram(H),J=R.getUniformLocation(H,"sampler0"),k.j={K:R.getAttribLocation(H,"aVertex"),J:R.getAttribLocation(H,"aTex"),ma:J},k.u=R.createBuffer(),R.bindBuffer(R.ARRAY_BUFFER,k.u),R.enableVertexAttribArray(k.j.K),R.vertexAttribPointer(k.j.K,2,R.FLOAT,!1,0,0),R.bufferData(R.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),R.STATIC_DRAW),R.bindBuffer(R.ARRAY_BUFFER,null),k.s=R.createBuffer(),R.bindBuffer(R.ARRAY_BUFFER,k.s),R.enableVertexAttribArray(k.j.J),R.vertexAttribPointer(k.j.J,2,R.FLOAT,!1,0,0),R.bufferData(R.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),R.STATIC_DRAW),R.bindBuffer(R.ARRAY_BUFFER,null),R.uniform1i(J,0)}H=k.j,R.useProgram(k.o),R.canvas.width=A.width,R.canvas.height=A.height,R.viewport(0,0,A.width,A.height),R.activeTexture(R.TEXTURE0),k.h.bindTexture2d(A.glName),R.enableVertexAttribArray(H.K),R.bindBuffer(R.ARRAY_BUFFER,k.u),R.vertexAttribPointer(H.K,2,R.FLOAT,!1,0,0),R.enableVertexAttribArray(H.J),R.bindBuffer(R.ARRAY_BUFFER,k.s),R.vertexAttribPointer(H.J,2,R.FLOAT,!1,0,0),R.bindFramebuffer(R.DRAW_FRAMEBUFFER?R.DRAW_FRAMEBUFFER:R.FRAMEBUFFER,null),R.clearColor(0,0,0,0),R.clear(R.COLOR_BUFFER_BIT),R.colorMask(!0,!0,!0,!0),R.drawArrays(R.TRIANGLE_FAN,0,4),R.disableVertexAttribArray(H.K),R.disableVertexAttribArray(H.J),R.bindBuffer(R.ARRAY_BUFFER,null),k.h.bindTexture2d(0)}function KU(k){this.g=k}var XU=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function YU(k,A){return A+k}function K_(k,A){window[k]=A}function ZU(k){var A=document.createElement("script");return A.setAttribute("src",k),A.setAttribute("crossorigin","anonymous"),new Promise(function(R){A.addEventListener("load",function(){R()},!1),A.addEventListener("error",function(){R()},!1),document.body.appendChild(A)})}function JU(){return N(function(k){switch(k.g){case 1:return k.o=2,y(k,WebAssembly.instantiate(XU),4);case 4:k.g=3,k.o=0;break;case 2:return k.o=0,k.j=null,k.return(!1);case 3:return k.return(!0)}})}function Dw(k){if(this.g=k,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=k&&k.locateFile||YU,typeof window=="object")var A=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")A=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.$=A,k.options){A=a(Object.keys(k.options));for(var R=A.next();!R.done;R=A.next()){R=R.value;var H=k.options[R].default;H!==void 0&&(this.j[R]=typeof H=="function"?H():H)}}}t=Dw.prototype,t.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function QU(k){var A,R,H,J,ue,ne,fe,ve,Le,Ze,dt;return N(function(ht){switch(ht.g){case 1:return k.Z?(A=k.g.files===void 0?[]:typeof k.g.files=="function"?k.g.files(k.j):k.g.files,y(ht,JU(),2)):ht.return();case 2:if(R=ht.h,typeof window=="object")return K_("createMediapipeSolutionsWasm",{locateFile:k.locateFile}),K_("createMediapipeSolutionsPackedAssets",{locateFile:k.locateFile}),ne=A.filter(function(et){return et.data!==void 0}),fe=A.filter(function(et){return et.data===void 0}),ve=Promise.all(ne.map(function(et){var wt=I0(k,et.url);if(et.path!==void 0){var Mt=et.path;wt=wt.then(function(bn){return k.overrideFile(Mt,bn),Promise.resolve(bn)})}return wt})),Le=Promise.all(fe.map(function(et){return et.simd===void 0||et.simd&&R||!et.simd&&!R?ZU(k.locateFile(et.url,k.$)):Promise.resolve()})).then(function(){var et,wt,Mt;return N(function(bn){if(bn.g==1)return et=window.createMediapipeSolutionsWasm,wt=window.createMediapipeSolutionsPackedAssets,Mt=k,y(bn,et(wt),2);Mt.h=bn.h,bn.g=0})}),Ze=function(){return N(function(et){return k.g.graph&&k.g.graph.url?et=y(et,I0(k,k.g.graph.url),0):(et.g=0,et=void 0),et})}(),y(ht,Promise.all([Le,ve,Ze]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return H=A.filter(function(et){return et.simd===void 0||et.simd&&R||!et.simd&&!R}).map(function(et){return k.locateFile(et.url,k.$)}),importScripts.apply(null,l(H)),J=k,y(ht,createMediapipeSolutionsWasm(Module),6);case 6:J.h=ht.h,k.l=new OffscreenCanvas(1,1),k.h.canvas=k.l,ue=k.h.GL.createContext(k.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),k.h.GL.makeContextCurrent(ue),ht.g=4;break;case 7:if(k.l=document.createElement("canvas"),dt=k.l.getContext("webgl2",{}),!dt&&(dt=k.l.getContext("webgl",{}),!dt))return alert("Failed to create WebGL canvas context when passing video frame."),ht.return();k.G=dt,k.h.canvas=k.l,k.h.createContext(k.l,!0,!0,{});case 4:k.i=new k.h.SolutionWasm,k.Z=!1,ht.g=0}})}function eV(k){var A,R,H,J,ue,ne,fe,ve;return N(function(Le){if(Le.g==1){if(k.g.graph&&k.g.graph.url&&k.Y===k.g.graph.url)return Le.return();if(k.s=!0,!k.g.graph||!k.g.graph.url){Le.g=2;return}return k.Y=k.g.graph.url,y(Le,I0(k,k.g.graph.url),3)}for(Le.g!=2&&(A=Le.h,k.i.loadGraph(A)),R=a(Object.keys(k.C)),H=R.next();!H.done;H=R.next())J=H.value,k.i.overrideFile(J,k.C[J]);if(k.C={},k.g.listeners)for(ue=a(k.g.listeners),ne=ue.next();!ne.done;ne=ue.next())fe=ne.value,oV(k,fe);ve=k.j,k.j={},k.setOptions(ve),Le.g=0})}t.reset=function(){var k=this;return N(function(A){k.i&&(k.i.reset(),k.o={},k.u={}),A.g=0})},t.setOptions=function(k,A){var R=this;if(A=A||this.g.options){for(var H=[],J=[],ue={},ne=a(Object.keys(k)),fe=ne.next();!fe.done;ue={R:ue.R,S:ue.S},fe=ne.next()){var ve=fe.value;ve in this.j&&this.j[ve]===k[ve]||(this.j[ve]=k[ve],fe=A[ve],fe!==void 0&&(fe.onChange&&(ue.R=fe.onChange,ue.S=k[ve],H.push(function(Le){return function(){var Ze;return N(function(dt){if(dt.g==1)return y(dt,Le.R(Le.S),2);Ze=dt.h,Ze===!0&&(R.s=!0),dt.g=0})}}(ue))),fe.graphOptionXref&&(ve={valueNumber:fe.type===1?k[ve]:0,valueBoolean:fe.type===0?k[ve]:!1,valueString:fe.type===2?k[ve]:""},fe=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),fe.graphOptionXref),ve),J.push(fe))))}(H.length!==0||J.length!==0)&&(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(J),this.A=(this.A===void 0?[]:this.A).concat(H))}};function tV(k){var A,R,H,J,ue,ne,fe;return N(function(ve){switch(ve.g){case 1:if(!k.s)return ve.return();if(!k.A){ve.g=2;break}A=a(k.A),R=A.next();case 3:if(R.done){ve.g=5;break}return H=R.value,y(ve,H(),4);case 4:R=A.next(),ve.g=3;break;case 5:k.A=void 0;case 2:if(k.B){for(J=new k.h.GraphOptionChangeRequestList,ue=a(k.B),ne=ue.next();!ne.done;ne=ue.next())fe=ne.value,J.push_back(fe);k.i.changeOptions(J),J.delete(),k.B=void 0}k.s=!1,ve.g=0}})}t.initialize=function(){var k=this;return N(function(A){return A.g==1?y(A,QU(k),2):A.g!=3?y(A,eV(k),3):y(A,tV(k),0)})};function I0(k,A){var R,H;return N(function(J){return A in k.H?J.return(k.H[A]):(R=k.locateFile(A,""),H=fetch(R).then(function(ue){return ue.arrayBuffer()}),k.H[A]=H,J.return(H))})}t.overrideFile=function(k,A){this.i?this.i.overrideFile(k,A):this.C[k]=A},t.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},t.send=function(k,A){var R=this,H,J,ue,ne,fe,ve,Le,Ze,dt;return N(function(ht){switch(ht.g){case 1:return R.g.inputs?(H=1e3*(A==null?performance.now():A),y(ht,R.D,2)):ht.return();case 2:return y(ht,R.initialize(),3);case 3:for(J=new R.h.PacketDataList,ue=a(Object.keys(k)),ne=ue.next();!ne.done;ne=ue.next())if(fe=ne.value,ve=R.g.inputs[fe]){e:{var et=k[fe];switch(ve.type){case"video":var wt=R.o[ve.stream];if(wt||(wt=new Ow(R.h,R.G),R.o[ve.stream]=wt),wt.l===0&&(wt.l=wt.h.createTexture()),typeof HTMLVideoElement<"u"&&et instanceof HTMLVideoElement)var Mt=et.videoWidth,bn=et.videoHeight;else typeof HTMLImageElement<"u"&&et instanceof HTMLImageElement?(Mt=et.naturalWidth,bn=et.naturalHeight):(Mt=et.width,bn=et.height);bn={glName:wt.l,width:Mt,height:bn},Mt=wt.g,Mt.canvas.width=bn.width,Mt.canvas.height=bn.height,Mt.activeTexture(Mt.TEXTURE0),wt.h.bindTexture2d(wt.l),Mt.texImage2D(Mt.TEXTURE_2D,0,Mt.RGBA,Mt.RGBA,Mt.UNSIGNED_BYTE,et),wt.h.bindTexture2d(0),wt=bn;break e;case"detections":for(wt=R.o[ve.stream],wt||(wt=new KU(R.h),R.o[ve.stream]=wt),wt.data||(wt.data=new wt.g.DetectionListData),wt.data.reset(et.length),bn=0;bn<et.length;++bn){Mt=et[bn];var ln=wt.data,ji=ln.setBoundingBox,Tr=bn,No=Mt.boundingBox,jt=new Nw;if(an(jt,1,No.xCenter),an(jt,2,No.yCenter),an(jt,3,No.height),an(jt,4,No.width),an(jt,5,No.rotation),an(jt,6,No.rectId),No=$w(jt,B_),ji.call(ln,Tr,No),Mt.landmarks)for(ln=0;ln<Mt.landmarks.length;++ln){jt=Mt.landmarks[ln];var si=!!jt.visibility;ji=wt.data,Tr=ji.addNormalizedLandmark,No=bn,jt=Object.assign(Object.assign({},jt),{visibility:si?jt.visibility:0}),si=new E0,an(si,1,jt.x),an(si,2,jt.y),an(si,3,jt.z),jt.visibility&&an(si,4,jt.visibility),jt=$w(si,F_),Tr.call(ji,No,jt)}if(Mt.V)for(ln=0;ln<Mt.V.length;++ln)ji=wt.data,Tr=ji.addClassification,No=bn,jt=Mt.V[ln],si=new Lp,an(si,2,jt.ga),jt.index&&an(si,1,jt.index),jt.label&&an(si,3,jt.label),jt.displayName&&an(si,4,jt.displayName),jt=$w(si,z_),Tr.call(ji,No,jt)}wt=wt.data;break e;default:wt={}}}switch(Le=wt,Ze=ve.stream,ve.type){case"video":J.pushTexture2d(Object.assign(Object.assign({},Le),{stream:Ze,timestamp:H}));break;case"detections":dt=Le,dt.stream=Ze,dt.timestamp=H,J.pushDetectionList(dt);break;default:throw Error("Unknown input config type: '"+ve.type+"'")}}return R.i.send(J),y(ht,R.D,4);case 4:J.delete(),ht.g=0}})};function nV(k,A,R){var H,J,ue,ne,fe,ve,Le,Ze,dt,ht,et,wt,Mt,bn;return N(function(ln){switch(ln.g){case 1:if(!R)return ln.return(A);for(H={},J=0,ue=a(Object.keys(R)),ne=ue.next();!ne.done;ne=ue.next())fe=ne.value,ve=R[fe],typeof ve!="string"&&ve.type==="texture"&&A[ve.stream]!==void 0&&++J;1<J&&(k.I=!1),Le=a(Object.keys(R)),ne=Le.next();case 2:if(ne.done){ln.g=4;break}if(Ze=ne.value,dt=R[Ze],typeof dt=="string")return Mt=H,bn=Ze,y(ln,iV(k,Ze,A[dt]),14);if(ht=A[dt.stream],dt.type==="detection_list"){if(ht){for(var ji=ht.getRectList(),Tr=ht.getLandmarksList(),No=ht.getClassificationsList(),jt=[],si=0;si<ji.size();++si){var sl=_w(ji.get(si),Nw,B_);sl={boundingBox:{xCenter:kr(sl,1),yCenter:kr(sl,2),height:kr(sl,3),width:kr(sl,4),rotation:kr(sl,5,0),rectId:Oc(sl,6)},landmarks:md(_w(Tr.get(si),P_,UU),E0,1).map(GU),V:WU(_w(No.get(si),Aw,MU))},jt.push(sl)}ji=jt}else ji=[];H[Ze]=ji,ln.g=7;break}if(dt.type==="proto_list"){if(ht){for(ji=Array(ht.size()),Tr=0;Tr<ht.size();Tr++)ji[Tr]=ht.get(Tr);ht.delete()}else ji=[];H[Ze]=ji,ln.g=7;break}if(ht===void 0){ln.g=3;break}if(dt.type==="float_list"){H[Ze]=ht,ln.g=7;break}if(dt.type==="proto"){H[Ze]=ht,ln.g=7;break}if(dt.type!=="texture")throw Error("Unknown output config type: '"+dt.type+"'");return et=k.u[Ze],et||(et=new Ow(k.h,k.G),k.u[Ze]=et),y(ln,q_(et,ht,k.I),13);case 13:wt=ln.h,H[Ze]=wt;case 7:dt.transform&&H[Ze]&&(H[Ze]=dt.transform(H[Ze])),ln.g=3;break;case 14:Mt[bn]=ln.h;case 3:ne=Le.next(),ln.g=2;break;case 4:return ln.return(H)}})}function iV(k,A,R){var H;return N(function(J){return typeof R=="number"||R instanceof Uint8Array||R instanceof k.h.Uint8BlobList?J.return(R):R instanceof k.h.Texture2dDataOut?(H=k.u[A],H||(H=new Ow(k.h,k.G),k.u[A]=H),J.return(q_(H,R,k.I))):J.return(void 0)})}function oV(k,A){for(var R=A.name||"$",H=[].concat(l(A.wants)),J=new k.h.StringList,ue=a(A.wants),ne=ue.next();!ne.done;ne=ue.next())J.push_back(ne.value);ue=k.h.PacketListener.implement({onResults:function(fe){for(var ve={},Le=0;Le<A.wants.length;++Le)ve[H[Le]]=fe.get(Le);var Ze=k.listeners[R];Ze&&(k.D=nV(k,ve,A.outs).then(function(dt){dt=Ze(dt);for(var ht=0;ht<A.wants.length;++ht){var et=ve[H[ht]];typeof et=="object"&&et.hasOwnProperty&&et.hasOwnProperty("delete")&&et.delete()}dt&&(k.D=dt)}))}}),k.i.attachMultiListener(J,ue),J.delete()}t.onResults=function(k,A){this.listeners[A||"$"]=k},_("Solution",Dw),_("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"});function X_(k){var A=this;k=k||{};var R={url:"face_detection_short.binarypb"},H={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new Dw({locateFile:k.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:R,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(J){var ue,ne,fe,ve,Le,Ze;return N(function(dt){switch(dt.g){case 1:ue=J==="short"?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"],ne=a(ue),fe=ne.next();case 2:if(fe.done){dt.g=4;break}return ve=fe.value,Le="third_party/mediapipe/modules/face_detection/"+ve,y(dt,I0(A.g,ve),5);case 5:Ze=dt.h,A.g.overrideFile(Le,Ze),fe=ne.next(),dt.g=2;break;case 4:return R.url=J==="short"?"face_detection_short.binarypb":"face_detection_full.binarypb",H.graphOptionXref.calculatorName=J==="short"?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",dt.return(!0)}})}},minDetectionConfidence:H}})}t=X_.prototype,t.close=function(){return this.g.close(),Promise.resolve()},t.onResults=function(k){this.g.onResults(k)},t.initialize=function(){var k=this;return N(function(A){return y(A,k.g.initialize(),0)})},t.reset=function(){this.g.reset()},t.send=function(k){var A=this;return N(function(R){return y(R,A.g.send(k),0)})},t.setOptions=function(k){this.g.setOptions(k)},_("FaceDetection",X_),_("FACEDETECTION_LIPS",M_),_("FACEDETECTION_LEFT_EYE",j_),_("FACEDETECTION_LEFT_EYEBROW",U_),_("FACEDETECTION_RIGHT_EYE",V_),_("FACEDETECTION_RIGHT_EYEBROW",H_),_("FACEDETECTION_FACE_OVAL",W_),_("FACEDETECTION_CONTOURS",HU),_("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),_("VERSION","0.4.1646425229")}).call(dn);/**
    * @license
    * Copyright 2024 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */var uc=function(){return uc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},uc.apply(this,arguments)};function Ya(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(c){try{l(i.next(c))}catch(u){r(u)}}function a(c){try{l(i.throw(c))}catch(u){r(u)}}function l(c){var u;c.done?o(c.value):(u=c.value,u instanceof n?u:new n(function(d){d(u)})).then(s,a)}l((i=i.apply(t,[])).next())})}function Za(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(l){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,i=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!((o=o.length>0&&o[o.length-1])||u[0]!==6&&u[0]!==2)){s=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){s.label=u[1];break}if(u[0]===6&&s.label<o[1]){s.label=o[1],o=u;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(u);break}o[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(d){u=[6,d],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}var $U=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],fk={modelType:"short",runtime:"mediapipe",maxFaces:1},k7e=function(){function t(e){var n=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new w7e.FaceDetection({locateFile:function(i,o){if(e.solutionPath){var r=e.solutionPath.replace(/\/+$/,"");return"".concat(r,"/").concat(i)}return"".concat(o,"/").concat(i)}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:e.modelType}),this.faceDetectorSolution.onResults(function(i){if(n.height=i.image.height,n.width=i.image.width,n.faces=[],i.detections!==null)for(var o=0,r=i.detections;o<r.length;o++){var s=r[o];n.faces.push(n.normalizedToAbsolute(s.landmarks,(a=s.boundingBox,l=void 0,c=void 0,u=void 0,l=a.xCenter-a.width/2,c=l+a.width,u=a.yCenter-a.height/2,{xMin:l,xMax:c,yMin:u,yMax:u+a.height,width:a.width,height:a.height})))}var a,l,c,u})}return t.prototype.normalizedToAbsolute=function(e,n){var i=this;return{keypoints:e.map(function(o,r){return{x:o.x*i.width,y:o.y*i.height,name:$U[r]}}),box:{xMin:n.xMin*this.width,yMin:n.yMin*this.height,xMax:n.xMax*this.width,yMax:n.yMax*this.height,width:n.width*this.width,height:n.height*this.height}}},t.prototype.estimateFaces=function(e,n){return Ya(this,void 0,void 0,function(){var i,o;return Za(this,function(r){switch(r.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),e instanceof Zt?(o=ImageData.bind,[4,bxe(e)]):[3,2];case 1:return i=new(o.apply(ImageData,[void 0,r.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:i=e,r.label=3;case 3:return e=i,[4,this.faceDetectorSolution.send({image:e})];case 4:return r.sent(),[2,this.faces]}})})},t.prototype.dispose=function(){this.faceDetectorSolution.close()},t.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},t.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},t}();function S7e(t){return Ya(this,void 0,void 0,function(){var e,n;return Za(this,function(i){switch(i.label){case 0:return e=function(o){if(o==null)return uc({},fk);var r=uc({},o);return r.runtime="mediapipe",r.modelType==null&&(r.modelType=fk.modelType),r.maxFaces==null&&(r.maxFaces=fk.maxFaces),r}(t),[4,(n=new k7e(e)).initialize()];case 1:return i.sent(),[2,n]}})})}function C7e(t,e,n,i){var o=t.width,r=t.height,s=1,a=Math.cos(t.rotation),l=Math.sin(t.rotation),c=t.xCenter,u=t.yCenter,d=1/e,h=1/n,p=new Array(16);return p[0]=o*a*s*d,p[1]=-r*l*d,p[2]=0,p[3]=(-.5*o*a*s+.5*r*l+c)*d,p[4]=o*l*s*h,p[5]=r*a*h,p[6]=0,p[7]=(-.5*r*a-.5*o*l*s+u)*h,p[8]=0,p[9]=0,p[10]=o*d,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,function(f){if(f.length!==16)throw new Error("Array length must be 16 but got ".concat(f.length));return[[f[0],f[1],f[2],f[3]],[f[4],f[5],f[6],f[7]],[f[8],f[9],f[10],f[11]],[f[12],f[13],f[14],f[15]]]}(p)}function AU(t){return t instanceof Zt?{height:t.shape[0],width:t.shape[1]}:{height:t.height,width:t.width}}function NU(t){return t instanceof Zt?t:xxe(t)}function mk(t,e){M(t.width!==0,function(){return"".concat(e," width cannot be 0.")}),M(t.height!==0,function(){return"".concat(e," height cannot be 0.")})}function T7e(t,e){var n=function(i,o,r,s){var a=o-i,l=s-r,c=l/a;return{scale:c,offset:r-i*c}}(0,255,e[0],e[1]);return ce(function(){return Se(Q(t,n.scale),n.offset)})}function E7e(t,e,n){var i=e.outputTensorSize,o=e.keepAspectRatio,r=e.borderMode,s=e.outputTensorFloatRange,a=AU(t),l=function(h,p){return{xCenter:.5*h.width,yCenter:.5*h.height,width:h.width,height:h.height,rotation:0}}(a),c=function(h,p,f){if(f===void 0&&(f=!1),!f)return{top:0,left:0,right:0,bottom:0};var m=p.height,b=p.width;mk(p,"targetSize"),mk(h,"roi");var g,x,y=m/b,v=h.height/h.width,w=0,C=0;return y>v?(g=h.width,x=h.width*y,C=(1-v/y)/2):(g=h.height/y,x=h.height,w=(1-y/v)/2),h.width=g,h.height=x,{top:C,left:w,right:w,bottom:C}}(l,i,o),u=C7e(l,a.width,a.height),d=ce(function(){var h=NU(t),p=mu(function(b,g,x){return mk(x,"inputResolution"),[1/x.width*b[0][0]*g.width,1/x.height*b[0][1]*g.width,b[0][3]*g.width,1/x.width*b[1][0]*g.height,1/x.height*b[1][1]*g.height,b[1][3]*g.height,0,0]}(u,a,i),[1,8]),f=r==="zero"?"constant":"nearest",m=ar.transform(Ci(Pe(h,"float32")),p,"bilinear",f,0,[i.height,i.width]);return s!=null?T7e(m,s):m});return{imageTensor:d,padding:c,transformationMatrix:u}}function dO(t){t.reduceBoxesInLowestLayer==null&&(t.reduceBoxesInLowestLayer=!1),t.interpolatedScaleAspectRatio==null&&(t.interpolatedScaleAspectRatio=1),t.fixedAnchorSize==null&&(t.fixedAnchorSize=!1);for(var e=[],n=0;n<t.numLayers;){for(var i=[],o=[],r=[],s=[],a=n;a<t.strides.length&&t.strides[a]===t.strides[n];){var l=hO(t.minScale,t.maxScale,a,t.strides.length);if(a===0&&t.reduceBoxesInLowestLayer)r.push(1),r.push(2),r.push(.5),s.push(.1),s.push(l),s.push(l);else{for(var c=0;c<t.aspectRatios.length;++c)r.push(t.aspectRatios[c]),s.push(l);if(t.interpolatedScaleAspectRatio>0){var u=a===t.strides.length-1?1:hO(t.minScale,t.maxScale,a+1,t.strides.length);s.push(Math.sqrt(l*u)),r.push(t.interpolatedScaleAspectRatio)}}a++}for(var d=0;d<r.length;++d){var h=Math.sqrt(r[d]);i.push(s[d]/h),o.push(s[d]*h)}var p=0,f=0;if(t.featureMapHeight.length>0)p=t.featureMapHeight[n],f=t.featureMapWidth[n];else{var m=t.strides[n];p=Math.ceil(t.inputSizeHeight/m),f=Math.ceil(t.inputSizeWidth/m)}for(var b=0;b<p;++b)for(var g=0;g<f;++g)for(var x=0;x<i.length;++x){var y={xCenter:(g+t.anchorOffsetX)/f,yCenter:(b+t.anchorOffsetY)/p,width:0,height:0};t.fixedAnchorSize?(y.width=1,y.height=1):(y.width=o[x],y.height=i[x]),e.push(y)}n=a}return e}function hO(t,e,n,i){return i===1?.5*(t+e):t+(e-t)*n/(i-1)}function pO(t,e){var n=e[0],i=e[1];return[n*t[0]+i*t[1]+t[3],n*t[4]+i*t[5]+t[7]]}function I7e(t){return ce(function(){var e=function(o){return ce(function(){return[at(o,[0,0,0],[1,-1,1]),at(o,[0,0,1],[1,-1,-1])]})}(t),n=e[0],i=e[1];return{boxes:Ln(i),logits:Ln(n)}})}function _7e(t,e,n,i){return Ya(this,void 0,void 0,function(){var o,r,s,a,l;return Za(this,function(c){switch(c.label){case 0:return t.sort(function(u,d){return Math.max.apply(Math,d.score)-Math.max.apply(Math,u.score)}),o=mu(t.map(function(u){return[u.locationData.relativeBoundingBox.yMin,u.locationData.relativeBoundingBox.xMin,u.locationData.relativeBoundingBox.yMax,u.locationData.relativeBoundingBox.xMax]})),r=Gn(t.map(function(u){return u.score[0]})),[4,ar.nonMaxSuppressionAsync(o,r,e,n)];case 1:return[4,(s=c.sent()).array()];case 2:return a=c.sent(),l=t.filter(function(u,d){return a.indexOf(d)>-1}),pt([o,r,s]),[2,l]}})})}function $7e(t,e,n){return Ya(this,void 0,void 0,function(){var i,o,r,s,a;return Za(this,function(l){switch(l.label){case 0:return i=t[0],o=t[1],r=function(c,u,d){return ce(function(){var h,p,f,m;d.reverseOutputOrder?(p=Ln(at(c,[0,d.boxCoordOffset+0],[-1,1])),h=Ln(at(c,[0,d.boxCoordOffset+1],[-1,1])),m=Ln(at(c,[0,d.boxCoordOffset+2],[-1,1])),f=Ln(at(c,[0,d.boxCoordOffset+3],[-1,1]))):(h=Ln(at(c,[0,d.boxCoordOffset+0],[-1,1])),p=Ln(at(c,[0,d.boxCoordOffset+1],[-1,1])),f=Ln(at(c,[0,d.boxCoordOffset+2],[-1,1])),m=Ln(at(c,[0,d.boxCoordOffset+3],[-1,1]))),p=Se(Q(Ue(p,d.xScale),u.w),u.x),h=Se(Q(Ue(h,d.yScale),u.h),u.y),d.applyExponentialOnBoxSize?(f=Q(ao(Ue(f,d.hScale)),u.h),m=Q(ao(Ue(m,d.wScale)),u.w)):(f=Q(Ue(f,d.hScale),u.h),m=Q(Ue(m,d.wScale),u.h));var b=Ve(h,Ue(f,2)),g=Ve(p,Ue(m,2)),x=Se(h,Ue(f,2)),y=Se(p,Ue(m,2)),v=Dn([te(b,[d.numBoxes,1]),te(g,[d.numBoxes,1]),te(x,[d.numBoxes,1]),te(y,[d.numBoxes,1])],1);if(d.numKeypoints)for(var w=0;w<d.numKeypoints;++w){var C=d.keypointCoordOffset+w*d.numValuesPerKeypoint,S=void 0,E=void 0;d.reverseOutputOrder?(S=Ln(at(c,[0,C],[-1,1])),E=Ln(at(c,[0,C+1],[-1,1]))):(E=Ln(at(c,[0,C],[-1,1])),S=Ln(at(c,[0,C+1],[-1,1])));var I=Se(Q(Ue(S,d.xScale),u.w),u.x),N=Se(Q(Ue(E,d.yScale),u.h),u.y);v=Dn([v,te(I,[d.numBoxes,1]),te(N,[d.numBoxes,1])],1)}return v})}(o,e,n),s=ce(function(){var c=i;return n.sigmoidScore?(n.scoreClippingThresh!=null&&(c=Eo(i,-n.scoreClippingThresh,n.scoreClippingThresh)),c=Cs(c)):c}),[4,A7e(r,s,n)];case 1:return a=l.sent(),pt([r,s]),[2,a]}})})}function A7e(t,e,n){return Ya(this,void 0,void 0,function(){var i,o,r,s,a,l,c,u,d,h,p,f;return Za(this,function(m){switch(m.label){case 0:return i=[],[4,t.data()];case 1:return o=m.sent(),[4,e.data()];case 2:for(r=m.sent(),s=0;s<n.numBoxes;++s)if(!(n.minScoreThresh!=null&&r[s]<n.minScoreThresh||(a=s*n.numCoords,l=N7e(o[a+0],o[a+1],o[a+2],o[a+3],r[s],n.flipVertically,s),(c=l.locationData.relativeBoundingBox).width<0||c.height<0))){if(n.numKeypoints>0)for((u=l.locationData).relativeKeypoints=[],d=n.numKeypoints*n.numValuesPerKeypoint,h=0;h<d;h+=n.numValuesPerKeypoint)p=a+n.keypointCoordOffset+h,f={x:o[p+0],y:n.flipVertically?1-o[p+1]:o[p+1]},u.relativeKeypoints.push(f);i.push(l)}return[2,i]}})})}function N7e(t,e,n,i,o,r,s){return{score:[o],ind:s,locationData:{relativeBoundingBox:{xMin:e,yMin:r?1-n:t,xMax:i,yMax:r?1-t:n,width:i-e,height:n-t}}}}var O7e={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},D7e={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},gk={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},R7e={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},L7e={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},z7e=.3,F7e={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},P7e={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},y1,B7e=function(){function t(e,n,i){this.detectorModel=n,this.maxFaces=i,e==="full"?(this.imageToTensorConfig=P7e,this.tensorsToDetectionConfig=L7e,this.anchors=dO(D7e)):(this.imageToTensorConfig=F7e,this.tensorsToDetectionConfig=R7e,this.anchors=dO(O7e));var o=Gn(this.anchors.map(function(l){return l.width})),r=Gn(this.anchors.map(function(l){return l.height})),s=Gn(this.anchors.map(function(l){return l.xCenter})),a=Gn(this.anchors.map(function(l){return l.yCenter}));this.anchorTensor={x:s,y:a,w:o,h:r}}return t.prototype.dispose=function(){this.detectorModel.dispose(),pt([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},t.prototype.reset=function(){},t.prototype.detectFaces=function(e,n){return n===void 0&&(n=!1),Ya(this,void 0,void 0,function(){var i,o,r,s,a,l,c,u,d,h,p;return Za(this,function(f){switch(f.label){case 0:return e==null?(this.reset(),[2,[]]):(i=ce(function(){var m=Pe(NU(e),"float32");return n&&(m=Ln(ar.flipLeftRight(Ci(m,0)),[0])),m}),o=E7e(i,this.imageToTensorConfig),r=o.imageTensor,s=o.transformationMatrix,a=this.detectorModel.execute(r,"Identity:0"),l=I7e(a),c=l.boxes,[4,$7e([u=l.logits,c],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return(d=f.sent()).length===0?(pt([i,r,a,u,c]),[2,d]):[4,_7e(d,this.maxFaces,z7e)];case 2:return h=f.sent(),p=function(m,b){m===void 0&&(m=[]);var g,x=(g=b,[].concat.apply([],g));return m.forEach(function(y){var v=y.locationData;v.relativeKeypoints.forEach(function(N){var B=pO(x,[N.x,N.y]),D=B[0],P=B[1];N.x=D,N.y=P});var w=v.relativeBoundingBox,C=Number.MAX_VALUE,S=Number.MAX_VALUE,E=Number.MIN_VALUE,I=Number.MIN_VALUE;[[w.xMin,w.yMin],[w.xMin+w.width,w.yMin],[w.xMin+w.width,w.yMin+w.height],[w.xMin,w.yMin+w.height]].forEach(function(N){var B=pO(x,N),D=B[0],P=B[1];C=Math.min(C,D),E=Math.max(E,D),S=Math.min(S,P),I=Math.max(I,P)}),v.relativeBoundingBox={xMin:C,xMax:E,yMin:S,yMax:I,width:E-C,height:I-S}}),m}(h,s),pt([i,r,a,u,c]),[2,p]}})})},t.prototype.estimateFaces=function(e,n){return Ya(this,void 0,void 0,function(){var i,o;return Za(this,function(r){return i=AU(e),o=!!n&&n.flipHorizontal,[2,this.detectFaces(e,o).then(function(s){return s.map(function(a){for(var l=a.locationData.relativeKeypoints.map(function(f,m){return uc(uc({},f),{x:f.x*i.width,y:f.y*i.height,name:$U[m]})}),c=a.locationData.relativeBoundingBox,u=0,d=["width","xMax","xMin"];u<d.length;u++)c[d[u]]*=i.width;for(var h=0,p=["height","yMax","yMin"];h<p.length;h++)c[p[h]]*=i.height;return{keypoints:l,box:c}})})]})})},t}();function M7e(t){return Ya(this,void 0,void 0,function(){var e,n,i;return Za(this,function(o){switch(o.label){case 0:return e=function(r){if(r==null)return uc({},gk);var s=uc({},r);return s.modelType==null&&(s.modelType=gk.modelType),s.maxFaces==null&&(s.maxFaces=gk.maxFaces),s.detectorModelUrl==null&&(s.modelType==="full"?s.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":s.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),s}(t),n=typeof e.detectorModelUrl=="string"&&e.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,tke(e.detectorModelUrl,{fromTFHub:n})];case 1:return i=o.sent(),[2,new B7e(e.modelType,i,e.maxFaces)]}})})}function j7e(t,e){return Ya(this,void 0,void 0,function(){var n,i;return Za(this,function(o){if(t===y1.MediaPipeFaceDetector){if(i=void 0,(n=e)!=null){if(n.runtime==="tfjs")return[2,M7e(n)];if(n.runtime==="mediapipe")return[2,S7e(n)];i=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' "+"or 'mediapipe', but got ".concat(i))}throw new Error("".concat(t," is not a supported model name."))})})}(function(t){t.MediaPipeFaceDetector="MediaPipeFaceDetector"})(y1||(y1={}));const U7e=({initialEnabled:t=!1,onToggleChange:e,disabled:n})=>{const[i,o]=ae.useState(t),[r,s]=ae.useState(null),[a,l]=ae.useState(!1),[c,u]=ae.useState(!1),[d,h]=ae.useState(""),[p,f]=ae.useState(!1),[m,b]=ae.useState(!1),g=ae.useRef(null),x=ae.useRef(null),y=ae.useRef(null),v=ae.useRef(null);ae.useEffect(()=>(t&&w(),()=>P()),[]);const w=async()=>{try{const{data:{user:L}}=await ze.auth.getUser();if(!L)throw new Error("No authenticated user");const{data:z}=await ze.from("user_facial_enrollments").select("storage_path").eq("user_id",L.id).single();if(!(z!=null&&z.storage_path))throw new Error("No enrollment found");const{data:V}=await ze.storage.from("facial-recognition").createSignedUrl(z.storage_path,3600);if(!V)throw new Error("Failed to generate signed URL");s(V.signedUrl),o(!0)}catch(L){console.error("Photo check error:",L),await D()}},C=async()=>{if(g.current)try{await Wde(),await Hde("webgl"),y.current=await j7e(y1.MediaPipeFaceDetector,{runtime:"mediapipe",solutionPath:"https://cdn.jsdelivr.net/npm/@mediapipe/face_detection"}),b(!0),S()}catch(L){console.error("Face detection init error:",L),h("Automatic detection failed. Capture manually."),u(!0)}},S=async()=>{if(!(!g.current||!y.current))try{if((await y.current.estimateFaces(g.current)).length===1){await E();return}v.current=requestAnimationFrame(S)}catch(L){console.error("Detection error:",L),v.current=requestAnimationFrame(S)}},E=async()=>{if(!g.current||!x.current)return;const L=x.current,z=L.getContext("2d");z&&(L.width=g.current.videoWidth,L.height=g.current.videoHeight,z.drawImage(g.current,0,0,L.width,L.height),L.toBlob(async V=>{V&&await N(V),_()},"image/jpeg",.9))},I=async()=>{try{f(!0);const L=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"}});g.current&&(g.current.srcObject=L,await g.current.play(),C())}catch(L){console.error("Camera error:",L),h("Camera access required"),u(!0),o(!1),e(!1)}},N=async L=>{l(!0);try{const{data:{user:z}}=await ze.auth.getUser();if(!z)throw new Error("Not authenticated");const V="".concat(z.id,"/profile_").concat(Date.now(),".jpg"),{error:q}=await ze.storage.from("facial-recognition").upload(V,L,{cacheControl:"3600",upsert:!0,contentType:"image/jpeg"});if(q)throw q;const{error:U}=await ze.from("user_facial_enrollments").upsert({user_id:z.id,storage_path:V},{onConflict:"user_id"});if(U)throw U;const{data:{publicUrl:X}}=ze.storage.from("facial-recognition").getPublicUrl(V);s(X),o(!0),e(!0),h("Face registered successfully!")}catch(z){console.error("Upload error:",z),h("Error: ".concat(z instanceof Error?z.message:"Failed to save")),o(!1),e(!1)}finally{l(!1)}},B=async L=>{if(!L.detail.checked){await D();return}r||await I()},D=async()=>{try{const{data:{user:L}}=await ze.auth.getUser();if(L){const{data:z}=await ze.from("user_facial_enrollments").select("storage_path").eq("user_id",L.id).single();await ze.from("user_facial_enrollments").delete().eq("user_id",L.id),z!=null&&z.storage_path&&await ze.storage.from("facial-recognition").remove([z.storage_path])}}catch(L){console.error("Cleanup error:",L)}finally{s(null),o(!1),e(!1)}},P=()=>{var L;v.current&&cancelAnimationFrame(v.current),(L=g.current)!=null&&L.srcObject&&g.current.srcObject.getTracks().forEach(z=>z.stop())},_=()=>{P(),f(!1),b(!1)};return T.jsxs("div",{className:"ion-padding",children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[T.jsx(Ti,{children:T.jsx("strong",{children:"Facial Recognition"})}),a?T.jsx(Wa,{name:"crescent"}):T.jsx(X1,{checked:i,onIonChange:B,disabled:a||n})]}),r&&T.jsx(Co,{children:T.jsx(So,{children:T.jsx(Vl,{children:T.jsx(ks,{className:"ion-justify-content-center",children:T.jsxs(pr,{size:"12",className:"ion-text-center",children:[T.jsx(K1,{src:r,style:{width:"150px",height:"150px",borderRadius:"50%",margin:"0 auto",objectFit:"cover"}}),T.jsx(Wi,{color:"success",children:T.jsx("p",{children:"Face registered"})})]})})})})}),T.jsxs(Pa,{isOpen:p,onDidDismiss:_,style:{"--width":"100%","--height":"100%","--border-radius":"0","--background":"#000"},children:[T.jsx(Ai,{children:T.jsx(Ni,{color:"primary",children:T.jsx(so,{children:"Register Your Face"})})}),T.jsx(On,{children:T.jsxs("div",{className:"camera-container",children:[T.jsx("video",{ref:g,autoPlay:!0,playsInline:!0,muted:!0,className:"camera-preview"}),T.jsx("canvas",{ref:x,style:{display:"none"}}),m&&T.jsxs("div",{className:"detection-indicator",children:[T.jsx(Wa,{name:"crescent",color:"light"}),T.jsx("span",{children:"Align your face"})]})]})}),T.jsx(Pie,{children:T.jsxs(Ni,{children:[T.jsxs(ut,{expand:"block",onClick:E,color:"primary",disabled:a,children:[T.jsx(St,{icon:zle,slot:"start"}),a?"Processing...":"Capture Manually"]}),T.jsxs(ut,{expand:"block",color:"medium",onClick:_,children:[T.jsx(St,{icon:_y,slot:"start"}),"Cancel"]})]})})]}),T.jsx(gc,{isOpen:c,onDidDismiss:()=>u(!1),message:d,duration:3e3,position:"top"})]})},V7e=({initialEnabled:t,onToggleChange:e,disabled:n})=>{const[i,o]=ae.useState(t),[r,s]=ae.useState(""),[a,l]=ae.useState(!1),[c,u]=ae.useState(!1),[d,h]=ae.useState(""),[p,f]=ae.useState("success"),[m,b]=ae.useState(!1);ae.useEffect(()=>{g()},[]),ae.useEffect(()=>{o(t)},[t]);const g=async()=>{try{l(!0);const{data:{user:w},error:C}=await ze.auth.getUser();if(C||!w){console.log("No authenticated user");return}const{data:S,error:E}=await ze.from("user_voice_passwords").select("password").eq("user_id",w.id).single();if(E||!S){console.log("No existing voice password found");return}s(S.password),b(!0),o(!0),e(!0)}catch(w){console.error("Error checking for voice password:",w)}finally{l(!1)}},x=async w=>{!w&&m?await v():(s(""),o(w),e(w))},y=async()=>{if(!r.trim()){h("Please enter a voice password"),f("warning"),u(!0);return}l(!0);try{const{data:{user:w},error:C}=await ze.auth.getUser();if(C||!w)throw new Error((C==null?void 0:C.message)||"Not authenticated");const{error:S}=await ze.from("user_voice_passwords").upsert({user_id:w.id,password:r},{onConflict:"user_id"});if(S)throw S;h("Voice password saved successfully"),f("success"),o(!0),b(!0),e(!0)}catch(w){console.error("Error saving voice password:",w),h("Failed to save voice password"),f("danger"),o(!1),e(!1)}finally{l(!1),u(!0)}},v=async()=>{l(!0);try{const{data:{user:w}}=await ze.auth.getUser();w&&await ze.from("user_voice_passwords").delete().eq("user_id",w.id),s(""),o(!1),b(!1),e(!1),h("Voice password removed"),f("success"),u(!0)}catch(w){console.error("Error removing voice password:",w),h("Failed to remove voice password"),f("danger"),u(!0)}finally{l(!1)}};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[T.jsx(Ti,{style:{marginLeft:"1rem"},children:T.jsx("strong",{children:"Enable Voice Password"})}),a?T.jsx(Wa,{style:{marginLeft:"1rem"},name:"crescent"}):T.jsx(X1,{style:{marginLeft:"1rem"},checked:i,onIonChange:w=>x(w.detail.checked),disabled:n||a})]}),i&&T.jsx(Co,{style:{width:"100%",maxWidth:"400px",marginLeft:"1rem"},children:T.jsx(So,{children:m?T.jsxs(T.Fragment,{children:[T.jsx(Wn,{label:"Your voice password is saved",labelPlacement:"floating",value:"********",disabled:!0,type:"password"}),T.jsx("div",{style:{display:"flex",marginTop:"1rem",gap:"1rem"},children:T.jsx(ut,{color:"danger",onClick:v,disabled:a||n,children:"Remove Voice Password"})})]}):T.jsxs(T.Fragment,{children:[T.jsx(Wn,{label:"Enter voice password",labelPlacement:"floating",value:r,onIonChange:w=>s(w.detail.value),disabled:a||n,type:"password"}),T.jsxs("div",{style:{display:"flex",marginTop:"1rem",gap:"1rem"},children:[T.jsx(ut,{onClick:y,disabled:a||n||!r.trim(),children:a?"Saving...":"Submit"}),T.jsx(ut,{fill:"outline",color:"danger",onClick:v,disabled:a||n,children:"Cancel"})]})]})})}),T.jsx(gc,{isOpen:c,onDidDismiss:()=>u(!1),message:d,duration:2e3,color:p,position:"top"})]})},H7e=()=>{const[t,e]=ae.useState(!1),[n,i]=ae.useState([]),[o,r]=ae.useState(!1),[s,a]=ae.useState(""),[l,c]=ae.useState(!1),[u,d]=ae.useState(!1),[h,p]=ae.useState(!1),[f,m]=Xue(),[b,g]=ae.useState(null),[x,y]=ae.useState(!0),[v,w]=ae.useState(null);ae.useEffect(()=>{(async()=>{var z;try{const{data:{user:V},error:q}=await ze.auth.getUser();if(q)throw q;if(V){g(V);const{data:U,error:X}=await ze.from("recovery_codes").select("code_hash, code_status").eq("user_id",V.id).eq("code_status","active");if(X)throw X;const{count:G}=await ze.from("totp_codes").select("*",{count:"exact",head:!0}).eq("user_id",V.id).is("used_at",null),{data:W}=await ze.storage.from("facial-recognition").list("".concat(V.id,"/")),{data:le}=await ze.from("voice_passwords").select("*").eq("user_id",V.id).is("verified_at",null).single(),oe=(G!=null?G:0)>0,ie=(z=W==null?void 0:W.some($e=>$e.name==="profile.jpg"))!=null?z:!1,we=le!==null;U&&i(U),e(U&&U.length>0||oe||ie||we),w(oe?"totp":ie?"facial":we?"voice":null)}}catch(V){console.error("Error checking MFA status:",V),a("Failed to load MFA status"),c(!0)}finally{y(!1)}})()},[]);const C=async L=>{const z=Array.from({length:5},()=>Math.floor(1e7+Math.random()*9e7).toString()),{data:V,error:q}=await ze.from("recovery_codes").insert(z.map(U=>({user_id:L,code_hash:U,code_status:"active"}))).select("code_hash, code_status");if(q)throw q;return V||[]},S=async L=>{const{error:z}=await ze.from("recovery_codes").delete().eq("user_id",L);if(z)throw z},E=async L=>{if(L.detail.checked)if(n.length===0)try{p(!0);const V=await C((b==null?void 0:b.id)||"");i(V),e(!0),a("MFA enabled with recovery codes!"),c(!0)}catch(V){a("Failed to enable MFA"),c(!0)}finally{p(!1)}else e(!0);else d(!0)},I=async L=>{if(d(!1),!!b){p(!0);try{await S(b.id);const{error:z,count:V}=await ze.from("user_totp").delete({count:"exact"}).eq("user_id",b.id);if(z)throw z;console.log("Deleted ".concat(V||0," TOTP records"));const{error:q}=await ze.from("user_facial_enrollments").delete().eq("user_id",b.id);if(q)throw q;try{const{data:X,error:G}=await ze.storage.from("facial-recognition").list(b.id);if(G)throw G;if(X&&X.length>0){const W=X.map(oe=>"".concat(b.id,"/").concat(oe.name)),{error:le}=await ze.storage.from("facial-recognition").remove(W);if(le)throw le;console.log("Deleted ".concat(W.length," facial recognition files"))}}catch(X){console.error("Facial storage cleanup error:",X)}const{error:U}=await ze.from("user_voice_passwords").delete().eq("user_id",b.id);if(U)throw U;i([]),e(!1),w(null),a("All MFA methods disabled successfully!"),c(!0),await ze.from("audit_logs").insert({user_id:b.id,action:"mfa_disabled",details:{methods:["totp","recovery_codes","facial","voice"]}})}catch(z){console.error("Error disabling MFA:",z),a(z.message||"Failed to completely disable MFA. Some elements may remain active."),c(!0)}finally{p(!1)}}},N=async L=>{if(L){if(w("totp"),e(!0),n.length===0)try{const z=await C((b==null?void 0:b.id)||"");i(z)}catch(z){a("Failed to generate recovery codes"),c(!0)}}else v==="totp"&&w(null)},B=async L=>{if(L){if(w("facial"),e(!0),n.length===0)try{const z=await C((b==null?void 0:b.id)||"");i(z)}catch(z){a("Failed to generate recovery codes"),c(!0)}}else v==="facial"&&w(null)},D=async L=>{if(L){if(w("voice"),e(!0),n.length===0)try{const z=await C((b==null?void 0:b.id)||"");i(z)}catch(z){a("Failed to generate recovery codes"),c(!0)}}else v==="voice"&&w(null)},P=()=>{const L=n.map(z=>z.code_hash).join("\n");m(L),r(!0),setTimeout(()=>r(!1),2e3)},_=async()=>{if(b){p(!0);try{await S(b.id);const L=await C(b.id);i(L),a("Recovery codes regenerated!"),c(!0)}catch(L){console.error("Error regenerating codes:",L),a(L.message||"Failed to regenerate codes"),c(!0)}finally{p(!1)}}};return x?T.jsx(On,{className:"ion-padding",children:T.jsx(Wa,{name:"crescent"})}):T.jsxs(On,{className:"ion-padding",children:[T.jsx(Co,{children:T.jsx(So,{children:T.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1px"},children:T.jsxs("div",{style:{flexGrow:1},children:[T.jsx("h2",{style:{margin:0},children:"Multi-Factor Authentication"}),T.jsx("p",{style:{margin:0,fontSize:"0.9em",color:"#666"},children:"Add an extra layer of security to your account"}),T.jsx(X1,{checked:t,onIonChange:E,disabled:h})]})})})}),t&&T.jsxs(T.Fragment,{children:[n.length>0&&T.jsxs(Co,{children:[T.jsxs(_4,{children:[T.jsx(nh,{children:"Your Recovery Codes"}),T.jsxs(ut,{expand:"block",onClick:_,color:"warning",disabled:h,children:[T.jsx(St,{slot:"start",icon:Qle}),"Regenerate All Codes"]})]}),T.jsxs(So,{children:[T.jsx(Wi,{color:"medium",children:T.jsx("p",{children:"Save these codes in a secure place. Each code can be used only once."})}),T.jsx(M7,{lines:"full",className:"ion-margin-vertical",children:n.map((L,z)=>T.jsx(yo,{children:T.jsxs(Ti,{children:[T.jsx("h3",{children:L.code_hash}),T.jsxs("p",{children:["Status: ",L.code_status]})]})},z))}),T.jsxs(ut,{expand:"block",onClick:P,color:"primary",children:[T.jsx(St,{slot:"start",icon:o?Fle:X9}),o?"Copied!":"Copy All Codes"]})]})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0px",marginTop:"10px"},children:[T.jsx(Yue,{userId:(b==null?void 0:b.id)||"",initialEnabled:v==="totp",onToggleChange:N,disabled:!1}),T.jsx(U7e,{initialEnabled:v==="facial",onToggleChange:B,disabled:!1}),T.jsx(V7e,{initialEnabled:v==="voice",onToggleChange:D,disabled:!1})]})]}),T.jsx(mc,{isOpen:u,onDidDismiss:()=>d(!1),header:"Disable MFA?",message:"Are you sure you want to disable Multi-Factor Authentication? This will make your account less secure.",buttons:[{text:"Cancel",role:"cancel"},{text:"Disable",handler:()=>I()}]}),T.jsx(gc,{isOpen:l,onDidDismiss:()=>c(!1),message:s,duration:3e3,position:"top"})]})},W7e=()=>{const[t,e]=ae.useState(""),[n,i]=ae.useState(""),[o,r]=ae.useState(""),[s,a]=ae.useState(""),[l,c]=ae.useState(""),[u,d]=ae.useState(""),[h,p]=ae.useState(""),[f,m]=ae.useState(null),[b,g]=ae.useState(null),[x,y]=ae.useState(!1),[v,w]=ae.useState(""),[C,S]=ae.useState(!1),[E,I]=ae.useState(!0),N=by();ae.useEffect(()=>(console.log("EditProfile component mounted"),(async()=>{I(!0),console.log("Starting to fetch session and user data...");try{const{data:z,error:V}=await ze.auth.getSession();if(console.log("Session data:",z),console.log("Session error:",V),V||!(z!=null&&z.session)){console.error("No valid session found:",V),w("You must be logged in to access this page."),y(!0),N.push("/Cephaline-Supabase/login");return}console.log("Fetching user data for email:",z.session.user.email);const{data:q,error:U}=await ze.from("users").select("user_firstname, user_lastname, user_avatar_url, user_email, username").eq("user_email",z.session.user.email).single();if(console.log("User data:",q),console.log("User error:",U),U||!q){console.error("Failed to fetch user data:",U),w("Failed to load user data. Please try again."),y(!0);return}c(q.user_firstname||""),d(q.user_lastname||""),g(q.user_avatar_url),e(q.user_email||""),p(q.username||""),console.log("User data set in state")}catch(z){console.error("Error in fetchSessionAndData:",z),w("An unexpected error occurred. Please try again."),y(!0)}finally{I(!1),console.log("Finished loading user data")}})(),()=>{console.log("Component unmounting - cleaning up"),b&&b.startsWith("blob:")&&(URL.revokeObjectURL(b),console.log("Revoked blob URL"))}),[N]);const B=L=>{var V;console.log("Avatar input changed");const z=(V=L.target.files)==null?void 0:V[0];if(z){console.log("File selected:",z.name,z.size,z.type),b&&b.startsWith("blob:")&&(URL.revokeObjectURL(b),console.log("Previous blob URL revoked")),m(z);const q=URL.createObjectURL(z);g(q),console.log("New preview URL created:",q)}else console.log("No file selected")},D=()=>(console.log("Validating form..."),o&&o!==s?(console.log("Validation failed: Passwords dont match"),w("Passwords don't match."),!1):o&&!n?(console.log("Validation failed: Current password required"),w("Please enter your current password to change your password."),!1):!l||!u?(console.log("Validation failed: Missing name fields"),w("First name and last name are required."),!1):(console.log("Form validation passed"),!0)),P=async L=>{if(!f)return b;if(console.log("Starting avatar upload for user:",L),f.size>5*1024*1024)throw new Error("Avatar image must be less than 5MB");if(!["image/jpeg","image/png","image/gif","image/webp"].includes(f.type))throw new Error("Only JPG, PNG, GIF, or WebP images are allowed");const V=f.name.split(".").pop(),q="avatar.".concat(V),U="".concat(L,"/").concat(q);try{if(b&&b.includes("user-avatars"))try{const W=b.split("user-avatars/")[1].split("?")[0];await ze.storage.from("user-avatars").remove([W])}catch(W){console.warn("Could not delete old avatar:",W)}const{error:X}=await ze.storage.from("user-avatars").upload(U,f,{cacheControl:"3600",upsert:!0,contentType:f.type});if(X)throw X;const{data:{publicUrl:G}}=ze.storage.from("user-avatars").getPublicUrl(U,{transform:{width:200,height:200,resize:"cover",quality:80}});return G}catch(X){throw console.error("Avatar upload failed:",X),new Error("Failed to upload avatar. Please try again.")}},_=async()=>{if(console.log("Update button clicked"),!D()){console.log("Validation failed - showing alert"),y(!0);return}S(!0),console.log("Starting update process...");try{const{data:L,error:z}=await ze.auth.getSession();if(console.log("Current session:",L),console.log("Session error:",z),z||!(L!=null&&L.session)){console.error("No valid session found"),w("Session expired. Please log in again."),y(!0),N.push("/Cephaline-Supabase/login");return}const V=L.session.user;if(console.log("User ID:",V.id),console.log("User email:",V.email),!V.email||!V.id){console.error("Incomplete user information"),w("User information is incomplete. Please log in again."),y(!0);return}if(o){console.log("Password change requested - verifying current password");const{error:X}=await ze.auth.signInWithPassword({email:V.email,password:n});if(console.log("Password verification result:",X),X){console.error("Current password verification failed"),w("Incorrect current password."),y(!0);return}}let q=b;try{console.log("Processing avatar upload..."),q=await P(V.id),console.log("Avatar URL after upload:",q)}catch(X){console.error("Avatar upload error:",X),w(X instanceof Error?X.message:"Failed to upload avatar"),y(!0);return}console.log("Updating user profile in database...");const{error:U}=await ze.from("users").update({user_firstname:l,user_lastname:u,user_avatar_url:q,username:h}).eq("user_email",V.email);if(console.log("Profile update result:",U),U){console.error("Profile update failed:",U),w("Profile update failed: ".concat(U.message)),y(!0);return}if(o){console.log("Updating password...");const{error:X}=await ze.auth.updateUser({password:o});if(console.log("Password update result:",X),X){console.error("Password update failed:",X),w("Password update failed: ".concat(X.message)),y(!0);return}}console.log("Profile update successful!"),w("Profile updated successfully!"),y(!0),setTimeout(()=>{console.log("Navigating back to app..."),N.push("/Cephaline-Supabase/app")},1500)}catch(L){console.error("Update error:",L),w("An unexpected error occurred. Please try again."),y(!0)}finally{S(!1),console.log("Update process completed")}};return T.jsxs(fr,{children:[T.jsx(Ai,{children:T.jsx(ro,{slot:"start",children:T.jsx(im,{defaultHref:"/Cephaline-Supabase/app"})})}),T.jsxs(On,{className:"ion-padding",children:[T.jsx(A3,{isOpen:E,message:"Loading profile..."}),T.jsx(yo,{children:T.jsx(Wi,{color:"secondary",children:T.jsx("h1",{children:"Edit Account"})})}),T.jsx("br",{}),T.jsx(Fue,{avatarPreview:b,handleAvatarChange:B}),T.jsx(Pue,{username:h,firstName:l,lastName:u,setUsername:p,setFirstName:c,setLastName:d}),T.jsx(Bue,{password:o,confirmPassword:s,currentPassword:n,setPassword:r,setConfirmPassword:a,setCurrentPassword:i}),T.jsx(ut,{expand:"full",onClick:_,shape:"round",disabled:C,children:C?"Updating...":"Update Account"}),T.jsx(H7e,{}),T.jsx(mc,{isOpen:x,onDidDismiss:()=>y(!1),message:v,buttons:["OK"]})]})]})},G7e=({markdownContent:t,onContentChange:e})=>T.jsx(Co,{style:{height:"400px",margin:"0 0 20px 0"},children:T.jsx(So,{style:{height:"100%",padding:"0"},children:T.jsx($4,{value:t,placeholder:"Write your journal entry (supports Markdown formatting)...",autoGrow:!0,rows:6,onIonChange:n=>e(n.detail.value),style:{height:"100%",fontSize:"14px",padding:"10px"}})})}),q7e=({onSave:t,disabled:e,loading:n})=>T.jsx(ut,{onClick:t,disabled:e||n,expand:"block",children:n?T.jsxs(T.Fragment,{children:[T.jsx(Wa,{name:"crescent"}),"Saving..."]}):"Save Page"}),K7e=({selectedMood:t,onMoodChange:e})=>{const n=[{level:"angry",display:"Angry",min:0,max:20,color:"#F44336",icon:Dle},{level:"sad",display:"Sad",min:20,max:40,color:"#FF9800",icon:tce},{level:"neutral",display:"Neutral",min:40,max:60,color:"#FFC107",icon:ece},{level:"happy",display:"Happy",min:60,max:80,color:"#8BC34A",icon:Ule},{level:"love",display:"Super Happy",min:80,max:100,color:"#4CAF50",icon:Hle}],[i,o]=ae.useState(t&&n.findIndex(c=>c.level===t)*20+10||50),s=n.find(u=>i>=u.min&&i<=u.max)||n[2],a=c=>{o(c);const u=n.find(d=>c>=d.min&&c<=d.max)||n[2];e(u.level)},l=c=>{const u=c*20+10;o(u),e(n[c].level)};return T.jsxs(yo,{lines:"none",style:{flexDirection:"column",alignItems:"flex-start",width:"100%",margin:"30px 0 50px 0",padding:"0 16px","--inner-padding-end":"0"},children:[T.jsx(Ti,{children:"Mood Spectrum"}),T.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",margin:"8px 0"},children:[T.jsx(St,{icon:s.icon,style:{color:s.color,minWidth:"24px"}}),T.jsx(Uie,{min:0,max:100,value:i,onIonChange:c=>a(c.detail.value),style:{flex:1,margin:"0 12px","--bar-background":"linear-gradient(to right, \n              ".concat(n.map(c=>"".concat(c.color," ").concat(c.min,"%, ").concat(c.color," ").concat(c.max,"%")).join(", "))}}),T.jsx(St,{icon:s.icon,style:{color:s.color,minWidth:"24px"}})]}),T.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",width:"100%",gap:"8px",marginTop:"8px"},children:n.map((c,u)=>T.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",flex:"1 0 calc(20% - 8px)",minWidth:"60px"},onClick:()=>l(u),children:[T.jsx(St,{icon:c.icon,style:{color:c.level===s.level?c.color:"#cccccc",fontSize:"24px",padding:"4px"}}),T.jsx("span",{style:{fontSize:"10px",marginTop:"4px",color:c.level===s.level?c.color:"#666666",textAlign:"center",wordBreak:"break-word"},children:c.display})]},c.level))}),T.jsxs(Ti,{style:{fontSize:"14px",marginTop:"12px",color:s.color,fontWeight:"bold",width:"100%",textAlign:"center"},children:["Current Mood: ",s.display]})]})},X7e=({onAttach:t,isUploading:e})=>{const[n,i]=ae.useState(null),[o,r]=ae.useState(!1),[s,a]=ae.useState(!1),[l,c]=ae.useState(!1),[u,d]=ae.useState(""),h=ae.useRef(null),[p,f]=ae.useState(null),[m,b]=ae.useState(null),g=[{id:"link",icon:W3,label:"Attach Link"},{id:"image",icon:H3,label:"Attach Image"},{id:"file",icon:aA,label:"Attach File"}],x=I=>{var B;if(e)return;const N=(B=I.target.files)==null?void 0:B[0];N&&(N.type.startsWith("image/")?f(N):b(N))},y=I=>{if(!e)switch(I){case"link":r(!0);break;case"image":a(!0);break;case"file":c(!0);break}},v=()=>{if(e||!u.trim())return;let I=u;/^https?:\/\//i.test(u)||(I="http://"+u),t({type:"link",content:I}),r(!1),d("")},w=()=>{e||!p||(t({type:"image",content:p}),f(null),a(!1))},C=()=>{e||!m||(t({type:"file",content:m}),b(null),c(!1))},S=()=>{r(!1),a(!1),c(!1),d(""),f(null),b(null)},E=I=>{var B;switch((B=I.split(".").pop())==null?void 0:B.toLowerCase()){case"pdf":return T.jsx(St,{icon:Kp,color:"danger"});case"doc":case"docx":return T.jsx(St,{icon:Kp,color:"primary"});case"xls":case"xlsx":return T.jsx(St,{icon:Kp,color:"success"});case"ppt":case"pptx":return T.jsx(St,{icon:Kp,color:"warning"});default:return T.jsx(St,{icon:Kp})}};return T.jsxs(T.Fragment,{children:[T.jsx(ks,{style:{justifyContent:"flex-start",gap:"8px",padding:"8px"},children:g.map(({id:I,icon:N,label:B})=>T.jsx(pr,{size:"auto",children:T.jsxs("div",{onMouseEnter:()=>!e&&i(I),onMouseLeave:()=>i(null),style:{position:"relative",display:"inline-block",opacity:e?.6:1},children:[T.jsx(St,{icon:N,size:"large",onClick:()=>y(I),style:{cursor:e?"not-allowed":"pointer",padding:"4px"}}),n===I&&T.jsx("div",{style:{position:"absolute",top:"-40px",left:"50%",transform:"translateX(-50%)",backgroundColor:"#333",color:"#fff",padding:"4px 8px",borderRadius:"4px",whiteSpace:"nowrap",zIndex:1e3,fontSize:"14px"},children:B})]})},I))}),T.jsxs(Pa,{isOpen:o,onDidDismiss:S,children:[T.jsx(Ai,{children:T.jsxs(Ni,{children:[T.jsx(so,{children:"Attach Link"}),T.jsx(ro,{slot:"end",children:T.jsx(ut,{onClick:S,children:T.jsx(St,{icon:Mb})})})]})}),T.jsxs(On,{className:"ion-padding",children:[T.jsx(Wn,{value:u,placeholder:"Enter URL (e.g., example.com)",onIonChange:I=>d(I.detail.value),style:{marginBottom:"16px"},disabled:e}),T.jsx(ut,{expand:"block",onClick:v,disabled:e||!u.trim(),children:e?"Uploading...":"Attach Link"})]})]}),T.jsxs(Pa,{isOpen:s,onDidDismiss:S,children:[T.jsx(Ai,{children:T.jsxs(Ni,{children:[T.jsx(so,{children:"Attach Image"}),T.jsx(ro,{slot:"end",children:T.jsx(ut,{onClick:S,children:T.jsx(St,{icon:Mb})})})]})}),T.jsx(On,{className:"ion-padding",children:T.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[T.jsx("div",{style:{border:"2px dashed var(--ion-color-medium)",borderRadius:"8px",padding:"20px",textAlign:"center",marginBottom:"16px",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:p?T.jsx("img",{src:URL.createObjectURL(p),alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"8px"}}):T.jsxs(T.Fragment,{children:[T.jsx(St,{icon:H3,size:"large",style:{marginBottom:"8px",color:"var(--ion-color-medium)"}}),T.jsx(Wi,{color:"medium",children:T.jsx("p",{children:"Drag and drop images here or"})}),T.jsx(ut,{fill:"outline",style:{marginTop:"8px"},onClick:()=>{var I;return!e&&((I=h.current)==null?void 0:I.click())},disabled:e,children:"Select Image"}),T.jsx("input",{type:"file",accept:"image/*",ref:h,style:{display:"none"},onChange:x,disabled:e})]})}),T.jsx(ut,{expand:"block",onClick:w,disabled:e||!p,children:e?"Uploading...":"Attach Image"})]})})]}),T.jsxs(Pa,{isOpen:l,onDidDismiss:S,children:[T.jsx(Ai,{children:T.jsxs(Ni,{children:[T.jsx(so,{children:"Attach File"}),T.jsx(ro,{slot:"end",children:T.jsx(ut,{onClick:S,children:T.jsx(St,{icon:Mb})})})]})}),T.jsx(On,{className:"ion-padding",children:T.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[T.jsx("div",{style:{border:"2px dashed var(--ion-color-medium)",borderRadius:"8px",padding:"20px",textAlign:"center",marginBottom:"16px",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:m?T.jsxs(yo,{lines:"none",style:{width:"100%"},children:[T.jsx(Wie,{slot:"start",children:E(m.name)}),T.jsxs(Ti,{children:[T.jsx("h3",{children:m.name}),T.jsxs("p",{children:[(m.size/1024).toFixed(2)," KB"]})]})]}):T.jsxs(T.Fragment,{children:[T.jsx(St,{icon:aA,size:"large",style:{marginBottom:"8px",color:"var(--ion-color-medium)"}}),T.jsx(Wi,{color:"medium",children:T.jsx("p",{children:"Drag and drop files here or"})}),T.jsx(ut,{fill:"outline",style:{marginTop:"8px"},onClick:()=>{var I;return!e&&((I=h.current)==null?void 0:I.click())},disabled:e,children:"Select File"}),T.jsx("input",{type:"file",ref:h,style:{display:"none"},onChange:x,disabled:e})]})}),T.jsx(ut,{expand:"block",onClick:C,disabled:e||!m,children:e?"Uploading...":"Attach File"})]})})]})]})},Y7e=t=>/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t),Z7e=()=>{const t=Jl(),{journalId:e}=xy(),n=e!=null&&e.startsWith(":")?e.slice(1):e,[i,o]=ae.useState(""),[r,s]=ae.useState(""),[a,l]=ae.useState(null),[c,u]=ae.useState(!1),[d,h]=ae.useState(!1),[p,f]=ae.useState(!1),[m]=Y1();if(!n||!Y7e(n))return T.jsx(fr,{children:T.jsx(On,{className:"ion-padding",children:T.jsx(Co,{color:"danger",children:T.jsx(So,{children:"Invalid Journal ID format. Please go back and try again."})})})});const b=async C=>{h(!0);try{const{data:{user:S},error:E}=await ze.auth.getUser(),I=S==null?void 0:S.id;if(E||!I)throw new Error("You must be logged in to upload files");const N=Date.now(),B=C.name.replace(/[^a-zA-Z0-9._-]/g,"_"),D="".concat(I,"/").concat(n,"/").concat(N,"_").concat(B),{data:P,error:_}=await ze.storage.from("journal-contents").upload(D,C,{cacheControl:"3600",upsert:!1,contentType:C.type});if(_)throw _;const{data:L}=ze.storage.from("journal-contents").getPublicUrl(D);return L.publicUrl}catch(S){return m({message:"Upload failed: ".concat(S.message),duration:3e3,color:"danger"}),null}finally{h(!1)}},g=async C=>{try{let S=C.content;if(C.content instanceof File){const E=await b(C.content);if(!E)return;S=E}o(E=>E+"\n".concat(S,"\n"))}catch(S){m({message:"Failed to attach file",duration:3e3,color:"danger"})}},x=C=>{const S=[],E=C.split("\n");for(const I of E)if(I.trim())try{new URL(I.trim()),S.push({type:"link",content:I.trim()});continue}catch(N){S.push({type:"paragraph",content:I})}return S},y=()=>r.trim()?r.length>100?(m({message:"Title is too long (max 100 characters)",duration:2e3,color:"warning"}),!1):i.trim()?!0:(m({message:"Journal content cannot be empty",duration:2e3,color:"warning"}),!1):(m({message:"Page title cannot be empty",duration:2e3,color:"warning"}),!1),v=async()=>{var C;if(!(!y()||d)){u(!0);try{const{data:S,error:E}=await ze.from("journal_pages").select("page_no").eq("journal_id",n).order("page_no",{ascending:!1}).limit(1);if(E)throw E;const I=(C=S==null?void 0:S[0])!=null&&C.page_no?S[0].page_no+1:1,{data:N,error:B}=await ze.from("journal_pages").insert({journal_id:n,page_title:r.trim(),page_no:I,mood:a}).select().single();if(B)throw B;const P=x(i).map((L,z)=>({page_id:N.page_id,content_order:z+1,paragraph:L.type==="paragraph"?L.content:null,link:L.type==="link"?L.content:null})),{error:_}=await ze.from("journal_page_contents").insert(P);if(_)throw _;m({message:"Journal page saved successfully!",duration:2e3,color:"success"}),o(""),s(""),l(null)}catch(S){m({message:"Failed to save: ".concat(S.message),duration:3e3,color:"danger"})}finally{u(!1)}t.push("/Cephaline-Supabase/app","forward","replace")}},w=async()=>{try{u(!0);const{data:{user:C}}=await ze.auth.getUser();if(C){const I="".concat(C.id,"/").concat(n),{error:N}=await ze.storage.from("journal-contents").remove([I]);N&&console.error("Error deleting files:",N)}const{error:S}=await ze.from("journal_pages").delete().eq("journal_id",n);if(S)throw S;const{error:E}=await ze.from("journals").delete().eq("journal_id",n);if(E)throw E;m({message:"Journal deleted successfully",duration:2e3,color:"success"}),t.push("/Cephaline-Supabase/app","forward","replace")}catch(C){m({message:"Failed to delete journal: ".concat(C.message),duration:3e3,color:"danger"})}finally{u(!1),f(!1)}};return T.jsxs(fr,{children:[T.jsx(Ai,{children:T.jsx(Ni,{})}),T.jsx(mc,{isOpen:p,onDidDismiss:()=>f(!1),header:"Delete Journal",message:"Are you sure you want to delete this journal and all its contents? This action cannot be undone.",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Delete",handler:w}]}),T.jsxs(On,{className:"ion-padding",children:[T.jsx(Co,{style:{marginBottom:"20px"},children:T.jsxs(So,{children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[T.jsx(ro,{slot:"start",children:T.jsx(im,{defaultHref:"/Cephaline-Supabase/app/home"})}),T.jsx(ro,{slot:"end",children:T.jsx(ut,{color:"danger",onClick:()=>f(!0),children:T.jsx(St,{slot:"icon-only",icon:ace})})})]}),T.jsxs("p",{children:["Viewing journal entry ",T.jsx("strong",{children:n})]}),T.jsx(yo,{children:T.jsx(Wn,{value:r,placeholder:"Page Title",onIonChange:C=>s(C.detail.value)})})]})}),T.jsx("h2",{style:{margin:"20px 0"},children:"How are you feeling today?"}),T.jsx(K7e,{selectedMood:a,onMoodChange:l}),T.jsx(G7e,{markdownContent:i,onContentChange:o}),T.jsx(X7e,{onAttach:g,isUploading:d}),T.jsx(q7e,{onSave:v,disabled:!r.trim()||!i.trim()||c||d,loading:c})]})]})},J7e=({journalId:t,journalTitle:e,journalDescription:n="",onUpdate:i})=>{const o=Jl(),[r,s]=ae.useState(e||""),[a,l]=ae.useState(n||""),[c,u]=ae.useState(!1),[d,h]=ae.useState(!1),[p,f]=ae.useState(!1),[m,b]=ae.useState(!1),[g,x]=ae.useState(""),[y,v]=ae.useState(!1),w=Jl();ae.useEffect(()=>{s(e||""),l(n||"")},[e,n]);const C=()=>{o.push("/Cephaline-Supabase/app/JournalPage/".concat(t))},S=async()=>{s(e||""),l(n||""),u(!0)},E=async()=>{if(!(r!=null&&r.trim())){x("Title cannot be empty"),b(!0);return}f(!0);try{const{error:N}=await ze.from("journals").update({title:r.trim(),description:a.trim(),updated_at:new Date().toISOString()}).eq("journal_id",t);if(N)throw N;x("Journal updated successfully"),b(!0),i&&i(),u(!1)}catch(N){console.error("Error updating journal:",N),x("Failed to update journal"),b(!0)}finally{f(!1)}},I=async()=>{try{const{data:{user:N}}=await ze.auth.getUser();if(N){const{data:L,error:z}=await ze.storage.from("journal-contents").list("".concat(N.id,"/").concat(t));if(z)throw z;if(L&&L.length>0){const V=L.map(U=>"".concat(N.id,"/").concat(t,"/").concat(U.name)),{error:q}=await ze.storage.from("journal-contents").remove(V);if(q)throw q}await ze.storage.from("journal-contents").remove(["".concat(N.id,"/").concat(t)])}const{data:B,error:D}=await ze.from("journal_pages").select("page_id").eq("journal_id",t);if(D)throw D;if(B&&B.length>0){const L=B.map(V=>V.page_id),{error:z}=await ze.from("journal_page_contents").delete().in("page_id",L);if(z)throw z}const{error:P}=await ze.from("journal_pages").delete().eq("journal_id",t);if(P)throw P;const{error:_}=await ze.from("journals").delete().eq("journal_id",t);if(_)throw _;x("Journal and all contents deleted successfully"),b(!0),setTimeout(()=>{o.push("/Cephaline-Supabase/app/journals")},1e3)}catch(N){console.error("Error deleting journal:",N),x("Failed to delete journal. Please try again."),b(!0)}finally{w.push("/Cephaline-Supabase/app","forward","replace")}};return T.jsxs(T.Fragment,{children:[T.jsx(Co,{className:"overview-main-card",children:T.jsx(So,{children:T.jsxs("div",{className:"card-actions-container",children:[T.jsxs(ut,{size:"small",onClick:C,className:"action-button",children:[T.jsx(St,{slot:"start",icon:Nle}),"Add Page"]}),T.jsxs(ut,{size:"small",color:"medium",onClick:S,className:"action-button",disabled:y,children:[T.jsx(St,{slot:"start",icon:ice}),y?"Loading...":"Settings"]})]})})}),T.jsxs(Pa,{isOpen:c,onDidDismiss:()=>u(!1),children:[T.jsx(Ai,{children:T.jsxs(Ni,{children:[T.jsx(ro,{slot:"start",children:T.jsx(ut,{onClick:()=>u(!1),children:T.jsx(St,{slot:"icon-only",icon:_y})})}),T.jsx(so,{children:"Journal Settings"}),T.jsx(ro,{slot:"end",children:T.jsx(ut,{color:"danger",onClick:()=>h(!0),disabled:p,children:T.jsx(St,{slot:"icon-only",icon:sce})})})]})}),T.jsxs(On,{className:"ion-padding",children:[T.jsxs(yo,{children:[T.jsx(Ti,{position:"stacked",children:"Title *"}),T.jsx(Wn,{value:r,onIonChange:N=>{var B;return s((B=N.detail.value)!=null?B:"")},placeholder:"Enter new journal title",clearInput:!0})]}),T.jsxs(yo,{children:[T.jsx(Ti,{position:"stacked",children:"Description"}),T.jsx($4,{value:a,onIonChange:N=>{var B;return l((B=N.detail.value)!=null?B:"")},placeholder:"Enter new journal description",rows:4,autoGrow:!0})]}),T.jsx("div",{className:"ion-padding-top",children:T.jsx(ut,{expand:"block",onClick:E,disabled:!(r!=null&&r.trim())||p,children:p?"Updating...":"Save Changes"})})]})]}),T.jsx(mc,{isOpen:d,onDidDismiss:()=>h(!1),header:"Delete Journal",message:"Are you sure you want to delete this journal? All pages will be permanently deleted.",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:I}]}),T.jsx(gc,{isOpen:m,onDidDismiss:()=>b(!1),message:g,duration:2e3})]})},Q7e=({journalId:t})=>{const e=Jl(),[n]=Y1();console.log("OverviewSideCard received journalId:",t);const i=async()=>{if(console.log("Page List button clicked with journalId:",t),!t){console.error("No journalId provided to OverviewSideCard"),await n({message:"Journal ID is missing! Cannot navigate.",duration:2e3,color:"danger",position:"top"});return}const o="/Cephaline-Supabase/app/page-list/".concat(t);console.log("Attempting to navigate to:",o),e.push(o)};return T.jsx(Co,{className:"overview-side-card",children:T.jsxs(So,{children:[T.jsx("h2",{children:"Journal Navigation"}),T.jsxs(ut,{expand:"block",fill:"outline",onClick:i,disabled:!t,style:{zIndex:10},children:[T.jsx(St,{icon:Kle,slot:"start"}),"Page List"]})]})})},e9e=()=>{const{journalId:t}=xy(),[e,n]=ae.useState(""),[i,o]=ae.useState(""),[r,s]=ae.useState(""),[a,l]=ae.useState({titleColor:"#3880ff",descriptionColor:"#555555",cardColor:"#ffffff"}),[c,u]=ae.useState(!0),[d,h]=ae.useState(""),[p,f]=ae.useState(!1),[m,b]=ae.useState(null),g=Jl();ae.useEffect(()=>{t&&(x(),y())},[t]);const x=async()=>{u(!0);try{const{data:w,error:C}=await ze.from("journals").select("title, description, created_at, title_color, description_color, card_color").eq("journal_id",t).single();if(C)throw C;n(w.title),o(w.description||""),s(w.created_at),l({titleColor:w.title_color||"#3880ff",descriptionColor:w.description_color||"#555555",cardColor:w.card_color||"#ffffff"})}catch(w){console.error("Error fetching journal:",w),h("Failed to load journal"),f(!0)}finally{u(!1)}},y=async()=>{try{const{data:w,error:C}=await ze.from("journal_pages").select("page_id").eq("journal_id",t).order("page_no",{ascending:!0}).limit(1).single();if(C)throw C;b((w==null?void 0:w.page_id)||null)}catch(w){console.error("Error fetching first page:",w)}},v=()=>{m?g.push("/cephaline-supabase/app/JournalPageView/".concat(t,"/").concat(m)):(h("This journal has no pages yet"),f(!0))};return t?T.jsxs(fr,{children:[T.jsx(Ai,{children:T.jsxs(Ni,{children:[T.jsx(ro,{slot:"start",children:T.jsx(j7,{})}),T.jsx(so,{children:"Journal Overview"})]})}),T.jsxs(On,{fullscreen:!0,children:[T.jsxs("div",{className:"overview-container",style:{padding:"16px"},children:[c?T.jsx(Wa,{name:"crescent"}):T.jsx(T.Fragment,{children:T.jsx(J7e,{journalId:t,journalTitle:e,journalDescription:i,onUpdate:x})}),T.jsx(Q7e,{journalId:t})]}),T.jsxs("div",{className:"journal-cover clickable-book",onClick:v,style:{backgroundColor:a.cardColor,padding:"16px",borderRadius:"12px",margin:"20px auto",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease",height:"650px",width:"500px",position:"relative",borderBottom:"4px solid #d3d3d3",borderRight:"4px solid #d3d3d3",display:"flex",flexDirection:"column",justifyContent:"space-between",cursor:"pointer"},children:[T.jsx("div",{style:{height:"2px",backgroundColor:"#ccc",width:"100%",position:"absolute",top:0,left:0}}),T.jsxs("div",{style:{paddingTop:"20px"},children:[T.jsx("h1",{style:{color:a.titleColor,marginBottom:"8px",textAlign:"center",fontSize:"2rem",fontWeight:"bold"},children:e}),T.jsx("p",{style:{color:a.descriptionColor,textAlign:"center",marginTop:"50px",fontSize:"1.2rem",padding:"0 20px"},children:i})]}),T.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:T.jsxs("p",{style:{fontSize:"0.9rem",color:"#888"},children:["Created:"," ",new Date(r).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})]})}),T.jsx("div",{style:{height:"2px",backgroundColor:"#ccc",width:"100%",position:"absolute",bottom:0,left:0}})]}),T.jsx(gc,{isOpen:p,onDidDismiss:()=>f(!1),message:d,duration:2e3})]})]}):T.jsxs(fr,{children:[T.jsx(Ai,{children:T.jsx(Ni,{children:T.jsx(so,{children:"Error: No Journal Selected"})})}),T.jsx(On,{children:T.jsx("p",{children:"Please select a journal from the main page."})})]})},t9e=()=>{const{journalId:t}=xy(),[e,n]=ae.useState([]),[i,o]=ae.useState(!0);ae.useEffect(()=>{t&&(async()=>{try{const{data:a,error:l}=await ze.from("journal_pages").select("page_id, page_no, page_title, mood, created_at, updated_at").eq("journal_id",t).order("page_no",{ascending:!0});if(l)throw l;n(a||[])}catch(a){console.error("Error fetching pages:",a)}finally{o(!1)}})()},[t]);const r=s=>new Date(s).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return T.jsxs(fr,{children:[T.jsx(Ai,{children:T.jsx(Ni,{})}),T.jsx(On,{children:i?T.jsx("div",{className:"ion-padding",children:"Loading pages..."}):e.length===0?T.jsx("div",{className:"ion-padding",children:"No pages found for this journal."}):T.jsxs(M7,{children:[T.jsx(ro,{slot:"start",children:T.jsx(im,{defaultHref:"/Cephaline-Supabase/app/Overviewing/".concat(t)})}),e.map(s=>T.jsx(yo,{routerLink:"/Cephaline-Supabase/app/JournalPageView/".concat(t,"/").concat(s.page_id),detail:!0,children:T.jsxs(Ti,{children:[T.jsxs("h2",{children:[T.jsx(Px,{color:"medium",style:{marginRight:"8px"},children:s.page_no}),s.page_title]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"4px"},children:[s.mood&&T.jsx(Px,{color:"tertiary",style:{marginRight:"8px"},children:s.mood}),T.jsxs(jie,{style:{fontSize:"0.8rem"},children:["Created: ",r(s.created_at)]})]})]})},s.page_id))]})})]})};function wb(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var OU={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(i,o,r){function s(c,u){if(!o[c]){if(!i[c]){var d=typeof wb=="function"&&wb;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=o[c]={exports:{}};i[c][0].call(p.exports,function(f){var m=i[c][1][f];return s(m||f)},p,p.exports,n,i,o,r)}return o[c].exports}for(var a=typeof wb=="function"&&wb,l=0;l<r.length;l++)s(r[l]);return s}({1:[function(n,i,o){var r=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(l){for(var c,u,d,h,p,f,m,b=[],g=0,x=l.length,y=x,v=r.getTypeOf(l)!=="string";g<l.length;)y=x-g,d=v?(c=l[g++],u=g<x?l[g++]:0,g<x?l[g++]:0):(c=l.charCodeAt(g++),u=g<x?l.charCodeAt(g++):0,g<x?l.charCodeAt(g++):0),h=c>>2,p=(3&c)<<4|u>>4,f=1<y?(15&u)<<2|d>>6:64,m=2<y?63&d:64,b.push(a.charAt(h)+a.charAt(p)+a.charAt(f)+a.charAt(m));return b.join("")},o.decode=function(l){var c,u,d,h,p,f,m=0,b=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var x,y=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&y--,l.charAt(l.length-2)===a.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=s.uint8array?new Uint8Array(0|y):new Array(0|y);m<l.length;)c=a.indexOf(l.charAt(m++))<<2|(h=a.indexOf(l.charAt(m++)))>>4,u=(15&h)<<4|(p=a.indexOf(l.charAt(m++)))>>2,d=(3&p)<<6|(f=a.indexOf(l.charAt(m++))),x[b++]=c,p!==64&&(x[b++]=u),f!==64&&(x[b++]=d);return x}},{"./support":30,"./utils":32}],2:[function(n,i,o){var r=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,d,h,p,f){this.compressedSize=u,this.uncompressedSize=d,this.crc32=h,this.compression=p,this.compressedContent=f}c.prototype={getContentWorker:function(){var u=new s(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,h){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},i.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,o){var r=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,o){var r=n("./utils"),s=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();i.exports=function(a,l){return a!==void 0&&a.length?r.getTypeOf(a)!=="string"?function(c,u,d,h){var p=s,f=h+d;c^=-1;for(var m=h;m<f;m++)c=c>>>8^p[255&(c^u[m])];return-1^c}(0|l,a,a.length,0):function(c,u,d,h){var p=s,f=h+d;c^=-1;for(var m=h;m<f;m++)c=c>>>8^p[255&(c^u.charCodeAt(m))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,i,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,i,o){var r=null;r=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:r}},{lie:37}],7:[function(n,i,o){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),c=r?"uint8array":"array";function u(d,h){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}o.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},o.compressWorker=function(d){return new u("Deflate",d)},o.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,o){function r(p,f){var m,b="";for(m=0;m<f;m++)b+=String.fromCharCode(255&p),p>>>=8;return b}function s(p,f,m,b,g,x){var y,v,w=p.file,C=p.compression,S=x!==c.utf8encode,E=a.transformTo("string",x(w.name)),I=a.transformTo("string",c.utf8encode(w.name)),N=w.comment,B=a.transformTo("string",x(N)),D=a.transformTo("string",c.utf8encode(N)),P=I.length!==w.name.length,_=D.length!==N.length,L="",z="",V="",q=w.dir,U=w.date,X={crc32:0,compressedSize:0,uncompressedSize:0};f&&!m||(X.crc32=p.crc32,X.compressedSize=p.compressedSize,X.uncompressedSize=p.uncompressedSize);var G=0;f&&(G|=8),S||!P&&!_||(G|=2048);var W=0,le=0;q&&(W|=16),g==="UNIX"?(le=798,W|=function(ie,we){var $e=ie;return ie||($e=we?16893:33204),(65535&$e)<<16}(w.unixPermissions,q)):(le=20,W|=function(ie){return 63&(ie||0)}(w.dosPermissions)),y=U.getUTCHours(),y<<=6,y|=U.getUTCMinutes(),y<<=5,y|=U.getUTCSeconds()/2,v=U.getUTCFullYear()-1980,v<<=4,v|=U.getUTCMonth()+1,v<<=5,v|=U.getUTCDate(),P&&(z=r(1,1)+r(u(E),4)+I,L+="up"+r(z.length,2)+z),_&&(V=r(1,1)+r(u(B),4)+D,L+="uc"+r(V.length,2)+V);var oe="";return oe+="\n\0",oe+=r(G,2),oe+=C.magic,oe+=r(y,2),oe+=r(v,2),oe+=r(X.crc32,4),oe+=r(X.compressedSize,4),oe+=r(X.uncompressedSize,4),oe+=r(E.length,2),oe+=r(L.length,2),{fileRecord:d.LOCAL_FILE_HEADER+oe+E+L,dirRecord:d.CENTRAL_FILE_HEADER+r(le,2)+oe+r(B.length,2)+"\0\0\0\0"+r(W,4)+r(b,4)+E+L+B}}var a=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),d=n("../signature");function h(p,f,m,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=f,this.zipPlatform=m,this.encodeFileName=b,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,l),h.prototype.push=function(p){var f=p.meta.percent||0,m=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:m?(f+100*(m-b-1))/m:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var f=this.streamFiles&&!p.file.dir;if(f){var m=s(p,f,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var f=this.streamFiles&&!p.file.dir,m=s(p,f,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),f)this.push({data:function(b){return d.DATA_DESCRIPTOR+r(b.crc32,4)+r(b.compressedSize,4)+r(b.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,f=0;f<this.dirRecords.length;f++)this.push({data:this.dirRecords[f],meta:{percent:100}});var m=this.bytesWritten-p,b=function(g,x,y,v,w){var C=a.transformTo("string",w(v));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(g,2)+r(g,2)+r(x,4)+r(y,4)+r(C.length,2)+C}(this.dirRecords.length,m,p,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var f=this;return p.on("data",function(m){f.processChunk(m)}),p.on("end",function(){f.closedSource(f.previous.streamInfo),f._sources.length?f.prepareNextSource():f.end()}),p.on("error",function(m){f.error(m)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var f=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var m=0;m<f.length;m++)try{f[m].error(p)}catch(b){}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,f=0;f<p.length;f++)p[f].lock()},i.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,o){var r=n("../compressions"),s=n("./ZipFileWorker");o.generateWorker=function(a,l,c){var u=new s(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{a.forEach(function(h,p){d++;var f=function(x,y){var v=x||y,w=r[v];if(!w)throw new Error(v+" is not a valid compression method !");return w}(p.options.compression,l.compression),m=p.options.compressionOptions||l.compressionOptions||{},b=p.dir,g=p.date;p._compressWorker(f,m).withStreamInfo("file",{name:h,dir:b,date:g,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,o){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new r;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(r.prototype=n("./object")).loadAsync=n("./load"),r.support=n("./support"),r.defaults=n("./defaults"),r.version="3.10.1",r.loadAsync=function(s,a){return new r().loadAsync(s,a)},r.external=n("./external"),i.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,o){var r=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function d(h){return new s.Promise(function(p,f){var m=h.decompressed.getContentWorker().pipe(new c);m.on("error",function(b){f(b)}).on("end",function(){m.streamInfo.crc32!==h.decompressed.crc32?f(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}i.exports=function(h,p){var f=this;return p=r.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(m){var b=new l(p);return b.load(m),b}).then(function(m){var b=[s.Promise.resolve(m)],g=m.files;if(p.checkCRC32)for(var x=0;x<g.length;x++)b.push(d(g[x]));return s.Promise.all(b)}).then(function(m){for(var b=m.shift(),g=b.files,x=0;x<g.length;x++){var y=g[x],v=y.fileNameStr,w=r.resolve(y.fileNameStr);f.file(w,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:p.createFolders}),y.dir||(f.file(w).unsafeOriginalName=v)}return b.zipComment.length&&(f.comment=b.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,o){var r=n("../utils"),s=n("../stream/GenericWorker");function a(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}r.inherits(a,s),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,o){var r=n("readable-stream").Readable;function s(a,l,c){r.call(this,l),this._helper=a;var u=this;a.on("data",function(d,h){u.push(d)||u._helper.pause(),c&&c(h)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}n("../utils").inherits(s,r),s.prototype._read=function(){this._helper.resume()},i.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,i,o){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,s);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,s)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var s=new Buffer(r);return s.fill(0),s},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(n,i,o){function r(w,C,S){var E,I=a.getTypeOf(C),N=a.extend(S||{},u);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(w=g(w)),N.createFolders&&(E=b(w))&&x.call(this,E,!0);var B=I==="string"&&N.binary===!1&&N.base64===!1;S&&S.binary!==void 0||(N.binary=!B),(C instanceof d&&C.uncompressedSize===0||N.dir||!C||C.length===0)&&(N.base64=!1,N.binary=!0,C="",N.compression="STORE",I="string");var D=null;D=C instanceof d||C instanceof l?C:f.isNode&&f.isStream(C)?new m(w,C):a.prepareContent(w,C,N.binary,N.optimizedBinaryString,N.base64);var P=new h(w,D,N);this.files[w]=P}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),d=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),f=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),b=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var C=w.lastIndexOf("/");return 0<C?w.substring(0,C):""},g=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},x=function(w,C){return C=C!==void 0?C:u.createFolders,w=g(w),this.files[w]||r.call(this,w,null,{dir:!0,createFolders:C}),this.files[w]};function y(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var C,S,E;for(C in this.files)E=this.files[C],(S=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&w(S,E)},filter:function(w){var C=[];return this.forEach(function(S,E){w(S,E)&&C.push(E)}),C},file:function(w,C,S){if(arguments.length!==1)return w=this.root+w,r.call(this,w,C,S),this;if(y(w)){var E=w;return this.filter(function(N,B){return!B.dir&&E.test(N)})}var I=this.files[this.root+w];return I&&!I.dir?I:null},folder:function(w){if(!w)return this;if(y(w))return this.filter(function(I,N){return N.dir&&w.test(I)});var C=this.root+w,S=x.call(this,C),E=this.clone();return E.root=S.name,E},remove:function(w){w=this.root+w;var C=this.files[w];if(C||(w.slice(-1)!=="/"&&(w+="/"),C=this.files[w]),C&&!C.dir)delete this.files[w];else for(var S=this.filter(function(I,N){return N.name.slice(0,w.length)===w}),E=0;E<S.length;E++)delete this.files[S[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var C,S={};try{if((S=a.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");a.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var E=S.comment||this.comment||"";C=p.generateWorker(this,S,E)}catch(I){(C=new l("error")).error(I)}return new c(C,S.type||"string",S.mimeType)},generateAsync:function(w,C){return this.generateInternalStream(w).accumulate(C)},generateNodeStream:function(w,C){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(C)}};i.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,o){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,o){var r=n("./DataReader");function s(a){r.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,r),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===d)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&d===h[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,i,o){var r=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return r.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},i.exports=s},{"../utils":32}],19:[function(n,i,o){var r=n("./Uint8ArrayReader");function s(a){r.call(this,a)}n("../utils").inherits(s,r),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,o){var r=n("./DataReader");function s(a){r.call(this,a)}n("../utils").inherits(s,r),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,i,o){var r=n("./ArrayReader");function s(a){r.call(this,a)}n("../utils").inherits(s,r),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,o){var r=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");i.exports=function(d){var h=r.getTypeOf(d);return r.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new c(d):s.uint8array?new u(r.transformTo("uint8array",d)):new a(r.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,o){var r=n("./GenericWorker"),s=n("../utils");function a(l){r.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,r),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},i.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,o){var r=n("./GenericWorker"),s=n("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,r),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,o){var r=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}r.inherits(a,s),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},i.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,o){var r=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=r.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}r.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,o){function r(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},i.exports=r},{}],29:[function(n,i,o){var r=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),d=null;if(c.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch(f){}function h(f,m){return new u.Promise(function(b,g){var x=[],y=f._internalType,v=f._outputType,w=f._mimeType;f.on("data",function(C,S){x.push(C),m&&m(S)}).on("error",function(C){x=[],g(C)}).on("end",function(){try{var C=function(S,E,I){switch(S){case"blob":return r.newBlob(r.transformTo("arraybuffer",E),I);case"base64":return l.encode(E);default:return r.transformTo(S,E)}}(v,function(S,E){var I,N=0,B=null,D=0;for(I=0;I<E.length;I++)D+=E[I].length;switch(S){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(B=new Uint8Array(D),I=0;I<E.length;I++)B.set(E[I],N),N+=E[I].length;return B;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+S+"'")}}(y,x),w);b(C)}catch(S){g(S)}x=[]}).resume()})}function p(f,m,b){var g=m;switch(m){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=m,this._mimeType=b,r.checkSupport(g),this._worker=f.pipe(new s(g)),f.lock()}catch(x){this._worker=new a("error"),this._worker.error(x)}}p.prototype={accumulate:function(f){return h(this,f)},on:function(f,m){var b=this;return f==="data"?this._worker.on(f,function(g){m.call(b,g.data,g.meta)}):this._worker.on(f,function(){r.delay(m,arguments,b)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(f){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},f)}},i.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var r=new ArrayBuffer(0);try{o.blob=new Blob([r],{type:"application/zip"}).size===0}catch(a){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(r),o.blob=s.getBlob("application/zip").size===0}catch(l){o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch(a){o.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,o){for(var r=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}o.utf8encode=function(p){return s.nodebuffer?a.newBufferFrom(p,"utf-8"):function(f){var m,b,g,x,y,v=f.length,w=0;for(x=0;x<v;x++)(64512&(b=f.charCodeAt(x)))==55296&&x+1<v&&(64512&(g=f.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),x++),w+=b<128?1:b<2048?2:b<65536?3:4;for(m=s.uint8array?new Uint8Array(w):new Array(w),x=y=0;y<w;x++)(64512&(b=f.charCodeAt(x)))==55296&&x+1<v&&(64512&(g=f.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),x++),b<128?m[y++]=b:(b<2048?m[y++]=192|b>>>6:(b<65536?m[y++]=224|b>>>12:(m[y++]=240|b>>>18,m[y++]=128|b>>>12&63),m[y++]=128|b>>>6&63),m[y++]=128|63&b);return m}(p)},o.utf8decode=function(p){return s.nodebuffer?r.transformTo("nodebuffer",p).toString("utf-8"):function(f){var m,b,g,x,y=f.length,v=new Array(2*y);for(m=b=0;m<y;)if((g=f[m++])<128)v[b++]=g;else if(4<(x=c[g]))v[b++]=65533,m+=x-1;else{for(g&=x===2?31:x===3?15:7;1<x&&m<y;)g=g<<6|63&f[m++],x--;1<x?v[b++]=65533:g<65536?v[b++]=g:(g-=65536,v[b++]=55296|g>>10&1023,v[b++]=56320|1023&g)}return v.length!==b&&(v.subarray?v=v.subarray(0,b):v.length=b),r.applyFromCharCode(v)}(p=r.transformTo(s.uint8array?"uint8array":"array",p))},r.inherits(d,l),d.prototype.processChunk=function(p){var f=r.transformTo(s.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var m=f;(f=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),f.set(m,this.leftOver.length)}else f=this.leftOver.concat(f);this.leftOver=null}var b=function(x,y){var v;for((y=y||x.length)>x.length&&(y=x.length),v=y-1;0<=v&&(192&x[v])==128;)v--;return v<0||v===0?y:v+c[x[v]]>y?v:y}(f),g=f;b!==f.length&&(s.uint8array?(g=f.subarray(0,b),this.leftOver=f.subarray(b,f.length)):(g=f.slice(0,b),this.leftOver=f.slice(b,f.length))),this.push({data:o.utf8decode(g),meta:p.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=d,r.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:o.utf8encode(p.data),meta:p.meta})},o.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,o){var r=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function c(m){return m}function u(m,b){for(var g=0;g<m.length;++g)b[g]=255&m.charCodeAt(g);return b}n("setimmediate"),o.newBlob=function(m,b){o.checkSupport("blob");try{return new Blob([m],{type:b})}catch(x){try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(m),g.getBlob(b)}catch(y){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,b,g){var x=[],y=0,v=m.length;if(v<=g)return String.fromCharCode.apply(null,m);for(;y<v;)b==="array"||b==="nodebuffer"?x.push(String.fromCharCode.apply(null,m.slice(y,Math.min(y+g,v)))):x.push(String.fromCharCode.apply(null,m.subarray(y,Math.min(y+g,v)))),y+=g;return x.join("")},stringifyByChar:function(m){for(var b="",g=0;g<m.length;g++)b+=String.fromCharCode(m[g]);return b},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(m){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch(m){return!1}}()}};function h(m){var b=65536,g=o.getTypeOf(m),x=!0;if(g==="uint8array"?x=d.applyCanBeUsed.uint8array:g==="nodebuffer"&&(x=d.applyCanBeUsed.nodebuffer),x)for(;1<b;)try{return d.stringifyByChunk(m,g,b)}catch(y){b=Math.floor(b/2)}return d.stringifyByChar(m)}function p(m,b){for(var g=0;g<m.length;g++)b[g]=m[g];return b}o.applyFromCharCode=h;var f={};f.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return f.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,a.allocBuffer(m.length))}},f.array={string:h,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},f.arraybuffer={string:function(m){return h(new Uint8Array(m))},array:function(m){return p(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},f.uint8array={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return a.newBufferFrom(m)}},f.nodebuffer={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return f.nodebuffer.uint8array(m).buffer},uint8array:function(m){return p(m,new Uint8Array(m.length))},nodebuffer:c},o.transformTo=function(m,b){if(b=b||"",!m)return b;o.checkSupport(m);var g=o.getTypeOf(b);return f[g][m](b)},o.resolve=function(m){for(var b=m.split("/"),g=[],x=0;x<b.length;x++){var y=b[x];y==="."||y===""&&x!==0&&x!==b.length-1||(y===".."?g.pop():g.push(y))}return g.join("/")},o.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":r.nodebuffer&&a.isBuffer(m)?"nodebuffer":r.uint8array&&m instanceof Uint8Array?"uint8array":r.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(m){if(!r[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(m){var b,g,x="";for(g=0;g<(m||"").length;g++)x+="\\x"+((b=m.charCodeAt(g))<16?"0":"")+b.toString(16).toUpperCase();return x},o.delay=function(m,b,g){setImmediate(function(){m.apply(g||null,b||[])})},o.inherits=function(m,b){function g(){}g.prototype=b.prototype,m.prototype=new g},o.extend=function(){var m,b,g={};for(m=0;m<arguments.length;m++)for(b in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],b)&&g[b]===void 0&&(g[b]=arguments[m][b]);return g},o.prepareContent=function(m,b,g,x,y){return l.Promise.resolve(b).then(function(v){return r.blob&&(v instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(v))!==-1)&&typeof FileReader<"u"?new l.Promise(function(w,C){var S=new FileReader;S.onload=function(E){w(E.target.result)},S.onerror=function(E){C(E.target.error)},S.readAsArrayBuffer(v)}):v}).then(function(v){var w=o.getTypeOf(v);return w?(w==="arraybuffer"?v=o.transformTo("uint8array",v):w==="string"&&(y?v=s.decode(v):g&&x!==!0&&(v=function(C){return u(C,r.uint8array?new Uint8Array(C.length):new Array(C.length))}(v))),v):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,o){var r=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(d)+")")}},isSignature:function(d,h){var p=this.reader.index;this.reader.setIndex(d);var f=this.reader.readString(4)===h;return this.reader.setIndex(p),f},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",p=s.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,p,f=this.zip64EndOfCentralSize-44;0<f;)d=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var f=h-p;if(0<f)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=f);else if(f<0)throw new Error("Corrupted zip: missing "+Math.abs(f)+" bytes.")},prepareReader:function(d){this.reader=r(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,o){var r=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),d=n("./support");function h(p,f){this.options=p,this.loadOptions=f}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var f,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((f=function(b){for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)&&u[g].magic===b)return u[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,f,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var f=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(f),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=r(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var f,m,b,g=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<g;)f=p.readInt(2),m=p.readInt(2),b=p.readData(m),this.extraFields[f]={id:f,length:m,value:b};p.setIndex(g)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var f=this.findExtraFieldUnicodePath();if(f!==null)this.fileNameStr=f;else{var m=s.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var g=s.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var f=r(p.value);return f.readInt(1)!==1||l(this.fileName)!==f.readInt(4)?null:c.utf8decode(f.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var f=r(p.value);return f.readInt(1)!==1||l(this.fileComment)!==f.readInt(4)?null:c.utf8decode(f.readData(p.length-5))}return null}},i.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,o){function r(f,m,b){this.name=f,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=m,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");r.prototype={internalStream:function(f){var m=null,b="string";try{if(!f)throw new Error("No output type specified.");var g=(b=f.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),m=this._decompressWorker();var x=!this._dataBinary;x&&!g&&(m=m.pipe(new l.Utf8EncodeWorker)),!x&&g&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(y){(m=new u("error")).error(y)}return new s(m,b,"")},async:function(f,m){return this.internalStream(f).accumulate(m)},nodeStream:function(f,m){return this.internalStream(f||"nodebuffer").toNodejsStream(m)},_compressWorker:function(f,m){if(this._data instanceof c&&this._data.compression.magic===f.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,f,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<d.length;p++)r.prototype[d[p]]=h;i.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,o){(function(r){var s,a,l=r.MutationObserver||r.WebKitMutationObserver;if(l){var c=0,u=new l(f),d=r.document.createTextNode("");u.observe(d,{characterData:!0}),s=function(){d.data=c=++c%2}}else if(r.setImmediate||r.MessageChannel===void 0)s="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var m=r.document.createElement("script");m.onreadystatechange=function(){f(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},r.document.documentElement.appendChild(m)}:function(){setTimeout(f,0)};else{var h=new r.MessageChannel;h.port1.onmessage=f,s=function(){h.port2.postMessage(0)}}var p=[];function f(){var m,b;a=!0;for(var g=p.length;g;){for(b=p,p=[],m=-1;++m<g;)b[m]();g=p.length}a=!1}i.exports=function(m){p.push(m)!==1||a||s()}}).call(this,typeof dn<"u"?dn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,o){var r=n("immediate");function s(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,g!==s&&m(this,g)}function h(g,x,y){this.promise=g,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function p(g,x,y){r(function(){var v;try{v=x(y)}catch(w){return a.reject(g,w)}v===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,v)})}function f(g){var x=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof x=="function")return function(){x.apply(g,arguments)}}function m(g,x){var y=!1;function v(S){y||(y=!0,a.reject(g,S))}function w(S){y||(y=!0,a.resolve(g,S))}var C=b(function(){x(w,v)});C.status==="error"&&v(C.value)}function b(g,x){var y={};try{y.value=g(x),y.status="success"}catch(v){y.status="error",y.value=v}return y}(i.exports=d).prototype.finally=function(g){if(typeof g!="function")return this;var x=this.constructor;return this.then(function(y){return x.resolve(g()).then(function(){return y})},function(y){return x.resolve(g()).then(function(){throw y})})},d.prototype.catch=function(g){return this.then(null,g)},d.prototype.then=function(g,x){if(typeof g!="function"&&this.state===c||typeof x!="function"&&this.state===l)return this;var y=new this.constructor(s);return this.state!==u?p(y,this.state===c?g:x,this.outcome):this.queue.push(new h(y,g,x)),y},h.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},h.prototype.otherCallFulfilled=function(g){p(this.promise,this.onFulfilled,g)},h.prototype.callRejected=function(g){a.reject(this.promise,g)},h.prototype.otherCallRejected=function(g){p(this.promise,this.onRejected,g)},a.resolve=function(g,x){var y=b(f,x);if(y.status==="error")return a.reject(g,y.value);var v=y.value;if(v)m(g,v);else{g.state=c,g.outcome=x;for(var w=-1,C=g.queue.length;++w<C;)g.queue[w].callFulfilled(x)}return g},a.reject=function(g,x){g.state=l,g.outcome=x;for(var y=-1,v=g.queue.length;++y<v;)g.queue[y].callRejected(x);return g},d.resolve=function(g){return g instanceof this?g:a.resolve(new this(s),g)},d.reject=function(g){var x=new this(s);return a.reject(x,g)},d.all=function(g){var x=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=g.length,v=!1;if(!y)return this.resolve([]);for(var w=new Array(y),C=0,S=-1,E=new this(s);++S<y;)I(g[S],S);return E;function I(N,B){x.resolve(N).then(function(D){w[B]=D,++C!==y||v||(v=!0,a.resolve(E,w))},function(D){v||(v=!0,a.reject(E,D))})}},d.race=function(g){var x=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=g.length,v=!1;if(!y)return this.resolve([]);for(var w=-1,C=new this(s);++w<y;)S=g[w],x.resolve(S).then(function(E){v||(v=!0,a.resolve(C,E))},function(E){v||(v=!0,a.reject(C,E))});var S;return C}},{immediate:36}],38:[function(n,i,o){var r={};(0,n("./lib/utils/common").assign)(r,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,o){var r=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,d=0,h=-1,p=0,f=8;function m(g){if(!(this instanceof m))return new m(g);this.options=s.assign({level:h,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},g||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=r.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(y!==d)throw new Error(l[y]);if(x.header&&r.deflateSetHeader(this.strm,x.header),x.dictionary){var v;if(v=typeof x.dictionary=="string"?a.string2buf(x.dictionary):u.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(y=r.deflateSetDictionary(this.strm,v))!==d)throw new Error(l[y]);this._dict_set=!0}}function b(g,x){var y=new m(x);if(y.push(g,!0),y.err)throw y.msg||l[y.err];return y.result}m.prototype.push=function(g,x){var y,v,w=this.strm,C=this.options.chunkSize;if(this.ended)return!1;v=x===~~x?x:x===!0?4:0,typeof g=="string"?w.input=a.string2buf(g):u.call(g)==="[object ArrayBuffer]"?w.input=new Uint8Array(g):w.input=g,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new s.Buf8(C),w.next_out=0,w.avail_out=C),(y=r.deflate(w,v))!==1&&y!==d)return this.onEnd(y),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||v!==4&&v!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(w.output,w.next_out))):this.onData(s.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&y!==1);return v===4?(y=r.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===d):v!==2||(this.onEnd(d),!(w.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},o.Deflate=m,o.deflate=b,o.deflateRaw=function(g,x){return(x=x||{}).raw=!0,b(g,x)},o.gzip=function(g,x){return(x=x||{}).gzip=!0,b(g,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,o){var r=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=n("./zlib/gzheader"),h=Object.prototype.toString;function p(m){if(!(this instanceof p))return new p(m);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},m||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||m&&m.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var g=r.inflateInit2(this.strm,b.windowBits);if(g!==l.Z_OK)throw new Error(c[g]);this.header=new d,r.inflateGetHeader(this.strm,this.header)}function f(m,b){var g=new p(b);if(g.push(m,!0),g.err)throw g.msg||c[g.err];return g.result}p.prototype.push=function(m,b){var g,x,y,v,w,C,S=this.strm,E=this.options.chunkSize,I=this.options.dictionary,N=!1;if(this.ended)return!1;x=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?S.input=a.binstring2buf(m):h.call(m)==="[object ArrayBuffer]"?S.input=new Uint8Array(m):S.input=m,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new s.Buf8(E),S.next_out=0,S.avail_out=E),(g=r.inflate(S,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(C=typeof I=="string"?a.string2buf(I):h.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,g=r.inflateSetDictionary(this.strm,C)),g===l.Z_BUF_ERROR&&N===!0&&(g=l.Z_OK,N=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&g!==l.Z_STREAM_END&&(S.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=a.utf8border(S.output,S.next_out),v=S.next_out-y,w=a.buf2string(S.output,y),S.next_out=v,S.avail_out=E-v,v&&s.arraySet(S.output,S.output,y,v,0),this.onData(w)):this.onData(s.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(N=!0)}while((0<S.avail_in||S.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(g=r.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(S.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},o.Inflate=p,o.inflate=f,o.inflateRaw=function(m,b){return(b=b||{}).raw=!0,f(m,b)},o.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,o){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},o.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,u,d,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),h);else for(var p=0;p<d;p++)l[h+p]=c[u+p]},flattenChunks:function(l){var c,u,d,h,p,f;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(f=new Uint8Array(d),c=h=0,u=l.length;c<u;c++)p=l[c],f.set(p,h),h+=p.length;return f}},a={arraySet:function(l,c,u,d,h){for(var p=0;p<d;p++)l[h+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};o.setTyped=function(l){l?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,s)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,a))},o.setTyped(r)},{}],42:[function(n,i,o){var r=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(d){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(d){a=!1}for(var l=new r.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,h){if(h<65537&&(d.subarray&&a||!d.subarray&&s))return String.fromCharCode.apply(null,r.shrinkBuf(d,h));for(var p="",f=0;f<h;f++)p+=String.fromCharCode(d[f]);return p}l[254]=l[254]=1,o.string2buf=function(d){var h,p,f,m,b,g=d.length,x=0;for(m=0;m<g;m++)(64512&(p=d.charCodeAt(m)))==55296&&m+1<g&&(64512&(f=d.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(f-56320),m++),x+=p<128?1:p<2048?2:p<65536?3:4;for(h=new r.Buf8(x),m=b=0;b<x;m++)(64512&(p=d.charCodeAt(m)))==55296&&m+1<g&&(64512&(f=d.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(f-56320),m++),p<128?h[b++]=p:(p<2048?h[b++]=192|p>>>6:(p<65536?h[b++]=224|p>>>12:(h[b++]=240|p>>>18,h[b++]=128|p>>>12&63),h[b++]=128|p>>>6&63),h[b++]=128|63&p);return h},o.buf2binstring=function(d){return u(d,d.length)},o.binstring2buf=function(d){for(var h=new r.Buf8(d.length),p=0,f=h.length;p<f;p++)h[p]=d.charCodeAt(p);return h},o.buf2string=function(d,h){var p,f,m,b,g=h||d.length,x=new Array(2*g);for(p=f=0;p<g;)if((m=d[p++])<128)x[f++]=m;else if(4<(b=l[m]))x[f++]=65533,p+=b-1;else{for(m&=b===2?31:b===3?15:7;1<b&&p<g;)m=m<<6|63&d[p++],b--;1<b?x[f++]=65533:m<65536?x[f++]=m:(m-=65536,x[f++]=55296|m>>10&1023,x[f++]=56320|1023&m)}return u(x,f)},o.utf8border=function(d,h){var p;for((h=h||d.length)>d.length&&(h=d.length),p=h-1;0<=p&&(192&d[p])==128;)p--;return p<0||p===0?h:p+l[d[p]]>h?p:h}},{"./common":41}],43:[function(n,i,o){i.exports=function(r,s,a,l){for(var c=65535&r|0,u=r>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;u=u+(c=c+s[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,i,o){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,o){var r=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();i.exports=function(s,a,l,c){var u=r,d=c+l;s^=-1;for(var h=c;h<d;h++)s=s>>>8^u[255&(s^a[h])];return-1^s}},{}],46:[function(n,i,o){var r,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),d=0,h=4,p=0,f=-2,m=-1,b=4,g=2,x=8,y=9,v=286,w=30,C=19,S=2*v+1,E=15,I=3,N=258,B=N+I+1,D=42,P=113,_=1,L=2,z=3,V=4;function q(O,me){return O.msg=u[me],me}function U(O){return(O<<1)-(4<O?9:0)}function X(O){for(var me=O.length;0<=--me;)O[me]=0}function G(O){var me=O.state,he=me.pending;he>O.avail_out&&(he=O.avail_out),he!==0&&(s.arraySet(O.output,me.pending_buf,me.pending_out,he,O.next_out),O.next_out+=he,me.pending_out+=he,O.total_out+=he,O.avail_out-=he,me.pending-=he,me.pending===0&&(me.pending_out=0))}function W(O,me){a._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,me),O.block_start=O.strstart,G(O.strm)}function le(O,me){O.pending_buf[O.pending++]=me}function oe(O,me){O.pending_buf[O.pending++]=me>>>8&255,O.pending_buf[O.pending++]=255&me}function ie(O,me){var he,Y,K=O.max_chain_length,se=O.strstart,ye=O.prev_length,Ce=O.nice_match,de=O.strstart>O.w_size-B?O.strstart-(O.w_size-B):0,Ie=O.window,Fe=O.w_mask,Ne=O.prev,He=O.strstart+N,mt=Ie[se+ye-1],ct=Ie[se+ye];O.prev_length>=O.good_match&&(K>>=2),Ce>O.lookahead&&(Ce=O.lookahead);do if(Ie[(he=me)+ye]===ct&&Ie[he+ye-1]===mt&&Ie[he]===Ie[se]&&Ie[++he]===Ie[se+1]){se+=2,he++;do;while(Ie[++se]===Ie[++he]&&Ie[++se]===Ie[++he]&&Ie[++se]===Ie[++he]&&Ie[++se]===Ie[++he]&&Ie[++se]===Ie[++he]&&Ie[++se]===Ie[++he]&&Ie[++se]===Ie[++he]&&Ie[++se]===Ie[++he]&&se<He);if(Y=N-(He-se),se=He-N,ye<Y){if(O.match_start=me,Ce<=(ye=Y))break;mt=Ie[se+ye-1],ct=Ie[se+ye]}}while((me=Ne[me&Fe])>de&&--K!=0);return ye<=O.lookahead?ye:O.lookahead}function we(O){var me,he,Y,K,se,ye,Ce,de,Ie,Fe,Ne=O.w_size;do{if(K=O.window_size-O.lookahead-O.strstart,O.strstart>=Ne+(Ne-B)){for(s.arraySet(O.window,O.window,Ne,Ne,0),O.match_start-=Ne,O.strstart-=Ne,O.block_start-=Ne,me=he=O.hash_size;Y=O.head[--me],O.head[me]=Ne<=Y?Y-Ne:0,--he;);for(me=he=Ne;Y=O.prev[--me],O.prev[me]=Ne<=Y?Y-Ne:0,--he;);K+=Ne}if(O.strm.avail_in===0)break;if(ye=O.strm,Ce=O.window,de=O.strstart+O.lookahead,Ie=K,Fe=void 0,Fe=ye.avail_in,Ie<Fe&&(Fe=Ie),he=Fe===0?0:(ye.avail_in-=Fe,s.arraySet(Ce,ye.input,ye.next_in,Fe,de),ye.state.wrap===1?ye.adler=l(ye.adler,Ce,Fe,de):ye.state.wrap===2&&(ye.adler=c(ye.adler,Ce,Fe,de)),ye.next_in+=Fe,ye.total_in+=Fe,Fe),O.lookahead+=he,O.lookahead+O.insert>=I)for(se=O.strstart-O.insert,O.ins_h=O.window[se],O.ins_h=(O.ins_h<<O.hash_shift^O.window[se+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[se+I-1])&O.hash_mask,O.prev[se&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=se,se++,O.insert--,!(O.lookahead+O.insert<I)););}while(O.lookahead<B&&O.strm.avail_in!==0)}function $e(O,me){for(var he,Y;;){if(O.lookahead<B){if(we(O),O.lookahead<B&&me===d)return _;if(O.lookahead===0)break}if(he=0,O.lookahead>=I&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+I-1])&O.hash_mask,he=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),he!==0&&O.strstart-he<=O.w_size-B&&(O.match_length=ie(O,he)),O.match_length>=I)if(Y=a._tr_tally(O,O.strstart-O.match_start,O.match_length-I),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=I){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+I-1])&O.hash_mask,he=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else Y=a._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(Y&&(W(O,!1),O.strm.avail_out===0))return _}return O.insert=O.strstart<I-1?O.strstart:I-1,me===h?(W(O,!0),O.strm.avail_out===0?z:V):O.last_lit&&(W(O,!1),O.strm.avail_out===0)?_:L}function _e(O,me){for(var he,Y,K;;){if(O.lookahead<B){if(we(O),O.lookahead<B&&me===d)return _;if(O.lookahead===0)break}if(he=0,O.lookahead>=I&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+I-1])&O.hash_mask,he=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=I-1,he!==0&&O.prev_length<O.max_lazy_match&&O.strstart-he<=O.w_size-B&&(O.match_length=ie(O,he),O.match_length<=5&&(O.strategy===1||O.match_length===I&&4096<O.strstart-O.match_start)&&(O.match_length=I-1)),O.prev_length>=I&&O.match_length<=O.prev_length){for(K=O.strstart+O.lookahead-I,Y=a._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-I),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=K&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+I-1])&O.hash_mask,he=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=I-1,O.strstart++,Y&&(W(O,!1),O.strm.avail_out===0))return _}else if(O.match_available){if((Y=a._tr_tally(O,0,O.window[O.strstart-1]))&&W(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return _}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(Y=a._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<I-1?O.strstart:I-1,me===h?(W(O,!0),O.strm.avail_out===0?z:V):O.last_lit&&(W(O,!1),O.strm.avail_out===0)?_:L}function Oe(O,me,he,Y,K){this.good_length=O,this.max_lazy=me,this.nice_length=he,this.max_chain=Y,this.func=K}function We(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*S),this.dyn_dtree=new s.Buf16(2*(2*w+1)),this.bl_tree=new s.Buf16(2*(2*C+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(E+1),this.heap=new s.Buf16(2*v+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*v+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ge(O){var me;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=g,(me=O.state).pending=0,me.pending_out=0,me.wrap<0&&(me.wrap=-me.wrap),me.status=me.wrap?D:P,O.adler=me.wrap===2?0:1,me.last_flush=d,a._tr_init(me),p):q(O,f)}function ot(O){var me=Ge(O);return me===p&&function(he){he.window_size=2*he.w_size,X(he.head),he.max_lazy_match=r[he.level].max_lazy,he.good_match=r[he.level].good_length,he.nice_match=r[he.level].nice_length,he.max_chain_length=r[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=I-1,he.match_available=0,he.ins_h=0}(O.state),me}function st(O,me,he,Y,K,se){if(!O)return f;var ye=1;if(me===m&&(me=6),Y<0?(ye=0,Y=-Y):15<Y&&(ye=2,Y-=16),K<1||y<K||he!==x||Y<8||15<Y||me<0||9<me||se<0||b<se)return q(O,f);Y===8&&(Y=9);var Ce=new We;return(O.state=Ce).strm=O,Ce.wrap=ye,Ce.gzhead=null,Ce.w_bits=Y,Ce.w_size=1<<Ce.w_bits,Ce.w_mask=Ce.w_size-1,Ce.hash_bits=K+7,Ce.hash_size=1<<Ce.hash_bits,Ce.hash_mask=Ce.hash_size-1,Ce.hash_shift=~~((Ce.hash_bits+I-1)/I),Ce.window=new s.Buf8(2*Ce.w_size),Ce.head=new s.Buf16(Ce.hash_size),Ce.prev=new s.Buf16(Ce.w_size),Ce.lit_bufsize=1<<K+6,Ce.pending_buf_size=4*Ce.lit_bufsize,Ce.pending_buf=new s.Buf8(Ce.pending_buf_size),Ce.d_buf=1*Ce.lit_bufsize,Ce.l_buf=3*Ce.lit_bufsize,Ce.level=me,Ce.strategy=se,Ce.method=he,ot(O)}r=[new Oe(0,0,0,0,function(O,me){var he=65535;for(he>O.pending_buf_size-5&&(he=O.pending_buf_size-5);;){if(O.lookahead<=1){if(we(O),O.lookahead===0&&me===d)return _;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var Y=O.block_start+he;if((O.strstart===0||O.strstart>=Y)&&(O.lookahead=O.strstart-Y,O.strstart=Y,W(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-B&&(W(O,!1),O.strm.avail_out===0))return _}return O.insert=0,me===h?(W(O,!0),O.strm.avail_out===0?z:V):(O.strstart>O.block_start&&(W(O,!1),O.strm.avail_out),_)}),new Oe(4,4,8,4,$e),new Oe(4,5,16,8,$e),new Oe(4,6,32,32,$e),new Oe(4,4,16,16,_e),new Oe(8,16,32,32,_e),new Oe(8,16,128,128,_e),new Oe(8,32,128,256,_e),new Oe(32,128,258,1024,_e),new Oe(32,258,258,4096,_e)],o.deflateInit=function(O,me){return st(O,me,x,15,8,0)},o.deflateInit2=st,o.deflateReset=ot,o.deflateResetKeep=Ge,o.deflateSetHeader=function(O,me){return O&&O.state?O.state.wrap!==2?f:(O.state.gzhead=me,p):f},o.deflate=function(O,me){var he,Y,K,se;if(!O||!O.state||5<me||me<0)return O?q(O,f):f;if(Y=O.state,!O.output||!O.input&&O.avail_in!==0||Y.status===666&&me!==h)return q(O,O.avail_out===0?-5:f);if(Y.strm=O,he=Y.last_flush,Y.last_flush=me,Y.status===D)if(Y.wrap===2)O.adler=0,le(Y,31),le(Y,139),le(Y,8),Y.gzhead?(le(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),le(Y,255&Y.gzhead.time),le(Y,Y.gzhead.time>>8&255),le(Y,Y.gzhead.time>>16&255),le(Y,Y.gzhead.time>>24&255),le(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),le(Y,255&Y.gzhead.os),Y.gzhead.extra&&Y.gzhead.extra.length&&(le(Y,255&Y.gzhead.extra.length),le(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(O.adler=c(O.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=69):(le(Y,0),le(Y,0),le(Y,0),le(Y,0),le(Y,0),le(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),le(Y,3),Y.status=P);else{var ye=x+(Y.w_bits-8<<4)<<8;ye|=(2<=Y.strategy||Y.level<2?0:Y.level<6?1:Y.level===6?2:3)<<6,Y.strstart!==0&&(ye|=32),ye+=31-ye%31,Y.status=P,oe(Y,ye),Y.strstart!==0&&(oe(Y,O.adler>>>16),oe(Y,65535&O.adler)),O.adler=1}if(Y.status===69)if(Y.gzhead.extra){for(K=Y.pending;Y.gzindex<(65535&Y.gzhead.extra.length)&&(Y.pending!==Y.pending_buf_size||(Y.gzhead.hcrc&&Y.pending>K&&(O.adler=c(O.adler,Y.pending_buf,Y.pending-K,K)),G(O),K=Y.pending,Y.pending!==Y.pending_buf_size));)le(Y,255&Y.gzhead.extra[Y.gzindex]),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>K&&(O.adler=c(O.adler,Y.pending_buf,Y.pending-K,K)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=73)}else Y.status=73;if(Y.status===73)if(Y.gzhead.name){K=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>K&&(O.adler=c(O.adler,Y.pending_buf,Y.pending-K,K)),G(O),K=Y.pending,Y.pending===Y.pending_buf_size)){se=1;break}se=Y.gzindex<Y.gzhead.name.length?255&Y.gzhead.name.charCodeAt(Y.gzindex++):0,le(Y,se)}while(se!==0);Y.gzhead.hcrc&&Y.pending>K&&(O.adler=c(O.adler,Y.pending_buf,Y.pending-K,K)),se===0&&(Y.gzindex=0,Y.status=91)}else Y.status=91;if(Y.status===91)if(Y.gzhead.comment){K=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>K&&(O.adler=c(O.adler,Y.pending_buf,Y.pending-K,K)),G(O),K=Y.pending,Y.pending===Y.pending_buf_size)){se=1;break}se=Y.gzindex<Y.gzhead.comment.length?255&Y.gzhead.comment.charCodeAt(Y.gzindex++):0,le(Y,se)}while(se!==0);Y.gzhead.hcrc&&Y.pending>K&&(O.adler=c(O.adler,Y.pending_buf,Y.pending-K,K)),se===0&&(Y.status=103)}else Y.status=103;if(Y.status===103&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&G(O),Y.pending+2<=Y.pending_buf_size&&(le(Y,255&O.adler),le(Y,O.adler>>8&255),O.adler=0,Y.status=P)):Y.status=P),Y.pending!==0){if(G(O),O.avail_out===0)return Y.last_flush=-1,p}else if(O.avail_in===0&&U(me)<=U(he)&&me!==h)return q(O,-5);if(Y.status===666&&O.avail_in!==0)return q(O,-5);if(O.avail_in!==0||Y.lookahead!==0||me!==d&&Y.status!==666){var Ce=Y.strategy===2?function(de,Ie){for(var Fe;;){if(de.lookahead===0&&(we(de),de.lookahead===0)){if(Ie===d)return _;break}if(de.match_length=0,Fe=a._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++,Fe&&(W(de,!1),de.strm.avail_out===0))return _}return de.insert=0,Ie===h?(W(de,!0),de.strm.avail_out===0?z:V):de.last_lit&&(W(de,!1),de.strm.avail_out===0)?_:L}(Y,me):Y.strategy===3?function(de,Ie){for(var Fe,Ne,He,mt,ct=de.window;;){if(de.lookahead<=N){if(we(de),de.lookahead<=N&&Ie===d)return _;if(de.lookahead===0)break}if(de.match_length=0,de.lookahead>=I&&0<de.strstart&&(Ne=ct[He=de.strstart-1])===ct[++He]&&Ne===ct[++He]&&Ne===ct[++He]){mt=de.strstart+N;do;while(Ne===ct[++He]&&Ne===ct[++He]&&Ne===ct[++He]&&Ne===ct[++He]&&Ne===ct[++He]&&Ne===ct[++He]&&Ne===ct[++He]&&Ne===ct[++He]&&He<mt);de.match_length=N-(mt-He),de.match_length>de.lookahead&&(de.match_length=de.lookahead)}if(de.match_length>=I?(Fe=a._tr_tally(de,1,de.match_length-I),de.lookahead-=de.match_length,de.strstart+=de.match_length,de.match_length=0):(Fe=a._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++),Fe&&(W(de,!1),de.strm.avail_out===0))return _}return de.insert=0,Ie===h?(W(de,!0),de.strm.avail_out===0?z:V):de.last_lit&&(W(de,!1),de.strm.avail_out===0)?_:L}(Y,me):r[Y.level].func(Y,me);if(Ce!==z&&Ce!==V||(Y.status=666),Ce===_||Ce===z)return O.avail_out===0&&(Y.last_flush=-1),p;if(Ce===L&&(me===1?a._tr_align(Y):me!==5&&(a._tr_stored_block(Y,0,0,!1),me===3&&(X(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),G(O),O.avail_out===0))return Y.last_flush=-1,p}return me!==h?p:Y.wrap<=0?1:(Y.wrap===2?(le(Y,255&O.adler),le(Y,O.adler>>8&255),le(Y,O.adler>>16&255),le(Y,O.adler>>24&255),le(Y,255&O.total_in),le(Y,O.total_in>>8&255),le(Y,O.total_in>>16&255),le(Y,O.total_in>>24&255)):(oe(Y,O.adler>>>16),oe(Y,65535&O.adler)),G(O),0<Y.wrap&&(Y.wrap=-Y.wrap),Y.pending!==0?p:1)},o.deflateEnd=function(O){var me;return O&&O.state?(me=O.state.status)!==D&&me!==69&&me!==73&&me!==91&&me!==103&&me!==P&&me!==666?q(O,f):(O.state=null,me===P?q(O,-3):p):f},o.deflateSetDictionary=function(O,me){var he,Y,K,se,ye,Ce,de,Ie,Fe=me.length;if(!O||!O.state||(se=(he=O.state).wrap)===2||se===1&&he.status!==D||he.lookahead)return f;for(se===1&&(O.adler=l(O.adler,me,Fe,0)),he.wrap=0,Fe>=he.w_size&&(se===0&&(X(he.head),he.strstart=0,he.block_start=0,he.insert=0),Ie=new s.Buf8(he.w_size),s.arraySet(Ie,me,Fe-he.w_size,he.w_size,0),me=Ie,Fe=he.w_size),ye=O.avail_in,Ce=O.next_in,de=O.input,O.avail_in=Fe,O.next_in=0,O.input=me,we(he);he.lookahead>=I;){for(Y=he.strstart,K=he.lookahead-(I-1);he.ins_h=(he.ins_h<<he.hash_shift^he.window[Y+I-1])&he.hash_mask,he.prev[Y&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=Y,Y++,--K;);he.strstart=Y,he.lookahead=I-1,we(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=I-1,he.match_available=0,O.next_in=Ce,O.input=de,O.avail_in=ye,he.wrap=se,p},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,o){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,o){i.exports=function(r,s){var a,l,c,u,d,h,p,f,m,b,g,x,y,v,w,C,S,E,I,N,B,D,P,_,L;a=r.state,l=r.next_in,_=r.input,c=l+(r.avail_in-5),u=r.next_out,L=r.output,d=u-(s-r.avail_out),h=u+(r.avail_out-257),p=a.dmax,f=a.wsize,m=a.whave,b=a.wnext,g=a.window,x=a.hold,y=a.bits,v=a.lencode,w=a.distcode,C=(1<<a.lenbits)-1,S=(1<<a.distbits)-1;e:do{y<15&&(x+=_[l++]<<y,y+=8,x+=_[l++]<<y,y+=8),E=v[x&C];t:for(;;){if(x>>>=I=E>>>24,y-=I,(I=E>>>16&255)===0)L[u++]=65535&E;else{if(!(16&I)){if(!(64&I)){E=v[(65535&E)+(x&(1<<I)-1)];continue t}if(32&I){a.mode=12;break e}r.msg="invalid literal/length code",a.mode=30;break e}N=65535&E,(I&=15)&&(y<I&&(x+=_[l++]<<y,y+=8),N+=x&(1<<I)-1,x>>>=I,y-=I),y<15&&(x+=_[l++]<<y,y+=8,x+=_[l++]<<y,y+=8),E=w[x&S];n:for(;;){if(x>>>=I=E>>>24,y-=I,!(16&(I=E>>>16&255))){if(!(64&I)){E=w[(65535&E)+(x&(1<<I)-1)];continue n}r.msg="invalid distance code",a.mode=30;break e}if(B=65535&E,y<(I&=15)&&(x+=_[l++]<<y,(y+=8)<I&&(x+=_[l++]<<y,y+=8)),p<(B+=x&(1<<I)-1)){r.msg="invalid distance too far back",a.mode=30;break e}if(x>>>=I,y-=I,(I=u-d)<B){if(m<(I=B-I)&&a.sane){r.msg="invalid distance too far back",a.mode=30;break e}if(P=g,(D=0)===b){if(D+=f-I,I<N){for(N-=I;L[u++]=g[D++],--I;);D=u-B,P=L}}else if(b<I){if(D+=f+b-I,(I-=b)<N){for(N-=I;L[u++]=g[D++],--I;);if(D=0,b<N){for(N-=I=b;L[u++]=g[D++],--I;);D=u-B,P=L}}}else if(D+=b-I,I<N){for(N-=I;L[u++]=g[D++],--I;);D=u-B,P=L}for(;2<N;)L[u++]=P[D++],L[u++]=P[D++],L[u++]=P[D++],N-=3;N&&(L[u++]=P[D++],1<N&&(L[u++]=P[D++]))}else{for(D=u-B;L[u++]=L[D++],L[u++]=L[D++],L[u++]=L[D++],2<(N-=3););N&&(L[u++]=L[D++],1<N&&(L[u++]=L[D++]))}break}}break}}while(l<c&&u<h);l-=N=y>>3,x&=(1<<(y-=N<<3))-1,r.next_in=l,r.next_out=u,r.avail_in=l<c?c-l+5:5-(l-c),r.avail_out=u<h?h-u+257:257-(u-h),a.hold=x,a.bits=y}},{}],49:[function(n,i,o){var r=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,d=2,h=0,p=-2,f=1,m=852,b=592;function g(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(D){var P;return D&&D.state?(P=D.state,D.total_in=D.total_out=P.total=0,D.msg="",P.wrap&&(D.adler=1&P.wrap),P.mode=f,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new r.Buf32(m),P.distcode=P.distdyn=new r.Buf32(b),P.sane=1,P.back=-1,h):p}function v(D){var P;return D&&D.state?((P=D.state).wsize=0,P.whave=0,P.wnext=0,y(D)):p}function w(D,P){var _,L;return D&&D.state?(L=D.state,P<0?(_=0,P=-P):(_=1+(P>>4),P<48&&(P&=15)),P&&(P<8||15<P)?p:(L.window!==null&&L.wbits!==P&&(L.window=null),L.wrap=_,L.wbits=P,v(D))):p}function C(D,P){var _,L;return D?(L=new x,(D.state=L).window=null,(_=w(D,P))!==h&&(D.state=null),_):p}var S,E,I=!0;function N(D){if(I){var P;for(S=new r.Buf32(512),E=new r.Buf32(32),P=0;P<144;)D.lens[P++]=8;for(;P<256;)D.lens[P++]=9;for(;P<280;)D.lens[P++]=7;for(;P<288;)D.lens[P++]=8;for(c(u,D.lens,0,288,S,0,D.work,{bits:9}),P=0;P<32;)D.lens[P++]=5;c(d,D.lens,0,32,E,0,D.work,{bits:5}),I=!1}D.lencode=S,D.lenbits=9,D.distcode=E,D.distbits=5}function B(D,P,_,L){var z,V=D.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new r.Buf8(V.wsize)),L>=V.wsize?(r.arraySet(V.window,P,_-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(L<(z=V.wsize-V.wnext)&&(z=L),r.arraySet(V.window,P,_-L,z,V.wnext),(L-=z)?(r.arraySet(V.window,P,_-L,L,0),V.wnext=L,V.whave=V.wsize):(V.wnext+=z,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=z))),0}o.inflateReset=v,o.inflateReset2=w,o.inflateResetKeep=y,o.inflateInit=function(D){return C(D,15)},o.inflateInit2=C,o.inflate=function(D,P){var _,L,z,V,q,U,X,G,W,le,oe,ie,we,$e,_e,Oe,We,Ge,ot,st,O,me,he,Y,K=0,se=new r.Buf8(4),ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return p;(_=D.state).mode===12&&(_.mode=13),q=D.next_out,z=D.output,X=D.avail_out,V=D.next_in,L=D.input,U=D.avail_in,G=_.hold,W=_.bits,le=U,oe=X,me=h;e:for(;;)switch(_.mode){case f:if(_.wrap===0){_.mode=13;break}for(;W<16;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}if(2&_.wrap&&G===35615){se[_.check=0]=255&G,se[1]=G>>>8&255,_.check=a(_.check,se,2,0),W=G=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&G)<<8)+(G>>8))%31){D.msg="incorrect header check",_.mode=30;break}if((15&G)!=8){D.msg="unknown compression method",_.mode=30;break}if(W-=4,O=8+(15&(G>>>=4)),_.wbits===0)_.wbits=O;else if(O>_.wbits){D.msg="invalid window size",_.mode=30;break}_.dmax=1<<O,D.adler=_.check=1,_.mode=512&G?10:12,W=G=0;break;case 2:for(;W<16;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}if(_.flags=G,(255&_.flags)!=8){D.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){D.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=G>>8&1),512&_.flags&&(se[0]=255&G,se[1]=G>>>8&255,_.check=a(_.check,se,2,0)),W=G=0,_.mode=3;case 3:for(;W<32;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}_.head&&(_.head.time=G),512&_.flags&&(se[0]=255&G,se[1]=G>>>8&255,se[2]=G>>>16&255,se[3]=G>>>24&255,_.check=a(_.check,se,4,0)),W=G=0,_.mode=4;case 4:for(;W<16;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}_.head&&(_.head.xflags=255&G,_.head.os=G>>8),512&_.flags&&(se[0]=255&G,se[1]=G>>>8&255,_.check=a(_.check,se,2,0)),W=G=0,_.mode=5;case 5:if(1024&_.flags){for(;W<16;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}_.length=G,_.head&&(_.head.extra_len=G),512&_.flags&&(se[0]=255&G,se[1]=G>>>8&255,_.check=a(_.check,se,2,0)),W=G=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(U<(ie=_.length)&&(ie=U),ie&&(_.head&&(O=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),r.arraySet(_.head.extra,L,V,ie,O)),512&_.flags&&(_.check=a(_.check,L,ie,V)),U-=ie,V+=ie,_.length-=ie),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(U===0)break e;for(ie=0;O=L[V+ie++],_.head&&O&&_.length<65536&&(_.head.name+=String.fromCharCode(O)),O&&ie<U;);if(512&_.flags&&(_.check=a(_.check,L,ie,V)),U-=ie,V+=ie,O)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(U===0)break e;for(ie=0;O=L[V+ie++],_.head&&O&&_.length<65536&&(_.head.comment+=String.fromCharCode(O)),O&&ie<U;);if(512&_.flags&&(_.check=a(_.check,L,ie,V)),U-=ie,V+=ie,O)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;W<16;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}if(G!==(65535&_.check)){D.msg="header crc mismatch",_.mode=30;break}W=G=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),D.adler=_.check=0,_.mode=12;break;case 10:for(;W<32;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}D.adler=_.check=g(G),W=G=0,_.mode=11;case 11:if(_.havedict===0)return D.next_out=q,D.avail_out=X,D.next_in=V,D.avail_in=U,_.hold=G,_.bits=W,2;D.adler=_.check=1,_.mode=12;case 12:if(P===5||P===6)break e;case 13:if(_.last){G>>>=7&W,W-=7&W,_.mode=27;break}for(;W<3;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}switch(_.last=1&G,W-=1,3&(G>>>=1)){case 0:_.mode=14;break;case 1:if(N(_),_.mode=20,P!==6)break;G>>>=2,W-=2;break e;case 2:_.mode=17;break;case 3:D.msg="invalid block type",_.mode=30}G>>>=2,W-=2;break;case 14:for(G>>>=7&W,W-=7&W;W<32;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}if((65535&G)!=(G>>>16^65535)){D.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&G,W=G=0,_.mode=15,P===6)break e;case 15:_.mode=16;case 16:if(ie=_.length){if(U<ie&&(ie=U),X<ie&&(ie=X),ie===0)break e;r.arraySet(z,L,V,ie,q),U-=ie,V+=ie,X-=ie,q+=ie,_.length-=ie;break}_.mode=12;break;case 17:for(;W<14;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}if(_.nlen=257+(31&G),G>>>=5,W-=5,_.ndist=1+(31&G),G>>>=5,W-=5,_.ncode=4+(15&G),G>>>=4,W-=4,286<_.nlen||30<_.ndist){D.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;W<3;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}_.lens[ye[_.have++]]=7&G,G>>>=3,W-=3}for(;_.have<19;)_.lens[ye[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,he={bits:_.lenbits},me=c(0,_.lens,0,19,_.lencode,0,_.work,he),_.lenbits=he.bits,me){D.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;Oe=(K=_.lencode[G&(1<<_.lenbits)-1])>>>16&255,We=65535&K,!((_e=K>>>24)<=W);){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}if(We<16)G>>>=_e,W-=_e,_.lens[_.have++]=We;else{if(We===16){for(Y=_e+2;W<Y;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}if(G>>>=_e,W-=_e,_.have===0){D.msg="invalid bit length repeat",_.mode=30;break}O=_.lens[_.have-1],ie=3+(3&G),G>>>=2,W-=2}else if(We===17){for(Y=_e+3;W<Y;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}W-=_e,O=0,ie=3+(7&(G>>>=_e)),G>>>=3,W-=3}else{for(Y=_e+7;W<Y;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}W-=_e,O=0,ie=11+(127&(G>>>=_e)),G>>>=7,W-=7}if(_.have+ie>_.nlen+_.ndist){D.msg="invalid bit length repeat",_.mode=30;break}for(;ie--;)_.lens[_.have++]=O}}if(_.mode===30)break;if(_.lens[256]===0){D.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,he={bits:_.lenbits},me=c(u,_.lens,0,_.nlen,_.lencode,0,_.work,he),_.lenbits=he.bits,me){D.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,he={bits:_.distbits},me=c(d,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,he),_.distbits=he.bits,me){D.msg="invalid distances set",_.mode=30;break}if(_.mode=20,P===6)break e;case 20:_.mode=21;case 21:if(6<=U&&258<=X){D.next_out=q,D.avail_out=X,D.next_in=V,D.avail_in=U,_.hold=G,_.bits=W,l(D,oe),q=D.next_out,z=D.output,X=D.avail_out,V=D.next_in,L=D.input,U=D.avail_in,G=_.hold,W=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;Oe=(K=_.lencode[G&(1<<_.lenbits)-1])>>>16&255,We=65535&K,!((_e=K>>>24)<=W);){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}if(Oe&&!(240&Oe)){for(Ge=_e,ot=Oe,st=We;Oe=(K=_.lencode[st+((G&(1<<Ge+ot)-1)>>Ge)])>>>16&255,We=65535&K,!(Ge+(_e=K>>>24)<=W);){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}G>>>=Ge,W-=Ge,_.back+=Ge}if(G>>>=_e,W-=_e,_.back+=_e,_.length=We,Oe===0){_.mode=26;break}if(32&Oe){_.back=-1,_.mode=12;break}if(64&Oe){D.msg="invalid literal/length code",_.mode=30;break}_.extra=15&Oe,_.mode=22;case 22:if(_.extra){for(Y=_.extra;W<Y;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}_.length+=G&(1<<_.extra)-1,G>>>=_.extra,W-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;Oe=(K=_.distcode[G&(1<<_.distbits)-1])>>>16&255,We=65535&K,!((_e=K>>>24)<=W);){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}if(!(240&Oe)){for(Ge=_e,ot=Oe,st=We;Oe=(K=_.distcode[st+((G&(1<<Ge+ot)-1)>>Ge)])>>>16&255,We=65535&K,!(Ge+(_e=K>>>24)<=W);){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}G>>>=Ge,W-=Ge,_.back+=Ge}if(G>>>=_e,W-=_e,_.back+=_e,64&Oe){D.msg="invalid distance code",_.mode=30;break}_.offset=We,_.extra=15&Oe,_.mode=24;case 24:if(_.extra){for(Y=_.extra;W<Y;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}_.offset+=G&(1<<_.extra)-1,G>>>=_.extra,W-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){D.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(X===0)break e;if(ie=oe-X,_.offset>ie){if((ie=_.offset-ie)>_.whave&&_.sane){D.msg="invalid distance too far back",_.mode=30;break}we=ie>_.wnext?(ie-=_.wnext,_.wsize-ie):_.wnext-ie,ie>_.length&&(ie=_.length),$e=_.window}else $e=z,we=q-_.offset,ie=_.length;for(X<ie&&(ie=X),X-=ie,_.length-=ie;z[q++]=$e[we++],--ie;);_.length===0&&(_.mode=21);break;case 26:if(X===0)break e;z[q++]=_.length,X--,_.mode=21;break;case 27:if(_.wrap){for(;W<32;){if(U===0)break e;U--,G|=L[V++]<<W,W+=8}if(oe-=X,D.total_out+=oe,_.total+=oe,oe&&(D.adler=_.check=_.flags?a(_.check,z,oe,q-oe):s(_.check,z,oe,q-oe)),oe=X,(_.flags?G:g(G))!==_.check){D.msg="incorrect data check",_.mode=30;break}W=G=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;W<32;){if(U===0)break e;U--,G+=L[V++]<<W,W+=8}if(G!==(4294967295&_.total)){D.msg="incorrect length check",_.mode=30;break}W=G=0}_.mode=29;case 29:me=1;break e;case 30:me=-3;break e;case 31:return-4;case 32:default:return p}return D.next_out=q,D.avail_out=X,D.next_in=V,D.avail_in=U,_.hold=G,_.bits=W,(_.wsize||oe!==D.avail_out&&_.mode<30&&(_.mode<27||P!==4))&&B(D,D.output,D.next_out,oe-D.avail_out)?(_.mode=31,-4):(le-=D.avail_in,oe-=D.avail_out,D.total_in+=le,D.total_out+=oe,_.total+=oe,_.wrap&&oe&&(D.adler=_.check=_.flags?a(_.check,z,oe,D.next_out-oe):s(_.check,z,oe,D.next_out-oe)),D.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(le==0&&oe===0||P===4)&&me===h&&(me=-5),me)},o.inflateEnd=function(D){if(!D||!D.state)return p;var P=D.state;return P.window&&(P.window=null),D.state=null,h},o.inflateGetHeader=function(D,P){var _;return D&&D.state&&2&(_=D.state).wrap?((_.head=P).done=!1,h):p},o.inflateSetDictionary=function(D,P){var _,L=P.length;return D&&D.state?(_=D.state).wrap!==0&&_.mode!==11?p:_.mode===11&&s(1,P,L,0)!==_.check?-3:B(D,P,L,L)?(_.mode=31,-4):(_.havedict=1,h):p},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,o){var r=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(u,d,h,p,f,m,b,g){var x,y,v,w,C,S,E,I,N,B=g.bits,D=0,P=0,_=0,L=0,z=0,V=0,q=0,U=0,X=0,G=0,W=null,le=0,oe=new r.Buf16(16),ie=new r.Buf16(16),we=null,$e=0;for(D=0;D<=15;D++)oe[D]=0;for(P=0;P<p;P++)oe[d[h+P]]++;for(z=B,L=15;1<=L&&oe[L]===0;L--);if(L<z&&(z=L),L===0)return f[m++]=20971520,f[m++]=20971520,g.bits=1,0;for(_=1;_<L&&oe[_]===0;_++);for(z<_&&(z=_),D=U=1;D<=15;D++)if(U<<=1,(U-=oe[D])<0)return-1;if(0<U&&(u===0||L!==1))return-1;for(ie[1]=0,D=1;D<15;D++)ie[D+1]=ie[D]+oe[D];for(P=0;P<p;P++)d[h+P]!==0&&(b[ie[d[h+P]]++]=P);if(S=u===0?(W=we=b,19):u===1?(W=s,le-=257,we=a,$e-=257,256):(W=l,we=c,-1),D=_,C=m,q=P=G=0,v=-1,w=(X=1<<(V=z))-1,u===1&&852<X||u===2&&592<X)return 1;for(;;){for(E=D-q,N=b[P]<S?(I=0,b[P]):b[P]>S?(I=we[$e+b[P]],W[le+b[P]]):(I=96,0),x=1<<D-q,_=y=1<<V;f[C+(G>>q)+(y-=x)]=E<<24|I<<16|N|0,y!==0;);for(x=1<<D-1;G&x;)x>>=1;if(x!==0?(G&=x-1,G+=x):G=0,P++,--oe[D]==0){if(D===L)break;D=d[h+b[P]]}if(z<D&&(G&w)!==v){for(q===0&&(q=z),C+=_,U=1<<(V=D-q);V+q<L&&!((U-=oe[V+q])<=0);)V++,U<<=1;if(X+=1<<V,u===1&&852<X||u===2&&592<X)return 1;f[v=G&w]=z<<24|V<<16|C-m|0}}return G!==0&&(f[C+G]=D-q<<24|64<<16|0),g.bits=z,0}},{"../utils/common":41}],51:[function(n,i,o){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,o){var r=n("../utils/common"),s=0,a=1;function l(K){for(var se=K.length;0<=--se;)K[se]=0}var c=0,u=29,d=256,h=d+1+u,p=30,f=19,m=2*h+1,b=15,g=16,x=7,y=256,v=16,w=17,C=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(2*(h+2));l(B);var D=new Array(2*p);l(D);var P=new Array(512);l(P);var _=new Array(256);l(_);var L=new Array(u);l(L);var z,V,q,U=new Array(p);function X(K,se,ye,Ce,de){this.static_tree=K,this.extra_bits=se,this.extra_base=ye,this.elems=Ce,this.max_length=de,this.has_stree=K&&K.length}function G(K,se){this.dyn_tree=K,this.max_code=0,this.stat_desc=se}function W(K){return K<256?P[K]:P[256+(K>>>7)]}function le(K,se){K.pending_buf[K.pending++]=255&se,K.pending_buf[K.pending++]=se>>>8&255}function oe(K,se,ye){K.bi_valid>g-ye?(K.bi_buf|=se<<K.bi_valid&65535,le(K,K.bi_buf),K.bi_buf=se>>g-K.bi_valid,K.bi_valid+=ye-g):(K.bi_buf|=se<<K.bi_valid&65535,K.bi_valid+=ye)}function ie(K,se,ye){oe(K,ye[2*se],ye[2*se+1])}function we(K,se){for(var ye=0;ye|=1&K,K>>>=1,ye<<=1,0<--se;);return ye>>>1}function $e(K,se,ye){var Ce,de,Ie=new Array(b+1),Fe=0;for(Ce=1;Ce<=b;Ce++)Ie[Ce]=Fe=Fe+ye[Ce-1]<<1;for(de=0;de<=se;de++){var Ne=K[2*de+1];Ne!==0&&(K[2*de]=we(Ie[Ne]++,Ne))}}function _e(K){var se;for(se=0;se<h;se++)K.dyn_ltree[2*se]=0;for(se=0;se<p;se++)K.dyn_dtree[2*se]=0;for(se=0;se<f;se++)K.bl_tree[2*se]=0;K.dyn_ltree[2*y]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function Oe(K){8<K.bi_valid?le(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function We(K,se,ye,Ce){var de=2*se,Ie=2*ye;return K[de]<K[Ie]||K[de]===K[Ie]&&Ce[se]<=Ce[ye]}function Ge(K,se,ye){for(var Ce=K.heap[ye],de=ye<<1;de<=K.heap_len&&(de<K.heap_len&&We(se,K.heap[de+1],K.heap[de],K.depth)&&de++,!We(se,Ce,K.heap[de],K.depth));)K.heap[ye]=K.heap[de],ye=de,de<<=1;K.heap[ye]=Ce}function ot(K,se,ye){var Ce,de,Ie,Fe,Ne=0;if(K.last_lit!==0)for(;Ce=K.pending_buf[K.d_buf+2*Ne]<<8|K.pending_buf[K.d_buf+2*Ne+1],de=K.pending_buf[K.l_buf+Ne],Ne++,Ce===0?ie(K,de,se):(ie(K,(Ie=_[de])+d+1,se),(Fe=S[Ie])!==0&&oe(K,de-=L[Ie],Fe),ie(K,Ie=W(--Ce),ye),(Fe=E[Ie])!==0&&oe(K,Ce-=U[Ie],Fe)),Ne<K.last_lit;);ie(K,y,se)}function st(K,se){var ye,Ce,de,Ie=se.dyn_tree,Fe=se.stat_desc.static_tree,Ne=se.stat_desc.has_stree,He=se.stat_desc.elems,mt=-1;for(K.heap_len=0,K.heap_max=m,ye=0;ye<He;ye++)Ie[2*ye]!==0?(K.heap[++K.heap_len]=mt=ye,K.depth[ye]=0):Ie[2*ye+1]=0;for(;K.heap_len<2;)Ie[2*(de=K.heap[++K.heap_len]=mt<2?++mt:0)]=1,K.depth[de]=0,K.opt_len--,Ne&&(K.static_len-=Fe[2*de+1]);for(se.max_code=mt,ye=K.heap_len>>1;1<=ye;ye--)Ge(K,Ie,ye);for(de=He;ye=K.heap[1],K.heap[1]=K.heap[K.heap_len--],Ge(K,Ie,1),Ce=K.heap[1],K.heap[--K.heap_max]=ye,K.heap[--K.heap_max]=Ce,Ie[2*de]=Ie[2*ye]+Ie[2*Ce],K.depth[de]=(K.depth[ye]>=K.depth[Ce]?K.depth[ye]:K.depth[Ce])+1,Ie[2*ye+1]=Ie[2*Ce+1]=de,K.heap[1]=de++,Ge(K,Ie,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],function(ct,Vt){var ho,sn,$o,Bt,Ao,er,po=Vt.dyn_tree,Ac=Vt.max_code,ol=Vt.stat_desc.static_tree,pd=Vt.stat_desc.has_stree,fd=Vt.stat_desc.extra_bits,Nc=Vt.stat_desc.extra_base,ri=Vt.stat_desc.max_length,an=0;for(Bt=0;Bt<=b;Bt++)ct.bl_count[Bt]=0;for(po[2*ct.heap[ct.heap_max]+1]=0,ho=ct.heap_max+1;ho<m;ho++)ri<(Bt=po[2*po[2*(sn=ct.heap[ho])+1]+1]+1)&&(Bt=ri,an++),po[2*sn+1]=Bt,Ac<sn||(ct.bl_count[Bt]++,Ao=0,Nc<=sn&&(Ao=fd[sn-Nc]),er=po[2*sn],ct.opt_len+=er*(Bt+Ao),pd&&(ct.static_len+=er*(ol[2*sn+1]+Ao)));if(an!==0){do{for(Bt=ri-1;ct.bl_count[Bt]===0;)Bt--;ct.bl_count[Bt]--,ct.bl_count[Bt+1]+=2,ct.bl_count[ri]--,an-=2}while(0<an);for(Bt=ri;Bt!==0;Bt--)for(sn=ct.bl_count[Bt];sn!==0;)Ac<($o=ct.heap[--ho])||(po[2*$o+1]!==Bt&&(ct.opt_len+=(Bt-po[2*$o+1])*po[2*$o],po[2*$o+1]=Bt),sn--)}}(K,se),$e(Ie,mt,K.bl_count)}function O(K,se,ye){var Ce,de,Ie=-1,Fe=se[1],Ne=0,He=7,mt=4;for(Fe===0&&(He=138,mt=3),se[2*(ye+1)+1]=65535,Ce=0;Ce<=ye;Ce++)de=Fe,Fe=se[2*(Ce+1)+1],++Ne<He&&de===Fe||(Ne<mt?K.bl_tree[2*de]+=Ne:de!==0?(de!==Ie&&K.bl_tree[2*de]++,K.bl_tree[2*v]++):Ne<=10?K.bl_tree[2*w]++:K.bl_tree[2*C]++,Ie=de,mt=(Ne=0)===Fe?(He=138,3):de===Fe?(He=6,3):(He=7,4))}function me(K,se,ye){var Ce,de,Ie=-1,Fe=se[1],Ne=0,He=7,mt=4;for(Fe===0&&(He=138,mt=3),Ce=0;Ce<=ye;Ce++)if(de=Fe,Fe=se[2*(Ce+1)+1],!(++Ne<He&&de===Fe)){if(Ne<mt)for(;ie(K,de,K.bl_tree),--Ne!=0;);else de!==0?(de!==Ie&&(ie(K,de,K.bl_tree),Ne--),ie(K,v,K.bl_tree),oe(K,Ne-3,2)):Ne<=10?(ie(K,w,K.bl_tree),oe(K,Ne-3,3)):(ie(K,C,K.bl_tree),oe(K,Ne-11,7));Ie=de,mt=(Ne=0)===Fe?(He=138,3):de===Fe?(He=6,3):(He=7,4)}}l(U);var he=!1;function Y(K,se,ye,Ce){oe(K,(c<<1)+(Ce?1:0),3),function(de,Ie,Fe,Ne){Oe(de),le(de,Fe),le(de,~Fe),r.arraySet(de.pending_buf,de.window,Ie,Fe,de.pending),de.pending+=Fe}(K,se,ye)}o._tr_init=function(K){he||(function(){var se,ye,Ce,de,Ie,Fe=new Array(b+1);for(de=Ce=0;de<u-1;de++)for(L[de]=Ce,se=0;se<1<<S[de];se++)_[Ce++]=de;for(_[Ce-1]=de,de=Ie=0;de<16;de++)for(U[de]=Ie,se=0;se<1<<E[de];se++)P[Ie++]=de;for(Ie>>=7;de<p;de++)for(U[de]=Ie<<7,se=0;se<1<<E[de]-7;se++)P[256+Ie++]=de;for(ye=0;ye<=b;ye++)Fe[ye]=0;for(se=0;se<=143;)B[2*se+1]=8,se++,Fe[8]++;for(;se<=255;)B[2*se+1]=9,se++,Fe[9]++;for(;se<=279;)B[2*se+1]=7,se++,Fe[7]++;for(;se<=287;)B[2*se+1]=8,se++,Fe[8]++;for($e(B,h+1,Fe),se=0;se<p;se++)D[2*se+1]=5,D[2*se]=we(se,5);z=new X(B,S,d+1,h,b),V=new X(D,E,0,p,b),q=new X(new Array(0),I,0,f,x)}(),he=!0),K.l_desc=new G(K.dyn_ltree,z),K.d_desc=new G(K.dyn_dtree,V),K.bl_desc=new G(K.bl_tree,q),K.bi_buf=0,K.bi_valid=0,_e(K)},o._tr_stored_block=Y,o._tr_flush_block=function(K,se,ye,Ce){var de,Ie,Fe=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=function(Ne){var He,mt=4093624447;for(He=0;He<=31;He++,mt>>>=1)if(1&mt&&Ne.dyn_ltree[2*He]!==0)return s;if(Ne.dyn_ltree[18]!==0||Ne.dyn_ltree[20]!==0||Ne.dyn_ltree[26]!==0)return a;for(He=32;He<d;He++)if(Ne.dyn_ltree[2*He]!==0)return a;return s}(K)),st(K,K.l_desc),st(K,K.d_desc),Fe=function(Ne){var He;for(O(Ne,Ne.dyn_ltree,Ne.l_desc.max_code),O(Ne,Ne.dyn_dtree,Ne.d_desc.max_code),st(Ne,Ne.bl_desc),He=f-1;3<=He&&Ne.bl_tree[2*N[He]+1]===0;He--);return Ne.opt_len+=3*(He+1)+5+5+4,He}(K),de=K.opt_len+3+7>>>3,(Ie=K.static_len+3+7>>>3)<=de&&(de=Ie)):de=Ie=ye+5,ye+4<=de&&se!==-1?Y(K,se,ye,Ce):K.strategy===4||Ie===de?(oe(K,2+(Ce?1:0),3),ot(K,B,D)):(oe(K,4+(Ce?1:0),3),function(Ne,He,mt,ct){var Vt;for(oe(Ne,He-257,5),oe(Ne,mt-1,5),oe(Ne,ct-4,4),Vt=0;Vt<ct;Vt++)oe(Ne,Ne.bl_tree[2*N[Vt]+1],3);me(Ne,Ne.dyn_ltree,He-1),me(Ne,Ne.dyn_dtree,mt-1)}(K,K.l_desc.max_code+1,K.d_desc.max_code+1,Fe+1),ot(K,K.dyn_ltree,K.dyn_dtree)),_e(K),Ce&&Oe(K)},o._tr_tally=function(K,se,ye){return K.pending_buf[K.d_buf+2*K.last_lit]=se>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&se,K.pending_buf[K.l_buf+K.last_lit]=255&ye,K.last_lit++,se===0?K.dyn_ltree[2*ye]++:(K.matches++,se--,K.dyn_ltree[2*(_[ye]+d+1)]++,K.dyn_dtree[2*W(se)]++),K.last_lit===K.lit_bufsize-1},o._tr_align=function(K){oe(K,2,3),ie(K,y,B),function(se){se.bi_valid===16?(le(se,se.bi_buf),se.bi_buf=0,se.bi_valid=0):8<=se.bi_valid&&(se.pending_buf[se.pending++]=255&se.bi_buf,se.bi_buf>>=8,se.bi_valid-=8)}(K)}},{"../utils/common":41}],53:[function(n,i,o){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,o){(function(r){(function(s,a){if(!s.setImmediate){var l,c,u,d,h=1,p={},f=!1,m=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,l={}.toString.call(s.process)==="[object process]"?function(v){process.nextTick(function(){x(v)})}:function(){if(s.postMessage&&!s.importScripts){var v=!0,w=s.onmessage;return s.onmessage=function(){v=!1},s.postMessage("","*"),s.onmessage=w,v}}()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",y,!1):s.attachEvent("onmessage",y),function(v){s.postMessage(d+v,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(v){x(v.data)},function(v){u.port2.postMessage(v)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(v){var w=m.createElement("script");w.onreadystatechange=function(){x(v),w.onreadystatechange=null,c.removeChild(w),w=null},c.appendChild(w)}):function(v){setTimeout(x,0,v)},b.setImmediate=function(v){typeof v!="function"&&(v=new Function(""+v));for(var w=new Array(arguments.length-1),C=0;C<w.length;C++)w[C]=arguments[C+1];var S={callback:v,args:w};return p[h]=S,l(h),h++},b.clearImmediate=g}function g(v){delete p[v]}function x(v){if(f)setTimeout(x,0,v);else{var w=p[v];if(w){f=!0;try{(function(C){var S=C.callback,E=C.args;switch(E.length){case 0:S();break;case 1:S(E[0]);break;case 2:S(E[0],E[1]);break;case 3:S(E[0],E[1],E[2]);break;default:S.apply(a,E)}})(w)}finally{g(v),f=!1}}}}function y(v){v.source===s&&typeof v.data=="string"&&v.data.indexOf(d)===0&&x(+v.data.slice(d.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof dn<"u"?dn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(OU);var n9e=OU.exports;const i9e=dc(n9e),fO={happy:Vle,sad:nce,love:Wle,angry:Rle,like:rce,dislike:oce,default:Gle},o9e=()=>{const{journalId:t,pageId:e}=xy(),[n,i]=ae.useState(null),[o,r]=ae.useState([]),[s,a]=ae.useState(!0),[l,c]=ae.useState({prev:null,next:null}),[u,d]=ae.useState(null),[h,p]=ae.useState(!1),[f,m]=ae.useState(!1),[b,g]=ae.useState(!1),[x]=Y1(),y=by();ae.useEffect(()=>{t&&e&&(async()=>{try{a(!0);const{data:_,error:L}=await ze.from("journal_pages").select("*").eq("page_id",e).single();if(L)throw L;i(_);const{data:z,error:V}=await ze.from("journal_page_contents").select("*").eq("page_id",e).order("content_order",{ascending:!0});if(V)throw V;r(z||[]);const{data:q,error:U}=await ze.from("journal_pages").select("page_id, page_no").eq("journal_id",t).order("page_no",{ascending:!0});if(U)throw U;const X=q.findIndex(G=>G.page_id===e);c({prev:X>0?q[X-1].page_id:null,next:X<q.length-1?q[X+1].page_id:null})}catch(_){console.error("Error fetching page:",_),x({message:"Failed to load page data",duration:3e3,color:"danger"})}finally{a(!1)}})()},[t,e,x]);const v=P=>new Date(P).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),w=P=>{const _=P.toLowerCase();return fO[_]||fO.default},C=()=>{y.push("/Cephaline-Supabase/app/JournalPage/".concat(t,"/").concat(e))},S=()=>{y.push("/Cephaline-Supabase/app/JournalPage/".concat(t,"/").concat(e,"/content"))},E=async()=>{if(!n)throw new Error("Page data not loaded");const P=new i9e,L=(q=>q.replace(/[^a-zA-Z0-9\-_]/g,"_"))(n.page_title||"page_".concat(n.page_no)),z=P.folder(L);let V="Title: ".concat(n.page_title||"Untitled Page","\n");V+="Page Number: ".concat(n.page_no,"\n"),V+="Mood: ".concat(n.mood||"Not specified","\n"),V+="Created: ".concat(new Date(n.created_at).toLocaleString(),"\n"),n.updated_at!==n.created_at&&(V+="Updated: ".concat(new Date(n.updated_at).toLocaleString(),"\n")),V+="\n==== Contents ====\n\n";for(const q of o)if(V+="[Item ".concat(q.content_order,"]\n"),V+="Type: ".concat(q.paragraph?"Text":q.link?"Link":q.image_url?"Image":q.file_url?"File":q.folder_name?"Folder":"Unknown","\n"),q.paragraph)V+="".concat(q.paragraph,"\n\n"),z==null||z.file("content_".concat(q.content_order,".txt"),q.paragraph);else if(q.link)V+="URL: ".concat(q.link,"\n\n"),z==null||z.file("link_".concat(q.content_order,".url"),"[InternetShortcut]\nURL=".concat(q.link));else if(q.image_url||q.file_url){const U=q.image_url||q.file_url||"",X=U.split("/").pop()||"file_".concat(q.content_order);V+="Filename: ".concat(X,"\n");try{const G=await fetch(U);if(!G.ok)throw new Error("HTTP ".concat(G.status));const W=await G.blob();z==null||z.file(X,W),V+="Status: Downloaded successfully\n\n"}catch(G){const W=G;V+="Status: Download failed (".concat(W.message,")\n\n")}}else q.folder_name&&(V+="Folder: ".concat(q.folder_name,"\n\n"));return z==null||z.file("page_contents.txt",V),await P.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}})},I=async()=>{try{a(!0);const P=await E(),_=document.createElement("a");_.href=URL.createObjectURL(P),_.download="".concat(n.page_title||"journal-page",".zip"),document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(_.href),x({message:"Download started successfully",duration:3e3,color:"success"})}catch(P){console.error("Error creating zip:",P),x({message:"Failed to prepare download. Please try again.",duration:3e3,color:"danger"})}finally{a(!1)}},N=async()=>{try{g(!0);const P=await E();await new Promise(_=>setTimeout(_,2e3)),x({message:'File "'.concat(n.page_title||"journal-page",'.zip" would be uploaded to Google Drive in a real implementation.'),duration:3e3,color:"success"})}catch(P){console.error("Error uploading to Google Drive:",P),x({message:"Failed to upload to Google Drive. Please try again.",duration:3e3,color:"danger"})}finally{g(!1)}},B=P=>{if(h)return;const _=P==="prev"?l.prev:l.next;_&&(p(!0),d(P==="prev"?"right":"left"),setTimeout(()=>{y.push("/cephaline-supabase/app/JournalPageView/".concat(t,"/").concat(_)),p(!1),d(null)},300))},D=P=>{const _=()=>P.paragraph?lA:P.image_url?H3:P.link?W3:P.file_url||P.folder_name?uA:lA;return T.jsx(Co,{className:"content-item",children:T.jsxs(So,{children:[T.jsxs(yo,{lines:"none",children:[T.jsx(St,{icon:_(),slot:"start"}),T.jsxs(Ti,{children:["Item #",P.content_order]})]}),P.paragraph&&T.jsx("div",{className:"content-paragraph",children:T.jsx(Wi,{children:P.paragraph})}),P.image_url&&T.jsx("div",{className:"content-image",children:T.jsx(K1,{src:P.image_url,alt:"Content ".concat(P.content_order),style:{maxHeight:"300px",objectFit:"contain"}})}),P.link&&T.jsxs(ut,{fill:"clear",href:P.link,target:"_blank",rel:"noopener noreferrer",children:[T.jsx(St,{icon:W3,slot:"start"}),"Open Link"]}),P.file_url&&T.jsxs(ut,{fill:"clear",href:P.file_url,target:"_blank",rel:"noopener noreferrer",children:[T.jsx(St,{icon:uA,slot:"start"}),"View File"]}),P.folder_name&&T.jsx(Wi,{color:"medium",children:T.jsxs("p",{children:["Folder: ",P.folder_name]})})]})},P.content_id)};return s?T.jsx(fr,{children:T.jsx(A3,{isOpen:s,message:"Loading page..."})}):n?T.jsxs(fr,{children:[T.jsx(Ai,{children:T.jsxs(Ni,{children:[T.jsxs(so,{children:["Page ",n.page_no]}),T.jsxs(ro,{slot:"end",children:[T.jsx(ut,{onClick:S,children:T.jsx(St,{slot:"icon-only",icon:Ole})}),T.jsx(ut,{onClick:C,children:T.jsx(St,{slot:"icon-only",icon:jle})})]})]})}),T.jsx(On,{className:"journal-page-content",children:T.jsx("div",{className:"slide-container ".concat(u?"slide-"+u:""),children:T.jsxs("div",{className:"journal-page-container",children:[T.jsx(ro,{slot:"start",children:T.jsx(im,{defaultHref:"/cephaline-supabase/app/Overviewing/".concat(t),style:{color:"skyblue"}})}),T.jsxs("div",{className:"journal-page-header",children:[T.jsxs("div",{className:"page-title-with-download",children:[T.jsx("h1",{style:{marginRight:"12px"},children:n.page_title}),T.jsxs(ut,{fill:"clear",size:"small",onClick:()=>m(!0),children:[T.jsx(St,{icon:cA,slot:"start"}),"Export"]})]}),n.mood&&T.jsxs("div",{className:"mood-display",children:[T.jsx(St,{icon:w(n.mood),style:{marginRight:"6px",color:"var(--ion-color-primary)"}}),T.jsx(Px,{color:"tertiary",children:n.mood.charAt(0).toUpperCase()+n.mood.slice(1)})]}),T.jsx("div",{className:"page-metadata",children:T.jsxs(Wi,{color:"medium",children:[T.jsxs("small",{children:["Created: ",v(n.created_at)]}),n.updated_at!==n.created_at&&T.jsxs("small",{children:["  Updated: ",v(n.updated_at)]})]})})]}),T.jsxs("div",{className:"contents-section",children:[T.jsxs("h2",{className:"contents-title",children:["Page Contents",T.jsx(Px,{color:"primary",style:{marginLeft:"8px"},children:o.length})]}),o.length===0?T.jsxs("div",{className:"empty-contents",children:[T.jsx(Wi,{color:"medium",children:"No content items yet."}),T.jsx(ut,{fill:"clear",onClick:S,children:"Add Content"})]}):T.jsx("div",{className:"contents-list",children:o.map(D)})]}),T.jsxs("div",{className:"page-navigation",children:[T.jsxs(ut,{fill:"clear",disabled:!l.prev||h,onClick:()=>B("prev"),children:[T.jsx(St,{slot:"start",icon:Ple}),"Previous"]}),T.jsxs(ut,{fill:"clear",disabled:!l.next||h,onClick:()=>B("next"),children:["Next",T.jsx(St,{slot:"end",icon:Ble})]})]})]})})}),T.jsx(Kie,{isOpen:f,onDidDismiss:()=>m(!1),buttons:[{text:"Download to Device",icon:cA,handler:()=>{I()}},{text:"Upload to Google Drive",icon:Mle,handler:()=>{N()}},{text:"Cancel",icon:Mb,role:"cancel"}]}),T.jsx(A3,{isOpen:b,message:"Uploading to Google Drive..."})]}):T.jsxs(fr,{children:[T.jsx(Ai,{children:T.jsxs(Ni,{children:[T.jsx(ro,{slot:"start",children:T.jsx(im,{defaultHref:"/cephaline-supabase/app/Overviewing/".concat(t)})}),T.jsx(so,{children:"Page Not Found"})]})}),T.jsx(On,{children:T.jsx("div",{className:"ion-padding",children:"The requested page could not be found."})})]})},r9e=()=>{const t=by(),e=[{name:"Home",url:"/Cephaline-Supabase/app/home",icon:qle},{name:"Profile",url:"/Cephaline-Supabase/app/editProfile",icon:Jle}],i={...{animation:"blink 2s infinite",filter:"drop-shadow(0 0 8px white)"},animationDelay:"0.1s",color:"black"},o={display:"flex",color:"black",margin:"3%"},r={display:"flex",color:"white"},s=async()=>{try{const{error:a}=await ze.auth.signOut();if(a)throw a;t.push("/Cephaline-Supabase")}catch(a){console.error("Error logging out:",a)}};return T.jsxs(T.Fragment,{children:[T.jsxs(Bie,{contentId:"main-content",children:[T.jsx(Ai,{children:T.jsx(Ni,{children:T.jsx(so,{style:i,children:"Menu Content"})})}),T.jsxs(On,{className:"ion-padding",children:[e.map((a,l)=>T.jsx(Mie,{children:T.jsxs(yo,{style:o,routerLink:a.url,routerDirection:"forward",children:[T.jsx(St,{style:i,icon:a.icon,slot:"start"}),a.name]})},l)),T.jsxs(ut,{onClick:s,expand:"full",style:{marginTop:"10%",width:"90vw",maxWidth:"250px",height:"auto",padding:"1rem"},children:[T.jsx(St,{icon:Xle,slot:"start"}),"Logout"]})]})]}),T.jsxs(fr,{id:"main-content",children:[T.jsx(Ai,{children:T.jsxs(Ni,{children:[T.jsx(ro,{slot:"start",children:T.jsx(j7,{style:i})}),T.jsx(so,{style:r,children:"Menu"})]})}),T.jsxs(ih,{id:"main",children:[T.jsx(ps,{exact:!0,path:"/Cephaline-Supabase/app/home",component:zue}),T.jsx(ps,{exact:!0,path:"/Cephaline-Supabase/app/editProfile",component:W7e}),T.jsx(ps,{exact:!0,path:"/Cephaline-Supabase/app/JournalPage/:journalId?",component:Z7e}),T.jsx(ps,{exact:!0,path:"/Cephaline-Supabase/app/page-list/:journalId",component:t9e}),T.jsx(ps,{exact:!0,path:"/Cephaline-Supabase/app/JournalPageView/:journalId/:pageId",component:o9e}),T.jsx(ps,{exact:!0,path:"/Cephaline-Supabase/app/Overviewing/:journalId",component:e9e}),T.jsx(ps,{exact:!0,path:"/Cephaline-Supabase/app",children:T.jsx(Cre,{to:"/Cephaline-Supabase/app/home"})})]})]})]})},s9e=({children:t})=>{const e=Jl(),n="dev-z73ew72hke24bt8z.us.auth0.com",i="4qIWv52kRoed4sjUGlHjny5IFR0eLdZa",o=window.location.origin,r=s=>{e.push((s==null?void 0:s.returnTo)||"/Cephaline-Supabase/app","forward","replace")};return T.jsx($le,{domain:n,clientId:i,authorizationParams:{redirect_uri:o},onRedirectCallback:r,children:t})};moe();const a9e=()=>T.jsx(U7,{children:T.jsx(Pre,{children:T.jsx(s9e,{children:T.jsxs(ih,{children:[T.jsx(ps,{exact:!0,path:"/Cephaline-Supabase",component:fue}),T.jsx(ps,{exact:!0,path:"/Cephaline-Supabase/registration",component:Aue}),T.jsx(ps,{path:"/Cephaline-Supabase/app",component:r9e})]})})})}),l9e=document.getElementById("root"),c9e=nG.createRoot(l9e);c9e.render(T.jsx(Ae.StrictMode,{children:T.jsx(a9e,{})}));export{h7 as K,u9e as __vite_legacy_guard,xo as a,Es as b,Mm as c,hr as d,QC as e,Nx as f,E8 as g,C3 as h,za as i,Gt as j,mi as k,w3 as l,$9e as m,Re as n,h9e as o,d9e as p,dc as q,Su as r,_9e as s,Ho as w};
