function Tte(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Es(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function KA(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var CC={exports:{}},_p={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA=Symbol.for("react.transitional.element"),XA=Symbol.for("react.fragment");function EC(n,e,t){var r=null;if(t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),"key"in e){t={};for(var i in e)i!=="key"&&(t[i]=e[i])}else t=e;return e=t.ref,{$$typeof:YA,type:n,key:r,ref:e!==void 0?e:null,props:t}}_p.Fragment=XA;_p.jsx=EC;_p.jsxs=EC;CC.exports=_p;var C=CC.exports,SC={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv=Symbol.for("react.transitional.element"),ZA=Symbol.for("react.portal"),JA=Symbol.for("react.fragment"),QA=Symbol.for("react.strict_mode"),eI=Symbol.for("react.profiler"),tI=Symbol.for("react.consumer"),nI=Symbol.for("react.context"),rI=Symbol.for("react.forward_ref"),iI=Symbol.for("react.suspense"),oI=Symbol.for("react.memo"),TC=Symbol.for("react.lazy"),tw=Symbol.iterator;function aI(n){return n===null||typeof n!="object"?null:(n=tw&&n[tw]||n["@@iterator"],typeof n=="function"?n:null)}var AC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IC=Object.assign,RC={};function hc(n,e,t){this.props=n,this.context=e,this.refs=RC,this.updater=t||AC}hc.prototype.isReactComponent={};hc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};hc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function DC(){}DC.prototype=hc.prototype;function zv(n,e,t){this.props=n,this.context=e,this.refs=RC,this.updater=t||AC}var Lv=zv.prototype=new DC;Lv.constructor=zv;IC(Lv,hc.prototype);Lv.isPureReactComponent=!0;var nw=Array.isArray,It={H:null,A:null,T:null,S:null},OC=Object.prototype.hasOwnProperty;function jv(n,e,t,r,i,o){return t=o.ref,{$$typeof:Bv,type:n,key:e,ref:t!==void 0?t:null,props:o}}function sI(n,e){return jv(n.type,e,void 0,void 0,void 0,n.props)}function Nv(n){return typeof n=="object"&&n!==null&&n.$$typeof===Bv}function lI(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var rw=/\/+/g;function Gm(n,e){return typeof n=="object"&&n!==null&&n.key!=null?lI(""+n.key):e.toString(36)}function iw(){}function cI(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then(iw,iw):(n.status="pending",n.then(function(e){n.status==="pending"&&(n.status="fulfilled",n.value=e)},function(e){n.status==="pending"&&(n.status="rejected",n.reason=e)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function rl(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"bigint":case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Bv:case ZA:a=!0;break;case TC:return a=n._init,rl(a(n._payload),e,t,r,i)}}if(a)return i=i(n),a=r===""?"."+Gm(n,0):r,nw(i)?(t="",a!=null&&(t=a.replace(rw,"$&/")+"/"),rl(i,e,t,"",function(c){return c})):i!=null&&(Nv(i)&&(i=sI(i,t+(i.key==null||n&&n.key===i.key?"":(""+i.key).replace(rw,"$&/")+"/")+a)),e.push(i)),1;a=0;var s=r===""?".":r+":";if(nw(n))for(var l=0;l<n.length;l++)r=n[l],o=s+Gm(r,l),a+=rl(r,e,t,o,i);else if(l=aI(n),typeof l=="function")for(n=l.call(n),l=0;!(r=n.next()).done;)r=r.value,o=s+Gm(r,l++),a+=rl(r,e,t,o,i);else if(o==="object"){if(typeof n.then=="function")return rl(cI(n),e,t,r,i);throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Wd(n,e,t){if(n==null)return n;var r=[],i=0;return rl(n,r,"","",function(o){return e.call(t,o,i++)}),r}function uI(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var ow=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function dI(){}Ye.Children={map:Wd,forEach:function(n,e,t){Wd(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Wd(n,function(){e++}),e},toArray:function(n){return Wd(n,function(e){return e})||[]},only:function(n){if(!Nv(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ye.Component=hc;Ye.Fragment=JA;Ye.Profiler=eI;Ye.PureComponent=zv;Ye.StrictMode=QA;Ye.Suspense=iI;Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=It;Ye.act=function(){throw Error("act(...) is not supported in production builds of React.")};Ye.cache=function(n){return function(){return n.apply(null,arguments)}};Ye.cloneElement=function(n,e,t){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var r=IC({},n.props),i=n.key,o=void 0;if(e!=null)for(a in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(i=""+e.key),e)!OC.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];r.children=s}return jv(n.type,i,void 0,void 0,o,r)};Ye.createContext=function(n){return n={$$typeof:nI,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:tI,_context:n},n};Ye.createElement=function(n,e,t){var r,i={},o=null;if(e!=null)for(r in e.key!==void 0&&(o=""+e.key),e)OC.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return jv(n,o,void 0,void 0,null,i)};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(n){return{$$typeof:rI,render:n}};Ye.isValidElement=Nv;Ye.lazy=function(n){return{$$typeof:TC,_payload:{_status:-1,_result:n},_init:uI}};Ye.memo=function(n,e){return{$$typeof:oI,type:n,compare:e===void 0?null:e}};Ye.startTransition=function(n){var e=It.T,t={};It.T=t;try{var r=n(),i=It.S;i!==null&&i(t,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(dI,ow)}catch(o){ow(o)}finally{It.T=e}};Ye.unstable_useCacheRefresh=function(){return It.H.useCacheRefresh()};Ye.use=function(n){return It.H.use(n)};Ye.useActionState=function(n,e,t){return It.H.useActionState(n,e,t)};Ye.useCallback=function(n,e){return It.H.useCallback(n,e)};Ye.useContext=function(n){return It.H.useContext(n)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(n,e){return It.H.useDeferredValue(n,e)};Ye.useEffect=function(n,e){return It.H.useEffect(n,e)};Ye.useId=function(){return It.H.useId()};Ye.useImperativeHandle=function(n,e,t){return It.H.useImperativeHandle(n,e,t)};Ye.useInsertionEffect=function(n,e){return It.H.useInsertionEffect(n,e)};Ye.useLayoutEffect=function(n,e){return It.H.useLayoutEffect(n,e)};Ye.useMemo=function(n,e){return It.H.useMemo(n,e)};Ye.useOptimistic=function(n,e){return It.H.useOptimistic(n,e)};Ye.useReducer=function(n,e,t){return It.H.useReducer(n,e,t)};Ye.useRef=function(n){return It.H.useRef(n)};Ye.useState=function(n){return It.H.useState(n)};Ye.useSyncExternalStore=function(n,e,t){return It.H.useSyncExternalStore(n,e,t)};Ye.useTransition=function(){return It.H.useTransition()};Ye.version="19.0.0";SC.exports=Ye;var Y=SC.exports;const de=Es(Y);var MC={exports:{}},Cp={},PC={exports:{}},BC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(P,z){var N=P.length;P.push(z);e:for(;0<N;){var B=N-1>>>1,U=P[B];if(0<i(U,z))P[B]=z,P[N]=U,N=B;else break e}}function t(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var z=P[0],N=P.pop();if(N!==z){P[0]=N;e:for(var B=0,U=P.length,$=U>>>1;B<$;){var F=2*(B+1)-1,ee=P[F],X=F+1,Q=P[X];if(0>i(ee,N))X<U&&0>i(Q,ee)?(P[B]=Q,P[X]=N,B=X):(P[B]=ee,P[F]=N,B=F);else if(X<U&&0>i(Q,N))P[B]=Q,P[X]=N,B=X;else break e}}return z}function i(P,z){var N=P.sortIndex-z.sortIndex;return N!==0?N:P.id-z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();n.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function x(P){for(var z=t(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=P)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function y(P){if(m=!1,x(P),!p)if(t(l)!==null)p=!0,S();else{var z=t(c);z!==null&&O(y,z.startTime-P)}}var w=!1,k=-1,_=5,T=-1;function E(){return!(n.unstable_now()-T<_)}function A(){if(w){var P=n.unstable_now();T=P;var z=!0;try{e:{p=!1,m&&(m=!1,g(k),k=-1),f=!0;var N=h;try{t:{for(x(P),d=t(l);d!==null&&!(d.expirationTime>P&&E());){var B=d.callback;if(typeof B=="function"){d.callback=null,h=d.priorityLevel;var U=B(d.expirationTime<=P);if(P=n.unstable_now(),typeof U=="function"){d.callback=U,x(P),z=!0;break t}d===t(l)&&r(l),x(P)}else r(l);d=t(l)}if(d!==null)z=!0;else{var $=t(c);$!==null&&O(y,$.startTime-P),z=!1}}break e}finally{d=null,h=N,f=!1}z=void 0}}finally{z?M():w=!1}}}var M;if(typeof v=="function")M=function(){v(A)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,L=I.port2;I.port1.onmessage=A,M=function(){L.postMessage(null)}}else M=function(){b(A,0)};function S(){w||(w=!0,M())}function O(P,z){k=b(function(){P(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_continueExecution=function(){p||f||(p=!0,S())},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(P){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var N=h;h=z;try{return P()}finally{h=N}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(P,z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var N=h;h=P;try{return z()}finally{h=N}},n.unstable_scheduleCallback=function(P,z,N){var B=n.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?B+N:B):N=B,P){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=N+U,P={id:u++,callback:z,priorityLevel:P,startTime:N,expirationTime:U,sortIndex:-1},N>B?(P.sortIndex=N,e(c,P),t(l)===null&&P===t(c)&&(m?(g(k),k=-1):m=!0,O(y,N-B))):(P.sortIndex=U,e(l,P),p||f||(p=!0,S())),P},n.unstable_shouldYield=E,n.unstable_wrapCallback=function(P){var z=h;return function(){var N=h;h=z;try{return P.apply(this,arguments)}finally{h=N}}}})(BC);PC.exports=BC;var hI=PC.exports,zC={exports:{}},Xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fI=Y;function LC(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Bo(){}var qn={d:{f:Bo,r:function(){throw Error(LC(522))},D:Bo,C:Bo,L:Bo,m:Bo,X:Bo,S:Bo,M:Bo},p:0,findDOMNode:null},pI=Symbol.for("react.portal");function mI(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pI,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}var nu=fI.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ep(n,e){if(n==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qn;Xn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(LC(299));return mI(n,e,null,t)};Xn.flushSync=function(n){var e=nu.T,t=qn.p;try{if(nu.T=null,qn.p=2,n)return n()}finally{nu.T=e,qn.p=t,qn.d.f()}};Xn.preconnect=function(n,e){typeof n=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,qn.d.C(n,e))};Xn.prefetchDNS=function(n){typeof n=="string"&&qn.d.D(n)};Xn.preinit=function(n,e){if(typeof n=="string"&&e&&typeof e.as=="string"){var t=e.as,r=Ep(t,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?qn.d.S(n,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):t==="script"&&qn.d.X(n,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Xn.preinitModule=function(n,e){if(typeof n=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=Ep(e.as,e.crossOrigin);qn.d.M(n,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&qn.d.M(n)};Xn.preload=function(n,e){if(typeof n=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,r=Ep(t,e.crossOrigin);qn.d.L(n,t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Xn.preloadModule=function(n,e){if(typeof n=="string")if(e){var t=Ep(e.as,e.crossOrigin);qn.d.m(n,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else qn.d.m(n)};Xn.requestFormReset=function(n){qn.d.r(n)};Xn.unstable_batchedUpdates=function(n,e){return n(e)};Xn.useFormState=function(n,e,t){return nu.H.useFormState(n,e,t)};Xn.useFormStatus=function(){return nu.H.useHostTransitionStatus()};Xn.version="19.0.0";function jC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jC)}catch(n){console.error(n)}}jC(),zC.exports=Xn;var Fv=zC.exports;const gI=Es(Fv);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var en=hI,NC=Y,bI=Fv;function ce(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function FC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var vI=Symbol.for("react.element"),Vd=Symbol.for("react.transitional.element"),Yc=Symbol.for("react.portal"),bl=Symbol.for("react.fragment"),$C=Symbol.for("react.strict_mode"),M0=Symbol.for("react.profiler"),xI=Symbol.for("react.provider"),UC=Symbol.for("react.consumer"),po=Symbol.for("react.context"),$v=Symbol.for("react.forward_ref"),P0=Symbol.for("react.suspense"),B0=Symbol.for("react.suspense_list"),Uv=Symbol.for("react.memo"),Ho=Symbol.for("react.lazy"),HC=Symbol.for("react.offscreen"),yI=Symbol.for("react.memo_cache_sentinel"),aw=Symbol.iterator;function Oc(n){return n===null||typeof n!="object"?null:(n=aw&&n[aw]||n["@@iterator"],typeof n=="function"?n:null)}var wI=Symbol.for("react.client.reference");function z0(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===wI?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case bl:return"Fragment";case Yc:return"Portal";case M0:return"Profiler";case $C:return"StrictMode";case P0:return"Suspense";case B0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case po:return(n.displayName||"Context")+".Provider";case UC:return(n._context.displayName||"Context")+".Consumer";case $v:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Uv:return e=n.displayName||null,e!==null?e:z0(n.type)||"Memo";case Ho:e=n._payload,n=n._init;try{return z0(n(e))}catch(t){}}return null}var Ve=NC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et=Object.assign,Km,sw;function Xc(n){if(Km===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Km=e&&e[1]||"",sw=-1<t.stack.indexOf("\n    at")?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Km+n+sw}var Ym=!1;function Xm(n,e){if(!n||Ym)return"";Ym=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(f){var h=f}Reflect.construct(n,[],d)}else{try{d.call()}catch(f){h=f}n.call(d.prototype)}}else{try{throw Error()}catch(f){h=f}(d=n())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(f){if(f&&h&&typeof f.stack=="string")return[f.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=r&&0<=i);break}}}finally{Ym=!1,Error.prepareStackTrace=t}return(t=n?n.displayName||n.name:"")?Xc(t):""}function kI(n){switch(n.tag){case 26:case 27:case 5:return Xc(n.type);case 16:return Xc("Lazy");case 13:return Xc("Suspense");case 19:return Xc("SuspenseList");case 0:case 15:return n=Xm(n.type,!1),n;case 11:return n=Xm(n.type.render,!1),n;case 1:return n=Xm(n.type,!0),n;default:return""}}function lw(n){try{var e="";do e+=kI(n),n=n.return;while(n);return e}catch(t){return"\nError generating stack: "+t.message+"\n"+t.stack}}function fc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function WC(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function cw(n){if(fc(n)!==n)throw Error(ce(188))}function _I(n){var e=n.alternate;if(!e){if(e=fc(n),e===null)throw Error(ce(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return cw(i),n;if(o===r)return cw(i),e;o=o.sibling}throw Error(ce(188))}if(t.return!==r.return)t=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===t){a=!0,t=i,r=o;break}if(s===r){a=!0,r=i,t=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===t){a=!0,t=o,r=i;break}if(s===r){a=!0,r=o,t=i;break}s=s.sibling}if(!a)throw Error(ce(189))}}if(t.alternate!==r)throw Error(ce(190))}if(t.tag!==3)throw Error(ce(188));return t.stateNode.current===t?n:e}function VC(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n;for(n=n.child;n!==null;){if(e=VC(n),e!==null)return e;n=n.sibling}return null}var Zc=Array.isArray,Ct=bI.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ns={pending:!1,data:null,method:null,action:null},L0=[],vl=-1;function Wi(n){return{current:n}}function pn(n){0>vl||(n.current=L0[vl],L0[vl]=null,vl--)}function St(n,e){vl++,L0[vl]=n.current,n.current=e}var Pi=Wi(null),Eu=Wi(null),ra=Wi(null),nf=Wi(null);function rf(n,e){switch(St(ra,e),St(Eu,n),St(Pi,null),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?u2(e):0;break;default:if(n=n===8?e.parentNode:e,e=n.tagName,n=n.namespaceURI)n=u2(n),e=rE(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pn(Pi),St(Pi,e)}function Yl(){pn(Pi),pn(Eu),pn(ra)}function j0(n){n.memoizedState!==null&&St(nf,n);var e=Pi.current,t=rE(e,n.type);e!==t&&(St(Eu,n),St(Pi,t))}function of(n){Eu.current===n&&(pn(Pi),pn(Eu)),nf.current===n&&(pn(nf),zu._currentValue=ns)}var N0=Object.prototype.hasOwnProperty,Hv=en.unstable_scheduleCallback,Zm=en.unstable_cancelCallback,CI=en.unstable_shouldYield,EI=en.unstable_requestPaint,Bi=en.unstable_now,SI=en.unstable_getCurrentPriorityLevel,qC=en.unstable_ImmediatePriority,GC=en.unstable_UserBlockingPriority,af=en.unstable_NormalPriority,TI=en.unstable_LowPriority,KC=en.unstable_IdlePriority,AI=en.log,II=en.unstable_setDisableYieldValue,od=null,_r=null;function RI(n){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(od,n,void 0,(n.current.flags&128)===128)}catch(e){}}function Qo(n){if(typeof AI=="function"&&II(n),_r&&typeof _r.setStrictMode=="function")try{_r.setStrictMode(od,n)}catch(e){}}var Cr=Math.clz32?Math.clz32:MI,DI=Math.log,OI=Math.LN2;function MI(n){return n>>>=0,n===0?32:31-(DI(n)/OI|0)|0}var qd=128,Gd=4194304;function La(n){var e=n&42;if(e!==0)return e;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Sp(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,a=n.warmLanes;n=n.finishedLanes!==0;var s=t&134217727;return s!==0?(t=s&~i,t!==0?r=La(t):(o&=s,o!==0?r=La(o):n||(a=s&~a,a!==0&&(r=La(a))))):(s=t&~i,s!==0?r=La(s):o!==0?r=La(o):n||(a=t&~a,a!==0&&(r=La(a)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===32&&(a&4194176)!==0)?e:r}function ad(n,e){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&e)===0}function PI(n,e){switch(n){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YC(){var n=qd;return qd<<=1,!(qd&4194176)&&(qd=128),n}function XC(){var n=Gd;return Gd<<=1,!(Gd&62914560)&&(Gd=4194304),n}function Jm(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function sd(n,e){n.pendingLanes|=e,e!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function BI(n,e,t,r,i,o){var a=n.pendingLanes;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=t,n.entangledLanes&=t,n.errorRecoveryDisabledLanes&=t,n.shellSuspendCounter=0;var s=n.entanglements,l=n.expirationTimes,c=n.hiddenUpdates;for(t=a&~t;0<t;){var u=31-Cr(t),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];f!==null&&(f.lane&=-536870913)}t&=~d}r!==0&&ZC(n,r,0),o!==0&&i===0&&n.tag!==0&&(n.suspendedLanes|=o&~(a&~e))}function ZC(n,e,t){n.pendingLanes|=e,n.suspendedLanes&=~e;var r=31-Cr(e);n.entangledLanes|=e,n.entanglements[r]=n.entanglements[r]|1073741824|t&4194218}function JC(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Cr(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}function QC(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function e4(){var n=Ct.p;return n!==0?n:(n=window.event,n===void 0?32:fE(n.type))}function zI(n,e){var t=Ct.p;try{return Ct.p=n,e()}finally{Ct.p=t}}var Ca=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Ca,ir="__reactProps$"+Ca,pc="__reactContainer$"+Ca,F0="__reactEvents$"+Ca,LI="__reactListeners$"+Ca,jI="__reactHandles$"+Ca,uw="__reactResources$"+Ca,Su="__reactMarker$"+Ca;function Wv(n){delete n[Bn],delete n[ir],delete n[F0],delete n[LI],delete n[jI]}function Ga(n){var e=n[Bn];if(e)return e;for(var t=n.parentNode;t;){if(e=t[pc]||t[Bn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=h2(n);n!==null;){if(t=n[Bn])return t;n=h2(n)}return e}n=t,t=n.parentNode}return null}function mc(n){if(n=n[Bn]||n[pc]){var e=n.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return n}return null}function Jc(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n.stateNode;throw Error(ce(33))}function Rl(n){var e=n[uw];return e||(e=n[uw]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function dn(n){n[Su]=!0}var t4=new Set,n4={};function Ss(n,e){Xl(n,e),Xl(n+"Capture",e)}function Xl(n,e){for(n4[n]=e,n=0;n<e.length;n++)t4.add(e[n])}var Co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),NI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dw={},hw={};function FI(n){return N0.call(hw,n)?!0:N0.call(dw,n)?!1:NI.test(n)?hw[n]=!0:(dw[n]=!0,!1)}function zh(n,e,t){if(FI(e))if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":n.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){n.removeAttribute(e);return}}n.setAttribute(e,""+t)}}function Kd(n,e,t){if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttribute(e,""+t)}}function Ji(n,e,t,r){if(r===null)n.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttributeNS(e,t,""+r)}}function Lr(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function r4(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $I(n){var e=r4(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function sf(n){n._valueTracker||(n._valueTracker=$I(n))}function i4(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=r4(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function lf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch(e){return n.body}}var UI=/[\n"\\]/g;function $r(n){return n.replace(UI,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function $0(n,e,t,r,i,o,a,s){n.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?n.type=a:n.removeAttribute("type"),e!=null?a==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+Lr(e)):n.value!==""+Lr(e)&&(n.value=""+Lr(e)):a!=="submit"&&a!=="reset"||n.removeAttribute("value"),e!=null?U0(n,a,Lr(e)):t!=null?U0(n,a,Lr(t)):r!=null&&n.removeAttribute("value"),i==null&&o!=null&&(n.defaultChecked=!!o),i!=null&&(n.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?n.name=""+Lr(s):n.removeAttribute("name")}function o4(n,e,t,r,i,o,a,s){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(n.type=o),e!=null||t!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;t=t!=null?""+Lr(t):"",e=e!=null?""+Lr(e):t,s||e===n.value||(n.value=e),n.defaultValue=e}r=r!=null?r:i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,n.checked=s?n.checked:!!r,n.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(n.name=a)}function U0(n,e,t){e==="number"&&lf(n.ownerDocument)===n||n.defaultValue===""+t||(n.defaultValue=""+t)}function Dl(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Lr(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function a4(n,e,t){if(e!=null&&(e=""+Lr(e),e!==n.value&&(n.value=e),t==null)){n.defaultValue!==e&&(n.defaultValue=e);return}n.defaultValue=t!=null?""+Lr(t):""}function s4(n,e,t,r){if(e==null){if(r!=null){if(t!=null)throw Error(ce(92));if(Zc(r)){if(1<r.length)throw Error(ce(93));r=r[0]}t=r}t==null&&(t=""),e=t}t=Lr(e),n.defaultValue=t,r=n.textContent,r===t&&r!==""&&r!==null&&(n.value=r)}function Zl(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var HI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fw(n,e,t){var r=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?r?n.setProperty(e,""):e==="float"?n.cssFloat="":n[e]="":r?n.setProperty(e,t):typeof t!="number"||t===0||HI.has(e)?e==="float"?n.cssFloat=t:n[e]=(""+t).trim():n[e]=t+"px"}function l4(n,e,t){if(e!=null&&typeof e!="object")throw Error(ce(62));if(n=n.style,t!=null){for(var r in t)!t.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&t[i]!==r&&fw(n,i,r)}else for(var o in e)e.hasOwnProperty(o)&&fw(n,o,e[o])}function Vv(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),VI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lh(n){return VI.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var H0=null;function qv(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xl=null,Ol=null;function pw(n){var e=mc(n);if(e&&(n=e.stateNode)){var t=n[ir]||null;e:switch(n=e.stateNode,e.type){case"input":if($0(n,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+$r(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=r[ir]||null;if(!i)throw Error(ce(90));$0(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<t.length;e++)r=t[e],r.form===n.form&&i4(r)}break e;case"textarea":a4(n,t.value,t.defaultValue);break e;case"select":e=t.value,e!=null&&Dl(n,!!t.multiple,e,!1)}}}var Qm=!1;function c4(n,e,t){if(Qm)return n(e,t);Qm=!0;try{var r=n(e);return r}finally{if(Qm=!1,(xl!==null||Ol!==null)&&(zp(),xl&&(e=xl,n=Ol,Ol=xl=null,pw(e),n)))for(e=0;e<n.length;e++)pw(n[e])}}function Tu(n,e){var t=n.stateNode;if(t===null)return null;var r=t[ir]||null;if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ce(231,e,typeof t));return t}var W0=!1;if(Co)try{var Mc={};Object.defineProperty(Mc,"passive",{get:function(){W0=!0}}),window.addEventListener("test",Mc,Mc),window.removeEventListener("test",Mc,Mc)}catch(n){W0=!1}var ea=null,Gv=null,jh=null;function u4(){if(jh)return jh;var n,e=Gv,t=e.length,r,i="value"in ea?ea.value:ea.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===i[o-r];r++);return jh=i.slice(n,1<r?1-r:void 0)}function Nh(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Yd(){return!0}function mw(){return!1}function dr(n){function e(t,r,i,o,a){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in n)n.hasOwnProperty(s)&&(t=n[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yd:mw,this.isPropagationStopped=mw,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Yd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Yd)},persist:function(){},isPersistent:Yd}),e}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tp=dr(Ts),ld=Et({},Ts,{view:0,detail:0}),qI=dr(ld),eg,tg,Pc,Ap=Et({},ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kv,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Pc&&(Pc&&n.type==="mousemove"?(eg=n.screenX-Pc.screenX,tg=n.screenY-Pc.screenY):tg=eg=0,Pc=n),eg)},movementY:function(n){return"movementY"in n?n.movementY:tg}}),gw=dr(Ap),GI=Et({},Ap,{dataTransfer:0}),KI=dr(GI),YI=Et({},ld,{relatedTarget:0}),ng=dr(YI),XI=Et({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),ZI=dr(XI),JI=Et({},Ts,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),QI=dr(JI),eR=Et({},Ts,{data:0}),bw=dr(eR),tR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iR(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=rR[n])?!!e[n]:!1}function Kv(){return iR}var oR=Et({},ld,{key:function(n){if(n.key){var e=tR[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Nh(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?nR[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kv,charCode:function(n){return n.type==="keypress"?Nh(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Nh(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),aR=dr(oR),sR=Et({},Ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vw=dr(sR),lR=Et({},ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kv}),cR=dr(lR),uR=Et({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),dR=dr(uR),hR=Et({},Ap,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),fR=dr(hR),pR=Et({},Ts,{newState:0,oldState:0}),mR=dr(pR),gR=[9,13,27,32],Yv=Co&&"CompositionEvent"in window,ru=null;Co&&"documentMode"in document&&(ru=document.documentMode);var bR=Co&&"TextEvent"in window&&!ru,d4=Co&&(!Yv||ru&&8<ru&&11>=ru),xw=" ",yw=!1;function h4(n,e){switch(n){case"keyup":return gR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f4(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var yl=!1;function vR(n,e){switch(n){case"compositionend":return f4(e);case"keypress":return e.which!==32?null:(yw=!0,xw);case"textInput":return n=e.data,n===xw&&yw?null:n;default:return null}}function xR(n,e){if(yl)return n==="compositionend"||!Yv&&h4(n,e)?(n=u4(),jh=Gv=ea=null,yl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d4&&e.locale!=="ko"?null:e.data;default:return null}}var yR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ww(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!yR[n.type]:e==="textarea"}function p4(n,e,t,r){xl?Ol?Ol.push(r):Ol=[r]:xl=r,e=Cf(e,"onChange"),0<e.length&&(t=new Tp("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var iu=null,Au=null;function wR(n){eE(n,0)}function Ip(n){var e=Jc(n);if(i4(e))return n}function kw(n,e){if(n==="change")return e}var m4=!1;if(Co){var rg;if(Co){var ig="oninput"in document;if(!ig){var _w=document.createElement("div");_w.setAttribute("oninput","return;"),ig=typeof _w.oninput=="function"}rg=ig}else rg=!1;m4=rg&&(!document.documentMode||9<document.documentMode)}function Cw(){iu&&(iu.detachEvent("onpropertychange",g4),Au=iu=null)}function g4(n){if(n.propertyName==="value"&&Ip(Au)){var e=[];p4(e,Au,n,qv(n)),c4(wR,e)}}function kR(n,e,t){n==="focusin"?(Cw(),iu=e,Au=t,iu.attachEvent("onpropertychange",g4)):n==="focusout"&&Cw()}function _R(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ip(Au)}function CR(n,e){if(n==="click")return Ip(e)}function ER(n,e){if(n==="input"||n==="change")return Ip(e)}function SR(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ir=typeof Object.is=="function"?Object.is:SR;function Iu(n,e){if(Ir(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!N0.call(e,i)||!Ir(n[i],e[i]))return!1}return!0}function Ew(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sw(n,e){var t=Ew(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Ew(t)}}function b4(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?b4(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function v4(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var e=lf(n.document);e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch(r){t=!1}if(t)n=e.contentWindow;else break;e=lf(n.document)}return e}function Xv(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function TR(n,e){var t=v4(e);e=n.focusedElem;var r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&b4(e.ownerDocument.documentElement,e)){if(r!==null&&Xv(e)){if(n=r.start,t=r.end,t===void 0&&(t=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(t,e.value.length);else if(t=(n=e.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var i=e.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Sw(e,o);var a=Sw(e,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(n=n.createRange(),n.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(n),t.extend(a.node,a.offset)):(n.setEnd(a.node,a.offset),t.addRange(n)))}}for(n=[],t=e;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<n.length;e++)t=n[e],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AR=Co&&"documentMode"in document&&11>=document.documentMode,wl=null,V0=null,ou=null,q0=!1;function Tw(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;q0||wl==null||wl!==lf(r)||(r=wl,"selectionStart"in r&&Xv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ou&&Iu(ou,r)||(ou=r,r=Cf(V0,"onSelect"),0<r.length&&(e=new Tp("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=wl)))}function Ma(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var kl={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},og={},x4={};Co&&(x4=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function As(n){if(og[n])return og[n];if(!kl[n])return n;var e=kl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in x4)return og[n]=e[t];return n}var y4=As("animationend"),w4=As("animationiteration"),k4=As("animationstart"),IR=As("transitionrun"),RR=As("transitionstart"),DR=As("transitioncancel"),_4=As("transitionend"),C4=new Map,Aw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function bi(n,e){C4.set(n,e),Ss(e,[n])}var zr=[],_l=0,Zv=0;function Rp(){for(var n=_l,e=Zv=_l=0;e<n;){var t=zr[e];zr[e++]=null;var r=zr[e];zr[e++]=null;var i=zr[e];zr[e++]=null;var o=zr[e];if(zr[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}o!==0&&E4(t,i,o)}}function Dp(n,e,t,r){zr[_l++]=n,zr[_l++]=e,zr[_l++]=t,zr[_l++]=r,Zv|=r,n.lanes|=r,n=n.alternate,n!==null&&(n.lanes|=r)}function Jv(n,e,t,r){return Dp(n,e,t,r),cf(n)}function ga(n,e){return Dp(n,null,null,e),cf(n)}function E4(n,e,t){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t);for(var i=!1,o=n.return;o!==null;)o.childLanes|=t,r=o.alternate,r!==null&&(r.childLanes|=t),o.tag===22&&(n=o.stateNode,n===null||n._visibility&1||(i=!0)),n=o,o=o.return;i&&e!==null&&n.tag===3&&(o=n.stateNode,i=31-Cr(t),o=o.hiddenUpdates,n=o[i],n===null?o[i]=[e]:n.push(e),e.lane=t|536870912)}function cf(n){if(50<bu)throw bu=0,pb=null,Error(ce(185));for(var e=n.return;e!==null;)n=e,e=n.return;return n.tag===3?n.stateNode:null}var Cl={},Iw=new WeakMap;function Ur(n,e){if(typeof n=="object"&&n!==null){var t=Iw.get(n);return t!==void 0?t:(e={value:n,source:e,stack:lw(e)},Iw.set(n,e),e)}return{value:n,source:e,stack:lw(e)}}var El=[],Sl=0,uf=null,df=0,jr=[],Nr=0,rs=null,mo=1,go="";function ja(n,e){El[Sl++]=df,El[Sl++]=uf,uf=n,df=e}function S4(n,e,t){jr[Nr++]=mo,jr[Nr++]=go,jr[Nr++]=rs,rs=n;var r=mo;n=go;var i=32-Cr(r)-1;r&=~(1<<i),t+=1;var o=32-Cr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,mo=1<<32-Cr(e)+i|t<<i|r,go=o+n}else mo=1<<o|t<<i|r,go=n}function Qv(n){n.return!==null&&(ja(n,1),S4(n,1,0))}function ex(n){for(;n===uf;)uf=El[--Sl],El[Sl]=null,df=El[--Sl],El[Sl]=null;for(;n===rs;)rs=jr[--Nr],jr[Nr]=null,go=jr[--Nr],jr[Nr]=null,mo=jr[--Nr],jr[Nr]=null}var Hn=null,_n=null,st=!1,si=null,Ii=!1,G0=Error(ce(519));function hs(n){var e=Error(ce(418,""));throw Ru(Ur(e,n)),G0}function Rw(n){var e=n.stateNode,t=n.type,r=n.memoizedProps;switch(e[Bn]=n,e[ir]=r,t){case"dialog":it("cancel",e),it("close",e);break;case"iframe":case"object":case"embed":it("load",e);break;case"video":case"audio":for(t=0;t<Mu.length;t++)it(Mu[t],e);break;case"source":it("error",e);break;case"img":case"image":case"link":it("error",e),it("load",e);break;case"details":it("toggle",e);break;case"input":it("invalid",e),o4(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),sf(e);break;case"select":it("invalid",e);break;case"textarea":it("invalid",e),s4(e,r.value,r.defaultValue,r.children),sf(e)}t=r.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||r.suppressHydrationWarning===!0||nE(e.textContent,t)?(r.popover!=null&&(it("beforetoggle",e),it("toggle",e)),r.onScroll!=null&&it("scroll",e),r.onScrollEnd!=null&&it("scrollend",e),r.onClick!=null&&(e.onclick=jp),e=!0):e=!1,e||hs(n)}function Dw(n){for(Hn=n.return;Hn;)switch(Hn.tag){case 3:case 27:Ii=!0;return;case 5:case 13:Ii=!1;return;default:Hn=Hn.return}}function Bc(n){if(n!==Hn)return!1;if(!st)return Dw(n),st=!0,!1;var e=!1,t;if((t=n.tag!==3&&n.tag!==27)&&((t=n.tag===5)&&(t=n.type,t=!(t!=="form"&&t!=="button")||wb(n.type,n.memoizedProps)),t=!t),t&&(e=!0),e&&_n&&hs(n),Dw(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ce(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8)if(t=n.data,t==="/$"){if(e===0){_n=hi(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++;n=n.nextSibling}_n=null}}else _n=Hn?hi(n.stateNode.nextSibling):null;return!0}function cd(){_n=Hn=null,st=!1}function Ru(n){si===null?si=[n]:si.push(n)}var au=Error(ce(460)),T4=Error(ce(474)),K0={then:function(){}};function Ow(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Xd(){}function A4(n,e,t){switch(t=n[t],t===void 0?n.push(e):t!==e&&(e.then(Xd,Xd),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,n===au?Error(ce(483)):n;default:if(typeof e.status=="string")e.then(Xd,Xd);else{if(n=wt,n!==null&&100<n.shellSuspendCounter)throw Error(ce(482));n=e,n.status="pending",n.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,n===au?Error(ce(483)):n}throw su=e,au}}var su=null;function Mw(){if(su===null)throw Error(ce(459));var n=su;return su=null,n}var Ml=null,Du=0;function Zd(n){var e=Du;return Du+=1,Ml===null&&(Ml=[]),A4(Ml,n,e)}function zc(n,e){e=e.props.ref,n.ref=e!==void 0?e:null}function Jd(n,e){throw e.$$typeof===vI?Error(ce(525)):(n=Object.prototype.toString.call(e),Error(ce(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)))}function Pw(n){var e=n._init;return e(n._payload)}function I4(n){function e(g,v){if(n){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function t(g,v){if(!n)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g){for(var v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(g,v){return g=aa(g,v),g.index=0,g.sibling=null,g}function o(g,v,x){return g.index=x,n?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=33554434,v):x):(g.flags|=33554434,v)):(g.flags|=1048576,v)}function a(g){return n&&g.alternate===null&&(g.flags|=33554434),g}function s(g,v,x,y){return v===null||v.tag!==6?(v=bg(x,g.mode,y),v.return=g,v):(v=i(v,x),v.return=g,v)}function l(g,v,x,y){var w=x.type;return w===bl?u(g,v,x.props.children,y,x.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ho&&Pw(w)===v.type)?(v=i(v,x.props),zc(v,x),v.return=g,v):(v=Wh(x.type,x.key,x.props,null,g.mode,y),zc(v,x),v.return=g,v)}function c(g,v,x,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=vg(x,g.mode,y),v.return=g,v):(v=i(v,x.children||[]),v.return=g,v)}function u(g,v,x,y,w){return v===null||v.tag!==7?(v=os(x,g.mode,y,w),v.return=g,v):(v=i(v,x),v.return=g,v)}function d(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=bg(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vd:return x=Wh(v.type,v.key,v.props,null,g.mode,x),zc(x,v),x.return=g,x;case Yc:return v=vg(v,g.mode,x),v.return=g,v;case Ho:var y=v._init;return v=y(v._payload),d(g,v,x)}if(Zc(v)||Oc(v))return v=os(v,g.mode,x,null),v.return=g,v;if(typeof v.then=="function")return d(g,Zd(v),x);if(v.$$typeof===po)return d(g,Qd(g,v),x);Jd(g,v)}return null}function h(g,v,x,y){var w=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return w!==null?null:s(g,v,""+x,y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vd:return x.key===w?l(g,v,x,y):null;case Yc:return x.key===w?c(g,v,x,y):null;case Ho:return w=x._init,x=w(x._payload),h(g,v,x,y)}if(Zc(x)||Oc(x))return w!==null?null:u(g,v,x,y,null);if(typeof x.then=="function")return h(g,v,Zd(x),y);if(x.$$typeof===po)return h(g,v,Qd(g,x),y);Jd(g,x)}return null}function f(g,v,x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return g=g.get(x)||null,s(v,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vd:return g=g.get(y.key===null?x:y.key)||null,l(v,g,y,w);case Yc:return g=g.get(y.key===null?x:y.key)||null,c(v,g,y,w);case Ho:var k=y._init;return y=k(y._payload),f(g,v,x,y,w)}if(Zc(y)||Oc(y))return g=g.get(x)||null,u(v,g,y,w,null);if(typeof y.then=="function")return f(g,v,x,Zd(y),w);if(y.$$typeof===po)return f(g,v,x,Qd(v,y),w);Jd(v,y)}return null}function p(g,v,x,y){for(var w=null,k=null,_=v,T=v=0,E=null;_!==null&&T<x.length;T++){_.index>T?(E=_,_=null):E=_.sibling;var A=h(g,_,x[T],y);if(A===null){_===null&&(_=E);break}n&&_&&A.alternate===null&&e(g,_),v=o(A,v,T),k===null?w=A:k.sibling=A,k=A,_=E}if(T===x.length)return t(g,_),st&&ja(g,T),w;if(_===null){for(;T<x.length;T++)_=d(g,x[T],y),_!==null&&(v=o(_,v,T),k===null?w=_:k.sibling=_,k=_);return st&&ja(g,T),w}for(_=r(_);T<x.length;T++)E=f(_,g,T,x[T],y),E!==null&&(n&&E.alternate!==null&&_.delete(E.key===null?T:E.key),v=o(E,v,T),k===null?w=E:k.sibling=E,k=E);return n&&_.forEach(function(M){return e(g,M)}),st&&ja(g,T),w}function m(g,v,x,y){if(x==null)throw Error(ce(151));for(var w=null,k=null,_=v,T=v=0,E=null,A=x.next();_!==null&&!A.done;T++,A=x.next()){_.index>T?(E=_,_=null):E=_.sibling;var M=h(g,_,A.value,y);if(M===null){_===null&&(_=E);break}n&&_&&M.alternate===null&&e(g,_),v=o(M,v,T),k===null?w=M:k.sibling=M,k=M,_=E}if(A.done)return t(g,_),st&&ja(g,T),w;if(_===null){for(;!A.done;T++,A=x.next())A=d(g,A.value,y),A!==null&&(v=o(A,v,T),k===null?w=A:k.sibling=A,k=A);return st&&ja(g,T),w}for(_=r(_);!A.done;T++,A=x.next())A=f(_,g,T,A.value,y),A!==null&&(n&&A.alternate!==null&&_.delete(A.key===null?T:A.key),v=o(A,v,T),k===null?w=A:k.sibling=A,k=A);return n&&_.forEach(function(I){return e(g,I)}),st&&ja(g,T),w}function b(g,v,x,y){if(typeof x=="object"&&x!==null&&x.type===bl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Vd:e:{for(var w=x.key;v!==null;){if(v.key===w){if(w=x.type,w===bl){if(v.tag===7){t(g,v.sibling),y=i(v,x.props.children),y.return=g,g=y;break e}}else if(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ho&&Pw(w)===v.type){t(g,v.sibling),y=i(v,x.props),zc(y,x),y.return=g,g=y;break e}t(g,v);break}else e(g,v);v=v.sibling}x.type===bl?(y=os(x.props.children,g.mode,y,x.key),y.return=g,g=y):(y=Wh(x.type,x.key,x.props,null,g.mode,y),zc(y,x),y.return=g,g=y)}return a(g);case Yc:e:{for(w=x.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){t(g,v.sibling),y=i(v,x.children||[]),y.return=g,g=y;break e}else{t(g,v);break}else e(g,v);v=v.sibling}y=vg(x,g.mode,y),y.return=g,g=y}return a(g);case Ho:return w=x._init,x=w(x._payload),b(g,v,x,y)}if(Zc(x))return p(g,v,x,y);if(Oc(x)){if(w=Oc(x),typeof w!="function")throw Error(ce(150));return x=w.call(x),m(g,v,x,y)}if(typeof x.then=="function")return b(g,v,Zd(x),y);if(x.$$typeof===po)return b(g,v,Qd(g,x),y);Jd(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,v!==null&&v.tag===6?(t(g,v.sibling),y=i(v,x),y.return=g,g=y):(t(g,v),y=bg(x,g.mode,y),y.return=g,g=y),a(g)):t(g,v)}return function(g,v,x,y){try{Du=0;var w=b(g,v,x,y);return Ml=null,w}catch(_){if(_===au)throw _;var k=Wr(29,_,null,g.mode);return k.lanes=y,k.return=g,k}finally{}}}var fs=I4(!0),R4=I4(!1),Jl=Wi(null),hf=Wi(0);function Bw(n,e){n=To,St(hf,n),St(Jl,e),To=n|e.baseLanes}function Y0(){St(hf,To),St(Jl,Jl.current)}function tx(){To=hf.current,pn(Jl),pn(hf)}var Kr=Wi(null),zi=null;function Go(n){var e=n.alternate;St(Zt,Zt.current&1),St(Kr,n),zi===null&&(e===null||Jl.current!==null||e.memoizedState!==null)&&(zi=n)}function D4(n){if(n.tag===22){if(St(Zt,Zt.current),St(Kr,n),zi===null){var e=n.alternate;e!==null&&e.memoizedState!==null&&(zi=n)}}else Ko()}function Ko(){St(Zt,Zt.current),St(Kr,Kr.current)}function bo(n){pn(Kr),zi===n&&(zi=null),pn(Zt)}var Zt=Wi(0);function ff(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var OR=typeof AbortController<"u"?AbortController:function(){var n=[],e=this.signal={aborted:!1,addEventListener:function(t,r){n.push(r)}};this.abort=function(){e.aborted=!0,n.forEach(function(t){return t()})}},MR=en.unstable_scheduleCallback,PR=en.unstable_NormalPriority,Yt={$$typeof:po,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nx(){return{controller:new OR,data:new Map,refCount:0}}function ud(n){n.refCount--,n.refCount===0&&MR(PR,function(){n.controller.abort()})}var lu=null,X0=0,Ql=0,Pl=null;function BR(n,e){if(lu===null){var t=lu=[];X0=0,Ql=Ex(),Pl={status:"pending",value:void 0,then:function(r){t.push(r)}}}return X0++,e.then(zw,zw),e}function zw(){if(--X0===0&&lu!==null){Pl!==null&&(Pl.status="fulfilled");var n=lu;lu=null,Ql=0,Pl=null;for(var e=0;e<n.length;e++)(0,n[e])()}}function zR(n,e){var t=[],r={status:"pending",value:null,reason:null,then:function(i){t.push(i)}};return n.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<t.length;i++)(0,t[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<t.length;i++)(0,t[i])(void 0)}),r}var Lw=Ve.S;Ve.S=function(n,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&BR(n,e),Lw!==null&&Lw(n,e)};var is=Wi(null);function rx(){var n=is.current;return n!==null?n:wt.pooledCache}function Fh(n,e){e===null?St(is,is.current):St(is,e.pool)}function O4(){var n=rx();return n===null?null:{parent:Yt._currentValue,pool:n}}var ba=0,Ze=null,pt=null,Wt=null,pf=!1,Bl=!1,ps=!1,mf=0,Ou=0,zl=null,LR=0;function $t(){throw Error(ce(321))}function ix(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ir(n[t],e[t]))return!1;return!0}function ox(n,e,t,r,i,o){return ba=o,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ve.H=n===null||n.memoizedState===null?Is:Ea,ps=!1,o=t(r,i),ps=!1,Bl&&(o=P4(e,t,r,i)),M4(n),o}function M4(n){Ve.H=$i;var e=pt!==null&&pt.next!==null;if(ba=0,Wt=pt=Ze=null,pf=!1,Ou=0,zl=null,e)throw Error(ce(300));n===null||fn||(n=n.dependencies,n!==null&&vf(n)&&(fn=!0))}function P4(n,e,t,r){Ze=n;var i=0;do{if(Bl&&(zl=null),Ou=0,Bl=!1,25<=i)throw Error(ce(301));if(i+=1,Wt=pt=null,n.updateQueue!=null){var o=n.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}Ve.H=Rs,o=e(t,r)}while(Bl);return o}function jR(){var n=Ve.H,e=n.useState()[0];return e=typeof e.then=="function"?dd(e):e,n=n.useState()[0],(pt!==null?pt.memoizedState:null)!==n&&(Ze.flags|=1024),e}function ax(){var n=mf!==0;return mf=0,n}function sx(n,e,t){e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~t}function lx(n){if(pf){for(n=n.memoizedState;n!==null;){var e=n.queue;e!==null&&(e.pending=null),n=n.next}pf=!1}ba=0,Wt=pt=Ze=null,Bl=!1,Ou=mf=0,zl=null}function Jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Ze.memoizedState=Wt=n:Wt=Wt.next=n,Wt}function qt(){if(pt===null){var n=Ze.alternate;n=n!==null?n.memoizedState:null}else n=pt.next;var e=Wt===null?Ze.memoizedState:Wt.next;if(e!==null)Wt=e,pt=n;else{if(n===null)throw Ze.alternate===null?Error(ce(467)):Error(ce(310));pt=n,n={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Wt===null?Ze.memoizedState=Wt=n:Wt=Wt.next=n}return Wt}var Op;Op=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function dd(n){var e=Ou;return Ou+=1,zl===null&&(zl=[]),n=A4(zl,n,e),e=Ze,(Wt===null?e.memoizedState:Wt.next)===null&&(e=e.alternate,Ve.H=e===null||e.memoizedState===null?Is:Ea),n}function Mp(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return dd(n);if(n.$$typeof===po)return zn(n)}throw Error(ce(438,String(n)))}function cx(n){var e=null,t=Ze.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var r=Ze.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=Op(),Ze.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(n),r=0;r<n;r++)t[r]=yI;return e.index++,t}function Eo(n,e){return typeof e=="function"?e(n):e}function $h(n){var e=qt();return ux(e,pt,n)}function ux(n,e,t){var r=n.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}e.baseQueue=i=o,r.pending=null}if(o=n.baseState,i===null)n.memoizedState=o;else{e=i.next;var s=a=null,l=null,c=e,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(ot&d)===d:(ba&d)===d){var h=c.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Ql&&(u=!0);else if((ba&h)===h){c=c.next,h===Ql&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(s=l=d,a=o):l=l.next=d,Ze.lanes|=h,xa|=h;d=c.action,ps&&t(o,d),o=c.hasEagerState?c.eagerState:t(o,d)}else h={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(s=l=h,a=o):l=l.next=h,Ze.lanes|=d,xa|=d;c=c.next}while(c!==null&&c!==e);if(l===null?a=o:l.next=s,!Ir(o,n.memoizedState)&&(fn=!0,u&&(t=Pl,t!==null)))throw t;n.memoizedState=o,n.baseState=a,n.baseQueue=l,r.lastRenderedState=o}return i===null&&(r.lanes=0),[n.memoizedState,r.dispatch]}function ag(n){var e=qt(),t=e.queue;if(t===null)throw Error(ce(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do o=n(o,a.action),a=a.next;while(a!==i);Ir(o,e.memoizedState)||(fn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function B4(n,e,t){var r=Ze,i=qt(),o=st;if(o){if(t===void 0)throw Error(ce(407));t=t()}else t=e();var a=!Ir((pt||i).memoizedState,t);if(a&&(i.memoizedState=t,fn=!0),i=i.queue,dx(j4.bind(null,r,i,n),[n]),i.getSnapshot!==e||a||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,ec(9,L4.bind(null,r,i,t,e),{destroy:void 0},null),wt===null)throw Error(ce(349));o||ba&60||z4(r,e,t)}return t}function z4(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ze.updateQueue,e===null?(e=Op(),Ze.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function L4(n,e,t,r){e.value=t,e.getSnapshot=r,N4(e)&&F4(n)}function j4(n,e,t){return t(function(){N4(e)&&F4(n)})}function N4(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ir(n,t)}catch(r){return!0}}function F4(n){var e=ga(n,2);e!==null&&Kn(e,n,2)}function Z0(n){var e=Jn();if(typeof n=="function"){var t=n;if(n=t(),ps){Qo(!0);try{t()}finally{Qo(!1)}}}return e.memoizedState=e.baseState=n,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:n},e}function $4(n,e,t,r){return n.baseState=t,ux(n,pt,typeof r=="function"?r:Eo)}function NR(n,e,t,r,i){if(Bp(n))throw Error(ce(485));if(n=e.action,n!==null){var o={payload:i,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){o.listeners.push(a)}};Ve.T!==null?t(!0):o.isTransition=!1,r(o),t=e.pending,t===null?(o.next=e.pending=o,U4(e,o)):(o.next=t.next,e.pending=t.next=o)}}function U4(n,e){var t=e.action,r=e.payload,i=n.state;if(e.isTransition){var o=Ve.T,a={};Ve.T=a;try{var s=t(i,r),l=Ve.S;l!==null&&l(a,s),jw(n,e,s)}catch(c){J0(n,e,c)}finally{Ve.T=o}}else try{o=t(i,r),jw(n,e,o)}catch(c){J0(n,e,c)}}function jw(n,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(r){Nw(n,e,r)},function(r){return J0(n,e,r)}):Nw(n,e,t)}function Nw(n,e,t){e.status="fulfilled",e.value=t,H4(e),n.state=t,e=n.pending,e!==null&&(t=e.next,t===e?n.pending=null:(t=t.next,e.next=t,U4(n,t)))}function J0(n,e,t){var r=n.pending;if(n.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=t,H4(e),e=e.next;while(e!==r)}n.action=null}function H4(n){n=n.listeners;for(var e=0;e<n.length;e++)(0,n[e])()}function W4(n,e){return e}function V4(n,e){if(st){var t=wt.formState;if(t!==null){e:{var r=Ze;if(st){if(_n){t:{for(var i=_n,o=Ii;i.nodeType!==8;){if(!o){i=null;break t}if(i=hi(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){_n=hi(i.nextSibling),r=i.data==="F!";break e}}hs(r)}r=!1}r&&(e=t[0])}}return t=Jn(),t.memoizedState=t.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W4,lastRenderedState:e},t.queue=r,t=l3.bind(null,Ze,r),r.dispatch=t,r=Z0(!1),o=mx.bind(null,Ze,!1,r.queue),r=Jn(),i={state:e,dispatch:null,action:n,pending:null},r.queue=i,t=NR.bind(null,Ze,i,o,t),i.dispatch=t,r.memoizedState=n,[e,t,!1]}function q4(n){var e=qt();return G4(e,pt,n)}function G4(n,e,t){e=ux(n,e,W4)[0],n=$h(Eo)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?dd(e):e;var r=qt(),i=r.queue,o=i.dispatch;return t!==r.memoizedState&&(Ze.flags|=2048,ec(9,FR.bind(null,i,t),{destroy:void 0},null)),[e,o,n]}function FR(n,e){n.action=e}function K4(n){var e=qt(),t=pt;if(t!==null)return G4(e,t,n);qt(),e=e.memoizedState,t=qt();var r=t.queue.dispatch;return t.memoizedState=n,[e,r,!1]}function ec(n,e,t,r){return n={tag:n,create:e,inst:t,deps:r,next:null},e=Ze.updateQueue,e===null&&(e=Op(),Ze.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n),n}function Y4(){return qt().memoizedState}function Uh(n,e,t,r){var i=Jn();Ze.flags|=n,i.memoizedState=ec(1|e,t,{destroy:void 0},r===void 0?null:r)}function Pp(n,e,t,r){var i=qt();r=r===void 0?null:r;var o=i.memoizedState.inst;pt!==null&&r!==null&&ix(r,pt.memoizedState.deps)?i.memoizedState=ec(e,t,o,r):(Ze.flags|=n,i.memoizedState=ec(1|e,t,o,r))}function Fw(n,e){Uh(8390656,8,n,e)}function dx(n,e){Pp(2048,8,n,e)}function X4(n,e){return Pp(4,2,n,e)}function Z4(n,e){return Pp(4,4,n,e)}function J4(n,e){if(typeof e=="function"){n=n();var t=e(n);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Q4(n,e,t){t=t!=null?t.concat([n]):null,Pp(4,4,J4.bind(null,e,n),t)}function hx(){}function e3(n,e){var t=qt();e=e===void 0?null:e;var r=t.memoizedState;return e!==null&&ix(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function t3(n,e){var t=qt();e=e===void 0?null:e;var r=t.memoizedState;if(e!==null&&ix(e,r[1]))return r[0];if(r=n(),ps){Qo(!0);try{n()}finally{Qo(!1)}}return t.memoizedState=[r,e],r}function fx(n,e,t){return t===void 0||ba&1073741824?n.memoizedState=e:(n.memoizedState=t,n=H3(),Ze.lanes|=n,xa|=n,t)}function n3(n,e,t,r){return Ir(t,e)?t:Jl.current!==null?(n=fx(n,t,r),Ir(n,e)||(fn=!0),n):ba&42?(n=H3(),Ze.lanes|=n,xa|=n,e):(fn=!0,n.memoizedState=t)}function r3(n,e,t,r,i){var o=Ct.p;Ct.p=o!==0&&8>o?o:8;var a=Ve.T,s={};Ve.T=s,mx(n,!1,e,t);try{var l=i(),c=Ve.S;if(c!==null&&c(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=zR(l,r);cu(n,e,u,Er(n))}else cu(n,e,r,Er(n))}catch(d){cu(n,e,{then:function(){},status:"rejected",reason:d},Er())}finally{Ct.p=o,Ve.T=a}}function $R(){}function Q0(n,e,t,r){if(n.tag!==5)throw Error(ce(476));var i=i3(n).queue;r3(n,i,e,ns,t===null?$R:function(){return o3(n),t(r)})}function i3(n){var e=n.memoizedState;if(e!==null)return e;e={memoizedState:ns,baseState:ns,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:ns},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:t},next:null},n.memoizedState=e,n=n.alternate,n!==null&&(n.memoizedState=e),e}function o3(n){var e=i3(n).next.queue;cu(n,e,{},Er())}function px(){return zn(zu)}function a3(){return qt().memoizedState}function s3(){return qt().memoizedState}function UR(n){for(var e=n.return;e!==null;){switch(e.tag){case 24:case 3:var t=Er();n=ia(t);var r=oa(e,n,t);r!==null&&(Kn(r,e,t),du(r,e,t)),e={cache:nx()},n.payload=e;return}e=e.return}}function HR(n,e,t){var r=Er();t={lane:r,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},Bp(n)?c3(e,t):(t=Jv(n,e,t,r),t!==null&&(Kn(t,n,r),u3(t,e,r)))}function l3(n,e,t){var r=Er();cu(n,e,t,r)}function cu(n,e,t,r){var i={lane:r,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(Bp(n))c3(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,t);if(i.hasEagerState=!0,i.eagerState=s,Ir(s,a))return Dp(n,e,i,0),wt===null&&Rp(),!1}catch(l){}finally{}if(t=Jv(n,e,i,r),t!==null)return Kn(t,n,r),u3(t,e,r),!0}return!1}function mx(n,e,t,r){if(r={lane:2,revertLane:Ex(),action:r,hasEagerState:!1,eagerState:null,next:null},Bp(n)){if(e)throw Error(ce(479))}else e=Jv(n,t,r,2),e!==null&&Kn(e,n,2)}function Bp(n){var e=n.alternate;return n===Ze||e!==null&&e===Ze}function c3(n,e){Bl=pf=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function u3(n,e,t){if(t&4194176){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,JC(n,t)}}var $i={readContext:zn,use:Mp,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t};$i.useCacheRefresh=$t;$i.useMemoCache=$t;$i.useHostTransitionStatus=$t;$i.useFormState=$t;$i.useActionState=$t;$i.useOptimistic=$t;var Is={readContext:zn,use:Mp,useCallback:function(n,e){return Jn().memoizedState=[n,e===void 0?null:e],n},useContext:zn,useEffect:Fw,useImperativeHandle:function(n,e,t){t=t!=null?t.concat([n]):null,Uh(4194308,4,J4.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Uh(4194308,4,n,e)},useInsertionEffect:function(n,e){Uh(4,2,n,e)},useMemo:function(n,e){var t=Jn();e=e===void 0?null:e;var r=n();if(ps){Qo(!0);try{n()}finally{Qo(!1)}}return t.memoizedState=[r,e],r},useReducer:function(n,e,t){var r=Jn();if(t!==void 0){var i=t(e);if(ps){Qo(!0);try{t(e)}finally{Qo(!1)}}}else i=e;return r.memoizedState=r.baseState=i,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},r.queue=n,n=n.dispatch=HR.bind(null,Ze,n),[r.memoizedState,n]},useRef:function(n){var e=Jn();return n={current:n},e.memoizedState=n},useState:function(n){n=Z0(n);var e=n.queue,t=l3.bind(null,Ze,e);return e.dispatch=t,[n.memoizedState,t]},useDebugValue:hx,useDeferredValue:function(n,e){var t=Jn();return fx(t,n,e)},useTransition:function(){var n=Z0(!1);return n=r3.bind(null,Ze,n.queue,!0,!1),Jn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,e,t){var r=Ze,i=Jn();if(st){if(t===void 0)throw Error(ce(407));t=t()}else{if(t=e(),wt===null)throw Error(ce(349));ot&60||z4(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,Fw(j4.bind(null,r,o,n),[n]),r.flags|=2048,ec(9,L4.bind(null,r,o,t,e),{destroy:void 0},null),t},useId:function(){var n=Jn(),e=wt.identifierPrefix;if(st){var t=go,r=mo;t=(r&~(1<<32-Cr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=mf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=LR++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},useCacheRefresh:function(){return Jn().memoizedState=UR.bind(null,Ze)}};Is.useMemoCache=cx;Is.useHostTransitionStatus=px;Is.useFormState=V4;Is.useActionState=V4;Is.useOptimistic=function(n){var e=Jn();e.memoizedState=e.baseState=n;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=mx.bind(null,Ze,!0,t),t.dispatch=e,[n,e]};var Ea={readContext:zn,use:Mp,useCallback:e3,useContext:zn,useEffect:dx,useImperativeHandle:Q4,useInsertionEffect:X4,useLayoutEffect:Z4,useMemo:t3,useReducer:$h,useRef:Y4,useState:function(){return $h(Eo)},useDebugValue:hx,useDeferredValue:function(n,e){var t=qt();return n3(t,pt.memoizedState,n,e)},useTransition:function(){var n=$h(Eo)[0],e=qt().memoizedState;return[typeof n=="boolean"?n:dd(n),e]},useSyncExternalStore:B4,useId:a3};Ea.useCacheRefresh=s3;Ea.useMemoCache=cx;Ea.useHostTransitionStatus=px;Ea.useFormState=q4;Ea.useActionState=q4;Ea.useOptimistic=function(n,e){var t=qt();return $4(t,pt,n,e)};var Rs={readContext:zn,use:Mp,useCallback:e3,useContext:zn,useEffect:dx,useImperativeHandle:Q4,useInsertionEffect:X4,useLayoutEffect:Z4,useMemo:t3,useReducer:ag,useRef:Y4,useState:function(){return ag(Eo)},useDebugValue:hx,useDeferredValue:function(n,e){var t=qt();return pt===null?fx(t,n,e):n3(t,pt.memoizedState,n,e)},useTransition:function(){var n=ag(Eo)[0],e=qt().memoizedState;return[typeof n=="boolean"?n:dd(n),e]},useSyncExternalStore:B4,useId:a3};Rs.useCacheRefresh=s3;Rs.useMemoCache=cx;Rs.useHostTransitionStatus=px;Rs.useFormState=K4;Rs.useActionState=K4;Rs.useOptimistic=function(n,e){var t=qt();return pt!==null?$4(t,pt,n,e):(t.baseState=n,[n,t.queue.dispatch])};function sg(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Et({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var eb={isMounted:function(n){return(n=n._reactInternals)?fc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Er(),i=ia(r);i.payload=e,t!=null&&(i.callback=t),e=oa(n,i,r),e!==null&&(Kn(e,n,r),du(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Er(),i=ia(r);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=oa(n,i,r),e!==null&&(Kn(e,n,r),du(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Er(),r=ia(t);r.tag=2,e!=null&&(r.callback=e),e=oa(n,r,t),e!==null&&(Kn(e,n,t),du(e,n,t))}};function $w(n,e,t,r,i,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Iu(t,r)||!Iu(i,o):!0}function Uw(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&eb.enqueueReplaceState(e,e.state,null)}function ms(n,e){var t=e;if("ref"in e){t={};for(var r in e)r!=="ref"&&(t[r]=e[r])}if(n=n.defaultProps){t===e&&(t=Et({},t));for(var i in n)t[i]===void 0&&(t[i]=n[i])}return t}var gf=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function d3(n){gf(n)}function h3(n){console.error(n)}function f3(n){gf(n)}function bf(n,e){try{var t=n.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Hw(n,e,t){try{var r=n.onCaughtError;r(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function tb(n,e,t){return t=ia(t),t.tag=3,t.payload={element:null},t.callback=function(){bf(n,e)},t}function p3(n){return n=ia(n),n.tag=3,n}function m3(n,e,t,r){var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var o=r.value;n.payload=function(){return i(o)},n.callback=function(){Hw(e,t,r)}}var a=t.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Hw(e,t,r),typeof i!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function WR(n,e,t,r,i){if(t.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=t.alternate,e!==null&&hd(e,t,i,!0),t=Kr.current,t!==null){switch(t.tag){case 13:return zi===null?gb():t.alternate===null&&zt===0&&(zt=3),t.flags&=-257,t.flags|=65536,t.lanes=i,r===K0?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([r]):e.add(r),yg(n,r,i)),!1;case 22:return t.flags|=65536,r===K0?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([r]):t.add(r)),yg(n,r,i)),!1}throw Error(ce(435,t.tag))}return yg(n,r,i),gb(),!1}if(st)return e=Kr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==G0&&(n=Error(ce(422),{cause:r}),Ru(Ur(n,t)))):(r!==G0&&(e=Error(ce(423),{cause:r}),Ru(Ur(e,t))),n=n.current.alternate,n.flags|=65536,i&=-i,n.lanes|=i,r=Ur(r,t),i=tb(n.stateNode,r,i),fg(n,i),zt!==4&&(zt=2)),!1;var o=Error(ce(520),{cause:r});if(o=Ur(o,t),mu===null?mu=[o]:mu.push(o),zt!==4&&(zt=2),e===null)return!0;r=Ur(r,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,n=i&-i,t.lanes|=n,n=tb(t.stateNode,r,n),fg(t,n),!1;case 1:if(e=t.type,o=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(sa===null||!sa.has(o))))return t.flags|=65536,i&=-i,t.lanes|=i,i=p3(i),m3(i,n,t,r),fg(t,i),!1}t=t.return}while(t!==null);return!1}var g3=Error(ce(461)),fn=!1;function xn(n,e,t,r){e.child=n===null?R4(e,null,t,r):fs(e,n.child,t,r)}function Ww(n,e,t,r,i){t=t.render;var o=e.ref;if("ref"in r){var a={};for(var s in r)s!=="ref"&&(a[s]=r[s])}else a=r;return gs(e),r=ox(n,e,t,a,o,i),s=ax(),n!==null&&!fn?(sx(n,e,i),So(n,e,i)):(st&&s&&Qv(e),e.flags|=1,xn(n,e,r,i),e.child)}function Vw(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!yx(o)&&o.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=o,b3(n,e,o,r,i)):(n=Wh(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!gx(n,i)){var a=o.memoizedProps;if(t=t.compare,t=t!==null?t:Iu,t(a,r)&&n.ref===e.ref)return So(n,e,i)}return e.flags|=1,n=aa(o,r),n.ref=e.ref,n.return=e,e.child=n}function b3(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(Iu(o,r)&&n.ref===e.ref)if(fn=!1,e.pendingProps=r=o,gx(n,i))n.flags&131072&&(fn=!0);else return e.lanes=n.lanes,So(n,e,i)}return nb(n,e,t,r,i)}function v3(n,e,t){var r=e.pendingProps,i=r.children,o=(e.stateNode._pendingVisibility&2)!==0,a=n!==null?n.memoizedState:null;if(uu(n,e),r.mode==="hidden"||o){if(e.flags&128){if(r=a!==null?a.baseLanes|t:t,n!==null){for(i=e.child=n.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;e.childLanes=o&~r}else e.childLanes=0,e.child=null;return qw(n,e,r,t)}if(t&536870912)e.memoizedState={baseLanes:0,cachePool:null},n!==null&&Fh(e,a!==null?a.cachePool:null),a!==null?Bw(e,a):Y0(),D4(e);else return e.lanes=e.childLanes=536870912,qw(n,e,a!==null?a.baseLanes|t:t,t)}else a!==null?(Fh(e,a.cachePool),Bw(e,a),Ko(),e.memoizedState=null):(n!==null&&Fh(e,null),Y0(),Ko());return xn(n,e,i,t),e.child}function qw(n,e,t,r){var i=rx();return i=i===null?null:{parent:Yt._currentValue,pool:i},e.memoizedState={baseLanes:t,cachePool:i},n!==null&&Fh(e,null),Y0(),D4(e),n!==null&&hd(n,e,r,!0),null}function uu(n,e){var t=e.ref;if(t===null)n!==null&&n.ref!==null&&(e.flags|=2097664);else{if(typeof t!="function"&&typeof t!="object")throw Error(ce(284));(n===null||n.ref!==t)&&(e.flags|=2097664)}}function nb(n,e,t,r,i){return gs(e),t=ox(n,e,t,r,void 0,i),r=ax(),n!==null&&!fn?(sx(n,e,i),So(n,e,i)):(st&&r&&Qv(e),e.flags|=1,xn(n,e,t,i),e.child)}function Gw(n,e,t,r,i,o){return gs(e),e.updateQueue=null,t=P4(e,r,t,i),M4(n),r=ax(),n!==null&&!fn?(sx(n,e,o),So(n,e,o)):(st&&r&&Qv(e),e.flags|=1,xn(n,e,t,o),e.child)}function Kw(n,e,t,r,i){if(gs(e),e.stateNode===null){var o=Cl,a=t.contextType;typeof a=="object"&&a!==null&&(o=zn(a)),o=new t(r,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=eb,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=r,o.state=e.memoizedState,o.refs={},bx(e),a=t.contextType,o.context=typeof a=="object"&&a!==null?zn(a):Cl,o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(sg(e,t,a,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(a=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),a!==o.state&&eb.enqueueReplaceState(o,o.state,null),fu(e,r,o,i),hu(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(n===null){o=e.stateNode;var s=e.memoizedProps,l=ms(t,s);o.props=l;var c=o.context,u=t.contextType;a=Cl,typeof u=="object"&&u!==null&&(a=zn(u));var d=t.getDerivedStateFromProps;u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s||c!==a)&&Uw(e,o,r,a),Wo=!1;var h=e.memoizedState;o.state=h,fu(e,r,o,i),hu(),c=e.memoizedState,s||h!==c||Wo?(typeof d=="function"&&(sg(e,t,d,r),c=e.memoizedState),(l=Wo||$w(e,t,l,r,h,c,a))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lb(n,e),a=e.memoizedProps,u=ms(t,a),o.props=u,d=e.pendingProps,h=o.context,c=t.contextType,l=Cl,typeof c=="object"&&c!==null&&(l=zn(c)),s=t.getDerivedStateFromProps,(c=typeof s=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Uw(e,o,r,l),Wo=!1,h=e.memoizedState,o.state=h,fu(e,r,o,i),hu();var f=e.memoizedState;a!==d||h!==f||Wo||n!==null&&n.dependencies!==null&&vf(n.dependencies)?(typeof s=="function"&&(sg(e,t,s,r),f=e.memoizedState),(u=Wo||$w(e,t,u,r,h,f,l)||n!==null&&n.dependencies!==null&&vf(n.dependencies))?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return o=r,uu(n,e),r=(e.flags&128)!==0,o||r?(o=e.stateNode,t=r&&typeof t.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,n!==null&&r?(e.child=fs(e,n.child,null,i),e.child=fs(e,null,t,i)):xn(n,e,t,i),e.memoizedState=o.state,n=e.child):n=So(n,e,i),n}function Yw(n,e,t,r){return cd(),e.flags|=256,xn(n,e,t,r),e.child}var lg={dehydrated:null,treeContext:null,retryLane:0};function cg(n){return{baseLanes:n,cachePool:O4()}}function ug(n,e,t){return n=n!==null?n.childLanes&~t:0,e&&(n|=Vr),n}function x3(n,e,t){var r=e.pendingProps,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(Zt.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,n===null){if(st){if(i?Go(e):Ko(),st){var s=_n,l;if(l=s){e:{for(l=s,s=Ii;l.nodeType!==8;){if(!s){s=null;break e}if(l=hi(l.nextSibling),l===null){s=null;break e}}s=l}s!==null?(e.memoizedState={dehydrated:s,treeContext:rs!==null?{id:mo,overflow:go}:null,retryLane:536870912},l=Wr(18,null,null,0),l.stateNode=s,l.return=e,e.child=l,Hn=e,_n=null,l=!0):l=!1}l||hs(e)}if(s=e.memoizedState,s!==null&&(s=s.dehydrated,s!==null))return s.data==="$!"?e.lanes=16:e.lanes=536870912,null;bo(e)}return s=r.children,r=r.fallback,i?(Ko(),i=e.mode,s=ib({mode:"hidden",children:s},i),r=os(r,i,t,null),s.return=e,r.return=e,s.sibling=r,e.child=s,i=e.child,i.memoizedState=cg(t),i.childLanes=ug(n,a,t),e.memoizedState=lg,r):(Go(e),rb(e,s))}if(l=n.memoizedState,l!==null&&(s=l.dehydrated,s!==null)){if(o)e.flags&256?(Go(e),e.flags&=-257,e=dg(n,e,t)):e.memoizedState!==null?(Ko(),e.child=n.child,e.flags|=128,e=null):(Ko(),i=r.fallback,s=e.mode,r=ib({mode:"visible",children:r.children},s),i=os(i,s,t,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,fs(e,n.child,null,t),r=e.child,r.memoizedState=cg(t),r.childLanes=ug(n,a,t),e.memoizedState=lg,e=i);else if(Go(e),s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var c=a.dgst;a=c,r=Error(ce(419)),r.stack="",r.digest=a,Ru({value:r,source:null,stack:null}),e=dg(n,e,t)}else if(fn||hd(n,e,t,!1),a=(t&n.childLanes)!==0,fn||a){if(a=wt,a!==null){if(r=t&-t,r&42)r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(r=r&(a.suspendedLanes|t)?0:r,r!==0&&r!==l.retryLane)throw l.retryLane=r,ga(n,r),Kn(a,n,r),g3}s.data==="$?"||gb(),e=dg(n,e,t)}else s.data==="$?"?(e.flags|=128,e.child=n.child,e=o8.bind(null,n),s._reactRetry=e,e=null):(n=l.treeContext,_n=hi(s.nextSibling),Hn=e,st=!0,si=null,Ii=!1,n!==null&&(jr[Nr++]=mo,jr[Nr++]=go,jr[Nr++]=rs,mo=n.id,go=n.overflow,rs=e),e=rb(e,r.children),e.flags|=4096);return e}return i?(Ko(),i=r.fallback,s=e.mode,l=n.child,c=l.sibling,r=aa(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&31457280,c!==null?i=aa(c,i):(i=os(i,s,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=n.child.memoizedState,s===null?s=cg(t):(l=s.cachePool,l!==null?(c=Yt._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=O4(),s={baseLanes:s.baseLanes|t,cachePool:l}),i.memoizedState=s,i.childLanes=ug(n,a,t),e.memoizedState=lg,r):(Go(e),t=n.child,n=t.sibling,t=aa(t,{mode:"visible",children:r.children}),t.return=e,t.sibling=null,n!==null&&(a=e.deletions,a===null?(e.deletions=[n],e.flags|=16):a.push(n)),e.child=t,e.memoizedState=null,t)}function rb(n,e){return e=ib({mode:"visible",children:e},n.mode),e.return=n,n.child=e}function ib(n,e){return $3(n,e,0,null)}function dg(n,e,t){return fs(e,n.child,null,t),n=rb(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Xw(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),ab(n.return,e,t)}function hg(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function y3(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xn(n,e,r.children,t),r=Zt.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Xw(n,t,e);else if(n.tag===19)Xw(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}switch(St(Zt,r),i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&ff(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),hg(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&ff(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}hg(e,!0,t,null,o);break;case"together":hg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function So(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),xa|=e.lanes,!(t&e.childLanes))if(n!==null){if(hd(n,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(n!==null&&e.child!==n.child)throw Error(ce(153));if(e.child!==null){for(n=e.child,t=aa(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=aa(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function gx(n,e){return n.lanes&e?!0:(n=n.dependencies,!!(n!==null&&vf(n)))}function VR(n,e,t){switch(e.tag){case 3:rf(e,e.stateNode.containerInfo),Yo(e,Yt,n.memoizedState.cache),cd();break;case 27:case 5:j0(e);break;case 4:rf(e,e.stateNode.containerInfo);break;case 10:Yo(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Go(e),e.flags|=128,null):t&e.child.childLanes?x3(n,e,t):(Go(e),n=So(n,e,t),n!==null?n.sibling:null);Go(e);break;case 19:var i=(n.flags&128)!==0;if(r=(t&e.childLanes)!==0,r||(hd(n,e,t,!1),r=(t&e.childLanes)!==0),i){if(r)return y3(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),St(Zt,Zt.current),r)break;return null;case 22:case 23:return e.lanes=0,v3(n,e,t);case 24:Yo(e,Yt,n.memoizedState.cache)}return So(n,e,t)}function w3(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps)fn=!0;else{if(!gx(n,t)&&!(e.flags&128))return fn=!1,VR(n,e,t);fn=!!(n.flags&131072)}else fn=!1,st&&e.flags&1048576&&S4(e,df,e.index);switch(e.lanes=0,e.tag){case 16:e:{n=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")yx(r)?(n=ms(r,n),e.tag=1,e=Kw(null,e,r,n,t)):(e.tag=0,e=nb(null,e,r,n,t));else{if(r!=null){if(i=r.$$typeof,i===$v){e.tag=11,e=Ww(null,e,r,n,t);break e}else if(i===Uv){e.tag=14,e=Vw(null,e,r,n,t);break e}}throw e=z0(r)||r,Error(ce(306,e,""))}}return e;case 0:return nb(n,e,e.type,e.pendingProps,t);case 1:return r=e.type,i=ms(r,e.pendingProps),Kw(n,e,r,i,t);case 3:e:{if(rf(e,e.stateNode.containerInfo),n===null)throw Error(ce(387));var o=e.pendingProps;i=e.memoizedState,r=i.element,lb(n,e),fu(e,o,null,t);var a=e.memoizedState;if(o=a.cache,Yo(e,Yt,o),o!==i.cache&&sb(e,[Yt],t,!0),hu(),o=a.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Yw(n,e,o,t);break e}else if(o!==r){r=Ur(Error(ce(424)),e),Ru(r),e=Yw(n,e,o,t);break e}else for(_n=hi(e.stateNode.containerInfo.firstChild),Hn=e,st=!0,si=null,Ii=!0,t=R4(e,null,o,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(cd(),o===r){e=So(n,e,t);break e}xn(n,e,o,t)}e=e.child}return e;case 26:return uu(n,e),n===null?(t=p2(e.type,null,e.pendingProps,null))?e.memoizedState=t:st||(t=e.type,n=e.pendingProps,r=Ef(ra.current).createElement(t),r[Bn]=e,r[ir]=n,En(r,t,n),dn(r),e.stateNode=r):e.memoizedState=p2(e.type,n.memoizedProps,e.pendingProps,n.memoizedState),null;case 27:return j0(e),n===null&&st&&(r=e.stateNode=oE(e.type,e.pendingProps,ra.current),Hn=e,Ii=!0,_n=hi(r.firstChild)),r=e.pendingProps.children,n!==null||st?xn(n,e,r,t):e.child=fs(e,null,r,t),uu(n,e),e.child;case 5:return n===null&&st&&((i=r=_n)&&(r=w8(r,e.type,e.pendingProps,Ii),r!==null?(e.stateNode=r,Hn=e,_n=hi(r.firstChild),Ii=!1,i=!0):i=!1),i||hs(e)),j0(e),i=e.type,o=e.pendingProps,a=n!==null?n.memoizedProps:null,r=o.children,wb(i,o)?r=null:a!==null&&wb(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=ox(n,e,jR,null,null,t),zu._currentValue=i),uu(n,e),xn(n,e,r,t),e.child;case 6:return n===null&&st&&((n=t=_n)&&(t=k8(t,e.pendingProps,Ii),t!==null?(e.stateNode=t,Hn=e,_n=null,n=!0):n=!1),n||hs(e)),null;case 13:return x3(n,e,t);case 4:return rf(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=fs(e,null,r,t):xn(n,e,r,t),e.child;case 11:return Ww(n,e,e.type,e.pendingProps,t);case 7:return xn(n,e,e.pendingProps,t),e.child;case 8:return xn(n,e,e.pendingProps.children,t),e.child;case 12:return xn(n,e,e.pendingProps.children,t),e.child;case 10:return r=e.pendingProps,Yo(e,e.type,r.value),xn(n,e,r.children,t),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,gs(e),i=zn(i),r=r(i),e.flags|=1,xn(n,e,r,t),e.child;case 14:return Vw(n,e,e.type,e.pendingProps,t);case 15:return b3(n,e,e.type,e.pendingProps,t);case 19:return y3(n,e,t);case 22:return v3(n,e,t);case 24:return gs(e),r=zn(Yt),n===null?(i=rx(),i===null&&(i=wt,o=nx(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=t),i=o),e.memoizedState={parent:r,cache:i},bx(e),Yo(e,Yt,i)):(n.lanes&t&&(lb(n,e),fu(e,null,null,t),hu()),i=n.memoizedState,o=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Yo(e,Yt,r)):(r=o.cache,Yo(e,Yt,r),r!==i.cache&&sb(e,[Yt],t,!0))),xn(n,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(ce(156,e.tag))}var ob=Wi(null),Ds=null,vo=null;function Yo(n,e,t){St(ob,e._currentValue),e._currentValue=t}function xo(n){n._currentValue=ob.current,pn(ob)}function ab(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function sb(n,e,t,r){var i=n.child;for(i!==null&&(i.return=n);i!==null;){var o=i.dependencies;if(o!==null){var a=i.child;o=o.firstContext;e:for(;o!==null;){var s=o;o=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){o.lanes|=t,s=o.alternate,s!==null&&(s.lanes|=t),ab(o.return,t,n),r||(a=null);break e}o=s.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(ce(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),ab(a,t,n),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===n){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function hd(n,e,t,r){n=null;for(var i=e,o=!1;i!==null;){if(!o){if(i.flags&524288)o=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(ce(387));if(a=a.memoizedProps,a!==null){var s=i.type;Ir(i.pendingProps.value,a.value)||(n!==null?n.push(s):n=[s])}}else if(i===nf.current){if(a=i.alternate,a===null)throw Error(ce(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(n!==null?n.push(zu):n=[zu])}i=i.return}n!==null&&sb(e,n,t,r),e.flags|=262144}function vf(n){for(n=n.firstContext;n!==null;){if(!Ir(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function gs(n){Ds=n,vo=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function zn(n){return k3(Ds,n)}function Qd(n,e){return Ds===null&&gs(n),k3(n,e)}function k3(n,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},vo===null){if(n===null)throw Error(ce(308));vo=e,n.dependencies={lanes:0,firstContext:e},n.flags|=524288}else vo=vo.next=e;return t}var Wo=!1;function bx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lb(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ia(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function oa(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Rt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=cf(n),E4(n,null,t),e}return Dp(n,r,e,t),cf(n)}function du(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194176)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,JC(n,t)}}function fg(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var a={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};o===null?i=o=a:o=o.next=a,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}var cb=!1;function hu(){if(cb){var n=Pl;if(n!==null)throw n}}function fu(n,e,t,r){cb=!1;var i=n.updateQueue;Wo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var u=n.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,u=c=l=null,s=o;do{var h=s.lane&-536870913,f=h!==s.lane;if(f?(ot&h)===h:(r&h)===h){h!==0&&h===Ql&&(cb=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=n,m=s;h=e;var b=t;switch(m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(b,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(b,d,h):p,h==null)break e;d=Et({},d,h);break e;case 2:Wo=!0}}h=s.callback,h!==null&&(n.flags|=64,f&&(n.flags|=8192),f=i.callbacks,f===null?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,o===null&&(i.shared.lanes=0),xa|=a,n.lanes=a,n.memoizedState=d}}function _3(n,e){if(typeof n!="function")throw Error(ce(191,n));n.call(e)}function C3(n,e){var t=n.callbacks;if(t!==null)for(n.callbacks=null,n=0;n<t.length;n++)_3(t[n],e)}function fd(n,e){try{var t=e.updateQueue,r=t!==null?t.lastEffect:null;if(r!==null){var i=r.next;t=i;do{if((t.tag&n)===n){r=void 0;var o=t.create,a=t.inst;r=o(),a.destroy=r}t=t.next}while(t!==i)}}catch(s){bt(e,e.return,s)}}function va(n,e,t){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var o=i.next;r=o;do{if((r.tag&n)===n){var a=r.inst,s=a.destroy;if(s!==void 0){a.destroy=void 0,i=e;var l=t;try{s()}catch(c){bt(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){bt(e,e.return,c)}}function E3(n){var e=n.updateQueue;if(e!==null){var t=n.stateNode;try{C3(e,t)}catch(r){bt(n,n.return,r)}}}function S3(n,e,t){t.props=ms(n.type,n.memoizedProps),t.state=n.memoizedState;try{t.componentWillUnmount()}catch(r){bt(n,e,r)}}function Ka(n,e){try{var t=n.ref;if(t!==null){var r=n.stateNode;switch(n.tag){case 26:case 27:case 5:var i=r;break;default:i=r}typeof t=="function"?n.refCleanup=t(i):t.current=i}}catch(o){bt(n,e,o)}}function xr(n,e){var t=n.ref,r=n.refCleanup;if(t!==null)if(typeof r=="function")try{r()}catch(i){bt(n,e,i)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(i){bt(n,e,i)}else t.current=null}function T3(n){var e=n.type,t=n.memoizedProps,r=n.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&r.focus();break e;case"img":t.src?r.src=t.src:t.srcSet&&(r.srcset=t.srcSet)}}catch(i){bt(n,n.return,i)}}function Zw(n,e,t){try{var r=n.stateNode;g8(r,n.type,t,e),r[ir]=e}catch(i){bt(n,n.return,i)}}function A3(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function pg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||A3(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ub(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=jp));else if(r!==4&&r!==27&&(n=n.child,n!==null))for(ub(n,e,t),n=n.sibling;n!==null;)ub(n,e,t),n=n.sibling}function xf(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&r!==27&&(n=n.child,n!==null))for(xf(n,e,t),n=n.sibling;n!==null;)xf(n,e,t),n=n.sibling}var lo=!1,Bt=!1,mg=!1,Jw=typeof WeakSet=="function"?WeakSet:Set,un=null,Qw=!1;function qR(n,e){if(n=n.containerInfo,xb=If,n=v4(n),Xv(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch(m){t=null;break e}var a=0,s=-1,l=-1,c=0,u=0,d=n,h=null;t:for(;;){for(var f;d!==t||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===n)break t;if(h===t&&++c===i&&(s=a),h===o&&++u===r&&(l=a),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}t=s===-1||l===-1?null:{start:s,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(yb={focusedElem:n,selectionRange:t},If=!1,un=e;un!==null;)if(e=un,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,un=n;else for(;un!==null;){switch(e=un,o=e.alternate,n=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&o!==null){n=void 0,t=e,i=o.memoizedProps,o=o.memoizedState,r=t.stateNode;try{var p=ms(t.type,i,t.elementType===t.type);n=r.getSnapshotBeforeUpdate(p,o),r.__reactInternalSnapshotBeforeUpdate=n}catch(m){bt(t,t.return,m)}}break;case 3:if(n&1024){if(n=e.stateNode.containerInfo,t=n.nodeType,t===9)kb(n);else if(t===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":kb(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(ce(163))}if(n=e.sibling,n!==null){n.return=e.return,un=n;break}un=e.return}return p=Qw,Qw=!1,p}function I3(n,e,t){var r=t.flags;switch(t.tag){case 0:case 11:case 15:eo(n,t),r&4&&fd(5,t);break;case 1:if(eo(n,t),r&4)if(n=t.stateNode,e===null)try{n.componentDidMount()}catch(s){bt(t,t.return,s)}else{var i=ms(t.type,e.memoizedProps);e=e.memoizedState;try{n.componentDidUpdate(i,e,n.__reactInternalSnapshotBeforeUpdate)}catch(s){bt(t,t.return,s)}}r&64&&E3(t),r&512&&Ka(t,t.return);break;case 3:if(eo(n,t),r&64&&(r=t.updateQueue,r!==null)){if(n=null,t.child!==null)switch(t.child.tag){case 27:case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}try{C3(r,n)}catch(s){bt(t,t.return,s)}}break;case 26:eo(n,t),r&512&&Ka(t,t.return);break;case 27:case 5:eo(n,t),e===null&&r&4&&T3(t),r&512&&Ka(t,t.return);break;case 12:eo(n,t);break;case 13:eo(n,t),r&4&&O3(n,t);break;case 22:if(i=t.memoizedState!==null||lo,!i){e=e!==null&&e.memoizedState!==null||Bt;var o=lo,a=Bt;lo=i,(Bt=e)&&!a?Fo(n,t,(t.subtreeFlags&8772)!==0):eo(n,t),lo=o,Bt=a}r&512&&(t.memoizedProps.mode==="manual"?Ka(t,t.return):xr(t,t.return));break;default:eo(n,t)}}function R3(n){var e=n.alternate;e!==null&&(n.alternate=null,R3(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&Wv(e)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ht=null,fr=!1;function Qi(n,e,t){for(t=t.child;t!==null;)D3(n,e,t),t=t.sibling}function D3(n,e,t){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(od,t)}catch(a){}switch(t.tag){case 26:Bt||xr(t,e),Qi(n,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:Bt||xr(t,e);var r=Ht,i=fr;for(Ht=t.stateNode,Qi(n,e,t),t=t.stateNode,e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Wv(t),Ht=r,fr=i;break;case 5:Bt||xr(t,e);case 6:i=Ht;var o=fr;if(Ht=null,Qi(n,e,t),Ht=i,fr=o,Ht!==null)if(fr)try{n=Ht,r=t.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)}catch(a){bt(t,e,a)}else try{Ht.removeChild(t.stateNode)}catch(a){bt(t,e,a)}break;case 18:Ht!==null&&(fr?(e=Ht,t=t.stateNode,e.nodeType===8?Tg(e.parentNode,t):e.nodeType===1&&Tg(e,t),Nu(e)):Tg(Ht,t.stateNode));break;case 4:r=Ht,i=fr,Ht=t.stateNode.containerInfo,fr=!0,Qi(n,e,t),Ht=r,fr=i;break;case 0:case 11:case 14:case 15:Bt||va(2,t,e),Bt||va(4,t,e),Qi(n,e,t);break;case 1:Bt||(xr(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"&&S3(t,e,r)),Qi(n,e,t);break;case 21:Qi(n,e,t);break;case 22:Bt||xr(t,e),Bt=(r=Bt)||t.memoizedState!==null,Qi(n,e,t),Bt=r;break;default:Qi(n,e,t)}}function O3(n,e){if(e.memoizedState===null&&(n=e.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Nu(n)}catch(t){bt(e,e.return,t)}}function GR(n){switch(n.tag){case 13:case 19:var e=n.stateNode;return e===null&&(e=n.stateNode=new Jw),e;case 22:return n=n.stateNode,e=n._retryCache,e===null&&(e=n._retryCache=new Jw),e;default:throw Error(ce(435,n.tag))}}function gg(n,e){var t=GR(n);e.forEach(function(r){var i=a8.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}function Mr(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r],o=n,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 27:case 5:Ht=s.stateNode,fr=!1;break e;case 3:Ht=s.stateNode.containerInfo,fr=!0;break e;case 4:Ht=s.stateNode.containerInfo,fr=!0;break e}s=s.return}if(Ht===null)throw Error(ce(160));D3(o,a,i),Ht=null,fr=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)M3(e,n),e=e.sibling}var ii=null;function M3(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Mr(e,n),Pr(n),r&4&&(va(3,n,n.return),fd(3,n),va(5,n,n.return));break;case 1:Mr(e,n),Pr(n),r&512&&(Bt||t===null||xr(t,t.return)),r&64&&lo&&(n=n.updateQueue,n!==null&&(r=n.callbacks,r!==null&&(t=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=t===null?r:t.concat(r))));break;case 26:var i=ii;if(Mr(e,n),Pr(n),r&512&&(Bt||t===null||xr(t,t.return)),r&4){var o=t!==null?t.memoizedState:null;if(r=n.memoizedState,t===null)if(r===null)if(n.stateNode===null){e:{r=n.type,t=n.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":o=i.getElementsByTagName("title")[0],(!o||o[Su]||o[Bn]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),En(o,r,t),o[Bn]=n,dn(o),r=o;break e;case"link":var a=g2("link","href",i).get(r+(t.href||""));if(a){for(var s=0;s<a.length;s++)if(o=a[s],o.getAttribute("href")===(t.href==null?null:t.href)&&o.getAttribute("rel")===(t.rel==null?null:t.rel)&&o.getAttribute("title")===(t.title==null?null:t.title)&&o.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){a.splice(s,1);break t}}o=i.createElement(r),En(o,r,t),i.head.appendChild(o);break;case"meta":if(a=g2("meta","content",i).get(r+(t.content||""))){for(s=0;s<a.length;s++)if(o=a[s],o.getAttribute("content")===(t.content==null?null:""+t.content)&&o.getAttribute("name")===(t.name==null?null:t.name)&&o.getAttribute("property")===(t.property==null?null:t.property)&&o.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&o.getAttribute("charset")===(t.charSet==null?null:t.charSet)){a.splice(s,1);break t}}o=i.createElement(r),En(o,r,t),i.head.appendChild(o);break;default:throw Error(ce(468,r))}o[Bn]=n,dn(o),r=o}n.stateNode=r}else b2(i,n.type,n.stateNode);else n.stateNode=m2(i,r,n.memoizedProps);else o!==r?(o===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):o.count--,r===null?b2(i,n.type,n.stateNode):m2(i,r,n.memoizedProps)):r===null&&n.stateNode!==null&&Zw(n,n.memoizedProps,t.memoizedProps)}break;case 27:if(r&4&&n.alternate===null){i=n.stateNode,o=n.memoizedProps;try{for(var l=i.firstChild;l;){var c=l.nextSibling,u=l.nodeName;l[Su]||u==="HEAD"||u==="BODY"||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&l.rel.toLowerCase()==="stylesheet"||i.removeChild(l),l=c}for(var d=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);En(i,d,o),i[Bn]=n,i[ir]=o}catch(p){bt(n,n.return,p)}}case 5:if(Mr(e,n),Pr(n),r&512&&(Bt||t===null||xr(t,t.return)),n.flags&32){i=n.stateNode;try{Zl(i,"")}catch(p){bt(n,n.return,p)}}r&4&&n.stateNode!=null&&(i=n.memoizedProps,Zw(n,i,t!==null?t.memoizedProps:i)),r&1024&&(mg=!0);break;case 6:if(Mr(e,n),Pr(n),r&4){if(n.stateNode===null)throw Error(ce(162));r=n.memoizedProps,t=n.stateNode;try{t.nodeValue=r}catch(p){bt(n,n.return,p)}}break;case 3:if(qh=null,i=ii,ii=Sf(e.containerInfo),Mr(e,n),ii=i,Pr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Nu(e.containerInfo)}catch(p){bt(n,n.return,p)}mg&&(mg=!1,P3(n));break;case 4:r=ii,ii=Sf(n.stateNode.containerInfo),Mr(e,n),Pr(n),ii=r;break;case 12:Mr(e,n),Pr(n);break;case 13:Mr(e,n),Pr(n),n.child.flags&8192&&n.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(_x=Bi()),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,gg(n,r)));break;case 22:if(r&512&&(Bt||t===null||xr(t,t.return)),l=n.memoizedState!==null,c=t!==null&&t.memoizedState!==null,u=lo,d=Bt,lo=u||l,Bt=d||c,Mr(e,n),Bt=d,lo=u,Pr(n),e=n.stateNode,e._current=n,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,r&8192&&(e._visibility=l?e._visibility&-2:e._visibility|1,l&&(e=lo||Bt,t===null||c||e||il(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(t=null,e=n;;){if(e.tag===5||e.tag===26||e.tag===27){if(t===null){c=t=e;try{if(i=c.stateNode,l)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{a=c.stateNode,s=c.memoizedProps.style;var f=s!=null&&s.hasOwnProperty("display")?s.display:null;a.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(p){bt(c,c.return,p)}}}else if(e.tag===6){if(t===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(p){bt(c,c.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===n)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=n.updateQueue,r!==null&&(t=r.retryQueue,t!==null&&(r.retryQueue=null,gg(n,t))));break;case 19:Mr(e,n),Pr(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,gg(n,r)));break;case 21:break;default:Mr(e,n),Pr(n)}}function Pr(n){var e=n.flags;if(e&2){try{if(n.tag!==27){e:{for(var t=n.return;t!==null;){if(A3(t)){var r=t;break e}t=t.return}throw Error(ce(160))}switch(r.tag){case 27:var i=r.stateNode,o=pg(n);xf(n,o,i);break;case 5:var a=r.stateNode;r.flags&32&&(Zl(a,""),r.flags&=-33);var s=pg(n);xf(n,s,a);break;case 3:case 4:var l=r.stateNode.containerInfo,c=pg(n);ub(n,c,l);break;default:throw Error(ce(161))}}}catch(u){bt(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function P3(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var e=n;P3(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),n=n.sibling}}function eo(n,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)I3(n,e.alternate,e),e=e.sibling}function il(n){for(n=n.child;n!==null;){var e=n;switch(e.tag){case 0:case 11:case 14:case 15:va(4,e,e.return),il(e);break;case 1:xr(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&S3(e,e.return,t),il(e);break;case 26:case 27:case 5:xr(e,e.return),il(e);break;case 22:xr(e,e.return),e.memoizedState===null&&il(e);break;default:il(e)}n=n.sibling}}function Fo(n,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=n,o=e,a=o.flags;switch(o.tag){case 0:case 11:case 15:Fo(i,o,t),fd(4,o);break;case 1:if(Fo(i,o,t),r=o,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){bt(r,r.return,c)}if(r=o,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)_3(l[i],s)}catch(c){bt(r,r.return,c)}}t&&a&64&&E3(o),Ka(o,o.return);break;case 26:case 27:case 5:Fo(i,o,t),t&&r===null&&a&4&&T3(o),Ka(o,o.return);break;case 12:Fo(i,o,t);break;case 13:Fo(i,o,t),t&&a&4&&O3(i,o);break;case 22:o.memoizedState===null&&Fo(i,o,t),Ka(o,o.return);break;default:Fo(i,o,t)}e=e.sibling}}function vx(n,e){var t=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(n!=null&&n.refCount++,t!=null&&ud(t))}function xx(n,e){n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&ud(n))}function zo(n,e,t,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)B3(n,e,t,r),e=e.sibling}function B3(n,e,t,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:zo(n,e,t,r),i&2048&&fd(9,e);break;case 3:zo(n,e,t,r),i&2048&&(n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&ud(n)));break;case 12:if(i&2048){zo(n,e,t,r),n=e.stateNode;try{var o=e.memoizedProps,a=o.id,s=o.onPostCommit;typeof s=="function"&&s(a,e.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(l){bt(e,e.return,l)}}else zo(n,e,t,r);break;case 23:break;case 22:o=e.stateNode,e.memoizedState!==null?o._visibility&4?zo(n,e,t,r):pu(n,e):o._visibility&4?zo(n,e,t,r):(o._visibility|=4,ol(n,e,t,r,(e.subtreeFlags&10256)!==0)),i&2048&&vx(e.alternate,e);break;case 24:zo(n,e,t,r),i&2048&&xx(e.alternate,e);break;default:zo(n,e,t,r)}}function ol(n,e,t,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=n,a=e,s=t,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:ol(o,a,s,l,i),fd(8,a);break;case 23:break;case 22:var u=a.stateNode;a.memoizedState!==null?u._visibility&4?ol(o,a,s,l,i):pu(o,a):(u._visibility|=4,ol(o,a,s,l,i)),i&&c&2048&&vx(a.alternate,a);break;case 24:ol(o,a,s,l,i),i&&c&2048&&xx(a.alternate,a);break;default:ol(o,a,s,l,i)}e=e.sibling}}function pu(n,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=n,r=e,i=r.flags;switch(r.tag){case 22:pu(t,r),i&2048&&vx(r.alternate,r);break;case 24:pu(t,r),i&2048&&xx(r.alternate,r);break;default:pu(t,r)}e=e.sibling}}var Qc=8192;function Ws(n){if(n.subtreeFlags&Qc)for(n=n.child;n!==null;)z3(n),n=n.sibling}function z3(n){switch(n.tag){case 26:Ws(n),n.flags&Qc&&n.memoizedState!==null&&B8(ii,n.memoizedState,n.memoizedProps);break;case 5:Ws(n);break;case 3:case 4:var e=ii;ii=Sf(n.stateNode.containerInfo),Ws(n),ii=e;break;case 22:n.memoizedState===null&&(e=n.alternate,e!==null&&e.memoizedState!==null?(e=Qc,Qc=16777216,Ws(n),Qc=e):Ws(n));break;default:Ws(n)}}function L3(n){var e=n.alternate;if(e!==null&&(n=e.child,n!==null)){e.child=null;do e=n.sibling,n.sibling=null,n=e;while(n!==null)}}function Lc(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var r=e[t];un=r,N3(r,n)}L3(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)j3(n),n=n.sibling}function j3(n){switch(n.tag){case 0:case 11:case 15:Lc(n),n.flags&2048&&va(9,n,n.return);break;case 3:Lc(n);break;case 12:Lc(n);break;case 22:var e=n.stateNode;n.memoizedState!==null&&e._visibility&4&&(n.return===null||n.return.tag!==13)?(e._visibility&=-5,Hh(n)):Lc(n);break;default:Lc(n)}}function Hh(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var r=e[t];un=r,N3(r,n)}L3(n)}for(n=n.child;n!==null;){switch(e=n,e.tag){case 0:case 11:case 15:va(8,e,e.return),Hh(e);break;case 22:t=e.stateNode,t._visibility&4&&(t._visibility&=-5,Hh(e));break;default:Hh(e)}n=n.sibling}}function N3(n,e){for(;un!==null;){var t=un;switch(t.tag){case 0:case 11:case 15:va(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var r=t.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ud(t.memoizedState.cache)}if(r=t.child,r!==null)r.return=t,un=r;else e:for(t=n;un!==null;){r=un;var i=r.sibling,o=r.return;if(R3(r),r===t){un=null;break e}if(i!==null){i.return=o,un=i;break e}un=o}}}function KR(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(n,e,t,r){return new KR(n,e,t,r)}function yx(n){return n=n.prototype,!(!n||!n.isReactComponent)}function aa(n,e){var t=n.alternate;return t===null?(t=Wr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&31457280,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t.refCleanup=n.refCleanup,t}function F3(n,e){n.flags&=31457282;var t=n.alternate;return t===null?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.type=t.type,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n}function Wh(n,e,t,r,i,o){var a=0;if(r=n,typeof n=="function")yx(n)&&(a=1);else if(typeof n=="string")a=M8(n,t,Pi.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case bl:return os(t.children,i,o,e);case $C:a=8,i|=24;break;case M0:return n=Wr(12,t,e,i|2),n.elementType=M0,n.lanes=o,n;case P0:return n=Wr(13,t,e,i),n.elementType=P0,n.lanes=o,n;case B0:return n=Wr(19,t,e,i),n.elementType=B0,n.lanes=o,n;case HC:return $3(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case xI:case po:a=10;break e;case UC:a=9;break e;case $v:a=11;break e;case Uv:a=14;break e;case Ho:a=16,r=null;break e}a=29,t=Error(ce(130,n===null?"null":typeof n,"")),r=null}return e=Wr(a,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function os(n,e,t,r){return n=Wr(7,n,r,e),n.lanes=t,n}function $3(n,e,t,r){n=Wr(22,n,r,e),n.elementType=HC,n.lanes=t;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var o=i._current;if(o===null)throw Error(ce(456));if(!(i._pendingVisibility&2)){var a=ga(o,2);a!==null&&(i._pendingVisibility|=2,Kn(a,o,2))}},attach:function(){var o=i._current;if(o===null)throw Error(ce(456));if(i._pendingVisibility&2){var a=ga(o,2);a!==null&&(i._pendingVisibility&=-3,Kn(a,o,2))}}};return n.stateNode=i,n}function bg(n,e,t){return n=Wr(6,n,null,e),n.lanes=t,n}function vg(n,e,t){return e=Wr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function to(n){n.flags|=4}function e2(n,e){if(e.type!=="stylesheet"||e.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!lE(e)){if(e=Kr.current,e!==null&&((ot&4194176)===ot?zi!==null:(ot&62914560)!==ot&&!(ot&536870912)||e!==zi))throw su=K0,T4;n.flags|=8192}}function eh(n,e){e!==null&&(n.flags|=4),n.flags&16384&&(e=n.tag!==22?XC():536870912,n.lanes|=e,tc|=e)}function jc(n,e){if(!st)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Tt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&31457280,r|=i.flags&31457280,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function YR(n,e,t){var r=e.pendingProps;switch(ex(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Tt(e),null;case 3:return t=e.stateNode,r=null,n!==null&&(r=n.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),xo(Yt),Yl(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(n===null||n.child===null)&&(Bc(e)?to(e):n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,si!==null&&(mb(si),si=null))),Tt(e),null;case 26:return t=e.memoizedState,n===null?(to(e),t!==null?(Tt(e),e2(e,t)):(Tt(e),e.flags&=-16777217)):t?t!==n.memoizedState?(to(e),Tt(e),e2(e,t)):(Tt(e),e.flags&=-16777217):(n.memoizedProps!==r&&to(e),Tt(e),e.flags&=-16777217),null;case 27:of(e),t=ra.current;var i=e.type;if(n!==null&&e.stateNode!=null)n.memoizedProps!==r&&to(e);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return Tt(e),null}n=Pi.current,Bc(e)?Rw(e):(n=oE(i,r,t),e.stateNode=n,to(e))}return Tt(e),null;case 5:if(of(e),t=e.type,n!==null&&e.stateNode!=null)n.memoizedProps!==r&&to(e);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return Tt(e),null}if(n=Pi.current,Bc(e))Rw(e);else{switch(i=Ef(ra.current),n){case 1:n=i.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:n=i.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":n=i.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":n=i.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":n=i.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?n.multiple=!0:r.size&&(n.size=r.size);break;default:n=typeof r.is=="string"?i.createElement(t,{is:r.is}):i.createElement(t)}}n[Bn]=e,n[ir]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)n.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=n;e:switch(En(n,t,r),t){case"button":case"input":case"select":case"textarea":n=!!r.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&to(e)}}return Tt(e),e.flags&=-16777217,null;case 6:if(n&&e.stateNode!=null)n.memoizedProps!==r&&to(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=ra.current,Bc(e)){if(n=e.stateNode,t=e.memoizedProps,r=null,i=Hn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}n[Bn]=e,n=!!(n.nodeValue===t||r!==null&&r.suppressHydrationWarning===!0||nE(n.nodeValue,t)),n||hs(e)}else n=Ef(n).createTextNode(r),n[Bn]=e,e.stateNode=n}return Tt(e),null;case 13:if(r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(i=Bc(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(ce(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[Bn]=e}else cd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),i=!1}else si!==null&&(mb(si),si=null),i=!0;if(!i)return e.flags&256?(bo(e),e):(bo(e),null)}if(bo(e),e.flags&128)return e.lanes=t,e;if(t=r!==null,n=n!==null&&n.memoizedState!==null,t){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return t!==n&&t&&(e.child.flags|=8192),eh(e,e.updateQueue),Tt(e),null;case 4:return Yl(),n===null&&Sx(e.stateNode.containerInfo),Tt(e),null;case 10:return xo(e.type),Tt(e),null;case 19:if(pn(Zt),i=e.memoizedState,i===null)return Tt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)jc(i,!1);else{if(zt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=ff(n),o!==null){for(e.flags|=128,jc(i,!1),n=o.updateQueue,e.updateQueue=n,eh(e,n),e.subtreeFlags=0,n=t,t=e.child;t!==null;)F3(t,n),t=t.sibling;return St(Zt,Zt.current&1|2),e.child}n=n.sibling}i.tail!==null&&Bi()>yf&&(e.flags|=128,r=!0,jc(i,!1),e.lanes=4194304)}else{if(!r)if(n=ff(o),n!==null){if(e.flags|=128,r=!0,n=n.updateQueue,e.updateQueue=n,eh(e,n),jc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!st)return Tt(e),null}else 2*Bi()-i.renderingStartTime>yf&&t!==536870912&&(e.flags|=128,r=!0,jc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Bi(),e.sibling=null,n=Zt.current,St(Zt,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return bo(e),tx(),r=e.memoizedState!==null,n!==null?n.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?t&536870912&&!(e.flags&128)&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),t=e.updateQueue,t!==null&&eh(e,t.retryQueue),t=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==t&&(e.flags|=2048),n!==null&&pn(is),null;case 24:return t=null,n!==null&&(t=n.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),xo(Yt),Tt(e),null;case 25:return null}throw Error(ce(156,e.tag))}function XR(n,e){switch(ex(e),e.tag){case 1:return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return xo(Yt),Yl(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 26:case 27:case 5:return of(e),null;case 13:if(bo(e),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));cd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return pn(Zt),null;case 4:return Yl(),null;case 10:return xo(e.type),null;case 22:case 23:return bo(e),tx(),n!==null&&pn(is),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 24:return xo(Yt),null;case 25:return null;default:return null}}function U3(n,e){switch(ex(e),e.tag){case 3:xo(Yt),Yl();break;case 26:case 27:case 5:of(e);break;case 4:Yl();break;case 13:bo(e);break;case 19:pn(Zt);break;case 10:xo(e.type);break;case 22:case 23:bo(e),tx(),n!==null&&pn(is);break;case 24:xo(Yt)}}var ZR={getCacheForType:function(n){var e=zn(Yt),t=e.data.get(n);return t===void 0&&(t=n(),e.data.set(n,t)),t}},JR=typeof WeakMap=="function"?WeakMap:Map,Rt=0,wt=null,et=null,ot=0,xt=0,pr=null,co=!1,gc=!1,wx=!1,To=0,zt=0,xa=0,as=0,kx=0,Vr=0,tc=0,mu=null,Ri=null,db=!1,_x=0,yf=1/0,wf=null,sa=null,th=!1,Ha=null,gu=0,hb=0,fb=null,bu=0,pb=null;function Er(){if(Rt&2&&ot!==0)return ot&-ot;if(Ve.T!==null){var n=Ql;return n!==0?n:Ex()}return e4()}function H3(){Vr===0&&(Vr=!(ot&536870912)||st?YC():536870912);var n=Kr.current;return n!==null&&(n.flags|=32),Vr}function Kn(n,e,t){(n===wt&&xt===2||n.cancelPendingCommit!==null)&&(nc(n,0),uo(n,ot,Vr,!1)),sd(n,t),(!(Rt&2)||n!==wt)&&(n===wt&&(!(Rt&2)&&(as|=t),zt===4&&uo(n,ot,Vr,!1)),Vi(n))}function W3(n,e,t){if(Rt&6)throw Error(ce(327));var r=!t&&(e&60)===0&&(e&n.expiredLanes)===0||ad(n,e),i=r?t8(n,e):xg(n,e,!0),o=r;do{if(i===0){gc&&!r&&uo(n,e,0,!1);break}else if(i===6)uo(n,e,0,!co);else{if(t=n.current.alternate,o&&!QR(t)){i=xg(n,e,!1),o=!1;continue}if(i===2){if(o=e,n.errorRecoveryDisabledLanes&o)var a=0;else a=n.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var s=n;i=mu;var l=s.current.memoizedState.isDehydrated;if(l&&(nc(s,a).flags|=256),a=xg(s,a,!1),a!==2){if(wx&&!l){s.errorRecoveryDisabledLanes|=o,as|=o,i=4;break e}o=Ri,Ri=i,o!==null&&mb(o)}i=a}if(o=!1,i!==2)continue}}if(i===1){nc(n,0),uo(n,e,0,!0);break}e:{switch(r=n,i){case 0:case 1:throw Error(ce(345));case 4:if((e&4194176)===e){uo(r,e,Vr,!co);break e}break;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(ce(329))}if(r.finishedWork=t,r.finishedLanes=e,(e&62914560)===e&&(o=_x+300-Bi(),10<o)){if(uo(r,e,Vr,!co),Sp(r,0)!==0)break e;r.timeoutHandle=iE(t2.bind(null,r,t,Ri,wf,db,e,Vr,as,tc,co,2,-0,0),o);break e}t2(r,t,Ri,wf,db,e,Vr,as,tc,co,0,-0,0)}}break}while(!0);Vi(n)}function mb(n){Ri===null?Ri=n:Ri.push.apply(Ri,n)}function t2(n,e,t,r,i,o,a,s,l,c,u,d,h){var f=e.subtreeFlags;if((f&8192||(f&16785408)===16785408)&&(Bu={stylesheets:null,count:0,unsuspend:P8},z3(e),e=z8(),e!==null)){n.cancelPendingCommit=e(r2.bind(null,n,t,r,i,a,s,l,1,d,h)),uo(n,o,a,!c);return}r2(n,t,r,i,a,s,l,u,d,h)}function QR(n){for(var e=n;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!Ir(o(),i))return!1}catch(a){return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function uo(n,e,t,r){e&=~kx,e&=~as,n.suspendedLanes|=e,n.pingedLanes&=~e,r&&(n.warmLanes|=e),r=n.expirationTimes;for(var i=e;0<i;){var o=31-Cr(i),a=1<<o;r[o]=-1,i&=~a}t!==0&&ZC(n,t,e)}function zp(){return Rt&6?!0:(pd(0),!1)}function Cx(){if(et!==null){if(xt===0)var n=et.return;else n=et,vo=Ds=null,lx(n),Ml=null,Du=0,n=et;for(;n!==null;)U3(n.alternate,n),n=n.return;et=null}}function nc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;t!==-1&&(n.timeoutHandle=-1,v8(t)),t=n.cancelPendingCommit,t!==null&&(n.cancelPendingCommit=null,t()),Cx(),wt=n,et=t=aa(n.current,null),ot=e,xt=0,pr=null,co=!1,gc=ad(n,e),wx=!1,tc=Vr=kx=as=xa=zt=0,Ri=mu=null,db=!1,e&8&&(e|=e&32);var r=n.entangledLanes;if(r!==0)for(n=n.entanglements,r&=e;0<r;){var i=31-Cr(r),o=1<<i;e|=n[i],r&=~o}return To=e,Rp(),t}function V3(n,e){Ze=null,Ve.H=$i,e===au?(e=Mw(),xt=3):e===T4?(e=Mw(),xt=4):xt=e===g3?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,pr=e,et===null&&(zt=1,bf(n,Ur(e,n.current)))}function q3(){var n=Ve.H;return Ve.H=$i,n===null?$i:n}function G3(){var n=Ve.A;return Ve.A=ZR,n}function gb(){zt=4,co||(ot&4194176)!==ot&&Kr.current!==null||(gc=!0),!(xa&134217727)&&!(as&134217727)||wt===null||uo(wt,ot,Vr,!1)}function xg(n,e,t){var r=Rt;Rt|=2;var i=q3(),o=G3();(wt!==n||ot!==e)&&(wf=null,nc(n,e)),e=!1;var a=zt;e:do try{if(xt!==0&&et!==null){var s=et,l=pr;switch(xt){case 8:Cx(),a=6;break e;case 3:case 2:case 6:Kr.current===null&&(e=!0);var c=xt;if(xt=0,pr=null,Tl(n,s,l,c),t&&gc){a=0;break e}break;default:c=xt,xt=0,pr=null,Tl(n,s,l,c)}}e8(),a=zt;break}catch(u){V3(n,u)}while(!0);return e&&n.shellSuspendCounter++,vo=Ds=null,Rt=r,Ve.H=i,Ve.A=o,et===null&&(wt=null,ot=0,Rp()),a}function e8(){for(;et!==null;)K3(et)}function t8(n,e){var t=Rt;Rt|=2;var r=q3(),i=G3();wt!==n||ot!==e?(wf=null,yf=Bi()+500,nc(n,e)):gc=ad(n,e);e:do try{if(xt!==0&&et!==null){e=et;var o=pr;t:switch(xt){case 1:xt=0,pr=null,Tl(n,e,o,1);break;case 2:if(Ow(o)){xt=0,pr=null,n2(e);break}e=function(){xt===2&&wt===n&&(xt=7),Vi(n)},o.then(e,e);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:Ow(o)?(xt=0,pr=null,n2(e)):(xt=0,pr=null,Tl(n,e,o,7));break;case 5:var a=null;switch(et.tag){case 26:a=et.memoizedState;case 5:case 27:var s=et;if(!a||lE(a)){xt=0,pr=null;var l=s.sibling;if(l!==null)et=l;else{var c=s.return;c!==null?(et=c,Lp(c)):et=null}break t}}xt=0,pr=null,Tl(n,e,o,5);break;case 6:xt=0,pr=null,Tl(n,e,o,6);break;case 8:Cx(),zt=6;break e;default:throw Error(ce(462))}}n8();break}catch(u){V3(n,u)}while(!0);return vo=Ds=null,Ve.H=r,Ve.A=i,Rt=t,et!==null?0:(wt=null,ot=0,Rp(),zt)}function n8(){for(;et!==null&&!CI();)K3(et)}function K3(n){var e=w3(n.alternate,n,To);n.memoizedProps=n.pendingProps,e===null?Lp(n):et=e}function n2(n){var e=n,t=e.alternate;switch(e.tag){case 15:case 0:e=Gw(t,e,e.pendingProps,e.type,void 0,ot);break;case 11:e=Gw(t,e,e.pendingProps,e.type.render,e.ref,ot);break;case 5:lx(e);default:U3(t,e),e=et=F3(e,To),e=w3(t,e,To)}n.memoizedProps=n.pendingProps,e===null?Lp(n):et=e}function Tl(n,e,t,r){vo=Ds=null,lx(e),Ml=null,Du=0;var i=e.return;try{if(WR(n,i,e,t,ot)){zt=1,bf(n,Ur(t,n.current)),et=null;return}}catch(o){if(i!==null)throw et=i,o;zt=1,bf(n,Ur(t,n.current)),et=null;return}e.flags&32768?(st||r===1?n=!0:gc||ot&536870912?n=!1:(co=n=!0,(r===2||r===3||r===6)&&(r=Kr.current,r!==null&&r.tag===13&&(r.flags|=16384))),Y3(e,n)):Lp(e)}function Lp(n){var e=n;do{if(e.flags&32768){Y3(e,co);return}n=e.return;var t=YR(e.alternate,e,To);if(t!==null){et=t;return}if(e=e.sibling,e!==null){et=e;return}et=e=n}while(e!==null);zt===0&&(zt=5)}function Y3(n,e){do{var t=XR(n.alternate,n);if(t!==null){t.flags&=32767,et=t;return}if(t=n.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(n=n.sibling,n!==null)){et=n;return}et=n=t}while(n!==null);zt=6,et=null}function r2(n,e,t,r,i,o,a,s,l,c){var u=Ve.T,d=Ct.p;try{Ct.p=2,Ve.T=null,r8(n,e,t,r,d,i,o,a,s,l,c)}finally{Ve.T=u,Ct.p=d}}function r8(n,e,t,r,i,o,a,s){do Ll();while(Ha!==null);if(Rt&6)throw Error(ce(327));var l=n.finishedWork;if(r=n.finishedLanes,l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(ce(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(c|=Zv,BI(n,r,c,o,a,s),n===wt&&(et=wt=null,ot=0),!(l.subtreeFlags&10256)&&!(l.flags&10256)||th||(th=!0,hb=c,fb=t,s8(af,function(){return Ll(),null})),t=(l.flags&15990)!==0,l.subtreeFlags&15990||t?(t=Ve.T,Ve.T=null,o=Ct.p,Ct.p=2,a=Rt,Rt|=4,qR(n,l),M3(l,n),TR(yb,n.containerInfo),If=!!xb,yb=xb=null,n.current=l,I3(n,l.alternate,l),EI(),Rt=a,Ct.p=o,Ve.T=t):n.current=l,th?(th=!1,Ha=n,gu=r):X3(n,c),c=n.pendingLanes,c===0&&(sa=null),RI(l.stateNode),Vi(n),e!==null)for(i=n.onRecoverableError,l=0;l<e.length;l++)c=e[l],i(c.value,{componentStack:c.stack});return gu&3&&Ll(),c=n.pendingLanes,r&4194218&&c&42?n===pb?bu++:(bu=0,pb=n):bu=0,pd(0),null}function X3(n,e){(n.pooledCacheLanes&=e)===0&&(e=n.pooledCache,e!=null&&(n.pooledCache=null,ud(e)))}function Ll(){if(Ha!==null){var n=Ha,e=hb;hb=0;var t=QC(gu),r=Ve.T,i=Ct.p;try{if(Ct.p=32>t?32:t,Ve.T=null,Ha===null)var o=!1;else{t=fb,fb=null;var a=Ha,s=gu;if(Ha=null,gu=0,Rt&6)throw Error(ce(331));var l=Rt;if(Rt|=4,j3(a.current),B3(a,a.current,s,t),Rt=l,pd(0,!1),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(od,a)}catch(c){}o=!0}return o}finally{Ct.p=i,Ve.T=r,X3(n,e)}}return!1}function i2(n,e,t){e=Ur(t,e),e=tb(n.stateNode,e,2),n=oa(n,e,2),n!==null&&(sd(n,2),Vi(n))}function bt(n,e,t){if(n.tag===3)i2(n,n,t);else for(;e!==null;){if(e.tag===3){i2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sa===null||!sa.has(r))){n=Ur(t,n),t=p3(2),r=oa(e,t,2),r!==null&&(m3(t,r,e,n),sd(r,2),Vi(r));break}}e=e.return}}function yg(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new JR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(wx=!0,i.add(t),n=i8.bind(null,n,e,t),e.then(n,n))}function i8(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),n.pingedLanes|=n.suspendedLanes&t,n.warmLanes&=~t,wt===n&&(ot&t)===t&&(zt===4||zt===3&&(ot&62914560)===ot&&300>Bi()-_x?!(Rt&2)&&nc(n,0):kx|=t,tc===ot&&(tc=0)),Vi(n)}function Z3(n,e){e===0&&(e=XC()),n=ga(n,e),n!==null&&(sd(n,e),Vi(n))}function o8(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Z3(n,t)}function a8(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;case 22:r=n.stateNode._retryCache;break;default:throw Error(ce(314))}r!==null&&r.delete(e),Z3(n,t)}function s8(n,e){return Hv(n,e)}var kf=null,al=null,bb=!1,_f=!1,wg=!1,ss=0;function Vi(n){n!==al&&n.next===null&&(al===null?kf=al=n:al=al.next=n),_f=!0,bb||(bb=!0,c8(l8))}function pd(n,e){if(!wg&&_f){wg=!0;do for(var t=!1,r=kf;r!==null;){if(n!==0){var i=r.pendingLanes;if(i===0)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-Cr(42|n)+1)-1,o&=i&~(a&~s),o=o&201326677?o&201326677|1:o?o|2:0}o!==0&&(t=!0,o2(r,o))}else o=ot,o=Sp(r,r===wt?o:0),!(o&3)||ad(r,o)||(t=!0,o2(r,o));r=r.next}while(t);wg=!1}}function l8(){_f=bb=!1;var n=0;ss!==0&&(b8()&&(n=ss),ss=0);for(var e=Bi(),t=null,r=kf;r!==null;){var i=r.next,o=J3(r,e);o===0?(r.next=null,t===null?kf=i:t.next=i,i===null&&(al=t)):(t=r,(n!==0||o&3)&&(_f=!0)),r=i}pd(n)}function J3(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes&-62914561;0<o;){var a=31-Cr(o),s=1<<a,l=i[a];l===-1?(!(s&t)||s&r)&&(i[a]=PI(s,e)):l<=e&&(n.expiredLanes|=s),o&=~s}if(e=wt,t=ot,t=Sp(n,n===e?t:0),r=n.callbackNode,t===0||n===e&&xt===2||n.cancelPendingCommit!==null)return r!==null&&r!==null&&Zm(r),n.callbackNode=null,n.callbackPriority=0;if(!(t&3)||ad(n,t)){if(e=t&-t,e===n.callbackPriority)return e;switch(r!==null&&Zm(r),QC(t)){case 2:case 8:t=GC;break;case 32:t=af;break;case 268435456:t=KC;break;default:t=af}return r=Q3.bind(null,n),t=Hv(t,r),n.callbackPriority=e,n.callbackNode=t,e}return r!==null&&r!==null&&Zm(r),n.callbackPriority=2,n.callbackNode=null,2}function Q3(n,e){var t=n.callbackNode;if(Ll()&&n.callbackNode!==t)return null;var r=ot;return r=Sp(n,n===wt?r:0),r===0?null:(W3(n,r,e),J3(n,Bi()),n.callbackNode!=null&&n.callbackNode===t?Q3.bind(null,n):null)}function o2(n,e){if(Ll())return null;W3(n,e,!0)}function c8(n){x8(function(){Rt&6?Hv(qC,n):n()})}function Ex(){return ss===0&&(ss=YC()),ss}function a2(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Lh(""+n)}function s2(n,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,n.id&&t.setAttribute("form",n.id),e.parentNode.insertBefore(t,e),n=new FormData(n),t.parentNode.removeChild(t),n}function u8(n,e,t,r,i){if(e==="submit"&&t&&t.stateNode===i){var o=a2((i[ir]||null).action),a=r.submitter;a&&(e=(e=a[ir]||null)?a2(e.formAction):a.getAttribute("formAction"),e!==null&&(o=e,a=null));var s=new Tp("action","action",null,r,i);n.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ss!==0){var l=a?s2(i,a):new FormData(i);Q0(t,{pending:!0,data:l,method:i.method,action:o},null,l)}}else typeof o=="function"&&(s.preventDefault(),l=a?s2(i,a):new FormData(i),Q0(t,{pending:!0,data:l,method:i.method,action:o},o,l))},currentTarget:i}]})}}for(var kg=0;kg<Aw.length;kg++){var _g=Aw[kg],d8=_g.toLowerCase(),h8=_g[0].toUpperCase()+_g.slice(1);bi(d8,"on"+h8)}bi(y4,"onAnimationEnd");bi(w4,"onAnimationIteration");bi(k4,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(IR,"onTransitionRun");bi(RR,"onTransitionStart");bi(DR,"onTransitionCancel");bi(_4,"onTransitionEnd");Xl("onMouseEnter",["mouseout","mouseover"]);Xl("onMouseLeave",["mouseout","mouseover"]);Xl("onPointerEnter",["pointerout","pointerover"]);Xl("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function eE(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){gf(u)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){gf(u)}i.currentTarget=null,o=l}}}}function it(n,e){var t=e[F0];t===void 0&&(t=e[F0]=new Set);var r=n+"__bubble";t.has(r)||(tE(e,n,2,!1),t.add(r))}function Cg(n,e,t){var r=0;e&&(r|=4),tE(t,n,r,e)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Sx(n){if(!n[nh]){n[nh]=!0,t4.forEach(function(t){t!=="selectionchange"&&(f8.has(t)||Cg(t,!1,n),Cg(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[nh]||(e[nh]=!0,Cg("selectionchange",!1,e))}}function tE(n,e,t,r){switch(fE(e)){case 2:var i=N8;break;case 8:i=F8;break;default:i=Rx}t=i.bind(null,e,t,n),i=void 0,!W0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Eg(n,e,t,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ga(s),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=o=a;continue e}s=s.parentNode}}r=r.return}c4(function(){var c=o,u=qv(t),d=[];e:{var h=C4.get(n);if(h!==void 0){var f=Tp,p=n;switch(n){case"keypress":if(Nh(t)===0)break e;case"keydown":case"keyup":f=aR;break;case"focusin":p="focus",f=ng;break;case"focusout":p="blur",f=ng;break;case"beforeblur":case"afterblur":f=ng;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=gw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=KI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=cR;break;case y4:case w4:case k4:f=ZI;break;case _4:f=dR;break;case"scroll":case"scrollend":f=qI;break;case"wheel":f=fR;break;case"copy":case"cut":case"paste":f=QI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=vw;break;case"toggle":case"beforetoggle":f=mR}var m=(e&4)!==0,b=!m&&(n==="scroll"||n==="scrollend"),g=m?h!==null?h+"Capture":null:h;m=[];for(var v=c,x;v!==null;){var y=v;if(x=y.stateNode,y=y.tag,y!==5&&y!==26&&y!==27||x===null||g===null||(y=Tu(v,g),y!=null&&m.push(Pu(v,y,x))),b)break;v=v.return}0<m.length&&(h=new f(h,p,null,t,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",h&&t!==H0&&(p=t.relatedTarget||t.fromElement)&&(Ga(p)||p[pc]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=t.relatedTarget||t.toElement,f=c,p=p?Ga(p):null,p!==null&&(b=fc(p),m=p.tag,p!==b||m!==5&&m!==27&&m!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=gw,y="onMouseLeave",g="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(m=vw,y="onPointerLeave",g="onPointerEnter",v="pointer"),b=f==null?h:Jc(f),x=p==null?h:Jc(p),h=new m(y,v+"leave",f,t,u),h.target=b,h.relatedTarget=x,y=null,Ga(u)===c&&(m=new m(g,v+"enter",p,t,u),m.target=x,m.relatedTarget=b,y=m),b=y,f&&p)t:{for(m=f,g=p,v=0,x=m;x;x=Vs(x))v++;for(x=0,y=g;y;y=Vs(y))x++;for(;0<v-x;)m=Vs(m),v--;for(;0<x-v;)g=Vs(g),x--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=Vs(m),g=Vs(g)}m=null}else m=null;f!==null&&l2(d,h,f,m,!1),p!==null&&b!==null&&l2(d,b,p,m,!0)}}e:{if(h=c?Jc(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var w=kw;else if(ww(h))if(m4)w=ER;else{w=_R;var k=kR}else f=h.nodeName,!f||f.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&Vv(c.elementType)&&(w=kw):w=CR;if(w&&(w=w(n,c))){p4(d,w,t,u);break e}k&&k(n,h,c),n==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&U0(h,"number",h.value)}switch(k=c?Jc(c):window,n){case"focusin":(ww(k)||k.contentEditable==="true")&&(wl=k,V0=c,ou=null);break;case"focusout":ou=V0=wl=null;break;case"mousedown":q0=!0;break;case"contextmenu":case"mouseup":case"dragend":q0=!1,Tw(d,t,u);break;case"selectionchange":if(AR)break;case"keydown":case"keyup":Tw(d,t,u)}var _;if(Yv)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else yl?h4(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(d4&&t.locale!=="ko"&&(yl||T!=="onCompositionStart"?T==="onCompositionEnd"&&yl&&(_=u4()):(ea=u,Gv="value"in ea?ea.value:ea.textContent,yl=!0)),k=Cf(c,T),0<k.length&&(T=new bw(T,n,null,t,u),d.push({event:T,listeners:k}),_?T.data=_:(_=f4(t),_!==null&&(T.data=_)))),(_=bR?vR(n,t):xR(n,t))&&(T=Cf(c,"onBeforeInput"),0<T.length&&(k=new bw("onBeforeInput","beforeinput",null,t,u),d.push({event:k,listeners:T}),k.data=_)),u8(d,n,c,t,u)}eE(d,e)})}function Pu(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Cf(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=Tu(n,t),i!=null&&r.unshift(Pu(n,i,o)),i=Tu(n,e),i!=null&&r.push(Pu(n,i,o))),n=n.return}return r}function Vs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function l2(n,e,t,r,i){for(var o=e._reactName,a=[];t!==null&&t!==r;){var s=t,l=s.alternate,c=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||c===null||(l=c,i?(c=Tu(t,o),c!=null&&a.unshift(Pu(t,c,l))):i||(c=Tu(t,o),c!=null&&a.push(Pu(t,c,l)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var p8=/\r\n?/g,m8=/\u0000|\uFFFD/g;function c2(n){return(typeof n=="string"?n:""+n).replace(p8,"\n").replace(m8,"")}function nE(n,e){return e=c2(e),c2(n)===e}function jp(){}function ft(n,e,t,r,i,o){switch(t){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Zl(n,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Zl(n,""+r);break;case"className":Kd(n,"class",r);break;case"tabIndex":Kd(n,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Kd(n,t,r);break;case"style":l4(n,r,o);break;case"data":if(e!=="object"){Kd(n,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||t!=="href")){n.removeAttribute(t);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(t);break}r=Lh(""+r),n.setAttribute(t,r);break;case"action":case"formAction":if(typeof r=="function"){n.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(t==="formAction"?(e!=="input"&&ft(n,e,"name",i.name,i,null),ft(n,e,"formEncType",i.formEncType,i,null),ft(n,e,"formMethod",i.formMethod,i,null),ft(n,e,"formTarget",i.formTarget,i,null)):(ft(n,e,"encType",i.encType,i,null),ft(n,e,"method",i.method,i,null),ft(n,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(t);break}r=Lh(""+r),n.setAttribute(t,r);break;case"onClick":r!=null&&(n.onclick=jp);break;case"onScroll":r!=null&&it("scroll",n);break;case"onScrollEnd":r!=null&&it("scrollend",n);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ce(61));if(t=r.__html,t!=null){if(i.children!=null)throw Error(ce(60));n.innerHTML=t}}break;case"multiple":n.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":n.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){n.removeAttribute("xlink:href");break}t=Lh(""+r),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(t,""+r):n.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(t,""):n.removeAttribute(t);break;case"capture":case"download":r===!0?n.setAttribute(t,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(t,r):n.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?n.setAttribute(t,r):n.removeAttribute(t);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?n.removeAttribute(t):n.setAttribute(t,r);break;case"popover":it("beforetoggle",n),it("toggle",n),zh(n,"popover",r);break;case"xlinkActuate":Ji(n,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ji(n,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ji(n,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ji(n,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ji(n,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ji(n,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ji(n,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ji(n,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ji(n,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":zh(n,"is",r);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=WI.get(t)||t,zh(n,t,r))}}function vb(n,e,t,r,i,o){switch(t){case"style":l4(n,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ce(61));if(t=r.__html,t!=null){if(i.children!=null)throw Error(ce(60));n.innerHTML=t}}break;case"children":typeof r=="string"?Zl(n,r):(typeof r=="number"||typeof r=="bigint")&&Zl(n,""+r);break;case"onScroll":r!=null&&it("scroll",n);break;case"onScrollEnd":r!=null&&it("scrollend",n);break;case"onClick":r!=null&&(n.onclick=jp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!n4.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(i=t.endsWith("Capture"),e=t.slice(2,i?t.length-7:void 0),o=n[ir]||null,o=o!=null?o[t]:null,typeof o=="function"&&n.removeEventListener(e,o,i),typeof r=="function")){typeof o!="function"&&o!==null&&(t in n?n[t]=null:n.hasAttribute(t)&&n.removeAttribute(t)),n.addEventListener(e,r,i);break e}t in n?n[t]=r:r===!0?n.setAttribute(t,""):zh(n,t,r)}}}function En(n,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",n),it("load",n);var r=!1,i=!1,o;for(o in t)if(t.hasOwnProperty(o)){var a=t[o];if(a!=null)switch(o){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ce(137,e));default:ft(n,e,o,a,t,null)}}i&&ft(n,e,"srcSet",t.srcSet,t,null),r&&ft(n,e,"src",t.src,t,null);return;case"input":it("invalid",n);var s=o=a=i=null,l=null,c=null;for(r in t)if(t.hasOwnProperty(r)){var u=t[r];if(u!=null)switch(r){case"name":i=u;break;case"type":a=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":o=u;break;case"defaultValue":s=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(ce(137,e));break;default:ft(n,e,r,u,t,null)}}o4(n,o,s,l,c,a,i,!1),sf(n);return;case"select":it("invalid",n),r=a=o=null;for(i in t)if(t.hasOwnProperty(i)&&(s=t[i],s!=null))switch(i){case"value":o=s;break;case"defaultValue":a=s;break;case"multiple":r=s;default:ft(n,e,i,s,t,null)}e=o,t=a,n.multiple=!!r,e!=null?Dl(n,!!r,e,!1):t!=null&&Dl(n,!!r,t,!0);return;case"textarea":it("invalid",n),o=i=r=null;for(a in t)if(t.hasOwnProperty(a)&&(s=t[a],s!=null))switch(a){case"value":r=s;break;case"defaultValue":i=s;break;case"children":o=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(ce(91));break;default:ft(n,e,a,s,t,null)}s4(n,r,i,o),sf(n);return;case"option":for(l in t)if(t.hasOwnProperty(l)&&(r=t[l],r!=null))switch(l){case"selected":n.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ft(n,e,l,r,t,null)}return;case"dialog":it("cancel",n),it("close",n);break;case"iframe":case"object":it("load",n);break;case"video":case"audio":for(r=0;r<Mu.length;r++)it(Mu[r],n);break;case"image":it("error",n),it("load",n);break;case"details":it("toggle",n);break;case"embed":case"source":case"link":it("error",n),it("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in t)if(t.hasOwnProperty(c)&&(r=t[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(ce(137,e));default:ft(n,e,c,r,t,null)}return;default:if(Vv(e)){for(u in t)t.hasOwnProperty(u)&&(r=t[u],r!==void 0&&vb(n,e,u,r,t,void 0));return}}for(s in t)t.hasOwnProperty(s)&&(r=t[s],r!=null&&ft(n,e,s,r,t,null))}function g8(n,e,t,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,s=null,l=null,c=null,u=null;for(f in t){var d=t[f];if(t.hasOwnProperty(f)&&d!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(f)||ft(n,e,f,null,r,d)}}for(var h in r){var f=r[h];if(d=t[h],r.hasOwnProperty(h)&&(f!=null||d!=null))switch(h){case"type":o=f;break;case"name":i=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":a=f;break;case"defaultValue":s=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(ce(137,e));break;default:f!==d&&ft(n,e,h,f,r,d)}}$0(n,a,s,l,c,u,o,i);return;case"select":f=a=s=h=null;for(o in t)if(l=t[o],t.hasOwnProperty(o)&&l!=null)switch(o){case"value":break;case"multiple":f=l;default:r.hasOwnProperty(o)||ft(n,e,o,null,r,l)}for(i in r)if(o=r[i],l=t[i],r.hasOwnProperty(i)&&(o!=null||l!=null))switch(i){case"value":h=o;break;case"defaultValue":s=o;break;case"multiple":a=o;default:o!==l&&ft(n,e,i,o,r,l)}e=s,t=a,r=f,h!=null?Dl(n,!!t,h,!1):!!r!=!!t&&(e!=null?Dl(n,!!t,e,!0):Dl(n,!!t,t?[]:"",!1));return;case"textarea":f=h=null;for(s in t)if(i=t[s],t.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:ft(n,e,s,null,r,i)}for(a in r)if(i=r[a],o=t[a],r.hasOwnProperty(a)&&(i!=null||o!=null))switch(a){case"value":h=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(ce(91));break;default:i!==o&&ft(n,e,a,i,r,o)}a4(n,h,f);return;case"option":for(var p in t)if(h=t[p],t.hasOwnProperty(p)&&h!=null&&!r.hasOwnProperty(p))switch(p){case"selected":n.selected=!1;break;default:ft(n,e,p,null,r,h)}for(l in r)if(h=r[l],f=t[l],r.hasOwnProperty(l)&&h!==f&&(h!=null||f!=null))switch(l){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ft(n,e,l,h,r,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in t)h=t[m],t.hasOwnProperty(m)&&h!=null&&!r.hasOwnProperty(m)&&ft(n,e,m,null,r,h);for(c in r)if(h=r[c],f=t[c],r.hasOwnProperty(c)&&h!==f&&(h!=null||f!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(ce(137,e));break;default:ft(n,e,c,h,r,f)}return;default:if(Vv(e)){for(var b in t)h=t[b],t.hasOwnProperty(b)&&h!==void 0&&!r.hasOwnProperty(b)&&vb(n,e,b,void 0,r,h);for(u in r)h=r[u],f=t[u],!r.hasOwnProperty(u)||h===f||h===void 0&&f===void 0||vb(n,e,u,h,r,f);return}}for(var g in t)h=t[g],t.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g)&&ft(n,e,g,null,r,h);for(d in r)h=r[d],f=t[d],!r.hasOwnProperty(d)||h===f||h==null&&f==null||ft(n,e,d,h,r,f)}var xb=null,yb=null;function Ef(n){return n.nodeType===9?n:n.ownerDocument}function u2(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rE(n,e){if(n===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&e==="foreignObject"?0:n}function wb(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sg=null;function b8(){var n=window.event;return n&&n.type==="popstate"?n===Sg?!1:(Sg=n,!0):(Sg=null,!1)}var iE=typeof setTimeout=="function"?setTimeout:void 0,v8=typeof clearTimeout=="function"?clearTimeout:void 0,d2=typeof Promise=="function"?Promise:void 0,x8=typeof queueMicrotask=="function"?queueMicrotask:typeof d2<"u"?function(n){return d2.resolve(null).then(n).catch(y8)}:iE;function y8(n){setTimeout(function(){throw n})}function Tg(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Nu(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Nu(e)}function kb(n){var e=n.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":kb(t),Wv(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}n.removeChild(t)}}function w8(n,e,t,r){for(;n.nodeType===1;){var i=t;if(n.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(r){if(!n[Su])switch(e){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(o=n.getAttribute("rel"),o==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(o!==i.rel||n.getAttribute("href")!==(i.href==null?null:i.href)||n.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||n.getAttribute("title")!==(i.title==null?null:i.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(o=n.getAttribute("src"),(o!==(i.src==null?null:i.src)||n.getAttribute("type")!==(i.type==null?null:i.type)||n.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(e==="input"&&n.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&n.getAttribute("name")===o)return n}else return n;if(n=hi(n.nextSibling),n===null)break}return null}function k8(n,e,t){if(e==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!t||(n=hi(n.nextSibling),n===null))return null;return n}function hi(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return n}function h2(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}function oE(n,e,t){switch(e=Ef(t),n){case"html":if(n=e.documentElement,!n)throw Error(ce(452));return n;case"head":if(n=e.head,!n)throw Error(ce(453));return n;case"body":if(n=e.body,!n)throw Error(ce(454));return n;default:throw Error(ce(451))}}var Yr=new Map,f2=new Set;function Sf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Ao=Ct.d;Ct.d={f:_8,r:C8,D:E8,C:S8,L:T8,m:A8,X:R8,S:I8,M:D8};function _8(){var n=Ao.f(),e=zp();return n||e}function C8(n){var e=mc(n);e!==null&&e.tag===5&&e.type==="form"?o3(e):Ao.r(n)}var bc=typeof document>"u"?null:document;function aE(n,e,t){var r=bc;if(r&&typeof e=="string"&&e){var i=$r(e);i='link[rel="'+n+'"][href="'+i+'"]',typeof t=="string"&&(i+='[crossorigin="'+t+'"]'),f2.has(i)||(f2.add(i),n={rel:n,crossOrigin:t,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),En(e,"link",n),dn(e),r.head.appendChild(e)))}}function E8(n){Ao.D(n),aE("dns-prefetch",n,null)}function S8(n,e){Ao.C(n,e),aE("preconnect",n,e)}function T8(n,e,t){Ao.L(n,e,t);var r=bc;if(r&&n&&e){var i='link[rel="preload"][as="'+$r(e)+'"]';e==="image"&&t&&t.imageSrcSet?(i+='[imagesrcset="'+$r(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(i+='[imagesizes="'+$r(t.imageSizes)+'"]')):i+='[href="'+$r(n)+'"]';var o=i;switch(e){case"style":o=rc(n);break;case"script":o=vc(n)}Yr.has(o)||(n=Et({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:n,as:e},t),Yr.set(o,n),r.querySelector(i)!==null||e==="style"&&r.querySelector(md(o))||e==="script"&&r.querySelector(gd(o))||(e=r.createElement("link"),En(e,"link",n),dn(e),r.head.appendChild(e)))}}function A8(n,e){Ao.m(n,e);var t=bc;if(t&&n){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+$r(r)+'"][href="'+$r(n)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=vc(n)}if(!Yr.has(o)&&(n=Et({rel:"modulepreload",href:n},e),Yr.set(o,n),t.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(gd(o)))return}r=t.createElement("link"),En(r,"link",n),dn(r),t.head.appendChild(r)}}}function I8(n,e,t){Ao.S(n,e,t);var r=bc;if(r&&n){var i=Rl(r).hoistableStyles,o=rc(n);e=e||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(md(o)))s.loading=5;else{n=Et({rel:"stylesheet",href:n,"data-precedence":e},t),(t=Yr.get(o))&&Tx(n,t);var l=a=r.createElement("link");dn(l),En(l,"link",n),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Vh(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}}function R8(n,e){Ao.X(n,e);var t=bc;if(t&&n){var r=Rl(t).hoistableScripts,i=vc(n),o=r.get(i);o||(o=t.querySelector(gd(i)),o||(n=Et({src:n,async:!0},e),(e=Yr.get(i))&&Ax(n,e),o=t.createElement("script"),dn(o),En(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function D8(n,e){Ao.M(n,e);var t=bc;if(t&&n){var r=Rl(t).hoistableScripts,i=vc(n),o=r.get(i);o||(o=t.querySelector(gd(i)),o||(n=Et({src:n,async:!0,type:"module"},e),(e=Yr.get(i))&&Ax(n,e),o=t.createElement("script"),dn(o),En(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function p2(n,e,t,r){var i=(i=ra.current)?Sf(i):null;if(!i)throw Error(ce(446));switch(n){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=rc(t.href),t=Rl(i).hoistableStyles,r=t.get(e),r||(r={type:"style",instance:null,count:0,state:null},t.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){n=rc(t.href);var o=Rl(i).hoistableStyles,a=o.get(n);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(n,a),(o=i.querySelector(md(n)))&&!o._p&&(a.instance=o,a.state.loading=5),Yr.has(n)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},Yr.set(n,t),o||O8(i,n,t,a.state))),e&&r===null)throw Error(ce(528,""));return a}if(e&&r!==null)throw Error(ce(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=vc(t),t=Rl(i).hoistableScripts,r=t.get(e),r||(r={type:"script",instance:null,count:0,state:null},t.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(ce(444,n))}}function rc(n){return'href="'+$r(n)+'"'}function md(n){return'link[rel="stylesheet"]['+n+"]"}function sE(n){return Et({},n,{"data-precedence":n.precedence,precedence:null})}function O8(n,e,t,r){n.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=n.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),En(e,"link",t),dn(e),n.head.appendChild(e))}function vc(n){return'[src="'+$r(n)+'"]'}function gd(n){return"script[async]"+n}function m2(n,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var r=n.querySelector('style[data-href~="'+$r(t.href)+'"]');if(r)return e.instance=r,dn(r),r;var i=Et({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return r=(n.ownerDocument||n).createElement("style"),dn(r),En(r,"style",i),Vh(r,t.precedence,n),e.instance=r;case"stylesheet":i=rc(t.href);var o=n.querySelector(md(i));if(o)return e.state.loading|=4,e.instance=o,dn(o),o;r=sE(t),(i=Yr.get(i))&&Tx(r,i),o=(n.ownerDocument||n).createElement("link"),dn(o);var a=o;return a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),En(o,"link",r),e.state.loading|=4,Vh(o,t.precedence,n),e.instance=o;case"script":return o=vc(t.src),(i=n.querySelector(gd(o)))?(e.instance=i,dn(i),i):(r=t,(i=Yr.get(o))&&(r=Et({},t),Ax(r,i)),n=n.ownerDocument||n,i=n.createElement("script"),dn(i),En(i,"link",r),n.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(ce(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Vh(r,t.precedence,n));return e.instance}function Vh(n,e,t){for(var r=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===e)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(n,o.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(n,e.firstChild))}function Tx(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.title==null&&(n.title=e.title)}function Ax(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.integrity==null&&(n.integrity=e.integrity)}var qh=null;function g2(n,e,t){if(qh===null){var r=new Map,i=qh=new Map;i.set(t,r)}else i=qh,r=i.get(t),r||(r=new Map,i.set(t,r));if(r.has(n))return r;for(r.set(n,null),t=t.getElementsByTagName(n),i=0;i<t.length;i++){var o=t[i];if(!(o[Su]||o[Bn]||n==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var a=o.getAttribute(e)||"";a=n+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function b2(n,e,t){n=n.ownerDocument||n,n.head.insertBefore(t,e==="title"?n.querySelector("head > title"):null)}function M8(n,e,t){if(t===1||e.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return n=e.disabled,typeof e.precedence=="string"&&n==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function lE(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var Bu=null;function P8(){}function B8(n,e,t){if(Bu===null)throw Error(ce(475));var r=Bu;if(e.type==="stylesheet"&&(typeof t.media!="string"||matchMedia(t.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=rc(t.href),o=n.querySelector(md(i));if(o){n=o._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(r.count++,r=Tf.bind(r),n.then(r,r)),e.state.loading|=4,e.instance=o,dn(o);return}o=n.ownerDocument||n,t=sE(t),(i=Yr.get(i))&&Tx(t,i),o=o.createElement("link"),dn(o);var a=o;a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),En(o,"link",t),e.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,n),(n=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Tf.bind(r),n.addEventListener("load",e),n.addEventListener("error",e))}}function z8(){if(Bu===null)throw Error(ce(475));var n=Bu;return n.stylesheets&&n.count===0&&_b(n,n.stylesheets),0<n.count?function(e){var t=setTimeout(function(){if(n.stylesheets&&_b(n,n.stylesheets),n.unsuspend){var r=n.unsuspend;n.unsuspend=null,r()}},6e4);return n.unsuspend=e,function(){n.unsuspend=null,clearTimeout(t)}}:null}function Tf(){if(this.count--,this.count===0){if(this.stylesheets)_b(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Af=null;function _b(n,e){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Af=new Map,e.forEach(L8,n),Af=null,Tf.call(n))}function L8(n,e){if(!(e.state.loading&4)){var t=Af.get(n);if(t)var r=t.get(null);else{t=new Map,Af.set(n,t);for(var i=n.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(t.set(a.dataset.precedence,a),r=a)}r&&t.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),o=t.get(a)||r,o===r&&t.set(null,i),t.set(a,i),this.count++,r=Tf.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(i,n.firstChild)),e.state.loading|=4}}var zu={$$typeof:po,Provider:null,Consumer:null,_currentValue:ns,_currentValue2:ns,_threadCount:0};function j8(n,e,t,r,i,o,a,s){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jm(0),this.hiddenUpdates=Jm(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function cE(n,e,t,r,i,o,a,s,l,c,u,d){return n=new j8(n,e,t,a,s,l,c,d),e=1,o===!0&&(e|=24),o=Wr(3,null,null,e),n.current=o,o.stateNode=n,e=nx(),e.refCount++,n.pooledCache=e,e.refCount++,o.memoizedState={element:r,isDehydrated:t,cache:e},bx(o),n}function uE(n){return n?(n=Cl,n):Cl}function dE(n,e,t,r,i,o){i=uE(i),r.context===null?r.context=i:r.pendingContext=i,r=ia(e),r.payload={element:t},o=o===void 0?null:o,o!==null&&(r.callback=o),t=oa(n,r,e),t!==null&&(Kn(t,n,e),du(t,n,e))}function v2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Ix(n,e){v2(n,e),(n=n.alternate)&&v2(n,e)}function hE(n){if(n.tag===13){var e=ga(n,67108864);e!==null&&Kn(e,n,67108864),Ix(n,67108864)}}var If=!0;function N8(n,e,t,r){var i=Ve.T;Ve.T=null;var o=Ct.p;try{Ct.p=2,Rx(n,e,t,r)}finally{Ct.p=o,Ve.T=i}}function F8(n,e,t,r){var i=Ve.T;Ve.T=null;var o=Ct.p;try{Ct.p=8,Rx(n,e,t,r)}finally{Ct.p=o,Ve.T=i}}function Rx(n,e,t,r){if(If){var i=Cb(r);if(i===null)Eg(n,e,r,Rf,t),x2(n,r);else if(U8(i,n,e,t,r))r.stopPropagation();else if(x2(n,r),e&4&&-1<$8.indexOf(n)){for(;i!==null;){var o=mc(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var a=La(o.pendingLanes);if(a!==0){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-Cr(a);s.entanglements[1]|=l,a&=~l}Vi(o),!(Rt&6)&&(yf=Bi()+500,pd(0))}}break;case 13:s=ga(o,2),s!==null&&Kn(s,o,2),zp(),Ix(o,2)}if(o=Cb(r),o===null&&Eg(n,e,r,Rf,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else Eg(n,e,r,null,t)}}function Cb(n){return n=qv(n),Dx(n)}var Rf=null;function Dx(n){if(Rf=null,n=Ga(n),n!==null){var e=fc(n);if(e===null)n=null;else{var t=e.tag;if(t===13){if(n=WC(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null)}}return Rf=n,null}function fE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(SI()){case qC:return 2;case GC:return 8;case af:case TI:return 32;case KC:return 268435456;default:return 32}default:return 32}}var Eb=!1,la=null,ca=null,ua=null,Lu=new Map,ju=new Map,Xo=[],$8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x2(n,e){switch(n){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Lu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(e.pointerId)}}function Nc(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=mc(e),e!==null&&hE(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function U8(n,e,t,r,i){switch(e){case"focusin":return la=Nc(la,n,e,t,r,i),!0;case"dragenter":return ca=Nc(ca,n,e,t,r,i),!0;case"mouseover":return ua=Nc(ua,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return Lu.set(o,Nc(Lu.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ju.set(o,Nc(ju.get(o)||null,n,e,t,r,i)),!0}return!1}function pE(n){var e=Ga(n.target);if(e!==null){var t=fc(e);if(t!==null){if(e=t.tag,e===13){if(e=WC(t),e!==null){n.blockedOn=e,zI(n.priority,function(){if(t.tag===13){var r=Er(),i=ga(t,r);i!==null&&Kn(i,t,r),Ix(t,r)}});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gh(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Cb(n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);H0=r,t.target.dispatchEvent(r),H0=null}else return e=mc(t),e!==null&&hE(e),n.blockedOn=t,!1;e.shift()}return!0}function y2(n,e,t){Gh(n)&&t.delete(e)}function H8(){Eb=!1,la!==null&&Gh(la)&&(la=null),ca!==null&&Gh(ca)&&(ca=null),ua!==null&&Gh(ua)&&(ua=null),Lu.forEach(y2),ju.forEach(y2)}function rh(n,e){n.blockedOn===e&&(n.blockedOn=null,Eb||(Eb=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,H8)))}var ih=null;function w2(n){ih!==n&&(ih=n,en.unstable_scheduleCallback(en.unstable_NormalPriority,function(){ih===n&&(ih=null);for(var e=0;e<n.length;e+=3){var t=n[e],r=n[e+1],i=n[e+2];if(typeof r!="function"){if(Dx(r||t)===null)continue;break}var o=mc(t);o!==null&&(n.splice(e,3),e-=3,Q0(o,{pending:!0,data:i,method:t.method,action:r},r,i))}}))}function Nu(n){function e(l){return rh(l,n)}la!==null&&rh(la,n),ca!==null&&rh(ca,n),ua!==null&&rh(ua,n),Lu.forEach(e),ju.forEach(e);for(var t=0;t<Xo.length;t++){var r=Xo[t];r.blockedOn===n&&(r.blockedOn=null)}for(;0<Xo.length&&(t=Xo[0],t.blockedOn===null);)pE(t),t.blockedOn===null&&Xo.shift();if(t=(n.ownerDocument||n).$$reactFormReplay,t!=null)for(r=0;r<t.length;r+=3){var i=t[r],o=t[r+1],a=i[ir]||null;if(typeof o=="function")a||w2(t);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[ir]||null)s=a.formAction;else if(Dx(i)!==null)continue}else s=a.action;typeof s=="function"?t[r+1]=s:(t.splice(r,3),r-=3),w2(t)}}}function Ox(n){this._internalRoot=n}Np.prototype.render=Ox.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ce(409));var t=e.current,r=Er();dE(t,r,n,e,null,null)};Np.prototype.unmount=Ox.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;n.tag===0&&Ll(),dE(n.current,2,null,n,null,null),zp(),e[pc]=null}};function Np(n){this._internalRoot=n}Np.prototype.unstable_scheduleHydration=function(n){if(n){var e=e4();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Xo.length&&e!==0&&e<Xo[t].priority;t++);Xo.splice(t,0,n),t===0&&pE(n)}};var k2=NC.version;if(k2!=="19.0.0")throw Error(ce(527,k2,"19.0.0"));Ct.findDOMNode=function(n){var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ce(188)):(n=Object.keys(n).join(","),Error(ce(268,n)));return n=_I(e),n=n!==null?VC(n):null,n=n===null?null:n.stateNode,n};var W8={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Ve,findFiberByHostInstance:Ga,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{od=oh.inject(W8),_r=oh}catch(n){}}Cp.createRoot=function(n,e){if(!FC(n))throw Error(ce(299));var t=!1,r="",i=d3,o=h3,a=f3,s=null;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(s=e.unstable_transitionCallbacks)),e=cE(n,1,!1,null,null,t,r,i,o,a,s,null),n[pc]=e.current,Sx(n.nodeType===8?n.parentNode:n),new Ox(e)};Cp.hydrateRoot=function(n,e,t){if(!FC(n))throw Error(ce(299));var r=!1,i="",o=d3,a=h3,s=f3,l=null,c=null;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks),t.formState!==void 0&&(c=t.formState)),e=cE(n,1,!0,e,t!=null?t:null,r,i,o,a,s,l,c),e.context=uE(null),t=e.current,r=Er(),i=ia(r),i.callback=null,oa(t,i,r),e.current.lanes=r,sd(e,r),Vi(e),n[pc]=e.current,Sx(n),new Np(e)};Cp.version="19.0.0";function mE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mE)}catch(n){console.error(n)}}mE(),MC.exports=Cp;var V8=MC.exports;const q8="modulepreload",G8=function(n){return"/Cephaline-Supabase/"+n},_2={},Xt=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(t.map(s=>{if(s=G8(s),s in _2)return;_2[s]=!0;const l=s.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(s,'"]').concat(c)))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":q8,l||(u.as="script",u.crossOrigin=""),u.href=s,a&&u.setAttribute("nonce",a),document.head.appendChild(u),l)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error("Unable to preload CSS for ".concat(s))))})}))}return i.then(()=>e()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};var ci={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},K8=Object.defineProperty,Y8=(n,e)=>{for(var t in e)K8(n,t,{get:e[t],enumerable:!0})},X8={isBrowser:!0},gE=new WeakMap,Sa=n=>gE.get(n),Z8=(n,e)=>{const t={$flags$:0,$hostElement$:n,$cmpMeta$:e,$instanceValues$:new Map};return gE.set(n,t)},C2=(n,e)=>e in n,bd=(n,e)=>(0,console.error)(n,e),Df=new Map,bE=[],J8="slot-fb{display:contents}slot-fb[hidden]{display:none}",E2="http://www.w3.org/1999/xlink",vd=typeof window<"u"?window:{},fi=vd.document||{head:{}},Ae=vd.HTMLElement||class{},In={$flags$:0,$resourcesUrl$:"",jmp:n=>n(),raf:n=>requestAnimationFrame(n),ael:(n,e,t,r)=>n.addEventListener(e,t,r),rel:(n,e,t,r)=>n.removeEventListener(e,t,r),ce:(n,e)=>new CustomEvent(n,e)},Q8=(()=>{let n=!1;try{fi.addEventListener("e",null,Object.defineProperty({},"passive",{get(){n=!0}}))}catch(e){}return n})(),eD=n=>Promise.resolve(n),tD=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(n){}return!1})(),Sb=!1,Tb=[],vE=[],xE=(n,e)=>t=>{n.push(t),Sb||(Sb=!0,e&&In.$flags$&4?nD(Ab):In.raf(Ab))},S2=n=>{for(let e=0;e<n.length;e++)try{n[e](performance.now())}catch(t){bd(t)}n.length=0},Ab=()=>{S2(Tb),S2(vE),(Sb=Tb.length>0)&&In.raf(Ab)},nD=n=>eD().then(n),bs=xE(Tb,!1),or=xE(vE,!0),yE=n=>{const e=new URL(n,In.$resourcesUrl$);return e.origin!==vd.location.origin?e.href:e.pathname},T2={},rD="http://www.w3.org/2000/svg",iD="http://www.w3.org/1999/xhtml",oD=n=>n!=null,Mx=n=>(n=typeof n,n==="object"||n==="function");function aD(n){var e,t,r;return(r=(t=(e=n.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:t.getAttribute("content"))!=null?r:void 0}var sD={};Y8(sD,{err:()=>wE,map:()=>lD,ok:()=>Ib,unwrap:()=>cD,unwrapErr:()=>uD});var Ib=n=>({isOk:!0,isErr:!1,value:n}),wE=n=>({isOk:!1,isErr:!0,value:n});function lD(n,e){if(n.isOk){const t=e(n.value);return t instanceof Promise?t.then(r=>Ib(r)):Ib(t)}if(n.isErr){const t=n.value;return wE(t)}throw"should never get here"}var cD=n=>{if(n.isOk)return n.value;throw n.value},uD=n=>{if(n.isErr)return n.value;throw n.value},vs=(n,e="")=>()=>{},D=(n,e,...t)=>{let r=null,i=null,o=null,a=!1,s=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)r=d[h],Array.isArray(r)?c(r):r!=null&&typeof r!="boolean"&&((a=typeof n!="function"&&!Mx(r))&&(r=String(r)),a&&s?l[l.length-1].$text$+=r:l.push(a?Of(null,r):r),s=a)};if(c(t),e){e.key&&(i=e.key),e.name&&(o=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof n=="function")return n(e===null?{}:e,l,hD);const u=Of(n,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=i,u.$name$=o,u},Of=(n,e)=>{const t={$flags$:0,$tag$:n,$text$:e,$elm$:null,$children$:null};return t.$attrs$=null,t.$key$=null,t.$name$=null,t},Pe={},dD=n=>n&&n.$tag$===Pe,hD={forEach:(n,e)=>n.map(A2).forEach(e),map:(n,e)=>n.map(A2).map(e).map(fD)},A2=n=>({vattrs:n.$attrs$,vchildren:n.$children$,vkey:n.$key$,vname:n.$name$,vtag:n.$tag$,vtext:n.$text$}),fD=n=>{if(typeof n.vtag=="function"){const t={...n.vattrs};return n.vkey&&(t.key=n.vkey),n.vname&&(t.name=n.vname),D(n.vtag,t,...n.vchildren||[])}const e=Of(n.vtag,n.vtext);return e.$attrs$=n.vattrs,e.$children$=n.vchildren,e.$key$=n.vkey,e.$name$=n.vname,e},pD=n=>bE.map(e=>e(n)).find(e=>!!e),mD=n=>bE.push(n),gD=n=>Sa(n).$modeName$,bD=(n,e)=>n!=null&&!Mx(n)?e&4?n==="false"?!1:n===""||!!n:e&2?parseFloat(n):e&1?String(n):n:n,vD=n=>n,ae=(n,e,t)=>{const r=vD(n);return{emit:i=>xD(r,e,{bubbles:!!(t&4),composed:!!(t&2),cancelable:!!(t&1),detail:i})}},xD=(n,e,t)=>{const r=In.ce(e,t);return n.dispatchEvent(r),r},I2=new WeakMap,yD=(n,e,t)=>{let r=Df.get(n);tD&&t?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,Df.set(n,r)},wD=(n,e,t)=>{var r;const i=kE(e,t),o=Df.get(i);if(n=n.nodeType===11?n:fi,o)if(typeof o=="string"){n=n.head||n;let a=I2.get(n),s;if(a||I2.set(n,a=new Set),!a.has(i)){{s=fi.createElement("style"),s.innerHTML=o;const l=(r=In.$nonce$)!=null?r:aD(fi);l!=null&&s.setAttribute("nonce",l),(!(e.$flags$&1)||e.$flags$&1&&n.nodeName!=="HEAD")&&n.insertBefore(s,n.querySelector("link"))}e.$flags$&4&&(s.innerHTML+=J8),a&&a.add(i)}}else n.adoptedStyleSheets.includes(o)||(n.adoptedStyleSheets=[...n.adoptedStyleSheets,o]);return i},kD=n=>{const e=n.$cmpMeta$,t=n.$hostElement$,r=e.$flags$,i=vs("attachStyles",e.$tagName$),o=wD(t.shadowRoot?t.shadowRoot:t.getRootNode(),e,n.$modeName$);r&10&&r&2&&(t["s-sc"]=o,t.classList.add(o+"-h"),r&2&&t.classList.add(o+"-s")),i()},kE=(n,e)=>"sc-"+(e&&n.$flags$&32?n.$tagName$+"-"+e:n.$tagName$),R2=(n,e,t,r,i,o)=>{if(t!==r){let a=C2(n,e),s=e.toLowerCase();if(e==="class"){const l=n.classList,c=D2(t),u=D2(r);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in t)(!r||r[l]==null)&&(l.includes("-")?n.style.removeProperty(l):n.style[l]="");for(const l in r)(!t||r[l]!==t[l])&&(l.includes("-")?n.style.setProperty(l,r[l]):n.style[l]=r[l])}else if(e!=="key")if(e==="ref")r&&r(n);else if(!n.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):C2(vd,s)?e=s.slice(2):e=s[2]+e.slice(3),t||r){const l=e.endsWith(_E);e=e.replace(CD,""),t&&In.rel(n,e,t,l),r&&In.ael(n,e,r,l)}}else{const l=Mx(r);if((a||l&&r!==null)&&!i)try{if(n.tagName.includes("-"))n[e]=r;else{const u=r==null?"":r;e==="list"?a=!1:(t==null||n[e]!=u)&&(n[e]=u)}}catch(u){}let c=!1;s!==(s=s.replace(/^xlink\:?/,""))&&(e=s,c=!0),r==null||r===!1?(r!==!1||n.getAttribute(e)==="")&&(c?n.removeAttributeNS(E2,e):n.removeAttribute(e)):(!a||o&4||i)&&!l&&(r=r===!0?"":r,c?n.setAttributeNS(E2,e,r):n.setAttribute(e,r))}}},_D=/\s/,D2=n=>n?n.split(_D):[],_E="Capture",CD=new RegExp(_E+"$"),CE=(n,e,t)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=n&&n.$attrs$||T2,o=e.$attrs$||T2;for(const a of O2(Object.keys(i)))a in o||R2(r,a,i[a],void 0,t,e.$flags$);for(const a of O2(Object.keys(o)))R2(r,a,i[a],o[a],t,e.$flags$)};function O2(n){return n.includes("ref")?[...n.filter(e=>e!=="ref"),"ref"]:n}var sl,Rb,Fu,Mf=!1,Pf=!1,Px=!1,mr=!1,Bf=(n,e,t,r)=>{var i;const o=e.$children$[t];let a=0,s,l,c;if(Mf||(Px=!0,o.$tag$==="slot"&&(sl&&r.classList.add(sl+"-s"),o.$flags$|=o.$children$?2:1)),o.$text$!==null)s=o.$elm$=fi.createTextNode(o.$text$);else if(o.$flags$&1)s=o.$elm$=fi.createTextNode("");else{if(mr||(mr=o.$tag$==="svg"),s=o.$elm$=fi.createElementNS(mr?rD:iD,!Mf&&ci.slotRelocation&&o.$flags$&2?"slot-fb":o.$tag$),mr&&o.$tag$==="foreignObject"&&(mr=!1),CE(null,o,mr),!!s.getRootNode().querySelector("body")&&ci.scoped&&oD(sl)&&s["s-si"]!==sl&&s.classList.add(s["s-si"]=sl),zx(s,r),o.$children$)for(a=0;a<o.$children$.length;++a)l=Bf(n,o,a,s),l&&s.appendChild(l);o.$tag$==="svg"?mr=!1:s.tagName==="foreignObject"&&(mr=!0)}return s["s-hn"]=Fu,o.$flags$&3&&(s["s-sr"]=!0,s["s-cr"]=Rb,s["s-sn"]=o.$name$||"",s["s-rf"]=(i=o.$attrs$)==null?void 0:i.ref,c=n&&n.$children$&&n.$children$[t],c&&c.$tag$===o.$tag$&&n.$elm$&&$u(n.$elm$,!1)),s},$u=(n,e)=>{In.$flags$|=1;const t=Array.from(n.childNodes);n["s-sr"]&&ci.experimentalSlotFixes;for(let r=t.length-1;r>=0;r--){const i=t[r];i["s-hn"]!==Fu&&i["s-ol"]&&(da(TE(i),i,Bx(i)),i["s-ol"].remove(),i["s-ol"]=void 0,i["s-sh"]=void 0,Px=!0),e&&$u(i,e)}In.$flags$&=-2},EE=(n,e,t,r,i,o)=>{let a=n["s-cr"]&&n["s-cr"].parentNode||n,s;for(a.shadowRoot&&a.tagName===Fu&&(a=a.shadowRoot);i<=o;++i)r[i]&&(s=Bf(null,t,i,n),s&&(r[i].$elm$=s,da(a,s,Bx(e))))},SE=(n,e,t)=>{for(let r=e;r<=t;++r){const i=n[r];if(i){const o=i.$elm$;RE(i),o&&(Pf=!0,o["s-ol"]?o["s-ol"].remove():$u(o,!0),o.remove())}}},ED=(n,e,t,r,i=!1)=>{let o=0,a=0,s=0,l=0,c=e.length-1,u=e[0],d=e[c],h=r.length-1,f=r[0],p=r[h],m,b;for(;o<=c&&a<=h;)if(u==null)u=e[++o];else if(d==null)d=e[--c];else if(f==null)f=r[++a];else if(p==null)p=r[--h];else if(ah(u,f,i))ll(u,f,i),u=e[++o],f=r[++a];else if(ah(d,p,i))ll(d,p,i),d=e[--c],p=r[--h];else if(ah(u,p,i))(u.$tag$==="slot"||p.$tag$==="slot")&&$u(u.$elm$.parentNode,!1),ll(u,p,i),da(n,u.$elm$,d.$elm$.nextSibling),u=e[++o],p=r[--h];else if(ah(d,f,i))(u.$tag$==="slot"||p.$tag$==="slot")&&$u(d.$elm$.parentNode,!1),ll(d,f,i),da(n,d.$elm$,u.$elm$),d=e[--c],f=r[++a];else{for(s=-1,l=o;l<=c;++l)if(e[l]&&e[l].$key$!==null&&e[l].$key$===f.$key$){s=l;break}s>=0?(b=e[s],b.$tag$!==f.$tag$?m=Bf(e&&e[a],t,s,n):(ll(b,f,i),e[s]=void 0,m=b.$elm$),f=r[++a]):(m=Bf(e&&e[a],t,a,n),f=r[++a]),m&&da(TE(u.$elm$),m,Bx(u.$elm$))}o>c?EE(n,r[h+1]==null?null:r[h+1].$elm$,t,r,a,h):a>h&&SE(e,o,c)},ah=(n,e,t=!1)=>n.$tag$===e.$tag$?n.$tag$==="slot"?"$nodeId$"in n&&t&&n.$elm$.nodeType!==8?!1:n.$name$===e.$name$:t?!0:n.$key$===e.$key$:!1,Bx=n=>n&&n["s-ol"]||n,TE=n=>(n["s-ol"]?n["s-ol"]:n).parentNode,ll=(n,e,t=!1)=>{const r=e.$elm$=n.$elm$,i=n.$children$,o=e.$children$,a=e.$tag$,s=e.$text$;let l;s===null?(mr=a==="svg"?!0:a==="foreignObject"?!1:mr,a==="slot"&&!Mf||CE(n,e,mr),i!==null&&o!==null?ED(r,i,e,o,t):o!==null?(n.$text$!==null&&(r.textContent=""),EE(r,null,e,o,0,o.length-1)):!t&&ci.updatable&&i!==null&&SE(i,0,i.length-1),mr&&a==="svg"&&(mr=!1)):(l=r["s-cr"])?l.parentNode.textContent=s:n.$text$!==s&&(r.data=s)},AE=n=>{const e=n.childNodes;for(const t of e)if(t.nodeType===1){if(t["s-sr"]){const r=t["s-sn"];t.hidden=!1;for(const i of e)if(i!==t){if(i["s-hn"]!==t["s-hn"]||r!==""){if(i.nodeType===1&&(r===i.getAttribute("slot")||r===i["s-sn"])||i.nodeType===3&&r===i["s-sn"]){t.hidden=!0;break}}else if(i.nodeType===1||i.nodeType===3&&i.textContent.trim()!==""){t.hidden=!0;break}}}AE(t)}},ao=[],IE=n=>{let e,t,r;for(const i of n.childNodes){if(i["s-sr"]&&(e=i["s-cr"])&&e.parentNode){t=e.parentNode.childNodes;const o=i["s-sn"];for(r=t.length-1;r>=0;r--)if(e=t[r],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==i["s-hn"])if(M2(e,o)){let a=ao.find(s=>s.$nodeToRelocate$===e);Pf=!0,e["s-sn"]=e["s-sn"]||o,a?(a.$nodeToRelocate$["s-sh"]=i["s-hn"],a.$slotRefNode$=i):(e["s-sh"]=i["s-hn"],ao.push({$slotRefNode$:i,$nodeToRelocate$:e})),e["s-sr"]&&ao.map(s=>{M2(s.$nodeToRelocate$,e["s-sn"])&&(a=ao.find(l=>l.$nodeToRelocate$===e),a&&!s.$slotRefNode$&&(s.$slotRefNode$=a.$slotRefNode$))})}else ao.some(a=>a.$nodeToRelocate$===e)||ao.push({$nodeToRelocate$:e})}i.nodeType===1&&IE(i)}},M2=(n,e)=>n.nodeType===1?n.getAttribute("slot")===null&&e===""||n.getAttribute("slot")===e:n["s-sn"]===e?!0:e==="",RE=n=>{n.$attrs$&&n.$attrs$.ref&&n.$attrs$.ref(null),n.$children$&&n.$children$.map(RE)},da=(n,e,t)=>{const r=n==null?void 0:n.insertBefore(e,t);return zx(e,n),r},DE=n=>{const e=[];return n&&e.push(...n["s-scs"]||[],n["s-si"],n["s-sc"],...DE(n.parentElement)),e},zx=(n,e,t=!1)=>{var r;if(n&&e&&n.nodeType===1){const i=new Set(DE(e).filter(Boolean));if(i.size&&((r=n.classList)==null||r.add(...n["s-scs"]=[...i]),n["s-ol"]||t))for(const o of Array.from(n.childNodes))zx(o,n,!0)}},SD=(n,e,t=!1)=>{var r,i,o,a,s;const l=n.$hostElement$,c=n.$cmpMeta$,u=n.$vnode$||Of(null,null),d=dD(e)?e:D(null,null,e);if(Fu=l.tagName,c.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},c.$attrsToReflect$.map(([h,f])=>d.$attrs$[f]=l[h])),t&&d.$attrs$)for(const h of Object.keys(d.$attrs$))l.hasAttribute(h)&&!["key","ref","style","class"].includes(h)&&(d.$attrs$[h]=l[h]);d.$tag$=null,d.$flags$|=4,n.$vnode$=d,d.$elm$=u.$elm$=l.shadowRoot||l,sl=l["s-sc"],Mf=(c.$flags$&1)!==0,Rb=l["s-cr"],Pf=!1,ll(u,d,t);{if(In.$flags$|=1,Px){IE(d.$elm$);for(const h of ao){const f=h.$nodeToRelocate$;if(!f["s-ol"]){const p=fi.createTextNode("");p["s-nr"]=f,da(f.parentNode,f["s-ol"]=p,f)}}for(const h of ao){const f=h.$nodeToRelocate$,p=h.$slotRefNode$;if(p){const m=p.parentNode;let b=p.nextSibling;{let g=(r=f["s-ol"])==null?void 0:r.previousSibling;for(;g;){let v=(i=g["s-nr"])!=null?i:null;if(v&&v["s-sn"]===f["s-sn"]&&m===v.parentNode){for(v=v.nextSibling;v===f||v!=null&&v["s-sr"];)v=v==null?void 0:v.nextSibling;if(!v||!v["s-nr"]){b=v;break}}g=g.previousSibling}}(!b&&m!==f.parentNode||f.nextSibling!==b)&&f!==b&&(!f["s-hn"]&&f["s-ol"]&&(f["s-hn"]=f["s-ol"].parentNode.nodeName),da(m,f,b),f.nodeType===1&&(f.hidden=(o=f["s-ih"])!=null?o:!1)),f&&typeof p["s-rf"]=="function"&&p["s-rf"](f)}else f.nodeType===1&&(t&&(f["s-ih"]=(a=f.hidden)!=null?a:!1),f.hidden=!0)}}Pf&&AE(d.$elm$),In.$flags$&=-2,ao.length=0}if(ci.experimentalScopedSlotChanges&&c.$flags$&2)for(const h of d.$elm$.childNodes)h["s-hn"]!==Fu&&!h["s-sh"]&&(t&&h["s-ih"]==null&&(h["s-ih"]=(s=h.hidden)!=null?s:!1),h.hidden=!0);Rb=void 0},TD=(n,e)=>{},Lx=(n,e)=>(n.$flags$|=16,TD(n,n.$ancestorComponent$),or(()=>AD(n,e))),AD=(n,e)=>{const t=n.$hostElement$,r=vs("scheduleUpdate",n.$cmpMeta$.$tagName$),i=t;if(!i)throw new Error("Can't render component <".concat(t.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));let o;return e?o=jl(i,"componentWillLoad"):o=jl(i,"componentWillUpdate"),o=P2(o,()=>jl(i,"componentWillRender")),r(),P2(o,()=>RD(n,i,e))},P2=(n,e)=>ID(n)?n.then(e).catch(t=>{console.error(t),e()}):e(),ID=n=>n instanceof Promise||n&&n.then&&typeof n.then=="function",RD=async(n,e,t)=>{const r=n.$hostElement$,i=vs("update",n.$cmpMeta$.$tagName$);r["s-rc"],t&&kD(n);const o=vs("render",n.$cmpMeta$.$tagName$);DD(n,e,r,t),o(),i(),OD(n)},B2=null,DD=(n,e,t,r)=>{try{B2=e,e=e.render&&e.render(),n.$flags$&=-17,n.$flags$|=2,(ci.hasRenderFn||ci.reflect)&&(ci.vdomRender||ci.reflect)&&(ci.hydrateServerSide||SD(n,e,r))}catch(l){bd(l,n.$hostElement$)}return B2=null,null},OD=n=>{const e=n.$cmpMeta$.$tagName$,t=n.$hostElement$,r=vs("postUpdate",e),i=t;n.$ancestorComponent$,jl(i,"componentDidRender"),n.$flags$&64?(jl(i,"componentDidUpdate"),r()):(n.$flags$|=64,jl(i,"componentDidLoad"),r())},Sn=n=>{{const e=Sa(n),t=e.$hostElement$.isConnected;return t&&(e.$flags$&18)===2&&Lx(e,!1),t}},jl=(n,e,t)=>{if(n&&n[e])try{return n[e](t)}catch(r){bd(r)}},MD=(n,e)=>Sa(n).$instanceValues$.get(e),PD=(n,e,t,r)=>{const i=Sa(n),o=n,a=i.$instanceValues$.get(e),s=i.$flags$,l=o;t=bD(t,r.$members$[e][0]);const c=Number.isNaN(a)&&Number.isNaN(t);if(t!==a&&!c){i.$instanceValues$.set(e,t);{if(r.$watchers$&&s&128){const d=r.$watchers$[e];d&&d.map(h=>{try{l[h](t,a,e)}catch(f){bd(f,o)}})}if((s&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(t,a,e)===!1)return;Lx(i,!1)}}}},BD=(n,e,t)=>{var r,i;const o=n.prototype;if(e.$members$||e.$watchers$||n.watchers){n.watchers&&!e.$watchers$&&(e.$watchers$=n.watchers);const a=Object.entries((r=e.$members$)!=null?r:{});a.map(([s,[l]])=>{(l&31||l&32)&&Object.defineProperty(o,s,{get(){return MD(this,s)},set(c){PD(this,s,c,e)},configurable:!0,enumerable:!0})});{const s=new Map;o.attributeChangedCallback=function(l,c,u){In.jmp(()=>{var d;const h=s.get(l);if(this.hasOwnProperty(h))u=this[h],delete this[h];else{if(o.hasOwnProperty(h)&&typeof this[h]=="number"&&this[h]==u)return;if(h==null){const f=Sa(this),p=f==null?void 0:f.$flags$;if(p&&!(p&8)&&p&128&&u!==c){const b=this,g=(d=e.$watchers$)==null?void 0:d[l];g==null||g.forEach(v=>{b[v]!=null&&b[v].call(b,u,c,l)})}return}}this[h]=u===null&&typeof this[h]=="boolean"?!1:u})},n.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...a.filter(([l,c])=>c[0]&15).map(([l,c])=>{var u;const d=c[1]||l;return s.set(d,l),c[0]&512&&((u=e.$attrsToReflect$)==null||u.push([l,d])),d})]))}}return n},zD=async(n,e,t,r)=>{let i;if(!(e.$flags$&32)){e.$flags$|=32,t.$lazyBundleId$;{i=n.constructor;const a=n.localName;customElements.whenDefined(a).then(()=>e.$flags$|=128)}if(i&&i.style){let a;typeof i.style=="string"?a=i.style:typeof i.style!="string"&&(e.$modeName$=pD(n),e.$modeName$&&(a=i.style[e.$modeName$]));const s=kE(t,e.$modeName$);if(!Df.has(s)){const l=vs("registerStyles",t.$tagName$);yD(s,a,!!(t.$flags$&1)),l()}}}e.$ancestorComponent$,Lx(e,!0)},z2=n=>{},LD=n=>{if(!(In.$flags$&1)){const e=Sa(n),t=e.$cmpMeta$,r=vs("connectedCallback",t.$tagName$);e.$flags$&1?(OE(n,e,t.$listeners$),e!=null&&e.$lazyInstance$?z2(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>z2(e.$lazyInstance$))):(e.$flags$|=1,t.$flags$&12&&jD(n),t.$members$&&Object.entries(t.$members$).map(([i,[o]])=>{if(o&31&&n.hasOwnProperty(i)){const a=n[i];delete n[i],n[i]=a}}),zD(n,e,t)),r()}},jD=n=>{const e=n["s-cr"]=fi.createComment("");e["s-cn"]=!0,da(n,e,n.firstChild)},ND=async n=>{if(!(In.$flags$&1)){const e=Sa(n);e.$rmListeners$&&(e.$rmListeners$.map(t=>t()),e.$rmListeners$=void 0)}},Oe=(n,e)=>{const t={$flags$:e[0],$tagName$:e[1]};t.$members$=e[2],t.$listeners$=e[3],t.$watchers$=n.$watchers$,t.$attrsToReflect$=[];const r=n.prototype.connectedCallback,i=n.prototype.disconnectedCallback;return Object.assign(n.prototype,{__registerHost(){Z8(this,t)},connectedCallback(){const o=Sa(this);OE(this,o,t.$listeners$),LD(this),r&&r.call(this)},disconnectedCallback(){ND(this),i&&i.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(t.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error("Unable to re-use existing shadow root for ".concat(t.$tagName$,"! Mode is set to ").concat(this.shadowRoot.mode," but Stencil only supports open shadow roots."))}}),n.is=t.$tagName$,BD(n,t)},OE=(n,e,t,r)=>{t&&t.map(([i,o,a])=>{const s=$D(n,i),l=FD(e,a),c=UD(i);In.ael(s,o,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>In.rel(s,o,l,c))})},FD=(n,e)=>t=>{var r;try{ci.lazyLoad||n.$hostElement$[e](t)}catch(i){bd(i)}},$D=(n,e)=>e&4?fi:e&8?vd:e&16?fi.body:n,UD=n=>Q8?{passive:(n&1)!==0,capture:(n&2)!==0}:(n&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class HD{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const r=this.m.get(e);return r!==void 0?r:t}getBoolean(e,t=!1){const r=this.m.get(e);return r===void 0?t:typeof r=="string"?r==="true":!!r}getNumber(e,t){const r=parseFloat(this.m.get(e));return isNaN(r)?t!==void 0?t:NaN:r}set(e,t){this.m.set(e,t)}}const ze=new HD,WD=n=>{try{const e=n.sessionStorage.getItem(ME);return e!==null?JSON.parse(e):{}}catch(e){return{}}},VD=(n,e)=>{try{n.sessionStorage.setItem(ME,JSON.stringify(e))}catch(t){return}},qD=n=>{const e={};return n.location.search.slice(1).split("&").map(t=>t.split("=")).map(([t,r])=>{try{return[decodeURIComponent(t),decodeURIComponent(r)]}catch(i){return["",""]}}).filter(([t])=>GD(t,L2)).map(([t,r])=>[t.slice(L2.length),r]).forEach(([t,r])=>{e[t]=r}),e},GD=(n,e)=>n.substr(0,e.length)===e,L2="ionic:",ME="ionic-persist-config";var ls;(function(n){n.OFF="OFF",n.ERROR="ERROR",n.WARN="WARN"})(ls||(ls={}));const yt=(n,...e)=>{const t=ze.get("logLevel",ls.WARN);if([ls.WARN].includes(t))return console.warn("[Ionic Warning]: ".concat(n),...e)},Xr=(n,...e)=>{const t=ze.get("logLevel",ls.ERROR);if([ls.ERROR,ls.WARN].includes(t))return console.error("[Ionic Error]: ".concat(n),...e)},KD=(n,...e)=>console.error("<".concat(n.tagName.toLowerCase(),"> must be used inside ").concat(e.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const dt=typeof window<"u"?window:void 0,Sr=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Ag;const YD=n=>{if(Ag===void 0){const e=n.style.animationName!==void 0,t=n.style.webkitAnimationName!==void 0;Ag=!e&&t?"-webkit-":""}return Ag},Ig=(n,e,t)=>{const r=e.startsWith("animation")?YD(n):"";n.style.setProperty(r+e,t)},sh=(n=[],e)=>{if(e!==void 0){const t=Array.isArray(e)?e:[e];return[...n,...t]}return n},me=n=>{let e,t,r,i,o,a,s=[],l=[],c=[],u=!1,d,h={},f=[],p=[],m={},b=0,g=!1,v=!1,x,y,w,k=!0,_=!1,T=!0,E,A=!1;const M=n,I=[],L=[],S=[],O=[],P=[],z=[],N=[],B=[],U=[],$=[],F=[],ee=typeof AnimationEffect=="function"||dt!==void 0&&typeof dt.AnimationEffect=="function",X=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&ee,Q=()=>F,be=ie=>(P.forEach(Ce=>{Ce.destroy(ie)}),ye(ie),O.length=0,P.length=0,s.length=0,Ne(),u=!1,T=!0,E),ye=ie=>{R(),ie&&ne()},ge=()=>{g=!1,v=!1,T=!0,x=void 0,y=void 0,w=void 0,b=0,_=!1,k=!0,A=!1},we=()=>b!==0&&!A,Ue=(ie,Ce)=>{const Je=Ce.findIndex(Ft=>Ft.c===ie);Je>-1&&Ce.splice(Je,1)},Me=(ie,Ce)=>(S.push({c:ie,o:Ce}),E),He=(ie,Ce)=>((Ce!=null&&Ce.oneTimeCallback?L:I).push({c:ie,o:Ce}),E),Ne=()=>(I.length=0,L.length=0,E),R=()=>{X&&(F.forEach(ie=>{ie.cancel()}),F.length=0)},ne=()=>{z.forEach(ie=>{ie!=null&&ie.parentNode&&ie.parentNode.removeChild(ie)}),z.length=0},J=ie=>(N.push(ie),E),V=ie=>(B.push(ie),E),H=ie=>(U.push(ie),E),K=ie=>($.push(ie),E),se=ie=>(l=sh(l,ie),E),le=ie=>(c=sh(c,ie),E),Z=(ie={})=>(h=ie,E),he=(ie=[])=>{for(const Ce of ie)h[Ce]="";return E},xe=ie=>(f=sh(f,ie),E),fe=ie=>(p=sh(p,ie),E),Be=(ie={})=>(m=ie,E),rt=(ie=[])=>{for(const Ce of ie)m[Ce]="";return E},Le=()=>o!==void 0?o:d?d.getFill():"both",Nt=()=>x!==void 0?x:a!==void 0?a:d?d.getDirection():"normal",ti=()=>g?"linear":r!==void 0?r:d?d.getEasing():"linear",Gt=()=>v?0:y!==void 0?y:t!==void 0?t:d?d.getDuration():0,ni=()=>i!==void 0?i:d?d.getIterations():1,ut=()=>w!==void 0?w:e!==void 0?e:d?d.getDelay():0,ki=()=>s,Zi=ie=>(a=ie,Or(!0),E),ri=ie=>(o=ie,Or(!0),E),$d=ie=>(e=ie,Or(!0),E),Wm=ie=>(r=ie,Or(!0),E),Vm=ie=>(!X&&ie===0&&(ie=1),t=ie,Or(!0),E),qm=ie=>(i=ie,Or(!0),E),Ud=ie=>(d=ie,E),Da=ie=>{if(ie!=null)if(ie.nodeType===1)O.push(ie);else if(ie.length>=0)for(let Ce=0;Ce<ie.length;Ce++)O.push(ie[Ce]);else Xr("createAnimation - Invalid addElement value.");return E},Hs=ie=>{if(ie!=null)if(Array.isArray(ie))for(const Ce of ie)Ce.parent(E),P.push(Ce);else ie.parent(E),P.push(ie);return E},BA=ie=>{const Ce=s!==ie;return s=ie,Ce&&zA(s),E},zA=ie=>{X&&Q().forEach(Ce=>{const Je=Ce.effect;if(Je.setKeyframes)Je.setKeyframes(ie);else{const Ft=new KeyframeEffect(Je.target,ie,Je.getTiming());Ce.effect=Ft}})},LA=()=>{N.forEach(Ft=>Ft()),B.forEach(Ft=>Ft());const ie=l,Ce=c,Je=h;O.forEach(Ft=>{const Un=Ft.classList;ie.forEach(_i=>Un.add(_i)),Ce.forEach(_i=>Un.remove(_i));for(const _i in Je)Je.hasOwnProperty(_i)&&Ig(Ft,_i,Je[_i])})},jA=()=>{U.forEach(Un=>Un()),$.forEach(Un=>Un());const ie=k?1:0,Ce=f,Je=p,Ft=m;O.forEach(Un=>{const _i=Un.classList;Ce.forEach(Oa=>_i.add(Oa)),Je.forEach(Oa=>_i.remove(Oa));for(const Oa in Ft)Ft.hasOwnProperty(Oa)&&Ig(Un,Oa,Ft[Oa])}),y=void 0,x=void 0,w=void 0,I.forEach(Un=>Un.c(ie,E)),L.forEach(Un=>Un.c(ie,E)),L.length=0,T=!0,k&&(_=!0),k=!0},Hd=()=>{b!==0&&(b--,b===0&&(jA(),d&&d.animationFinish()))},NA=()=>{O.forEach(ie=>{const Ce=ie.animate(s,{id:M,delay:ut(),duration:Gt(),easing:ti(),iterations:ni(),fill:Le(),direction:Nt()});Ce.pause(),F.push(Ce)}),F.length>0&&(F[0].onfinish=()=>{Hd()})},X1=()=>{LA(),s.length>0&&X&&NA(),u=!0},Dc=ie=>{ie=Math.min(Math.max(ie,0),.9999),X&&F.forEach(Ce=>{Ce.currentTime=Ce.effect.getComputedTiming().delay+Gt()*ie,Ce.pause()})},Z1=ie=>{F.forEach(Ce=>{Ce.effect.updateTiming({delay:ut(),duration:Gt(),easing:ti(),iterations:ni(),fill:Le(),direction:Nt()})}),ie!==void 0&&Dc(ie)},Or=(ie=!1,Ce=!0,Je)=>(ie&&P.forEach(Ft=>{Ft.update(ie,Ce,Je)}),X&&Z1(Je),E),FA=(ie=!1,Ce)=>(P.forEach(Je=>{Je.progressStart(ie,Ce)}),J1(),g=ie,u||X1(),Or(!1,!0,Ce),E),$A=ie=>(P.forEach(Ce=>{Ce.progressStep(ie)}),Dc(ie),E),UA=(ie,Ce,Je)=>(g=!1,P.forEach(Ft=>{Ft.progressEnd(ie,Ce,Je)}),Je!==void 0&&(y=Je),_=!1,k=!0,ie===0?(x=Nt()==="reverse"?"normal":"reverse",x==="reverse"&&(k=!1),X?(Or(),Dc(1-Ce)):(w=(1-Ce)*Gt()*-1,Or(!1,!1))):ie===1&&(X?(Or(),Dc(Ce)):(w=Ce*Gt()*-1,Or(!1,!1))),ie!==void 0&&!d&&Q1(),E),J1=()=>{u&&(X?F.forEach(ie=>{ie.pause()}):O.forEach(ie=>{Ig(ie,"animation-play-state","paused")}),A=!0)},HA=()=>(P.forEach(ie=>{ie.pause()}),J1(),E),WA=()=>{Hd()},VA=()=>{F.forEach(ie=>{ie.play()}),(s.length===0||O.length===0)&&Hd()},qA=()=>{X&&(Dc(0),Z1())},Q1=ie=>new Promise(Ce=>{ie!=null&&ie.sync&&(v=!0,He(()=>v=!1,{oneTimeCallback:!0})),u||X1(),_&&(qA(),_=!1),T&&(b=P.length+1,T=!1);const Je=()=>{Ue(Ft,L),Ce()},Ft=()=>{Ue(Je,S),Ce()};He(Ft,{oneTimeCallback:!0}),Me(Je,{oneTimeCallback:!0}),P.forEach(Un=>{Un.play()}),X?VA():WA(),A=!1}),GA=()=>{P.forEach(ie=>{ie.stop()}),u&&(R(),u=!1),ge(),S.forEach(ie=>ie.c(0,E)),S.length=0},ew=(ie,Ce)=>{const Je=s[0];return Je!==void 0&&(Je.offset===void 0||Je.offset===0)?Je[ie]=Ce:s=[{offset:0,[ie]:Ce},...s],E};return E={parentAnimation:d,elements:O,childAnimations:P,id:M,animationFinish:Hd,from:ew,to:(ie,Ce)=>{const Je=s[s.length-1];return Je!==void 0&&(Je.offset===void 0||Je.offset===1)?Je[ie]=Ce:s=[...s,{offset:1,[ie]:Ce}],E},fromTo:(ie,Ce,Je)=>ew(ie,Ce).to(ie,Je),parent:Ud,play:Q1,pause:HA,stop:GA,destroy:be,keyframes:BA,addAnimation:Hs,addElement:Da,update:Or,fill:ri,direction:Zi,iterations:qm,duration:Vm,easing:Wm,delay:$d,getWebAnimations:Q,getKeyframes:ki,getFill:Le,getDirection:Nt,getDelay:ut,getIterations:ni,getEasing:ti,getDuration:Gt,afterAddRead:H,afterAddWrite:K,afterClearStyles:rt,afterStyles:Be,afterRemoveClass:fe,afterAddClass:xe,beforeAddRead:J,beforeAddWrite:V,beforeClearStyles:he,beforeStyles:Z,beforeRemoveClass:le,beforeAddClass:se,onFinish:He,isRunning:we,progressStart:FA,progressStep:$A,progressEnd:UA}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gi=(n,e)=>{n.componentOnReady?n.componentOnReady().then(t=>e(t)):tn(()=>e(n))},Uu=n=>n.componentOnReady!==void 0,qi=(n,e=[])=>{const t={};return e.forEach(r=>{n.hasAttribute(r)&&(n.getAttribute(r)!==null&&(t[r]=n.getAttribute(r)),n.removeAttribute(r))}),t},XD=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],vi=(n,e)=>qi(n,XD),jx=(n,e,t,r)=>n.addEventListener(e,t,r),PE=(n,e,t,r)=>n.removeEventListener(e,t,r),Lt=(n,e=n)=>n.shadowRoot||e,tn=n=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(n):typeof requestAnimationFrame=="function"?requestAnimationFrame(n):setTimeout(n),ZD=n=>!!n.shadowRoot&&!!n.attachShadow,zf=n=>{if(n.focus(),n.classList.contains("ion-focusable")){const e=n.closest("ion-app");e&&e.setFocus([n])}},xd=(n,e,t,r,i)=>{{let o=e.querySelector("input.aux-input");o||(o=e.ownerDocument.createElement("input"),o.type="hidden",o.classList.add("aux-input"),e.appendChild(o)),o.disabled=i,o.name=t,o.value=r||""}},Wn=(n,e,t)=>Math.max(n,Math.min(e,t)),an=(n,e)=>{if(!n){const t="ASSERT: "+e;Xr(t);debugger;throw new Error(t)}},Ate=n=>{if(n){const e=n.changedTouches;if(e&&e.length>0){const t=e[0];return{x:t.clientX,y:t.clientY}}if(n.pageX!==void 0)return{x:n.pageX,y:n.pageY}}return{x:0,y:0}},j2=n=>{const e=document.dir==="rtl";switch(n){case"start":return e;case"end":return!e;default:throw new Error('"'.concat(n,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},Fp=(n,e)=>{const t=n._original||n;return{_original:n,emit:JD(t.emit.bind(t),e)}},JD=(n,e=0)=>{let t;return(...r)=>{clearTimeout(t),t=setTimeout(n,e,...r)}},BE=(n,e)=>{if(n!=null||(n={}),e!=null||(e={}),n===e)return!0;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(const r of t)if(!(r in e)||n[r]!==e[r])return!1;return!0},Vo=n=>typeof n=="number"&&!isNaN(n)&&isFinite(n),QD="ionViewWillEnter",eO="ionViewDidEnter",zE="ionViewWillLeave",LE="ionViewDidLeave",Rg="ionViewWillUnload",Fc=n=>{n.tabIndex=-1,n.focus()},lh=n=>n.offsetParent!==null,tO=()=>({saveViewFocus:t=>{if(ze.get("focusManagerPriority",!1)){const i=document.activeElement;i!==null&&(t!=null&&t.contains(i))&&i.setAttribute(N2,"true")}},setViewFocus:t=>{const r=ze.get("focusManagerPriority",!1);if(Array.isArray(r)&&!t.contains(document.activeElement)){const i=t.querySelector("[".concat(N2,"]"));if(i&&lh(i)){Fc(i);return}for(const o of r)switch(o){case"content":const a=t.querySelector('main, [role="main"]');if(a&&lh(a)){Fc(a);return}break;case"heading":const s=t.querySelector('h1, [role="heading"][aria-level="1"]');if(s&&lh(s)){Fc(s);return}break;case"banner":const l=t.querySelector('header, [role="banner"]');if(l&&lh(l)){Fc(l);return}break;default:yt("Unrecognized focus manager priority value ".concat(o));break}Fc(t)}}}),N2="ion-last-focus",nO=()=>Xt(()=>import("./ios.transition-C_15a7md.js"),[]),rO=()=>Xt(()=>import("./md.transition-Bobu84kI.js"),[]),jE=tO(),NE=n=>new Promise((e,t)=>{or(()=>{iO(n),oO(n).then(r=>{r.animation&&r.animation.destroy(),F2(n),e(r)},r=>{F2(n),t(r)})})}),iO=n=>{const e=n.enteringEl,t=n.leavingEl;jE.saveViewFocus(t),dO(e,t,n.direction),n.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),Db(e,!1),e.style.setProperty("pointer-events","none"),t&&(Db(t,!1),t.style.setProperty("pointer-events","none"))},oO=async n=>{const e=await aO(n);return e&&X8.isBrowser?sO(e,n):lO(n)},F2=n=>{const e=n.enteringEl,t=n.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),t!==void 0&&(t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events")),jE.setViewFocus(e)},aO=async n=>!n.leavingEl||!n.animated||n.duration===0?void 0:n.animationBuilder?n.animationBuilder:n.mode==="ios"?(await nO()).iosTransitionAnimation:(await rO()).mdTransitionAnimation,sO=async(n,e)=>{await FE(e,!0);const t=n(e.baseEl,e);$E(e.enteringEl,e.leavingEl);const r=await uO(t,e);return e.progressCallback&&e.progressCallback(void 0),r&&UE(e.enteringEl,e.leavingEl),{hasCompleted:r,animation:t}},lO=async n=>{const e=n.enteringEl,t=n.leavingEl,r=ze.get("focusManagerPriority",!1);return await FE(n,r),$E(e,t),UE(e,t),{hasCompleted:!0}},FE=async(n,e)=>{(n.deepWait!==void 0?n.deepWait:e)&&await Promise.all([Hu(n.enteringEl),Hu(n.leavingEl)]),await cO(n.viewIsReady,n.enteringEl)},cO=async(n,e)=>{n&&await n(e)},uO=(n,e)=>{const t=e.progressCallback,r=new Promise(i=>{n.onFinish(o=>i(o===1))});return t?(n.progressStart(!0),t(n)):n.play(),r},$E=(n,e)=>{ho(e,zE),ho(n,QD)},UE=(n,e)=>{ho(n,eO),ho(e,LE)},ho=(n,e)=>{if(n){const t=new CustomEvent(e,{bubbles:!1,cancelable:!1});n.dispatchEvent(t)}},HE=()=>new Promise(n=>tn(()=>tn(()=>n()))),Hu=async n=>{const e=n;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(r=>tn(r));return}await Promise.all(Array.from(e.children).map(Hu))}},Db=(n,e)=>{e?(n.setAttribute("aria-hidden","true"),n.classList.add("ion-page-hidden")):(n.hidden=!1,n.removeAttribute("aria-hidden"),n.classList.remove("ion-page-hidden"))},dO=(n,e,t)=>{n!==void 0&&(n.style.zIndex=t==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},Ite=n=>{if(n.classList.contains("ion-page"))return n;const e=n.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||n};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xs=(n,e,t,r,i)=>fO(n[1],e[1],t[1],r[1],i).map(o=>hO(n[0],e[0],t[0],r[0],o)),hO=(n,e,t,r,i)=>{const o=3*e*Math.pow(i-1,2),a=-3*t*i+3*t+r*i,s=n*Math.pow(i-1,3);return i*(o+i*a)-s},fO=(n,e,t,r,i)=>(n-=i,e-=i,t-=i,r-=i,mO(r-3*t+3*e-n,3*t-6*e+3*n,3*e-3*n,n).filter(a=>a>=0&&a<=1)),pO=(n,e,t)=>{const r=e*e-4*n*t;return r<0?[]:[(-e+Math.sqrt(r))/(2*n),(-e-Math.sqrt(r))/(2*n)]},mO=(n,e,t,r)=>{if(n===0)return pO(e,t,r);e/=n,t/=n,r/=n;const i=(3*t-e*e)/3,o=(2*e*e*e-9*e*t+27*r)/27;if(i===0)return[Math.pow(-o,1/3)];if(o===0)return[Math.sqrt(-i),-Math.sqrt(-i)];const a=Math.pow(o/2,2)+Math.pow(i/3,3);if(a===0)return[Math.pow(o/2,1/2)-e/3];if(a>0)return[Math.pow(-(o/2)+Math.sqrt(a),1/3)-Math.pow(o/2+Math.sqrt(a),1/3)-e/3];const s=Math.sqrt(Math.pow(-(i/3),3)),l=Math.acos(-(o/(2*Math.sqrt(Math.pow(-(i/3),3))))),c=2*Math.pow(s,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class gO{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var t;return new bO(this,this.newID(),e.name,(t=e.priority)!==null&&t!==void 0?t:0,!!e.disableScroll)}createBlocker(e={}){return new vO(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,r){return this.canStart(e)?(this.requestedStart.set(t,r),!0):(this.requestedStart.delete(t),!1)}capture(e,t,r){if(!this.start(e,t,r))return!1;const i=this.requestedStart;let o=-1e4;if(i.forEach(a=>{o=Math.max(o,a)}),o===r){this.capturedId=t,i.clear();const a=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(a),!0}return i.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let r=this.disabledGestures.get(e);r===void 0&&(r=new Set,this.disabledGestures.set(e,r)),r.add(t)}enableGesture(e,t){const r=this.disabledGestures.get(e);r!==void 0&&r.delete(t)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(Lf)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(Lf)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}}class bO{constructor(e,t,r,i,o){this.id=t,this.name=r,this.disableScroll=o,this.priority=i*1e6+t,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class vO{constructor(e,t,r,i){this.id=t,this.disable=r,this.disableScroll=i,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Lf="backdrop-no-scroll",Nx=new gO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Pa=(n,e,t,r)=>{const i=xO(n)?{capture:!1,passive:!!r.passive}:!1;let o,a;return n.__zone_symbol__addEventListener?(o="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(o="addEventListener",a="removeEventListener"),n[o](e,t,i),()=>{n[a](e,t,i)}},xO=n=>{if(ch===void 0)try{const e=Object.defineProperty({},"passive",{get:()=>{ch=!0}});n.addEventListener("optsTest",()=>{},e)}catch(e){ch=!1}return!!ch};let ch;const yO=2e3,wO=(n,e,t,r,i)=>{let o,a,s,l,c,u,d,h=0;const f=k=>{h=Date.now()+yO,e(k)&&(!a&&t&&(a=Pa(n,"touchmove",t,i)),s||(s=Pa(k.target,"touchend",m,i)),l||(l=Pa(k.target,"touchcancel",m,i)))},p=k=>{h>Date.now()||e(k)&&(!u&&t&&(u=Pa($2(n),"mousemove",t,i)),d||(d=Pa($2(n),"mouseup",b,i)))},m=k=>{g(),r&&r(k)},b=k=>{v(),r&&r(k)},g=()=>{a&&a(),s&&s(),l&&l(),a=s=l=void 0},v=()=>{u&&u(),d&&d(),u=d=void 0},x=()=>{g(),v()},y=(k=!0)=>{k?(o||(o=Pa(n,"touchstart",f,i)),c||(c=Pa(n,"mousedown",p,i))):(o&&o(),c&&c(),o=c=void 0,x())};return{enable:y,stop:x,destroy:()=>{y(!1),r=t=e=void 0}}},$2=n=>n instanceof Document?n:n.ownerDocument,kO=(n,e,t)=>{const r=t*(Math.PI/180),i=n==="x",o=Math.cos(r),a=e*e;let s=0,l=0,c=!1,u=0;return{start(d,h){s=d,l=h,u=0,c=!0},detect(d,h){if(!c)return!1;const f=d-s,p=h-l,m=f*f+p*p;if(m<a)return!1;const b=Math.sqrt(m),g=(i?f:p)/b;return g>o?u=1:g<-o?u=-1:u=0,c=!1,!0},isGesture(){return u!==0},getDirection(){return u}}},yd=n=>{let e=!1,t=!1,r=!0,i=!1;const o=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},n),a=o.canStart,s=o.onWillStart,l=o.onStart,c=o.onEnd,u=o.notCaptured,d=o.onMove,h=o.threshold,f=o.passive,p=o.blurOnStart,m={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},b=kO(o.direction,o.threshold,o.maxAngle),g=Nx.createGesture({name:n.gestureName,priority:n.gesturePriority,disableScroll:n.disableScroll}),v=I=>{const L=VE(I);return t||!r||(WE(I,m),m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime=L,m.velocityX=m.velocityY=m.deltaX=m.deltaY=0,m.event=I,a&&a(m)===!1)||(g.release(),!g.start())?!1:(t=!0,h===0?w():(b.start(m.startX,m.startY),!0))},x=I=>{if(e){!i&&r&&(i=!0,Dg(m,I),requestAnimationFrame(y));return}Dg(m,I),b.detect(m.currentX,m.currentY)&&(!b.isGesture()||!w())&&M()},y=()=>{e&&(i=!1,d&&d(m))},w=()=>g.capture()?(e=!0,r=!1,m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime,s?s(m).then(_):_(),!0):!1,k=()=>{if(typeof document<"u"){const I=document.activeElement;I!=null&&I.blur&&I.blur()}},_=()=>{p&&k(),l&&l(m),r=!0},T=()=>{e=!1,t=!1,i=!1,r=!0,g.release()},E=I=>{const L=e,S=r;if(T(),!!S){if(Dg(m,I),L){c&&c(m);return}u&&u(m)}},A=wO(o.el,v,x,E,{passive:f}),M=()=>{T(),A.stop(),u&&u(m)};return{enable(I=!0){I||(e&&E(void 0),T()),A.enable(I)},destroy(){g.destroy(),A.destroy()}}},Dg=(n,e)=>{if(!e)return;const t=n.currentX,r=n.currentY,i=n.currentTime;WE(e,n);const o=n.currentX,a=n.currentY,l=(n.currentTime=VE(e))-i;if(l>0&&l<100){const c=(o-t)/l,u=(a-r)/l;n.velocityX=c*.7+n.velocityX*.3,n.velocityY=u*.7+n.velocityY*.3}n.deltaX=o-n.startX,n.deltaY=a-n.startY,n.event=e},WE=(n,e)=>{let t=0,r=0;if(n){const i=n.changedTouches;if(i&&i.length>0){const o=i[0];t=o.clientX,r=o.clientY}else n.pageX!==void 0&&(t=n.pageX,r=n.pageY)}e.currentX=t,e.currentY=r},VE=n=>n.timeStamp||Date.now(),Fx=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:Nx,createGesture:yd},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _O=n=>qE(n),qr=(n,e)=>(typeof n=="string"&&(e=n,n=void 0),_O(n).includes(e)),qE=(n=window)=>{if(typeof n>"u")return[];n.Ionic=n.Ionic||{};let e=n.Ionic.platforms;return e==null&&(e=n.Ionic.platforms=CO(n),e.forEach(t=>n.document.documentElement.classList.add("plt-".concat(t)))),e},CO=n=>{const e=ze.get("platform");return Object.keys(U2).filter(t=>{const r=e==null?void 0:e[t];return typeof r=="function"?r(n):U2[t](n)})},EO=n=>$p(n)&&!KE(n),$x=n=>!!(ys(n,/iPad/i)||ys(n,/Macintosh/i)&&$p(n)),SO=n=>ys(n,/iPhone/i),TO=n=>ys(n,/iPhone|iPod/i)||$x(n),GE=n=>ys(n,/android|sink/i),AO=n=>GE(n)&&!ys(n,/mobile/i),IO=n=>{const e=n.innerWidth,t=n.innerHeight,r=Math.min(e,t),i=Math.max(e,t);return r>390&&r<520&&i>620&&i<800},RO=n=>{const e=n.innerWidth,t=n.innerHeight,r=Math.min(e,t),i=Math.max(e,t);return $x(n)||AO(n)||r>460&&r<820&&i>780&&i<1400},$p=n=>PO(n,"(any-pointer:coarse)"),DO=n=>!$p(n),KE=n=>YE(n)||XE(n),YE=n=>!!(n.cordova||n.phonegap||n.PhoneGap),XE=n=>{const e=n.Capacitor;return!!(e!=null&&e.isNative||e!=null&&e.isNativePlatform&&e.isNativePlatform())},OO=n=>ys(n,/electron/i),MO=n=>{var e;return!!(!((e=n.matchMedia)===null||e===void 0)&&e.call(n,"(display-mode: standalone)").matches||n.navigator.standalone)},ys=(n,e)=>e.test(n.navigator.userAgent),PO=(n,e)=>{var t;return(t=n.matchMedia)===null||t===void 0?void 0:t.call(n,e).matches},U2={ipad:$x,iphone:SO,ios:TO,android:GE,phablet:IO,tablet:RO,cordova:YE,capacitor:XE,electron:OO,pwa:MO,mobile:$p,mobileweb:EO,desktop:DO,hybrid:KE};let cl;const pe=n=>n&&gD(n)||cl,BO=(n={})=>{if(typeof window>"u")return;const e=window.document,t=window,r=t.Ionic=t.Ionic||{},i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},WD(t)),{persistConfig:!1}),r.config),qD(t)),n);ze.reset(i),ze.getBoolean("persistConfig")&&VD(t,i),qE(t),r.config=ze,r.mode=cl=ze.get("mode",e.documentElement.getAttribute("mode")||(qr(t,"ios")?"ios":"md")),ze.set("mode",cl),e.documentElement.setAttribute("mode",cl),e.documentElement.classList.add(cl),ze.getBoolean("_testing")&&ze.set("animated",!1);const o=s=>{var l;return(l=s.tagName)===null||l===void 0?void 0:l.startsWith("ION-")},a=s=>["ios","md"].includes(s);mD(s=>{for(;s;){const l=s.mode||s.getAttribute("mode");if(l){if(a(l))return l;o(s)&&yt('Invalid ionic mode: "'+l+'", expected: "ios" or "md"')}s=s.parentElement}return cl})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ux=n=>{try{if(n instanceof NO)return n.value;if(!zO()||typeof n!="string"||n==="")return n;if(n.includes("onload="))return"";const e=document.createDocumentFragment(),t=document.createElement("div");e.appendChild(t),t.innerHTML=n,jO.forEach(a=>{const s=e.querySelectorAll(a);for(let l=s.length-1;l>=0;l--){const c=s[l];c.parentNode?c.parentNode.removeChild(c):e.removeChild(c);const u=Mb(c);for(let d=0;d<u.length;d++)Ob(u[d])}});const r=Mb(e);for(let a=0;a<r.length;a++)Ob(r[a]);const i=document.createElement("div");i.appendChild(e);const o=i.querySelector("div");return o!==null?o.innerHTML:i.innerHTML}catch(e){return Xr("sanitizeDOMString",e),""}},Ob=n=>{if(n.nodeType&&n.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(n.attributes instanceof NamedNodeMap)){n.remove();return}for(let t=n.attributes.length-1;t>=0;t--){const r=n.attributes.item(t),i=r.name;if(!LO.includes(i.toLowerCase())){n.removeAttribute(i);continue}const o=r.value,a=n[i];(o!=null&&o.toLowerCase().includes("javascript:")||a!=null&&a.toLowerCase().includes("javascript:"))&&n.removeAttribute(i)}const e=Mb(n);for(let t=0;t<e.length;t++)Ob(e[t])},Mb=n=>n.children!=null?n.children:n.childNodes,zO=()=>{var n;const e=window,t=(n=e==null?void 0:e.Ionic)===null||n===void 0?void 0:n.config;return t?t.get?t.get("sanitizerEnabled",!0):t.sanitizerEnabled===!0||t.sanitizerEnabled===void 0:!0},LO=["class","id","href","src","name","slot"],jO=["script","style","iframe","meta","link","object","embed"];class NO{constructor(e){this.value=e}}const Hx=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ot=(n,e)=>e.closest(n)!==null,mt=(n,e)=>typeof n=="string"&&n.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(n)]:!0},e):e,FO=n=>n!==void 0?(Array.isArray(n)?n:n.split(" ")).filter(t=>t!=null).map(t=>t.trim()).filter(t=>t!==""):[],Nn=n=>{const e={};return FO(n).forEach(t=>e[t]=!0),e},$O=/^[a-z][a-z0-9+\-.]*:/,Up=async(n,e,t,r)=>{if(n!=null&&n[0]!=="#"&&!$O.test(n)){const i=document.querySelector("ion-router");if(i)return e!=null&&e.preventDefault(),i.push(n,t,r)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ic=()=>ze.get("experimentalCloseWatcher",!1)&&dt!==void 0&&"CloseWatcher"in dt,UO=()=>{document.addEventListener("backbutton",()=>{})},HO=()=>{const n=document;let e=!1;const t=()=>{if(e)return;let r=0,i=[];const o=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(l,c){i.push({priority:l,handler:c,id:r++})}}});n.dispatchEvent(o);const a=async l=>{try{if(l!=null&&l.handler){const c=l.handler(s);c!=null&&await c}}catch(c){Xr("[ion-app] - Exception in startHardwareBackButton:",c)}},s=()=>{if(i.length>0){let l={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(c=>{c.priority>=l.priority&&(l=c)}),e=!0,i=i.filter(c=>c.id!==l.id),a(l).then(()=>e=!1)}};s()};if(ic()){let r;const i=()=>{r==null||r.destroy(),r=new dt.CloseWatcher,r.onclose=()=>{t(),i()}};i()}else n.addEventListener("backbutton",t)},ZE=100,JE=99,WO=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:JE,OVERLAY_BACK_BUTTON_PRIORITY:ZE,blockHardwareBackButton:UO,shouldUseCloseWatcher:ic,startHardwareBackButton:HO},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Wx=n=>me().duration(n?400:300),VO=n=>{let e,t;const r=n.width+8,i=me(),o=me();n.isEndSide?(e=r+"px",t="0px"):(e=-r+"px",t="0px"),i.addElement(n.menuInnerEl).fromTo("transform","translateX(".concat(e,")"),"translateX(".concat(t,")"));const s=pe(n)==="ios",l=s?.2:.25;return o.addElement(n.backdropEl).fromTo("opacity",.01,l),Wx(s).addAnimation([i,o])},qO=n=>{let e,t;const r=pe(n),i=n.width;n.isEndSide?(e=-i+"px",t=i+"px"):(e=i+"px",t=-i+"px");const o=me().addElement(n.menuInnerEl).fromTo("transform","translateX(".concat(t,")"),"translateX(0px)"),a=me().addElement(n.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(e,")")),s=me().addElement(n.backdropEl).fromTo("opacity",.01,.32);return Wx(r==="ios").addAnimation([o,a,s])},GO=n=>{const e=pe(n),t=n.width*(n.isEndSide?-1:1)+"px",r=me().addElement(n.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(t,")"));return Wx(e==="ios").addAnimation(r)},KO=()=>{const n=new Map,e=[],t=async _=>{const T=await c(_,!0);return T?T.open():!1},r=async _=>{const T=await(_!==void 0?c(_,!0):u());return T!==void 0?T.close():!1},i=async _=>{const T=await c(_,!0);return T?T.toggle():!1},o=async(_,T)=>{const E=await c(T);return E&&(E.disabled=!_),E},a=async(_,T)=>{const E=await c(T);return E&&(E.swipeGesture=_),E},s=async _=>{if(_!=null){const T=await c(_);return T!==void 0&&T.isOpen()}else return await u()!==void 0},l=async _=>{const T=await c(_);return T?!T.disabled:!1},c=async(_,T=!1)=>{if(await k(),_==="start"||_==="end"){const A=e.filter(I=>I.side===_&&!I.disabled);if(A.length>=1)return A.length>1&&T&&yt('menuController queried for a menu on the "'.concat(_,'" side, but ').concat(A.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),A.map(I=>I.el)),A[0].el;const M=e.filter(I=>I.side===_);if(M.length>=1)return M.length>1&&T&&yt('menuController queried for a menu on the "'.concat(_,'" side, but ').concat(M.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),M.map(I=>I.el)),M[0].el}else if(_!=null)return w(A=>A.menuId===_);const E=w(A=>!A.disabled);return E||(e.length>0?e[0].el:void 0)},u=async()=>(await k(),v()),d=async()=>(await k(),x()),h=async()=>(await k(),y()),f=(_,T)=>{n.set(_,T)},p=_=>{e.indexOf(_)<0&&e.push(_)},m=_=>{const T=e.indexOf(_);T>-1&&e.splice(T,1)},b=async(_,T,E,A)=>{if(y())return!1;if(T){const M=await u();M&&_.el!==M&&await M.setOpen(!1,!1)}return _._setOpen(T,E,A)},g=(_,T)=>{const E=n.get(_);if(!E)throw new Error("animation not registered");return E(T)},v=()=>w(_=>_._isOpen),x=()=>e.map(_=>_.el),y=()=>e.some(_=>_.isAnimating),w=_=>{const T=e.find(_);if(T!==void 0)return T.el},k=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(_=>new Promise(T=>gi(_,T))));return f("reveal",GO),f("push",qO),f("overlay",VO),Sr==null||Sr.addEventListener("ionBackButton",_=>{const T=v();T&&_.detail.register(JE,()=>T.close())}),{registerAnimation:f,get:c,getMenus:d,getOpen:u,isEnabled:l,swipeGesture:a,isAnimating:h,isOpen:s,enable:o,toggle:i,close:r,open:t,_getOpenSync:v,_createAnimation:g,_register:p,_unregister:m,_setOpen:b}},Zo=KO();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wd=async(n,e,t,r,i,o)=>{var a;if(n)return n.attachViewToDom(e,t,i,r);if(!o&&typeof t!="string"&&!(t instanceof HTMLElement))throw new Error("framework delegate is missing");const s=typeof t=="string"?(a=e.ownerDocument)===null||a===void 0?void 0:a.createElement(t):t;return r&&r.forEach(l=>s.classList.add(l)),i&&Object.assign(s,i),e.appendChild(s),await new Promise(l=>gi(s,l)),s},Vx=(n,e)=>{if(e){if(n){const t=e.parentElement;return n.removeViewFromDom(t,e)}e.remove()}return Promise.resolve()},qx=()=>{let n,e;return{attachViewToDom:async(i,o,a={},s=[])=>{var l,c;n=i;let u;if(o){const h=typeof o=="string"?(l=n.ownerDocument)===null||l===void 0?void 0:l.createElement(o):o;s.forEach(f=>h.classList.add(f)),Object.assign(h,a),n.appendChild(h),u=h,await new Promise(f=>gi(h,f))}else if(n.children.length>0&&(n.tagName==="ION-MODAL"||n.tagName==="ION-POPOVER")&&!(u=n.children[0]).classList.contains("ion-delegate-host")){const f=(c=n.ownerDocument)===null||c===void 0?void 0:c.createElement("div");f.classList.add("ion-delegate-host"),s.forEach(p=>f.classList.add(p)),f.append(...n.children),n.appendChild(f),u=f}const d=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),n.parentNode.insertBefore(e,n),d.appendChild(n),u!=null?u:n},removeViewFromDom:()=>(n&&e&&(e.parentNode.insertBefore(n,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kd='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',jf=(n,e)=>{const t=n.querySelector(kd);QE(t,e!=null?e:n)},Pb=(n,e)=>{const t=Array.from(n.querySelectorAll(kd)),r=t.length>0?t[t.length-1]:null;QE(r,e!=null?e:n)},QE=(n,e)=>{let t=n;const r=n==null?void 0:n.shadowRoot;if(r&&(t=r.querySelector(kd)||n),t){const i=t.closest("ion-radio-group");i?i.setFocus():zf(t)}else e.focus()};let Bb=0,YO=0;const Nf=new WeakMap,_d=n=>({create(e){return t9(n,e)},dismiss(e,t,r){return o9(document,e,t,n,r)},async getTop(){return oc(document,n)}}),XO=_d("ion-alert"),ZO=_d("ion-action-sheet"),JO=_d("ion-modal"),QO=_d("ion-popover"),e9=_d("ion-toast"),xc=n=>{typeof document<"u"&&i9(document);const e=Bb++;n.overlayIndex=e},yc=n=>(n.hasAttribute("id")||(n.id="ion-overlay-".concat(++YO)),n.id),t9=(n,e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(n).then(()=>{const t=document.createElement(n);return t.classList.add("overlay-hidden"),Object.assign(t,Object.assign(Object.assign({},e),{hasController:!0})),tS(document).appendChild(t),new Promise(r=>gi(t,r))}):Promise.resolve(),n9=n=>n.classList.contains("overlay-hidden"),H2=(n,e)=>{let t=n;const r=n==null?void 0:n.shadowRoot;r&&(t=r.querySelector(kd)||n),t?zf(t):e.focus()},r9=(n,e)=>{const t=oc(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),r=n.target;if(!t||!r||t.classList.contains(Wu))return;const i=()=>{if(t===r)t.lastFocus=void 0;else if(r.tagName==="ION-TOAST")H2(t.lastFocus,t);else{const a=Lt(t);if(!a.contains(r))return;const s=a.querySelector(".ion-overlay-wrapper");if(!s)return;if(s.contains(r)||r===a.querySelector("ion-backdrop"))t.lastFocus=r;else{const l=t.lastFocus;jf(s,t),l===e.activeElement&&Pb(s,t),t.lastFocus=e.activeElement}}},o=()=>{if(t.contains(r))t.lastFocus=r;else if(r.tagName==="ION-TOAST")H2(t.lastFocus,t);else{const a=t.lastFocus;jf(t),a===e.activeElement&&Pb(t),t.lastFocus=e.activeElement}};t.shadowRoot?o():i()},i9=n=>{Bb===0&&(Bb=1,n.addEventListener("focus",e=>{r9(e,n)},!0),n.addEventListener("ionBackButton",e=>{const t=oc(n);t!=null&&t.backdropDismiss&&e.detail.register(ZE,()=>{t.dismiss(void 0,Ui)})}),ic()||n.addEventListener("keydown",e=>{if(e.key==="Escape"){const t=oc(n);t!=null&&t.backdropDismiss&&t.dismiss(void 0,Ui)}}))},o9=(n,e,t,r,i)=>{const o=oc(n,r,i);return o?o.dismiss(e,t):Promise.reject("overlay does not exist")},a9=(n,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(n.querySelectorAll(e)).filter(t=>t.overlayIndex>0)),Hp=(n,e)=>a9(n,e).filter(t=>!n9(t)),oc=(n,e,t)=>{const r=Hp(n,e);return t===void 0?r[r.length-1]:r.find(i=>i.id===t)},eS=(n=!1)=>{const t=tS(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(n?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},wc=async(n,e,t,r,i)=>{var o,a;if(n.presented)return;n.el.tagName!=="ION-TOAST"&&(eS(!0),document.body.classList.add(Lf)),u9(n.el),iS(n.el),n.presented=!0,n.willPresent.emit(),(o=n.willPresentShorthand)===null||o===void 0||o.emit();const s=pe(n),l=n.enterAnimation?n.enterAnimation:ze.get(e,s==="ios"?t:r);await nS(n,l,n.el,i)&&(n.didPresent.emit(),(a=n.didPresentShorthand)===null||a===void 0||a.emit()),n.el.tagName!=="ION-TOAST"&&s9(n.el),n.keyboardClose&&(document.activeElement===null||!n.el.contains(document.activeElement))&&n.el.focus(),n.el.removeAttribute("aria-hidden")},s9=async n=>{let e=document.activeElement;if(!e)return;const t=e==null?void 0:e.shadowRoot;t&&(e=t.querySelector(kd)||e),await n.onDidDismiss(),(document.activeElement===null||document.activeElement===document.body)&&e.focus()},kc=async(n,e,t,r,i,o,a)=>{var s,l;if(!n.presented)return!1;const u=(Sr!==void 0?Hp(Sr):[]).filter(h=>h.tagName!=="ION-TOAST");u.length===1&&u[0].id===n.el.id&&(eS(!1),document.body.classList.remove(Lf)),n.presented=!1;try{iS(n.el),n.el.style.setProperty("pointer-events","none"),n.willDismiss.emit({data:e,role:t}),(s=n.willDismissShorthand)===null||s===void 0||s.emit({data:e,role:t});const h=pe(n),f=n.leaveAnimation?n.leaveAnimation:ze.get(r,h==="ios"?i:o);t!==yo&&await nS(n,f,n.el,a),n.didDismiss.emit({data:e,role:t}),(l=n.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:t}),(Nf.get(n)||[]).forEach(m=>m.destroy()),Nf.delete(n),n.el.classList.add("overlay-hidden"),n.el.style.removeProperty("pointer-events"),n.el.lastFocus!==void 0&&(n.el.lastFocus=void 0)}catch(h){Xr("[".concat(n.el.tagName.toLowerCase(),"] - "),h)}return n.el.remove(),d9(),!0},tS=n=>n.querySelector("ion-app")||n.body,nS=async(n,e,t,r)=>{t.classList.remove("overlay-hidden");const i=n.el,o=e(i,r);(!n.animated||!ze.getBoolean("animated",!0))&&o.duration(0),n.keyboardClose&&o.beforeAddWrite(()=>{const s=t.ownerDocument.activeElement;s!=null&&s.matches("input,ion-input, ion-textarea")&&s.blur()});const a=Nf.get(n)||[];return Nf.set(n,[...a,o]),await o.play(),!0},Zr=(n,e)=>{let t;const r=new Promise(i=>t=i);return l9(n,e,i=>{t(i.detail)}),r},l9=(n,e,t)=>{const r=i=>{PE(n,e,r),t(i)};jx(n,e,r)},ws=n=>n==="cancel"||n===Ui,c9=n=>n(),cs=(n,e)=>{if(typeof n=="function")return ze.get("_zoneGate",c9)(()=>{try{return n(e)}catch(r){throw r}})},Ui="backdrop",yo="gesture",rS=39,Wp=n=>{let e=!1,t;const r=qx(),i=(s=!1)=>{if(t&&!s)return{delegate:t,inline:e};const{el:l,hasController:c,delegate:u}=n;return e=l.parentNode!==null&&!c,t=e?u||r:u,{inline:e,delegate:t}};return{attachViewToDom:async s=>{const{delegate:l}=i(!0);if(l)return await l.attachViewToDom(n.el,s);const{hasController:c}=n;if(c&&s!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:s}=i();s&&n.el!==void 0&&s.removeViewFromDom(n.el.parentElement,n.el)}}},Cd=()=>{let n;const e=()=>{n&&(n(),n=void 0)};return{addClickListener:(r,i)=>{e();const o=i!==void 0?document.getElementById(i):null;if(!o){yt("[".concat(r.tagName.toLowerCase(),'] - A trigger element with the ID "').concat(i,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.'),r);return}n=((s,l)=>{const c=()=>{l.present()};return s.addEventListener("click",c),()=>{s.removeEventListener("click",c)}})(o,r)},removeClickListener:e}},iS=n=>{Sr!==void 0&&qr("android")&&n.setAttribute("aria-hidden","true")},u9=n=>{var e;if(Sr===void 0)return;const t=Hp(Sr);for(let r=t.length-1;r>=0;r--){const i=t[r],o=(e=t[r+1])!==null&&e!==void 0?e:n;(o.hasAttribute("aria-hidden")||o.tagName!=="ION-TOAST")&&i.setAttribute("aria-hidden","true")}},d9=()=>{if(Sr===void 0)return;const n=Hp(Sr);for(let e=n.length-1;e>=0;e--){const t=n[e];if(t.removeAttribute("aria-hidden"),t.tagName!=="ION-TOAST")break}},Wu="ion-disable-focus-trap";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const oS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",h9="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>",f9="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",p9="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",m9="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M136 208l120-104 120 104M136 304l120 104 120-104' stroke-width='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none'/></svg>",W2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",aS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",sS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",g9="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",b9="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='64'/><path d='M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 00-.1-34.76zM256 352a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",v9="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 448a15.92 15.92 0 01-11.31-4.69l-352-352a16 16 0 0122.62-22.62l352 352A16 16 0 01432 448zM248 315.85l-51.79-51.79a2 2 0 00-3.39 1.69 64.11 64.11 0 0053.49 53.49 2 2 0 001.69-3.39zM264 196.15L315.87 248a2 2 0 003.4-1.69 64.13 64.13 0 00-53.55-53.55 2 2 0 00-1.72 3.39z'/><path d='M491 273.36a32.2 32.2 0 00-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.54 226.54 0 00-71.82 11.79 4 4 0 00-1.56 6.63l47.24 47.24a4 4 0 003.82 1.05 96 96 0 01116 116 4 4 0 001.05 3.81l67.95 68a4 4 0 005.4.24 343.81 343.81 0 0067.24-77.4zM256 352a96 96 0 01-93.3-118.63 4 4 0 00-1.05-3.81l-66.84-66.87a4 4 0 00-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.22 238.22 0 0072.64-11.55 4 4 0 001.61-6.64l-47.47-47.46a4 4 0 00-3.81-1.05A96 96 0 01256 352z'/></svg>",x9="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",y9="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",V2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",w9="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",k9="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Og;const _9=()=>{if(typeof window>"u")return new Map;if(!Og){const n=window;n.Ionicons=n.Ionicons||{},Og=n.Ionicons.map=n.Ionicons.map||new Map}return Og},C9=n=>{let e=Mg(n.src);return e||(e=lS(n.name,n.icon,n.mode,n.ios,n.md),e?E9(e,n):n.icon&&(e=Mg(n.icon),e||(e=Mg(n.icon[n.mode]),e))?e:null)},E9=(n,e)=>{const t=_9().get(n);if(t)return t;try{return yE("svg/".concat(n,".svg"))}catch(r){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(n,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},lS=(n,e,t,r,i)=>(t=(t&&uh(t))==="ios"?"ios":"md",r&&t==="ios"?n=uh(r):i&&t==="md"?n=uh(i):(!n&&e&&!cS(e)&&(n=e),Ff(n)&&(n=uh(n))),!Ff(n)||n.trim()===""||n.replace(/[a-z]|-|\d/gi,"")!==""?null:n),Mg=n=>Ff(n)&&(n=n.trim(),cS(n))?n:null,cS=n=>n.length>0&&/(\/|\.)/.test(n),Ff=n=>typeof n=="string",uh=n=>n.toLowerCase(),S9=(n,e=[])=>{const t={};return e.forEach(r=>{n.hasAttribute(r)&&(n.getAttribute(r)!==null&&(t[r]=n.getAttribute(r)),n.removeAttribute(r))}),t},T9=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",A9=n=>{const e=document.createElement("div");e.innerHTML=n;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const t=e.firstElementChild;if(t&&t.nodeName.toLowerCase()==="svg"){const r=t.getAttribute("class")||"";if(t.setAttribute("class",(r+" s-ion-icon").trim()),uS(t))return e.innerHTML}return""},uS=n=>{if(n.nodeType===1){if(n.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;if(Ff(t)&&t.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<n.childNodes.length;e++)if(!uS(n.childNodes[e]))return!1}return!0},I9=n=>n.startsWith("data:image/svg+xml"),R9=n=>n.indexOf(";utf8,")!==-1,Ya=new Map,q2=new Map;let Pg;const D9=(n,e)=>{let t=q2.get(n);if(!t)if(typeof fetch<"u"&&typeof document<"u")if(I9(n)&&R9(n)){Pg||(Pg=new DOMParser);const i=Pg.parseFromString(n,"text/html").querySelector("svg");return i&&Ya.set(n,i.outerHTML),Promise.resolve()}else t=fetch(n).then(r=>{if(r.ok)return r.text().then(i=>{i&&e!==!1&&(i=A9(i)),Ya.set(n,i||"")});Ya.set(n,"")}),q2.set(n,t);else return Ya.set(n,""),Promise.resolve();return t},O9=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",M9=O9,P9=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=B9(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=S9(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,r){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:t});i.observe(e)}else r()}loadIcon(){if(this.isVisible){const e=C9(this);e&&(Ya.has(e)?this.svgContent=Ya.get(e):D9(e,this.sanitize).then(()=>this.svgContent=Ya.get(e)),this.didLoadIcon=!0)}this.iconName=lS(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:t,inheritedAttributes:r,el:i}=this,o=this.mode||"md",a=t?(t.includes("arrow")||t.includes("chevron"))&&e!==!1:!1,s=e||a;return D(Pe,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},z9(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":s,"icon-rtl":s&&T9(i)})},r),this.svgContent?D("div",{class:"icon-inner",innerHTML:this.svgContent}):D("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return M9}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),B9=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",z9=n=>n?{"ion-color":!0,["ion-color-".concat(n)]:!0}:null;function Jr(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,P9);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const L9=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:48px;height:48px}",j9=L9,N9=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:64px;height:64px}",F9=N9,$9=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return D(Pe,{key:"998217066084f966bf5d356fed85bcbd451f675a",class:pe(this)},D("slot",{key:"1a6f7c9d4dc6a875f86b5b3cda6d59cb39587f22"}))}static get style(){return{ios:j9,md:F9}}},[33,"ion-avatar"]);function U9(){if(typeof customElements>"u")return;["ion-avatar"].forEach(e=>{switch(e){case"ion-avatar":customElements.get(e)||customElements.define(e,$9);break}})}const H9=U9;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const W9=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",V9=W9,q9=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",G9=q9,K9=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=ae(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=pe(this);return D(Pe,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:V9,md:G9}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function Os(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,K9);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Y9=":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px;font-size:max(13px, 0.8125rem)}",X9=Y9,Z9=":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}",J9=Z9,Q9=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=pe(this);return D(Pe,{key:"1a2d39c5deec771a2f2196447627b62a7d4c8389",class:mt(this.color,{[e]:!0})},D("slot",{key:"fc1b6587f1ed24715748eb6785e7fb7a57cdd5cd"}))}static get style(){return{ios:X9,md:J9}}},[33,"ion-badge",{color:[513]}]);function e7(){if(typeof customElements>"u")return;["ion-badge"].forEach(e=>{switch(e){case"ion-badge":customElements.get(e)||customElements.define(e,Q9);break}})}const t7=e7;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const n7=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",r7=n7,i7=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",o7=i7,a7=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=pe(this);return D(Pe,{key:"58c1fc5eb867d0731c63549b1ccb3ec3bbbe6e1b",class:{[e]:!0,"buttons-collapse":this.collapse}},D("slot",{key:"0c8f95b9840c8fa0c4e50be84c5159620a3eb5c8"}))}static get style(){return{ios:r7,md:o7}}},[38,"ion-buttons",{collapse:[4]}]);function Gx(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,a7);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const s7=Gx;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const l7="ion-card-content{display:block;position:relative}.card-content-ios{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:20px;font-size:1rem;line-height:1.4}.card-content-ios h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-ios h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-ios h3,.card-content-ios h4,.card-content-ios h5,.card-content-ios h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-ios p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem}ion-card-header+.card-content-ios{padding-top:0}",c7=l7,u7="ion-card-content{display:block;position:relative}.card-content-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:13px;padding-bottom:13px;font-size:0.875rem;line-height:1.5}.card-content-md h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-md h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-md h3,.card-content-md h4,.card-content-md h5,.card-content-md h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-md p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:1.5}ion-card-header+.card-content-md{padding-top:0}",d7=u7,h7=Oe(class extends Ae{constructor(){super(),this.__registerHost()}render(){const e=pe(this);return D(Pe,{key:"d98e4d1fc6ad3237549f9bc17e4c67ec5059b1b3",class:{[e]:!0,["card-content-".concat(e)]:!0}})}static get style(){return{ios:c7,md:d7}}},[32,"ion-card-content"]);function f7(){if(typeof customElements>"u")return;["ion-card-content"].forEach(e=>{switch(e){case"ion-card-content":customElements.get(e)||customElements.define(e,h7);break}})}const p7=f7;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const m7=":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:16px;-ms-flex-direction:column-reverse;flex-direction:column-reverse}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.card-header-translucent){background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(30px);backdrop-filter:saturate(180%) blur(30px)}}",g7=m7,b7=":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:16px;padding-bottom:16px}::slotted(ion-card-title:not(:first-child)),::slotted(ion-card-subtitle:not(:first-child)){margin-top:8px}",v7=b7,x7=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.translucent=!1}render(){const e=pe(this);return D(Pe,{key:"64246b81931203a64d553c788cd736f41e23f37b",class:mt(this.color,{"card-header-translucent":this.translucent,"ion-inherit-color":!0,[e]:!0})},D("slot",{key:"af2da2dfe266889afeb57fac25c6a730558dbba4"}))}static get style(){return{ios:g7,md:v7}}},[33,"ion-card-header",{color:[513],translucent:[4]}]);function y7(){if(typeof customElements>"u")return;["ion-card-header"].forEach(e=>{switch(e){case"ion-card-header":customElements.get(e)||customElements.define(e,x7);break}})}const w7=y7;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const k7=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));margin-left:0;margin-right:0;margin-top:0;margin-bottom:4px;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.75rem;font-weight:700;letter-spacing:0.4px;text-transform:uppercase}",_7=k7,C7=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.875rem;font-weight:500}",E7=C7,S7=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=pe(this);return D(Pe,{key:"84d820a19d9074f9c8bc61ccba1ca40062a60b73",role:"heading","aria-level":"3",class:mt(this.color,{"ion-inherit-color":!0,[e]:!0})},D("slot",{key:"e4d07d395a1f4469a90847636083101b32b776a1"}))}static get style(){return{ios:_7,md:E7}}},[33,"ion-card-subtitle",{color:[513]}]);function T7(){if(typeof customElements>"u")return;["ion-card-subtitle"].forEach(e=>{switch(e){case"ion-card-subtitle":customElements.get(e)||customElements.define(e,S7);break}})}const A7=T7;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const I7=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-text-color, #000);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.75rem;font-weight:700;line-height:1.2}",R7=I7,D7=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;line-height:1.2}",O7=D7,M7=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=pe(this);return D(Pe,{key:"fca001a86396e83718d5211cd71912fdf40dea2f",role:"heading","aria-level":"2",class:mt(this.color,{"ion-inherit-color":!0,[e]:!0})},D("slot",{key:"2ba416aed488b2ff462fa75fb3b70373a6dd7da6"}))}static get style(){return{ios:R7,md:O7}}},[33,"ion-card-title",{color:[513]}]);function P7(){if(typeof customElements>"u")return;["ion-card-title"].forEach(e=>{switch(e){case"ion-card-title":customElements.get(e)||customElements.define(e,M7);break}})}const B7=P7;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const z7=":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}.checkbox-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.checkbox-label-placement-stacked) .checkbox-bottom{font-size:1rem}.checkbox-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.checkbox-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .checkbox-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .checkbox-bottom .helper-text{display:none}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:50%;--border-width:0.125rem;--border-style:solid;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.23);--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--size:min(1.375rem, 55.836px);--checkmark-width:1.5px}:host(.checkbox-disabled){opacity:0.3}",L7=z7,j7=":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}.checkbox-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.checkbox-label-placement-stacked) .checkbox-bottom{font-size:1rem}.checkbox-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.checkbox-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .checkbox-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .checkbox-bottom .helper-text{display:none}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:calc(var(--size) * .125);--border-width:2px;--border-style:solid;--border-color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--checkmark-width:3;--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--transition:background 180ms cubic-bezier(0.4, 0, 0.2, 1);--size:18px}.checkbox-icon path{stroke-dasharray:30;stroke-dashoffset:30}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{stroke-dashoffset:0;-webkit-transition:stroke-dashoffset 90ms linear 90ms;transition:stroke-dashoffset 90ms linear 90ms}:host(.checkbox-disabled) .label-text-wrapper{opacity:0.38}:host(.checkbox-disabled) .native-wrapper{opacity:0.63}",N7=j7,F7=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ae(this,"ionChange",7),this.ionFocus=ae(this,"ionFocus",7),this.ionBlur=ae(this,"ionBlur",7),this.inputId="ion-cb-".concat($7++),this.inputLabelId="".concat(this.inputId,"-lbl"),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.setChecked=e=>{const t=this.checked=e;this.ionChange.emit({checked:t,value:this.value})},this.toggleChecked=e=>{e.preventDefault(),this.setFocus(),this.setChecked(!this.checked),this.indeterminate=!1},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.onKeyDown=e=>{e.key===" "&&(e.preventDefault(),this.disabled||this.toggleChecked(e))},this.onClick=e=>{this.disabled||this.toggleChecked(e)},this.color=void 0,this.name=this.inputId,this.checked=!1,this.indeterminate=!1,this.disabled=!1,this.errorText=void 0,this.helperText=void 0,this.value="on",this.labelPlacement="start",this.justify=void 0,this.alignment=void 0,this.required=!1}componentWillLoad(){this.inheritedAttributes=Object.assign({},vi(this.el))}async setFocus(){this.focusEl&&this.focusEl.focus()}getHintTextID(){const{el:e,helperText:t,errorText:r,helperTextId:i,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&r)return o;if(t)return i}renderHintText(){const{helperText:e,errorText:t,helperTextId:r,errorTextId:i}=this;if(e||t)return D("div",{class:"checkbox-bottom"},D("div",{id:r,class:"helper-text",part:"supporting-text helper-text"},e),D("div",{id:i,class:"error-text",part:"supporting-text error-text"},t))}render(){const{color:e,checked:t,disabled:r,el:i,getSVGPath:o,indeterminate:a,inheritedAttributes:s,inputId:l,justify:c,labelPlacement:u,name:d,value:h,alignment:f,required:p}=this,m=pe(this),b=o(m,a),g=i.textContent!=="";return xd(!0,i,d,t?h:"",r),D(Pe,{key:"90bb17a4fae17088524555968a002327400807cf",role:"checkbox","aria-checked":a?"mixed":"".concat(t),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,"aria-labelledby":g?this.inputLabelId:null,"aria-label":s["aria-label"]||null,"aria-disabled":r?"true":null,tabindex:r?void 0:0,onKeyDown:this.onKeyDown,class:mt(e,{[m]:!0,"in-item":Ot("ion-item",i),"checkbox-checked":t,"checkbox-disabled":r,"checkbox-indeterminate":a,interactive:!0,["checkbox-justify-".concat(c)]:c!==void 0,["checkbox-alignment-".concat(f)]:f!==void 0,["checkbox-label-placement-".concat(u)]:!0}),onClick:this.onClick},D("label",{key:"58b5762aa358dff81910874631e06620a2ae1561",class:"checkbox-wrapper",htmlFor:l},D("input",Object.assign({key:"6abe299d690c345d36d6fd76ab113fdccfbbac52",type:"checkbox",checked:t?!0:void 0,disabled:r,id:l,onChange:this.toggleChecked,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:v=>this.focusEl=v,required:p},s)),D("div",{key:"2654168e45ccfdbcfe13af8c97e0e21d61ba0150",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!g},part:"label",id:this.inputLabelId},D("slot",{key:"a91f3f67d9ddd6b616e48799aba11cae3564d1ab"}),this.renderHintText()),D("div",{key:"d5a9170b084d09df6b02f416e744085b5bcf0dde",class:"native-wrapper"},D("svg",{key:"b1968ce4aa9d652a9f2bdc427ea3a65e6c04df51",class:"checkbox-icon",viewBox:"0 0 24 24",part:"container"},b))))}getSVGPath(e,t){let r=t?D("path",{d:"M6 12L18 12",part:"mark"}):D("path",{d:"M5.9,12.5l3.8,3.8l8.8-8.8",part:"mark"});return e==="md"&&(r=t?D("path",{d:"M2 12H22",part:"mark"}):D("path",{d:"M1.73,12.91 8.1,19.28 22.79,4.59",part:"mark"})),r}get el(){return this}static get style(){return{ios:L7,md:N7}}},[33,"ion-checkbox",{color:[513],name:[1],checked:[1028],indeterminate:[1028],disabled:[4],errorText:[1,"error-text"],helperText:[1,"helper-text"],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],required:[4],setFocus:[64]}]);let $7=0;function Kx(){if(typeof customElements>"u")return;["ion-checkbox"].forEach(e=>{switch(e){case"ion-checkbox":customElements.get(e)||customElements.define(e,F7);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const U7=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",H7=U7,W7=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,t){return new Promise(r=>{bs(()=>{const i=this.el.getBoundingClientRect(),o=i.width,a=i.height,s=Math.sqrt(o*o+a*a),l=Math.max(a,o),c=this.unbounded?l:s+q7,u=Math.floor(l*G7),d=c/u;let h=e-i.left,f=t-i.top;this.unbounded&&(h=o*.5,f=a*.5);const p=h-u*.5,m=f-u*.5,b=o*.5-h,g=a*.5-f;or(()=>{const v=document.createElement("div");v.classList.add("ripple-effect");const x=v.style;x.top=m+"px",x.left=p+"px",x.width=x.height=u+"px",x.setProperty("--final-scale","".concat(d)),x.setProperty("--translate-end","".concat(b,"px, ").concat(g,"px")),(this.el.shadowRoot||this.el).appendChild(v),setTimeout(()=>{r(()=>{V7(v)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=pe(this);return D(Pe,{key:"40c7f73e7f5f67e29f83e1236a61c6e1c9943c42",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return H7}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),V7=n=>{n.classList.add("fade-out"),setTimeout(()=>{n.remove()},200)},q7=10,G7=.5;function Qr(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,W7);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const K7={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},Y7=n=>{if(n===void 0||n==="")return!0;if(window.matchMedia){const e=K7[n];return window.matchMedia(e).matches}return!1},X7=":host{-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}",Z7=X7,dh=typeof window<"u"?window:void 0,G2=dh&&!!(dh.CSS&&dh.CSS.supports&&dh.CSS.supports("--a: 0")),J7=["","xs","sm","md","lg","xl"],Q7=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.offset=void 0,this.offsetXs=void 0,this.offsetSm=void 0,this.offsetMd=void 0,this.offsetLg=void 0,this.offsetXl=void 0,this.pull=void 0,this.pullXs=void 0,this.pullSm=void 0,this.pullMd=void 0,this.pullLg=void 0,this.pullXl=void 0,this.push=void 0,this.pushXs=void 0,this.pushSm=void 0,this.pushMd=void 0,this.pushLg=void 0,this.pushXl=void 0,this.size=void 0,this.sizeXs=void 0,this.sizeSm=void 0,this.sizeMd=void 0,this.sizeLg=void 0,this.sizeXl=void 0}onResize(){Sn(this)}getColumns(e){let t;for(const r of J7){const i=Y7(r),o=this[e+r.charAt(0).toUpperCase()+r.slice(1)];i&&o!==void 0&&(t=o)}return t}calculateSize(){const e=this.getColumns("size");if(!e||e==="")return;const t=e==="auto"?"auto":G2?"calc(calc(".concat(e," / var(--ion-grid-columns, 12)) * 100%)"):e/12*100+"%";return{flex:"0 0 ".concat(t),width:"".concat(t),"max-width":"".concat(t)}}calculatePosition(e,t){const r=this.getColumns(e);if(!r)return;const i=G2?"calc(calc(".concat(r," / var(--ion-grid-columns, 12)) * 100%)"):r>0&&r<12?r/12*100+"%":"auto";return{[t]:i}}calculateOffset(e){return this.calculatePosition("offset",e?"margin-right":"margin-left")}calculatePull(e){return this.calculatePosition("pull",e?"left":"right")}calculatePush(e){return this.calculatePosition("push",e?"right":"left")}render(){const e=document.dir==="rtl",t=pe(this);return D(Pe,{key:"32ed75d81dd09d9bc8999f6d42e5b3cb99c84d91",class:{[t]:!0},style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(e)),this.calculatePull(e)),this.calculatePush(e)),this.calculateSize())},D("slot",{key:"38f8d0440c20cc6d1b1d6a654d07f16de61d8134"}))}static get style(){return Z7}},[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);function eM(){if(typeof customElements>"u")return;["ion-col"].forEach(e=>{switch(e){case"ion-col":customElements.get(e)||customElements.define(e,Q7);break}})}const tM=eM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wo=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nM=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',rM=nM,iM=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=ae(this,"ionScrollStart",7),this.ionScroll=ae(this,"ionScroll",7),this.ionScrollEnd=ae(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=vi(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,Uu(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),Uu(this.el)){const{tabsElement:e,tabsLoadCallback:t}=this;e!==null&&t!==void 0&&e.removeEventListener("ionTabBarLoaded",t),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,t=pe(this);return e===void 0?t==="ios"&&qr("ios"):e}resize(){this.fullscreen?bs(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,Sn(this))}readDimensions(){const e=aM(this.el),t=Math.max(this.el.offsetTop,0),r=Math.max(e.offsetHeight-t-this.el.offsetHeight,0);(t!==this.cTop||r!==this.cBottom)&&(this.cTop=t,this.cBottom=r,Sn(this))}onScroll(e){const t=Date.now(),r=!this.isScrolling;this.lastScroll=t,r&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,bs(i=>{this.queued=!1,this.detail.event=e,sM(this.detail,this.scrollEl,i,r),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>gi(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>gi(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const t=await this.getScrollElement(),r=t.scrollHeight-t.clientHeight;return this.scrollToPoint(void 0,r,e)}async scrollByPoint(e,t,r){const i=await this.getScrollElement();return this.scrollToPoint(e+i.scrollLeft,t+i.scrollTop,r)}async scrollToPoint(e,t,r=0){const i=await this.getScrollElement();if(r<32){t!=null&&(i.scrollTop=t),e!=null&&(i.scrollLeft=e);return}let o,a=0;const s=new Promise(f=>o=f),l=i.scrollTop,c=i.scrollLeft,u=t!=null?t-l:0,d=e!=null?e-c:0,h=f=>{const p=Math.min(1,(f-a)/r)-1,m=Math.pow(p,3)+1;u!==0&&(i.scrollTop=Math.floor(m*u+l)),d!==0&&(i.scrollLeft=Math.floor(m*d+c)),m<1?requestAnimationFrame(h):o()};return requestAnimationFrame(f=>{a=f,h(f)}),s}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:t,isMainContent:r,scrollX:i,scrollY:o,el:a}=this,s=wo(a)?"rtl":"ltr",l=pe(this),c=this.shouldForceOverscroll(),u=l==="ios";return this.resize(),D(Pe,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:r?"main":void 0,class:mt(this.color,{[l]:!0,"content-sizing":Ot("ion-popover",this.el),overscroll:c,["content-".concat(s)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},t),D("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:d=>this.backgroundContentEl=d,id:"background-content",part:"background"}),e==="before"?D("slot",{name:"fixed"}):null,D("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":i,"scroll-y":o,overscroll:(i||o)&&c},ref:d=>this.scrollEl=d,onScroll:this.scrollEvents?d=>this.onScroll(d):void 0,part:"scroll"},D("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),u?D("div",{class:"transition-effect"},D("div",{class:"transition-cover"}),D("div",{class:"transition-shadow"})):null,e==="after"?D("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return rM}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),oM=n=>{var e;return n.parentElement?n.parentElement:!((e=n.parentNode)===null||e===void 0)&&e.host?n.parentNode.host:null},aM=n=>{const e=n.closest("ion-tabs");if(e)return e;const t=n.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return t||oM(n)},sM=(n,e,t,r)=>{const i=n.currentX,o=n.currentY,a=n.currentTime,s=e.scrollLeft,l=e.scrollTop,c=t-a;if(r&&(n.startTime=t,n.startX=s,n.startY=l,n.velocityX=n.velocityY=0),n.currentTime=t,n.currentX=n.scrollLeft=s,n.currentY=n.scrollTop=l,n.deltaX=s-n.startX,n.deltaY=l-n.startY,c>0&&c<100){const u=(s-i)/c,d=(l-o)/c;n.velocityX=u*.7+n.velocityX*.3,n.velocityY=d*.7+n.velocityY*.3}};function Yx(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,iM);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lM=Yx;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cM=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #004acd);--background-focused:var(--ion-color-primary-shade, #004acd);--background-hover:var(--ion-color-primary-tint, #1a65eb);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #0054e9);--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.125em, 60px);min-height:clamp(30px, 2.125em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 1.125em, 43.02px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(12.1394px, 1.308125em, 40.1856px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 0.9em, 43.056px)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',uM=cM,dM=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-strong){font-weight:bold}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.86em, 60px);min-height:clamp(30px, 2.86em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.104px, 1.6em, 43.008px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(13.002px, 1.23125em, 40.385px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.008px, 1.4em, 43.008px)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}',hM=dM,dS=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ae(this,"ionFocus",7),this.ionBlur=ae(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:t}=this;this.type==="button"?Up(this.href,e,this.routerDirection,this.routerAnimation):ZD(t)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.slotChanged=()=>{this.isCircle=this.hasIconOnly},this.isCircle=!1,this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:t}=this;if(t!==null&&e.contains(t))return;const r=this.formButtonEl=document.createElement("button");r.type=this.type,r.style.display="none",r.disabled=this.disabled,e.appendChild(r)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=vi(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if(typeof e=="string"){const t=document.getElementById(e);return t?t instanceof HTMLFormElement?t:(yt('[ion-button] - Form with selector: "#'.concat(e,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(yt('[ion-button] - Form with selector: "#'.concat(e,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return e!==void 0?(yt('[ion-button] - The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=pe(this),{buttonType:t,type:r,disabled:i,rel:o,target:a,size:s,href:l,color:c,expand:u,hasIconOnly:d,shape:h,strong:f,inheritedAttributes:p}=this,m=s===void 0&&this.inItem?"small":s,b=l===void 0?"button":"a",g=b==="button"?{type:r}:{download:this.download,href:l,rel:o,target:a};let v=this.fill;return v==null&&(v=this.inToolbar||this.inListHeader?"clear":"solid"),r!=="button"&&this.renderHiddenButton(),D(Pe,{key:"e213b0bb76b3f90f883b1a0ea463bb86c2df69c3",onClick:this.handleClick,"aria-disabled":i?"true":null,class:mt(c,{[e]:!0,[t]:!0,["".concat(t,"-").concat(u)]:u!==void 0,["".concat(t,"-").concat(m)]:m!==void 0,["".concat(t,"-").concat(h)]:h!==void 0,["".concat(t,"-").concat(v)]:!0,["".concat(t,"-strong")]:f,"in-toolbar":Ot("ion-toolbar",this.el),"in-toolbar-color":Ot("ion-toolbar[color]",this.el),"in-buttons":Ot("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":i,"ion-activatable":!0,"ion-focusable":!0})},D(b,Object.assign({key:"b7c2a46fb994024841219316f4089335fa463d84"},g,{class:"button-native",part:"native",disabled:i,onFocus:this.onFocus,onBlur:this.onBlur},p),D("span",{key:"3e07a5c9f86836f9fbaefc6c617bdde6eb6f70cd",class:"button-inner"},D("slot",{key:"41c08ae09aed16faaa57707d229ff75d97f0731c",name:"icon-only",onSlotchange:this.slotChanged}),D("slot",{key:"ab8b749e4572884cc04970a7594466b4a24c886e",name:"start"}),D("slot",{key:"397f7ff48ea45e82029414be95d29ae86e12c3a9"}),D("slot",{key:"9a5627713002e8be3738d392b616f6e951b70e12",name:"end"})),e==="md"&&D("ion-ripple-effect",{key:"105566543ceda102474edab7ca8a44c7e71af589",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:uM,md:hM}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1],isCircle:[32]},void 0,{disabled:["disabledChanged"]}]);function Xx(){if(typeof customElements>"u")return;["ion-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-button":customElements.get(e)||customElements.define(e,dS);break;case"ion-ripple-effect":customElements.get(e)||Qr();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $f=()=>{if(dt!==void 0)return dt.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var zb;(function(n){n.Heavy="HEAVY",n.Medium="MEDIUM",n.Light="LIGHT"})(zb||(zb={}));var K2;(function(n){n.Success="SUCCESS",n.Warning="WARNING",n.Error="ERROR"})(K2||(K2={}));const Ed={getEngine(){const n=$f();if(n!=null&&n.isPluginAvailable("Haptics"))return n.Plugins.Haptics},available(){if(!this.getEngine())return!1;const e=$f();return(e==null?void 0:e.getPlatform())==="web"?typeof navigator<"u"&&navigator.vibrate!==void 0:!0},impact(n){const e=this.getEngine();e&&e.impact({style:n.style})},notification(n){const e=this.getEngine();e&&e.notification({type:n.type})},selection(){this.impact({style:zb.Light})},selectionStart(){const n=this.getEngine();n&&n.selectionStart()},selectionChanged(){const n=this.getEngine();n&&n.selectionChanged()},selectionEnd(){const n=this.getEngine();n&&n.selectionEnd()}},Vp=()=>Ed.available(),fM=()=>{Vp()&&Ed.selection()},pM=()=>{Vp()&&Ed.selectionStart()},mM=()=>{Vp()&&Ed.selectionChanged()},gM=()=>{Vp()&&Ed.selectionEnd()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ms=()=>{let n;return{lock:async()=>{const t=n;let r;return n=new Promise(i=>r=i),t!==void 0&&await t,r}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bM=n=>{if(!n)return{arrowWidth:0,arrowHeight:0};const{width:e,height:t}=n.getBoundingClientRect();return{arrowWidth:e,arrowHeight:t}},hS=(n,e,t)=>{const r=e.getBoundingClientRect(),i=r.height;let o=r.width;return n==="cover"&&t&&(o=t.getBoundingClientRect().width),{contentWidth:o,contentHeight:i}},vM=(n,e,t,r)=>{let i=[];const a=Lt(r).querySelector(".popover-content");switch(e){case"hover":i=[{eventName:"mouseenter",callback:s=>{document.elementFromPoint(s.clientX,s.clientY)!==n&&t.dismiss(void 0,void 0,!1)}}];break;case"context-menu":case"click":default:i=[{eventName:"click",callback:s=>{if(s.target.closest("[data-ion-popover-trigger]")===n){s.stopPropagation();return}t.dismiss(void 0,void 0,!1)}}];break}return i.forEach(({eventName:s,callback:l})=>a.addEventListener(s,l)),()=>{i.forEach(({eventName:s,callback:l})=>a.removeEventListener(s,l))}},xM=(n,e,t)=>{let r=[];switch(e){case"hover":let i;r=[{eventName:"mouseenter",callback:async o=>{o.stopPropagation(),i&&clearTimeout(i),i=setTimeout(()=>{tn(()=>{t.presentFromTrigger(o),i=void 0})},100)}},{eventName:"mouseleave",callback:o=>{i&&clearTimeout(i);const a=o.relatedTarget;a&&a.closest("ion-popover")!==t&&t.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:o=>o.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:o=>t.presentFromTrigger(o,!0)}];break;case"context-menu":r=[{eventName:"contextmenu",callback:o=>{o.preventDefault(),t.presentFromTrigger(o)}},{eventName:"click",callback:o=>o.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:o=>t.presentFromTrigger(o,!0)}];break;case"click":default:r=[{eventName:"click",callback:o=>t.presentFromTrigger(o)},{eventName:"ionPopoverActivateTrigger",callback:o=>t.presentFromTrigger(o,!0)}];break}return r.forEach(({eventName:i,callback:o})=>n.addEventListener(i,o)),n.setAttribute("data-ion-popover-trigger","true"),()=>{r.forEach(({eventName:i,callback:o})=>n.removeEventListener(i,o)),n.removeAttribute("data-ion-popover-trigger")}},fS=(n,e)=>!e||e.tagName!=="ION-ITEM"?-1:n.findIndex(t=>t===e),yM=(n,e)=>{const t=fS(n,e);return n[t+1]},wM=(n,e)=>{const t=fS(n,e);return n[t-1]},hh=n=>{const t=Lt(n).querySelector("button");t&&tn(()=>t.focus())},kM=n=>n.hasAttribute("data-ion-popover-trigger"),_M=n=>{const e=async t=>{var r;const i=document.activeElement;let o=[];const a=(r=t.target)===null||r===void 0?void 0:r.tagName;if(!(a!=="ION-POPOVER"&&a!=="ION-ITEM")){try{o=Array.from(n.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(s){}switch(t.key){case"ArrowLeft":await n.getParentPopover()&&n.dismiss(void 0,void 0,!1);break;case"ArrowDown":t.preventDefault();const l=yM(o,i);l!==void 0&&hh(l);break;case"ArrowUp":t.preventDefault();const c=wM(o,i);c!==void 0&&hh(c);break;case"Home":t.preventDefault();const u=o[0];u!==void 0&&hh(u);break;case"End":t.preventDefault();const d=o[o.length-1];d!==void 0&&hh(d);break;case"ArrowRight":case" ":case"Enter":if(i&&kM(i)){const h=new CustomEvent("ionPopoverActivateTrigger");i.dispatchEvent(h)}break}}};return n.addEventListener("keydown",e),()=>n.removeEventListener("keydown",e)},pS=(n,e,t,r,i,o,a,s,l,c,u)=>{var d;let h={top:0,left:0,width:0,height:0};switch(o){case"event":if(!u)return l;const w=u;h={top:w.clientY,left:w.clientX,width:1,height:1};break;case"trigger":default:const k=u,_=c||((d=k==null?void 0:k.detail)===null||d===void 0?void 0:d.ionShadowTarget)||(k==null?void 0:k.target);if(!_)return l;const T=_.getBoundingClientRect();h={top:T.top,left:T.left,width:T.width,height:T.height};break}const f=SM(a,h,e,t,r,i,n),p=TM(s,a,h,e,t),m=f.top+p.top,b=f.left+p.left,{arrowTop:g,arrowLeft:v}=EM(a,r,i,m,b,e,t,n),{originX:x,originY:y}=CM(a,s,n);return{top:m,left:b,referenceCoordinates:h,arrowTop:g,arrowLeft:v,originX:x,originY:y}},CM=(n,e,t)=>{switch(n){case"top":return{originX:Y2(e),originY:"bottom"};case"bottom":return{originX:Y2(e),originY:"top"};case"left":return{originX:"right",originY:fh(e)};case"right":return{originX:"left",originY:fh(e)};case"start":return{originX:t?"left":"right",originY:fh(e)};case"end":return{originX:t?"right":"left",originY:fh(e)}}},Y2=n=>{switch(n){case"start":return"left";case"center":return"center";case"end":return"right"}},fh=n=>{switch(n){case"start":return"top";case"center":return"center";case"end":return"bottom"}},EM=(n,e,t,r,i,o,a,s)=>{const l={arrowTop:r+a/2-e/2,arrowLeft:i+o-e/2},c={arrowTop:r+a/2-e/2,arrowLeft:i-e*1.5};switch(n){case"top":return{arrowTop:r+a,arrowLeft:i+o/2-e/2};case"bottom":return{arrowTop:r-t,arrowLeft:i+o/2-e/2};case"left":return l;case"right":return c;case"start":return s?c:l;case"end":return s?l:c;default:return{arrowTop:0,arrowLeft:0}}},SM=(n,e,t,r,i,o,a)=>{const s={top:e.top,left:e.left-t-i},l={top:e.top,left:e.left+e.width+i};switch(n){case"top":return{top:e.top-r-o,left:e.left};case"right":return l;case"bottom":return{top:e.top+e.height+o,left:e.left};case"left":return s;case"start":return a?l:s;case"end":return a?s:l}},TM=(n,e,t,r,i)=>{switch(n){case"center":return IM(e,t,r,i);case"end":return AM(e,t,r,i);case"start":default:return{top:0,left:0}}},AM=(n,e,t,r)=>{switch(n){case"start":case"end":case"left":case"right":return{top:-(r-e.height),left:0};case"top":case"bottom":default:return{top:0,left:-(t-e.width)}}},IM=(n,e,t,r)=>{switch(n){case"start":case"end":case"left":case"right":return{top:-(r/2-e.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(t/2-e.width/2)}}},mS=(n,e,t,r,i,o,a,s,l,c,u,d,h=0,f=0,p=0)=>{let m=h;const b=f;let g=t,v=e,x,y=c,w=u,k=!1,_=!1;const T=d?d.top+d.height:o/2-s/2,E=d?d.height:0;let A=!1;return g<r+l?(g=r,k=!0,y="left"):a+r+g+l>i&&(_=!0,g=i-a-r,y="right"),T+E+s>o&&(n==="top"||n==="bottom")&&(T-s>0?(v=Math.max(12,T-s-E-(p-1)),m=v+s,w="bottom",A=!0):x=r),{top:v,left:g,bottom:x,originX:y,originY:w,checkSafeAreaLeft:k,checkSafeAreaRight:_,arrowTop:m,arrowLeft:b,addPopoverBottomClass:A}},RM=(n,e=!1,t,r)=>!(!t&&!r||n!=="top"&&n!=="bottom"&&e),DM=5,OM=(n,e)=>{var t;const{event:r,size:i,trigger:o,reference:a,side:s,align:l}=e,c=n.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,f=Lt(n),p=f.querySelector(".popover-content"),m=f.querySelector(".popover-arrow"),b=o||((t=r==null?void 0:r.detail)===null||t===void 0?void 0:t.ionShadowTarget)||(r==null?void 0:r.target),{contentWidth:g,contentHeight:v}=hS(i,p,b),{arrowWidth:x,arrowHeight:y}=bM(m),w={top:h/2-v/2,left:d/2-g/2,originX:u?"right":"left",originY:"top"},k=pS(u,g,v,x,y,a,s,l,w,o,r),_=i==="cover"?0:DM,T=i==="cover"?0:25,{originX:E,originY:A,top:M,left:I,bottom:L,checkSafeAreaLeft:S,checkSafeAreaRight:O,arrowTop:P,arrowLeft:z,addPopoverBottomClass:N}=mS(s,k.top,k.left,_,d,h,g,v,T,k.originX,k.originY,k.referenceCoordinates,k.arrowTop,k.arrowLeft,y),B=me(),U=me(),$=me();return U.addElement(f.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),$.addElement(f.querySelector(".popover-arrow")).addElement(f.querySelector(".popover-content")).fromTo("opacity",.01,1),B.easing("ease").duration(100).beforeAddWrite(()=>{i==="cover"&&n.style.setProperty("--width","".concat(g,"px")),N&&n.classList.add("popover-bottom"),L!==void 0&&p.style.setProperty("bottom","".concat(L,"px"));const F=" + var(--ion-safe-area-left, 0)",ee=" - var(--ion-safe-area-right, 0)";let X="".concat(I,"px");if(S&&(X="".concat(I,"px").concat(F)),O&&(X="".concat(I,"px").concat(ee)),p.style.setProperty("top","calc(".concat(M,"px + var(--offset-y, 0))")),p.style.setProperty("left","calc(".concat(X," + var(--offset-x, 0))")),p.style.setProperty("transform-origin","".concat(A," ").concat(E)),m!==null){const Q=k.top!==M||k.left!==I;RM(s,Q,r,o)?(m.style.setProperty("top","calc(".concat(P,"px + var(--offset-y, 0))")),m.style.setProperty("left","calc(".concat(z,"px + var(--offset-x, 0))"))):m.style.setProperty("display","none")}}).addAnimation([U,$])},MM=n=>{const e=Lt(n),t=e.querySelector(".popover-content"),r=e.querySelector(".popover-arrow"),i=me(),o=me(),a=me();return o.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),a.addElement(e.querySelector(".popover-arrow")).addElement(e.querySelector(".popover-content")).fromTo("opacity",.99,0),i.easing("ease").afterAddWrite(()=>{n.style.removeProperty("--width"),n.classList.remove("popover-bottom"),t.style.removeProperty("top"),t.style.removeProperty("left"),t.style.removeProperty("bottom"),t.style.removeProperty("transform-origin"),r&&(r.style.removeProperty("top"),r.style.removeProperty("left"),r.style.removeProperty("display"))}).duration(300).addAnimation([o,a])},PM=12,BM=(n,e)=>{var t;const{event:r,size:i,trigger:o,reference:a,side:s,align:l}=e,c=n.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,f=Lt(n),p=f.querySelector(".popover-content"),m=o||((t=r==null?void 0:r.detail)===null||t===void 0?void 0:t.ionShadowTarget)||(r==null?void 0:r.target),{contentWidth:b,contentHeight:g}=hS(i,p,m),v={top:h/2-g/2,left:d/2-b/2,originX:u?"right":"left",originY:"top"},x=pS(u,b,g,0,0,a,s,l,v,o,r),y=i==="cover"?0:PM,{originX:w,originY:k,top:_,left:T,bottom:E}=mS(s,x.top,x.left,y,d,h,b,g,0,x.originX,x.originY,x.referenceCoordinates),A=me(),M=me(),I=me(),L=me(),S=me();return M.addElement(f.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),I.addElement(f.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),L.addElement(p).beforeStyles({top:"calc(".concat(_,"px + var(--offset-y, 0px))"),left:"calc(".concat(T,"px + var(--offset-x, 0px))"),"transform-origin":"".concat(k," ").concat(w)}).beforeAddWrite(()=>{E!==void 0&&p.style.setProperty("bottom","".concat(E,"px"))}).fromTo("transform","scale(0.8)","scale(1)"),S.addElement(f.querySelector(".popover-viewport")).fromTo("opacity",.01,1),A.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{i==="cover"&&n.style.setProperty("--width","".concat(b,"px")),k==="bottom"&&n.classList.add("popover-bottom")}).addAnimation([M,I,L,S])},zM=n=>{const e=Lt(n),t=e.querySelector(".popover-content"),r=me(),i=me(),o=me();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),o.addElement(e.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),r.easing("ease").afterAddWrite(()=>{n.style.removeProperty("--width"),n.classList.remove("popover-bottom"),t.style.removeProperty("top"),t.style.removeProperty("left"),t.style.removeProperty("bottom"),t.style.removeProperty("transform-origin")}).duration(150).addAnimation([i,o])},LM=':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',jM=LM,NM=":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}",FM=NM,$M=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ae(this,"ionPopoverDidPresent",7),this.willPresent=ae(this,"ionPopoverWillPresent",7),this.willDismiss=ae(this,"ionPopoverWillDismiss",7),this.didDismiss=ae(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=ae(this,"didPresent",7),this.willPresentShorthand=ae(this,"willPresent",7),this.willDismissShorthand=ae(this,"willDismiss",7),this.didDismissShorthand=ae(this,"didDismiss",7),this.ionMount=ae(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=qx(),this.lockController=Ms(),this.inline=!1,this.focusDescendantOnPresent=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Ui)},this.onLifecycle=e=>{const t=this.usersElement,r=UM[e.type];if(t&&r){const i=new CustomEvent(r,{bubbles:!1,cancelable:!1,detail:e.detail});t.dispatchEvent(i)}},this.configureTriggerInteraction=()=>{const{trigger:e,triggerAction:t,el:r,destroyTriggerInteraction:i}=this;if(i&&i(),e===void 0)return;const o=this.triggerEl=e!==void 0?document.getElementById(e):null;if(!o){yt('[ion-popover] - A trigger element with the ID "'.concat(e,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.'),this.el);return}this.destroyTriggerInteraction=xM(o,t,r)},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:e,el:t}=this;e&&e(),this.destroyKeyboardInteraction=_M(t)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:e,parentPopover:t,triggerAction:r,triggerEl:i,el:o}=this;!t||!i||(e&&e(),this.destroyDismissInteraction=vM(i,r,o,t))},this.presented=!1,this.hasController=!1,this.delegate=void 0,this.overlayIndex=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.component=void 0,this.componentProps=void 0,this.keyboardClose=!0,this.cssClass=void 0,this.backdropDismiss=!0,this.event=void 0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.triggerAction="click",this.trigger=void 0,this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment=void 0,this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}connectedCallback(){const{configureTriggerInteraction:e,el:t}=this;xc(t),e()}disconnectedCallback(){const{destroyTriggerInteraction:e}=this;e&&e()}componentWillLoad(){var e,t;const{el:r}=this,i=(t=(e=this.htmlAttributes)===null||e===void 0?void 0:e.id)!==null&&t!==void 0?t:yc(r);this.parentPopover=r.closest("ion-popover:not(#".concat(i,")")),this.alignment===void 0&&(this.alignment=pe(this)==="ios"?"center":"start")}componentDidLoad(){const{parentPopover:e,isOpen:t}=this;t===!0&&tn(()=>this.present()),e&&jx(e,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}async presentFromTrigger(e,t=!1){this.focusDescendantOnPresent=t,await this.present(e),this.focusDescendantOnPresent=!1}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const t=this.el.parentNode,r=this.inline=t!==null&&!this.hasController,i=this.workingDelegate=r?this.delegate||this.coreDelegate:this.delegate;return{inline:r,delegate:i}}async present(e){const t=await this.lockController.lock();if(this.presented){t();return}const{el:r}=this,{inline:i,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await wd(o,r,this.component,["popover-viewport"],this.componentProps,i),this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),Uu(r)?await Hu(this.usersElement):this.keepContentsMounted||await HE(),await wc(this,"popoverEnter",OM,BM,{event:e||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),this.focusDescendantOnPresent&&jf(r),t()}async dismiss(e,t,r=!0){const i=await this.lockController.lock(),{destroyKeyboardInteraction:o,destroyDismissInteraction:a}=this;r&&this.parentPopover&&this.parentPopover.dismiss(e,t,r);const s=await kc(this,e,t,"popoverLeave",MM,zM,this.event);if(s){o&&(o(),this.destroyKeyboardInteraction=void 0),a&&(a(),this.destroyDismissInteraction=void 0);const{delegate:l}=this.getDelegate();await Vx(l,this.usersElement)}return i(),s}async getParentPopover(){return this.parentPopover}onDidDismiss(){return Zr(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return Zr(this.el,"ionPopoverWillDismiss")}render(){const e=pe(this),{onLifecycle:t,parentPopover:r,dismissOnSelect:i,side:o,arrow:a,htmlAttributes:s,focusTrap:l}=this,c=qr("desktop"),u=a&&!r;return D(Pe,Object.assign({key:"ff24e8d9677711248a36994cce568e74ba151499","aria-modal":"true","no-router":!0,tabindex:"-1"},s,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign({},Nn(this.cssClass)),{[e]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":c,["popover-side-".concat(o)]:!0,[Wu]:l===!1,"popover-nested":!!r}),onIonPopoverDidPresent:t,onIonPopoverWillPresent:t,onIonPopoverWillDismiss:t,onIonPopoverDidDismiss:t,onIonBackdropTap:this.onBackdropTap}),!r&&D("ion-backdrop",{key:"aca68b4002a08b0e563a976a867141162c20f8b4",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),D("div",{key:"62d21d1eab5c6d675d49932559ffb161747e5fec",class:"popover-wrapper ion-overlay-wrapper",onClick:i?()=>this.dismiss():void 0},u&&D("div",{key:"1b46cc77d5302637fc979353483bb5fd780fd1d3",class:"popover-arrow",part:"arrow"}),D("div",{key:"a5657bff26e46d1959b71eb0992e7dc8fcae86f1",class:"popover-content",part:"content"},D("slot",{key:"e1a98007226a46b51109e7004c4d338ca1bc0f9e"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:jM,md:FM}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),UM={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};function HM(){if(typeof customElements>"u")return;["ion-popover","ion-backdrop"].forEach(e=>{switch(e){case"ion-popover":customElements.get(e)||customElements.define(e,$M);break;case"ion-backdrop":customElements.get(e)||Os();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const WM="ION-CONTENT",gS="ion-content",bS=".ion-content-scroll-host",vS="".concat(gS,", ").concat(bS),Li=n=>n.tagName===WM,Lb=async n=>Li(n)?(await new Promise(e=>gi(n,e)),n.getScrollElement()):n,Uf=n=>{const e=n.querySelector(bS);return e||n.querySelector(vS)},Hf=n=>n.closest(vS),Vte=(n,e)=>Li(n)?n.scrollToTop(e):Promise.resolve(n.scrollTo({top:0,left:0,behavior:"smooth"})),qte=(n,e,t,r)=>Li(n)?n.scrollByPoint(e,t,r):Promise.resolve(n.scrollBy({top:t,left:e,behavior:r>0?"smooth":"auto"})),Wf=n=>KD(n,gS),jb=n=>{if(Li(n)){const e=n,t=e.scrollY;return e.scrollY=!1,t}else return n.style.setProperty("overflow","hidden"),!0},xS=(n,e)=>{Li(n)?n.scrollY=e:n.style.removeProperty("overflow")};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Nb;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(Nb||(Nb={}));var Fb;(function(n){n.Body="body",n.Ionic="ionic",n.Native="native",n.None="none"})(Fb||(Fb={}));const yS={getEngine(){const n=$f();if(n!=null&&n.isPluginAvailable("Keyboard"))return n.Plugins.Keyboard},getResizeMode(){const n=this.getEngine();return n!=null&&n.getResizeMode?n.getResizeMode().catch(e=>{if(e.code!==Nb.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wS=n=>{if(Sr===void 0||n===Fb.None||n===void 0)return null;const e=Sr.querySelector("ion-app");return e!=null?e:Sr.body},X2=n=>{const e=wS(n);return e===null?0:e.clientHeight},kS=async n=>{let e,t,r,i;const o=async()=>{const u=await yS.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{i===void 0&&(i=X2(d)),r=!0,a(r,d)},t=()=>{r=!1,a(r,d)},dt==null||dt.addEventListener("keyboardWillShow",e),dt==null||dt.addEventListener("keyboardWillHide",t)},a=(u,d)=>{n&&n(u,s(d))},s=u=>{if(i===0||i===X2(u))return;const d=wS(u);if(d!==null)return new Promise(h=>{const f=()=>{d.clientHeight===i&&(p.disconnect(),h())},p=new ResizeObserver(f);p.observe(d)})},l=()=>{dt==null||dt.removeEventListener("keyboardWillShow",e),dt==null||dt.removeEventListener("keyboardWillHide",t),e=t=void 0},c=()=>r;return await o(),{init:o,destroy:l,isKeyboardVisible:c}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Z2=(n,e)=>{bs(()=>{const t=n.scrollTop,r=n.scrollHeight-n.clientHeight,i=10,o=r-i,a=t-o,s=Wn(0,1-a/i,1);or(()=>{e.style.setProperty("--opacity-scale",s.toString())})})},VM="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",qM=VM,GM="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.footer-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",KM=GM,YM=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.keyboardCtrl=null,this.checkCollapsibleFooter=()=>{if(pe(this)!=="ios")return;const{collapse:t}=this,r=t==="fade";if(this.destroyCollapsibleFooter(),r){const i=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=i?Uf(i):null;if(!o){Wf(this.el);return}this.setupFadeFooter(o)}},this.setupFadeFooter=async e=>{const t=this.scrollEl=await Lb(e);this.contentScrollCallback=()=>{Z2(t,this.el)},t.addEventListener("scroll",this.contentScrollCallback),Z2(t,this.el)},this.keyboardVisible=!1,this.collapse=void 0,this.translucent=!1}componentDidLoad(){this.checkCollapsibleFooter()}componentDidUpdate(){this.checkCollapsibleFooter()}async connectedCallback(){this.keyboardCtrl=await kS(async(e,t)=>{e===!1&&t!==void 0&&await t,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}destroyCollapsibleFooter(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{translucent:e,collapse:t}=this,r=pe(this),i=this.el.closest("ion-tabs"),o=i==null?void 0:i.querySelector(":scope > ion-tab-bar");return D(Pe,{key:"ddc228f1a1e7fa4f707dccf74db2490ca3241137",role:"contentinfo",class:{[r]:!0,["footer-".concat(r)]:!0,"footer-translucent":e,["footer-translucent-".concat(r)]:e,"footer-toolbar-padding":!this.keyboardVisible&&(!o||o.slot!=="bottom"),["footer-collapse-".concat(t)]:t!==void 0}},r==="ios"&&e&&D("div",{key:"e16ed4963ff94e06de77eb8038201820af73937c",class:"footer-background"}),D("slot",{key:"f186934febf85d37133d9351a96c1a64b0a4b203"}))}get el(){return this}static get style(){return{ios:qM,md:KM}}},[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);function XM(){if(typeof customElements>"u")return;["ion-footer"].forEach(e=>{switch(e){case"ion-footer":customElements.get(e)||customElements.define(e,YM);break}})}const ZM=XM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const JM=":host{-webkit-padding-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;display:block;-ms-flex:1;flex:1}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}}:host(.grid-fixed){width:var(--ion-grid-width-xs, var(--ion-grid-width, 100%));max-width:100%}@media (min-width: 576px){:host(.grid-fixed){width:var(--ion-grid-width-sm, var(--ion-grid-width, 540px))}}@media (min-width: 768px){:host(.grid-fixed){width:var(--ion-grid-width-md, var(--ion-grid-width, 720px))}}@media (min-width: 992px){:host(.grid-fixed){width:var(--ion-grid-width-lg, var(--ion-grid-width, 960px))}}@media (min-width: 1200px){:host(.grid-fixed){width:var(--ion-grid-width-xl, var(--ion-grid-width, 1140px))}}:host(.ion-no-padding){--ion-grid-column-padding:0;--ion-grid-column-padding-xs:0;--ion-grid-column-padding-sm:0;--ion-grid-column-padding-md:0;--ion-grid-column-padding-lg:0;--ion-grid-column-padding-xl:0}",QM=JM,eP=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.fixed=!1}render(){const e=pe(this);return D(Pe,{key:"617127ecfabf9bf615bef1dda1be3fed5a065949",class:{[e]:!0,"grid-fixed":this.fixed}},D("slot",{key:"c781fff853b093d8f44bdb7943bbc4f17c903803"}))}static get style(){return QM}},[1,"ion-grid",{fixed:[4]}]);function tP(){if(typeof customElements>"u")return;["ion-grid"].forEach(e=>{switch(e){case"ion-grid":customElements.get(e)||customElements.define(e,eP);break}})}const nP=tP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rP="all 0.2s ease-in-out",J2=n=>{const e=document.querySelector("".concat(n,".ion-cloned-element"));if(e!==null)return e;const t=document.createElement(n);return t.classList.add("ion-cloned-element"),t.style.setProperty("display","none"),document.body.appendChild(t),t},Q2=n=>{if(!n)return;const e=n.querySelectorAll("ion-toolbar");return{el:n,toolbars:Array.from(e).map(t=>{const r=t.querySelector("ion-title");return{el:t,background:t.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:r,innerTitleEl:r?r.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(t.querySelectorAll("ion-buttons"))}})}},iP=(n,e,t)=>{bs(()=>{const r=n.scrollTop,i=Wn(1,1+-r/500,1.1);t.querySelector("ion-refresher.refresher-native")===null&&or(()=>{sP(e.toolbars,i)})})},Zx=(n,e)=>{n.collapse!=="fade"&&(e===void 0?n.style.removeProperty("--opacity-scale"):n.style.setProperty("--opacity-scale",e.toString()))},oP=(n,e,t)=>{if(!n[0].isIntersecting)return;const r=n[0].intersectionRatio>.9||t<=0?0:(1-n[0].intersectionRatio)*100/75;Zx(e.el,r===1?void 0:r)},aP=(n,e,t,r)=>{or(()=>{const i=r.scrollTop;oP(n,e,i);const o=n[0],a=o.intersectionRect,s=a.width*a.height,l=o.rootBounds.width*o.rootBounds.height,c=s===0&&l===0,u=Math.abs(a.left-o.boundingClientRect.left),d=Math.abs(a.right-o.boundingClientRect.right),h=s>0&&(u>=5||d>=5);c||h||(o.isIntersecting?(eu(e,!1),eu(t)):(a.x===0&&a.y===0||a.width!==0&&a.height!==0)&&i>0&&(eu(e),eu(t,!1),Zx(e.el)))})},eu=(n,e=!0)=>{const t=n.el,i=n.toolbars.map(o=>o.ionTitleEl);e?(t.classList.remove("header-collapse-condense-inactive"),i.forEach(o=>{o&&o.removeAttribute("aria-hidden")})):(t.classList.add("header-collapse-condense-inactive"),i.forEach(o=>{o&&o.setAttribute("aria-hidden","true")}))},sP=(n=[],e=1,t=!1)=>{n.forEach(r=>{const i=r.ionTitleEl,o=r.innerTitleEl;!i||i.size!=="large"||(o.style.transition=t?rP:"",o.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"))})},ek=(n,e,t)=>{bs(()=>{const r=n.scrollTop,i=e.clientHeight,o=t?t.clientHeight:0;if(t!==null&&r<o){e.style.setProperty("--opacity-scale","0"),n.style.setProperty("clip-path","inset(".concat(i,"px 0px 0px 0px)"));return}const a=r-o,l=Wn(0,a/10,1);or(()=>{n.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},lP="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",cP=lP,uP="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",dP=uP,hP=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,t)=>{const r=this.scrollEl=await Lb(e);this.contentScrollCallback=()=>{ek(this.scrollEl,this.el,t)},r.addEventListener("scroll",this.contentScrollCallback),ek(this.scrollEl,this.el,t)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=vi(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(pe(this)!=="ios")return;const{collapse:t}=this,r=t==="condense",i=t==="fade";if(this.destroyCollapsibleHeader(),r){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),a=o?Uf(o):null;or(()=>{const s=J2("ion-title");s.size="large",J2("ion-back-button")}),await this.setupCondenseHeader(a,o)}else if(i){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),a=o?Uf(o):null;if(!a){Wf(this.el);return}const s=a.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(a,s)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,t){if(!e||!t){Wf(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await Lb(e);const r=t.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(r).find(s=>s.collapse!=="condense"),!this.collapsibleMainHeader)return;const i=Q2(this.collapsibleMainHeader),o=Q2(this.el);if(!i||!o)return;eu(i,!1),Zx(i.el,0);const a=s=>{aP(s,i,o,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(a,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(o.toolbars[o.toolbars.length-1].el),this.contentScrollCallback=()=>{iP(this.scrollEl,o,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),or(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:t}=this,r=pe(this),i=this.collapse||"none",o=Ot("ion-menu",this.el)?"none":"banner";return D(Pe,Object.assign({key:"b6cc27f0b08afc9fcc889683525da765d80ba672",role:o,class:{[r]:!0,["header-".concat(r)]:!0,"header-translucent":this.translucent,["header-collapse-".concat(i)]:!0,["header-translucent-".concat(r)]:this.translucent}},t),r==="ios"&&e&&D("div",{key:"395766d4dcee3398bc91960db21f922095292f14",class:"header-background"}),D("slot",{key:"09a67ece27b258ff1248805d43d92a49b2c6859a"}))}get el(){return this}static get style(){return{ios:cP,md:dP}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function Jx(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,hP);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fP=Jx;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pP=":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}",mP=pP,gP=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=ae(this,"ionImgWillLoad",7),this.ionImgDidLoad=ae(this,"ionImgDidLoad",7),this.ionError=ae(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()},this.loadSrc=void 0,this.loadError=void 0,this.alt=void 0,this.src=void 0}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=qi(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){this.src!==void 0&&(typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver(e=>{e[e.length-1].isIntersecting&&(this.load(),this.removeIO())}),this.io.observe(this.el)):setTimeout(()=>this.load(),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:e,alt:t,onLoad:r,loadError:i,inheritedAttributes:o}=this,{draggable:a}=o;return D(Pe,{key:"da600442894427dee1974a28e545613afac69fca",class:pe(this)},D("img",{key:"16df0c7069af86c0fa7ce5af598bc0f63b4eb71a",decoding:"async",src:e,alt:t,onLoad:r,onError:i,part:"image",draggable:bP(a)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return mP}},[1,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]},void 0,{src:["srcChanged"]}]),bP=n=>{switch(n){case"true":return!0;case"false":return!1;default:return}};function vP(){if(typeof customElements>"u")return;["ion-img"].forEach(e=>{switch(e){case"ion-img":customElements.get(e)||customElements.define(e,gP);break}})}const xP=vP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yP={bubbles:{dur:1e3,circles:9,fn:(n,e,t)=>{const r="".concat(n*e/t-n,"ms"),i=2*Math.PI*e/t;return{r:5,style:{top:"".concat(32*Math.sin(i),"%"),left:"".concat(32*Math.cos(i),"%"),"animation-delay":r}}}},circles:{dur:1e3,circles:8,fn:(n,e,t)=>{const r=e/t,i="".concat(n*r-n,"ms"),o=2*Math.PI*r;return{r:5,style:{top:"".concat(32*Math.sin(o),"%"),left:"".concat(32*Math.cos(o),"%"),"animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(n,e)=>{const t=-(110*e)+"ms";return{r:6,style:{left:"".concat(32-32*e,"%"),"animation-delay":t}}}},lines:{dur:1e3,lines:8,fn:(n,e,t)=>{const r="rotate(".concat(360/t*e+(e<t/2?180:-180),"deg)"),i="".concat(n*e/t-n,"ms");return{y1:14,y2:26,style:{transform:r,"animation-delay":i}}}},"lines-small":{dur:1e3,lines:8,fn:(n,e,t)=>{const r="rotate(".concat(360/t*e+(e<t/2?180:-180),"deg)"),i="".concat(n*e/t-n,"ms");return{y1:12,y2:20,style:{transform:r,"animation-delay":i}}}},"lines-sharp":{dur:1e3,lines:12,fn:(n,e,t)=>{const r="rotate(".concat(30*e+(e<6?180:-180),"deg)"),i="".concat(n*e/t-n,"ms");return{y1:17,y2:29,style:{transform:r,"animation-delay":i}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:(n,e,t)=>{const r="rotate(".concat(30*e+(e<6?180:-180),"deg)"),i="".concat(n*e/t-n,"ms");return{y1:12,y2:20,style:{transform:r,"animation-delay":i}}}}},tk=yP,wP=":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}",kP=wP,_P=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||ze.get("spinner"),t=pe(this);return e||(t==="ios"?"lines":"circular")}render(){var e;const t=this,r=pe(t),i=t.getName(),o=(e=tk[i])!==null&&e!==void 0?e:tk.lines,a=typeof t.duration=="number"&&t.duration>10?t.duration:o.dur,s=[];if(o.circles!==void 0)for(let l=0;l<o.circles;l++)s.push(CP(o,a,l,o.circles));else if(o.lines!==void 0)for(let l=0;l<o.lines;l++)s.push(EP(o,a,l,o.lines));return D(Pe,{key:"e0dfa8a3ee2a0469eb31323f506750bd77d65797",class:mt(t.color,{[r]:!0,["spinner-".concat(i)]:!0,"spinner-paused":t.paused||ze.getBoolean("_testing")}),role:"progressbar",style:o.elmDuration?{animationDuration:a+"ms"}:{}},s)}static get style(){return kP}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),CP=(n,e,t,r)=>{const i=n.fn(e,t,r);return i.style["animation-duration"]=e+"ms",D("svg",{viewBox:i.viewBox||"0 0 64 64",style:i.style},D("circle",{transform:i.transform||"translate(32,32)",cx:i.cx,cy:i.cy,r:i.r,style:n.elmDuration?{animationDuration:e+"ms"}:{}}))},EP=(n,e,t,r)=>{const i=n.fn(e,t,r);return i.style["animation-duration"]=e+"ms",D("svg",{viewBox:i.viewBox||"0 0 64 64",style:i.style},D("line",{transform:"translate(32,32)",y1:i.y1,y2:i.y2}))};function _S(){if(typeof customElements>"u")return;["ion-spinner"].forEach(e=>{switch(e){case"ion-spinner":customElements.get(e)||customElements.define(e,_P);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Qx=(n,e,t)=>{let r;const i=()=>!(e()===void 0||n.label!==void 0||t()===null),o=()=>{i()&&tn(()=>{a()})},a=()=>{const l=e();if(l===void 0)return;if(!i()){l.style.removeProperty("width");return}const c=t().scrollWidth;if(c===0&&l.offsetParent===null&&dt!==void 0&&"IntersectionObserver"in dt){if(r!==void 0)return;const u=r=new IntersectionObserver(d=>{d[0].intersectionRatio===1&&(a(),u.disconnect(),r=void 0)},{threshold:.01,root:n});u.observe(l);return}l.style.setProperty("width","".concat(c*.75,"px"))};return{calculateNotchWidth:o,destroy:()=>{r&&(r.disconnect(),r=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const CS=(n,e,t)=>{let r,i;if(dt!==void 0&&"MutationObserver"in dt){const l=Array.isArray(e)?e:[e];r=new MutationObserver(c=>{for(const u of c)for(const d of u.addedNodes)if(d.nodeType===Node.ELEMENT_NODE&&l.includes(d.slot)){t(),tn(()=>o(d));return}}),r.observe(n,{childList:!0,subtree:!0})}const o=l=>{var c;i&&(i.disconnect(),i=void 0),i=new MutationObserver(u=>{t();for(const d of u)for(const h of d.removedNodes)h.nodeType===Node.ELEMENT_NODE&&h.slot===e&&s()}),i.observe((c=l.parentElement)!==null&&c!==void 0?c:l,{subtree:!0,childList:!0})},a=()=>{r&&(r.disconnect(),r=void 0),s()},s=()=>{i&&(i.disconnect(),i=void 0)};return{destroy:a}},ES=(n,e,t)=>{const r=n==null?0:n.toString().length,i=SP(r,e);if(t===void 0)return i;try{return t(r,e)}catch(o){return Xr("[ion-input] - Exception in provided `counterFormatter`:",o),i}},SP=(n,e)=>"".concat(n," / ").concat(e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TP=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;height:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-ios{inset-inline-start:0}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.label-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-ios-h[disabled].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[disabled] .sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly] .sc-ion-input-ios-s>ion-input-password-toggle{display:none}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px;font-size:inherit}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.input-disabled.sc-ion-input-ios-h{opacity:0.3}.sc-ion-input-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",AP=TP,IP=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-md-h,.input-label-placement-stacked.sc-ion-input-md-h{min-height:56px}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;height:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-md{inset-inline-start:0}.cloned-input.sc-ion-input-md:disabled{opacity:1}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.label-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-md-h[disabled].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[disabled] .sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly] .sc-ion-input-md-s>ion-input-password-toggle{display:none}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.label-floating.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px;font-size:inherit}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.input-highlight.sc-ion-input-md{inset-inline-start:0}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}.sc-ion-input-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",RP=IP,DP=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.ionInput=ae(this,"ionInput",7),this.ionChange=ae(this,"ionChange",7),this.ionBlur=ae(this,"ionBlur",7),this.ionFocus=ae(this,"ionFocus",7),this.inputId="ion-input-".concat(OP++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.isComposing=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const t=e.target;t&&(this.value=t.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearInputIcon=void 0,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:r}=this;this.ionInput=t===void 0?r!=null?r:e:Fp(e,t)}onTypeChange(){const e=this.el.querySelector("ion-input-password-toggle");e&&(e.type=this.type)}valueChanged(){const e=this.nativeInput,t=this.getValue();e&&e.value!==t&&!this.isComposing&&(e.value=t)}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),Sn(this)}onClickCapture(e){const t=this.nativeInput;t&&e.target===t&&(e.stopPropagation(),this.el.click())}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},vi(this.el)),qi(this.el,["tabindex","title","data-form-type","dir"]))}connectedCallback(){const{el:e}=this;this.slotMutationController=CS(e,["label","start","end"],()=>Sn(this)),this.notchController=Qx(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput,this.onTypeChange(),this.debounceChanged()}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>gi(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:t}=this,r=t==null?t:t.toString();this.focusedValue=r,this.ionChange.emit({value:r,event:e})}emitInputChange(e){const{value:t}=this,r=t==null?t:t.toString();this.ionInput.emit({value:r,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:t}=this;return t===void 0?e==="password":t}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}checkClearOnEdit(e){if(!this.shouldClearOnEdit())return;const r=["Enter","Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didInputClearOnEdit&&this.hasValue()&&!r&&(this.value="",this.emitInputChange(e)),r||(this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:t,helperTextId:r,errorTextId:i}=this;return[D("div",{id:r,class:"helper-text"},e),D("div",{id:i,class:"error-text"},t)]}getHintTextID(){const{el:e,helperText:t,errorText:r,helperTextId:i,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&r)return o;if(t)return i}renderCounter(){const{counter:e,maxlength:t,counterFormatter:r,value:i}=this;if(!(e!==!0||t===void 0))return D("div",{class:"counter"},ES(i,t,r))}renderBottomContent(){const{counter:e,helperText:t,errorText:r,maxlength:i}=this;if(!(!(t||r)&&!(e===!0&&i!==void 0)))return D("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return D("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?D("slot",{name:"label"}):D("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return pe(this)==="md"&&this.fill==="outline"?[D("div",{class:"input-outline-container"},D("div",{class:"input-outline-start"}),D("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},D("div",{class:"notch-spacer","aria-hidden":"true",ref:r=>this.notchSpacerEl=r},this.label)),D("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}render(){const{disabled:e,fill:t,readonly:r,shape:i,inputId:o,labelPlacement:a,el:s,hasFocus:l,clearInputIcon:c}=this,u=pe(this),d=this.getValue(),h=Ot("ion-item",this.el),f=u==="md"&&t!=="outline"&&!h,p=u==="ios"?aS:sS,m=c!=null?c:p,b=this.hasValue(),g=s.querySelector('[slot="start"], [slot="end"]')!==null,v=a==="stacked"||a==="floating"&&(b||l||g);return D(Pe,{key:"1094be43093d71694bf0e503d3015401b8cd9574",class:mt(this.color,{[u]:!0,"has-value":b,"has-focus":l,"label-floating":v,["input-fill-".concat(t)]:t!==void 0,["input-shape-".concat(i)]:i!==void 0,["input-label-placement-".concat(a)]:!0,"in-item":h,"in-item-color":Ot("ion-item.ion-color",this.el),"input-disabled":e})},D("label",{key:"697c6decb1fb8403777db7a37f54853863421ad9",class:"input-wrapper",htmlFor:o},this.renderLabelContainer(),D("div",{key:"d35f44c3afcf8e075f7f845416cb8500606d3546",class:"native-wrapper"},D("slot",{key:"41ef868873ffd8262d53fd1a5e506c62030dc3f1",name:"start"}),D("input",Object.assign({key:"d98e0aaa285b5424e9589ce36ed4f9910a6859cd",class:"native-input",ref:x=>this.nativeInput=x,id:o,disabled:e,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:r,required:this.required,spellcheck:this.spellcheck,step:this.step,type:this.type,value:d,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes)),this.clearInput&&!r&&!e&&D("button",{key:"367d1a1c2eb69d4887fe29ab96ead3230d7dd513","aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:x=>{x.preventDefault()},onFocusin:x=>{x.stopPropagation()},onClick:this.clearTextInput},D("ion-icon",{key:"69afc5c7ea6bfa1bff301635281b536e84277965","aria-hidden":"true",icon:m})),D("slot",{key:"6f770a0ab703b4d19e936a0e1955274bc9f3e941",name:"end"})),f&&D("div",{key:"a048e240432c4d5e11b2c92fa99a0cff07f9a778",class:"input-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"],dir:["onDirChanged"]}}static get style(){return{ios:AP,md:RP}}},[38,"ion-input",{color:[513],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearInputIcon:[1,"clear-input-icon"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[516],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[516],required:[4],shape:[1],spellcheck:[4],step:[1],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]},[[2,"click","onClickCapture"]],{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"],dir:["onDirChanged"]}]);let OP=0;function MP(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,DP);break;case"ion-icon":customElements.get(e)||Jr();break}})}const PP=MP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const BP="",zP=BP,LP="",jP=LP,NP=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.togglePasswordVisibility=()=>{const{inputElRef:e}=this;e&&(e.type=e.type==="text"?"password":"text")},this.color=void 0,this.showIcon=void 0,this.hideIcon=void 0,this.type="password"}onTypeChange(e){if(e!=="text"&&e!=="password"){yt('[ion-input-password-toggle] - Only inputs of type "text" or "password" are supported. Input of type "'.concat(e,'" is not compatible.'),this.el);return}}connectedCallback(){const{el:e}=this,t=this.inputElRef=e.closest("ion-input");if(!t){yt("[ion-input-password-toggle] - No ancestor ion-input found. This component must be slotted inside of an ion-input.",e);return}this.type=t.type}disconnectedCallback(){this.inputElRef=null}render(){var e,t;const{color:r,type:i}=this,o=pe(this),a=(e=this.showIcon)!==null&&e!==void 0?e:b9,s=(t=this.hideIcon)!==null&&t!==void 0?t:v9,l=i==="text";return D(Pe,{key:"1a28e078c83e74c72d8bb8189ece93ec2e3fa3d0",class:mt(r,{[o]:!0})},D("ion-button",{key:"039d1bab764093bb6fe4a34299b0872abda087fd",mode:o,color:r,fill:"clear",shape:"round","aria-checked":l?"true":"false","aria-label":"show password",role:"switch",type:"button",onPointerDown:c=>{c.preventDefault()},onClick:this.togglePasswordVisibility},D("ion-icon",{key:"26477ee97b808c3d79944bf5e33d4e05f1ae0b3f",slot:"icon-only","aria-hidden":"true",icon:l?s:a})))}get el(){return this}static get watchers(){return{type:["onTypeChange"]}}static get style(){return{ios:zP,md:jP}}},[33,"ion-input-password-toggle",{color:[513],showIcon:[1,"show-icon"],hideIcon:[1,"hide-icon"],type:[1025]},void 0,{type:["onTypeChange"]}]);function FP(){if(typeof customElements>"u")return;["ion-input-password-toggle","ion-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-input-password-toggle":customElements.get(e)||customElements.define(e,NP);break;case"ion-button":customElements.get(e)||Xx();break;case"ion-icon":customElements.get(e)||Jr();break;case"ion-ripple-effect":customElements.get(e)||Qr();break}})}const $P=FP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const UP=(n,e,t)=>{if(typeof MutationObserver>"u")return;const r=new MutationObserver(i=>{t(HP(i,e))});return r.observe(n,{childList:!0,subtree:!0}),r},HP=(n,e)=>{let t;return n.forEach(r=>{for(let i=0;i<r.addedNodes.length;i++)t=WP(r.addedNodes[i],e)||t}),t},WP=(n,e)=>{if(n.nodeType!==1)return;const t=n;return(t.tagName===e.toUpperCase()?[t]:Array.from(t.querySelectorAll(e))).find(i=>i.value===t.value)};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VP=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999))}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",qP=VP,GP=".item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #0054e9)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}",KP=GP,YP=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.ionColor=ae(this,"ionColor",7),this.ionStyle=ae(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,["ion-color-".concat(e)]:e!==void 0})}emitStyle(){const{inRange:e,position:t}=this;e||this.ionStyle.emit({label:!0,["label-".concat(t)]:t!==void 0})}render(){const e=this.position,t=pe(this);return D(Pe,{key:"4da84c95351a74b547f8224ecfa66924d21398c5",class:mt(this.color,{[t]:!0,"in-item-color":Ot("ion-item.ion-color",this.el),["label-".concat(e)]:e!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})},D("slot",{key:"ea158ebb620275e5492965234d0ab925d391f919"}))}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:qP,md:KP}}},[38,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);function ey(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,YP);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const XP=ey;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ZP="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",JP=ZP,QP="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",eB=QP,tB=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e!=null&&e.closeOpened?e.closeOpened():!1}render(){const e=pe(this),{lines:t,inset:r}=this;return D(Pe,{key:"5ff2b0b3989cc99ce17abb8bcd7ec1847940d1ec",role:"list",class:{[e]:!0,["list-".concat(e)]:!0,"list-inset":r,["list-lines-".concat(t)]:t!==void 0,["list-".concat(e,"-lines-").concat(t)]:t!==void 0}})}get el(){return this}static get style(){return{ios:JP,md:eB}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function qp(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,tB);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nB=qp;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rB=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);position:relative;-ms-flex-align:end;align-items:flex-end;font-size:min(1.375rem, 56.1px);font-weight:700;letter-spacing:0}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}::slotted(ion-button),::slotted(ion-label){margin-top:29px;margin-bottom:6px}::slotted(ion-button){--padding-top:0;--padding-bottom:0;-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:3px;margin-inline-end:3px;min-height:1.4em}:host(.list-header-lines-full){--border-width:0 0 0.55px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 0.55px 0}",iB=rB,oB=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-text-color, #000);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);min-height:45px;font-size:0.875rem}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}:host(.list-header-lines-full){--border-width:0 0 1px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 1px 0}",aB=oB,sB=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.lines=void 0}render(){const{lines:e}=this,t=pe(this);return D(Pe,{key:"95ce2135e2b1ad4d7d6020b0fb9bc6e02b3c0851",class:mt(this.color,{[t]:!0,["list-header-lines-".concat(e)]:e!==void 0})},D("div",{key:"3065b0a094bc31a90518898a5126a813c8a33816",class:"list-header-inner"},D("slot",{key:"fe15c87d7867f3e5d8185645c49c0228496697b8"})))}static get style(){return{ios:iB,md:aB}}},[33,"ion-list-header",{color:[513],lines:[1]}]);function SS(){if(typeof customElements>"u")return;["ion-list-header"].forEach(e=>{switch(e){case"ion-list-header":customElements.get(e)||customElements.define(e,sB);break}})}const lB=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",cB=lB,uB=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",dB=uB,hB="cubic-bezier(0.32,0.72,0,1)",fB="cubic-bezier(0.0,0.0,0.2,1)",pB="cubic-bezier(1, 0, 0.68, 0.28)",mB="cubic-bezier(0.4, 0, 0.6, 1)",gB=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=ae(this,"ionWillOpen",7),this.ionWillClose=ae(this,"ionWillClose",7),this.ionDidOpen=ae(this,"ionDidOpen",7),this.ionDidClose=ae(this,"ionDidClose",7),this.ionMenuChange=ae(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=Nx.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const t=oc(document);t&&!t.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,t){const r=this.contentEl;r&&(t!==void 0&&r.classList.remove("menu-content-".concat(t)),r.classList.add("menu-content-".concat(e)),r.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=j2(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=ze.get("menuType","overlay"));const e=this.contentId!==void 0?document.getElementById(this.contentId):null;if(e===null){Xr('[ion-menu] - Must have a "content" element to listen for drag events on.');return}this.el.contains(e)&&Xr('[ion-menu] - The "contentId" should refer to the main view\'s ion-content, not the ion-content inside of the ion-menu.'),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),Zo._register(this),this.menuChanged(),this.gesture=(await Xt(()=>Promise.resolve().then(()=>Fx),void 0)).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:t=>this.canStart(t),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=vi(this.el)}async componentDidLoad(){this.didLoad=!0;const e=this.el.closest("ion-split-pane");e!==null&&(this.isPaneVisible=await e.isVisible()),this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),Zo._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){const t=this.el.closest("ion-split-pane");t!==null&&t===e.target&&(this.isPaneVisible=e.detail.visible,this.updateState())}onBackdropClick(e){this._isOpen&&this.lastOnEnd<e.timeStamp-100&&(e.composedPath&&!e.composedPath().includes(this.menuInnerEl))&&(e.preventDefault(),e.stopPropagation(),this.close(void 0,Ui))}onKeydown(e){e.key==="Escape"&&this.close(void 0,Ui)}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0,t){return this.setOpen(!1,e,t)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,t=!0,r){return Zo._setOpen(this,e,t,r)}trapKeyboardFocus(e,t){const r=e.target;if(r)if(this.el.contains(r))this.lastFocus=r;else{const{el:i}=this;jf(i),this.lastFocus===t.activeElement&&Pb(i)}}async _setOpen(e,t=!0,r){return!this._isActive()||this.isAnimating||e===this._isOpen?!1:(this.beforeAnimation(e,r),await this.loadAnimation(),await this.startAnimation(e,t),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(e,r),!0))}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,t=j2(this.side);if(e===this.width&&this.animation!==void 0&&t===this.isEndSide)return;this.width=e,this.isEndSide=t,this.animation&&(this.animation.destroy(),this.animation=void 0);const r=this.animation=await Zo._createAnimation(this.type,this);ze.getBoolean("animated",!0)||r.duration(0),r.fill("both")}async startAnimation(e,t){const r=!e,i=pe(this),o=i==="ios"?hB:fB,a=i==="ios"?pB:mB,s=this.animation.direction(r?"reverse":"normal").easing(r?a:o);t?await s.play():s.play({sync:!0}),s.getDirection()==="reverse"&&s.direction("normal")}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:Zo._getOpenSync()?!1:bB(window,e.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen,yo),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){an(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(e){if(!this.isAnimating||!this.animation){an(!1,"isAnimating has to be true");return}const r=nk(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-r:r)}onEnd(e){if(!this.isAnimating||!this.animation){an(!1,"isAnimating has to be true");return}const t=this._isOpen,r=this.isEndSide,i=nk(e.deltaX,t,r),o=this.width,a=i/o,s=e.velocityX,l=o/2,c=s>=0&&(s>.2||e.deltaX>l),u=s<=0&&(s<-.2||e.deltaX<-l),d=t?r?c:u:r?u:c;let h=!t&&d;t&&!d&&(h=!0),this.lastOnEnd=e.currentTime;let f=d?.001:-.001;const p=a<0?.01:a;f+=xs([0,0],[.4,0],[.6,1],[1,1],Wn(0,p,.9999))[0]||0;const m=this._isOpen?!d:d;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(h,yo),{oneTimeCallback:!0}).progressEnd(m?1:0,this._isOpen?1-f:f,300)}beforeAnimation(e,t){an(!this.isAnimating,"_before() should not be called while animating"),qr("android")&&this.el.setAttribute("aria-hidden","true"),this.el.classList.add(rk),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(ik),this.contentEl&&(this.contentEl.classList.add(ok),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit({role:t})}afterAnimation(e,t){var r;this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e?(qr("android")&&this.el.removeAttribute("aria-hidden"),this.ionDidOpen.emit(),((r=document.activeElement)===null||r===void 0?void 0:r.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.removeAttribute("aria-hidden"),this.el.classList.remove(rk),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(ok),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(ik),this.animation&&this.animation.stop(),this.ionDidClose.emit({role:t}),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),e||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1,yo))}render(){const{type:e,disabled:t,el:r,isPaneVisible:i,inheritedAttributes:o,side:a}=this,s=pe(this);return D(Pe,{key:"0a2ba4ff5600b80b54d1b5b45124779c6aa0d2f2",onKeyDown:ic()?null:this.onKeydown,role:"navigation","aria-label":o["aria-label"]||"menu",class:{[s]:!0,["menu-type-".concat(e)]:!0,"menu-enabled":!t,["menu-side-".concat(a)]:!0,"menu-pane-visible":i,"split-pane-side":Ot("ion-split-pane",r)}},D("div",{key:"40a222bcde4b959abc9939c44e89ea0cf8967aba",class:"menu-inner",part:"container",ref:l=>this.menuInnerEl=l},D("slot",{key:"6a7ec5583294bb314990ff4ce6f25045652c07cb"})),D("ion-backdrop",{key:"95f1e87237f3cc24845d91b744f935bad6bb460d",ref:l=>this.backdropEl=l,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:cB,md:dB}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}]),nk=(n,e,t)=>Math.max(0,e!==t?-n:n),bB=(n,e,t,r)=>t?e>=n.innerWidth-r:e<=r,rk="show-menu",ik="show-backdrop",ok="menu-content-open";function vB(){if(typeof customElements>"u")return;["ion-menu","ion-backdrop"].forEach(e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,gB);break;case"ion-backdrop":customElements.get(e)||Os();break}})}const xB=vB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TS=async n=>{const e=await Zo.get(n);return!!(e&&await e.isActive())};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yB=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--padding-start:5px;--padding-end:5px;min-height:32px;font-size:clamp(31px, 1.9375rem, 38.13px)}:host(.ion-activated){opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',wB=yB,kB=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:.04;--border-radius:50%;--color:initial;--padding-start:8px;--padding-end:8px;width:3rem;height:3rem;font-size:1.5rem}:host(.ion-color.ion-focused)::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',_B=kB,CB=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async()=>Zo.toggle(this.menu),this.visible=!1,this.color=void 0,this.disabled=!1,this.menu=void 0,this.autoHide=!0,this.type="button"}componentWillLoad(){this.inheritedAttributes=vi(this.el)}componentDidLoad(){this.visibilityChanged()}async visibilityChanged(){this.visible=await TS(this.menu)}render(){const{color:e,disabled:t,inheritedAttributes:r}=this,i=pe(this),o=ze.get("menuIcon",i==="ios"?x9:y9),a=this.autoHide&&!this.visible,s={type:this.type},l=r["aria-label"]||"menu";return D(Pe,{key:"3cde3704f28eb275f4a5ff2985bbb68c1024e79c",onClick:this.onClick,"aria-disabled":t?"true":null,"aria-hidden":a?"true":null,class:mt(e,{[i]:!0,button:!0,"menu-button-hidden":a,"menu-button-disabled":t,"in-toolbar":Ot("ion-toolbar",this.el),"in-toolbar-color":Ot("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0})},D("button",Object.assign({key:"a02a3374288bd1759b6e352ada8eab0d45c6422f"},s,{disabled:t,class:"button-native",part:"native","aria-label":l}),D("span",{key:"ba699f2277a4e7b27ce5e42faeefc53d8805bb43",class:"button-inner"},D("slot",{key:"829fe6cbdeb173f50d1a670389d1565baa6273e4"},D("ion-icon",{key:"a9a9f7b8dcffc648a8429fe0adbe766869de72fd",part:"icon",icon:o,mode:i,lazy:!1,"aria-hidden":"true"}))),i==="md"&&D("ion-ripple-effect",{key:"48deca9a771a249f2fc76eaa8b9741c8d66d8355",type:"unbounded"})))}get el(){return this}static get style(){return{ios:wB,md:_B}}},[33,"ion-menu-button",{color:[513],disabled:[4],menu:[1],autoHide:[4,"auto-hide"],type:[1],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function EB(){if(typeof customElements>"u")return;["ion-menu-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-menu-button":customElements.get(e)||customElements.define(e,CB);break;case"ion-icon":customElements.get(e)||Jr();break;case"ion-ripple-effect":customElements.get(e)||Qr();break}})}const SB=EB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TB=":host(.menu-toggle-hidden){display:none}",AB=TB,IB=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=()=>Zo.toggle(this.menu),this.visible=!1,this.menu=void 0,this.autoHide=!0}connectedCallback(){this.visibilityChanged()}async visibilityChanged(){this.visible=await TS(this.menu)}render(){const e=pe(this),t=this.autoHide&&!this.visible;return D(Pe,{key:"88e88fa13ac7f10ba3acfe378bd11cda0c7e2749",onClick:this.onClick,"aria-hidden":t?"true":null,class:{[e]:!0,"menu-toggle-hidden":t}},D("slot",{key:"0a14c7b63eda64702d2fd1b4bc7db4809892842d"}))}static get style(){return AB}},[1,"ion-menu-toggle",{menu:[1],autoHide:[4,"auto-hide"],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function RB(){if(typeof customElements>"u")return;["ion-menu-toggle"].forEach(e=>{switch(e){case"ion-menu-toggle":customElements.get(e)||customElements.define(e,IB);break}})}const DB=RB,AS=1,IS=2,Vf=3;class $b{constructor(e,t){this.component=e,this.params=t,this.state=AS}async init(e){if(this.state=IS,!this.element){const t=this.component;this.element=await wd(this.delegate,e,t,["ion-page","ion-page-invisible"],this.params)}}_destroy(){an(this.state!==Vf,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=Vf}}const ak=(n,e,t)=>!n||n.component!==e?!1:BE(n.params,t),sk=(n,e)=>n?n instanceof $b?n:new $b(n,e):null,OB=n=>n.map(e=>e instanceof $b?e:"component"in e?sk(e.component,e.componentProps===null?void 0:e.componentProps):sk(e,void 0)).filter(e=>e!==null),MB=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",PB=MB,BB=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ae(this,"ionNavWillLoad",7),this.ionNavWillChange=ae(this,"ionNavWillChange",3),this.ionNavDidChange=ae(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=pe(this);this.swipeGesture=ze.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await Xt(()=>import("./swipe-back-FMsQbqZp.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)ho(e.element,Rg),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,t,r,i){return this.insert(-1,e,t,r,i)}insert(e,t,r,i,o){return this.insertPages(e,[{component:t,componentProps:r}],i,o)}insertPages(e,t,r,i){return this.queueTrns({insertStart:e,insertViews:t,opts:r},i)}pop(e,t){return this.removeIndex(-1,1,e,t)}popTo(e,t,r){const i={removeStart:-1,removeCount:-1,opts:t};return typeof e=="object"&&e.component?(i.removeView=e,i.removeStart=1):typeof e=="number"&&(i.removeStart=e+1),this.queueTrns(i,r)}popToRoot(e,t){return this.removeIndex(1,-1,e,t)}removeIndex(e,t=1,r,i){return this.queueTrns({removeStart:e,removeCount:t,opts:r},i)}setRoot(e,t,r,i){return this.setPages([{component:e,componentProps:t}],r,i)}setPages(e,t,r){return t!=null||(t={}),t.animated!==!0&&(t.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:t},r)}setRouteId(e,t,r,i){const o=this.getActiveSync();if(ak(o,e,t))return Promise.resolve({changed:!1,element:o.element});let a;const s=new Promise(u=>a=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const h=new Promise(f=>d=f);return a({changed:!0,element:u,markVisible:async()=>{d(),await l}}),h}};if(r==="root")l=this.setRoot(e,t,c);else{const u=this.views.find(d=>ak(d,e,t));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:i})):r==="forward"?l=this.push(e,t,Object.assign(Object.assign({},c),{animationBuilder:i})):r==="back"&&(l=this.setRoot(e,t,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:i})))}return s}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const t=this.views,r=t.indexOf(e);return r>0?t[r-1]:void 0}async queueTrns(e,t){var r,i;if(this.isTransitioning&&(!((r=e.opts)===null||r===void 0)&&r.skipIfBusy))return!1;const o=new Promise((a,s)=>{e.resolve=a,e.reject=s});if(e.done=t,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const a=document.querySelector("ion-router");if(a){const s=await a.canTransition();if(s===!1)return!1;if(typeof s=="string")return a.push(s,e.opts.direction||"back"),!1}}return((i=e.insertViews)===null||i===void 0?void 0:i.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),o}success(e,t){if(this.destroyed){this.fireError("nav controller was destroyed",t);return}if(t.done&&t.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),t.resolve(e.hasCompleted),t.opts.updateURL!==!1&&this.useRouter){const r=document.querySelector("ion-router");if(r){const i=e.direction==="back"?"back":"forward";r.navChanged(i)}}}failed(e,t){if(this.destroyed){this.fireError("nav controller was destroyed",t);return}this.transInstr.length=0,this.fireError(e,t)}fireError(e,t){t.done&&t.done(!1,!1,e),t.reject&&!this.destroyed?t.reject(e):t.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const t=this.getActiveSync(),r=this.getEnteringView(e,t);if(!t&&!r)throw new Error("no views in the stack to be removed");r&&r.state===AS&&await r.init(this.el),this.postViewInit(r,t,e);const i=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&r!==t;i&&e.opts&&t&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(r==null?void 0:r.animationBuilder)),t.animationBuilder=e.opts.animationBuilder);let o;i?o=await this.transition(r,t,e):o={hasCompleted:!0,requiresTransition:!1},this.success(o,e),this.ionNavDidChange.emit()}catch(t){this.failed(t,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var t,r,i;const o=this.views.length;if((t=e.opts)!==null&&t!==void 0||(e.opts={}),(r=(i=e.opts).delegate)!==null&&r!==void 0||(i.delegate=this.delegate),e.removeView!==void 0){an(e.removeStart!==void 0,"removeView needs removeStart"),an(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=o-1),e.removeCount<0&&(e.removeCount=o-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===o),e.insertViews&&((e.insertStart<0||e.insertStart>o)&&(e.insertStart=o),e.enteringRequiresTransition=e.insertStart===o);const a=e.insertViews;if(!a)return;an(a.length>0,"length can not be zero");const s=OB(a);if(s.length===0)throw new Error("invalid views to insert");for(const l of s){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===Vf)throw new Error("inserted view was already destroyed")}e.insertViews=s}getEnteringView(e,t){const r=e.insertViews;if(r!==void 0)return r[r.length-1];const i=e.removeStart;if(i!==void 0){const o=this.views,a=i+e.removeCount;for(let s=o.length-1;s>=0;s--){const l=o[s];if((s<i||s>=a)&&l!==t)return l}}}postViewInit(e,t,r){var i,o,a;an(t||e,"Both leavingView and enteringView are null"),an(r.resolve,"resolve must be valid"),an(r.reject,"reject must be valid");const s=r.opts,{insertViews:l,removeStart:c,removeCount:u}=r;let d;if(c!==void 0&&u!==void 0){an(c>=0,"removeStart can not be negative"),an(u>=0,"removeCount can not be negative"),d=[];for(let f=c;f<c+u;f++){const p=this.views[f];p!==void 0&&p!==e&&p!==t&&d.push(p)}(i=s.direction)!==null&&i!==void 0||(s.direction="back")}const h=this.views.length+((o=l==null?void 0:l.length)!==null&&o!==void 0?o:0)-(u!=null?u:0);if(an(h>=0,"final balance can not be negative"),h===0)throw yt("[ion-nav] - You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let f=r.insertStart;for(const p of l)this.insertViewAt(p,f),f++;r.enteringRequiresTransition&&((a=s.direction)!==null&&a!==void 0||(s.direction="forward"))}if(d&&d.length>0){for(const f of d)ho(f.element,zE),ho(f.element,LE),ho(f.element,Rg);for(const f of d)this.destroyView(f)}}async transition(e,t,r){const i=r.opts,o=i.progressAnimation?d=>{d!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,d.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),d.progressEnd(0,0,0)):this.sbAni=d}:void 0,a=pe(this),s=e.element,l=t&&t.element,c=Object.assign(Object.assign({mode:a,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:o,animated:this.animated&&ze.getBoolean("animated",!0),enteringEl:s,leavingEl:l},i),{animationBuilder:i.animationBuilder||this.animation||ze.get("navAnimation")}),{hasCompleted:u}=await NE(c);return this.transitionFinish(u,e,t,i)}transitionFinish(e,t,r,i){const o=e?t:r;return o&&this.unmountInactiveViews(o),{hasCompleted:e,requiresTransition:!0,enteringView:t,leavingView:r,direction:i.direction}}insertViewAt(e,t){const r=this.views,i=r.indexOf(e);i>-1?(an(e.nav===this,"view is not part of the nav"),r.splice(i,1),r.splice(t,0,e)):(an(!e.nav,"nav is used"),e.nav=this,r.splice(t,0,e))}removeView(e){an(e.state===IS||e.state===Vf,"view state should be loaded or destroyed");const t=this.views,r=t.indexOf(e);an(r>-1,"view must be part of the stack"),r>=0&&t.splice(r,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const t=this.views,r=t.indexOf(e);for(let i=t.length-1;i>=0;i--){const o=t[i],a=o.element;a&&(i>r?(ho(a,Rg),this.destroyView(o)):i<r&&Db(a,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,t,r){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let i=e?-.001:.001;e?i+=xs([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=xs([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.sbAni.progressEnd(e?1:0,i,r)}else this.gestureOrAnimationInProgress=!1}render(){return D("slot",{key:"188d0abd6c047d235380f07aac81223b757010e8"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return PB}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function zB(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,BB);break}})}const LB=zB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jB=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-350, var(--ion-text-color-step-650, #a6a6a6));font-size:max(14px, 1rem)}",NB=jB,FB=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:0.875rem}",$B=FB,UB=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=pe(this);return D(Pe,{key:"3c3d9b2aa805c0bc1fdc6270a2bbf4dcc1b96c5b",class:mt(this.color,{[e]:!0})},D("slot",{key:"39e34682009fcb705ecafe51825162734bdf14d3"}))}static get style(){return{ios:NB,md:$B}}},[33,"ion-note",{color:[513]}]);function HB(){if(typeof customElements>"u")return;["ion-note"].forEach(e=>{switch(e){case"ion-note":customElements.get(e)||customElements.define(e,UB);break}})}const WB=HB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ub=(n,e,t)=>typeof t=="function"?t(n,e):typeof t=="string"?n[t]===e[t]:Array.isArray(e)?e.includes(n):n===e,Kh=(n,e,t)=>n===void 0?!1:Array.isArray(n)?n.some(r=>Ub(r,e,t)):Ub(n,e,t),VB=':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color-checked:var(--ion-color-primary, #0054e9)}:host(.ion-color.radio-checked) .radio-inner{border-color:var(--ion-color-base)}.item-radio.item-ios ion-label{-webkit-margin-start:0;margin-inline-start:0}.radio-inner{width:33%;height:50%}:host(.radio-checked) .radio-inner{-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--color-checked)}:host(.radio-disabled){opacity:0.3}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);top:-8px;display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}:host(.ion-focused) .radio-icon::after{inset-inline-start:-9px}.native-wrapper .radio-icon{width:0.9375rem;height:1.5rem}',qB=VB,GB=':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--color-checked:var(--ion-color-primary, #0054e9);--border-width:0.125rem;--border-style:solid;--border-radius:50%}:host(.ion-color) .radio-inner{background:var(--ion-color-base)}:host(.ion-color.radio-checked) .radio-icon{border-color:var(--ion-color-base)}.radio-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--color)}.radio-inner{border-radius:var(--inner-border-radius);width:calc(50% + var(--border-width));height:calc(50% + var(--border-width));-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background:var(--color-checked)}:host(.radio-checked) .radio-icon{border-color:var(--color-checked)}:host(.radio-checked) .radio-inner{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}:host(.radio-disabled) .label-text-wrapper{opacity:0.38}:host(.radio-disabled) .native-wrapper{opacity:0.63}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}.native-wrapper .radio-icon{width:1.25rem;height:1.25rem}',KB=GB,YB=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ae(this,"ionFocus",7),this.ionBlur=ae(this,"ionBlur",7),this.inputId="ion-rb-".concat(XB++),this.radioGroup=null,this.updateState=()=>{if(this.radioGroup){const{compareWith:e,value:t}=this.radioGroup;this.checked=Kh(t,this.value,e)}},this.onClick=()=>{const{radioGroup:e,checked:t,disabled:r}=this;r||(t&&(e!=null&&e.allowEmptySelection)?this.checked=!1:this.checked=!0)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.checked=!1,this.buttonTabindex=-1,this.color=void 0,this.name=this.inputId,this.disabled=!1,this.value=void 0,this.labelPlacement="start",this.justify=void 0,this.alignment=void 0}valueChanged(){this.updateState()}componentDidLoad(){this.updateState()}async setFocus(e){e!==void 0&&(e.stopPropagation(),e.preventDefault()),this.el.focus()}async setButtonTabindex(e){this.buttonTabindex=e}connectedCallback(){this.value===void 0&&(this.value=this.inputId);const e=this.radioGroup=this.el.closest("ion-radio-group");e&&(this.updateState(),jx(e,"ionValueChange",this.updateState))}disconnectedCallback(){const e=this.radioGroup;e&&(PE(e,"ionValueChange",this.updateState),this.radioGroup=null)}get hasLabel(){return this.el.textContent!==""}renderRadioControl(){return D("div",{class:"radio-icon",part:"container"},D("div",{class:"radio-inner",part:"mark"}),D("div",{class:"radio-ripple"}))}render(){const{checked:e,disabled:t,color:r,el:i,justify:o,labelPlacement:a,hasLabel:s,buttonTabindex:l,alignment:c}=this,u=pe(this),d=Ot("ion-item",i);return D(Pe,{key:"8badd4aec277addc0793e14df21f73bb345e99b7",onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.onClick,class:mt(r,{[u]:!0,"in-item":d,"radio-checked":e,"radio-disabled":t,["radio-justify-".concat(o)]:o!==void 0,["radio-alignment-".concat(c)]:c!==void 0,["radio-label-placement-".concat(a)]:!0,"ion-activatable":!d,"ion-focusable":!d}),role:"radio","aria-checked":e?"true":"false","aria-disabled":t?"true":null,tabindex:l},D("label",{key:"8765b847edc93a1b5a16506e155ed03da807bb10",class:"radio-wrapper"},D("div",{key:"3d568a0192a32d4f0b8a920019c79ff02639b5c9",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!s},part:"label"},D("slot",{key:"331f3dc2ce5f6ed8f124fc4560f92e0f7c668a85"})),D("div",{key:"473bd4aaf448753e385f2dda3fddc9f56379aa19",class:"native-wrapper"},this.renderRadioControl())))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:qB,md:KB}}},[33,"ion-radio",{color:[513],name:[1],disabled:[4],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],checked:[32],buttonTabindex:[32],setFocus:[64],setButtonTabindex:[64]},void 0,{value:["valueChanged"]}]);let XB=0;function ty(){if(typeof customElements>"u")return;["ion-radio"].forEach(e=>{switch(e){case"ion-radio":customElements.get(e)||customElements.define(e,YB);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ZB="ion-radio-group{vertical-align:top}.radio-group-wrapper{display:inline}.radio-group-top{line-height:1.5}.radio-group-top .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.radio-group-top .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid .radio-group-top .error-text{display:block}.ion-touched.ion-invalid .radio-group-top .helper-text{display:none}ion-list .radio-group-top{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}",JB=ZB,QB="ion-radio-group{vertical-align:top}.radio-group-wrapper{display:inline}.radio-group-top{line-height:1.5}.radio-group-top .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.radio-group-top .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid .radio-group-top .error-text{display:block}.ion-touched.ion-invalid .radio-group-top .helper-text{display:none}ion-list .radio-group-top{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}",ez=QB,tz=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.ionChange=ae(this,"ionChange",7),this.ionValueChange=ae(this,"ionValueChange",7),this.inputId="ion-rg-".concat(nz++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.labelId="".concat(this.inputId,"-lbl"),this.setRadioTabindex=e=>{const t=this.getRadios(),r=t.find(a=>!a.disabled),i=t.find(a=>a.value===e&&!a.disabled);if(!r&&!i)return;const o=i||r;for(const a of t){const s=a===o?0:-1;a.setButtonTabindex(s)}},this.onClick=e=>{e.preventDefault();const t=e.target&&e.target.closest("ion-radio");if(t&&!t.disabled){const r=this.value,i=t.value;i!==r?(this.value=i,this.emitValueChange(e)):this.allowEmptySelection&&(this.value=void 0,this.emitValueChange(e))}},this.allowEmptySelection=!1,this.compareWith=void 0,this.name=this.inputId,this.value=void 0,this.helperText=void 0,this.errorText=void 0}valueChanged(e){this.setRadioTabindex(e),this.ionValueChange.emit({value:e})}componentDidLoad(){this.valueChanged(this.value)}async connectedCallback(){const e=this.el.querySelector("ion-list-header")||this.el.querySelector("ion-item-divider");if(e){const t=this.label=e.querySelector("ion-label");t&&(this.labelId=t.id=this.name+"-lbl")}}getRadios(){return Array.from(this.el.querySelectorAll("ion-radio"))}emitValueChange(e){const{value:t}=this;this.ionChange.emit({value:t,event:e})}onKeydown(e){const t=!!this.el.closest("ion-select-popover")||!!this.el.closest("ion-select-modal");if(e.target&&!this.el.contains(e.target))return;const r=this.getRadios().filter(i=>!i.disabled);if(e.target&&r.includes(e.target)){const i=r.findIndex(s=>s===e.target),o=r[i];let a;if(["ArrowDown","ArrowRight"].includes(e.key)&&(a=i===r.length-1?r[0]:r[i+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(a=i===0?r[r.length-1]:r[i-1]),a&&r.includes(a)&&(a.setFocus(e),t||(this.value=a.value,this.emitValueChange(e))),[" "].includes(e.key)){const s=this.value;this.value=this.allowEmptySelection&&this.value!==void 0?void 0:o.value,(s!==this.value||this.allowEmptySelection)&&this.emitValueChange(e),e.preventDefault()}}}async setFocus(){const e=this.getRadios().find(t=>t.tabIndex!==-1);e==null||e.setFocus()}renderHintText(){const{helperText:e,errorText:t,helperTextId:r,errorTextId:i}=this;if(e||t)return D("div",{class:"radio-group-top"},D("div",{id:r,class:"helper-text"},e),D("div",{id:i,class:"error-text"},t))}getHintTextID(){const{el:e,helperText:t,errorText:r,helperTextId:i,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&r)return o;if(t)return i}render(){const{label:e,labelId:t,el:r,name:i,value:o}=this,a=pe(this);return xd(!0,r,i,o,!1),D(Pe,{key:"cac92777297029d7fd1b6af264d92850e35dfbba",role:"radiogroup","aria-labelledby":e?t:null,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,onClick:this.onClick,class:a},this.renderHintText(),D("div",{key:"6b5c634dba30d54eedc031b077863f3d6a9d9e9b",class:"radio-group-wrapper"},D("slot",{key:"443edb3ff6f4c59d4c4324c8a19f2d6def47a322"})))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:JB,md:ez}}},[36,"ion-radio-group",{allowEmptySelection:[4,"allow-empty-selection"],compareWith:[1,"compare-with"],name:[1],value:[1032],helperText:[1,"helper-text"],errorText:[1,"error-text"],setFocus:[64]},[[4,"keydown","onKeydown"]],{value:["valueChanged"]}]);let nz=0;function ny(){if(typeof customElements>"u")return;["ion-radio-group"].forEach(e=>{switch(e){case"ion-radio-group":customElements.get(e)||customElements.define(e,tz);break}})}function rz(n){return!Vo(n)||n%1===0?0:n.toString().split(".")[1].length}function iz(n,...e){if(!Vo(n))return 0;const t=Math.max(...e.map(r=>rz(r)));return Number(n.toFixed(t))}const oz=":host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-pack:center;justify-content:center;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}.range-knob-handle{inset-inline-start:0}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}.range-bar-container{inset-inline-start:0}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.range-label-placement-stacked) .range-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}:host(.range-label-placement-stacked) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host-context([dir=rtl]):host(.range-label-placement-stacked) .label-text-wrapper,:host-context([dir=rtl]).range-label-placement-stacked .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.range-label-placement-stacked:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.in-item.range-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.range-label-placement-stacked) .native-wrapper{margin-bottom:0px}:host{--knob-border-radius:50%;--knob-background:#ffffff;--knob-box-shadow:0px 0.5px 4px rgba(0, 0, 0, 0.12), 0px 6px 13px rgba(0, 0, 0, 0.12);--knob-size:26px;--bar-height:4px;--bar-background:var(--ion-color-step-900, var(--ion-background-color-step-900, #e6e6e6));--bar-background-active:var(--ion-color-primary, #0054e9);--bar-border-radius:2px;--height:42px}:host(.range-item-start-adjustment){-webkit-padding-start:24px;padding-inline-start:24px}:host(.range-item-end-adjustment){-webkit-padding-end:24px;padding-inline-end:24px}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-tick-active{background:var(--ion-color-base)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin:not(.range-label-placement-stacked)){padding-top:calc(8px + 0.75rem)}:host(.range-has-pin.range-label-placement-stacked) .label-text-wrapper{margin-bottom:calc(8px + 0.75rem)}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-bar-active.has-ticks{border-radius:0;-webkit-margin-start:-2px;margin-inline-start:-2px;-webkit-margin-end:-2px;margin-inline-end:-2px}.range-tick{-webkit-margin-start:-2px;margin-inline-start:-2px;border-radius:0;position:absolute;top:17px;width:4px;height:8px;background:var(--ion-color-step-900, var(--ion-background-color-step-900, #e6e6e6));pointer-events:none}.range-tick-active{background:var(--bar-background-active)}.range-pin{-webkit-transform:translate3d(0,  100%,  0) scale(0.01);transform:translate3d(0,  100%,  0) scale(0.01);-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;min-width:28px;-webkit-transition:-webkit-transform 120ms ease;transition:-webkit-transform 120ms ease;transition:transform 120ms ease;transition:transform 120ms ease, -webkit-transform 120ms ease;background:transparent;color:var(--ion-text-color, #000);font-size:0.75rem;text-align:center}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0, calc(-100% + 11px), 0) scale(1);transform:translate3d(0, calc(-100% + 11px), 0) scale(1)}:host(.range-disabled){opacity:0.3}",az=oz,sz=':host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-pack:center;justify-content:center;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}.range-knob-handle{inset-inline-start:0}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}.range-bar-container{inset-inline-start:0}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.range-label-placement-stacked) .range-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}:host(.range-label-placement-stacked) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host-context([dir=rtl]):host(.range-label-placement-stacked) .label-text-wrapper,:host-context([dir=rtl]).range-label-placement-stacked .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.range-label-placement-stacked:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.in-item.range-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.range-label-placement-stacked) .native-wrapper{margin-bottom:0px}:host{--knob-border-radius:50%;--knob-background:var(--bar-background-active);--knob-box-shadow:none;--knob-size:18px;--bar-height:2px;--bar-background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.26);--bar-background-active:var(--ion-color-primary, #0054e9);--bar-border-radius:0;--height:42px;--pin-background:var(--ion-color-primary, #0054e9);--pin-color:var(--ion-color-primary-contrast, #fff)}::slotted(:not(ion-icon)[slot=start]),::slotted(:not(ion-icon)[slot=end]),.native-wrapper{font-size:0.75rem}:host(.range-item-start-adjustment){-webkit-padding-start:18px;padding-inline-start:18px}:host(.range-item-end-adjustment){-webkit-padding-end:18px;padding-inline-end:18px}:host(.ion-color) .range-bar{background:rgba(var(--ion-color-base-rgb), 0.26)}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-knob,:host(.ion-color) .range-knob::before,:host(.ion-color) .range-pin,:host(.ion-color) .range-pin::before,:host(.ion-color) .range-tick{background:var(--ion-color-base);color:var(--ion-color-contrast)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:14px;margin-inline-end:14px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:14px;margin-inline-start:14px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin:not(.range-label-placement-stacked)){padding-top:1.75rem}:host(.range-has-pin.range-label-placement-stacked) .label-text-wrapper{margin-bottom:1.75rem}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-knob{-webkit-transform:scale(0.67);transform:scale(0.67);-webkit-transition-duration:120ms;transition-duration:120ms;-webkit-transition-property:background-color, border, -webkit-transform;transition-property:background-color, border, -webkit-transform;transition-property:transform, background-color, border;transition-property:transform, background-color, border, -webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;z-index:2}.range-knob::before{border-radius:50%;position:absolute;width:var(--knob-size);height:var(--knob-size);-webkit-transform:scale(1);transform:scale(1);-webkit-transition:0.267s cubic-bezier(0, 0, 0.58, 1);transition:0.267s cubic-bezier(0, 0, 0.58, 1);background:var(--knob-background);content:"";opacity:0.13;pointer-events:none}.range-knob::before{inset-inline-start:0}.range-tick{position:absolute;top:calc((var(--height) - var(--bar-height)) / 2);width:var(--bar-height);height:var(--bar-height);background:var(--bar-background-active);z-index:1;pointer-events:none}.range-tick-active{background:transparent}.range-pin{padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;border-radius:50%;-webkit-transform:translate3d(0,  0,  0) scale(0.01);transform:translate3d(0,  0,  0) scale(0.01);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:1.75rem;height:1.75rem;-webkit-transition:background 120ms ease, -webkit-transform 120ms ease;transition:background 120ms ease, -webkit-transform 120ms ease;transition:transform 120ms ease, background 120ms ease;transition:transform 120ms ease, background 120ms ease, -webkit-transform 120ms ease;background:var(--pin-background);color:var(--pin-color)}.range-pin::before{bottom:-1px;-webkit-margin-start:-13px;margin-inline-start:-13px;border-radius:50% 50% 50% 0;position:absolute;width:26px;height:26px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transition:background 120ms ease;transition:background 120ms ease;background:var(--pin-background);content:"";z-index:-1}.range-pin::before{inset-inline-start:50%}:host-context([dir=rtl]) .range-pin::before{left:unset}[dir=rtl] .range-pin::before{left:unset}@supports selector(:dir(rtl)){.range-pin::before:dir(rtl){left:unset}}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0, calc(-100% + 4px), 0) scale(1);transform:translate3d(0, calc(-100% + 4px), 0) scale(1)}@media (any-hover: hover){.range-knob-handle:hover .range-knob:before{-webkit-transform:scale(2);transform:scale(2);opacity:0.13}}.range-knob-handle.ion-activated .range-knob:before,.range-knob-handle.ion-focused .range-knob:before,.range-knob-handle.range-knob-pressed .range-knob:before{-webkit-transform:scale(2);transform:scale(2)}.range-knob-handle.ion-focused .range-knob::before{opacity:0.13}.range-knob-handle.ion-activated .range-knob::before,.range-knob-handle.range-knob-pressed .range-knob::before{opacity:0.25}:host(:not(.range-has-pin)) .range-knob-pressed .range-knob,:host(:not(.range-has-pin)) .range-knob-handle.ion-focused .range-knob{-webkit-transform:scale(1);transform:scale(1)}:host(.range-disabled) .range-bar-active,:host(.range-disabled) .range-bar,:host(.range-disabled) .range-tick{background-color:var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf))}:host(.range-disabled) .range-knob{-webkit-transform:scale(0.55);transform:scale(0.55);outline:5px solid #fff;background-color:var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf))}:host(.range-disabled) .label-text-wrapper,:host(.range-disabled) ::slotted([slot=start]),:host(.range-disabled) ::slotted([slot=end]){opacity:0.38}',lz=sz,cz=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ae(this,"ionChange",7),this.ionInput=ae(this,"ionInput",7),this.ionFocus=ae(this,"ionFocus",7),this.ionBlur=ae(this,"ionBlur",7),this.ionKnobMoveStart=ae(this,"ionKnobMoveStart",7),this.ionKnobMoveEnd=ae(this,"ionKnobMoveEnd",7),this.rangeId="ion-r-".concat(uz++),this.didLoad=!1,this.noUpdate=!1,this.hasFocus=!1,this.inheritedAttributes={},this.contentEl=null,this.initialContentScrollY=!0,this.compareValues=(e,t)=>typeof e=="object"&&typeof t=="object"?e.lower!==t.lower||e.upper!==t.upper:e!==t,this.clampBounds=e=>Wn(this.min,e,this.max),this.ensureValueInBounds=e=>this.dualKnobs?{lower:this.clampBounds(e.lower),upper:this.clampBounds(e.upper)}:this.clampBounds(e),this.setupGesture=async()=>{const e=this.rangeSlider;e&&(this.gesture=(await Xt(()=>Promise.resolve().then(()=>Fx),void 0)).createGesture({el:e,gestureName:"range",gesturePriority:100,threshold:10,onStart:()=>this.onStart(),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.gesture.enable(!this.disabled))},this.handleKeyboard=(e,t)=>{const{ensureValueInBounds:r}=this;let i=this.step;i=i>0?i:1,i=i/(this.max-this.min),t||(i*=-1),e==="A"?this.ratioA=Wn(0,this.ratioA+i,1):this.ratioB=Wn(0,this.ratioB+i,1),this.ionKnobMoveStart.emit({value:r(this.value)}),this.updateValue(),this.emitValueChange(),this.ionKnobMoveEnd.emit({value:r(this.value)})},this.onBlur=()=>{this.hasFocus&&(this.hasFocus=!1,this.ionBlur.emit())},this.onFocus=()=>{this.hasFocus||(this.hasFocus=!0,this.ionFocus.emit())},this.ratioA=0,this.ratioB=0,this.pressedKnob=void 0,this.color=void 0,this.debounce=void 0,this.name=this.rangeId,this.label=void 0,this.dualKnobs=!1,this.min=0,this.max=100,this.pin=!1,this.pinFormatter=e=>Math.round(e),this.snaps=!1,this.step=1,this.ticks=!0,this.activeBarStart=void 0,this.disabled=!1,this.value=0,this.labelPlacement="start"}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:r}=this;this.ionInput=t===void 0?r!=null?r:e:Fp(e,t)}minChanged(e){Vo(e)||(this.min=0),this.noUpdate||this.updateRatio()}maxChanged(e){Vo(e)||(this.max=100),this.noUpdate||this.updateRatio()}stepChanged(e){Vo(e)||(this.step=1)}activeBarStartChanged(){const{activeBarStart:e}=this;e!==void 0&&(e>this.max?(yt("[ion-range] - The value of activeBarStart (".concat(e,") is greater than the max (").concat(this.max,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.max):e<this.min&&(yt("[ion-range] - The value of activeBarStart (".concat(e,") is less than the min (").concat(this.min,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.min))}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}valueChanged(e,t){this.compareValues(e,t)&&this.ionInput.emit({value:this.value}),this.noUpdate||this.updateRatio()}componentWillLoad(){this.el.hasAttribute("id")&&(this.rangeId=this.el.getAttribute("id")),this.inheritedAttributes=vi(this.el),this.min=Vo(this.min)?this.min:0,this.max=Vo(this.max)?this.max:100,this.step=Vo(this.step)?this.step:1}componentDidLoad(){this.originalIonInput=this.ionInput,this.setupGesture(),this.updateRatio(),this.didLoad=!0}connectedCallback(){var e;this.updateRatio(),this.debounceChanged(),this.disabledChanged(),this.activeBarStartChanged(),this.didLoad&&this.setupGesture();const t=Hf(this.el);this.contentEl=(e=t==null?void 0:t.querySelector(".ion-content-scroll-host"))!==null&&e!==void 0?e:t}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}getValue(){var e;const t=(e=this.value)!==null&&e!==void 0?e:0;return this.dualKnobs?typeof t=="object"?t:{lower:0,upper:t}:typeof t=="object"?t.upper:t}emitValueChange(){this.value=this.ensureValueInBounds(this.value),this.ionChange.emit({value:this.value})}onStart(){this.ionKnobMoveStart.emit({value:this.ensureValueInBounds(this.value)})}onMove(e){const{contentEl:t,pressedKnob:r}=this,i=e.currentX;t&&this.pressedKnob===void 0&&(this.initialContentScrollY=jb(t)),r===void 0&&this.setPressedKnob(i),this.update(i)}onEnd(e){var t;const{contentEl:r,initialContentScrollY:i}=this,o=(t=e.currentX)!==null&&t!==void 0?t:e.clientX;this.pressedKnob===void 0&&this.setPressedKnob(o),r&&this.pressedKnob!==void 0&&xS(r,i),this.update(o),this.pressedKnob=void 0,this.emitValueChange(),this.ionKnobMoveEnd.emit({value:this.ensureValueInBounds(this.value)})}update(e){const t=this.rect;let r=Wn(0,(e-t.left)/t.width,1);wo(this.el)&&(r=1-r),this.snaps&&(r=qs(Bg(r,this.min,this.max,this.step),this.min,this.max)),this.pressedKnob==="A"?this.ratioA=r:this.ratioB=r,this.updateValue()}setPressedKnob(e){const t=this.rect=this.rangeSlider.getBoundingClientRect();let r=Wn(0,(e-t.left)/t.width,1);wo(this.el)&&(r=1-r),this.pressedKnob=!this.dualKnobs||Math.abs(this.ratioA-r)<Math.abs(this.ratioB-r)?"A":"B",this.setFocus(this.pressedKnob)}get valA(){return Bg(this.ratioA,this.min,this.max,this.step)}get valB(){return Bg(this.ratioB,this.min,this.max,this.step)}get ratioLower(){if(this.dualKnobs)return Math.min(this.ratioA,this.ratioB);const{activeBarStart:e}=this;return e==null?0:qs(e,this.min,this.max)}get ratioUpper(){return this.dualKnobs?Math.max(this.ratioA,this.ratioB):this.ratioA}updateRatio(){const e=this.getValue(),{min:t,max:r}=this;this.dualKnobs?(this.ratioA=qs(e.lower,t,r),this.ratioB=qs(e.upper,t,r)):this.ratioA=qs(e,t,r)}updateValue(){this.noUpdate=!0;const{valA:e,valB:t}=this;this.value=this.dualKnobs?{lower:Math.min(e,t),upper:Math.max(e,t)}:e,this.noUpdate=!1}setFocus(e){if(this.el.shadowRoot){const t=this.el.shadowRoot.querySelector(e==="A"?".range-knob-a":".range-knob-b");t&&t.focus()}}get hasStartSlotContent(){return this.el.querySelector('[slot="start"]')!==null}get hasEndSlotContent(){return this.el.querySelector('[slot="end"]')!==null}get hasLabel(){return this.label!==void 0||this.el.querySelector('[slot="label"]')!==null}renderRangeSlider(){var e;const{min:t,max:r,step:i,handleKeyboard:o,pressedKnob:a,disabled:s,pin:l,ratioLower:c,ratioUpper:u,pinFormatter:d,inheritedAttributes:h}=this;let f="".concat(c*100,"%"),p="".concat(100-u*100,"%");const m=wo(this.el),b=m?"right":"left",g=m?"left":"right",v=w=>({[b]:w[b]});this.dualKnobs===!1&&(this.valA<((e=this.activeBarStart)!==null&&e!==void 0?e:this.min)?(f="".concat(u*100,"%"),p="".concat(100-c*100,"%")):(f="".concat(c*100,"%"),p="".concat(100-u*100,"%")));const x={[b]:f,[g]:p},y=[];if(this.snaps&&this.ticks)for(let w=t;w<=r;w+=i){const k=qs(w,t,r),_=Math.min(c,u),T=Math.max(c,u),E={ratio:k,active:k>=_&&k<=T};E[b]="".concat(k*100,"%"),y.push(E)}return D("div",{class:"range-slider",ref:w=>this.rangeSlider=w,onPointerUp:w=>{this.pressedKnob===void 0&&(this.onStart(),this.onEnd(w))}},y.map(w=>D("div",{style:v(w),role:"presentation",class:{"range-tick":!0,"range-tick-active":w.active},part:w.active?"tick-active":"tick"})),D("div",{class:"range-bar-container"},D("div",{class:"range-bar",role:"presentation",part:"bar"}),D("div",{class:{"range-bar":!0,"range-bar-active":!0,"has-ticks":y.length>0},role:"presentation",style:x,part:"bar-active"})),lk(m,{knob:"A",pressed:a==="A",value:this.valA,ratio:this.ratioA,pin:l,pinFormatter:d,disabled:s,handleKeyboard:o,min:t,max:r,inheritedAttributes:h}),this.dualKnobs&&lk(m,{knob:"B",pressed:a==="B",value:this.valB,ratio:this.ratioB,pin:l,pinFormatter:d,disabled:s,handleKeyboard:o,min:t,max:r,inheritedAttributes:h}))}render(){const{disabled:e,el:t,hasLabel:r,rangeId:i,pin:o,pressedKnob:a,labelPlacement:s,label:l}=this,c=Ot("ion-item",t),u=r&&(s==="start"||s==="fixed")||this.hasStartSlotContent,d=c&&!u,h=r&&s==="end"||this.hasEndSlotContent,f=c&&!h,p=pe(this);return xd(!0,t,this.name,JSON.stringify(this.getValue()),e),D(Pe,{key:"3e065039ee048f1f70d97dba5dae98fa1315d867",onFocusin:this.onFocus,onFocusout:this.onBlur,id:i,class:mt(this.color,{[p]:!0,"in-item":c,"range-disabled":e,"range-pressed":a!==void 0,"range-has-pin":o,["range-label-placement-".concat(s)]:!0,"range-item-start-adjustment":d,"range-item-end-adjustment":f})},D("label",{key:"27ff22842c9ea79a1b9495302b926f70c9080a95",class:"range-wrapper",id:"range-label"},D("div",{key:"da1f9784be02dfe87d2fef34931d8b7f2148189e",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!r},part:"label"},l!==void 0?D("div",{class:"label-text"},l):D("slot",{name:"label"})),D("div",{key:"4389bf30b08214f5b5917fc30976b38f7bcdd29b",class:"native-wrapper"},D("slot",{key:"ad1b2745f8b061ee189617bb5c567e4f1d02250c",name:"start"}),this.renderRangeSlider(),D("slot",{key:"c6dec9e843e232af2a5f16a0f8ee56439c545d7a",name:"end"}))))}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],step:["stepChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}}static get style(){return{ios:az,md:lz}}},[33,"ion-range",{color:[513],debounce:[2],name:[1],label:[1],dualKnobs:[4,"dual-knobs"],min:[2],max:[2],pin:[4],pinFormatter:[16],snaps:[4],step:[2],ticks:[4],activeBarStart:[1026,"active-bar-start"],disabled:[4],value:[1026],labelPlacement:[1,"label-placement"],ratioA:[32],ratioB:[32],pressedKnob:[32]},void 0,{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],step:["stepChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}]),lk=(n,{knob:e,value:t,ratio:r,min:i,max:o,disabled:a,pressed:s,pin:l,handleKeyboard:c,pinFormatter:u,inheritedAttributes:d})=>{const h=n?"right":"left",f=()=>{const m={};return m[h]="".concat(r*100,"%"),m},p=d["aria-label"];return D("div",{onKeyDown:m=>{const b=m.key;b==="ArrowLeft"||b==="ArrowDown"?(c(e,!1),m.preventDefault(),m.stopPropagation()):(b==="ArrowRight"||b==="ArrowUp")&&(c(e,!0),m.preventDefault(),m.stopPropagation())},class:{"range-knob-handle":!0,"range-knob-a":e==="A","range-knob-b":e==="B","range-knob-pressed":s,"range-knob-min":t===i,"range-knob-max":t===o,"ion-activatable":!0,"ion-focusable":!0},style:f(),role:"slider",tabindex:a?-1:0,"aria-label":p!==void 0?p:null,"aria-labelledby":p===void 0?"range-label":null,"aria-valuemin":i,"aria-valuemax":o,"aria-disabled":a?"true":null,"aria-valuenow":t},l&&D("div",{class:"range-pin",role:"presentation",part:"pin"},u(t)),D("div",{class:"range-knob",role:"presentation",part:"knob"}))},Bg=(n,e,t,r)=>{let i=(t-e)*n;r>0&&(i=Math.round(i/r)*r+e);const o=Wn(e,i,t);return iz(o,e,t,r)},qs=(n,e,t)=>Wn(0,(n-e)/(t-e),1);let uz=0;function dz(){if(typeof customElements>"u")return;["ion-range"].forEach(e=>{switch(e){case"ion-range":customElements.get(e)||customElements.define(e,cz);break}})}const hz=dz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fz=":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}",pz=fz,mz=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return D(Pe,{key:"a690022e2abdce6946d24264574e4aa0886a8ea5",class:pe(this)},D("slot",{key:"d1a0e831dd1dbfe7877d3ad01d0a3045a5fb29e3"}))}static get style(){return pz}},[1,"ion-row"]);function gz(){if(typeof customElements>"u")return;["ion-row"].forEach(e=>{switch(e){case"ion-row":customElements.get(e)||customElements.define(e,mz);break}})}const bz=gz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vz=".sc-ion-searchbar-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-searchbar-ios-h{color:var(--ion-color-contrast)}.ion-color.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{background:var(--ion-color-base)}.ion-color.sc-ion-searchbar-ios-h .searchbar-clear-button.sc-ion-searchbar-ios,.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.ion-color.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{color:inherit}.searchbar-search-icon.sc-ion-searchbar-ios{color:var(--icon-color);pointer-events:none}.searchbar-input-container.sc-ion-searchbar-ios{display:block;position:relative;-ms-flex-negative:1;flex-shrink:1;width:100%}.searchbar-input.sc-ion-searchbar-ios{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;border-radius:var(--border-radius);display:block;width:100%;min-height:inherit;border:0;outline:none;background:var(--background);font-family:inherit;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-input.sc-ion-searchbar-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-webkit-search-cancel-button,.searchbar-input.sc-ion-searchbar-ios::-ms-clear{display:none}.searchbar-cancel-button.sc-ion-searchbar-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:none;height:100%;border:0;outline:none;color:var(--cancel-button-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-cancel-button.sc-ion-searchbar-ios>div.sc-ion-searchbar-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.searchbar-clear-button.sc-ion-searchbar-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:none;min-height:0;outline:none;color:var(--clear-button-color);-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-clear-button.sc-ion-searchbar-ios:focus{opacity:0.5}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-ios-h .searchbar-clear-button.sc-ion-searchbar-ios{display:block}.searchbar-disabled.sc-ion-searchbar-ios-h{cursor:default;opacity:0.4;pointer-events:none}.sc-ion-searchbar-ios-h{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.07);--border-radius:10px;--box-shadow:none;--cancel-button-color:var(--ion-color-primary, #0054e9);--clear-button-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--color:var(--ion-text-color, #000);--icon-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:12px;padding-bottom:12px;min-height:60px;contain:content}.searchbar-input-container.sc-ion-searchbar-ios{min-height:36px}.searchbar-search-icon.sc-ion-searchbar-ios{-webkit-margin-start:calc(50% - 60px);margin-inline-start:calc(50% - 60px);top:0;position:absolute;width:1.375rem;height:100%;contain:strict}.searchbar-search-icon.sc-ion-searchbar-ios{inset-inline-start:5px}.searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:6px;padding-bottom:6px;height:100%;font-size:1.0625rem;font-weight:400;contain:strict}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:1.75rem;padding-inline-start:1.75rem;-webkit-padding-end:1.75rem;padding-inline-end:1.75rem}.searchbar-clear-button.sc-ion-searchbar-ios{top:0;background-position:center;position:absolute;width:1.875rem;height:100%;border:0;background-color:transparent}.searchbar-clear-button.sc-ion-searchbar-ios{inset-inline-end:0}.searchbar-clear-icon.sc-ion-searchbar-ios{width:1.125rem;height:100%}.searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:0;padding-inline-end:0;padding-top:0;padding-bottom:0;-ms-flex-negative:0;flex-shrink:0;background-color:transparent;font-size:17px}.searchbar-left-aligned.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{-webkit-margin-start:0;margin-inline-start:0}.searchbar-left-aligned.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:1.875rem;padding-inline-start:1.875rem}.searchbar-has-focus.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-should-show-cancel.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{display:block}.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-transition:all 300ms ease;transition:all 300ms ease}.searchbar-animated.searchbar-has-focus.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-animated.searchbar-should-show-cancel.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{opacity:1;pointer-events:auto}.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-margin-end:-100%;margin-inline-end:-100%;-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);-webkit-transition:all 300ms ease;transition:all 300ms ease;opacity:0;pointer-events:none}.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios,.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-transition-duration:0ms;transition-duration:0ms}.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{color:var(--ion-color-base)}@media (any-hover: hover){.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios:hover{color:var(--ion-color-tint)}}ion-toolbar.sc-ion-searchbar-ios-h,ion-toolbar .sc-ion-searchbar-ios-h{padding-top:1px;padding-bottom:15px;min-height:52px}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color),ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color){color:inherit}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-cancel-button.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-cancel-button.sc-ion-searchbar-ios{color:currentColor}ion-toolbar.ion-color.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{color:currentColor;opacity:0.5}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-input.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-input.sc-ion-searchbar-ios{background:rgba(var(--ion-color-contrast-rgb), 0.07);color:currentColor}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-clear-button.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-clear-button.sc-ion-searchbar-ios{color:currentColor;opacity:0.5}",xz=vz,yz=".sc-ion-searchbar-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-searchbar-md-h{color:var(--ion-color-contrast)}.ion-color.sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md{background:var(--ion-color-base)}.ion-color.sc-ion-searchbar-md-h .searchbar-clear-button.sc-ion-searchbar-md,.ion-color.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md,.ion-color.sc-ion-searchbar-md-h .searchbar-search-icon.sc-ion-searchbar-md{color:inherit}.searchbar-search-icon.sc-ion-searchbar-md{color:var(--icon-color);pointer-events:none}.searchbar-input-container.sc-ion-searchbar-md{display:block;position:relative;-ms-flex-negative:1;flex-shrink:1;width:100%}.searchbar-input.sc-ion-searchbar-md{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;border-radius:var(--border-radius);display:block;width:100%;min-height:inherit;border:0;outline:none;background:var(--background);font-family:inherit;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-input.sc-ion-searchbar-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-webkit-search-cancel-button,.searchbar-input.sc-ion-searchbar-md::-ms-clear{display:none}.searchbar-cancel-button.sc-ion-searchbar-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:none;height:100%;border:0;outline:none;color:var(--cancel-button-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-cancel-button.sc-ion-searchbar-md>div.sc-ion-searchbar-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.searchbar-clear-button.sc-ion-searchbar-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:none;min-height:0;outline:none;color:var(--clear-button-color);-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-clear-button.sc-ion-searchbar-md:focus{opacity:0.5}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-md-h .searchbar-clear-button.sc-ion-searchbar-md{display:block}.searchbar-disabled.sc-ion-searchbar-md-h{cursor:default;opacity:0.4;pointer-events:none}.sc-ion-searchbar-md-h{--background:var(--ion-background-color, #fff);--border-radius:2px;--box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);--cancel-button-color:var(--ion-color-step-900, var(--ion-text-color-step-100, #1a1a1a));--clear-button-color:initial;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--icon-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;background:inherit}.searchbar-search-icon.sc-ion-searchbar-md{top:11px;width:1.3125rem;height:1.3125rem}.searchbar-search-icon.sc-ion-searchbar-md{inset-inline-start:16px}.searchbar-cancel-button.sc-ion-searchbar-md{top:0;background-color:transparent;font-size:1.5em}.searchbar-cancel-button.sc-ion-searchbar-md{inset-inline-start:9px}.searchbar-search-icon.sc-ion-searchbar-md,.searchbar-cancel-button.sc-ion-searchbar-md{position:absolute}.searchbar-search-icon.ion-activated.sc-ion-searchbar-md,.searchbar-cancel-button.ion-activated.sc-ion-searchbar-md{background-color:transparent}.searchbar-input.sc-ion-searchbar-md{-webkit-padding-start:3.4375rem;padding-inline-start:3.4375rem;-webkit-padding-end:3.4375rem;padding-inline-end:3.4375rem;padding-top:0.375rem;padding-bottom:0.375rem;background-position:left 8px center;height:auto;font-size:1rem;font-weight:400;line-height:30px}[dir=rtl].sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md,[dir=rtl] .sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md{background-position:right 8px center}[dir=rtl].sc-ion-searchbar-md .searchbar-input.sc-ion-searchbar-md{background-position:right 8px center}@supports selector(:dir(rtl)){.searchbar-input.sc-ion-searchbar-md:dir(rtl){background-position:right 8px center}}.searchbar-clear-button.sc-ion-searchbar-md{top:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;position:absolute;height:100%;border:0;background-color:transparent}.searchbar-clear-button.sc-ion-searchbar-md{inset-inline-end:13px}.searchbar-clear-button.ion-activated.sc-ion-searchbar-md{background-color:transparent}.searchbar-clear-icon.sc-ion-searchbar-md{width:1.375rem;height:100%}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-search-icon.sc-ion-searchbar-md{display:block}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md,.searchbar-should-show-cancel.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md{display:block}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md+.searchbar-search-icon.sc-ion-searchbar-md,.searchbar-should-show-cancel.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md+.searchbar-search-icon.sc-ion-searchbar-md{display:none}ion-toolbar.sc-ion-searchbar-md-h,ion-toolbar .sc-ion-searchbar-md-h{-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:3px;padding-bottom:3px}",wz=yz,kz=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.ionInput=ae(this,"ionInput",7),this.ionChange=ae(this,"ionChange",7),this.ionCancel=ae(this,"ionCancel",7),this.ionClear=ae(this,"ionClear",7),this.ionBlur=ae(this,"ionBlur",7),this.ionFocus=ae(this,"ionFocus",7),this.ionStyle=ae(this,"ionStyle",7),this.isCancelVisible=!1,this.shouldAlignLeft=!0,this.inputId="ion-searchbar-".concat(_z++),this.inheritedAttributes={},this.onClearInput=async e=>(this.ionClear.emit(),new Promise(t=>{setTimeout(()=>{const r=this.getValue();r!==""&&(this.value="",this.emitInputChange(),e&&!this.focused&&(this.setFocus(),this.focusedValue=r)),t()},16*4)})),this.onCancelSearchbar=async e=>{e&&(e.preventDefault(),e.stopPropagation()),this.ionCancel.emit();const t=this.getValue(),r=this.focused;await this.onClearInput(),t&&!r&&this.emitValueChange(e),this.nativeInput&&this.nativeInput.blur()},this.onInput=e=>{const t=e.target;t&&(this.value=t.value),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.focused=!1,this.ionBlur.emit(),this.positionElements(),this.focusedValue!==this.value&&this.emitValueChange(e),this.focusedValue=void 0},this.onFocus=()=>{this.focused=!0,this.focusedValue=this.value,this.ionFocus.emit(),this.positionElements()},this.focused=!1,this.noAnimate=!0,this.color=void 0,this.animated=!1,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.cancelButtonIcon=ze.get("backButtonIcon",oS),this.cancelButtonText="Cancel",this.clearIcon=void 0,this.debounce=void 0,this.disabled=!1,this.inputmode=void 0,this.enterkeyhint=void 0,this.maxlength=void 0,this.minlength=void 0,this.name=this.inputId,this.placeholder="Search",this.searchIcon=void 0,this.showCancelButton="never",this.showClearButton="always",this.spellcheck=!1,this.type="search",this.value=""}onLangChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{lang:e}),Sn(this)}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),Sn(this)}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:r}=this;this.ionInput=t===void 0?r!=null?r:e:Fp(e,t)}valueChanged(){const e=this.nativeInput,t=this.getValue();e&&e.value!==t&&(e.value=t)}showCancelButtonChanged(){requestAnimationFrame(()=>{this.positionElements(),Sn(this)})}connectedCallback(){this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign({},qi(this.el,["lang","dir"]))}componentDidLoad(){this.originalIonInput=this.ionInput,this.positionElements(),this.debounceChanged(),setTimeout(()=>{this.noAnimate=!1},300)}emitStyle(){this.ionStyle.emit({searchbar:!0})}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>gi(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:t}=this,r=t==null?t:t.toString();this.focusedValue=r,this.ionChange.emit({value:r,event:e})}emitInputChange(e){const{value:t}=this;this.ionInput.emit({value:t,event:e})}positionElements(){const e=this.getValue(),t=this.shouldAlignLeft,r=pe(this),i=!this.animated||e.trim()!==""||!!this.focused;this.shouldAlignLeft=i,r==="ios"&&(t!==i&&this.positionPlaceholder(),this.animated&&this.positionCancelButton())}positionPlaceholder(){const e=this.nativeInput;if(!e)return;const t=wo(this.el),r=(this.el.shadowRoot||this.el).querySelector(".searchbar-search-icon");if(this.shouldAlignLeft)e.removeAttribute("style"),r.removeAttribute("style");else{const i=document,o=i.createElement("span");o.innerText=this.placeholder||"",i.body.appendChild(o),tn(()=>{const a=o.offsetWidth;o.remove();const s="calc(50% - "+a/2+"px)",l="calc(50% - "+(a/2+r.clientWidth+8)+"px)";t?(e.style.paddingRight=s,r.style.marginRight=l):(e.style.paddingLeft=s,r.style.marginLeft=l)})}}positionCancelButton(){const e=wo(this.el),t=(this.el.shadowRoot||this.el).querySelector(".searchbar-cancel-button"),r=this.shouldShowCancelButton();if(t!==null&&r!==this.isCancelVisible){const i=t.style;if(this.isCancelVisible=r,r)e?i.marginLeft="0":i.marginRight="0";else{const o=t.offsetWidth;o>0&&(e?i.marginLeft=-o+"px":i.marginRight=-o+"px")}}}getValue(){return this.value||""}hasValue(){return this.getValue()!==""}shouldShowCancelButton(){return!(this.showCancelButton==="never"||this.showCancelButton==="focus"&&!this.focused)}shouldShowClearButton(){return!(this.showClearButton==="never"||this.showClearButton==="focus"&&!this.focused)}render(){const{cancelButtonText:e,autocapitalize:t}=this,r=this.animated&&ze.getBoolean("animated",!0),i=pe(this),o=this.clearIcon||(i==="ios"?aS:sS),a=this.searchIcon||(i==="ios"?w9:k9),s=this.shouldShowCancelButton(),l=this.showCancelButton!=="never"&&D("button",{key:"989f3e84c472ada6e66dd9b249d0d268bf17ce26","aria-label":e,"aria-hidden":s?void 0:"true",type:"button",tabIndex:i==="ios"&&!s?-1:void 0,onMouseDown:this.onCancelSearchbar,onTouchStart:this.onCancelSearchbar,class:"searchbar-cancel-button"},D("div",{key:"7d335d4fde33822dc79d26b748ba2e98db7494bb","aria-hidden":"true"},i==="md"?D("ion-icon",{"aria-hidden":"true",mode:i,icon:this.cancelButtonIcon,lazy:!1}):e));return D(Pe,{key:"d1a1972725e949fb102c91487aaa7b9d10c2d718",role:"search","aria-disabled":this.disabled?"true":null,class:mt(this.color,{[i]:!0,"searchbar-animated":r,"searchbar-disabled":this.disabled,"searchbar-no-animate":r&&this.noAnimate,"searchbar-has-value":this.hasValue(),"searchbar-left-aligned":this.shouldAlignLeft,"searchbar-has-focus":this.focused,"searchbar-should-show-clear":this.shouldShowClearButton(),"searchbar-should-show-cancel":this.shouldShowCancelButton()})},D("div",{key:"add53640b2994cb6b2bf02792dafe51aba6b1684",class:"searchbar-input-container"},D("input",Object.assign({key:"160cc36459a4a652e7f41ccd14dcdc782278779e","aria-label":"search text",disabled:this.disabled,ref:c=>this.nativeInput=c,class:"searchbar-input",inputMode:this.inputmode,enterKeyHint:this.enterkeyhint,name:this.name,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,minLength:this.minlength,maxLength:this.maxlength,placeholder:this.placeholder,type:this.type,value:this.getValue(),autoCapitalize:t==="default"?void 0:t,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,spellcheck:this.spellcheck},this.inheritedAttributes)),i==="md"&&l,D("ion-icon",{key:"8825fd13af0d2dea451ccc0e00ae7b5021dc01c4","aria-hidden":"true",mode:i,icon:a,lazy:!1,class:"searchbar-search-icon"}),D("button",{key:"8a7b56da278b9ca5c4f5a4ee9c01924fd5ae29d8","aria-label":"reset",type:"button","no-blur":!0,class:"searchbar-clear-button",onPointerDown:c=>{c.preventDefault()},onClick:()=>this.onClearInput(!0)},D("ion-icon",{key:"24c55274516ab012d8c25f03525c6cdb9409e52f","aria-hidden":"true",mode:i,icon:o,lazy:!1,class:"searchbar-clear-icon"}))),i==="ios"&&l)}get el(){return this}static get watchers(){return{lang:["onLangChanged"],dir:["onDirChanged"],debounce:["debounceChanged"],value:["valueChanged"],showCancelButton:["showCancelButtonChanged"]}}static get style(){return{ios:xz,md:wz}}},[34,"ion-searchbar",{color:[513],animated:[4],autocapitalize:[1],autocomplete:[1],autocorrect:[1],cancelButtonIcon:[1,"cancel-button-icon"],cancelButtonText:[1,"cancel-button-text"],clearIcon:[1,"clear-icon"],debounce:[2],disabled:[4],inputmode:[1],enterkeyhint:[1],maxlength:[2],minlength:[2],name:[1],placeholder:[1],searchIcon:[1,"search-icon"],showCancelButton:[1,"show-cancel-button"],showClearButton:[1,"show-clear-button"],spellcheck:[4],type:[1],value:[1025],focused:[32],noAnimate:[32],setFocus:[64],getInputElement:[64]},void 0,{lang:["onLangChanged"],dir:["onDirChanged"],debounce:["debounceChanged"],value:["valueChanged"],showCancelButton:["showCancelButtonChanged"]}]);let _z=0;function Cz(){if(typeof customElements>"u")return;["ion-searchbar","ion-icon"].forEach(e=>{switch(e){case"ion-searchbar":customElements.get(e)||customElements.define(e,kz);break;case"ion-icon":customElements.get(e)||Jr();break}})}const Ez=Cz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const RS=(n,e)=>{let t,r;const i=(s,l,c)=>{if(typeof document>"u")return;const u=document.elementFromPoint(s,l);if(!u||!e(u)||u.disabled){a();return}u!==t&&(a(),o(u,c))},o=(s,l)=>{t=s,r||(r=t);const c=t;or(()=>c.classList.add("ion-activated")),l()},a=(s=!1)=>{if(!t)return;const l=t;or(()=>l.classList.remove("ion-activated")),s&&r!==t&&t.click(),t=void 0};return yd({el:n,gestureName:"buttonActiveDrag",threshold:0,onStart:s=>i(s.currentX,s.currentY,pM),onMove:s=>i(s.currentX,s.currentY,mM),onEnd:()=>{a(!0),gM(),r=void 0}})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Sz=n=>{const e=me(),t=me(),r=me();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(n.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(n).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([t,r])},Tz=n=>{const e=me(),t=me(),r=me();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(n.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(n).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([t,r])},Az=n=>{const e=me(),t=me(),r=me();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(n.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(n).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([t,r])},Iz=n=>{const e=me(),t=me(),r=me();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(n.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(n).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([t,r])},Rz='.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color-step-150, var(--ion-background-color, #fff)));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #0054e9);--button-color-disabled:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999));text-align:center}.action-sheet-wrapper.sc-ion-action-sheet-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);padding-bottom:var(--ion-safe-area-bottom, 0);-webkit-box-sizing:content-box;box-sizing:content-box}.action-sheet-container.sc-ion-action-sheet-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:0;padding-bottom:0}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-size:max(13px, 0.8125rem);font-weight:400;text-align:center}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:max(13px, 0.8125rem);font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px;padding-top:14px;padding-bottom:14px;min-height:56px;font-size:max(20px, 1.25rem);contain:content}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:max(28px, 1.75rem);pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #c5000f)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #c5000f)}}',Dz=Rz,Oz='.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--button-color-disabled:var(--button-color);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-wrapper.sc-ion-action-sheet-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:0}.action-sheet-title.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:1rem;text-align:start}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:0.875rem}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:var(--ion-safe-area-bottom)}.action-sheet-button.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:12px;position:relative;min-height:52px;font-size:1rem;text-align:start;contain:content;overflow:hidden}.action-sheet-icon.sc-ion-action-sheet-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:1.5rem}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}',Mz=Oz,Pz=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.didPresent=ae(this,"ionActionSheetDidPresent",7),this.willPresent=ae(this,"ionActionSheetWillPresent",7),this.willDismiss=ae(this,"ionActionSheetWillDismiss",7),this.didDismiss=ae(this,"ionActionSheetDidDismiss",7),this.didPresentShorthand=ae(this,"didPresent",7),this.willPresentShorthand=ae(this,"willPresent",7),this.willDismissShorthand=ae(this,"willDismiss",7),this.didDismissShorthand=ae(this,"didDismiss",7),this.delegateController=Wp(this),this.lockController=Ms(),this.triggerController=Cd(),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Ui)},this.dispatchCancelHandler=e=>{const t=e.detail.role;if(ws(t)){const r=this.getButtons().find(i=>i.role==="cancel");this.callButtonHandler(r)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.buttons=[],this.cssClass=void 0,this.backdropDismiss=!0,this.header=void 0,this.subHeader=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:r}=this;e&&r.addClickListener(t,e)}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await wc(this,"actionSheetEnter",Sz,Az),e()}async dismiss(e,t){const r=await this.lockController.lock(),i=await kc(this,e,t,"actionSheetLeave",Tz,Iz);return i&&this.delegateController.removeViewFromDom(),r(),i}onDidDismiss(){return Zr(this.el,"ionActionSheetDidDismiss")}onWillDismiss(){return Zr(this.el,"ionActionSheetWillDismiss")}async buttonClick(e){const t=e.role;return ws(t)?this.dismiss(e.data,t):await this.callButtonHandler(e)?this.dismiss(e.data,e.role):Promise.resolve()}async callButtonHandler(e){return!(e&&await cs(e.handler)===!1)}getButtons(){return this.buttons.map(e=>typeof e=="string"?{text:e}:e)}connectedCallback(){xc(this.el),this.triggerChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.triggerController.removeClickListener()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||yc(this.el)}componentDidLoad(){const{groupEl:e,wrapperEl:t}=this;!this.gesture&&pe(this)==="ios"&&t&&e&&bs(()=>{e.scrollHeight>e.clientHeight||(this.gesture=RS(t,i=>i.classList.contains("action-sheet-button")),this.gesture.enable(!0))}),this.isOpen===!0&&tn(()=>this.present()),this.triggerChanged()}render(){const{header:e,htmlAttributes:t,overlayIndex:r}=this,i=pe(this),o=this.getButtons(),a=o.find(c=>c.role==="cancel"),s=o.filter(c=>c.role!=="cancel"),l="action-sheet-".concat(r,"-header");return D(Pe,Object.assign({key:"7bbd202ca9e19727e7514abbe073687d982f80c3",role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?l:null,tabindex:"-1"},t,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign({[i]:!0},Nn(this.cssClass)),{"overlay-hidden":!0,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),D("ion-backdrop",{key:"23344a9221a2e6720d7b9de5249dc37256cafa7b",tappable:this.backdropDismiss}),D("div",{key:"fbc2ba15549c2ab04e759e82df6e177fd80cc0a6",tabindex:"0","aria-hidden":"true"}),D("div",{key:"748ee5235d0b4cb26d6f1b7589f77af2e37ad28a",class:"action-sheet-wrapper ion-overlay-wrapper",ref:c=>this.wrapperEl=c},D("div",{key:"7ce5fa236cf75e9b1e49c4725c9a811078706554",class:"action-sheet-container"},D("div",{key:"dc2251f3bcee4a93e3449f09621cbd2b65d329e9",class:"action-sheet-group",ref:c=>this.groupEl=c},e!==void 0&&D("div",{key:"48d325c8a852f56ed57a9ada1a6709d05ba32ee2",id:l,class:{"action-sheet-title":!0,"action-sheet-has-sub-title":this.subHeader!==void 0}},e,this.subHeader&&D("div",{key:"66093728052eb67f37a35f3232761ce4a08896f3",class:"action-sheet-sub-title"},this.subHeader)),s.map(c=>D("button",Object.assign({},c.htmlAttributes,{type:"button",id:c.id,class:ck(c),onClick:()=>this.buttonClick(c),disabled:c.disabled}),D("span",{class:"action-sheet-button-inner"},c.icon&&D("ion-icon",{icon:c.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),c.text),i==="md"&&D("ion-ripple-effect",null)))),a&&D("div",{key:"f4eb8e3e2885b85af5080df18d0de0bdd1d719de",class:"action-sheet-group action-sheet-group-cancel"},D("button",Object.assign({key:"169f4eb09255aba85062baad49ceb151239fbfb7"},a.htmlAttributes,{type:"button",class:ck(a),onClick:()=>this.buttonClick(a)}),D("span",{key:"25fb8a466dd67ea94c79cfb4f9965527e1ce6d42",class:"action-sheet-button-inner"},a.icon&&D("ion-icon",{key:"eb5b071e120a2c86afdf967af6a763a43044d1ca",icon:a.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),a.text),i==="md"&&D("ion-ripple-effect",{key:"452ad7e1052b2c681e2d98de8193949755ad4d54"}))))),D("div",{key:"e1cecf280c987c050d9445e2c458b903f153089b",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:Dz,md:Mz}}},[34,"ion-action-sheet",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],buttons:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],header:[1],subHeader:[1,"sub-header"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),ck=n=>Object.assign({"action-sheet-button":!0,"ion-activatable":!n.disabled,"ion-focusable":!n.disabled,["action-sheet-".concat(n.role)]:n.role!==void 0},Nn(n.cssClass));function DS(){if(typeof customElements>"u")return;["ion-action-sheet","ion-backdrop","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-action-sheet":customElements.get(e)||customElements.define(e,Pz);break;case"ion-backdrop":customElements.get(e)||Os();break;case"ion-icon":customElements.get(e)||Jr();break;case"ion-ripple-effect":customElements.get(e)||Qr();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Bz=n=>{const e=me(),t=me(),r=me();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,r])},zz=n=>{const e=me(),t=me(),r=me();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,r])},Lz=n=>{const e=me(),t=me(),r=me();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(150).addAnimation([t,r])},jz=n=>{const e=me(),t=me(),r=me();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(n.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),e.addElement(n).easing("ease-in-out").duration(150).addAnimation([t,r])},Nz=".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-ios,.alert-radio-label.sc-ion-alert-ios{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:clamp(270px, 16.875rem, 324px);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:max(14px, 0.875rem)}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:max(17px, 1.0625rem);font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:max(14px, 0.875rem)}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:max(13px, 0.8125rem);text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:7px;margin-top:10px;-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:7px;padding-bottom:7px;border:0.55px solid var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf));background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1rem}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-input.sc-ion-alert-ios::-webkit-date-and-time-value{height:18px}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #0054e9)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:min(1.375rem, 55.836px);height:min(1.375rem, 55.836px);border-width:0.125rem;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:calc(min(1.375rem, 55.836px) / 8);position:absolute;width:calc(min(1.375rem, 55.836px) / 6 + 1px);height:calc(min(1.375rem, 55.836px) * 0.5);-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:calc(min(1.375rem, 55.836px) / 3)}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios{border-right:none}[dir=rtl].sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}[dir=rtl].sc-ion-alert-ios .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}@supports selector(:dir(rtl)){.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:none}}.alert-button.sc-ion-alert-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:max(44px, 2.75rem);border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #0054e9);font-size:max(17px, 1.0625rem);overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #c5000f)}",Fz=Nz,$z=".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-md,.alert-radio-label.sc-ion-alert-md{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:0.875rem}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1.25rem;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1rem}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.alert-message.sc-ion-alert-md{font-size:1rem}@media screen and (max-width: 767px){.alert-message.sc-ion-alert-md{max-height:266px}}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #0054e9)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;border-top:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));overflow:auto}@media screen and (max-width: 767px){.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{max-height:266px}}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373))}.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #0054e9)}.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626))}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;width:calc(100% - 53px);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373));contain:strict}.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #0054e9);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}@media screen and (min-width: 768px){.sc-ion-alert-md-h{--max-width:min(100vw - 96px, 560px);--max-height:min(100vh - 96px, 560px)}}",Uz=$z,Hz=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.didPresent=ae(this,"ionAlertDidPresent",7),this.willPresent=ae(this,"ionAlertWillPresent",7),this.willDismiss=ae(this,"ionAlertWillDismiss",7),this.didDismiss=ae(this,"ionAlertDidDismiss",7),this.didPresentShorthand=ae(this,"didPresent",7),this.willPresentShorthand=ae(this,"willPresent",7),this.willDismissShorthand=ae(this,"willDismiss",7),this.didDismissShorthand=ae(this,"didDismiss",7),this.delegateController=Wp(this),this.lockController=Ms(),this.triggerController=Cd(),this.customHTMLEnabled=ze.get("innerHTMLTemplatesEnabled",Hx),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Ui)},this.dispatchCancelHandler=e=>{const t=e.detail.role;if(ws(t)){const r=this.processedButtons.find(i=>i.role==="cancel");this.callButtonHandler(r)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:r}=this;e&&r.addClickListener(t,e)}onKeydown(e){var t;const r=new Set(this.processedInputs.map(l=>l.type));if(r.has("checkbox")&&e.key==="Enter"){e.preventDefault();return}if(e.target.classList.contains("alert-wrapper")&&e.key==="Tab"&&e.shiftKey){e.preventDefault(),((t=this.wrapperEl)===null||t===void 0?void 0:t.querySelector(".alert-button:last-child")).focus();return}if(!r.has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button"))return;const i=this.el.querySelectorAll(".alert-radio"),o=Array.from(i).filter(l=>!l.disabled),a=o.findIndex(l=>l.id===e.target.id);let s;if(["ArrowDown","ArrowRight"].includes(e.key)&&(s=a===o.length-1?o[0]:o[a+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(s=a===0?o[o.length-1]:o[a-1]),s&&o.includes(s)){const l=this.processedInputs.find(c=>c.id===(s==null?void 0:s.id));l&&(this.rbClick(l),s.focus())}}buttonsChanged(){const e=this.buttons;this.processedButtons=e.map(t=>typeof t=="string"?{text:t,role:t.toLowerCase()==="cancel"?"cancel":void 0}:t)}inputsChanged(){const e=this.inputs,t=e.find(a=>!a.disabled),i=e.find(a=>a.checked&&!a.disabled)||t,o=new Set(e.map(a=>a.type));o.has("checkbox")&&o.has("radio")&&yt("[ion-alert] - Alert cannot mix input types: ".concat(Array.from(o.values()).join("/"),". Please see alert docs for more info.")),this.inputType=o.values().next().value,this.processedInputs=e.map((a,s)=>{var l;return{type:a.type||"text",name:a.name||"".concat(s),placeholder:a.placeholder||"",value:a.value,label:a.label,checked:!!a.checked,disabled:!!a.disabled,id:a.id||"alert-input-".concat(this.overlayIndex,"-").concat(s),handler:a.handler,min:a.min,max:a.max,cssClass:(l=a.cssClass)!==null&&l!==void 0?l:"",attributes:a.attributes||{},tabindex:a.type==="radio"&&a!==i?-1:0}})}connectedCallback(){xc(this.el),this.triggerChanged()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||yc(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&pe(this)==="ios"&&this.wrapperEl&&(this.gesture=RS(this.wrapperEl,e=>e.classList.contains("alert-button")),this.gesture.enable(!0)),this.isOpen===!0&&tn(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await wc(this,"alertEnter",Bz,Lz).then(()=>{var t,r;this.buttons.length===1&&this.inputs.length===0?((t=this.wrapperEl)===null||t===void 0?void 0:t.querySelector(".alert-button")).focus():(r=this.wrapperEl)===null||r===void 0||r.focus()}),e()}async dismiss(e,t){const r=await this.lockController.lock(),i=await kc(this,e,t,"alertLeave",zz,jz);return i&&this.delegateController.removeViewFromDom(),r(),i}onDidDismiss(){return Zr(this.el,"ionAlertDidDismiss")}onWillDismiss(){return Zr(this.el,"ionAlertWillDismiss")}rbClick(e){for(const t of this.processedInputs)t.checked=t===e,t.tabindex=t===e?0:-1;this.activeId=e.id,cs(e.handler,e),Sn(this)}cbClick(e){e.checked=!e.checked,cs(e.handler,e),Sn(this)}async buttonClick(e){const t=e.role,r=this.getValues();if(ws(t))return this.dismiss({values:r},t);const i=await this.callButtonHandler(e,r);return i!==!1?this.dismiss(Object.assign({values:r},i),e.role):!1}async callButtonHandler(e,t){if(e!=null&&e.handler){const r=await cs(e.handler,t);if(r===!1)return!1;if(typeof r=="object")return r}return{}}getValues(){if(this.processedInputs.length===0)return;if(this.inputType==="radio"){const t=this.processedInputs.find(r=>!!r.checked);return t?t.value:void 0}if(this.inputType==="checkbox")return this.processedInputs.filter(t=>t.checked).map(t=>t.value);const e={};return this.processedInputs.forEach(t=>{e[t.name]=t.value||""}),e}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const e=this.processedInputs,t=pe(this);return e.length===0?null:D("div",{class:"alert-checkbox-group"},e.map(r=>D("button",{type:"button",onClick:()=>this.cbClick(r),"aria-checked":"".concat(r.checked),id:r.id,disabled:r.disabled,tabIndex:r.tabindex,role:"checkbox",class:Object.assign(Object.assign({},Nn(r.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":r.disabled||!1})},D("div",{class:"alert-button-inner"},D("div",{class:"alert-checkbox-icon"},D("div",{class:"alert-checkbox-inner"})),D("div",{class:"alert-checkbox-label"},r.label)),t==="md"&&D("ion-ripple-effect",null))))}renderRadio(){const e=this.processedInputs;return e.length===0?null:D("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map(t=>D("button",{type:"button",onClick:()=>this.rbClick(t),"aria-checked":"".concat(t.checked),disabled:t.disabled,id:t.id,tabIndex:t.tabindex,class:Object.assign(Object.assign({},Nn(t.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":t.disabled||!1}),role:"radio"},D("div",{class:"alert-button-inner"},D("div",{class:"alert-radio-icon"},D("div",{class:"alert-radio-inner"})),D("div",{class:"alert-radio-label"},t.label)))))}renderInput(){const e=this.processedInputs;return e.length===0?null:D("div",{class:"alert-input-group"},e.map(t=>{var r,i,o,a;return t.type==="textarea"?D("div",{class:"alert-input-wrapper"},D("textarea",Object.assign({placeholder:t.placeholder,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:(i=(r=t.attributes)===null||r===void 0?void 0:r.disabled)!==null&&i!==void 0?i:t.disabled,class:uk(t),onInput:s=>{var l;t.value=s.target.value,!((l=t.attributes)===null||l===void 0)&&l.onInput&&t.attributes.onInput(s)}}))):D("div",{class:"alert-input-wrapper"},D("input",Object.assign({placeholder:t.placeholder,type:t.type,min:t.min,max:t.max,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:(a=(o=t.attributes)===null||o===void 0?void 0:o.disabled)!==null&&a!==void 0?a:t.disabled,class:uk(t),onInput:s=>{var l;t.value=s.target.value,!((l=t.attributes)===null||l===void 0)&&l.onInput&&t.attributes.onInput(s)}})))}))}renderAlertButtons(){const e=this.processedButtons,t=pe(this),r={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return D("div",{class:r},e.map(i=>D("button",Object.assign({},i.htmlAttributes,{type:"button",id:i.id,class:Wz(i),tabIndex:0,onClick:()=>this.buttonClick(i)}),D("span",{class:"alert-button-inner"},i.text),t==="md"&&D("ion-ripple-effect",null))))}renderAlertMessage(e){const{customHTMLEnabled:t,message:r}=this;return t?D("div",{id:e,class:"alert-message",innerHTML:Ux(r)}):D("div",{id:e,class:"alert-message"},r)}render(){const{overlayIndex:e,header:t,subHeader:r,message:i,htmlAttributes:o}=this,a=pe(this),s="alert-".concat(e,"-hdr"),l="alert-".concat(e,"-msg"),c="alert-".concat(e,"-sub-hdr"),u=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert",d=t&&r?"".concat(s," ").concat(c):t?s:r?c:null;return D(Pe,{key:"f8ee04fe6a97a2585b302c8e1a9eea3b122e3479",tabindex:"-1",style:{zIndex:"".concat(2e4+e)},class:Object.assign(Object.assign({},Nn(this.cssClass)),{[a]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap},D("ion-backdrop",{key:"e9592e879f51c27ef20016beec12c986be632cf3",tappable:this.backdropDismiss}),D("div",{key:"5e9425c3c8acdea6f8006389689c73220e2ce423",tabindex:"0","aria-hidden":"true"}),D("div",Object.assign({key:"615465703e357619681fc36ed7276591a6fe3787",class:"alert-wrapper ion-overlay-wrapper",role:u,"aria-modal":"true","aria-labelledby":d,"aria-describedby":i!==void 0?l:null,tabindex:"0",ref:h=>this.wrapperEl=h},o),D("div",{key:"934eba3759456cd4660e10f274edc7859f908461",class:"alert-head"},t&&D("h2",{key:"7d5d98d71f81f59a2cba227121b6fa01e6cc53b6",id:s,class:"alert-title"},t),r&&!t&&D("h2",{key:"e5f5d35748c58a98ee933eb15cb1dcaf8113e9a7",id:c,class:"alert-sub-title"},r),r&&t&&D("h3",{key:"a5cb89ca02bfa9c4828e694cb0835493a9088b05",id:c,class:"alert-sub-title"},r)),this.renderAlertMessage(l),this.renderAlertInputs(),this.renderAlertButtons()),D("div",{key:"cacffc31c911882df73e6845d15c8bb2d4acab56",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:Fz,md:Uz}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]],{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}]),uk=n=>{var e,t,r;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":((t=(e=n.attributes)===null||e===void 0?void 0:e.disabled)!==null&&t!==void 0?t:n.disabled)||!1},Nn(n.cssClass)),Nn(n.attributes?(r=n.attributes.class)===null||r===void 0?void 0:r.toString():""))},Wz=n=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,["alert-button-role-".concat(n.role)]:n.role!==void 0},Nn(n.cssClass));function OS(){if(typeof customElements>"u")return;["ion-alert","ion-backdrop","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-alert":customElements.get(e)||customElements.define(e,Hz);break;case"ion-backdrop":customElements.get(e)||Os();break;case"ion-ripple-effect":customElements.get(e)||Qr();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vz=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',qz=Vz,Gz=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}',Kz=Gz,MS=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=W2,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button"}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(e){const{color:t}=this;t===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const t=e.target.tagName,r=e.detail,i={},o=this.itemStyles.get(t)||{};let a=!1;Object.keys(r).forEach(s=>{if(r[s]){const l="item-".concat(s);o[l]||(a=!0),i[l]=!0}}),!a&&Object.keys(i).length!==Object.keys(o).length&&(a=!0),a&&(this.itemStyles.set(t,i),Sn(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=qi(this.el,["aria-label"])}componentDidLoad(){tn(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),t=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),r=this.el.querySelectorAll("ion-router-link, ion-button, a, button");this.multipleInputs=e.length+t.length>1||e.length+r.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:e,detailIcon:t,download:r,labelColorStyles:i,lines:o,disabled:a,href:s,rel:l,target:c,routerAnimation:u,routerDirection:d,inheritedAriaAttributes:h,multipleInputs:f}=this,p={},m=pe(this),b=this.isClickable(),g=this.canActivate(),v=b?s===void 0?"button":"a":"div",x=v==="button"?{type:this.type}:{download:r,href:s,rel:l,target:c};let y={};const w=this.getFirstInteractive();(b||w!==void 0&&!f)&&(y={onClick:A=>{if(b&&Up(s,A,d,u),w!==void 0&&!f){const I=A.composedPath()[0];A.isTrusted&&this.el.shadowRoot.contains(I)&&((w.tagName==="ION-INPUT"||w.tagName==="ION-TEXTAREA")&&w.setFocus(),w.click(),A.stopImmediatePropagation())}}});const k=e!==void 0?e:m==="ios"&&b;this.itemStyles.forEach(A=>{Object.assign(p,A)});const _=a||p["item-interactive-disabled"]?"true":null,T=Ot("ion-list",this.el)&&!Ot("ion-radio-group",this.el),E=w!==void 0&&!["ION-INPUT","ION-TEXTAREA"].includes(w.tagName);return D(Pe,{key:"15e7d3b674c25232bc2d51573b291c72548690e5","aria-disabled":_,class:Object.assign(Object.assign(Object.assign({},p),i),mt(this.color,{item:!0,[m]:!0,"item-lines-default":o===void 0,["item-lines-".concat(o)]:o!==void 0,"item-control-needs-pointer-cursor":E,"item-disabled":a,"in-list":T,"item-multiple-inputs":this.multipleInputs,"ion-activatable":g,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:T?"listitem":null},D(v,Object.assign({key:"f27ae647501e29db554efe8f12f498b165d1dbf6"},x,h,{class:"item-native",part:"native",disabled:a},y),D("slot",{key:"ba039a321df0e4bd5ce11e7a6e7e174c8623b112",name:"start"}),D("div",{key:"e67fdf4ad9086d855da8402ca04ffe292cf6ce67",class:"item-inner"},D("div",{key:"2434348a0b3f10052a340c57a7ac127ddc851729",class:"input-wrapper"},D("slot",{key:"3e27090ae4dab734541b3fd2c94de0f98c0f0030"})),D("slot",{key:"52dc633b60fe612d48d2efffbf2c4c62692bef85",name:"end"}),k&&D("ion-icon",{key:"4fb7397dc8cf4cecb82f19a6151f85112b73992b",icon:t,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":t===W2})),g&&m==="md"&&D("ion-ripple-effect",{key:"09b2413a7a484ecd8ffb00805223727da4d4e344"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:qz,md:Kz}}},[33,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[516],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);function ry(){if(typeof customElements>"u")return;["ion-item","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-item":customElements.get(e)||customElements.define(e,MS);break;case"ion-icon":customElements.get(e)||Jr();break;case"ion-ripple-effect":customElements.get(e)||Qr();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qf="ionKeyboardDidShow",PS="ionKeyboardDidHide",Yz=150;let Gf={},ko={},_c=!1;const Xz=()=>{Gf={},ko={},_c=!1},Zz=n=>{if(yS.getEngine())Jz(n);else{if(!n.visualViewport)return;ko=sy(n.visualViewport),n.visualViewport.onresize=()=>{LS(n),BS()||zS(n)?iy(n):ay(n)&&oy(n)}}},Jz=n=>{n.addEventListener("keyboardDidShow",e=>iy(n,e)),n.addEventListener("keyboardDidHide",()=>oy(n))},iy=(n,e)=>{Qz(n,e),_c=!0},oy=n=>{eL(n),_c=!1},BS=()=>{const n=(Gf.height-ko.height)*ko.scale;return!_c&&Gf.width===ko.width&&n>Yz},zS=n=>_c&&!ay(n),ay=n=>_c&&ko.height===n.innerHeight,Qz=(n,e)=>{const t=e?e.keyboardHeight:n.innerHeight-ko.height,r=new CustomEvent(qf,{detail:{keyboardHeight:t}});n.dispatchEvent(r)},eL=n=>{const e=new CustomEvent(PS);n.dispatchEvent(e)},LS=n=>{Gf=Object.assign({},ko),ko=sy(n.visualViewport)},sy=n=>({width:Math.round(n.width),height:Math.round(n.height),offsetTop:n.offsetTop,offsetLeft:n.offsetLeft,pageTop:n.pageTop,pageLeft:n.pageLeft,scale:n.scale}),tL=Object.freeze(Object.defineProperty({__proto__:null,KEYBOARD_DID_CLOSE:PS,KEYBOARD_DID_OPEN:qf,copyVisualViewport:sy,keyboardDidClose:ay,keyboardDidOpen:BS,keyboardDidResize:zS,resetKeyboardAssist:Xz,setKeyboardClose:oy,setKeyboardOpen:iy,startKeyboardAssist:Zz,trackViewportChanges:LS},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var ac;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(ac||(ac={}));const ly={getEngine(){const n=$f();if(n!=null&&n.isPluginAvailable("StatusBar"))return n.Plugins.StatusBar},setStyle(n){const e=this.getEngine();e&&e.setStyle(n)},getStyle:async function(){const n=this.getEngine();if(!n)return ac.Default;const{style:e}=await n.getInfo();return e}},Hb=(n,e)=>{if(e===1)return 0;const t=1/(1-e),r=-(e*t);return n*t+r},jS=()=>{!dt||dt.innerWidth>=768||ly.setStyle({style:ac.Dark})},Wb=(n=ac.Default)=>{!dt||dt.innerWidth>=768||ly.setStyle({style:n})},NS=async(n,e)=>{typeof n.canDismiss!="function"||!await n.canDismiss(void 0,yo)||(e.isRunning()?e.onFinish(()=>{n.dismiss(void 0,"handler")},{oneTimeCallback:!0}):n.dismiss(void 0,"handler"))},Vb=n=>.00255275*2.71828**(-14.9619*n)-1.00255*2.71828**(-.0380968*n)+1,Kf={MIN_PRESENTING_SCALE:.915},nL=(n,e,t,r)=>{const o=n.offsetHeight;let a=!1,s=!1,l=null,c=null;const u=.2;let d=!0,h=0;const f=()=>l&&Li(l)?l.scrollY:!0,v=yd({el:n,gestureName:"modalSwipeToClose",gesturePriority:rS,direction:"y",threshold:10,canStart:x=>{const y=x.event.target;return y===null||!y.closest?!0:(l=Hf(y),l?(Li(l)?c=Lt(l).querySelector(".inner-scroll"):c=l,!!!l.querySelector("ion-refresher")&&c.scrollTop===0):y.closest("ion-footer")===null)},onStart:x=>{const{deltaY:y}=x;d=f(),s=n.canDismiss!==void 0&&n.canDismiss!==!0,y>0&&l&&jb(l),e.progressStart(!0,a?1:0)},onMove:x=>{const{deltaY:y}=x;y>0&&l&&jb(l);const w=x.deltaY/o,k=w>=0&&s,_=k?u:.9999,T=k?Vb(w/_):w,E=Wn(1e-4,T,_);e.progressStep(E),E>=.5&&h<.5?Wb(t):E<.5&&h>=.5&&jS(),h=E},onEnd:x=>{const y=x.velocityY,w=x.deltaY/o,k=w>=0&&s,_=k?u:.9999,T=k?Vb(w/_):w,E=Wn(1e-4,T,_),A=(x.deltaY+y*1e3)/o,M=!k&&A>=.5;let I=M?-.001:.001;M?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),I+=xs([0,0],[.32,.72],[0,1],[1,1],E)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),I+=xs([0,0],[1,0],[.68,.28],[1,1],E)[0]);const L=dk(M?w*o:(1-E)*o,y);a=M,v.enable(!1),l&&xS(l,d),e.onFinish(()=>{M||v.enable(!0)}).progressEnd(M?1:0,I,L),k&&E>_/4?NS(n,e):M&&r()}});return v},dk=(n,e)=>Wn(400,n/Math.abs(e*1.1),500),FS=n=>{const{currentBreakpoint:e,backdropBreakpoint:t,expandToScroll:r}=n,i=t===void 0||t<e,o=i?"calc(var(--backdrop-opacity) * ".concat(e,")"):"0",a=me("backdropAnimation").fromTo("opacity",0,o);i&&a.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);const s=me("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:"translateY(".concat(100-e*100,"%)")}]),l=r?void 0:me("contentAnimation").keyframes([{offset:0,opacity:1,maxHeight:"".concat((1-e)*100,"%")},{offset:1,opacity:1,maxHeight:"".concat(e*100,"%")}]);return{wrapperAnimation:s,backdropAnimation:a,contentAnimation:l}},$S=n=>{const{currentBreakpoint:e,backdropBreakpoint:t}=n,r="calc(var(--backdrop-opacity) * ".concat(Hb(e,t),")"),i=[{offset:0,opacity:r},{offset:1,opacity:0}],o=[{offset:0,opacity:r},{offset:t,opacity:0},{offset:1,opacity:0}],a=me("backdropAnimation").keyframes(t!==0?o:i);return{wrapperAnimation:me("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(".concat(100-e*100,"%)")},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:a}},rL=()=>{const n=me().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=me().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:n,wrapperAnimation:e,contentAnimation:void 0}},hk=(n,e)=>{const{presentingEl:t,currentBreakpoint:r,expandToScroll:i}=e,o=Lt(n),{wrapperAnimation:a,backdropAnimation:s,contentAnimation:l}=r!==void 0?FS(e):rL();s.addElement(o.querySelector("ion-backdrop")),a.addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1}),!i&&(l==null||l.addElement(n.querySelector(".ion-page")));const c=me("entering-base").addElement(n).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation([a]).beforeAddWrite(()=>{if(i)return;const u=n.querySelector("ion-footer"),d=n.shadowRoot.querySelector("ion-footer");if(u&&!d){const h=u.clientHeight,f=u.cloneNode(!0);n.shadowRoot.appendChild(f),u.style.setProperty("display","none"),u.setAttribute("aria-hidden","true"),n.querySelector(".ion-page").style.setProperty("padding-bottom","".concat(h,"px"))}});if(l&&c.addAnimation(l),t){const u=window.innerWidth<768,d=t.tagName==="ION-MODAL"&&t.presentingElement!==void 0,h=Lt(t),f=me().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),p=document.body;if(u){const m=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",b=d?"-10px":m,g=Kf.MIN_PRESENTING_SCALE,v="translateY(".concat(b,") scale(").concat(g,")");f.afterStyles({transform:v}).beforeAddWrite(()=>p.style.setProperty("background-color","black")).addElement(t).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:v,borderRadius:"10px 10px 0 0"}]),c.addAnimation(f)}else if(c.addAnimation(s),!d)a.fromTo("opacity","0","1");else{const m=d?Kf.MIN_PRESENTING_SCALE:1,b="translateY(-10px) scale(".concat(m,")");f.afterStyles({transform:b}).addElement(h.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:b}]);const g=me().afterStyles({transform:b}).addElement(h.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:b}]);c.addAnimation([f,g])}}else c.addAnimation(s);return c},iL=()=>{const n=me().fromTo("opacity","var(--backdrop-opacity)",0),e=me().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:n,wrapperAnimation:e}},fk=(n,e,t=500)=>{const{presentingEl:r,currentBreakpoint:i,expandToScroll:o}=e,a=Lt(n),{wrapperAnimation:s,backdropAnimation:l}=i!==void 0?$S(e):iL();l.addElement(a.querySelector("ion-backdrop")),s.addElement(a.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const c=me("leaving-base").addElement(n).easing("cubic-bezier(0.32,0.72,0,1)").duration(t).addAnimation(s).beforeAddWrite(()=>{if(o)return;const u=n.querySelector("ion-footer");if(u){const d=n.shadowRoot.querySelector("ion-footer");u.style.removeProperty("display"),u.removeAttribute("aria-hidden"),d.style.setProperty("display","none"),d.setAttribute("aria-hidden","true"),n.querySelector(".ion-page").style.removeProperty("padding-bottom")}});if(r){const u=window.innerWidth<768,d=r.tagName==="ION-MODAL"&&r.presentingElement!==void 0,h=Lt(r),f=me().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(m=>{if(m!==1)return;r.style.setProperty("overflow",""),Array.from(p.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(g=>g.presentingElement!==void 0).length<=1&&p.style.setProperty("background-color","")}),p=document.body;if(u){const m=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",b=d?"-10px":m,g=Kf.MIN_PRESENTING_SCALE,v="translateY(".concat(b,") scale(").concat(g,")");f.addElement(r).keyframes([{offset:0,filter:"contrast(0.85)",transform:v,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),c.addAnimation(f)}else if(c.addAnimation(l),!d)s.fromTo("opacity","1","0");else{const m=d?Kf.MIN_PRESENTING_SCALE:1,b="translateY(-10px) scale(".concat(m,")");f.addElement(h.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:b},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const g=me().addElement(h.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:b},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);c.addAnimation([f,g])}}else c.addAnimation(l);return c},oL=()=>{const n=me().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=me().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}]);return{backdropAnimation:n,wrapperAnimation:e,contentAnimation:void 0}},aL=(n,e)=>{const{currentBreakpoint:t,expandToScroll:r}=e,i=Lt(n),{wrapperAnimation:o,backdropAnimation:a,contentAnimation:s}=t!==void 0?FS(e):oL();a.addElement(i.querySelector("ion-backdrop")),o.addElement(i.querySelector(".modal-wrapper")),r&&(s==null||s.addElement(n.querySelector(".ion-page")));const l=me().addElement(n).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([a,o]).beforeAddWrite(()=>{if(r)return;const c=n.querySelector("ion-footer"),u=n.shadowRoot.querySelector("ion-footer");if(c&&!u){const d=c.clientHeight,h=c.cloneNode(!0);n.shadowRoot.appendChild(h),c.style.setProperty("display","none"),c.setAttribute("aria-hidden","true"),n.querySelector(".ion-page").style.setProperty("padding-bottom","".concat(d,"px"))}});return s&&l.addAnimation(s),l},sL=()=>{const n=me().fromTo("opacity","var(--backdrop-opacity)",0),e=me().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:n,wrapperAnimation:e}},lL=(n,e)=>{const{currentBreakpoint:t,expandToScroll:r}=e,i=Lt(n),{wrapperAnimation:o,backdropAnimation:a}=t!==void 0?$S(e):sL();return a.addElement(i.querySelector("ion-backdrop")),o.addElement(i.querySelector(".modal-wrapper")),me().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([a,o]).beforeAddWrite(()=>{if(r)return;const l=n.querySelector("ion-footer");if(l){const c=n.shadowRoot.querySelector("ion-footer");l.style.removeProperty("display"),l.removeAttribute("aria-hidden"),c.style.setProperty("display","none"),c.setAttribute("aria-hidden","true"),n.querySelector(".ion-page").style.removeProperty("padding-bottom")}})},cL=(n,e,t,r,i,o,a=[],s,l,c,u)=>{const d=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],h=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-i,opacity:0},{offset:1,opacity:0}],f={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:i!==0?h:d,CONTENT_KEYFRAMES:[{offset:0,maxHeight:"100%"},{offset:1,maxHeight:"0%"}]},p=n.querySelector("ion-content"),m=t.clientHeight;let b=r,g=0,v=!1,x=null;const y=.95,w=a[a.length-1],k=a[0],_=o.childAnimations.find(B=>B.id==="wrapperAnimation"),T=o.childAnimations.find(B=>B.id==="backdropAnimation"),E=o.childAnimations.find(B=>B.id==="contentAnimation"),A=()=>{n.style.setProperty("pointer-events","auto"),e.style.setProperty("pointer-events","auto"),n.classList.remove(Wu)},M=()=>{n.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","none"),n.classList.add(Wu)},I=B=>{const U=n.querySelector("ion-footer");if(!U)return;const $=t.nextElementSibling,F=B==="original"?$:U,ee=B==="original"?U:$;ee.style.removeProperty("display"),ee.removeAttribute("aria-hidden");const X=n.querySelector(".ion-page");if(B==="original")X.style.removeProperty("padding-bottom");else{const Q=ee.clientHeight;X.style.setProperty("padding-bottom","".concat(Q,"px"))}F.style.setProperty("display","none"),F.setAttribute("aria-hidden","true")};_&&T&&(_.keyframes([...f.WRAPPER_KEYFRAMES]),T.keyframes([...f.BACKDROP_KEYFRAMES]),E==null||E.keyframes([...f.CONTENT_KEYFRAMES]),o.progressStart(!0,1-b),b>i?A():M()),p&&b!==w&&s&&(p.scrollY=!1);const L=B=>{const U=Hf(B.event.target);if(b=l(),!s&&U)return(Li(U)?Lt(U).querySelector(".inner-scroll"):U).scrollTop===0;if(b===1&&U){const $=Li(U)?Lt(U).querySelector(".inner-scroll"):U;return!!!U.querySelector("ion-refresher")&&$.scrollTop===0}return!0},S=B=>{if(v=n.canDismiss!==void 0&&n.canDismiss!==!0&&k===0,!s){const U=Hf(B.event.target);x=U&&Li(U)?Lt(U).querySelector(".inner-scroll"):U}s||I("original"),B.deltaY>0&&p&&(p.scrollY=!1),tn(()=>{n.focus()}),o.progressStart(!0,1-b)},O=B=>{if(!s&&B.deltaY<=0&&x)return;B.deltaY>0&&p&&(p.scrollY=!1);const U=1-b,$=a.length>1?1-a[1]:void 0,F=U+B.deltaY/m,ee=$!==void 0&&F>=$&&v,X=ee?y:.9999,Q=ee&&$!==void 0?$+Vb((F-$)/(X-$)):F;g=Wn(1e-4,Q,X),o.progressStep(g)},P=B=>{if(!s&&B.deltaY<=0&&x&&x.scrollTop>0)return;const U=B.velocityY,$=(B.deltaY+U*350)/m,F=b-$,ee=a.reduce((X,Q)=>Math.abs(Q-F)<Math.abs(X-F)?Q:X);z({breakpoint:ee,breakpointOffset:g,canDismiss:v,animated:!0})},z=B=>{const{breakpoint:U,canDismiss:$,breakpointOffset:F,animated:ee}=B,X=$&&U===0,Q=X?b:U,be=Q!==0;return b=0,_&&T&&(_.keyframes([{offset:0,transform:"translateY(".concat(F*100,"%)")},{offset:1,transform:"translateY(".concat((1-Q)*100,"%)")}]),T.keyframes([{offset:0,opacity:"calc(var(--backdrop-opacity) * ".concat(Hb(1-F,i),")")},{offset:1,opacity:"calc(var(--backdrop-opacity) * ".concat(Hb(Q,i),")")}]),E&&E.keyframes([{offset:0,maxHeight:"".concat((1-F)*100,"%")},{offset:1,maxHeight:"".concat(Q*100,"%")}]),o.progressStep(0)),N.enable(!1),!s&&be&&I("cloned"),X?NS(n,o):be||c(),p&&(Q===a[a.length-1]||!s)&&(p.scrollY=!0),new Promise(ye=>{o.onFinish(()=>{be?_&&T?tn(()=>{_.keyframes([...f.WRAPPER_KEYFRAMES]),T.keyframes([...f.BACKDROP_KEYFRAMES]),E==null||E.keyframes([...f.CONTENT_KEYFRAMES]),o.progressStart(!0,1-Q),b=Q,u(b),b>i?A():M(),N.enable(!0),ye()}):(N.enable(!0),ye()):ye()},{oneTimeCallback:!0}).progressEnd(1,0,ee?500:0)})},N=yd({el:t,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:L,onStart:S,onMove:O,onEnd:P});return{gesture:N,moveSheetToBreakpoint:z}},uL=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer ion-toolbar:first-of-type{padding-top:6px}',dL=uL,hL=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}',fL=hL,pL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ae(this,"ionModalDidPresent",7),this.willPresent=ae(this,"ionModalWillPresent",7),this.willDismiss=ae(this,"ionModalWillDismiss",7),this.didDismiss=ae(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=ae(this,"ionBreakpointDidChange",7),this.didPresentShorthand=ae(this,"didPresent",7),this.willPresentShorthand=ae(this,"willPresent",7),this.willDismissShorthand=ae(this,"willDismiss",7),this.didDismissShorthand=ae(this,"didDismiss",7),this.ionMount=ae(this,"ionMount",7),this.lockController=Ms(),this.triggerController=Cd(),this.coreDelegate=qx(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:e,handleBehavior:t}=this;t!=="cycle"||e!==void 0||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:e}=this;e===void 0&&this.dismiss(void 0,Ui)},this.onLifecycle=e=>{const t=this.usersElement,r=mL[e.type];if(t&&r){const i=new CustomEvent(r,{bubbles:!1,cancelable:!1,detail:e.detail});t.dispatchEvent(i)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.expandToScroll=!0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:r}=this;e&&r.addClickListener(t,e)}breakpointsChanged(e){e!==void 0&&(this.sortedBreakpoints=e.sort((t,r)=>t-r))}connectedCallback(){const{el:e}=this;xc(e),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;const{breakpoints:t,initialBreakpoint:r,el:i,htmlAttributes:o}=this,a=this.isSheetModal=t!==void 0&&r!==void 0,s=["aria-label","role"];this.inheritedAttributes=qi(i,s),o!==void 0&&s.forEach(l=>{o[l]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[l]:o[l]}),delete o[l])}),a&&(this.currentBreakpoint=this.initialBreakpoint),t!==void 0&&r!==void 0&&!t.includes(r)&&yt("[ion-modal] - Your breakpoints array must include the initialBreakpoint value."),!((e=this.htmlAttributes)===null||e===void 0)&&e.id||yc(this.el)}componentDidLoad(){this.isOpen===!0&&tn(()=>this.present()),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const t=this.el.parentNode,r=this.inline=t!==null&&!this.hasController,i=this.workingDelegate=r?this.delegate||this.coreDelegate:this.delegate;return{inline:r,delegate:i}}async checkCanDismiss(e,t){const{canDismiss:r}=this;return typeof r=="function"?r(e,t):r}async present(){const e=await this.lockController.lock();if(this.presented){e();return}const{presentingElement:t,el:r}=this;this.currentBreakpoint=this.initialBreakpoint;const{inline:i,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await wd(o,r,this.component,["ion-page"],this.componentProps,i),Uu(r)?await Hu(this.usersElement):this.keepContentsMounted||await HE(),or(()=>this.el.classList.add("show-modal"));const a=t!==void 0;a&&pe(this)==="ios"&&(this.statusBarStyle=await ly.getStyle(),jS()),await wc(this,"modalEnter",hk,aL,{presentingEl:t,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll}),typeof window<"u"&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),tn(()=>{this.gesture&&this.gesture.enable(!0)}))},window.addEventListener(qf,this.keyboardOpenCallback)),this.isSheetModal?this.initSheetGesture():a&&this.initSwipeToClose(),e()}initSwipeToClose(){var e;if(pe(this)!=="ios")return;const{el:t}=this,r=this.leaveAnimation||ze.get("modalLeave",fk),i=this.animation=r(t,{presentingEl:this.presentingElement,expandToScroll:this.expandToScroll});if(!Uf(t)){Wf(t);return}const a=(e=this.statusBarStyle)!==null&&e!==void 0?e:ac.Default;this.gesture=nL(t,i,a,()=>{this.gestureAnimationDismissing=!0,Wb(this.statusBarStyle),this.animation.onFinish(async()=>{await this.dismiss(void 0,yo),this.gestureAnimationDismissing=!1})}),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:e,initialBreakpoint:t,backdropBreakpoint:r}=this;if(!e||t===void 0)return;const i=this.enterAnimation||ze.get("modalEnter",hk),o=this.animation=i(this.el,{presentingEl:this.presentingElement,currentBreakpoint:t,backdropBreakpoint:r,expandToScroll:this.expandToScroll});o.progressStart(!0,1);const{gesture:a,moveSheetToBreakpoint:s}=cL(this.el,this.backdropEl,e,t,r,o,this.sortedBreakpoints,this.expandToScroll,()=>{var l;return(l=this.currentBreakpoint)!==null&&l!==void 0?l:0},()=>this.sheetOnDismiss(),l=>{this.currentBreakpoint!==l&&(this.currentBreakpoint=l,this.ionBreakpointDidChange.emit({breakpoint:l}))});this.gesture=a,this.moveSheetToBreakpoint=s,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish(async()=>{this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),await this.dismiss(void 0,yo),this.gestureAnimationDismissing=!1})}async dismiss(e,t){var r;if(this.gestureAnimationDismissing&&t!==yo)return!1;const i=await this.lockController.lock();if(t!=="handler"&&!await this.checkCanDismiss(e,t))return i(),!1;const{presentingElement:o}=this;o!==void 0&&pe(this)==="ios"&&Wb(this.statusBarStyle),typeof window<"u"&&this.keyboardOpenCallback&&(window.removeEventListener(qf,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);const s=await kc(this,e,t,"modalLeave",fk,lL,{presentingEl:o,currentBreakpoint:(r=this.currentBreakpoint)!==null&&r!==void 0?r:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll});if(s){const{delegate:l}=this.getDelegate();await Vx(l,this.usersElement),or(()=>this.el.classList.remove("show-modal")),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy()}return this.currentBreakpoint=void 0,this.animation=void 0,i(),s}onDidDismiss(){return Zr(this.el,"ionModalDidDismiss")}onWillDismiss(){return Zr(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(e){if(!this.isSheetModal){yt("[ion-modal] - setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(e)){yt("[ion-modal] - Attempted to set invalid breakpoint value ".concat(e,". Please double check that the breakpoint value is part of your defined breakpoints."));return}const{currentBreakpoint:t,moveSheetToBreakpoint:r,canDismiss:i,breakpoints:o,animated:a}=this;t!==e&&r&&(this.sheetTransition=r({breakpoint:e,breakpointOffset:1-t,canDismiss:i!==void 0&&i!==!0&&o[0]===0,animated:a}),await this.sheetTransition,this.sheetTransition=void 0)}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:e,currentBreakpoint:t}=this;if(!e||t==null)return!1;const r=e.filter(s=>s!==0),o=(r.indexOf(t)+1)%r.length,a=r[o];return await this.setCurrentBreakpoint(a),!0}render(){const{handle:e,isSheetModal:t,presentingElement:r,htmlAttributes:i,handleBehavior:o,inheritedAttributes:a,focusTrap:s,expandToScroll:l}=this,c=e!==!1&&t,u=pe(this),d=r!==void 0&&u==="ios",h=o==="cycle";return D(Pe,Object.assign({key:"0991b2e4e32da511e59fb1463b47e4ac1b86d1ca","no-router":!0,tabindex:"-1"},i,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign({[u]:!0,"modal-default":!d&&!t,"modal-card":d,"modal-sheet":t,"modal-no-expand-scroll":t&&!l,"overlay-hidden":!0,[Wu]:s===!1},Nn(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),D("ion-backdrop",{key:"ca9453ffe1021fb252ad9460676cfabb5633f00f",ref:f=>this.backdropEl=f,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),u==="ios"&&D("div",{key:"9f8da446a7b0f3b26aec856e13f6d6d131a7e37b",class:"modal-shadow"}),D("div",Object.assign({key:"9d08bf600571849c97b58f66df40b496a358d1e1",role:"dialog"},a,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:f=>this.wrapperEl=f}),c&&D("button",{key:"f8bf0d1126e5376519101225d9965727121ee042",class:"modal-handle",tabIndex:h?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:h?this.onHandleClick:void 0,part:"handle"}),D("slot",{key:"6d52849df98f2c6c8fbc03996a931ea6a39a512b"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:dL,md:fL}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],expandToScroll:[4,"expand-to-scroll"],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),mL={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};function US(){if(typeof customElements>"u")return;["ion-modal","ion-backdrop"].forEach(e=>{switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,pL);break;case"ion-backdrop":customElements.get(e)||Os();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gL=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",bL=gL,vL=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",xL=vL,yL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=ae(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({["title-".concat(e)]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=pe(this),t=this.getSize();return D(Pe,{key:"3f7b19c99961dbb86c0a925218332528b22e6880",class:mt(this.color,{[e]:!0,["title-".concat(t)]:!0,"title-rtl":document.dir==="rtl"})},D("div",{key:"12054fbdd60e40a15875e442c20143766fc34fc3",class:"toolbar-title"},D("slot",{key:"9f14fb14a67d4bd1e4536a4d64a637fbe5a151c7"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:bL,md:xL}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function cy(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,yL);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wL=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",kL=wL,_L=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",CL=_L,EL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),t=e.find(o=>o.slot==="start");t&&t.classList.add("buttons-first-slot");const r=e.reverse(),i=r.find(o=>o.slot==="end")||r.find(o=>o.slot==="primary")||r.find(o=>o.slot==="secondary");i&&i.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const t=e.target.tagName,r=e.detail,i={},o=this.childrenStyles.get(t)||{};let a=!1;Object.keys(r).forEach(s=>{const l="toolbar-".concat(s),c=r[s];c!==o[l]&&(a=!0),c&&(i[l]=!0)}),a&&(this.childrenStyles.set(t,i),Sn(this))}render(){const e=pe(this),t={};return this.childrenStyles.forEach(r=>{Object.assign(t,r)}),D(Pe,{key:"402afe7ce0c97883cedd0e48a5a0492a9bfe76ae",class:Object.assign(Object.assign({},t),mt(this.color,{[e]:!0,"in-toolbar":Ot("ion-toolbar",this.el)}))},D("div",{key:"2465a6dc8d507ec650538378d1be2abd399c58ad",class:"toolbar-background",part:"background"}),D("div",{key:"6075096afd12303b961e4fe9ad345ef2887573af",class:"toolbar-container",part:"container"},D("slot",{key:"8b7eec1148cfeb339d87cdf9273f2104703e7601",name:"start"}),D("slot",{key:"b102d3926cade24faf78b7af78ad5e192c4c0308",name:"secondary"}),D("div",{key:"c6ab2e978328324c6f9e7892024cbcd8b8987067",class:"toolbar-content",part:"content"},D("slot",{key:"86f8952c4355a9df5b4bbb95e9d0cafefd272d5b"})),D("slot",{key:"501e43431da6b9dd35b47b79222f948d445f7a78",name:"primary"}),D("slot",{key:"84bf1a15a5e52e8e94df9f479c4ce18004f5ab57",name:"end"})))}get el(){return this}static get style(){return{ios:kL,md:CL}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function uy(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,EL);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const SL=".sc-ion-select-modal-ionic-h{height:100%}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(container){display:none}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-ionic{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-ionic{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-ionic{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",TL=SL,AL='.sc-ion-select-modal-ios-h{height:100%}ion-item.sc-ion-select-modal-ios{--inner-padding-end:0}ion-radio.sc-ion-select-modal-ios::after{bottom:0;position:absolute;width:calc(100% - 0.9375rem - 16px);border-width:0px 0px 0.55px 0px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));content:""}ion-radio.sc-ion-select-modal-ios::after{inset-inline-start:calc(0.9375rem + 16px)}',IL=AL,RL=".sc-ion-select-modal-md-h{height:100%}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(container){display:none}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",DL=RL,OL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.header=void 0,this.multiple=void 0,this.options=[]}closeModal(){const e=this.el.closest("ion-modal");e&&e.dismiss()}findOptionFromEvent(e){const{options:t}=this;return t.find(r=>r.value===e.target.value)}getValues(e){const{multiple:t,options:r}=this;if(t)return r.filter(o=>o.checked).map(o=>o.value);const i=e?this.findOptionFromEvent(e):null;return i?i.value:void 0}callOptionHandler(e){const t=this.findOptionFromEvent(e),r=this.getValues(e);t!=null&&t.handler&&cs(t.handler,r)}setChecked(e){const{multiple:t}=this,r=this.findOptionFromEvent(e);t&&r&&(r.checked=e.detail.checked)}renderRadioOptions(){const e=this.options.filter(t=>t.checked).map(t=>t.value)[0];return D("ion-radio-group",{value:e,onIonChange:t=>this.callOptionHandler(t)},this.options.map(t=>D("ion-item",{lines:"none",class:Object.assign({"item-radio-checked":t.value===e},Nn(t.cssClass))},D("ion-radio",{value:t.value,disabled:t.disabled,justify:"start",labelPlacement:"end",onClick:()=>this.closeModal(),onKeyUp:r=>{r.key===" "&&this.closeModal()}},t.text))))}renderCheckboxOptions(){return this.options.map(e=>D("ion-item",{class:Object.assign({"item-checkbox-checked":e.checked},Nn(e.cssClass))},D("ion-checkbox",{value:e.value,disabled:e.disabled,checked:e.checked,justify:"start",labelPlacement:"end",onIonChange:t=>{this.setChecked(t),this.callOptionHandler(t),Sn(this)}},e.text)))}render(){return D(Pe,{key:"885198a9f21884e3bfb9bf0af53e0ee3ae37b231",class:pe(this)},D("ion-header",{key:"d8b63726869747ac711e4fda78a50ce46f72970c"},D("ion-toolbar",{key:"9ab2a4c1480dd74eeae38d7b580a2e87fb71270e"},this.header!==void 0&&D("ion-title",{key:"87a7034385ef57f55cefdd0371dbb66a64827290"},this.header),D("ion-buttons",{key:"0a35424ea13ca002abc9a43b6138730254f187d0",slot:"end"},D("ion-button",{key:"238bf40b47128d9aa995d14d9ff9ebcae4f79492",onClick:()=>this.closeModal()},"Close")))),D("ion-content",{key:"4a256f3381f8cabbc7194337b8ae4aa1c3ab1066"},D("ion-list",{key:"acd38fc52024632176467ed6a84106a454021544"},this.multiple===!0?this.renderCheckboxOptions():this.renderRadioOptions())))}get el(){return this}static get style(){return{ionic:TL,ios:IL,md:DL}}},[34,"ion-select-modal",{header:[1],multiple:[4],options:[16]}]);function ML(){if(typeof customElements>"u")return;["ion-select-modal","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-list","ion-radio","ion-radio-group","ion-ripple-effect","ion-title","ion-toolbar"].forEach(e=>{switch(e){case"ion-select-modal":customElements.get(e)||customElements.define(e,OL);break;case"ion-button":customElements.get(e)||Xx();break;case"ion-buttons":customElements.get(e)||Gx();break;case"ion-checkbox":customElements.get(e)||Kx();break;case"ion-content":customElements.get(e)||Yx();break;case"ion-header":customElements.get(e)||Jx();break;case"ion-icon":customElements.get(e)||Jr();break;case"ion-item":customElements.get(e)||ry();break;case"ion-list":customElements.get(e)||qp();break;case"ion-radio":customElements.get(e)||ty();break;case"ion-radio-group":customElements.get(e)||ny();break;case"ion-ripple-effect":customElements.get(e)||Qr();break;case"ion-title":customElements.get(e)||cy();break;case"ion-toolbar":customElements.get(e)||uy();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const PL=".sc-ion-select-popover-ios-h ion-list.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-ios,ion-label.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-ios-h{overflow-y:auto}",BL=PL,zL=".sc-ion-select-popover-md-h ion-list.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-md,ion-label.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-md-h{overflow-y:auto}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(container){display:none}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-popover-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-popover-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-popover-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",LL=zL,jL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.header=void 0,this.subHeader=void 0,this.message=void 0,this.multiple=void 0,this.options=[]}findOptionFromEvent(e){const{options:t}=this;return t.find(r=>r.value===e.target.value)}callOptionHandler(e){const t=this.findOptionFromEvent(e),r=this.getValues(e);t!=null&&t.handler&&cs(t.handler,r)}dismissParentPopover(){const e=this.el.closest("ion-popover");e&&e.dismiss()}setChecked(e){const{multiple:t}=this,r=this.findOptionFromEvent(e);t&&r&&(r.checked=e.detail.checked)}getValues(e){const{multiple:t,options:r}=this;if(t)return r.filter(o=>o.checked).map(o=>o.value);const i=this.findOptionFromEvent(e);return i?i.value:void 0}renderOptions(e){const{multiple:t}=this;switch(t){case!0:return this.renderCheckboxOptions(e);default:return this.renderRadioOptions(e)}}renderCheckboxOptions(e){return e.map(t=>D("ion-item",{class:Object.assign({"item-checkbox-checked":t.checked},Nn(t.cssClass))},D("ion-checkbox",{value:t.value,disabled:t.disabled,checked:t.checked,justify:"start",labelPlacement:"end",onIonChange:r=>{this.setChecked(r),this.callOptionHandler(r),Sn(this)}},t.text)))}renderRadioOptions(e){const t=e.filter(r=>r.checked).map(r=>r.value)[0];return D("ion-radio-group",{value:t,onIonChange:r=>this.callOptionHandler(r)},e.map(r=>D("ion-item",{class:Object.assign({"item-radio-checked":r.value===t},Nn(r.cssClass))},D("ion-radio",{value:r.value,disabled:r.disabled,onClick:()=>this.dismissParentPopover(),onKeyUp:i=>{i.key===" "&&this.dismissParentPopover()}},r.text))))}render(){const{header:e,message:t,options:r,subHeader:i}=this,o=i!==void 0||t!==void 0;return D(Pe,{key:"542367ab8fb72bfebf7e65630b91017d68827fd6",class:pe(this)},D("ion-list",{key:"f2f0f37e1365cd7780b02de1a1698700d0df48a7"},e!==void 0&&D("ion-list-header",{key:"4b8800a68e800f19277a44b7074ca24b70218daf"},e),o&&D("ion-item",{key:"932b7903daf97d5a57d289b7ee49e868bb9b0cf5"},D("ion-label",{key:"fc3f1b69aa2a0bc6125d35692dcad3a8a99fd160",class:"ion-text-wrap"},i!==void 0&&D("h3",{key:"eceab2f47afa95f04b138342b0bdbfa1f50919a8"},i),t!==void 0&&D("p",{key:"70f4e27ad1316318efd0c17efce31e5e45c8fa02"},t))),this.renderOptions(r)))}get el(){return this}static get style(){return{ios:BL,md:LL}}},[34,"ion-select-popover",{header:[1],subHeader:[1,"sub-header"],message:[1],multiple:[4],options:[16]}]);function NL(){if(typeof customElements>"u")return;["ion-select-popover","ion-checkbox","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-radio","ion-radio-group","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-select-popover":customElements.get(e)||customElements.define(e,jL);break;case"ion-checkbox":customElements.get(e)||Kx();break;case"ion-icon":customElements.get(e)||Jr();break;case"ion-item":customElements.get(e)||ry();break;case"ion-label":customElements.get(e)||ey();break;case"ion-list":customElements.get(e)||qp();break;case"ion-list-header":customElements.get(e)||SS();break;case"ion-radio":customElements.get(e)||ty();break;case"ion-radio-group":customElements.get(e)||ny();break;case"ion-ripple-effect":customElements.get(e)||Qr();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const FL=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.has-focus) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.select-bottom{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}:host(.has-focus.ion-valid),:host(.select-expanded.ion-valid),:host(.ion-touched.ion-invalid),:host(.select-expanded.ion-touched.ion-invalid){--border-color:var(--highlight-color)}.select-bottom .error-text{display:none;color:var(--highlight-color-invalid)}.select-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .select-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .select-bottom .helper-text{display:none}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-focus.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px}.select-icon{width:1.125rem;height:1.125rem;color:var(--ion-color-step-650, var(--ion-text-color-step-350, #595959))}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 1.125rem - 4px)}:host(.select-disabled){opacity:0.3}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",$L=FL,UL=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.has-focus) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.select-bottom{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}:host(.has-focus.ion-valid),:host(.select-expanded.ion-valid),:host(.ion-touched.ion-invalid),:host(.select-expanded.ion-touched.ion-invalid){--border-color:var(--highlight-color)}.select-bottom .error-text{display:none;color:var(--highlight-color-invalid)}.select-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .select-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .select-bottom .helper-text{display:none}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-focus.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.select-fill-solid){--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-solid) .select-wrapper{border-bottom:var(--border-width) var(--border-style) var(--border-color)}:host(.select-expanded.select-fill-solid.ion-valid),:host(.has-focus.select-fill-solid.ion-valid),:host(.select-fill-solid.ion-touched.ion-invalid){--border-color:var(--highlight-color)}:host(.select-fill-solid) .select-bottom{border-top:none}@media (any-hover: hover){:host(.select-fill-solid:hover){--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-solid.select-expanded),:host(.select-fill-solid.has-focus){--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--highlight-color)}:host(.select-fill-solid) .select-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}:host(.label-floating.select-fill-solid) .label-text-wrapper{max-width:calc(100% / 0.75)}:host(.in-item.select-expanded.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.has-focus.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid.select-fill-solid) .select-wrapper .select-icon{color:var(--highlight-color)}:host(.select-fill-outline){--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-outline.select-shape-round){--border-radius:28px;--padding-start:32px;--padding-end:32px}:host(.has-focus.select-fill-outline.ion-valid),:host(.select-fill-outline.ion-touched.ion-invalid){--border-color:var(--highlight-color)}@media (any-hover: hover){:host(.select-fill-outline:hover){--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-outline.select-expanded),:host(.select-fill-outline.has-focus){--border-width:var(--highlight-height);--border-color:var(--highlight-color)}:host(.select-fill-outline) .select-bottom{border-top:none}:host(.select-fill-outline) .select-wrapper{border-bottom:none}:host(.select-ltr.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-fill-outline.select-label-placement-floating) .label-text-wrapper{position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .label-text-wrapper{position:relative;z-index:1}:host(.label-floating.select-fill-outline) .label-text-wrapper{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}:host(.select-fill-outline.select-label-placement-stacked) select,:host(.select-fill-outline.select-label-placement-floating) select{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}:host(.select-fill-outline) .select-outline-container{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-end{pointer-events:none}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-notch,:host(.select-fill-outline) .select-outline-end{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.select-fill-outline) .select-outline-notch{max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .notch-spacer{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none}:host(.select-fill-outline) .select-outline-start{-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-start{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius)}:host(.select-fill-outline) .select-outline-start{width:calc(var(--padding-start) - 4px)}:host(.select-fill-outline) .select-outline-end{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-end{border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px}:host(.select-fill-outline) .select-outline-end{-ms-flex-positive:1;flex-grow:1}:host(.label-floating.select-fill-outline) .select-outline-notch{border-top:none}:host(.in-item.select-expanded.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.has-focus.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid.select-fill-outline) .select-wrapper .select-icon{color:var(--highlight-color)}:host{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px}:host(.select-label-placement-floating.select-expanded) .label-text-wrapper,:host(.select-label-placement-floating.has-focus) .label-text-wrapper,:host(.select-label-placement-stacked.select-expanded) .label-text-wrapper,:host(.select-label-placement-stacked.has-focus) .label-text-wrapper{color:var(--highlight-color)}:host(.has-focus.select-label-placement-floating.ion-valid) .label-text-wrapper,:host(.select-label-placement-floating.ion-touched.ion-invalid) .label-text-wrapper,:host(.has-focus.select-label-placement-stacked.ion-valid) .label-text-wrapper,:host(.select-label-placement-stacked.ion-touched.ion-invalid) .label-text-wrapper{color:var(--highlight-color)}.select-highlight{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.select-highlight{inset-inline-start:0}:host(.select-expanded) .select-highlight,:host(.has-focus) .select-highlight{-webkit-transform:scale(1);transform:scale(1)}:host(.in-item) .select-highlight{bottom:0}:host(.in-item) .select-highlight{inset-inline-start:0}.select-icon{width:0.8125rem;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);color:var(--ion-color-step-500, var(--ion-text-color-step-500, gray))}:host(.select-expanded:not(.has-expanded-icon)) .select-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.in-item.select-expanded) .select-wrapper .select-icon,:host(.in-item.has-focus) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid) .select-wrapper .select-icon{color:var(--ion-color-step-500, var(--ion-text-color-step-500, gray))}:host(.select-expanded) .select-wrapper .select-icon,:host(.has-focus.ion-valid) .select-wrapper .select-icon,:host(.ion-touched.ion-invalid) .select-wrapper .select-icon,:host(.has-focus) .select-wrapper .select-icon{color:var(--highlight-color)}:host(.select-shape-round){--border-radius:16px}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 0.8125rem - 4px)}:host(.select-disabled){opacity:0.38}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",HL=UL,WL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ae(this,"ionChange",7),this.ionCancel=ae(this,"ionCancel",7),this.ionDismiss=ae(this,"ionDismiss",7),this.ionFocus=ae(this,"ionFocus",7),this.ionBlur=ae(this,"ionBlur",7),this.ionStyle=ae(this,"ionStyle",7),this.inputId="ion-sel-".concat(GL++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.onClick=e=>{const t=e.target,r=t.closest('[slot="start"], [slot="end"]');t===this.el||r===null?(this.setFocus(),this.open(e)):e.preventDefault()},this.onFocus=()=>{this.hasFocus=!0,this.ionFocus.emit()},this.onBlur=()=>{this.hasFocus=!1,this.ionBlur.emit()},this.isExpanded=!1,this.hasFocus=!1,this.cancelText="Cancel",this.color=void 0,this.compareWith=void 0,this.disabled=!1,this.fill=void 0,this.errorText=void 0,this.helperText=void 0,this.interface="alert",this.interfaceOptions={},this.justify=void 0,this.label=void 0,this.labelPlacement="start",this.multiple=!1,this.name=this.inputId,this.okText="OK",this.placeholder=void 0,this.selectedText=void 0,this.toggleIcon=void 0,this.expandedIcon=void 0,this.shape=void 0,this.value=void 0,this.required=!1}styleChanged(){this.emitStyle()}setValue(e){this.value=e,this.ionChange.emit({value:e})}async connectedCallback(){const{el:e}=this;this.notchController=Qx(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.updateOverlayOptions(),this.emitStyle(),this.mutationO=UP(this.el,"ion-select-option",async()=>{this.updateOverlayOptions(),Sn(this)})}componentWillLoad(){this.inheritedAttributes=qi(this.el,["aria-label"])}componentDidLoad(){this.emitStyle()}disconnectedCallback(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async open(e){if(this.disabled||this.isExpanded)return;this.isExpanded=!0;const t=this.overlay=await this.createOverlay(e),r=()=>{const i=this.childOpts.findIndex(o=>o.value===this.value);if(i>-1){const o=t.querySelector(".select-interface-option:nth-child(".concat(i+1,")"));if(o){const a=o.querySelector("ion-radio, ion-checkbox");a&&(o.scrollIntoView({block:"nearest"}),a.setFocus()),zf(o)}}else{const o=t.querySelector("ion-radio:not(.radio-disabled), ion-checkbox:not(.checkbox-disabled)");o&&(o.setFocus(),zf(o.closest("ion-item")))}};if(this.interface==="modal")t.addEventListener("ionModalWillPresent",r,{once:!0});else if(this.interface==="popover")t.addEventListener("ionPopoverWillPresent",r,{once:!0});else{const i=()=>{requestAnimationFrame(()=>{r()})};this.interface==="alert"?t.addEventListener("ionAlertWillPresent",i,{once:!0}):this.interface==="action-sheet"&&t.addEventListener("ionActionSheetWillPresent",i,{once:!0})}return t.onDidDismiss().then(()=>{this.overlay=void 0,this.isExpanded=!1,this.ionDismiss.emit(),this.setFocus()}),await t.present(),t}createOverlay(e){let t=this.interface;return t==="action-sheet"&&this.multiple&&(yt('[ion-select] - Interface cannot be "'.concat(t,'" with a multi-value select. Using the "alert" interface instead.')),t="alert"),t==="popover"&&!e&&(yt('[ion-select] - Interface cannot be a "'.concat(t,'" without passing an event. Using the "alert" interface instead.')),t="alert"),t==="action-sheet"?this.openActionSheet():t==="popover"?this.openPopover(e):t==="modal"?this.openModal():this.openAlert()}updateOverlayOptions(){const e=this.overlay;if(!e)return;const t=this.childOpts,r=this.value;switch(this.interface){case"action-sheet":e.buttons=this.createActionSheetButtons(t,r);break;case"popover":const i=e.querySelector("ion-select-popover");i&&(i.options=this.createOverlaySelectOptions(t,r));break;case"modal":const o=e.querySelector("ion-select-modal");o&&(o.options=this.createOverlaySelectOptions(t,r));break;case"alert":const a=this.multiple?"checkbox":"radio";e.inputs=this.createAlertInputs(t,a,r);break}}createActionSheetButtons(e,t){const r=e.map(i=>{const o=Yh(i),a=Array.from(i.classList).filter(l=>l!=="hydrated").join(" "),s="".concat(zg," ").concat(a);return{role:Kh(t,o,this.compareWith)?"selected":"",text:i.textContent,cssClass:s,handler:()=>{this.setValue(o)}}});return r.push({text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}}),r}createAlertInputs(e,t,r){return e.map(o=>{const a=Yh(o),s=Array.from(o.classList).filter(c=>c!=="hydrated").join(" "),l="".concat(zg," ").concat(s);return{type:t,cssClass:l,label:o.textContent||"",value:a,checked:Kh(r,a,this.compareWith),disabled:o.disabled}})}createOverlaySelectOptions(e,t){return e.map(i=>{const o=Yh(i),a=Array.from(i.classList).filter(l=>l!=="hydrated").join(" "),s="".concat(zg," ").concat(a);return{text:i.textContent||"",cssClass:s,value:o,checked:Kh(t,o,this.compareWith),disabled:i.disabled,handler:l=>{this.setValue(l),this.multiple||this.close()}}})}async openPopover(e){const{fill:t,labelPlacement:r}=this,i=this.interfaceOptions,o=pe(this),a=o!=="md",s=this.multiple,l=this.value;let c=e,u="auto";r==="floating"||r==="stacked"||o==="md"&&t!==void 0?u="cover":c=Object.assign(Object.assign({},e),{detail:{ionShadowTarget:this.nativeWrapperEl}});const h=Object.assign(Object.assign({mode:o,event:c,alignment:"center",size:u,showBackdrop:a},i),{component:"ion-select-popover",cssClass:["select-popover",i.cssClass],componentProps:{header:i.header,subHeader:i.subHeader,message:i.message,multiple:s,value:l,options:this.createOverlaySelectOptions(this.childOpts,l)}});return QO.create(h)}async openActionSheet(){const e=pe(this),t=this.interfaceOptions,r=Object.assign(Object.assign({mode:e},t),{buttons:this.createActionSheetButtons(this.childOpts,this.value),cssClass:["select-action-sheet",t.cssClass]});return ZO.create(r)}async openAlert(){const e=this.interfaceOptions,t=this.multiple?"checkbox":"radio",r=pe(this),i=Object.assign(Object.assign({mode:r},e),{header:e.header?e.header:this.labelText,inputs:this.createAlertInputs(this.childOpts,t,this.value),buttons:[{text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}},{text:this.okText,handler:o=>{this.setValue(o)}}],cssClass:["select-alert",e.cssClass,this.multiple?"multiple-select-alert":"single-select-alert"]});return XO.create(i)}openModal(){const{multiple:e,value:t,interfaceOptions:r}=this,i=pe(this),o=Object.assign(Object.assign({},r),{mode:i,cssClass:["select-modal",r.cssClass],component:"ion-select-modal",componentProps:{header:r.header,multiple:e,value:t,options:this.createOverlaySelectOptions(this.childOpts,t)}});return JO.create(o)}close(){return this.overlay?this.overlay.dismiss():Promise.resolve(!1)}hasValue(){return this.getText()!==""}get childOpts(){return Array.from(this.el.querySelectorAll("ion-select-option"))}get labelText(){const{label:e}=this;if(e!==void 0)return e;const{labelSlot:t}=this;if(t!==null)return t.textContent}getText(){const e=this.selectedText;return e!=null&&e!==""?e:qL(this.childOpts,this.value,this.compareWith)}setFocus(){this.focusEl&&this.focusEl.focus()}emitStyle(){const{disabled:e}=this,t={"interactive-disabled":e};this.ionStyle.emit(t)}renderLabel(){const{label:e}=this;return D("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel},part:"label"},e===void 0?D("slot",{name:"label"}):D("div",{class:"label-text"},e))}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return pe(this)==="md"&&this.fill==="outline"?[D("div",{class:"select-outline-container"},D("div",{class:"select-outline-start"}),D("div",{class:{"select-outline-notch":!0,"select-outline-notch-hidden":!this.hasLabel}},D("div",{class:"notch-spacer","aria-hidden":"true",ref:r=>this.notchSpacerEl=r},this.label)),D("div",{class:"select-outline-end"})),this.renderLabel()]:this.renderLabel()}renderSelectText(){const{placeholder:e}=this,t=this.getText();let r=!1,i=t;return i===""&&e!==void 0&&(i=e,r=!0),D("div",{"aria-hidden":"true",class:{"select-text":!0,"select-placeholder":r},part:r?"placeholder":"text"},i)}renderSelectIcon(){const e=pe(this),{isExpanded:t,toggleIcon:r,expandedIcon:i}=this;let o;if(t&&i!==void 0)o=i;else{const a=e==="ios"?m9:h9;o=r!=null?r:a}return D("ion-icon",{class:"select-icon",part:"icon","aria-hidden":"true",icon:o})}get ariaLabel(){var e;const{placeholder:t,inheritedAttributes:r}=this,i=this.getText(),o=(e=r["aria-label"])!==null&&e!==void 0?e:this.labelText;let a=i;return a===""&&t!==void 0&&(a=t),o!==void 0&&(a=a===""?o:"".concat(o,", ").concat(a)),a}renderListbox(){const{disabled:e,inputId:t,isExpanded:r,required:i}=this;return D("button",{disabled:e,id:t,"aria-label":this.ariaLabel,"aria-haspopup":"dialog","aria-expanded":"".concat(r),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,"aria-required":"".concat(i),onFocus:this.onFocus,onBlur:this.onBlur,ref:o=>this.focusEl=o})}getHintTextID(){const{el:e,helperText:t,errorText:r,helperTextId:i,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&r)return o;if(t)return i}renderHintText(){const{helperText:e,errorText:t,helperTextId:r,errorTextId:i}=this;return[D("div",{id:r,class:"helper-text",part:"supporting-text helper-text"},e),D("div",{id:i,class:"error-text",part:"supporting-text error-text"},t)]}renderBottomContent(){const{helperText:e,errorText:t}=this;if(e||t)return D("div",{class:"select-bottom"},this.renderHintText())}render(){const{disabled:e,el:t,isExpanded:r,expandedIcon:i,labelPlacement:o,justify:a,placeholder:s,fill:l,shape:c,name:u,value:d,hasFocus:h}=this,f=pe(this),p=o==="floating"||o==="stacked",m=!p&&a!==void 0,b=wo(t)?"rtl":"ltr",g=Ot("ion-item",this.el),v=f==="md"&&l!=="outline"&&!g,x=this.hasValue(),y=t.querySelector('[slot="start"], [slot="end"]')!==null;xd(!0,t,u,VL(d),e);const w=o==="stacked"||o==="floating"&&(x||r||y);return D(Pe,{key:"e6c0498d6c275f89344f4b5146752a047058ad88",onClick:this.onClick,class:mt(this.color,{[f]:!0,"in-item":g,"in-item-color":Ot("ion-item.ion-color",t),"select-disabled":e,"select-expanded":r,"has-expanded-icon":i!==void 0,"has-value":x,"label-floating":w,"has-placeholder":s!==void 0,"has-focus":h,"ion-focusable":!0,["select-".concat(b)]:!0,["select-fill-".concat(l)]:l!==void 0,["select-justify-".concat(a)]:m,["select-shape-".concat(c)]:c!==void 0,["select-label-placement-".concat(o)]:!0})},D("label",{key:"f030b6bd329f8014c7227f5e5f1aeb7efa0e641a",class:"select-wrapper",id:"select-label"},this.renderLabelContainer(),D("div",{key:"7480e1b40d09e53a2942295d6c9dae474c9de810",class:"select-wrapper-inner"},D("slot",{key:"250fd2ff08b3e6ed04c7062455a044863481fe1c",name:"start"}),D("div",{key:"11b73ad5b7decfe2d307f9d54293c21c0df3ddb8",class:"native-wrapper",ref:k=>this.nativeWrapperEl=k,part:"container"},this.renderSelectText(),this.renderListbox()),D("slot",{key:"ddedafc89061372567bd46354ef972f08c60e19d",name:"end"}),!p&&this.renderSelectIcon()),p&&this.renderSelectIcon(),v&&D("div",{key:"792ce27aea18a0020c17dceb0f0e293171ded3a3",class:"select-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}}static get style(){return{ios:$L,md:HL}}},[33,"ion-select",{cancelText:[1,"cancel-text"],color:[513],compareWith:[1,"compare-with"],disabled:[4],fill:[1],errorText:[1,"error-text"],helperText:[1,"helper-text"],interface:[1],interfaceOptions:[8,"interface-options"],justify:[1],label:[1],labelPlacement:[1,"label-placement"],multiple:[4],name:[1],okText:[1,"ok-text"],placeholder:[1],selectedText:[1,"selected-text"],toggleIcon:[1,"toggle-icon"],expandedIcon:[1,"expanded-icon"],shape:[1],value:[1032],required:[4],isExpanded:[32],hasFocus:[32],open:[64]},void 0,{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}]),Yh=n=>{const e=n.value;return e===void 0?n.textContent||"":e},VL=n=>{if(n!=null)return Array.isArray(n)?n.join(","):n.toString()},qL=(n,e,t)=>e===void 0?"":Array.isArray(e)?e.map(r=>pk(n,r,t)).filter(r=>r!==null).join(", "):pk(n,e,t)||"",pk=(n,e,t)=>{const r=n.find(i=>Ub(e,Yh(i),t));return r?r.textContent:null};let GL=0;const zg="select-interface-option";function KL(){if(typeof customElements>"u")return;["ion-select","ion-action-sheet","ion-alert","ion-backdrop","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-modal","ion-popover","ion-radio","ion-radio-group","ion-ripple-effect","ion-select-modal","ion-select-popover","ion-title","ion-toolbar"].forEach(e=>{switch(e){case"ion-select":customElements.get(e)||customElements.define(e,WL);break;case"ion-action-sheet":customElements.get(e)||DS();break;case"ion-alert":customElements.get(e)||OS();break;case"ion-backdrop":customElements.get(e)||Os();break;case"ion-button":customElements.get(e)||Xx();break;case"ion-buttons":customElements.get(e)||Gx();break;case"ion-checkbox":customElements.get(e)||Kx();break;case"ion-content":customElements.get(e)||Yx();break;case"ion-header":customElements.get(e)||Jx();break;case"ion-icon":customElements.get(e)||Jr();break;case"ion-item":customElements.get(e)||ry();break;case"ion-label":customElements.get(e)||ey();break;case"ion-list":customElements.get(e)||qp();break;case"ion-list-header":customElements.get(e)||SS();break;case"ion-modal":customElements.get(e)||US();break;case"ion-popover":customElements.get(e)||HM();break;case"ion-radio":customElements.get(e)||ty();break;case"ion-radio-group":customElements.get(e)||ny();break;case"ion-ripple-effect":customElements.get(e)||Qr();break;case"ion-select-modal":customElements.get(e)||ML();break;case"ion-select-popover":customElements.get(e)||NL();break;case"ion-title":customElements.get(e)||cy();break;case"ion-toolbar":customElements.get(e)||uy();break}})}const YL=KL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const XL=":host{display:none}",ZL=XL,JL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputId="ion-selopt-".concat(QL++),this.disabled=!1,this.value=void 0}render(){return D(Pe,{key:"8c96c199ce3a3065de3fe446500f567236e0610a",role:"option",id:this.inputId,class:pe(this)})}get el(){return this}static get style(){return ZL}},[1,"ion-select-option",{disabled:[4],value:[8]}]);let QL=0;function ej(){if(typeof customElements>"u")return;["ion-select-option"].forEach(e=>{switch(e){case"ion-select-option":customElements.get(e)||customElements.define(e,JL);break}})}const tj=ej;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nj=_S;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rj=":host(.tab-hidden){display:none !important}",ij=rj,oj=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1,this.delegate=void 0,this.tab=void 0,this.component=void 0}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(e){e&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&this.component!=null){this.loaded=!0;try{return wd(this.delegate,this.el,this.component,["ion-page"])}catch(e){Xr("[ion-tab] - Exception in prepareLazyLoaded:",e)}}return Promise.resolve(void 0)}render(){const{tab:e,active:t,component:r}=this;return D(Pe,{key:"c36c113e74e12b58459df9e3b546ad4856187e90",role:"tabpanel","aria-hidden":t?null:"true","aria-labelledby":"tab-button-".concat(e),class:{"ion-page":r===void 0,"tab-hidden":!t}},D("slot",{key:"0d7821dac70ba7a12edfb3331988f3df1566cc1a"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return ij}},[1,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);function aj(){if(typeof customElements>"u")return;["ion-tab"].forEach(e=>{switch(e){case"ion-tab":customElements.get(e)||customElements.define(e,oj);break}})}const sj=aj;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lj=":host(.ion-color){color:var(--ion-color-base)}",cj=lj,uj=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=pe(this);return D(Pe,{key:"0c2546ea3f24b0a6bfd606199441d0a4edfa4ca1",class:mt(this.color,{[e]:!0})},D("slot",{key:"b7623ccb06f9461090a1f33e9f85886c7a4d5eff"}))}static get style(){return cj}},[1,"ion-text",{color:[513]}]);function dj(){if(typeof customElements>"u")return;["ion-text"].forEach(e=>{switch(e){case"ion-text":customElements.get(e)||customElements.define(e,uj);break}})}const hj=dj;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fj='.sc-ion-textarea-ios-h{--background:initial;--color:initial;--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0;--padding-end:0;--padding-bottom:8px;--padding-start:0;--border-radius:0;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}.textarea-label-placement-floating.sc-ion-textarea-ios-h,.textarea-label-placement-stacked.sc-ion-textarea-ios-h{--padding-top:0px;min-height:56px}[cols].sc-ion-textarea-ios-h:not([auto-grow]){width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.ion-color.sc-ion-textarea-ios-h{--highlight-color-focused:var(--ion-color-base);background:initial}ion-item.sc-ion-textarea-ios-h,ion-item .sc-ion-textarea-ios-h{-ms-flex-item-align:baseline;align-self:baseline}ion-item[slot=start].sc-ion-textarea-ios-h,ion-item [slot=start].sc-ion-textarea-ios-h,ion-item[slot=end].sc-ion-textarea-ios-h,ion-item [slot=end].sc-ion-textarea-ios-h{width:auto}.native-textarea.sc-ion-textarea-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;white-space:pre-wrap;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.native-textarea.sc-ion-textarea-ios::-webkit-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::-moz-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios:-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios{color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.cloned-input.sc-ion-textarea-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-textarea-ios{inset-inline-start:0}.cloned-input.sc-ion-textarea-ios:disabled{opacity:1}[auto-grow].sc-ion-textarea-ios-h .cloned-input.sc-ion-textarea-ios{height:100%}[auto-grow].sc-ion-textarea-ios-h .native-textarea.sc-ion-textarea-ios{overflow:hidden}.textarea-wrapper.sc-ion-textarea-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:0px;padding-bottom:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:start;align-items:flex-start;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-textarea-ios{position:relative;width:100%;height:100%}.has-focus.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{caret-color:var(--highlight-color)}.native-wrapper.sc-ion-textarea-ios textarea.sc-ion-textarea-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom)}.native-wrapper.sc-ion-textarea-ios{display:grid;min-width:inherit;max-width:inherit;min-height:inherit;max-height:inherit;grid-auto-rows:100%}.native-wrapper.sc-ion-textarea-ios::after{white-space:pre-wrap;content:attr(data-replicated-value) " ";visibility:hidden}.native-wrapper.sc-ion-textarea-ios::after{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.textarea-wrapper-inner.sc-ion-textarea-ios{display:-ms-flexbox;display:flex;width:100%;min-height:inherit}.ion-touched.ion-invalid.sc-ion-textarea-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-textarea-ios-h{--highlight-color:var(--highlight-color-valid)}.textarea-bottom.sc-ion-textarea-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-textarea-ios-h,.ion-touched.ion-invalid.sc-ion-textarea-ios-h{--border-color:var(--highlight-color)}.textarea-bottom.sc-ion-textarea-ios .error-text.sc-ion-textarea-ios{display:none;color:var(--highlight-color-invalid)}.textarea-bottom.sc-ion-textarea-ios .helper-text.sc-ion-textarea-ios{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-textarea-ios-h .textarea-bottom.sc-ion-textarea-ios .error-text.sc-ion-textarea-ios{display:block}.ion-touched.ion-invalid.sc-ion-textarea-ios-h .textarea-bottom.sc-ion-textarea-ios .helper-text.sc-ion-textarea-ios{display:none}.textarea-bottom.sc-ion-textarea-ios .counter.sc-ion-textarea-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.label-text-wrapper.sc-ion-textarea-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-textarea-ios,.sc-ion-textarea-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-textarea-ios,.textarea-outline-notch-hidden.sc-ion-textarea-ios{display:none}.textarea-wrapper.sc-ion-textarea-ios textarea.sc-ion-textarea-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.textarea-label-placement-start.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:row;flex-direction:row}.textarea-label-placement-start.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-end.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.textarea-label-placement-end.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-ios-h .label-text.sc-ion-textarea-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.textarea-label-placement-stacked.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:left top;transform-origin:left top;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;max-width:100%;z-index:2}[dir=rtl].sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-label-placement-stacked.sc-ion-textarea-ios-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-label-placement-stacked.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-ios-h .native-wrapper.sc-ion-textarea-ios::after,.textarea-label-placement-floating[auto-grow].sc-ion-textarea-ios-h .native-wrapper.sc-ion-textarea-ios::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:8px;margin-bottom:0px}.sc-ion-textarea-ios-h.textarea-label-placement-stacked.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-stacked .sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-stacked.sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-stacked .sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-floating.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-floating .sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-floating.sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-floating .sc-ion-textarea-ios-s>[slot=end]{margin-top:8px}.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{opacity:0}.has-focus.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.has-value.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{opacity:1}.label-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.start-slot-wrapper.sc-ion-textarea-ios,.end-slot-wrapper.sc-ion-textarea-ios{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:start}.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-s>[slot=end]{margin-top:0}.sc-ion-textarea-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-textarea-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-textarea-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--padding-top:10px;--padding-end:0px;--padding-bottom:8px;--padding-start:0px;--highlight-height:0px;font-size:inherit}.textarea-disabled.sc-ion-textarea-ios-h{opacity:0.3}.sc-ion-textarea-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-textarea-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}',pj=fj,mj='.sc-ion-textarea-md-h{--background:initial;--color:initial;--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0;--padding-end:0;--padding-bottom:8px;--padding-start:0;--border-radius:0;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}.textarea-label-placement-floating.sc-ion-textarea-md-h,.textarea-label-placement-stacked.sc-ion-textarea-md-h{--padding-top:0px;min-height:56px}[cols].sc-ion-textarea-md-h:not([auto-grow]){width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.ion-color.sc-ion-textarea-md-h{--highlight-color-focused:var(--ion-color-base);background:initial}ion-item.sc-ion-textarea-md-h,ion-item .sc-ion-textarea-md-h{-ms-flex-item-align:baseline;align-self:baseline}ion-item[slot=start].sc-ion-textarea-md-h,ion-item [slot=start].sc-ion-textarea-md-h,ion-item[slot=end].sc-ion-textarea-md-h,ion-item [slot=end].sc-ion-textarea-md-h{width:auto}.native-textarea.sc-ion-textarea-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;white-space:pre-wrap;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.native-textarea.sc-ion-textarea-md::-webkit-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::-moz-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md:-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md{color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.cloned-input.sc-ion-textarea-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-textarea-md{inset-inline-start:0}.cloned-input.sc-ion-textarea-md:disabled{opacity:1}[auto-grow].sc-ion-textarea-md-h .cloned-input.sc-ion-textarea-md{height:100%}[auto-grow].sc-ion-textarea-md-h .native-textarea.sc-ion-textarea-md{overflow:hidden}.textarea-wrapper.sc-ion-textarea-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:0px;padding-bottom:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:start;align-items:flex-start;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-textarea-md{position:relative;width:100%;height:100%}.has-focus.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{caret-color:var(--highlight-color)}.native-wrapper.sc-ion-textarea-md textarea.sc-ion-textarea-md{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom)}.native-wrapper.sc-ion-textarea-md{display:grid;min-width:inherit;max-width:inherit;min-height:inherit;max-height:inherit;grid-auto-rows:100%}.native-wrapper.sc-ion-textarea-md::after{white-space:pre-wrap;content:attr(data-replicated-value) " ";visibility:hidden}.native-wrapper.sc-ion-textarea-md::after{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.textarea-wrapper-inner.sc-ion-textarea-md{display:-ms-flexbox;display:flex;width:100%;min-height:inherit}.ion-touched.ion-invalid.sc-ion-textarea-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-textarea-md-h{--highlight-color:var(--highlight-color-valid)}.textarea-bottom.sc-ion-textarea-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-textarea-md-h,.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}.textarea-bottom.sc-ion-textarea-md .error-text.sc-ion-textarea-md{display:none;color:var(--highlight-color-invalid)}.textarea-bottom.sc-ion-textarea-md .helper-text.sc-ion-textarea-md{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md .error-text.sc-ion-textarea-md{display:block}.ion-touched.ion-invalid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md .helper-text.sc-ion-textarea-md{display:none}.textarea-bottom.sc-ion-textarea-md .counter.sc-ion-textarea-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.label-text-wrapper.sc-ion-textarea-md{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-textarea-md,.sc-ion-textarea-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-textarea-md,.textarea-outline-notch-hidden.sc-ion-textarea-md{display:none}.textarea-wrapper.sc-ion-textarea-md textarea.sc-ion-textarea-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.textarea-label-placement-start.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:row;flex-direction:row}.textarea-label-placement-start.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-end.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.textarea-label-placement-end.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-md-h .label-text.sc-ion-textarea-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.textarea-label-placement-stacked.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:left top;transform-origin:left top;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;max-width:100%;z-index:2}[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-label-placement-stacked.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-label-placement-stacked.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after,.textarea-label-placement-floating[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:8px;margin-bottom:0px}.sc-ion-textarea-md-h.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=end]{margin-top:8px}.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{opacity:0}.has-focus.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.has-value.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{opacity:1}.label-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.start-slot-wrapper.sc-ion-textarea-md,.end-slot-wrapper.sc-ion-textarea-md{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:start}.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-s>[slot=end]{margin-top:0}.sc-ion-textarea-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-textarea-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.textarea-fill-solid.sc-ion-textarea-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.textarea-fill-solid.ion-valid.sc-ion-textarea-md-h,.textarea-fill-solid.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md{border-top:none}@media (any-hover: hover){.textarea-fill-solid.sc-ion-textarea-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.textarea-fill-solid.has-focus.sc-ion-textarea-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.textarea-fill-solid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{max-width:calc(100% / 0.75)}.textarea-fill-outline.sc-ion-textarea-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.textarea-fill-outline.textarea-shape-round.sc-ion-textarea-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.textarea-fill-outline.ion-valid.sc-ion-textarea-md-h,.textarea-fill-outline.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.textarea-fill-outline.sc-ion-textarea-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.textarea-fill-outline.has-focus.sc-ion-textarea-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md{border-top:none}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-bottom:none}.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-fill-outline.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{position:relative}.label-floating.textarea-fill-outline.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc(\n    (100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75\n  )}.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after,.textarea-fill-outline.textarea-label-placement-floating[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:12px;margin-bottom:0px}.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=end]{margin-top:12px}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-container.sc-ion-textarea-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{pointer-events:none}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.textarea-fill-outline.sc-ion-textarea-md-h .notch-spacer.sc-ion-textarea-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md{border-top:none}.sc-ion-textarea-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--padding-top:18px;--padding-end:0px;--padding-bottom:8px;--padding-start:0px;--highlight-height:2px;font-size:inherit}.textarea-bottom.sc-ion-textarea-md .counter.sc-ion-textarea-md{letter-spacing:0.0333333333em}.textarea-label-placement-floating.has-focus.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-stacked.has-focus.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{color:var(--highlight-color)}.has-focus.textarea-label-placement-floating.ion-valid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.ion-touched.ion-invalid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.has-focus.textarea-label-placement-stacked.ion-valid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-stacked.ion-touched.ion-invalid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{color:var(--highlight-color)}.textarea-disabled.sc-ion-textarea-md-h{opacity:0.38}.textarea-highlight.sc-ion-textarea-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.textarea-highlight.sc-ion-textarea-md{inset-inline-start:0}.has-focus.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{bottom:0}.in-item.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{inset-inline-start:0}.textarea-shape-round.sc-ion-textarea-md-h{--border-radius:16px}.sc-ion-textarea-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-textarea-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}',gj=mj,bj=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.ionChange=ae(this,"ionChange",7),this.ionInput=ae(this,"ionInput",7),this.ionBlur=ae(this,"ionBlur",7),this.ionFocus=ae(this,"ionFocus",7),this.inputId="ion-textarea-".concat(vj++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.didTextareaClearOnEdit=!1,this.inheritedAttributes={},this.onInput=e=>{const t=e.target;t&&(this.value=t.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didTextareaClearOnEdit=!1,this.ionBlur.emit(e)},this.onKeyDown=e=>{this.checkClearOnEdit(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="none",this.autofocus=!1,this.clearOnEdit=!1,this.debounce=void 0,this.disabled=!1,this.fill=void 0,this.inputmode=void 0,this.enterkeyhint=void 0,this.maxlength=void 0,this.minlength=void 0,this.name=this.inputId,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.spellcheck=!1,this.cols=void 0,this.rows=void 0,this.wrap=void 0,this.autoGrow=!1,this.value="",this.counter=!1,this.counterFormatter=void 0,this.errorText=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.shape=void 0}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:r}=this;this.ionInput=t===void 0?r!=null?r:e:Fp(e,t)}valueChanged(){const e=this.nativeInput,t=this.getValue();e&&e.value!==t&&(e.value=t),this.runAutoGrow()}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),Sn(this)}onClickCapture(e){const t=this.nativeInput;t&&e.target===t&&(e.stopPropagation(),this.el.click())}connectedCallback(){const{el:e}=this;this.slotMutationController=CS(e,["label","start","end"],()=>Sn(this)),this.notchController=Qx(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:e}))}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},vi(this.el)),qi(this.el,["data-form-type","title","tabindex","dir"]))}componentDidLoad(){this.originalIonInput=this.ionInput,this.runAutoGrow()}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>gi(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:t}=this,r=t==null?t:t.toString();this.focusedValue=r,this.ionChange.emit({value:r,event:e})}emitInputChange(e){const{value:t}=this;this.ionInput.emit({value:t,event:e})}runAutoGrow(){this.nativeInput&&this.autoGrow&&or(()=>{var e;this.textareaWrapper&&(this.textareaWrapper.dataset.replicatedValue=(e=this.value)!==null&&e!==void 0?e:"")})}checkClearOnEdit(e){if(!this.clearOnEdit)return;const r=["Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didTextareaClearOnEdit&&this.hasValue()&&!r&&(this.value="",this.emitInputChange(e)),r||(this.didTextareaClearOnEdit=!0)}hasValue(){return this.getValue()!==""}getValue(){return this.value||""}renderLabel(){const{label:e}=this;return D("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?D("slot",{name:"label"}):D("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return pe(this)==="md"&&this.fill==="outline"?[D("div",{class:"textarea-outline-container"},D("div",{class:"textarea-outline-start"}),D("div",{class:{"textarea-outline-notch":!0,"textarea-outline-notch-hidden":!this.hasLabel}},D("div",{class:"notch-spacer","aria-hidden":"true",ref:r=>this.notchSpacerEl=r},this.label)),D("div",{class:"textarea-outline-end"})),this.renderLabel()]:this.renderLabel()}renderHintText(){const{helperText:e,errorText:t,helperTextId:r,errorTextId:i}=this;return[D("div",{id:r,class:"helper-text"},e),D("div",{id:i,class:"error-text"},t)]}getHintTextID(){const{el:e,helperText:t,errorText:r,helperTextId:i,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&r)return o;if(t)return i}renderCounter(){const{counter:e,maxlength:t,counterFormatter:r,value:i}=this;if(!(e!==!0||t===void 0))return D("div",{class:"counter"},ES(i,t,r))}renderBottomContent(){const{counter:e,helperText:t,errorText:r,maxlength:i}=this;if(!(!(t||r)&&!(e===!0&&i!==void 0)))return D("div",{class:"textarea-bottom"},this.renderHintText(),this.renderCounter())}render(){const{inputId:e,disabled:t,fill:r,shape:i,labelPlacement:o,el:a,hasFocus:s}=this,l=pe(this),c=this.getValue(),u=Ot("ion-item",this.el),d=l==="md"&&r!=="outline"&&!u,h=this.hasValue(),f=a.querySelector('[slot="start"], [slot="end"]')!==null,p=o==="stacked"||o==="floating"&&(h||s||f);return D(Pe,{key:"f53b9060248d885b0b8639401871e52017e497db",class:mt(this.color,{[l]:!0,"has-value":h,"has-focus":s,"label-floating":p,["textarea-fill-".concat(r)]:r!==void 0,["textarea-shape-".concat(i)]:i!==void 0,["textarea-label-placement-".concat(o)]:!0,"textarea-disabled":t})},D("label",{key:"3bc32a0799d1dd7253eb5a963877964de620ccd0",class:"textarea-wrapper",htmlFor:e},this.renderLabelContainer(),D("div",{key:"f5302723f4561b179b249cb28f5a31223c5c4394",class:"textarea-wrapper-inner"},D("div",{key:"75b85c5bd85af72a41da3310f10877a654397eaf",class:"start-slot-wrapper"},D("slot",{key:"7adc67b4c2917d20c35eecc11a5530e93bc581ea",name:"start"})),D("div",{key:"35cbeca046ec7a40bcbcbc4a70eb83628350ba54",class:"native-wrapper",ref:m=>this.textareaWrapper=m},D("textarea",Object.assign({key:"e3496262d163b70558a0188abdf322cbd8b44dfd",class:"native-textarea",ref:m=>this.nativeInput=m,id:e,disabled:t,autoCapitalize:this.autocapitalize,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,minLength:this.minlength,maxLength:this.maxlength,name:this.name,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,cols:this.cols,rows:this.rows,wrap:this.wrap,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeyDown,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes),c)),D("div",{key:"f274576d2e0bb6dace2ec36c362cb68ecfcd2c69",class:"end-slot-wrapper"},D("slot",{key:"70c881103410e74b3a3ffda4cc889be66f89bf20",name:"end"}))),d&&D("div",{key:"cf33a473dfb637d284acc2b62ca59c2839ee1104",class:"textarea-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],value:["valueChanged"],dir:["onDirChanged"]}}static get style(){return{ios:pj,md:gj}}},[38,"ion-textarea",{color:[513],autocapitalize:[1],autofocus:[4],clearOnEdit:[4,"clear-on-edit"],debounce:[2],disabled:[4],fill:[1],inputmode:[1],enterkeyhint:[1],maxlength:[2],minlength:[2],name:[1],placeholder:[1],readonly:[4],required:[4],spellcheck:[4],cols:[514],rows:[2],wrap:[1],autoGrow:[516,"auto-grow"],value:[1025],counter:[4],counterFormatter:[16],errorText:[1,"error-text"],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],shape:[1],hasFocus:[32],setFocus:[64],getInputElement:[64]},[[2,"click","onClickCapture"]],{debounce:["debounceChanged"],value:["valueChanged"],dir:["onDirChanged"]}]);let vj=0;function xj(){if(typeof customElements>"u")return;["ion-textarea"].forEach(e=>{switch(e){case"ion-textarea":customElements.get(e)||customElements.define(e,bj);break}})}const yj=xj;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wj=":host{--size:48px;--border-radius:0;border-radius:var(--border-radius);display:block;width:var(--size);height:var(--size)}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}",kj=wj,_j=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return D(Pe,{key:"7f5fd6c056da2d82feb2c3c33f3e6dec898787f5",class:pe(this)},D("slot",{key:"d15fd2b6cdc03777edc1930be95ad838e1b376c8"}))}static get style(){return kj}},[1,"ion-thumbnail"]);function Cj(){if(typeof customElements>"u")return;["ion-thumbnail"].forEach(e=>{switch(e){case"ion-thumbnail":customElements.get(e)||customElements.define(e,_j);break}})}const Ej=Cj;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Sj=cy,Tj=":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;max-width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}input{display:none}.toggle-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.toggle-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.toggle-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.toggle-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.toggle-label-placement-stacked) .toggle-bottom{font-size:1rem}.toggle-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.toggle-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .toggle-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .toggle-bottom .helper-text{display:none}:host(.toggle-label-placement-start) .toggle-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.toggle-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-end) .toggle-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.toggle-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.toggle-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.toggle-label-placement-stacked) .toggle-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.toggle-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.toggle-justify-space-between) .toggle-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.toggle-justify-start) .toggle-wrapper{-ms-flex-pack:start;justify-content:start}:host(.toggle-justify-end) .toggle-wrapper{-ms-flex-pack:end;justify-content:end}:host(.toggle-alignment-start) .toggle-wrapper{-ms-flex-align:start;align-items:start}:host(.toggle-alignment-center) .toggle-wrapper{-ms-flex-align:center;align-items:center}:host(.toggle-justify-space-between),:host(.toggle-justify-start),:host(.toggle-justify-end),:host(.toggle-alignment-start),:host(.toggle-alignment-center){display:block}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--track-background);overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--track-background-checked)}.toggle-inner{border-radius:var(--handle-border-radius);position:absolute;left:var(--handle-spacing);width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}:host(.toggle-ltr) .toggle-inner{left:var(--handle-spacing)}:host(.toggle-rtl) .toggle-inner{right:var(--handle-spacing)}:host(.toggle-ltr.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{background:var(--handle-background-checked)}:host(.toggle-ltr.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--track-background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.088);--track-background-checked:var(--ion-color-primary, #0054e9);--border-radius:15.5px;--handle-background:#ffffff;--handle-background-checked:#ffffff;--handle-border-radius:25.5px;--handle-box-shadow:0 3px 4px rgba(0, 0, 0, 0.06), 0 3px 8px rgba(0, 0, 0, 0.06);--handle-height:calc(31px - (2px * 2));--handle-max-height:calc(100% - var(--handle-spacing) * 2);--handle-width:calc(31px - (2px * 2));--handle-spacing:2px;--handle-transition:transform 300ms, width 120ms ease-in-out 80ms, left 110ms ease-in-out 80ms, right 110ms ease-in-out 80ms}.native-wrapper .toggle-icon{width:51px;height:31px;overflow:hidden}:host(.ion-color.toggle-checked) .toggle-icon{background:var(--ion-color-base)}:host(.toggle-activated) .toggle-switch-icon{opacity:0}.toggle-icon{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);-webkit-transition:background-color 300ms;transition:background-color 300ms}.toggle-inner{will-change:transform}.toggle-switch-icon{position:absolute;top:50%;width:11px;height:11px;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:opacity 300ms, color 300ms;transition:opacity 300ms, color 300ms}.toggle-switch-icon{position:absolute;color:var(--ion-color-dark, #222428)}:host(.toggle-ltr) .toggle-switch-icon{right:6px}:host(.toggle-rtl) .toggle-switch-icon{right:initial;left:6px;}:host(.toggle-checked) .toggle-switch-icon.toggle-switch-icon-checked{color:var(--ion-color-contrast, #fff)}:host(.toggle-checked) .toggle-switch-icon:not(.toggle-switch-icon-checked){opacity:0}.toggle-switch-icon-checked{position:absolute;width:15px;height:15px;-webkit-transform:translateY(-50%) rotate(90deg);transform:translateY(-50%) rotate(90deg)}:host(.toggle-ltr) .toggle-switch-icon-checked{right:initial;left:4px;}:host(.toggle-rtl) .toggle-switch-icon-checked{right:4px}:host(.toggle-activated) .toggle-icon::before,:host(.toggle-checked) .toggle-icon::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated.toggle-checked) .toggle-inner::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated) .toggle-inner{width:calc(var(--handle-width) + 6px)}:host(.toggle-ltr.toggle-activated.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0);transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0)}:host(.toggle-rtl.toggle-activated.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0);transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0)}:host(.toggle-disabled){opacity:0.3}",Aj=Tj,Ij=":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;max-width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}input{display:none}.toggle-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.toggle-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.toggle-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.toggle-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.toggle-label-placement-stacked) .toggle-bottom{font-size:1rem}.toggle-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.toggle-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .toggle-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .toggle-bottom .helper-text{display:none}:host(.toggle-label-placement-start) .toggle-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.toggle-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-end) .toggle-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.toggle-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.toggle-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.toggle-label-placement-stacked) .toggle-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.toggle-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.toggle-justify-space-between) .toggle-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.toggle-justify-start) .toggle-wrapper{-ms-flex-pack:start;justify-content:start}:host(.toggle-justify-end) .toggle-wrapper{-ms-flex-pack:end;justify-content:end}:host(.toggle-alignment-start) .toggle-wrapper{-ms-flex-align:start;align-items:start}:host(.toggle-alignment-center) .toggle-wrapper{-ms-flex-align:center;align-items:center}:host(.toggle-justify-space-between),:host(.toggle-justify-start),:host(.toggle-justify-end),:host(.toggle-alignment-start),:host(.toggle-alignment-center){display:block}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--track-background);overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--track-background-checked)}.toggle-inner{border-radius:var(--handle-border-radius);position:absolute;left:var(--handle-spacing);width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}:host(.toggle-ltr) .toggle-inner{left:var(--handle-spacing)}:host(.toggle-rtl) .toggle-inner{right:var(--handle-spacing)}:host(.toggle-ltr.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{background:var(--handle-background-checked)}:host(.toggle-ltr.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--track-background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.39);--track-background-checked:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.5);--border-radius:14px;--handle-background:#ffffff;--handle-background-checked:var(--ion-color-primary, #0054e9);--handle-border-radius:50%;--handle-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);--handle-width:20px;--handle-height:20px;--handle-max-height:calc(100% + 6px);--handle-spacing:0;--handle-transition:transform 160ms cubic-bezier(0.4, 0, 0.2, 1), background-color 160ms cubic-bezier(0.4, 0, 0.2, 1)}.native-wrapper .toggle-icon{width:36px;height:14px}:host(.ion-color.toggle-checked) .toggle-icon{background:rgba(var(--ion-color-base-rgb), 0.5)}:host(.ion-color.toggle-checked) .toggle-inner{background:var(--ion-color-base)}:host(.toggle-checked) .toggle-inner{color:var(--ion-color-contrast, #fff)}.toggle-icon{-webkit-transition:background-color 160ms;transition:background-color 160ms}.toggle-inner{will-change:background-color, transform;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;color:#000}.toggle-inner .toggle-switch-icon{-webkit-padding-start:1px;padding-inline-start:1px;-webkit-padding-end:1px;padding-inline-end:1px;padding-top:1px;padding-bottom:1px;width:100%;height:100%}:host(.toggle-disabled){opacity:0.38}",Rj=Ij,Dj=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ae(this,"ionChange",7),this.ionFocus=ae(this,"ionFocus",7),this.ionBlur=ae(this,"ionBlur",7),this.inputId="ion-tg-".concat(Mj++),this.inputLabelId="".concat(this.inputId,"-lbl"),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.lastDrag=0,this.inheritedAttributes={},this.didLoad=!1,this.setupGesture=async()=>{const{toggleTrack:e}=this;e&&(this.gesture=(await Xt(()=>Promise.resolve().then(()=>Fx),void 0)).createGesture({el:e,gestureName:"toggle",gesturePriority:100,threshold:5,passive:!1,onStart:()=>this.onStart(),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.disabledChanged())},this.onKeyDown=e=>{e.key===" "&&(e.preventDefault(),this.disabled||this.toggleChecked())},this.onClick=e=>{this.disabled||(e.preventDefault(),this.lastDrag+300<Date.now()&&this.toggleChecked())},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.getSwitchLabelIcon=(e,t)=>e==="md"?t?f9:V2:t?V2:g9,this.activated=!1,this.color=void 0,this.name=this.inputId,this.checked=!1,this.disabled=!1,this.errorText=void 0,this.helperText=void 0,this.value="on",this.enableOnOffLabels=ze.get("toggleOnOffLabels"),this.labelPlacement="start",this.justify=void 0,this.alignment=void 0,this.required=!1}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}toggleChecked(){const{checked:e,value:t}=this,r=!e;this.checked=r,this.setFocus(),this.ionChange.emit({checked:r,value:t})}async connectedCallback(){this.didLoad&&this.setupGesture()}componentDidLoad(){this.setupGesture(),this.didLoad=!0}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentWillLoad(){this.inheritedAttributes=Object.assign({},vi(this.el))}onStart(){this.activated=!0,this.setFocus()}onMove(e){Oj(wo(this.el),this.checked,e.deltaX,-10)&&(this.toggleChecked(),fM())}onEnd(e){this.activated=!1,this.lastDrag=Date.now(),e.event.preventDefault(),e.event.stopImmediatePropagation()}getValue(){return this.value||""}setFocus(){this.focusEl&&this.focusEl.focus()}renderOnOffSwitchLabels(e,t){const r=this.getSwitchLabelIcon(e,t);return D("ion-icon",{class:{"toggle-switch-icon":!0,"toggle-switch-icon-checked":t},icon:r,"aria-hidden":"true"})}renderToggleControl(){const e=pe(this),{enableOnOffLabels:t,checked:r}=this;return D("div",{class:"toggle-icon",part:"track",ref:i=>this.toggleTrack=i},t&&e==="ios"&&[this.renderOnOffSwitchLabels(e,!0),this.renderOnOffSwitchLabels(e,!1)],D("div",{class:"toggle-icon-wrapper"},D("div",{class:"toggle-inner",part:"handle"},t&&e==="md"&&this.renderOnOffSwitchLabels(e,r))))}get hasLabel(){return this.el.textContent!==""}getHintTextID(){const{el:e,helperText:t,errorText:r,helperTextId:i,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&r)return o;if(t)return i}renderHintText(){const{helperText:e,errorText:t,helperTextId:r,errorTextId:i}=this;if(e||t)return D("div",{class:"toggle-bottom"},D("div",{id:r,class:"helper-text",part:"supporting-text helper-text"},e),D("div",{id:i,class:"error-text",part:"supporting-text error-text"},t))}render(){const{activated:e,alignment:t,checked:r,color:i,disabled:o,el:a,errorTextId:s,hasLabel:l,inheritedAttributes:c,inputId:u,inputLabelId:d,justify:h,labelPlacement:f,name:p,required:m}=this,b=pe(this),g=this.getValue(),v=wo(a)?"rtl":"ltr";return xd(!0,a,p,r?g:"",o),D(Pe,{key:"63c67d52dc47661c5758049f6278e873ab867a22",role:"switch","aria-checked":"".concat(r),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===s,onClick:this.onClick,"aria-labelledby":l?d:null,"aria-label":c["aria-label"]||null,"aria-disabled":o?"true":null,tabindex:o?void 0:0,onKeyDown:this.onKeyDown,class:mt(i,{[b]:!0,"in-item":Ot("ion-item",a),"toggle-activated":e,"toggle-checked":r,"toggle-disabled":o,["toggle-justify-".concat(h)]:h!==void 0,["toggle-alignment-".concat(t)]:t!==void 0,["toggle-label-placement-".concat(f)]:!0,["toggle-".concat(v)]:!0})},D("label",{key:"723cfac071ee5ec5c75984fc64762209452e9eea",class:"toggle-wrapper",htmlFor:u},D("input",Object.assign({key:"8fa79f49348afbce5e083d454b751f7f9cc04d3f",type:"checkbox",role:"switch","aria-checked":"".concat(r),checked:r,disabled:o,id:u,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:x=>this.focusEl=x,required:m},c)),D("div",{key:"00a4415539ef677be9f6981afddcec61f7fe9487",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!l},part:"label",id:d},D("slot",{key:"7ce338bd5116337c9ea90805fdee7285ef7c5811"}),this.renderHintText()),D("div",{key:"ecb5dfd2c7b534e357cba272dd4f189728555b3a",class:"native-wrapper"},this.renderToggleControl())))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:Aj,md:Rj}}},[33,"ion-toggle",{color:[513],name:[1],checked:[1028],disabled:[4],errorText:[1,"error-text"],helperText:[1,"helper-text"],value:[1],enableOnOffLabels:[4,"enable-on-off-labels"],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],required:[4],activated:[32]},void 0,{disabled:["disabledChanged"]}]),Oj=(n,e,t,r)=>e?!n&&r>t||n&&10<t:!n&&10<t||n&&r>t;let Mj=0;function Pj(){if(typeof customElements>"u")return;["ion-toggle","ion-icon"].forEach(e=>{switch(e){case"ion-toggle":customElements.get(e)||customElements.define(e,Dj);break;case"ion-icon":customElements.get(e)||Jr();break}})}const Bj=Pj;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zj=uy;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Lj=dS;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jj=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))));-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:24px;margin-bottom:24px;border-radius:8px;-webkit-transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1), -webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);font-size:0.875rem;-webkit-box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);box-shadow:0 4px 16px rgba(0, 0, 0, 0.12)}:host(.ion-activated){-webkit-transform:scale3d(0.97, 0.97, 1);transform:scale3d(0.97, 0.97, 1)}",Nj=jj,Fj=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))));-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:10px;margin-bottom:10px;border-radius:4px;font-size:0.875rem;-webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}",$j=Fj,Uj=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAriaAttributes={},this.color=void 0,this.button=!1,this.type="button",this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.target=void 0}componentWillLoad(){this.inheritedAriaAttributes=qi(this.el,["aria-label"])}isClickable(){return this.href!==void 0||this.button}renderCard(e){const t=this.isClickable();if(!t)return[D("slot",null)];const{href:r,routerAnimation:i,routerDirection:o,inheritedAriaAttributes:a}=this,s=t?r===void 0?"button":"a":"div",l=s==="button"?{type:this.type}:{download:this.download,href:this.href,rel:this.rel,target:this.target};return D(s,Object.assign({},l,a,{class:"card-native",part:"native",disabled:this.disabled,onClick:c=>Up(r,c,o,i)}),D("slot",null),t&&e==="md"&&D("ion-ripple-effect",null))}render(){const e=pe(this);return D(Pe,{key:"85e9b30bd81e79a0c7ac75cb3664bdcf9e4afc4d",class:mt(this.color,{[e]:!0,"card-disabled":this.disabled,"ion-activatable":this.isClickable()})},this.renderCard(e))}get el(){return this}static get style(){return{ios:Nj,md:$j}}},[33,"ion-card",{color:[513],button:[4],type:[1],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1]}]),Hj=Uj;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Wj=MS;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vj=OS;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qj=n=>{const e=me(),t=me(),r=me();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(n.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,r])},Gj=n=>{const e=me(),t=me(),r=me();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(n.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,r])},Kj=n=>{const e=me(),t=me(),r=me();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(n.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,r])},Yj=n=>{const e=me(),t=me(),r=me();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(n.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,r])},Xj=".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:0.875rem}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{-webkit-margin-start:16px;margin-inline-start:16px}",Zj=Xj,Jj=".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #0054e9);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:0.875rem}.loading-wrapper.sc-ion-loading-md{border-radius:2px;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{-webkit-margin-start:16px;margin-inline-start:16px}",Qj=Jj,eN=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.didPresent=ae(this,"ionLoadingDidPresent",7),this.willPresent=ae(this,"ionLoadingWillPresent",7),this.willDismiss=ae(this,"ionLoadingWillDismiss",7),this.didDismiss=ae(this,"ionLoadingDidDismiss",7),this.didPresentShorthand=ae(this,"didPresent",7),this.willPresentShorthand=ae(this,"willPresent",7),this.willDismissShorthand=ae(this,"willDismiss",7),this.didDismissShorthand=ae(this,"didDismiss",7),this.delegateController=Wp(this),this.lockController=Ms(),this.triggerController=Cd(),this.customHTMLEnabled=ze.get("innerHTMLTemplatesEnabled",Hx),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Ui)},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.message=void 0,this.cssClass=void 0,this.duration=0,this.backdropDismiss=!1,this.showBackdrop=!0,this.spinner=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:r}=this;e&&r.addClickListener(t,e)}connectedCallback(){xc(this.el),this.triggerChanged()}componentWillLoad(){var e;if(this.spinner===void 0){const t=pe(this);this.spinner=ze.get("loadingSpinner",ze.get("spinner",t==="ios"?"lines":"crescent"))}!((e=this.htmlAttributes)===null||e===void 0)&&e.id||yc(this.el)}componentDidLoad(){this.isOpen===!0&&tn(()=>this.present()),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await wc(this,"loadingEnter",qj,Kj),this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(),this.duration+10)),e()}async dismiss(e,t){const r=await this.lockController.lock();this.durationTimeout&&clearTimeout(this.durationTimeout);const i=await kc(this,e,t,"loadingLeave",Gj,Yj);return i&&this.delegateController.removeViewFromDom(),r(),i}onDidDismiss(){return Zr(this.el,"ionLoadingDidDismiss")}onWillDismiss(){return Zr(this.el,"ionLoadingWillDismiss")}renderLoadingMessage(e){const{customHTMLEnabled:t,message:r}=this;return t?D("div",{class:"loading-content",id:e,innerHTML:Ux(r)}):D("div",{class:"loading-content",id:e},r)}render(){const{message:e,spinner:t,htmlAttributes:r,overlayIndex:i}=this,o=pe(this),a="loading-".concat(i,"-msg");return D(Pe,Object.assign({key:"d6066c8b56b1fe4b597a243a7dab191ef0d21286",role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?a:null,tabindex:"-1"},r,{style:{zIndex:"".concat(4e4+this.overlayIndex)},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},Nn(this.cssClass)),{[o]:!0,"overlay-hidden":!0,"loading-translucent":this.translucent})}),D("ion-backdrop",{key:"2431eda00a2a3f510f5dfc39b7c7d47c056dfa3d",visible:this.showBackdrop,tappable:this.backdropDismiss}),D("div",{key:"cf210aaf5e754e4eccdb49cf7ead4647b3f9b2d1",tabindex:"0","aria-hidden":"true"}),D("div",{key:"fa9375143d391656d70e181d25b952c77c2fc6ec",class:"loading-wrapper ion-overlay-wrapper"},t&&D("div",{key:"8e4a4ed994f7f62df86b03696ac95162df41f52d",class:"loading-spinner"},D("ion-spinner",{key:"e5b323c272d365853ba92bd211e390b4fd4751d2",name:t,"aria-hidden":"true"})),e!==void 0&&this.renderLoadingMessage(a)),D("div",{key:"cae35ec8c34800477bff3ebcec8010e632158233",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:Zj,md:Qj}}},[34,"ion-loading",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],message:[1],cssClass:[1,"css-class"],duration:[2],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],spinner:[1025],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]);function tN(){if(typeof customElements>"u")return;["ion-loading","ion-backdrop","ion-spinner"].forEach(e=>{switch(e){case"ion-loading":customElements.get(e)||customElements.define(e,eN);break;case"ion-backdrop":customElements.get(e)||Os();break;case"ion-spinner":customElements.get(e)||_S();break}})}const nN=tN;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */function rN(n,e,t,r){let i;if(t==="md"?i=n==="top"?8:-8:i=n==="top"?10:-10,e&&dt){iN(e,r);const o=e.getBoundingClientRect();return n==="top"?i+=o.bottom:n==="bottom"&&(i-=dt.innerHeight-o.top),{top:"".concat(i,"px"),bottom:"".concat(i,"px")}}else return{top:"calc(".concat(i,"px + var(--ion-safe-area-top, 0px))"),bottom:"calc(".concat(i,"px - var(--ion-safe-area-bottom, 0px))")}}function iN(n,e){n.offsetParent===null&&yt("[ion-toast] - The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",e)}const dy=(n,e)=>Math.floor(n/2-e/2),oN=(n,e)=>{const t=me(),r=me(),{position:i,top:o,bottom:a}=e,l=Lt(n).querySelector(".toast-wrapper");switch(r.addElement(l),i){case"top":r.fromTo("transform","translateY(-100%)","translateY(".concat(o,")"));break;case"middle":const c=dy(n.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),r.fromTo("opacity",.01,1);break;default:r.fromTo("transform","translateY(100%)","translateY(".concat(a,")"));break}return t.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(r)},aN=(n,e)=>{const t=me(),r=me(),{position:i,top:o,bottom:a}=e,l=Lt(n).querySelector(".toast-wrapper");switch(r.addElement(l),i){case"top":r.fromTo("transform","translateY(".concat(o,")"),"translateY(-100%)");break;case"middle":r.fromTo("opacity",.99,0);break;default:r.fromTo("transform","translateY(".concat(a,")"),"translateY(100%)");break}return t.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(r)},sN=(n,e)=>{const t=me(),r=me(),{position:i,top:o,bottom:a}=e,l=Lt(n).querySelector(".toast-wrapper");switch(r.addElement(l),i){case"top":l.style.setProperty("transform","translateY(".concat(o,")")),r.fromTo("opacity",.01,1);break;case"middle":const c=dy(n.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),r.fromTo("opacity",.01,1);break;default:l.style.setProperty("transform","translateY(".concat(a,")")),r.fromTo("opacity",.01,1);break}return t.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(r)},lN=n=>{const e=me(),t=me(),i=Lt(n).querySelector(".toast-wrapper");return t.addElement(i).fromTo("opacity",.99,0),e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(t)},cN=(n,e,t)=>{const r=Lt(n).querySelector(".toast-wrapper"),i=n.clientHeight,o=r.getBoundingClientRect();let a=0;const s=.5,l=n.position==="middle"?.5:0,c=n.position==="top"?-1:1,u=dy(i,o.height),d=[{offset:0,transform:"translateY(-".concat(u+o.height,"px)")},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:"translateY(".concat(u+o.height,"px)")}],h=me("toast-swipe-to-dismiss-animation").addElement(r).duration(100);switch(n.position){case"middle":a=i+o.height,h.keyframes(d),h.progressStart(!0,.5);break;case"top":a=o.bottom,h.keyframes([{offset:0,transform:"translateY(".concat(e.top,")")},{offset:1,transform:"translateY(-100%)"}]),h.progressStart(!0,0);break;case"bottom":default:a=i-o.top,h.keyframes([{offset:0,transform:"translateY(".concat(e.bottom,")")},{offset:1,transform:"translateY(100%)"}]),h.progressStart(!0,0);break}const f=g=>g*c/a,b=yd({el:r,gestureName:"toast-swipe-to-dismiss",gesturePriority:rS,direction:"y",onMove:g=>{const v=l+f(g.deltaY);h.progressStep(v)},onEnd:g=>{const v=g.velocityY,x=(g.deltaY+v*1e3)/a*c;b.enable(!1);let y=!0,w=1,k=0,_=0;if(n.position==="middle"){y=x>=s/2||x<=-.5/2,w=1,k=0;const E=r.getBoundingClientRect(),A=E.top-u,M="".concat(A,"px"),I=g.deltaY<=0?-1:1,L=(u+E.height)*I,S=y?"".concat(L,"px"):"0px",O=[{offset:0,transform:"translateY(".concat(M,")")},{offset:1,transform:"translateY(".concat(S,")")}];h.keyframes(O),_=L-A}else y=x>=s,w=y?1:0,k=f(g.deltaY),_=(y?1-k:k)*a;const T=Math.min(Math.abs(_)/Math.abs(v),200);h.onFinish(()=>{y?(t(),h.destroy()):(n.position==="middle"?h.keyframes(d).progressStart(!0,.5):h.progressStart(!0,0),b.enable(!0))},{oneTimeCallback:!0}).progressEnd(w,k,T)}});return b},uN=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-radius:14px;--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",dN=uN,hN=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, var(--ion-background-color-step-800, #333333));--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-50, var(--ion-text-color-step-950, #f2f2f2));--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, var(--ion-text-color-step-900, #e6e6e6))}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}",fN=hN,pN=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ae(this,"ionToastDidPresent",7),this.willPresent=ae(this,"ionToastWillPresent",7),this.willDismiss=ae(this,"ionToastWillDismiss",7),this.didDismiss=ae(this,"ionToastDidDismiss",7),this.didPresentShorthand=ae(this,"didPresent",7),this.willPresentShorthand=ae(this,"willPresent",7),this.willDismissShorthand=ae(this,"willDismiss",7),this.didDismissShorthand=ae(this,"didDismiss",7),this.delegateController=Wp(this),this.lockController=Ms(),this.triggerController=Cd(),this.customHTMLEnabled=ze.get("innerHTMLTemplatesEnabled",Hx),this.presented=!1,this.dispatchCancelHandler=e=>{const t=e.detail.role;if(ws(t)){const r=this.getButtons().find(i=>i.role==="cancel");this.callButtonHandler(r)}},this.createSwipeGesture=e=>{(this.gesture=cN(this.el,e,()=>{this.dismiss(void 0,yo)})).enable(!0)},this.destroySwipeGesture=()=>{const{gesture:e}=this;e!==void 0&&(e.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:e}=this;return e==="vertical"},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=ze.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:r}=this;e&&r.addClickListener(t,e)}connectedCallback(){xc(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||yc(this.el)}componentDidLoad(){this.isOpen===!0&&tn(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:t,position:r}=this,i=this.getAnchorElement(),o=rN(r,i,pe(this),t);this.lastPresentedPosition=o,await wc(this,"toastEnter",oN,sN,{position:r,top:o.top,bottom:o.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(o),e()}async dismiss(e,t){var r,i;const o=await this.lockController.lock(),{durationTimeout:a,position:s,lastPresentedPosition:l}=this;a&&clearTimeout(a);const c=await kc(this,e,t,"toastLeave",aN,lN,{position:s,top:(r=l==null?void 0:l.top)!==null&&r!==void 0?r:"",bottom:(i=l==null?void 0:l.bottom)!==null&&i!==void 0?i:""});return c&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),o(),c}onDidDismiss(){return Zr(this.el,"ionToastDidDismiss")}onWillDismiss(){return Zr(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(t=>typeof t=="string"?{text:t}:t):[]}getAnchorElement(){const{position:e,positionAnchor:t,el:r}=this;if(t!==void 0){if(e==="middle"&&t!==void 0){yt('[ion-toast] - The positionAnchor property is ignored when using position="middle".',this.el);return}if(typeof t=="string"){const i=document.getElementById(t);if(i===null){yt('[ion-toast] - An anchor element with an ID of "'.concat(t,'" was not found in the DOM.'),r);return}return i}if(t instanceof Ae)return t;yt("[ion-toast] - Invalid positionAnchor value:",t,r)}}async buttonClick(e){const t=e.role;return ws(t)?this.dismiss(void 0,t):await this.callButtonHandler(e)?this.dismiss(void 0,t):Promise.resolve()}async callButtonHandler(e){if(e!=null&&e.handler)try{if(await cs(e.handler)===!1)return!1}catch(t){Xr("[ion-toast] - Exception in callButtonHandler:",t)}return!0}renderButtons(e,t){if(e.length===0)return;const r=pe(this),i={"toast-button-group":!0,["toast-button-group-".concat(t)]:!0};return D("div",{class:i},e.map(o=>D("button",Object.assign({},o.htmlAttributes,{type:"button",class:mN(o),tabIndex:0,onClick:()=>this.buttonClick(o),part:gN(o)}),D("div",{class:"toast-button-inner"},o.icon&&D("ion-icon",{"aria-hidden":"true",icon:o.icon,slot:o.text===void 0?"icon-only":void 0,class:"toast-button-icon"}),o.text),r==="md"&&D("ion-ripple-effect",{type:o.icon!==void 0&&o.text===void 0?"unbounded":"bounded"}))))}renderToastMessage(e,t=null){const{customHTMLEnabled:r,message:i}=this;return r?D("div",{key:e,"aria-hidden":t,class:"toast-message",part:"message",innerHTML:Ux(i)}):D("div",{key:e,"aria-hidden":t,class:"toast-message",part:"message"},i)}renderHeader(e,t=null){return D("div",{key:e,class:"toast-header","aria-hidden":t,part:"header"},this.header)}render(){const{layout:e,el:t,revealContentToScreenReader:r,header:i,message:o}=this,a=this.getButtons(),s=a.filter(d=>d.side==="start"),l=a.filter(d=>d.side!=="start"),c=pe(this),u={"toast-wrapper":!0,["toast-".concat(this.position)]:!0,["toast-layout-".concat(e)]:!0};return e==="stacked"&&s.length>0&&l.length>0&&yt("[ion-toast] - This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",t),D(Pe,Object.assign({key:"a2216d860255c99337464370dcb12f6125871a50",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:"".concat(6e4+this.overlayIndex)},class:mt(this.color,Object.assign(Object.assign({[c]:!0},Nn(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),D("div",{key:"d5adf8bc4c6c52431600033a76c4795689f9b412",class:u},D("div",{key:"ab694497ae37ceba123217eb48800129b9bebb84",class:"toast-container",part:"container"},this.renderButtons(s,"start"),this.icon!==void 0&&D("ion-icon",{key:"224854fa3989ce0eb69416cb5b0cc55fc9f131ea",class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),D("div",{key:"c8e11fb5bdac202987f5c8613a0ebbd42bda946e",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!r&&i!==void 0&&this.renderHeader("oldHeader","true"),!r&&o!==void 0&&this.renderToastMessage("oldMessage","true"),r&&i!==void 0&&this.renderHeader("header"),r&&o!==void 0&&this.renderToastMessage("header")),this.renderButtons(l,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:dN,md:fN}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),mN=n=>({"toast-button":!0,"toast-button-icon-only":n.icon!==void 0&&n.text===void 0,["toast-button-".concat(n.role)]:n.role!==void 0,"ion-focusable":!0,"ion-activatable":!0}),gN=n=>ws(n.role)?"button cancel":"button";function bN(){if(typeof customElements>"u")return;["ion-toast","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,pN);break;case"ion-icon":customElements.get(e)||Jr();break;case"ion-ripple-effect":customElements.get(e)||Qr();break}})}const HS=bN;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vN=DS;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xN=US,yN="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",wN=yN,kN=Oe(class extends Ae{constructor(){super(),this.__registerHost()}componentDidLoad(){CN(async()=>{const e=qr(window,"hybrid");if(ze.getBoolean("_testing")||Xt(()=>import("./index9-evyahk9C.js"),[]).then(i=>i.startTapClick(ze)),ze.getBoolean("statusTap",e)&&Xt(()=>import("./status-tap-p5JlzdL6.js"),[]).then(i=>i.startStatusTap()),ze.getBoolean("inputShims",_N())){const i=qr(window,"ios")?"ios":"android";Xt(()=>import("./input-shims-BVMkhhLk.js"),[]).then(o=>o.startInputShims(ze,i))}const t=await Xt(()=>Promise.resolve().then(()=>WO),void 0),r=e||ic();ze.getBoolean("hardwareBackButton",r)?t.startHardwareBackButton():(ic()&&yt("[ion-app] - experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),t.blockHardwareBackButton()),typeof window<"u"&&Xt(()=>Promise.resolve().then(()=>tL),void 0).then(i=>i.startKeyboardAssist(window)),Xt(()=>import("./focus-visible-supuXXMI.js"),[]).then(i=>this.focusVisible=i.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=pe(this);return D(Pe,{key:"03aa892f986330078d112b1e8b010df98fa7e39e",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":ze.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return wN}},[0,"ion-app",{setFocus:[64]}]),_N=()=>!!(qr(window,"ios")&&qr(window,"mobile")||qr(window,"android")&&qr(window,"mobileweb")),CN=n=>{"requestIdleCallback"in window?window.requestIdleCallback(n):setTimeout(n,32)};function EN(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,kN);break}})}const SN=EN;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TN=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',AN=TN,IN=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',RN=IN,DN=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const t=this.el.closest("ion-nav");return e.preventDefault(),t&&await t.canGoBack()?t.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):Up(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=vi(this.el),this.defaultHref===void 0&&(this.defaultHref=ze.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e!=null?e:pe(this)==="ios"?ze.get("backButtonIcon",p9):ze.get("backButtonIcon",oS)}get backButtonText(){const e=pe(this)==="ios"?"Back":null;return this.text!=null?this.text:ze.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:t,disabled:r,type:i,hasIconOnly:o,backButtonIcon:a,backButtonText:s,icon:l,inheritedAttributes:c}=this,u=t!==void 0,d=pe(this),h=c["aria-label"]||s||"back";return D(Pe,{key:"5466624a10f1ab56f5469e6dc07080303880f2fe",onClick:this.onClick,class:mt(e,{[d]:!0,button:!0,"back-button-disabled":r,"back-button-has-icon-only":o,"in-toolbar":Ot("ion-toolbar",this.el),"in-toolbar-color":Ot("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":u})},D("button",{key:"63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",type:i,disabled:r,class:"button-native",part:"native","aria-label":h},D("span",{key:"5d3eacbd11af2245c6e1151cab446a0d96559ad8",class:"button-inner"},a&&D("ion-icon",{key:"6439af0ae463764174e7d3207f02267811df666d",part:"icon",icon:a,"aria-hidden":"true",lazy:!1,"flip-rtl":l===void 0}),s&&D("span",{key:"8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",part:"text","aria-hidden":"true",class:"button-text"},s)),d==="md"&&D("ion-ripple-effect",{key:"63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",type:this.rippleType})))}get el(){return this}static get style(){return{ios:AN,md:RN}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function ON(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,DN);break;case"ion-icon":customElements.get(e)||Jr();break;case"ion-ripple-effect":customElements.get(e)||Qr();break}})}const MN=ON,PN=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",BN=PN,zN=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ae(this,"ionNavWillLoad",7),this.ionNavWillChange=ae(this,"ionNavWillChange",3),this.ionNavDidChange=ae(this,"ionNavDidChange",3),this.lockController=Ms(),this.gestureOrAnimationInProgress=!1,this.mode=pe(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await Xt(()=>import("./swipe-back-FMsQbqZp.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),t=>{var r;return(r=this.ani)===null||r===void 0?void 0:r.progressStep(t)},(t,r,i)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(t)},{oneTimeCallback:!0});let o=t?-.001:.001;t?o+=xs([0,0],[.32,.72],[0,1],[1,1],r)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),o+=xs([0,0],[1,0],[.68,.28],[1,1],r)[0]),this.ani.progressEnd(t?1:0,o,i)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,t,r){const i=await this.lockController.lock();let o=!1;try{o=await this.transition(e,t,r)}catch(a){Xr("[ion-router-outlet] - Exception in commit:",a)}return i(),o}async setRouteId(e,t,r,i){return{changed:await this.setRoot(e,t,{duration:r==="root"?0:void 0,direction:r==="back"?"back":"forward",animationBuilder:i}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,t,r){if(this.activeComponent===e&&BE(t,this.activeParams))return!1;const i=this.activeEl,o=await wd(this.delegate,this.el,e,["ion-page","ion-page-invisible"],t);return this.activeComponent=e,this.activeEl=o,this.activeParams=t,await this.commit(o,i,r),await Vx(this.delegate,i),!0}async transition(e,t,r={}){if(t===e)return!1;this.ionNavWillChange.emit();const{el:i,mode:o}=this,a=this.animated&&ze.getBoolean("animated",!0),s=r.animationBuilder||this.animation||ze.get("navAnimation");return await NE(Object.assign(Object.assign({mode:o,animated:a,enteringEl:e,leavingEl:t,baseEl:i,deepWait:Uu(i),progressCallback:r.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},r),{animationBuilder:s})),this.ionNavDidChange.emit(),!0}render(){return D("slot",{key:"e34e02b5154172c8d5cdd187b6ea58119b6946eb"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return BN}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function LN(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,zN);break}})}const jN=LN;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const NN=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",FN=NN,$N=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",UN=$N,HN=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=ae(this,"ionTabBarChanged",7),this.ionTabBarLoaded=ae(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await kS(async(e,t)=>{e===!1&&t!==void 0&&await t,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:t,keyboardVisible:r}=this,i=pe(this),o=r&&this.el.getAttribute("slot")!=="top";return D(Pe,{key:"62303a7f9d8c98ffab51a5900c144c5117b9c543",role:"tablist","aria-hidden":o?"true":null,class:mt(e,{[i]:!0,"tab-bar-translucent":t,"tab-bar-hidden":o})},D("slot",{key:"5771a9828f748c2bd6b5e26758b9723c6b3de5ff"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:FN,md:UN}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function WN(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,HN);break}})}const VN=WN;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qN=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',GN=qN,KN=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',YN=KN,XN=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=ae(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const t=e.target,r=this.el.parentElement;(e.composedPath().includes(r)||t!=null&&t.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},qi(this.el,["aria-label"])),this.layout===void 0&&(this.layout=ze.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:t,hasLabel:r,href:i,rel:o,target:a,layout:s,selected:l,tab:c,inheritedAttributes:u}=this,d=pe(this),h={download:this.download,href:i,rel:o,target:a};return D(Pe,{key:"a86d441d8df350fe991f2f948fc6b6ad007728f7",onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?"tab-button-".concat(c):null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":r,"tab-has-icon":t,"tab-has-label-only":r&&!t,"tab-has-icon-only":t&&!r,["tab-layout-".concat(s)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},D("a",Object.assign({key:"8dfe1ccff2cf21601c5aea7f7f877c0fbe384e09"},h,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),D("span",{key:"3f557cf6e96e22b9318b4aee19ede810eb7fb720",class:"button-inner"},D("slot",{key:"836dd090dbe3c2ea97dc263fca7d01dea6ea0eb6"})),d==="md"&&D("ion-ripple-effect",{key:"488a924fd04602c1b23e03d1a4c84dfa0f2ca03d",type:"unbounded"})))}get el(){return this}static get style(){return{ios:GN,md:YN}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function ZN(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,XN);break;case"ion-ripple-effect":customElements.get(e)||Qr();break}})}const JN=ZN;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const QN=":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}",eF=QN,tF=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ae(this,"ionNavWillLoad",7),this.ionTabsWillChange=ae(this,"ionTabsWillChange",3),this.ionTabsDidChange=ae(this,"ionTabsDidChange",3),this.transitioning=!1,this.onTabClicked=e=>{const{href:t,tab:r}=e.detail;if(this.useRouter&&t!==void 0){const i=document.querySelector("ion-router");i&&i.push(t)}else this.select(r)},this.selectedTab=void 0,this.useRouter=!1}async componentWillLoad(){if(this.useRouter||(this.useRouter=(!!this.el.querySelector("ion-router-outlet")||!!document.querySelector("ion-router"))&&!this.el.closest("[no-router]")),!this.useRouter){const e=this.tabs;e.length>0&&await this.select(e[0])}this.ionNavWillLoad.emit()}componentWillRender(){const e=this.el.querySelector("ion-tab-bar");if(e){const t=this.selectedTab?this.selectedTab.tab:void 0;e.selectedTab=t}}async select(e){const t=Lg(this.tabs,e);return this.shouldSwitch(t)?(await this.setActive(t),await this.notifyRouter(),this.tabSwitch(),!0):!1}async getTab(e){return Lg(this.tabs,e)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(e){const t=Lg(this.tabs,e);return this.shouldSwitch(t)?(await this.setActive(t),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var e;const t=(e=this.selectedTab)===null||e===void 0?void 0:e.tab;return t!==void 0?{id:t,element:this.selectedTab}:void 0}setActive(e){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=e,this.ionTabsWillChange.emit({tab:e.tab}),e.active=!0,Promise.resolve())}tabSwitch(){const e=this.selectedTab,t=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,e&&t!==e&&(t&&(t.active=!1),this.ionTabsDidChange.emit({tab:e.tab}))}notifyRouter(){if(this.useRouter){const e=document.querySelector("ion-router");if(e)return e.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(e){const t=this.selectedTab;return e!==void 0&&e!==t&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return D(Pe,{key:"20b97196d78c1b3f3faf31618a8a2347e087f06b",onIonTabButtonClick:this.onTabClicked},D("slot",{key:"b0823fbae6e47743cfd12c376b365ad7e32cec7c",name:"top"}),D("div",{key:"eaffd7e4d69ab9489a387e3bbb36e3bab72203a0",class:"tabs-inner"},D("slot",{key:"20bb66a2937e3ec473aa59c4075ce581b5411677"})),D("slot",{key:"1529dd361f050f52074f51c73b3982ba827dc3a5",name:"bottom"}))}get el(){return this}static get style(){return eF}},[1,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),Lg=(n,e)=>{const t=typeof e=="string"?n.find(r=>r.tab===e):e;return t||Xr('[ion-tabs] - Tab with id: "'.concat(t,'" does not exist')),t};function nF(){if(typeof customElements>"u")return;["ion-tabs"].forEach(e=>{switch(e){case"ion-tabs":customElements.get(e)||customElements.define(e,tF);break}})}const rF=nF;let jg;const iF=()=>{if(typeof window>"u")return new Map;if(!jg){const n=window;n.Ionicons=n.Ionicons||{},jg=n.Ionicons.map=n.Ionicons.map||new Map}return jg},oF=n=>{let e=Ng(n.src);return e||(e=WS(n.name,n.icon,n.mode,n.ios,n.md),e?aF(e,n):n.icon&&(e=Ng(n.icon),e||(e=Ng(n.icon[n.mode]),e))?e:null)},aF=(n,e)=>{const t=iF().get(n);if(t)return t;try{return yE("svg/".concat(n,".svg"))}catch(r){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(n,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},WS=(n,e,t,r,i)=>(t=(t&&ph(t))==="ios"?"ios":"md",r&&t==="ios"?n=ph(r):i&&t==="md"?n=ph(i):(!n&&e&&!VS(e)&&(n=e),Yf(n)&&(n=ph(n))),!Yf(n)||n.trim()===""||n.replace(/[a-z]|-|\d/gi,"")!==""?null:n),Ng=n=>Yf(n)&&(n=n.trim(),VS(n))?n:null,VS=n=>n.length>0&&/(\/|\.)/.test(n),Yf=n=>typeof n=="string",ph=n=>n.toLowerCase(),sF=(n,e=[])=>{const t={};return e.forEach(r=>{n.hasAttribute(r)&&(n.getAttribute(r)!==null&&(t[r]=n.getAttribute(r)),n.removeAttribute(r))}),t},lF=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",cF=n=>{const e=document.createElement("div");e.innerHTML=n;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const t=e.firstElementChild;if(t&&t.nodeName.toLowerCase()==="svg"){const r=t.getAttribute("class")||"";if(t.setAttribute("class",(r+" s-ion-icon").trim()),qS(t))return e.innerHTML}return""},qS=n=>{if(n.nodeType===1){if(n.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;if(Yf(t)&&t.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<n.childNodes.length;e++)if(!qS(n.childNodes[e]))return!1}return!0},uF=n=>n.startsWith("data:image/svg+xml"),dF=n=>n.indexOf(";utf8,")!==-1,Xa=new Map,mk=new Map;let Fg;const hF=(n,e)=>{let t=mk.get(n);if(!t)if(typeof fetch<"u"&&typeof document<"u")if(uF(n)&&dF(n)){Fg||(Fg=new DOMParser);const i=Fg.parseFromString(n,"text/html").querySelector("svg");return i&&Xa.set(n,i.outerHTML),Promise.resolve()}else t=fetch(n).then(r=>{if(r.ok)return r.text().then(i=>{i&&e!==!1&&(i=cF(i)),Xa.set(n,i||"")});Xa.set(n,"")}),mk.set(n,t);else return Xa.set(n,""),Promise.resolve();return t},fF=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",pF=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=mF(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=sF(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,r){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:t});i.observe(e)}else r()}loadIcon(){if(this.isVisible){const e=oF(this);e&&(Xa.has(e)?this.svgContent=Xa.get(e):hF(e,this.sanitize).then(()=>this.svgContent=Xa.get(e)),this.didLoadIcon=!0)}this.iconName=WS(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:t,inheritedAttributes:r,el:i}=this,o=this.mode||"md",a=t?(t.includes("arrow")||t.includes("chevron"))&&e!==!1:!1,s=e||a;return D(Pe,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},gF(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":s,"icon-rtl":s&&lF(i)})},r),this.svgContent?D("div",{class:"icon-inner",innerHTML:this.svgContent}):D("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return fF}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),mF=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",gF=n=>n?{"ion-color":!0,["ion-color-".concat(n)]:!0}:null;function bF(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,pF);break}})}const vF=bF,Gp=de.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),xF=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(n){if(n.id){const e=this.ionViewWillEnterCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewWillEnterCallbacks[e]=n:this.ionViewWillEnterCallbacks.push(n)}else this.ionViewWillEnterCallbacks.push(n)}teardownCallback(n,e){const t=e.filter(r=>r.id===n.id);t.length!==0&&(t.forEach(r=>{r&&typeof r.destructor=="function"&&r.destructor()}),e=e.filter(r=>r.id!==n.id))}cleanupIonViewWillEnter(n){this.teardownCallback(n,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(n){this.teardownCallback(n,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(n){this.teardownCallback(n,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(n){this.teardownCallback(n,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(n=>{const e=n();n.id&&this.ionViewWillEnterDestructorCallbacks.push({id:n.id,destructor:e})})}onIonViewDidEnter(n){if(n.id){const e=this.ionViewDidEnterCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewDidEnterCallbacks[e]=n:this.ionViewDidEnterCallbacks.push(n)}else this.ionViewDidEnterCallbacks.push(n)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(n=>{const e=n();n.id&&this.ionViewDidEnterDestructorCallbacks.push({id:n.id,destructor:e})})}onIonViewWillLeave(n){if(n.id){const e=this.ionViewWillLeaveCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewWillLeaveCallbacks[e]=n:this.ionViewWillLeaveCallbacks.push(n)}else this.ionViewWillLeaveCallbacks.push(n)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(n=>{const e=n();n.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:n.id,destructor:e})})}onIonViewDidLeave(n){if(n.id){const e=this.ionViewDidLeaveCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewDidLeaveCallbacks[e]=n:this.ionViewDidLeaveCallbacks.push(n)}else this.ionViewDidLeaveCallbacks.push(n)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(n=>{const e=n();n.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:n.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(n){this.componentCanBeDestroyedCallback=n}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},yF=(n,e=[])=>{const t=Y.useContext(Gp),r=Y.useRef();r.current=r.current||Math.floor(Math.random()*1e6),Y.useEffect(()=>(n.id=r.current,t.onIonViewWillEnter(n),()=>{t.cleanupIonViewWillEnter(n)}),e)},xi=de.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:n=>{typeof window<"u"&&(typeof n=="string"?window.location.pathname=n:window.history.back())},navigate:n=>{typeof window<"u"&&(window.location.pathname=n)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(n,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(n,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),hy=n=>n.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),Kp=n=>n.replace(/([A-Z])/g,e=>"-".concat(e[0].toLowerCase())),Yp=(n,e,t={})=>{if(n instanceof Element){const r=wF(n.classList,e,t);r!==""&&(n.className=r),Object.keys(e).forEach(i=>{if(!(i==="children"||i==="style"||i==="ref"||i==="class"||i==="className"||i==="forwardedRef"))if(i.indexOf("on")===0&&i[2]===i[2].toUpperCase()){const o=i.substring(2),a=o[0].toLowerCase()+o.substring(1);Sd(a)||_F(n,a,e[i])}else n[i]=e[i],typeof e[i]==="string"&&n.setAttribute(Kp(i),e[i])})}},wF=(n,e,t)=>{const r=e.className||e.class,i=t.className||t.class,o=$g(n),a=$g(r?r.split(" "):[]),s=$g(i?i.split(" "):[]),l=[];return o.forEach(c=>{a.has(c)?(l.push(c),a.delete(c)):s.has(c)||l.push(c)}),a.forEach(c=>l.push(c)),l.join(" ")},kF=n=>{switch(n){case"doubleclick":return"dblclick"}return n};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const Sd=n=>{if(typeof document>"u")return!0;{const e="on"+kF(n);let t=e in document;if(!t){const r=document.createElement("div");r.setAttribute(e,"return;"),t=typeof r[e]=="function"}return t}},_F=(n,e,t)=>{const r=n.__events||(n.__events={}),i=r[e];i&&n.removeEventListener(e,i),n.addEventListener(e,r[e]=function(a){t&&t.call(this,a)})},$g=n=>{const e=new Map;return n.forEach(t=>e.set(t,t)),e},CF=(n,e)=>{typeof n=="function"?n(e):n!=null&&(n.current=e)},Xp=(...n)=>e=>{n.forEach(t=>{CF(t,e)})},EF=(n,e)=>{const t=(r,i)=>C.jsx(n,{...r,forwardedRef:i});return t.displayName=e,de.forwardRef(t)},SF=(n,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(n)&&customElements.define(n,e)},qe=(n,e,t,r)=>{r!==void 0&&r();const i=hy(n),o=class extends de.Component{constructor(a){super(a),this.setComponentElRef=s=>{this.componentEl=s}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(a){Yp(this.componentEl,this.props,a)}render(){const{children:a,forwardedRef:s,style:l,className:c,ref:u,...d}=this.props,f={...Object.keys(d).reduce((p,m)=>{const b=d[m];if(m.indexOf("on")===0&&m[2]===m[2].toUpperCase()){const g=m.substring(2).toLowerCase();typeof document<"u"&&Sd(g)&&(p[m]=b)}else{const g=typeof b;(g==="string"||g==="boolean"||g==="number")&&(p[Kp(m)]=b)}return p},{}),ref:Xp(s,this.setComponentElRef),style:l};return Y.createElement(n,f,a)}static get displayName(){return i}};return EF(o,i)},GS=qe("ion-avatar",void 0,void 0,H9),Xf=qe("ion-badge",void 0,void 0,t7),Fn=qe("ion-buttons",void 0,void 0,s7),ar=qe("ion-card-content",void 0,void 0,p7),fy=qe("ion-card-header",void 0,void 0,w7),Ug=qe("ion-card-subtitle",void 0,void 0,A7),Al=qe("ion-card-title",void 0,void 0,B7),pi=qe("ion-col",void 0,void 0,tM),jt=qe("ion-content",void 0,void 0,lM),TF=qe("ion-footer",void 0,void 0,ZM),us=qe("ion-grid",void 0,void 0,nP),Tn=qe("ion-header",void 0,void 0,fP),Zp=qe("ion-img",void 0,void 0,xP),hn=qe("ion-input",void 0,void 0,PP),Nl=qe("ion-input-password-toggle",void 0,void 0,$P),Cn=qe("ion-label",void 0,void 0,XP),KS=qe("ion-list",void 0,void 0,nB),AF=qe("ion-menu",void 0,void 0,xB),YS=qe("ion-menu-button",void 0,void 0,SB),IF=qe("ion-menu-toggle",void 0,void 0,DB),RF=qe("ion-note",void 0,void 0,WB),DF=qe("ion-range",void 0,void 0,hz),_o=qe("ion-row",void 0,void 0,bz),OF=qe("ion-searchbar",void 0,void 0,Ez),Xh=qe("ion-select",void 0,void 0,YL),so=qe("ion-select-option",void 0,void 0,tj),Cc=qe("ion-spinner",void 0,void 0,nj),MF=qe("ion-tab",void 0,void 0,sj),Ln=qe("ion-text",void 0,void 0,hj),py=qe("ion-textarea",void 0,void 0,yj),PF=qe("ion-thumbnail",void 0,void 0,Ej),Yn=qe("ion-title",void 0,void 0,Sj),my=qe("ion-toggle",void 0,void 0,Bj),An=qe("ion-toolbar",void 0,void 0,zj),Ps=(n,e)=>{const t=(r,i)=>C.jsx(n,{...r,forwardedRef:i});return t.displayName=e,de.forwardRef(t)},gy=()=>{if(typeof window<"u"){const n=window.Ionic;if(n&&n.config)return n.config}return null},by=(n,e)=>{SF(n,e);const t=hy(n),r=class extends de.Component{constructor(i){super(i),this.handleClick=o=>{const{routerLink:a,routerDirection:s,routerOptions:l,routerAnimation:c}=this.props;a!==void 0&&(o.preventDefault(),this.context.navigate(a,s,void 0,c,l))},this.ref=de.createRef(),this.stableMergedRefs=Xp(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(i){const o=this.ref.current;Yp(o,this.props,i)}render(){const{children:i,forwardedRef:o,style:a,className:s,ref:l,...c}=this.props,d={...Object.keys(c).reduce((h,f)=>{if(f.indexOf("on")===0&&f[2]===f[2].toUpperCase()){const p=f.substring(2).toLowerCase();Sd(p)&&(h[f]=c[f])}else["string","boolean","number"].includes(typeof c[f])&&(h[Kp(f)]=c[f]);return h},{}),ref:this.stableMergedRefs,style:a};if(this.props.routerLink&&!this.props.href&&(d.href=this.props.routerLink),d.onClick){const h=d.onClick;d.onClick=f=>{h(f),f.defaultPrevented||this.handleClick(f)}}else d.onClick=this.handleClick;return Y.createElement(n,d,i)}static get displayName(){return t}static get contextType(){return xi}};return Ps(r,t)},We=by("ion-button",Lj),sr=by("ion-card",Hj),Vn=by("ion-item",Wj),BF=(n,e)=>{n instanceof Element&&Object.keys(e).forEach(t=>{if(t.indexOf("on")===0&&t[2]===t[2].toUpperCase()){const r=t.substring(2),i=r[0].toLowerCase()+r.substring(1);Sd(i)||zF(n,i)}})},zF=(n,e)=>{const t=n.__events||(n.__events={}),r=t[e];r&&(n.removeEventListener(e,r),t[e]=void 0)},Td=(n,e,t)=>{e&&e();const r=hy(n),i=class extends de.Component{constructor(o){super(o),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=a=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(a)},this.handleDidDismiss=a=>{const s=this.wrapperRef.current,l=this.ref.current;s&&l&&(l.append(s),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(a)},this.ref=de.createRef(),this.stableMergedRefs=Xp(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=de.createRef()}componentDidMount(){var o,a,s;this.componentDidUpdate(this.props),(o=this.ref.current)==null||o.addEventListener("ionMount",this.handleIonMount),(a=this.ref.current)==null||a.addEventListener("willPresent",this.handleWillPresent),(s=this.ref.current)==null||s.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(o){const a=this.ref.current,{onDidDismiss:s,onWillPresent:l,...c}=this.props;Yp(a,c,o)}componentWillUnmount(){const o=this.ref.current;o&&this.state.isOpen&&(o.removeEventListener("didDismiss",this.handleDidDismiss),o.remove(),BF(o,this.props))}render(){const{children:o,forwardedRef:a,style:s,className:l,ref:c,...u}=this.props,h={...Object.keys(u).reduce((p,m)=>{if(m.indexOf("on")===0&&m[2]===m[2].toUpperCase()){const b=m.substring(2).toLowerCase();Sd(b)&&(p[m]=u[m])}else["string","boolean","number"].includes(typeof u[m])&&(p[Kp(m)]=u[m]);return p},{}),ref:this.stableMergedRefs,style:s},f=()=>t?"".concat(gk," ion-page"):gk;return Y.createElement("template",{},Y.createElement(n,h,this.state.isOpen||this.props.keepContentsMounted?Y.createElement("div",{ref:this.wrapperRef,className:f()},o):null))}static get displayName(){return r}};return Ps(i,r)},gk="ion-delegate-host",Bs=Td("ion-alert",Vj),qb=Td("ion-loading",nN),Ec=Td("ion-toast",HS),LF=Td("ion-action-sheet",vN),ha=Td("ion-modal",xN,!0),jF=de.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),NF=({onAddOverlay:n,onRemoveOverlay:e})=>{const[t,r]=Y.useState({}),i=Y.useRef({});Y.useEffect(()=>{n(o),e(a)},[]);const o=(l,c,u)=>{const d={...i.current};d[l]={component:c,containerElement:u},i.current=d,r(d)},a=l=>{const c={...i.current};delete c[l],i.current=c,r(c)},s=Object.keys(t);return C.jsx(C.Fragment,{children:s.map(l=>{const c=t[l];return gI.createPortal(c.component,c.containerElement,"overlay-".concat(l))})})},FF=qe("ion-tab-button",void 0,void 0,JN),$F=qe("ion-tab-bar",void 0,void 0,VN),bk=qe("ion-tabs",void 0,void 0,rF),UF=qe("ion-back-button",void 0,void 0,MN),Gb=qe("ion-router-outlet",void 0,void 0,jN),HF=qe("ion-app",void 0,void 0,SN),WF=qe("ion-icon",void 0,void 0,vF);class XS extends de.Component{constructor(e){super(e),this.ionContext={addOverlay:(t,r,i)=>{this.addOverlayCallback&&this.addOverlayCallback(t,r,i)},removeOverlay:t=>{this.removeOverlayCallback&&this.removeOverlayCallback(t)}}}render(){return C.jsxs(jF.Provider,{value:this.ionContext,children:[C.jsx(HF,{...this.props,children:this.props.children}),C.jsx(NF,{onAddOverlay:e=>{this.addOverlayCallback=e},onRemoveOverlay:e=>{this.removeOverlayCallback=e}})]})}}XS.displayName="IonApp";const vy=de.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class xy extends de.PureComponent{constructor(e){super(e),this.ionPageElementRef=de.createRef(),this.stableMergedRefs=Xp(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{className:e,children:t,routeInfo:r,forwardedRef:i,...o}=this.props;return C.jsx(Gp.Consumer,{children:a=>(this.ionLifeCycleContext=a,C.jsx("div",{className:e?"".concat(e," ion-page"):"ion-page",ref:this.stableMergedRefs,...o,children:t}))})}static get contextType(){return vy}}class VF extends de.Component{constructor(e){super(e)}render(){const{className:e,children:t,forwardedRef:r,...i}=this.props;return this.context.hasIonicRouter()?C.jsx(xy,{className:e?"".concat(e):"",routeInfo:this.context.routeInfo,forwardedRef:r,...i,children:t}):C.jsx("div",{className:e?"ion-page ".concat(e):"ion-page",ref:r,...i,children:t})}static get displayName(){return"IonPage"}static get contextType(){return xi}}const Tr=Ps(VF,"IonPage"),vk={main:0},Vu=(n="main")=>{var t;const e=((t=vk[n])!=null?t:0)+1;return vk[n]=e,e.toString()},qF=(n,e)=>{const t=new WeakMap,r="react-delegate-".concat(Vu());let i=0;return{attachViewToDom:async(s,l,c,u)=>{const d=document.createElement("div");u&&d.classList.add(...u),s.appendChild(d);const h=l(c),f="".concat(r,"-").concat(i++),p=Fv.createPortal(h,d,f);return t.set(d,p),n(p),Promise.resolve(d)},removeViewFromDom:(s,l)=>{const c=t.get(l);return c&&e(c),l.remove(),Promise.resolve()}}},GF=qe("ion-nav",void 0,void 0,LB),KF=({children:n,forwardedRef:e,...t})=>{const[r,i]=Y.useState([]),o=l=>i(c=>[...c,l]),a=l=>i(c=>c.filter(u=>u!==l)),s=Y.useMemo(()=>qF(o,a),[]);return C.jsx(GF,{delegate:s,ref:e,...t,children:r})};Ps(KF,"IonNav");const ZS=de.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:de.createRef()}}),YF=typeof HTMLElement<"u"?HTMLElement:class{};class XF extends de.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||gi(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{StackManager:e,children:t,routeInfo:r,...i}=this.props;return C.jsx(Gp.Consumer,{children:o=>(this.ionLifeCycleContext=o,C.jsx(e,{routeInfo:r,children:C.jsx(Gb,{setRef:a=>this.ionRouterOutlet=a,...i,children:t})}))})}static get contextType(){return vy}}class ZF extends de.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),{children:t,forwardedRef:r,...i}=this.props;return this.context.hasIonicRouter()?i.ionPage?C.jsx(XF,{StackManager:e,routeInfo:this.context.routeInfo,...i,children:t}):C.jsx(e,{routeInfo:this.context.routeInfo,children:C.jsx(Gb,{...i,forwardedRef:r,children:t})}):C.jsx(Gb,{ref:r,...this.props,children:this.props.children})}static get contextType(){return xi}}const Il=Ps(ZF,"IonRouterOutlet");class JF extends YF{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",JF));class jne extends de.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.routerOutletRef=de.createRef(),this.tabBarRef=de.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:this.tabBarRef}}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=e=>{this.ionTabContextState.activeTab=e},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}renderTabsInner(e,t){return C.jsx(bk,{...this.props,children:de.Children.map(e,r=>de.isValidElement(r)&&(r.type===Il||r.type.isRouterOutlet||r.type===Y.Fragment&&r.props.children[0].type===Il)?t:r)})}render(){let e,t=!1;const{className:r,onIonTabsDidChange:i,onIonTabsWillChange:o,...a}=this.props,s=typeof this.props.children=="function"?this.props.children(this.ionTabContextState):this.props.children;if(de.Children.forEach(s,l=>{if(l==null||typeof l!="object"||!l.hasOwnProperty("type"))return;l.type===Il||l.type.isRouterOutlet?e=de.cloneElement(l):l.type===Y.Fragment&&l.props.children[0].type===Il?e=de.cloneElement(l.props.children[0]):l.type===MF&&(t=!0),this.ionTabContextState.hasRouterOutlet=!!e;let c={...this.ionTabContextState.tabBarProps};i!==void 0&&(c={...c,onIonTabsDidChange:i}),o!==void 0&&(c={...c,onIonTabsWillChange:o}),this.ionTabContextState.tabBarProps=c}),!e&&!t)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab");if(e&&t)throw new Error("IonTabs cannot contain an IonRouterOutlet and an IonTab at the same time");return t?C.jsx(bk,{...this.props}):C.jsx(ZS.Provider,{value:this.ionTabContextState,children:this.context.hasIonicRouter()?C.jsx(xy,{className:r?"".concat(r):"",routeInfo:this.context.routeInfo,...a,children:this.renderTabsInner(s,e)}):this.renderTabsInner(s,e)})}static get contextType(){return xi}}class Hg extends de.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const{onClick:e,...t}=this.props;return C.jsx(FF,{onIonTabButtonClick:this.handleIonTabButtonClick,...t})}static get displayName(){return"IonTabButton"}}class QF extends de.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=r=>{};const t={};de.Children.forEach(e.children,r=>{var i,o,a,s;r!=null&&typeof r=="object"&&r.props&&(r.type===Hg||r.type.isTabButton)&&(t[r.props.tab]={originalHref:r.props.href,currentHref:r.props.href,originalRouteOptions:r.props.href===((i=e.routeInfo)==null?void 0:i.pathname)?(o=e.routeInfo)==null?void 0:o.routeOptions:void 0,currentRouteOptions:r.props.href===((a=e.routeInfo)==null?void 0:a.pathname)?(s=e.routeInfo)==null?void 0:s.routeOptions:void 0})}),this.state={tabs:t},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,r=Object.keys(e).find(i=>{const o=e[i].originalHref;return this.props.routeInfo.pathname.startsWith(o)});r&&this.setState({activeTab:r})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const t=this.state.tabs[e];return t?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:t.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,t){var s,l,c;const r={...t.tabs},o=Object.keys(t.tabs).find(u=>{const d=t.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});de.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===Hg||u.type.isTabButton)){const d=r[u.props.tab];(!d||d.originalHref!==u.props.href)&&(r[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:a}=t;if(o&&a){const u=t.tabs[a].currentHref,d=t.tabs[a].currentRouteOptions;(o!==a||u!==((s=e.routeInfo)==null?void 0:s.pathname)||d!==((l=e.routeInfo)==null?void 0:l.routeOptions))&&(r[o]={originalHref:r[o].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:r[o].originalRouteOptions,currentRouteOptions:(c=e.routeInfo)==null?void 0:c.routeOptions},e.routeInfo.routeAction==="pop"&&o!==a&&(r[a]={originalHref:r[a].originalHref,currentHref:r[a].originalHref,originalRouteOptions:r[a].originalRouteOptions,currentRouteOptions:r[a].currentRouteOptions}))}return o&&e.onSetCurrentTab(o,e.routeInfo),{activeTab:o,tabs:r}}onTabButtonClick(e,t){var l;const r=this.state.tabs[e.detail.tab],i=r.originalHref,o=(l=this.props.tabsContext)==null?void 0:l.hasRouterOutlet,a=o?e.detail.href:"",{activeTab:s}=this.state;t&&t(e),s===e.detail.tab?i!==a&&this.context.resetTab(e.detail.tab,i,r.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),o&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,a,e.detail.routeOptions)))}renderTabButton(e){return t=>{var r,i;if(t!=null&&t.props&&(t.type===Hg||t.type.isTabButton)){const o=t.props.tab===e?(r=this.props.routeInfo)==null?void 0:r.pathname:this.state.tabs[t.props.tab].currentHref,a=t.props.tab===e?(i=this.props.routeInfo)==null?void 0:i.routeOptions:this.state.tabs[t.props.tab].currentRouteOptions;return de.cloneElement(t,{href:o,routeOptions:a,onClick:s=>this.onTabButtonClick(s,t.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return C.jsx($F,{...this.props,selectedTab:e,children:de.Children.map(this.props.children,this.renderTabButton(e))})}static get contextType(){return xi}}const e$=de.memo(({forwardedRef:n,...e})=>{const t=Y.useContext(xi),r=Y.useContext(ZS),i=n||r.tabBarProps.ref,o={...r.tabBarProps,ref:i};return C.jsx(QF,{ref:i,...e,routeInfo:e.routeInfo||t.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:t.setCurrentTab,tabsContext:{...r,tabBarProps:o},children:e.children})});Ps(e$,"IonTabBar");class qu extends de.Component{constructor(){super(...arguments),this.clickButton=e=>{if(e.target&&e.target.closest("ion-nav")!==null)return;const{defaultHref:t,routerAnimation:r}=this.props;this.context.hasIonicRouter()?(e.stopPropagation(),this.context.goBack(t,r)):t!==void 0&&(window.location.href=t)}}render(){return C.jsx(UF,{onClick:this.clickButton,...this.props})}static get displayName(){return"IonBackButton"}static get contextType(){return xi}shouldComponentUpdate(){return!0}}class t$ extends de.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var c,u;const{icon:e,ios:t,md:r,mode:i,...o}=this.props;let a;const s=gy(),l=i||(s==null?void 0:s.get("mode"));return t||r?l==="ios"?a=(c=t!=null?t:r)!=null?c:e:a=(u=r!=null?r:t)!=null?u:e:a=e,C.jsx(WF,{ref:this.props.forwardedRef,icon:a,...o,children:this.props.children})}static get contextType(){return xi}}const Xe=Ps(t$,"IonIcon");class yy extends de.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!yy?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):C.jsx(e,{...this.props})}static get contextType(){return xi}}class JS extends de.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!JS?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):C.jsx(e,{...this.props})}static get contextType(){return xi}}const QS=de.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});function ya(){const n=Y.useContext(QS);return Y.useMemo(()=>({back:n.back,push:n.push,goBack:n.back,canGoBack:n.canGoBack,routeInfo:n.routeInfo}),[n.back,n.push,n.canGoBack,n.routeInfo])}class Nne extends de.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=me(e.id)}setupAnimation(e){const t=this.animation;this.nodes.size>0&&t.addElement(Array.from(this.nodes.values())),xk(t,e),yk(t,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const t=this.animation,r=this.props;xk(t,r,e),n$(t,r,e),yk(t,r,e)}render(){const{children:e}=this.props;return C.jsx(C.Fragment,{children:de.Children.map(e,(t,r)=>de.cloneElement(t,{ref:i=>this.nodes.set(r,i)}))})}}const xk=(n,e={},t={})=>{const r=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!r.includes(l)&&e[l]!==t[l]&&n[l](e[l]);const i=e.from;i&&i!==t.from&&(Array.isArray(i)?i:[i]).forEach(c=>n.from(c.property,c.value));const o=e.to;o&&o!==t.to&&(Array.isArray(o)?o:[o]).forEach(c=>n.to(c.property,c.value));const a=e.fromTo;a&&a!==t.fromTo&&(Array.isArray(a)?a:[a]).forEach(c=>n.fromTo(c.property,c.fromValue,c.toValue));const s=e.onFinish;s&&s!==t.onFinish&&(Array.isArray(s)?s:[s]).forEach(c=>n.onFinish(c.callback,c.opts))},n$=(n,e={},t={})=>{var a,s,l,c,u;const{progressStart:r,progressStep:i,progressEnd:o}=e;r&&(((a=t.progressStart)==null?void 0:a.forceLinearEasing)!==(r==null?void 0:r.forceLinearEasing)||((s=t.progressStart)==null?void 0:s.step)!==(r==null?void 0:r.step))&&n.progressStart(r.forceLinearEasing,r.step),i&&((l=t.progressStep)==null?void 0:l.step)!==(i==null?void 0:i.step)&&n.progressStep(i.step),o&&(((c=t.progressEnd)==null?void 0:c.playTo)!==(o==null?void 0:o.playTo)||((u=t.progressEnd)==null?void 0:u.step)!==(o==null?void 0:o.step)||(t==null?void 0:t.dur)!==(o==null?void 0:o.dur))&&n.progressEnd(o.playTo,o.step,o.dur)},yk=(n,e={},t={})=>{!t.play&&e.play&&n.play(),!t.pause&&e.pause&&n.pause(),!t.stop&&e.stop&&n.stop(),!t.destroy&&e.destroy&&n.destroy()};function r$(n,e,t){const r=Y.useRef(),i=Y.useMemo(()=>"on".concat(n,"DidDismiss"),[n]),o=Y.useMemo(()=>"on".concat(n,"DidPresent"),[n]),a=Y.useMemo(()=>"on".concat(n,"WillDismiss"),[n]),s=Y.useMemo(()=>"on".concat(n,"WillPresent"),[n]);t();const l=Y.useCallback(async u=>{if(r.current)return;const{onDidDismiss:d,onWillDismiss:h,onDidPresent:f,onWillPresent:p,...m}=u,b=g=>{d&&d(g),r.current=void 0};r.current=await e.create({...m}),Yp(r.current,{[i]:b,[o]:g=>f&&f(g),[a]:g=>h&&h(g),[s]:g=>p&&p(g)}),r.current.present()},[e]),c=Y.useCallback(async()=>{r.current&&await r.current.dismiss(),r.current=void 0},[]);return{present:l,dismiss:c}}function Jp(){const n=r$("IonToast",e9,HS);return[Y.useCallback((t,r)=>typeof t=="string"?n.present({message:t,duration:r}):n.present(t),[n.present]),n.dismiss]}const i$=(n={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),BO({...n})},e5=de.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class wk extends de.Component{constructor(e){super(e),this.ionLifeCycleContext=new xF,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return C.jsx(Gp.Provider,{value:this.ionLifeCycleContext,children:e&&this.props.children})}}class o${constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const t=this._getRouteInfosByKey(e);t&&(t.forEach(r=>{this.locationHistory=this.locationHistory.filter(i=>i.id!==r.id)}),this.tabHistory[e]=[])}update(e){const t=this.locationHistory.findIndex(i=>i.id===e.id);t>-1&&this.locationHistory.splice(t,1,e);const r=this.tabHistory[e.tab||""];if(r){const i=r.findIndex(o=>o.id===e.id);i>-1?r.splice(i,1,e):r.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const t=this._getRouteInfosByKey(e.tab);t&&(this._areRoutesEqual(t[t.length-1],e)&&t.pop(),t.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,t){return!e||!t?!1:e.pathname===t.pathname&&e.search===t.search}_pop(e){const t=this._getRouteInfosByKey(e.tab);t&&(t.pop(),t.pop(),t.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const t=this._getRouteInfosByKey(e.tab);t&&t.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(t=>this.tabHistory[t]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let t;return e&&(t=this.tabHistory[e],t||(t=this.tabHistory[e]=[])),t}getFirstRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[0]}getCurrentRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[t.length-1]}findLastLocation(e){const t=this._getRouteInfosByKey(e.tab);if(t)for(let r=t.length-2;r>=0;r--){const i=t[r];if(i&&i.pathname===e.pushedByRoute)return i}for(let r=this.locationHistory.length-2;r>=0;r--){const i=this.locationHistory[r];if(i&&i.pathname===e.pushedByRoute)return i}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class a$ extends de.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(t,r,i,o,a)=>{this.navigate(t,r,i,a,o)},back:t=>{this.goBack(void 0,t)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,t=>{this.nativeGoBack(),t()})}goBack(e,t){this.props.onNavigateBack(e,t)}nativeGoBack(){this.props.onNativeBack()}navigate(e,t="forward",r="push",i,o,a){this.props.onNavigate(e,r,t,i,o,a)}getPageManager(){return xy}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return C.jsx(xi.Provider,{value:{...this.state,routeInfo:this.props.routeInfo},children:C.jsx(QS.Provider,{value:{...this.ionRouterContextValue,routeInfo:this.props.routeInfo},children:this.props.children})})}}class s${constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:t}=e;this.viewStacks[t]?this.viewStacks[t].push(e):this.viewStacks[t]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:t}=e,r=this.viewStacks[t];if(r){const i=r.find(o=>o.id===e.id);i&&(i.mount=!1,this.viewStacks[t]=r.filter(o=>o.id!==i.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),t=[];return e.forEach(r=>{t.push(...this.viewStacks[r])}),t}}function Gu(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function lr(){return lr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lr.apply(null,arguments)}function mh(n){return n.charAt(0)==="/"}function Wg(n,e){for(var t=e,r=t+1,i=n.length;r<i;t+=1,r+=1)n[t]=n[r];n.pop()}function l$(n,e){e===void 0&&(e="");var t=n&&n.split("/")||[],r=e&&e.split("/")||[],i=n&&mh(n),o=e&&mh(e),a=i||o;if(n&&mh(n)?r=t:t.length&&(r.pop(),r=r.concat(t)),!r.length)return"/";var s;if(r.length){var l=r[r.length-1];s=l==="."||l===".."||l===""}else s=!1;for(var c=0,u=r.length;u>=0;u--){var d=r[u];d==="."?Wg(r,u):d===".."?(Wg(r,u),c++):c&&(Wg(r,u),c--)}if(!a)for(;c--;c)r.unshift("..");a&&r[0]!==""&&(!r[0]||!mh(r[0]))&&r.unshift("");var h=r.join("/");return s&&h.substr(-1)!=="/"&&(h+="/"),h}function kk(n){return n.valueOf?n.valueOf():Object.prototype.valueOf.call(n)}function Zh(n,e){if(n===e)return!0;if(n==null||e==null)return!1;if(Array.isArray(n))return Array.isArray(e)&&n.length===e.length&&n.every(function(i,o){return Zh(i,e[o])});if(typeof n=="object"||typeof e=="object"){var t=kk(n),r=kk(e);return t!==n||r!==e?Zh(t,r):Object.keys(Object.assign({},n,e)).every(function(i){return Zh(n[i],e[i])})}return!1}var c$="Invariant failed";function zs(n,e){throw new Error(c$)}function vu(n){return n.charAt(0)==="/"?n:"/"+n}function _k(n){return n.charAt(0)==="/"?n.substr(1):n}function u$(n,e){return n.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(n.charAt(e.length))!==-1}function t5(n,e){return u$(n,e)?n.substr(e.length):n}function n5(n){return n.charAt(n.length-1)==="/"?n.slice(0,-1):n}function d$(n){var e=n||"/",t="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return o!==-1&&(t=e.substr(o),e=e.substr(0,o)),{pathname:e,search:t==="?"?"":t,hash:r==="#"?"":r}}function Br(n){var e=n.pathname,t=n.search,r=n.hash,i=e||"/";return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function nr(n,e,t,r){var i;typeof n=="string"?(i=d$(n),i.state=e):(i=lr({},n),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return t&&(i.key=t),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=l$(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function h$(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash===e.hash&&n.key===e.key&&Zh(n.state,e.state)}function wy(){var n=null;function e(a){return n=a,function(){n===a&&(n=null)}}function t(a,s,l,c){if(n!=null){var u=typeof n=="function"?n(a,s):n;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var r=[];function i(a){var s=!0;function l(){s&&a.apply(void 0,arguments)}return r.push(l),function(){s=!1,r=r.filter(function(c){return c!==l})}}function o(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];r.forEach(function(c){return c.apply(void 0,s)})}return{setPrompt:e,confirmTransitionTo:t,appendListener:i,notifyListeners:o}}var r5=!!(typeof window<"u"&&window.document&&window.document.createElement);function i5(n,e){e(window.confirm(n))}function f$(){var n=window.navigator.userAgent;return(n.indexOf("Android 2.")!==-1||n.indexOf("Android 4.0")!==-1)&&n.indexOf("Mobile Safari")!==-1&&n.indexOf("Chrome")===-1&&n.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function p$(){return window.navigator.userAgent.indexOf("Trident")===-1}function m$(){return window.navigator.userAgent.indexOf("Firefox")===-1}function g$(n){return n.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Ck="popstate",Ek="hashchange";function Sk(){try{return window.history.state||{}}catch(n){return{}}}function b$(n){n===void 0&&(n={}),r5||zs();var e=window.history,t=f$(),r=!p$(),i=n,o=i.forceRefresh,a=o===void 0?!1:o,s=i.getUserConfirmation,l=s===void 0?i5:s,c=i.keyLength,u=c===void 0?6:c,d=n.basename?n5(vu(n.basename)):"";function h(B){var U=B||{},$=U.key,F=U.state,ee=window.location,X=ee.pathname,Q=ee.search,be=ee.hash,ye=X+Q+be;return d&&(ye=t5(ye,d)),nr(ye,F,$)}function f(){return Math.random().toString(36).substr(2,u)}var p=wy();function m(B){lr(N,B),N.length=e.length,p.notifyListeners(N.location,N.action)}function b(B){g$(B)||x(h(B.state))}function g(){x(h(Sk()))}var v=!1;function x(B){if(v)v=!1,m();else{var U="POP";p.confirmTransitionTo(B,U,l,function($){$?m({action:U,location:B}):y(B)})}}function y(B){var U=N.location,$=k.indexOf(U.key);$===-1&&($=0);var F=k.indexOf(B.key);F===-1&&(F=0);var ee=$-F;ee&&(v=!0,A(ee))}var w=h(Sk()),k=[w.key];function _(B){return d+Br(B)}function T(B,U){var $="PUSH",F=nr(B,U,f(),N.location);p.confirmTransitionTo(F,$,l,function(ee){if(ee){var X=_(F),Q=F.key,be=F.state;if(t)if(e.pushState({key:Q,state:be},null,X),a)window.location.href=X;else{var ye=k.indexOf(N.location.key),ge=k.slice(0,ye+1);ge.push(F.key),k=ge,m({action:$,location:F})}else window.location.href=X}})}function E(B,U){var $="REPLACE",F=nr(B,U,f(),N.location);p.confirmTransitionTo(F,$,l,function(ee){if(ee){var X=_(F),Q=F.key,be=F.state;if(t)if(e.replaceState({key:Q,state:be},null,X),a)window.location.replace(X);else{var ye=k.indexOf(N.location.key);ye!==-1&&(k[ye]=F.key),m({action:$,location:F})}else window.location.replace(X)}})}function A(B){e.go(B)}function M(){A(-1)}function I(){A(1)}var L=0;function S(B){L+=B,L===1&&B===1?(window.addEventListener(Ck,b),r&&window.addEventListener(Ek,g)):L===0&&(window.removeEventListener(Ck,b),r&&window.removeEventListener(Ek,g))}var O=!1;function P(B){B===void 0&&(B=!1);var U=p.setPrompt(B);return O||(S(1),O=!0),function(){return O&&(O=!1,S(-1)),U()}}function z(B){var U=p.appendListener(B);return S(1),function(){S(-1),U()}}var N={length:e.length,action:"POP",location:w,createHref:_,push:T,replace:E,go:A,goBack:M,goForward:I,block:P,listen:z};return N}var Tk="hashchange",v$={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+_k(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:_k,decodePath:vu},slash:{encodePath:vu,decodePath:vu}};function o5(n){var e=n.indexOf("#");return e===-1?n:n.slice(0,e)}function $c(){var n=window.location.href,e=n.indexOf("#");return e===-1?"":n.substring(e+1)}function x$(n){window.location.hash=n}function Vg(n){window.location.replace(o5(window.location.href)+"#"+n)}function y$(n){n===void 0&&(n={}),r5||zs();var e=window.history;m$();var t=n,r=t.getUserConfirmation,i=r===void 0?i5:r,o=t.hashType,a=o===void 0?"slash":o,s=n.basename?n5(vu(n.basename)):"",l=v$[a],c=l.encodePath,u=l.decodePath;function d(){var U=u($c());return s&&(U=t5(U,s)),nr(U)}var h=wy();function f(U){lr(B,U),B.length=e.length,h.notifyListeners(B.location,B.action)}var p=!1,m=null;function b(U,$){return U.pathname===$.pathname&&U.search===$.search&&U.hash===$.hash}function g(){var U=$c(),$=c(U);if(U!==$)Vg($);else{var F=d(),ee=B.location;if(!p&&b(ee,F)||m===Br(F))return;m=null,v(F)}}function v(U){if(p)p=!1,f();else{var $="POP";h.confirmTransitionTo(U,$,i,function(F){F?f({action:$,location:U}):x(U)})}}function x(U){var $=B.location,F=_.lastIndexOf(Br($));F===-1&&(F=0);var ee=_.lastIndexOf(Br(U));ee===-1&&(ee=0);var X=F-ee;X&&(p=!0,M(X))}var y=$c(),w=c(y);y!==w&&Vg(w);var k=d(),_=[Br(k)];function T(U){var $=document.querySelector("base"),F="";return $&&$.getAttribute("href")&&(F=o5(window.location.href)),F+"#"+c(s+Br(U))}function E(U,$){var F="PUSH",ee=nr(U,void 0,void 0,B.location);h.confirmTransitionTo(ee,F,i,function(X){if(X){var Q=Br(ee),be=c(s+Q),ye=$c()!==be;if(ye){m=Q,x$(be);var ge=_.lastIndexOf(Br(B.location)),we=_.slice(0,ge+1);we.push(Q),_=we,f({action:F,location:ee})}else f()}})}function A(U,$){var F="REPLACE",ee=nr(U,void 0,void 0,B.location);h.confirmTransitionTo(ee,F,i,function(X){if(X){var Q=Br(ee),be=c(s+Q),ye=$c()!==be;ye&&(m=Q,Vg(be));var ge=_.indexOf(Br(B.location));ge!==-1&&(_[ge]=Q),f({action:F,location:ee})}})}function M(U){e.go(U)}function I(){M(-1)}function L(){M(1)}var S=0;function O(U){S+=U,S===1&&U===1?window.addEventListener(Tk,g):S===0&&window.removeEventListener(Tk,g)}var P=!1;function z(U){U===void 0&&(U=!1);var $=h.setPrompt(U);return P||(O(1),P=!0),function(){return P&&(P=!1,O(-1)),$()}}function N(U){var $=h.appendListener(U);return O(1),function(){O(-1),$()}}var B={length:e.length,action:"POP",location:k,createHref:T,push:E,replace:A,go:M,goBack:I,goForward:L,block:z,listen:N};return B}function Ak(n,e,t){return Math.min(Math.max(n,e),t)}function w$(n){n===void 0&&(n={});var e=n,t=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,o=e.initialIndex,a=o===void 0?0:o,s=e.keyLength,l=s===void 0?6:s,c=wy();function u(T){lr(_,T),_.length=_.entries.length,c.notifyListeners(_.location,_.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=Ak(a,0,i.length-1),f=i.map(function(T){return typeof T=="string"?nr(T,void 0,d()):nr(T,void 0,T.key||d())}),p=Br;function m(T,E){var A="PUSH",M=nr(T,E,d(),_.location);c.confirmTransitionTo(M,A,t,function(I){if(I){var L=_.index,S=L+1,O=_.entries.slice(0);O.length>S?O.splice(S,O.length-S,M):O.push(M),u({action:A,location:M,index:S,entries:O})}})}function b(T,E){var A="REPLACE",M=nr(T,E,d(),_.location);c.confirmTransitionTo(M,A,t,function(I){I&&(_.entries[_.index]=M,u({action:A,location:M}))})}function g(T){var E=Ak(_.index+T,0,_.entries.length-1),A="POP",M=_.entries[E];c.confirmTransitionTo(M,A,t,function(I){I?u({action:A,location:M,index:E}):u()})}function v(){g(-1)}function x(){g(1)}function y(T){var E=_.index+T;return E>=0&&E<_.entries.length}function w(T){return T===void 0&&(T=!1),c.setPrompt(T)}function k(T){return c.appendListener(T)}var _={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:p,push:m,replace:b,go:g,goBack:v,goForward:x,canGo:y,block:w,listen:k};return _}function Kb(n,e){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Kb(n,e)}function wa(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Kb(n,e)}var a5={exports:{}},k$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_$=k$,C$=_$;function s5(){}function l5(){}l5.resetWarningCache=s5;var E$=function(){function n(r,i,o,a,s,l){if(l!==C$){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:l5,resetWarningCache:s5};return t.PropTypes=t,t};a5.exports=E$();var S$=a5.exports;const Ik=Es(S$);var Sc={exports:{}},T$=Array.isArray||function(n){return Object.prototype.toString.call(n)=="[object Array]"},Zf=T$;Sc.exports=d5;Sc.exports.parse=ky;Sc.exports.compile=R$;Sc.exports.tokensToFunction=c5;Sc.exports.tokensToRegExp=u5;var A$=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function ky(n,e){for(var t=[],r=0,i=0,o="",a=e&&e.delimiter||"/",s;(s=A$.exec(n))!=null;){var l=s[0],c=s[1],u=s.index;if(o+=n.slice(i,u),i=u+l.length,c){o+=c[1];continue}var d=n[i],h=s[2],f=s[3],p=s[4],m=s[5],b=s[6],g=s[7];o&&(t.push(o),o="");var v=h!=null&&d!=null&&d!==h,x=b==="+"||b==="*",y=b==="?"||b==="*",w=h||a,k=p||m,_=h||(typeof t[t.length-1]=="string"?t[t.length-1]:"");t.push({name:f||r++,prefix:h||"",delimiter:w,optional:y,repeat:x,partial:v,asterisk:!!g,pattern:k?M$(k):g?".*":I$(w,_)})}return i<n.length&&(o+=n.substr(i)),o&&t.push(o),t}function I$(n,e){return!e||e.indexOf(n)>-1?"[^"+Za(n)+"]+?":Za(e)+"|(?:(?!"+Za(e)+")[^"+Za(n)+"])+?"}function R$(n,e){return c5(ky(n,e),e)}function D$(n){return encodeURI(n).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function O$(n){return encodeURI(n).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c5(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)typeof n[r]=="object"&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",Cy(e)));return function(i,o){for(var a="",s=i||{},l=o||{},c=l.pretty?D$:encodeURIComponent,u=0;u<n.length;u++){var d=n[u];if(typeof d=="string"){a+=d;continue}var h=s[d.name],f;if(h==null)if(d.optional){d.partial&&(a+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(Zf(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(f=c(h[p]),!t[u].test(f))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(p===0?d.prefix:d.delimiter)+f}continue}if(f=d.asterisk?O$(h):c(h),!t[u].test(f))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+f+'"');a+=d.prefix+f}return a}}function Za(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function M$(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function _y(n,e){return n.keys=e,n}function Cy(n){return n&&n.sensitive?"":"i"}function P$(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return _y(n,e)}function B$(n,e,t){for(var r=[],i=0;i<n.length;i++)r.push(d5(n[i],e,t).source);var o=new RegExp("(?:"+r.join("|")+")",Cy(t));return _y(o,e)}function z$(n,e,t){return u5(ky(n,t),e,t)}function u5(n,e,t){Zf(e)||(t=e||t,e=[]),t=t||{};for(var r=t.strict,i=t.end!==!1,o="",a=0;a<n.length;a++){var s=n[a];if(typeof s=="string")o+=Za(s);else{var l=Za(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),s.optional?s.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",o+=c}}var u=Za(t.delimiter||"/"),d=o.slice(-u.length)===u;return r||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),i?o+="$":o+=r&&d?"":"(?="+u+"|$)",_y(new RegExp("^"+o,Cy(t)),e)}function d5(n,e,t){return Zf(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?P$(n,e):Zf(n)?B$(n,e,t):z$(n,e,t)}var L$=Sc.exports;const h5=Es(L$);var gt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bn=typeof Symbol=="function"&&Symbol.for,Ey=bn?Symbol.for("react.element"):60103,Sy=bn?Symbol.for("react.portal"):60106,Qp=bn?Symbol.for("react.fragment"):60107,em=bn?Symbol.for("react.strict_mode"):60108,tm=bn?Symbol.for("react.profiler"):60114,nm=bn?Symbol.for("react.provider"):60109,rm=bn?Symbol.for("react.context"):60110,Ty=bn?Symbol.for("react.async_mode"):60111,im=bn?Symbol.for("react.concurrent_mode"):60111,om=bn?Symbol.for("react.forward_ref"):60112,am=bn?Symbol.for("react.suspense"):60113,j$=bn?Symbol.for("react.suspense_list"):60120,sm=bn?Symbol.for("react.memo"):60115,lm=bn?Symbol.for("react.lazy"):60116,N$=bn?Symbol.for("react.block"):60121,F$=bn?Symbol.for("react.fundamental"):60117,$$=bn?Symbol.for("react.responder"):60118,U$=bn?Symbol.for("react.scope"):60119;function Rr(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Ey:switch(n=n.type,n){case Ty:case im:case Qp:case tm:case em:case am:return n;default:switch(n=n&&n.$$typeof,n){case rm:case om:case lm:case sm:case nm:return n;default:return e}}case Sy:return e}}}function f5(n){return Rr(n)===im}gt.AsyncMode=Ty;gt.ConcurrentMode=im;gt.ContextConsumer=rm;gt.ContextProvider=nm;gt.Element=Ey;gt.ForwardRef=om;gt.Fragment=Qp;gt.Lazy=lm;gt.Memo=sm;gt.Portal=Sy;gt.Profiler=tm;gt.StrictMode=em;gt.Suspense=am;gt.isAsyncMode=function(n){return f5(n)||Rr(n)===Ty};gt.isConcurrentMode=f5;gt.isContextConsumer=function(n){return Rr(n)===rm};gt.isContextProvider=function(n){return Rr(n)===nm};gt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ey};gt.isForwardRef=function(n){return Rr(n)===om};gt.isFragment=function(n){return Rr(n)===Qp};gt.isLazy=function(n){return Rr(n)===lm};gt.isMemo=function(n){return Rr(n)===sm};gt.isPortal=function(n){return Rr(n)===Sy};gt.isProfiler=function(n){return Rr(n)===tm};gt.isStrictMode=function(n){return Rr(n)===em};gt.isSuspense=function(n){return Rr(n)===am};gt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Qp||n===im||n===tm||n===em||n===am||n===j$||typeof n=="object"&&n!==null&&(n.$$typeof===lm||n.$$typeof===sm||n.$$typeof===nm||n.$$typeof===rm||n.$$typeof===om||n.$$typeof===F$||n.$$typeof===$$||n.$$typeof===U$||n.$$typeof===N$)};gt.typeOf=Rr;function p5(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var m5={exports:{}},ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vn=typeof Symbol=="function"&&Symbol.for,Ay=vn?Symbol.for("react.element"):60103,Iy=vn?Symbol.for("react.portal"):60106,cm=vn?Symbol.for("react.fragment"):60107,um=vn?Symbol.for("react.strict_mode"):60108,dm=vn?Symbol.for("react.profiler"):60114,hm=vn?Symbol.for("react.provider"):60109,fm=vn?Symbol.for("react.context"):60110,Ry=vn?Symbol.for("react.async_mode"):60111,pm=vn?Symbol.for("react.concurrent_mode"):60111,mm=vn?Symbol.for("react.forward_ref"):60112,gm=vn?Symbol.for("react.suspense"):60113,H$=vn?Symbol.for("react.suspense_list"):60120,bm=vn?Symbol.for("react.memo"):60115,vm=vn?Symbol.for("react.lazy"):60116,W$=vn?Symbol.for("react.block"):60121,V$=vn?Symbol.for("react.fundamental"):60117,q$=vn?Symbol.for("react.responder"):60118,G$=vn?Symbol.for("react.scope"):60119;function Dr(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Ay:switch(n=n.type,n){case Ry:case pm:case cm:case dm:case um:case gm:return n;default:switch(n=n&&n.$$typeof,n){case fm:case mm:case vm:case bm:case hm:return n;default:return e}}case Iy:return e}}}function g5(n){return Dr(n)===pm}ht.AsyncMode=Ry;ht.ConcurrentMode=pm;ht.ContextConsumer=fm;ht.ContextProvider=hm;ht.Element=Ay;ht.ForwardRef=mm;ht.Fragment=cm;ht.Lazy=vm;ht.Memo=bm;ht.Portal=Iy;ht.Profiler=dm;ht.StrictMode=um;ht.Suspense=gm;ht.isAsyncMode=function(n){return g5(n)||Dr(n)===Ry};ht.isConcurrentMode=g5;ht.isContextConsumer=function(n){return Dr(n)===fm};ht.isContextProvider=function(n){return Dr(n)===hm};ht.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ay};ht.isForwardRef=function(n){return Dr(n)===mm};ht.isFragment=function(n){return Dr(n)===cm};ht.isLazy=function(n){return Dr(n)===vm};ht.isMemo=function(n){return Dr(n)===bm};ht.isPortal=function(n){return Dr(n)===Iy};ht.isProfiler=function(n){return Dr(n)===dm};ht.isStrictMode=function(n){return Dr(n)===um};ht.isSuspense=function(n){return Dr(n)===gm};ht.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===cm||n===pm||n===dm||n===um||n===gm||n===H$||typeof n=="object"&&n!==null&&(n.$$typeof===vm||n.$$typeof===bm||n.$$typeof===hm||n.$$typeof===fm||n.$$typeof===mm||n.$$typeof===V$||n.$$typeof===q$||n.$$typeof===G$||n.$$typeof===W$)};ht.typeOf=Dr;m5.exports=ht;var K$=m5.exports,Dy=K$,Y$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},X$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Z$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},b5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Oy={};Oy[Dy.ForwardRef]=Z$;Oy[Dy.Memo]=b5;function Rk(n){return Dy.isMemo(n)?b5:Oy[n.$$typeof]||Y$}var J$=Object.defineProperty,Q$=Object.getOwnPropertyNames,Dk=Object.getOwnPropertySymbols,eU=Object.getOwnPropertyDescriptor,tU=Object.getPrototypeOf,Ok=Object.prototype;function v5(n,e,t){if(typeof e!="string"){if(Ok){var r=tU(e);r&&r!==Ok&&v5(n,r,t)}var i=Q$(e);Dk&&(i=i.concat(Dk(e)));for(var o=Rk(n),a=Rk(e),s=0;s<i.length;++s){var l=i[s];if(!X$[l]&&!(t&&t[l])&&!(a&&a[l])&&!(o&&o[l])){var c=eU(e,l);try{J$(n,l,c)}catch(u){}}}}return n}var nU=v5;const rU=Es(nU);var qg=1073741823,Mk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function iU(){var n="__global_unique_id__";return Mk[n]=(Mk[n]||0)+1}function oU(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function aU(n){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return n},set:function(r,i){n=r,e.forEach(function(o){return o(n,i)})}}}function sU(n){return Array.isArray(n)?n[0]:n}function lU(n,e){var t,r,i="__create-react-context-"+iU()+"__",o=function(s){wa(l,s);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=s.call.apply(s,[this].concat(h))||this,u.emitter=aU(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[i]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,f=d.value,p;oU(h,f)?p=0:(p=typeof e=="function"?e(h,f):qg,p|=0,p!==0&&this.emitter.set(d.value,p))}},c.render=function(){return this.props.children},l}(de.Component);o.childContextTypes=(t={},t[i]=Ik.object.isRequired,t);var a=function(s){wa(l,s);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=s.call.apply(s,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(p,m){var b=u.observedBits|0;b&m&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h==null?qg:h},c.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?qg:d},c.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},c.getValue=function(){return this.context[i]?this.context[i].get():n},c.render=function(){return sU(this.props.children)(this.state.value)},l}(de.Component);return a.contextTypes=(r={},r[i]=Ik.object,r),{Provider:o,Consumer:a}}var cU=de.createContext||lU,x5=function(e){var t=cU();return t.displayName=e,t},y5=x5("Router-History"),ks=x5("Router"),Ad=function(n){wa(e,n),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=n.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(o){i._pendingLocation=o})),i}var t=e.prototype;return t.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){i._isMounted&&i.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},t.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},t.render=function(){return de.createElement(ks.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},de.createElement(y5.Provider,{children:this.props.children||null,value:this.props.history}))},e}(de.Component);de.Component;var uU=function(n){wa(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},t.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},t.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},t.render=function(){return null},e}(de.Component),Gg={},dU=1e4,Pk=0;function hU(n){if(Gg[n])return Gg[n];var e=h5.compile(n);return Pk<dU&&(Gg[n]=e,Pk++),e}function Bk(n,e){return n===void 0&&(n="/"),e===void 0&&(e={}),n==="/"?n:hU(n)(e,{pretty:!0})}function fU(n){var e=n.computedMatch,t=n.to,r=n.push,i=r===void 0?!1:r;return de.createElement(ks.Consumer,null,function(o){o||zs();var a=o.history,s=o.staticContext,l=i?a.push:a.replace,c=nr(e?typeof t=="string"?Bk(t,e.params):lr({},t,{pathname:Bk(t.pathname,e.params)}):t);return s?(l(c),null):de.createElement(uU,{onMount:function(){l(c)},onUpdate:function(d,h){var f=nr(h.to);h$(f,lr({},c,{key:f.key}))||l(c)},to:t})})}var zk={},pU=1e4,Lk=0;function mU(n,e){var t=""+e.end+e.strict+e.sensitive,r=zk[t]||(zk[t]={});if(r[n])return r[n];var i=[],o=h5(n,i,e),a={regexp:o,keys:i};return Lk<pU&&(r[n]=a,Lk++),a}function My(n,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var t=e,r=t.path,i=t.exact,o=i===void 0?!1:i,a=t.strict,s=a===void 0?!1:a,l=t.sensitive,c=l===void 0?!1:l,u=[].concat(r);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var f=mU(h,{end:o,strict:s,sensitive:c}),p=f.regexp,m=f.keys,b=p.exec(n);if(!b)return null;var g=b[0],v=b.slice(1),x=n===g;return o&&!x?null:{path:h,url:h==="/"&&g===""?"/":g,isExact:x,params:m.reduce(function(y,w,k){return y[w.name]=v[k],y},{})}},null)}function gU(n){return de.Children.count(n)===0}var oi=function(n){wa(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.render=function(){var i=this;return de.createElement(ks.Consumer,null,function(o){o||zs();var a=i.props.location||o.location,s=i.props.computedMatch?i.props.computedMatch:i.props.path?My(a.pathname,i.props):o.match,l=lr({},o,{location:a,match:s}),c=i.props,u=c.children,d=c.component,h=c.render;return Array.isArray(u)&&gU(u)&&(u=null),de.createElement(ks.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?de.createElement(d,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(de.Component);function Py(n){return n.charAt(0)==="/"?n:"/"+n}function bU(n,e){return n?lr({},e,{pathname:Py(n)+e.pathname}):e}function vU(n,e){if(!n)return e;var t=Py(n);return e.pathname.indexOf(t)!==0?e:lr({},e,{pathname:e.pathname.substr(t.length)})}function jk(n){return typeof n=="string"?n:Br(n)}function Kg(n){return function(){zs()}}function Nk(){}de.Component;de.Component;function xU(n){var e="withRouter("+(n.displayName||n.name)+")",t=function(i){var o=i.wrappedComponentRef,a=p5(i,["wrappedComponentRef"]);return de.createElement(ks.Consumer,null,function(s){return s||zs(),de.createElement(n,lr({},a,s,{ref:o}))})};return t.displayName=e,t.WrappedComponent=n,rU(t,n)}var w5=de.useContext;function By(){return w5(y5)}function xm(){var n=w5(ks).match;return n?n.params:{}}class yU extends de.PureComponent{render(){return de.createElement(oi,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}const Ku=({pathname:n,componentProps:e})=>{const{exact:t,component:r}=e,i=e.path||e.from,a=My(n,{exact:t,path:i,component:r});return a||!1};class wU extends s${constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,t,r,i){const o={id:Vu("viewItem"),outletId:e,ionPageElement:i,reactElement:t,mount:!0,ionRoute:!1};return t.type===yy&&(o.ionRoute=!0,o.disableIonPageManagement=t.props.disableIonPageManagement),o.routeData={match:Ku({pathname:r.pathname,componentProps:t.props}),childProps:t.props},o}getChildrenToRender(e,t,r){const i=this.getViewItemsForOutlet(e);return de.Children.forEach(t.props.children,a=>{const s=i.find(l=>Fk(a,l.routeData.childProps.path||l.routeData.childProps.from));s&&(s.reactElement=a)}),i.map(a=>{let s;if(a.ionRoute&&!a.disableIonPageManagement)s=de.createElement(wk,{key:"view-".concat(a.id),mount:a.mount,removeView:()=>this.remove(a)},de.cloneElement(a.reactElement,{computedMatch:a.routeData.match}));else{const l=Fk(a.reactElement,r.pathname);s=de.createElement(wk,{key:"view-".concat(a.id),mount:a.mount,removeView:()=>this.remove(a)},de.cloneElement(a.reactElement,{computedMatch:a.routeData.match})),!l&&a.routeData.match&&(a.routeData.match=void 0,a.mount=!1)}return s})}findViewItemByRouteInfo(e,t,r){const{viewItem:i,match:o}=this.findViewItemByPath(e.pathname,t);return(r===void 0||r===!0)&&i&&o&&(i.routeData.match=o),i}findLeavingViewItemByRouteInfo(e,t,r=!0){const{viewItem:i}=this.findViewItemByPath(e.lastPathname,t,r);return i}findViewItemByPathname(e,t){const{viewItem:r}=this.findViewItemByPath(e,t);return r}findViewItemByPath(e,t,r){let i,o,a;if(t)a=this.getViewItemsForOutlet(t),a.some(s),i||a.some(l);else{const c=this.getAllViewItems();c.some(s),i||c.some(l)}return{viewItem:i,match:o};function s(c){var u,d;if(r&&!c.ionRoute)return!1;if(o=Ku({pathname:e,componentProps:c.routeData.childProps}),o){const h=o.path.includes(":");if(!h||h&&o.url===((d=(u=c.routeData)===null||u===void 0?void 0:u.match)===null||d===void 0?void 0:d.url))return i=c,!0}return!1}function l(c){return!c.routeData.childProps.path&&!c.routeData.childProps.from?(o={path:e,url:e,isExact:!0,params:{}},i=c,!0):!1}}}function Fk(n,e){return Ku({pathname:e,componentProps:n.props})}function kU(n){let e;if(typeof n=="string"?e=n:e=n.outerHTML,document){const t=document.createElement("div");t.innerHTML=e,t.style.zIndex="";const r=t.getElementsByTagName("ion-back-button");return r[0]&&r[0].remove(),t.firstChild}}const $k=n=>!n.classList.contains("ion-page-invisible")&&!n.classList.contains("ion-page-hidden");class _U extends de.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=Vu("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:t}=this.props.routeInfo,{pathname:r}=e.routeInfo;t!==r?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var t,r;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let i=this.context.findViewItemByRouteInfo(e,this.id),o=this.context.findLeavingViewItemByRouteInfo(e,this.id);!o&&e.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),o&&(e.routeAction==="replace"?o.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((t=e.routeOptions)===null||t===void 0)&&t.unmount&&(o.mount=!1):e.routeDirection!=="none"&&i!==o&&(o.mount=!1));const a=CU((r=this.ionRouterOutlet)===null||r===void 0?void 0:r.props.children,e);if(i?i.reactElement=a:a&&(i=this.context.createViewItem(this.id,a,e),this.context.addViewItem(i)),i&&i.ionPageElement){if(i===o&&i.routeData.match.url!==e.pathname||(!o&&this.props.routeInfo.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),$k(i.ionPageElement)&&o!==void 0&&!$k(o.ionPageElement)))return;this.transitionPage(e,i,o)}else o&&!a&&!i&&o.ionPageElement&&(o.ionPageElement.classList.add("ion-page-hidden"),o.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,t){const r=this.context.findViewItemByRouteInfo(t,this.id);if(r){const i=r.ionPageElement;if(r.ionPageElement=e,r.ionRoute=!0,i===e)return}this.handlePageTransition(t)}async setupRouterOutlet(e){const t=()=>{const o=gy();if(!(o&&o.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:s}=this.props,l=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(l,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==s.pathname},r=async()=>{const{routeInfo:o}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},s=this.context.findViewItemByRouteInfo(a,this.id,!1),l=this.context.findViewItemByRouteInfo(o,this.id,!1);return s&&l&&await this.transitionPage(o,s,l,"back",!0),Promise.resolve()},i=o=>{if(o)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:a}=this.props,s=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},l=this.context.findViewItemByRouteInfo(s,this.id,!1),c=this.context.findViewItemByRouteInfo(a,this.id,!1);if(l!==c&&(l==null?void 0:l.ionPageElement)!==void 0){const{ionPageElement:u}=l;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:t,onStart:r,onEnd:i}}async transitionPage(e,t,r,i,o=!1){const a=async(u,d)=>{const h=this.skipTransition;h?this.skipTransition=!1:(u.classList.add("ion-page"),u.classList.add("ion-page-invisible")),await s.commit(u,d,{duration:h||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:o,animationBuilder:e.routeAnimation})},s=this.routerOutletElement,l=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=i!=null?i:l;if(t&&t.ionPageElement&&this.routerOutletElement)if(r&&r.ionPageElement&&t===r)if(EU(r.reactElement,e.pathname,!0)){const d=kU(r.ionPageElement.outerHTML);d&&(this.routerOutletElement.appendChild(d),await a(t.ionPageElement,d),this.routerOutletElement.removeChild(d))}else await a(t.ionPageElement,void 0);else await a(t.ionPageElement,r==null?void 0:r.ionPageElement),r&&r.ionPageElement&&!o&&(r.ionPageElement.classList.add("ion-page-hidden"),r.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,t=de.Children.only(e);this.ionRouterOutlet=t;const r=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return de.createElement(vy.Provider,{value:this.stackContextValue},de.cloneElement(t,{ref:i=>{t.props.setRef&&t.props.setRef(i),t.props.forwardedRef&&(t.props.forwardedRef.current=i),this.routerOutletElement=i;const{ref:o}=t;typeof o=="function"&&o(i)}},r))}static get contextType(){return e5}}function CU(n,e){let t;return de.Children.forEach(n,r=>{Ku({pathname:e.pathname,componentProps:r.props})&&(t=r)}),t||(de.Children.forEach(n,r=>{r.props.path||r.props.from||(t=r)}),t)}function EU(n,e,t){return Ku({pathname:e,componentProps:Object.assign(Object.assign({},n.props),{exact:t})})}class SU extends de.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new o$,this.viewStack=new wU,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const t={id:Vu("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(t),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:t}}handleChangeTab(e,t,r){if(!t)return;const i=this.locationHistory.getCurrentRouteInfoForTab(e),[o,a]=t.split("?");i?(this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"push",routeDirection:"none"}),i.pathname===o?(this.incomingRouteParams.routeOptions=r,this.props.history.push(i.pathname+(i.search||""))):(this.incomingRouteParams.pathname=o,this.incomingRouteParams.search=a?"?"+a:void 0,this.incomingRouteParams.routeOptions=r,this.props.history.push(o+(a?"?"+a:"")))):this.handleNavigate(o,"push","none",void 0,r,e)}handleHistoryChange(e,t){var r,i,o;let a;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?a=this.locationHistory.previous():a=this.locationHistory.current():a=this.locationHistory.current(),a.pathname+a.search!==e.pathname){if(!this.incomingRouteParams){if(t==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),t==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const u=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},u),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((r=e.state)===null||r===void 0?void 0:r.direction)||"forward",routeOptions:(i=e.state)===null||i===void 0?void 0:i.routerOptions,tab:this.currentTab})}let l;if(!((o=this.incomingRouteParams)===null||o===void 0)&&o.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:a.pathname}),this.locationHistory.add(l);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(l=Object.assign(Object.assign({id:Vu("routeInfo")},this.incomingRouteParams),{lastPathname:a.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:a.lastPathname}),c)l.tab=a.tab,l.pushedByRoute=a.pathname;else if(l.routeAction==="pop"){const u=this.locationHistory.findLastLocation(l);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="push"&&l.tab!==a.tab){const u=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="replace"){const u=this.locationHistory.current(),d=u==null?void 0:u.pushedByRoute,h=d!==void 0&&d!==l.pathname?d:l.pushedByRoute;l.lastPathname=(u==null?void 0:u.pathname)||l.lastPathname,l.prevRouteLastPathname=u==null?void 0:u.lastPathname,l.pushedByRoute=h,l.routeDirection=l.routeDirection||(u==null?void 0:u.routeDirection),l.routeAnimation=l.routeAnimation||(u==null?void 0:u.routeAnimation)}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,t,r,i,o,a){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:t,routeDirection:r,routeOptions:o,routeAnimation:i,tab:a}),t==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",t){const r=gy();e=e||r&&r.get("backButtonDefaultHref");const i=this.locationHistory.current();if(i&&i.pushedByRoute){const o=this.locationHistory.findLastLocation(i);if(o){const a=t||i.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back",routeAnimation:a}),i.lastPathname===i.pushedByRoute||o.pathname===i.pushedByRoute&&i.tab===""&&o.tab===""){const s=this.props.history;(s.goBack||s.back)()}else this.handleNavigate(o.pathname+(o.search||""),"pop","back",a)}else this.handleNavigate(e,"pop","back",t)}else this.handleNavigate(e,"pop","back",t)}handleResetTab(e,t,r){const i=this.locationHistory.getFirstRouteInfoForTab(e);if(i){const o=Object.assign({},i);o.pathname=t,o.routeOptions=r,this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(o.pathname+(o.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const t=Object.assign({},this.locationHistory.current());t.tab!==e&&(t.tab=e,this.locationHistory.update(t))}render(){return de.createElement(e5.Provider,{value:this.routeMangerContextState},de.createElement(a$,{ionRoute:yU,ionRedirect:{},stackManager:_U,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const ym=xU(SU);ym.displayName="IonRouter";class TU extends de.Component{constructor(e){super(e);const{history:t}=e,r=Gu(e,["history"]);this.history=t||b$(r),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const r=e.location||e,i=e.action||t;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,r=Gu(e,["children"]);return de.createElement(Ad,Object.assign({history:this.history},r),de.createElement(ym,{registerHistoryListener:this.registerHistoryListener},t))}}class Fne extends de.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const r=e.location||e,i=e.action||t;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,r=Gu(e,["children"]);return de.createElement(Ad,Object.assign({},r),de.createElement(ym,{registerHistoryListener:this.registerHistoryListener},t))}}class $ne extends de.Component{constructor(e){super(e);const{history:t}=e,r=Gu(e,["history"]);this.history=t||y$(r),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const r=e.location||e,i=e.action||t;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,r=Gu(e,["children"]);return de.createElement(Ad,Object.assign({history:this.history},r),de.createElement(ym,{registerHistoryListener:this.registerHistoryListener},t))}}const AU=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Xt(()=>Promise.resolve().then(()=>Tc),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class zy extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class IU extends zy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class RU extends zy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class DU extends zy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yb;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Yb||(Yb={}));var OU=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};class MU{constructor(e,{headers:t={},customFetch:r,region:i=Yb.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=AU(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e,t={}){var r;return OU(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:a}=t;let s={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(s["x-region"]=l);let c;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(s["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(s["Content-Type"]="application/json",c=JSON.stringify(a)));const u=yield this.fetch("".concat(this.url,"/").concat(e),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:c}).catch(p=>{throw new IU(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new RU(u);if(!u.ok)throw new DU(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var Qn={},Ly={},wm={},Id={},km={},_m={},PU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sc=PU();const BU=sc.fetch,k5=sc.fetch.bind(sc),_5=sc.Headers,zU=sc.Request,LU=sc.Response,Tc=Object.freeze(Object.defineProperty({__proto__:null,Headers:_5,Request:zU,Response:LU,default:k5,fetch:BU},Symbol.toStringTag,{value:"Module"})),jU=KA(Tc);var Cm={};Object.defineProperty(Cm,"__esModule",{value:!0});let NU=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Cm.default=NU;var C5=Pn&&Pn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_m,"__esModule",{value:!0});const FU=C5(jU),$U=C5(Cm);let UU=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=FU.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,s,l;let c=null,u=null,d=null,h=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){const g=await o.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(s=o.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");m&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:"Results contain ".concat(u.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await o.text();try{c=JSON.parse(m),Array.isArray(c)&&o.status===404&&(u=[],c=null,h=200,f="OK")}catch(b){o.status===404&&m===""?(h=204,f="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new $U.default(c)}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(i=i.catch(o=>{var a,s,l;return{error:{message:"".concat((a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError",": ").concat(o==null?void 0:o.message),details:"".concat((s=o==null?void 0:o.stack)!==null&&s!==void 0?s:""),hint:"",code:"".concat((l=o==null?void 0:o.code)!==null&&l!==void 0?l:"")},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}};_m.default=UU;var HU=Pn&&Pn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(km,"__esModule",{value:!0});const WU=HU(_m);let VU=class extends WU.default{select(e){let t=!1;const r=(e!=null?e:"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const a=o?"".concat(o,".order"):"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,"".concat(s?"".concat(s,","):"").concat(e,".").concat(t?"asc":"desc").concat(r===void 0?"":r?".nullsfirst":".nullslast")),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":"".concat(r,".limit");return this.url.searchParams.set(i,"".concat(e)),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":"".concat(i,".offset"),a=typeof i>"u"?"limit":"".concat(i,".limit");return this.url.searchParams.set(o,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:a="text"}={}){var s;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(a,'; for="').concat(c,'"; options=').concat(l,";"),a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};km.default=VU;var qU=Pn&&Pn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Id,"__esModule",{value:!0});const GU=qU(km);let KU=class extends GU.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?'"'.concat(i,'"'):"".concat(i)).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const a=r===void 0?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(o,"fts").concat(a,".").concat(t)),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,"eq.".concat(r))}),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const i=r?"".concat(r,".or"):"or";return this.url.searchParams.append(i,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}};Id.default=KU;var YU=Pn&&Pn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(wm,"__esModule",{value:!0});const Uc=YU(Id);let XU=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let o=!1;const a=(e!=null?e:"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer="count=".concat(r)),new Uc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push("count=".concat(t)),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const a=e.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(a.length>0){const s=[...new Set(a)].map(l=>'"'.concat(l,'"'));this.url.searchParams.set("columns",s.join(","))}}return new Uc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){const a="POST",s=["resolution=".concat(r?"ignore":"merge","-duplicates")];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push("count=".concat(i)),o||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>'"'.concat(u,'"'));this.url.searchParams.set("columns",c.join(","))}}return new Uc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push("count=".concat(t)),this.headers.Prefer=i.join(","),new Uc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push("count=".concat(e)),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Uc.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wm.default=XU;var Em={},Sm={};Object.defineProperty(Sm,"__esModule",{value:!0});Sm.version=void 0;Sm.version="0.0.0-automated";Object.defineProperty(Em,"__esModule",{value:!0});Em.DEFAULT_HEADERS=void 0;const ZU=Sm;Em.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(ZU.version)};var E5=Pn&&Pn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ly,"__esModule",{value:!0});const JU=E5(wm),QU=E5(Id),eH=Em;let tH=class S5{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},eH.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new JU.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new S5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:o}={}){let a;const s=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?"{".concat(d.join(","),"}"):"".concat(d)]).forEach(([u,d])=>{s.searchParams.append(u,d)})):(a="POST",l=t);const c=Object.assign({},this.headers);return o&&(c.Prefer="count=".concat(o)),new QU.default({method:a,url:s,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ly.default=tH;var Ac=Pn&&Pn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.PostgrestError=Qn.PostgrestBuilder=Qn.PostgrestTransformBuilder=Qn.PostgrestFilterBuilder=Qn.PostgrestQueryBuilder=Qn.PostgrestClient=void 0;const T5=Ac(Ly);Qn.PostgrestClient=T5.default;const A5=Ac(wm);Qn.PostgrestQueryBuilder=A5.default;const I5=Ac(Id);Qn.PostgrestFilterBuilder=I5.default;const R5=Ac(km);Qn.PostgrestTransformBuilder=R5.default;const D5=Ac(_m);Qn.PostgrestBuilder=D5.default;const O5=Ac(Cm);Qn.PostgrestError=O5.default;var nH=Qn.default={PostgrestClient:T5.default,PostgrestQueryBuilder:A5.default,PostgrestFilterBuilder:I5.default,PostgrestTransformBuilder:R5.default,PostgrestBuilder:D5.default,PostgrestError:O5.default};const{PostgrestClient:rH,PostgrestQueryBuilder:Gne,PostgrestFilterBuilder:Kne,PostgrestTransformBuilder:Yne,PostgrestBuilder:Xne,PostgrestError:Zne}=nH,iH="2.11.2",oH={"X-Client-Info":"realtime-js/".concat(iH)},aH="1.0.0",M5=1e4,sH=1e3;var Fl;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Fl||(Fl={}));var hr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(hr||(hr={}));var ai;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ai||(ai={}));var Xb;(function(n){n.websocket="websocket"})(Xb||(Xb={}));var Wa;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Wa||(Wa={}));class lH{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),o=t.getUint8(2);let a=this.HEADER_LENGTH+2;const s=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+o));a=a+o;const c=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:s,event:l,payload:c}}}class P5{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(vt||(vt={}));const Uk=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,a)=>(o[a]=cH(a,n,e,i),o),{})},cH=(n,e,t,r)=>{const i=e.find(s=>s.name===n),o=i==null?void 0:i.type,a=t[n];return o&&!r.includes(o)?B5(o,a):Zb(a)},B5=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return fH(e,t)}switch(n){case vt.bool:return uH(e);case vt.float4:case vt.float8:case vt.int2:case vt.int4:case vt.int8:case vt.numeric:case vt.oid:return dH(e);case vt.json:case vt.jsonb:return hH(e);case vt.timestamp:return pH(e);case vt.abstime:case vt.date:case vt.daterange:case vt.int4range:case vt.int8range:case vt.money:case vt.reltime:case vt.text:case vt.time:case vt.timestamptz:case vt.timetz:case vt.tsrange:case vt.tstzrange:return Zb(e);default:return Zb(e)}},Zb=n=>n,uH=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},dH=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},hH=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log("JSON parse error: ".concat(e)),n}return n},fH=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o;const a=n.slice(1,t);try{o=JSON.parse("["+a+"]")}catch(s){o=a?a.split(","):[]}return o.map(s=>B5(e,s))}return n},pH=n=>typeof n=="string"?n.replace(" ","T"):n,z5=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Yg{constructor(e,t,r={},i=M5){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Hk;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Hk||(Hk={}));class xu{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xu.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=xu.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=xu.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const o=this.cloneDeep(e),a=this.transformState(t),s={},l={};return this.map(o,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=o[c];if(d){const h=u.map(b=>b.presence_ref),f=d.map(b=>b.presence_ref),p=u.filter(b=>f.indexOf(b.presence_ref)<0),m=d.filter(b=>h.indexOf(b.presence_ref)<0);p.length>0&&(s[c]=p),m.length>0&&(l[c]=m)}else s[c]=u}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,t,r,i){const{joins:o,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var c;const u=(c=e[s])!==null&&c!==void 0?c:[];if(e[s]=this.cloneDeep(l),u.length>0){const d=e[s].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[s].unshift(...h)}r(s,u,l)}),this.map(a,(s,l)=>{let c=e[s];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[s]=c,i(s,c,l),c.length===0&&delete e[s]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wk;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Wk||(Wk={}));var Vk;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Vk||(Vk={}));var oo;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(oo||(oo={}));class jy{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=hr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Yg(this,ai.join,this.params,this.timeout),this.rejoinTimer=new P5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=hr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=hr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),i),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ai.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new xu(this),this.broadcastEndpointURL=z5(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:a,private:s}}=this.params;this._onError(u=>e==null?void 0:e(oo.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(oo.CLOSED));const l={},c={broadcast:o,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:s};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(oo.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let m=0;m<f;m++){const b=h[m],{filter:{event:g,schema:v,table:x,filter:y}}=b,w=u&&u[m];if(w&&w.event===g&&w.schema===v&&w.table===x&&w.filter===y)p.push(Object.assign(Object.assign({},b),{id:w.id}));else{this.unsubscribe(),e==null||e(oo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(oo.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(oo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(oo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=hr.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(ai.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Yg(this,ai.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),a}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let i=new Yg(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=ai;if(r&&[s,l,c,u].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,m,b;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(m=f.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(f=>f.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(f=>{var p,m,b,g,v,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const y=f.id,w=(p=f.filter)===null||p===void 0?void 0:p.event;return y&&((m=t.ids)===null||m===void 0?void 0:m.includes(y))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const y=(v=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return y==="*"||y===((x=t==null?void 0:t.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:m,table:b,commit_timestamp:g,type:v,errors:x}=p;h=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:g,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===hr.closed}_isJoined(){return this.state===hr.joined}_isJoining(){return this.state===hr.joining}_isLeaving(){return this.state===hr.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&jy.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ai.close,{},e)}_onError(e){this._on(ai.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=hr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Uk(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Uk(e.columns,e.old_record)),t}}const mH=()=>{},gH=typeof WebSocket<"u",bH='\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });';class vH{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=oH,this.params={},this.timeout=M5,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=mH,this.conn=null,this.sendBuffer=[],this.serializer=new lH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...s)=>Xt(()=>Promise.resolve().then(()=>Tc),void 0).then(({default:l})=>l(...s)):a=fetch,(...s)=>a(...s)},this.endPoint="".concat(e,"/").concat(Xb.websocket),this.httpEndpoint=z5(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(o,a)=>a(JSON.stringify(o)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new P5(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(gH){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new xH(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Xt(()=>import("./browser-DleE7WY3.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aH}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t!=null?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fl.connecting:return Wa.Connecting;case Fl.open:return Wa.Open;case Fl.closing:return Wa.Closing;default:return Wa.Closed}}isConnected(){return this.connectionState()===Wa.Open}channel(e,t={config:{}}){const r=new jy("realtime:".concat(e),t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push","".concat(t," ").concat(r," (").concat(o,")"),i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch(i){}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",'InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(r.exp)),Promise.reject('InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(r.exp));this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(ai.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(sH,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:o,ref:a}=t;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive","".concat(o.status||""," ").concat(r," ").concat(i," ").concat(a&&"("+a+")"||""),o),this.channels.filter(s=>s._isMember(r)).forEach(s=>s._trigger(i,o,a)),this.stateChangeCallbacks.message.forEach(s=>s(t))})}async _onConnOpen(){if(this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ai.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return"".concat(e).concat(r).concat(i)}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([bH],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class xH{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Fl.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Ny extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function sn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class yH extends Ny{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jb extends Ny{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var wH=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};const L5=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Xt(()=>Promise.resolve().then(()=>Tc),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},kH=()=>wH(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xt(()=>Promise.resolve().then(()=>Tc),void 0)).Response:Response}),Qb=n=>{if(Array.isArray(n))return n.map(t=>Qb(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Qb(r)}),e};var Ls=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};const Xg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),_H=(n,e,t)=>Ls(void 0,void 0,void 0,function*(){const r=yield kH();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(i=>{e(new yH(Xg(i),n.status||500))}).catch(i=>{e(new Jb(Xg(i),i))}):e(new Jb(Xg(n),n))}),CH=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function Rd(n,e,t,r,i,o){return Ls(this,void 0,void 0,function*(){return new Promise((a,s)=>{n(t,CH(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>_H(l,s,r))})})}function Jf(n,e,t,r){return Ls(this,void 0,void 0,function*(){return Rd(n,"GET",e,t,r)})}function qo(n,e,t,r,i){return Ls(this,void 0,void 0,function*(){return Rd(n,"POST",e,r,i,t)})}function EH(n,e,t,r,i){return Ls(this,void 0,void 0,function*(){return Rd(n,"PUT",e,r,i,t)})}function SH(n,e,t,r){return Ls(this,void 0,void 0,function*(){return Rd(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function j5(n,e,t,r,i){return Ls(this,void 0,void 0,function*(){return Rd(n,"DELETE",e,r,i,t)})}var Zn=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};const TH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AH{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=L5(i)}uploadOrUpdate(e,t,r,i){return Zn(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},qk),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,s["cache-control"]="max-age=".concat(a.cacheControl),s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch("".concat(this.url,"/object/").concat(u),Object.assign({method:e,body:o,headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(sn(o))return{data:null,error:o};throw o}})}upload(e,t,r){return Zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return Zn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),s=new URL(this.url+"/object/upload/sign/".concat(a));s.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:qk.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]="max-age=".concat(c.cacheControl),u["content-type"]=c.contentType);const d=yield this.fetch(s.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(sn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return Zn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=yield qo(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(r),{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new Ny("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}})}update(e,t,r){return Zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Zn(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}copy(e,t,r){return Zn(this,void 0,void 0,function*(){try{return{data:{path:(yield qo(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return Zn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield qo(this.fetch,"".concat(this.url,"/object/sign/").concat(i),Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?"&download=".concat(r.download===!0?"":r.download):"";return o={signedUrl:encodeURI("".concat(this.url).concat(o.signedURL).concat(a))},{data:o,error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return Zn(this,void 0,void 0,function*(){try{const i=yield qo(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),o=r!=null&&r.download?"&download=".concat(r.download===!0?"":r.download):"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI("".concat(this.url).concat(a.signedURL).concat(o)):null})),error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}download(e,t){return Zn(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=o?"?".concat(o):"";try{const s=this._getFinalPath(e);return{data:yield(yield Jf(this.fetch,"".concat(this.url,"/").concat(i,"/").concat(s).concat(a),{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(sn(s))return{data:null,error:s};throw s}})}info(e){return Zn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield Jf(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Qb(r),error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}})}exists(e){return Zn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield SH(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(r){if(sn(r)&&r instanceof Jb){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],o=t!=null&&t.download?"download=".concat(t.download===!0?"":t.download):"";o!==""&&i.push(o);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c="?".concat(c)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(r).concat(c))}}}remove(e){return Zn(this,void 0,void 0,function*(){try{return{data:yield j5(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(sn(t))return{data:null,error:t};throw t}})}list(e,t,r){return Zn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},TH),t),{prefix:e||""});return{data:yield qo(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),i,{headers:this.headers},r),error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e)}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const IH="2.7.1",RH={"X-Client-Info":"storage-js/".concat(IH)};var Gs=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};class DH{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},RH),t),this.fetch=L5(r)}listBuckets(){return Gs(this,void 0,void 0,function*(){try{return{data:yield Jf(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(sn(e))return{data:null,error:e};throw e}})}getBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield Jf(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(sn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Gs(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Gs(this,void 0,void 0,function*(){try{return{data:yield EH(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(sn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield j5(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(sn(t))return{data:null,error:t};throw t}})}}class OH extends DH{constructor(e,t={},r){super(e,t,r)}from(e){return new AH(this.url,this.headers,e,this.fetch)}}const MH="2.49.4";let tu="";typeof Deno<"u"?tu="deno":typeof document<"u"?tu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tu="react-native":tu="node";const PH={"X-Client-Info":"supabase-js-".concat(tu,"/").concat(MH)},BH={headers:PH},zH={schema:"public"},LH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jH={};var NH=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};const FH=n=>{let e;return n?e=n:typeof fetch>"u"?e=k5:e=fetch,(...t)=>e(...t)},$H=()=>typeof Headers>"u"?_5:Headers,UH=(n,e,t)=>{const r=FH(t),i=$H();return(o,a)=>NH(void 0,void 0,void 0,function*(){var s;const l=(s=yield e())!==null&&s!==void 0?s:n;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization","Bearer ".concat(l)),r(o,Object.assign(Object.assign({},a),{headers:c}))})};var HH=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};function WH(n){return n.replace(/\/$/,"")}function VH(n,e){const{db:t,auth:r,realtime:i,global:o}=n,{db:a,auth:s,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},s),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o),accessToken:()=>HH(this,void 0,void 0,function*(){return""})};return n.accessToken?u.accessToken=n.accessToken:delete u.accessToken,u}const N5="2.69.1",ul=30*1e3,ev=3,Zg=ev*ul,qH="http://localhost:9999",GH="supabase.auth.token",KH={"X-Client-Info":"gotrue-js/".concat(N5)},tv="X-Supabase-Api-Version",F5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XH=6e5;class Fy extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Ke(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class ZH extends Fy{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function JH(n){return Ke(n)&&n.name==="AuthApiError"}class $5 extends Fy{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ta extends Fy{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class $o extends Ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QH(n){return Ke(n)&&n.name==="AuthSessionMissingError"}class Jg extends Ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gh extends Ta{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bh extends Ta{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eW(n){return Ke(n)&&n.name==="AuthImplicitGrantRedirectError"}class Gk extends Ta{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nv extends Ta{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Qg(n){return Ke(n)&&n.name==="AuthRetryableFetchError"}class Kk extends Ta{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class yu extends Ta{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xk=" 	\n\r=".split(""),tW=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Xk.length;e+=1)n[Xk[e].charCodeAt(0)]=-2;for(let e=0;e<Yk.length;e+=1)n[Yk[e].charCodeAt(0)]=e;return n})();function U5(n,e,t){const r=tW[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(n),'"'))}}function Zk(n){const e=[],t=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{iW(a,r,t)};for(let a=0;a<n.length;a+=1)U5(n.charCodeAt(a),i,o);return e.join("")}function nW(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error("Unrecognized Unicode codepoint: ".concat(n.toString(16)))}function rW(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}nW(r,e)}}function iW(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if(!(n>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function oW(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)U5(n.charCodeAt(i),t,r);return new Uint8Array(e)}function aW(n){const e=[];return rW(n,t=>e.push(t)),new Uint8Array(e)}function sW(n){return Math.round(Date.now()/1e3)+n}function lW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Ei=()=>typeof window<"u"&&typeof document<"u",Ba={tested:!1,writable:!1},wu=()=>{if(!Ei())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(Ba.tested)return Ba.writable;const n="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ba.tested=!0,Ba.writable=!0}catch(e){Ba.tested=!0,Ba.writable=!1}return Ba.writable};function cW(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch(r){}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const H5=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Xt(()=>Promise.resolve().then(()=>Tc),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},uW=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",W5=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},vh=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(r){return t}},xh=async(n,e)=>{await n.removeItem(e)};class Tm{constructor(){this.promise=new Tm.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Tm.promiseConstructor=Promise;function e0(n){const e=n.split(".");if(e.length!==3)throw new yu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!YH.test(e[r]))throw new yu("JWT not in base64url format");return{header:JSON.parse(Zk(e[0])),payload:JSON.parse(Zk(e[1])),signature:oW(e[2]),raw:{header:e[0],payload:e[1]}}}async function dW(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function hW(n,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await n(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function fW(n){return("0"+n.toString(16)).substr(-2)}function pW(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,fW).join("")}async function mW(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function gW(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await mW(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ks(n,e,t=!1){const r=pW();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await W5(n,"".concat(e,"-code-verifier"),i);const o=await gW(r);return[o,r===o?"plain":"s256"]}const bW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vW(n){const e=n.headers.get(tv);if(!e||!e.match(bW))return null;try{return new Date("".concat(e,"T00:00:00.0Z"))}catch(t){return null}}function xW(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function yW(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var wW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Na=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),kW=[502,503,504];async function Jk(n){var e;if(!uW(n))throw new nv(Na(n),0);if(kW.includes(n.status))throw new nv(Na(n),n.status);let t;try{t=await n.json()}catch(o){throw new $5(Na(o),o)}let r;const i=vW(n);if(i&&i.getTime()>=F5["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Kk(Na(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new $o}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Kk(Na(t),n.status,t.weak_password.reasons);throw new ZH(Na(t),n.status||500,r)}const _W=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function nt(n,e,t,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[tv]||(o[tv]=F5["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization="Bearer ".concat(r.jwt));const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await CW(n,e,t+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function CW(n,e,t,r,i,o){const a=_W(e,r,i,o);let s;try{s=await n(t,Object.assign({},a))}catch(l){throw console.error(l),new nv(Na(l),0)}if(s.ok||await Jk(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await Jk(l)}}function Uo(n){var e;let t=null;AW(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=sW(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Qk(n){const e=Uo(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Jo(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function EW(n){return{data:n,error:null}}function SW(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,a=wW(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function TW(n){return n}function AW(n){return n.access_token&&n.refresh_token&&n.expires_in}var IW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class RW{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=H5(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await nt(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await nt(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Jo})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=IW(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await nt(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:i,headers:this.headers,xform:SW,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Ke(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await nt(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Jo})}catch(t){if(Ke(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await nt(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:TW});if(u.error)throw u.error;const d=await u.json(),h=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);c["".concat(b,"Page")]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Ke(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await nt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Jo})}catch(t){if(Ke(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await nt(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Jo})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await nt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Jo})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await nt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(Ke(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await nt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}}}const DW={getItem:n=>wu()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{wu()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{wu()&&globalThis.localStorage.removeItem(n)}};function e_(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function OW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(n){typeof self<"u"&&(self.globalThis=self)}}const Ys={debug:!!(globalThis&&wu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class V5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class MW extends V5{}async function PW(n,e,t){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new MW('Acquiring an exclusive Navigator LockManager lock "'.concat(n,'" immediately failed'));if(Ys.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}OW();const BW={url:qH,storageKey:GH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function t_(n,e,t){return await t()}class Yu{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yu.nextInstanceID,Yu.nextInstanceID+=1,this.instanceID>0&&Ei()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},BW),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new RW({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=H5(i.fetch),this.lock=i.lock||t_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ei()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=PW:this.lock=t_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:wu()?this.storage=DW:(this.memoryStorage={},this.storage=e_(this.memoryStorage)):(this.memoryStorage={},this.storage=e_(this.memoryStorage)),Ei()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger("GoTrueClient@".concat(this.instanceID," (").concat(N5,") ").concat(new Date().toISOString()),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=cW(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Ei()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),eW(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ke(t)?{error:t}:{error:new $5("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const o=await nt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Uo}),{data:a,error:s}=o;if(s||!a)return{data:{user:null,session:null},error:s};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(Ke(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,r,i;try{let o;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ks(this.storage,this.storageKey)),o=await nt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:Uo})}else if("phone"in e){const{phone:u,password:d,options:h}=e;o=await nt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Uo})}else throw new gh("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return{data:{user:null,session:null},error:s};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(Ke(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:a,options:s}=e;t=await nt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Qk})}else if("phone"in e){const{phone:o,password:a,options:s}=e;t=await nt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Qk})}else throw new gh("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Jg}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await vh(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,i]=(t!=null?t:"").split("/");try{const{data:o,error:a}=await nt(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Uo});if(await xh(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Jg}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i!=null?i:null}),error:a})}catch(o){if(Ke(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:o,nonce:a}=e,s=await nt(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Uo}),{data:l,error:c}=s;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Jg}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ks(this.storage,this.storageKey));const{error:d}=await nt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:s,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:s,options:l}=e,{data:c,error:u}=await nt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new gh("You must provide either an email or phone number.")}catch(s){if(Ke(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,r;try{let i,o;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await nt(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Uo});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await Ks(this.storage,this.storageKey)),await nt(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:EW})}catch(o){if(Ke(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new $o;const{error:i}=await nt(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ke(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await nt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await nt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s}}throw new gh("You must provide either an email or phone number and a type")}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch(o){}})()),i}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch(i){}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await vh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Zg:!1;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await nt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Jo}):await this._useSession(async t=>{var r,i,o;const{data:a,error:s}=t;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $o}:await nt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Jo})})}catch(t){if(Ke(t))return QH(t)&&(await this._removeSession(),await xh(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new $o;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Ks(this.storage,this.storageKey));const{data:c,error:u}=await nt(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Jo});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $o;const t=Date.now()/1e3;let r=t,i=!0,o=null;const{payload:a}=e0(e.access_token);if(a.exp&&(r=a.exp,i=r<=t),i){const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(Ke(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:a,error:s}=t;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new $o;const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ei())throw new bh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Gk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bh("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gk("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:c}=e;if(!o||!s||!a||!c)throw new bh("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=ul&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(f,"s, should have been closer to ").concat(d,"s"));const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:m,error:b}=await this._getUser(o);if(b)throw b;const g={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(Ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await vh(this.storage,"".concat(this.storageKey,"-code-verifier"));return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return{error:o};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(JH(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await xh(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t=lW(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:o},error:a}=t;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ks(this.storage,this.storageKey,!0));try{return await nt(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Ke(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,c,u;const{data:d,error:h}=o;if(h)throw h;const f=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await nt(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Ei()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ke(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:a}=t;if(a)throw a;return await nt(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(Ke(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const r=Date.now();return await hW(async i=>(i>0&&await dW(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await nt(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Uo})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Qg(o)&&Date.now()+a-r<ul})}catch(r){if(this._debug(t,"error",r),Ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Ei()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await vh(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Zg;if(this._debug(t,"session has".concat(i?"":" not"," expired with margin of ").concat(Zg,"s")),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Qg(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new $o;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(i,"begin");try{this.refreshingDeferred=new Tm;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new $o;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={session:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),Ke(o)){const a={session:null,error:o};return Qg(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i="#_notifyAllSubscribers(".concat(e,")");this._debug(i,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,t)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await W5(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await xh(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ei()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ul);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ul);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(i," ticks, a tick lasts ").concat(ul,"ms, refresh threshold is ").concat(ev," ticks")),i<=ev&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof V5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ei()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=["provider=".concat(encodeURIComponent(t))];if(r!=null&&r.redirectTo&&i.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),r!=null&&r.scopes&&i.push("scopes=".concat(encodeURIComponent(r.scopes))),this.flowType==="pkce"){const[o,a]=await Ks(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(o)),code_challenge_method:"".concat(encodeURIComponent(a))});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(i.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;return o?{data:null,error:o}:await nt(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Ke(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:a}=t;if(a)return{data:null,error:a};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await nt(this.fetch,"POST","".concat(this.url,"/factors"),{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code="data:image/svg+xml;utf-8,".concat(l.totp.qr_code)),{data:l,error:null})})}catch(t){if(Ke(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return{data:null,error:o};const{data:a,error:s}=await nt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:s})})}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;return o?{data:null,error:o}:await nt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=e0(i.access_token);let s=null;a.aal&&(s=a.aal);let l=s;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(a=>a.kid===e);if(r||(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+XH>Date.now()))return r;const{data:i,error:o}=await nt(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new yu("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(a=>a.kid===e),!r)throw new yu("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};r=f.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=e0(r);if(xW(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:o,header:i,signature:a},error:null}}const c=yW(i.alg),u=await this.fetchJwk(i.kid,t),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,aW("".concat(s,".").concat(l))))throw new yu("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}}Yu.nextInstanceID=0;const zW=Yu;class LW extends zW{constructor(e){super(e)}}var jW=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};class NW{constructor(e,t,r){var i,o,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=WH(e);this.realtimeUrl="".concat(s,"/realtime/v1").replace(/^http/i,"ws"),this.authUrl="".concat(s,"/auth/v1"),this.storageUrl="".concat(s,"/storage/v1"),this.functionsUrl="".concat(s,"/functions/v1");const l="sb-".concat(new URL(this.authUrl).hostname.split(".")[0],"-auth-token"),c={db:zH,realtime:jH,auth:Object.assign(Object.assign({},LH),{storageKey:l}),global:BH},u=VH(r!=null?r:{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(h)," is not possible"))}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=UH(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new rH("".concat(s,"/rest/v1"),{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new MU(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new OH(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return jW(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:a,lock:s,debug:l},c,u){const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new LW({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:a,lock:s,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new vH(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FW=(n,e,t)=>new NW(n,e,t),q5="https://dofkgpqpyxfgxwwbiifj.supabase.co",Jh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRvZmtncHFweXhmZ3h3d2JpaWZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY1MzMzNjYsImV4cCI6MjA2MjEwOTM2Nn0.XZekoiM7DjAU8VidqhMlU0SuSB1QEvqCf5V8YKElTiA";console.log("[Supabase] Initializing with:",{url:q5,key:(Jh==null?void 0:Jh.slice(0,5))+"..."});const _e=FW(q5,Jh,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});var rv=function(n,e){return rv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},rv(n,e)};function $W(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rv(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var cn=function(){return cn=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},cn.apply(this,arguments)};function UW(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Xs(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,[])).next())})}function Zs(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ti(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}var Va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $y(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Uy(n,e){return n(e={exports:{}},e.exports),e.exports}var Fa=Uy(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(o,a){var s=i.locked.get(o);s===void 0?a===void 0?i.locked.set(o,[]):i.locked.set(o,[a]):a!==void 0&&(s.unshift(a),i.locked.set(o,s))},this.isLocked=function(o){return i.locked.has(o)},this.lock=function(o){return new Promise(function(a,s){i.isLocked(o)?i.addToLocked(o,a):(i.addToLocked(o),a())})},this.unlock=function(o){var a=i.locked.get(o);if(a!==void 0&&a.length!==0){var s=a.pop();i.locked.set(o,a),s!==void 0&&setTimeout(s,0)}else i.locked.delete(o)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();e.default=function(){return t.getInstance()}});$y(Fa);var HW=$y(Uy(function(n,e){var t=Va&&Va.__awaiter||function(u,d,h,f){return new(h||(h=Promise))(function(p,m){function b(x){try{v(f.next(x))}catch(y){m(y)}}function g(x){try{v(f.throw(x))}catch(y){m(y)}}function v(x){x.done?p(x.value):new h(function(y){y(x.value)}).then(b,g)}v((f=f.apply(u,d||[])).next())})},r=Va&&Va.__generator||function(u,d){var h,f,p,m,b={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(v){return function(x){return function(y){if(h)throw new TypeError("Generator is already executing.");for(;b;)try{if(h=1,f&&(p=2&y[0]?f.return:y[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,y[1])).done)return p;switch(f=0,p&&(y=[2&y[0],p.value]),y[0]){case 0:case 1:p=y;break;case 4:return b.label++,{value:y[1],done:!1};case 5:b.label++,f=y[1],y=[0];continue;case 7:y=b.ops.pop(),b.trys.pop();continue;default:if(p=b.trys,!((p=p.length>0&&p[p.length-1])||y[0]!==6&&y[0]!==2)){b=0;continue}if(y[0]===3&&(!p||y[1]>p[0]&&y[1]<p[3])){b.label=y[1];break}if(y[0]===6&&b.label<p[1]){b.label=p[1],p=y;break}if(p&&b.label<p[2]){b.label=p[2],b.ops.push(y);break}p[2]&&b.ops.pop(),b.trys.pop();continue}y=d.call(u,b)}catch(w){y=[6,w],f=0}finally{h=p=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([v,x])}}},i=Va;Object.defineProperty(e,"__esModule",{value:!0});var o="browser-tabs-lock-key",a={key:function(u){return t(i,void 0,void 0,function(){return r(this,function(d){throw new Error("Unsupported")})})},getItem:function(u){return t(i,void 0,void 0,function(){return r(this,function(d){throw new Error("Unsupported")})})},clear:function(){return t(i,void 0,void 0,function(){return r(this,function(u){return[2,window.localStorage.clear()]})})},removeItem:function(u){return t(i,void 0,void 0,function(){return r(this,function(d){throw new Error("Unsupported")})})},setItem:function(u,d){return t(i,void 0,void 0,function(){return r(this,function(h){throw new Error("Unsupported")})})},keySync:function(u){return window.localStorage.key(u)},getItemSync:function(u){return window.localStorage.getItem(u)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(u){return window.localStorage.removeItem(u)},setItemSync:function(u,d){return window.localStorage.setItem(u,d)}};function s(u){return new Promise(function(d){return setTimeout(d,u)})}function l(u){for(var d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",h="",f=0;f<u;f++)h+=d[Math.floor(Math.random()*d.length)];return h}var c=function(){function u(d){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=d,u.waiters===void 0&&(u.waiters=[])}return u.prototype.acquireLock=function(d,h){return h===void 0&&(h=5e3),t(this,void 0,void 0,function(){var f,p,m,b,g,v,x;return r(this,function(y){switch(y.label){case 0:f=Date.now()+l(4),p=Date.now()+h,m=o+"-"+d,b=this.storageHandler===void 0?a:this.storageHandler,y.label=1;case 1:return Date.now()<p?[4,s(30)]:[3,8];case 2:return y.sent(),b.getItemSync(m)!==null?[3,5]:(g=this.id+"-"+d+"-"+f,[4,s(Math.floor(25*Math.random()))]);case 3:return y.sent(),b.setItemSync(m,JSON.stringify({id:this.id,iat:f,timeoutKey:g,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,s(30)];case 4:return y.sent(),(v=b.getItemSync(m))!==null&&(x=JSON.parse(v)).id===this.id&&x.iat===f?(this.acquiredIatSet.add(f),this.refreshLockWhileAcquired(m,f),[2,!0]):[3,7];case 5:return u.lockCorrector(this.storageHandler===void 0?a:this.storageHandler),[4,this.waitForSomethingToChange(p)];case 6:y.sent(),y.label=7;case 7:return f=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(d,h){return t(this,void 0,void 0,function(){var f=this;return r(this,function(p){return setTimeout(function(){return t(f,void 0,void 0,function(){var m,b,g;return r(this,function(v){switch(v.label){case 0:return[4,Fa.default().lock(h)];case 1:return v.sent(),this.acquiredIatSet.has(h)?(m=this.storageHandler===void 0?a:this.storageHandler,(b=m.getItemSync(d))===null?(Fa.default().unlock(h),[2]):((g=JSON.parse(b)).timeRefreshed=Date.now(),m.setItemSync(d,JSON.stringify(g)),Fa.default().unlock(h),this.refreshLockWhileAcquired(d,h),[2])):(Fa.default().unlock(h),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(d){return t(this,void 0,void 0,function(){return r(this,function(h){switch(h.label){case 0:return[4,new Promise(function(f){var p=!1,m=Date.now(),b=!1;function g(){if(b||(window.removeEventListener("storage",g),u.removeFromWaiting(g),clearTimeout(v),b=!0),!p){p=!0;var x=50-(Date.now()-m);x>0?setTimeout(f,x):f(null)}}window.addEventListener("storage",g),u.addToWaiting(g);var v=setTimeout(g,Math.max(0,d-Date.now()))})];case 1:return h.sent(),[2]}})})},u.addToWaiting=function(d){this.removeFromWaiting(d),u.waiters!==void 0&&u.waiters.push(d)},u.removeFromWaiting=function(d){u.waiters!==void 0&&(u.waiters=u.waiters.filter(function(h){return h!==d}))},u.notifyWaiters=function(){u.waiters!==void 0&&u.waiters.slice().forEach(function(d){return d()})},u.prototype.releaseLock=function(d){return t(this,void 0,void 0,function(){return r(this,function(h){switch(h.label){case 0:return[4,this.releaseLock__private__(d)];case 1:return[2,h.sent()]}})})},u.prototype.releaseLock__private__=function(d){return t(this,void 0,void 0,function(){var h,f,p,m;return r(this,function(b){switch(b.label){case 0:return h=this.storageHandler===void 0?a:this.storageHandler,f=o+"-"+d,(p=h.getItemSync(f))===null?[2]:(m=JSON.parse(p)).id!==this.id?[3,2]:[4,Fa.default().lock(m.iat)];case 1:b.sent(),this.acquiredIatSet.delete(m.iat),h.removeItemSync(f),Fa.default().unlock(m.iat),u.notifyWaiters(),b.label=2;case 2:return[2]}})})},u.lockCorrector=function(d){for(var h=Date.now()-5e3,f=d,p=[],m=0;;){var b=f.keySync(m);if(b===null)break;p.push(b),m++}for(var g=!1,v=0;v<p.length;v++){var x=p[v];if(x.includes(o)){var y=f.getItemSync(x);if(y!==null){var w=JSON.parse(y);(w.timeRefreshed===void 0&&w.timeAcquired<h||w.timeRefreshed!==void 0&&w.timeRefreshed<h)&&(f.removeItemSync(x),g=!0)}}}g&&u.notifyWaiters()},u.waiters=void 0,u}();e.default=c}));const WW={timeoutInSeconds:60},G5={name:"auth0-spa-js",version:"2.1.3"},K5=()=>Date.now();let gr=class iv extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,iv.prototype)}static fromPayload({error:e,error_description:t}){return new iv(e,t)}},VW=class Y5 extends gr{constructor(e,t,r,i=null){super(e,t),this.state=r,this.appState=i,Object.setPrototypeOf(this,Y5.prototype)}},ov=class X5 extends gr{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,X5.prototype)}},qW=class Z5 extends ov{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,Z5.prototype)}},GW=class J5 extends gr{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,J5.prototype)}};class Hy extends gr{constructor(e,t,r){super(e,t),this.mfa_token=r,Object.setPrototypeOf(this,Hy.prototype)}}let Q5=class e6 extends gr{constructor(e,t){super("missing_refresh_token","Missing Refresh Token (audience: '".concat(n_(e,["default"]),"', scope: '").concat(n_(t),"')")),this.audience=e,this.scope=t,Object.setPrototypeOf(this,e6.prototype)}};function n_(n,e=[]){return n&&!e.includes(n)?n:""}const Qh=()=>window.crypto,t0=()=>{const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(Qh().getRandomValues(new Uint8Array(43))).forEach(t=>e+=n[t%n.length]),e},r_=n=>btoa(n),av=n=>{var{clientId:e}=n,t=Ti(n,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(i=>r[i]!==void 0).reduce((i,o)=>Object.assign(Object.assign({},i),{[o]:r[o]}),{}))(Object.assign({client_id:e},t))).toString()},i_=n=>(e=>decodeURIComponent(atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join("")))(n.replace(/_/g,"/").replace(/-/g,"+")),KW=async(n,e)=>{const t=await fetch(n,e);return{ok:t.ok,json:await t.json()}},YW=async(n,e,t)=>{const r=new AbortController;let i;return e.signal=r.signal,Promise.race([KW(n,e),new Promise((o,a)=>{i=setTimeout(()=>{r.abort(),a(new Error("Timeout when executing 'fetch'"))},t)})]).finally(()=>{clearTimeout(i)})},XW=async(n,e,t,r,i,o,a)=>{return s={auth:{audience:e,scope:t},timeout:i,fetchUrl:n,fetchOptions:r,useFormData:a},l=o,new Promise(function(c,u){const d=new MessageChannel;d.port1.onmessage=function(h){h.data.error?u(new Error(h.data.error)):c(h.data),d.port1.close()},l.postMessage(s,[d.port2])});var s,l},ZW=async(n,e,t,r,i,o,a=1e4)=>i?XW(n,e,t,r,a,i,o):YW(n,r,a);async function JW(n,e){var{baseUrl:t,timeout:r,audience:i,scope:o,auth0Client:a,useFormData:s}=n,l=Ti(n,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const c=s?av(l):JSON.stringify(l);return await async function(u,d,h,f,p,m,b){let g,v=null;for(let T=0;T<3;T++)try{g=await ZW(u,h,f,p,m,b,d),v=null;break}catch(E){v=E}if(v)throw v;const x=g.json,{error:y,error_description:w}=x,k=Ti(x,["error","error_description"]),{ok:_}=g;if(!_){const T=w||"HTTP error. Unable to fetch ".concat(u);throw y==="mfa_required"?new Hy(y,T,k.mfa_token):y==="missing_refresh_token"?new Q5(h,f):new gr(y||"request_error",T)}return k}("".concat(t,"/oauth/token"),r,i||"default",o,{method:"POST",body:c,headers:{"Content-Type":s?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(a||G5))}},e,s)}const yh=(...n)=>{return(e=n.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e};let Ja=class sv{constructor(e,t="@@auth0spajs@@",r){this.prefix=t,this.suffix=r,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[t,r,i,o]=e.split("::");return new sv({clientId:r,scope:o,audience:i},t)}static fromCacheEntry(e){const{scope:t,audience:r,client_id:i}=e;return new sv({scope:t,audience:r,clientId:i})}},QW=class{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(r){return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}},t6=class{constructor(){this.enclosedCache=function(){let e={};return{set(t,r){e[t]=r},get(t){const r=e[t];if(r)return r},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}},eV=class{constructor(e,t,r){this.cache=e,this.keyManifest=t,this.nowProvider=r||K5}async setIdToken(e,t,r){var i;const o=this.getIdTokenCacheKey(e);await this.cache.set(o,{id_token:t,decodedToken:r}),await((i=this.keyManifest)===null||i===void 0?void 0:i.add(o))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const r=await this.get(e);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0){var r;let i=await this.cache.get(e.toKey());if(!i){const s=await this.getCacheKeys();if(!s)return;const l=this.matchExistingCacheKey(e,s);l&&(i=await this.cache.get(l))}if(!i)return;const o=await this.nowProvider(),a=Math.floor(o/1e3);return i.expiresAt-t<a?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},await this.cache.set(e.toKey(),i),i.body):(await this.cache.remove(e.toKey()),void await((r=this.keyManifest)===null||r===void 0?void 0:r.remove(e.toKey()))):i.body}async set(e){var t;const r=new Ja({clientId:e.client_id,scope:e.scope,audience:e.audience}),i=await this.wrapCacheEntry(e);await this.cache.set(r.toKey(),i),await((t=this.keyManifest)===null||t===void 0?void 0:t.add(r.toKey()))}async clear(e){var t;const r=await this.getCacheKeys();r&&(await r.filter(i=>!e||i.includes(e)).reduce(async(i,o)=>{await i,await this.cache.remove(o)},Promise.resolve()),await((t=this.keyManifest)===null||t===void 0?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new Ja({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter(r=>{var i;const o=Ja.fromKey(r),a=new Set(o.scope&&o.scope.split(" ")),s=((i=e.scope)===null||i===void 0?void 0:i.split(" "))||[],l=o.scope&&s.reduce((c,u)=>c&&a.has(u),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===e.clientId&&o.audience===e.audience&&l})[0]}},tV=class{constructor(e,t,r){this.storage=e,this.clientId=t,this.cookieDomain=r,this.storageKey="a0.spajs.txs.".concat(this.clientId)}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}};const Hc=n=>typeof n=="number",nV=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],rV=n=>{if(!n.id_token)throw new Error("ID token is required but missing");const e=(o=>{const a=o.split("."),[s,l,c]=a;if(a.length!==3||!s||!l||!c)throw new Error("ID token could not be decoded");const u=JSON.parse(i_(l)),d={__raw:o},h={};return Object.keys(u).forEach(f=>{d[f]=u[f],nV.includes(f)||(h[f]=u[f])}),{encoded:{header:s,payload:l,signature:c},header:JSON.parse(i_(s)),claims:d,user:h}})(n.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==n.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'.concat(n.iss,'", found "').concat(e.claims.iss,'"'));if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error('Signature algorithm of "'.concat(e.header.alg,'" is not supported. Expected the ID token to be signed with "RS256".'));if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(n.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(n.aud,'" but was not one of "').concat(e.claims.aud.join(", "),'"'));if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==n.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'.concat(n.aud,'", found "').concat(e.claims.azp,'"'))}}else if(e.claims.aud!==n.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(n.aud,'" but found "').concat(e.claims.aud,'"'));if(n.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==n.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'.concat(n.nonce,'", found "').concat(e.claims.nonce,'"'))}if(n.max_age&&!Hc(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!Hc(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Hc(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const t=n.leeway||60,r=new Date(n.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(e.claims.exp+t),r>i)throw new Error("Expiration Time (exp) claim error in the ID token; current time (".concat(r,") is after expiration time (").concat(i,")"));if(e.claims.nbf!=null&&Hc(e.claims.nbf)){const o=new Date(0);if(o.setUTCSeconds(e.claims.nbf-t),r<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (".concat(r,") is before ").concat(o))}if(e.claims.auth_time!=null&&Hc(e.claims.auth_time)){const o=new Date(0);if(o.setUTCSeconds(parseInt(e.claims.auth_time)+n.max_age+t),r>o)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (".concat(r,") is after last auth at ").concat(o))}if(n.organization){const o=n.organization.trim();if(o.startsWith("org_")){const a=o;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(a!==e.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'.concat(a,'", found "').concat(e.claims.org_id,'"'))}else{const a=o.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(a!==e.claims.org_name)throw new Error('Organization Name (org_name) claim mismatch in the ID token; expected "'.concat(a,'", found "').concat(e.claims.org_name,'"'))}}return e};var Qa=Uy(function(n,e){var t=Va&&Va.__assign||function(){return t=Object.assign||function(l){for(var c,u=1,d=arguments.length;u<d;u++)for(var h in c=arguments[u])Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h]);return l},t.apply(this,arguments)};function r(l,c){if(!c)return"";var u="; "+l;return c===!0?u:u+"="+c}function i(l,c,u){return encodeURIComponent(l).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(c).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(d){if(typeof d.expires=="number"){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*d.expires),d.expires=h}return r("Expires",d.expires?d.expires.toUTCString():"")+r("Domain",d.domain)+r("Path",d.path)+r("Secure",d.secure)+r("SameSite",d.sameSite)}(u)}function o(l){for(var c={},u=l?l.split("; "):[],d=/(%[\dA-F]{2})+/gi,h=0;h<u.length;h++){var f=u[h].split("="),p=f.slice(1).join("=");p.charAt(0)==='"'&&(p=p.slice(1,-1));try{c[f[0].replace(d,decodeURIComponent)]=p.replace(d,decodeURIComponent)}catch(m){}}return c}function a(){return o(document.cookie)}function s(l,c,u){document.cookie=i(l,c,t({path:"/"},u))}e.__esModule=!0,e.encode=i,e.parse=o,e.getAll=a,e.get=function(l){return a()[l]},e.set=s,e.remove=function(l,c){s(l,"",t(t({},c),{expires:-1}))}});$y(Qa),Qa.encode,Qa.parse,Qa.getAll;var iV=Qa.get,n6=Qa.set,r6=Qa.remove;const dl={get(n){const e=iV(n);if(e!==void 0)return JSON.parse(e)},save(n,e,t){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),t!=null&&t.daysUntilExpire&&(r.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(r.domain=t.cookieDomain),n6(n,JSON.stringify(e),r)},remove(n,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),r6(n,t)}},oV={get(n){return dl.get(n)||dl.get("_legacy_".concat(n))},save(n,e,t){let r={};window.location.protocol==="https:"&&(r={secure:!0}),t!=null&&t.daysUntilExpire&&(r.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(r.domain=t.cookieDomain),n6("_legacy_".concat(n),JSON.stringify(e),r),dl.save(n,e,t)},remove(n,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),r6(n,t),dl.remove(n,e),dl.remove("_legacy_".concat(n),e)}},aV={get(n){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(n);return e!=null?JSON.parse(e):void 0},save(n,e){sessionStorage.setItem(n,JSON.stringify(e))},remove(n){sessionStorage.removeItem(n)}};function sV(n,e,t){var r=e===void 0?null:e,i=function(l,c){var u=atob(l);if(c){for(var d=new Uint8Array(u.length),h=0,f=u.length;h<f;++h)d[h]=u.charCodeAt(h);return String.fromCharCode.apply(null,new Uint16Array(d.buffer))}return u}(n,t!==void 0&&t),o=i.indexOf("\n",10)+1,a=i.substring(o)+(r?"//# sourceMappingURL="+r:""),s=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(s)}var o_,a_,s_,n0,lV=(o_="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",a_=null,s_=!1,function(n){return n0=n0||sV(o_,a_,s_),new Worker(n0,n)});const r0={};let cV=class{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const r=new Set(((t=await this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);r.add(e),await this.cache.set(this.manifestKey,{keys:[...r]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const r=new Set(t.keys);return r.delete(e),r.size>0?await this.cache.set(this.manifestKey,{keys:[...r]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return"@@auth0spajs@@::".concat(e)}};const uV={memory:()=>new t6().enclosedCache,localstorage:()=>new QW},l_=n=>uV[n],c_=n=>{const{openUrl:e,onRedirect:t}=n,r=Ti(n,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:e===!1||e?e:t})},i0=new HW;let dV=class{constructor(e){let t,r;if(this.userCache=new t6().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await i0.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!Qh())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Qh().subtle===void 0)throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)r=e.cache;else{if(t=e.cacheLocation||"memory",!l_(t))throw new Error('Invalid cache location "'.concat(t,'"'));r=l_(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?dl:oV,this.orgHintCookieName="auth0.".concat(this.options.clientId,".organization_hint"),this.isAuthenticatedCookieName=(a=>"auth0.".concat(a,".is.authenticated"))(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const i=e.useCookiesForTransactions?this.cookieStorage:aV;var o;this.scope=yh("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new tV(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||K5,this.cacheManager=new eV(r,r.allKeys?void 0:new cV(r,this.options.clientId),this.nowProvider),this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:"https://".concat(o)),this.tokenIssuer=((a,s)=>a?a.startsWith("https://")?a:"https://".concat(a,"/"):"".concat(s,"/"))(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new lV)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||G5)));return"".concat(this.domainUrl).concat(e,"&auth0Client=").concat(t)}_authorizeUrl(e){return this._url("/authorize?".concat(av(e)))}async _verifyIdToken(e,t,r){const i=await this.nowProvider();return rV({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:r,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:i});var o}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,r){const i=r_(t0()),o=r_(t0()),a=t0(),s=(u=>{const d=new Uint8Array(u);return(h=>{const f={"+":"-","/":"_","=":""};return h.replace(/[+/=]/g,p=>f[p])})(window.btoa(String.fromCharCode(...Array.from(d))))})(await(async u=>await Qh().subtle.digest({name:"SHA-256"},new TextEncoder().encode(u)))(a)),l=((u,d,h,f,p,m,b,g)=>Object.assign(Object.assign(Object.assign({client_id:u.clientId},u.authorizationParams),h),{scope:yh(d,h.scope),response_type:"code",response_mode:g||"query",state:f,nonce:p,redirect_uri:b||u.authorizationParams.redirect_uri,code_challenge:m,code_challenge_method:"S256"}))(this.options,this.scope,e,i,o,s,e.redirect_uri||this.options.authorizationParams.redirect_uri||r,t==null?void 0:t.response_mode),c=this._authorizeUrl(l);return{nonce:o,code_verifier:a,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri,state:i,url:c}}async loginWithPopup(e,t){var r;if(e=e||{},!(t=t||{}).popup&&(t.popup=(s=>{const l=window.screenX+(window.innerWidth-400)/2,c=window.screenY+(window.innerHeight-600)/2;return window.open(s,"auth0:authorize:popup","left=".concat(l,",top=").concat(c,",width=400,height=600,resizable,scrollbars=yes,status=1"))})(""),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const i=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=i.url;const o=await(s=>new Promise((l,c)=>{let u;const d=setInterval(()=>{s.popup&&s.popup.closed&&(clearInterval(d),clearTimeout(h),window.removeEventListener("message",u,!1),c(new GW(s.popup)))},1e3),h=setTimeout(()=>{clearInterval(d),c(new qW(s.popup)),window.removeEventListener("message",u,!1)},1e3*(s.timeoutInSeconds||60));u=function(f){if(f.data&&f.data.type==="authorization_response"){if(clearTimeout(h),clearInterval(d),window.removeEventListener("message",u,!1),s.popup.close(),f.data.response.error)return c(gr.fromPayload(f.data.response));l(f.data.response)}},window.addEventListener("message",u)}))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==o.state)throw new gr("state_mismatch","Invalid state");const a=((r=e.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:a})}async getUser(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var t;const r=c_(e),{openUrl:i,fragment:o,appState:a}=r,s=Ti(r,["openUrl","fragment","appState"]),l=((t=s.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,c=await this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:u}=c,d=Ti(c,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},d),{appState:a}),l&&{organization:l}));const h=o?"".concat(u,"#").concat(o):u;i?await i(h):window.location.assign(h)}async handleRedirectCallback(e=window.location.href){const t=e.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");const{state:r,code:i,error:o,error_description:a}=(d=>{d.indexOf("#")>-1&&(d=d.substring(0,d.indexOf("#")));const h=new URLSearchParams(d);return{state:h.get("state"),code:h.get("code")||void 0,error:h.get("error")||void 0,error_description:h.get("error_description")||void 0}})(t.join("")),s=this.transactionManager.get();if(!s)throw new gr("missing_transaction","Invalid state");if(this.transactionManager.remove(),o)throw new VW(o,a||o,r,s.appState);if(!s.code_verifier||s.state&&s.state!==r)throw new gr("state_mismatch","Invalid state");const l=s.organization,c=s.nonce,u=s.redirect_uri;return await this._requestToken(Object.assign({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:"authorization_code",code:i},u?{redirect_uri:u}:{}),{nonceIn:c,organization:l}),{appState:s.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch(t){}}async getTokenSilently(e={}){var t;const r=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:yh(this.scope,(t=e.authorizationParams)===null||t===void 0?void 0:t.scope)})}),i=await((o,a)=>{let s=r0[a];return s||(s=o().finally(()=>{delete r0[a],s=null}),r0[a]=s),s})(()=>this._getTokenSilently(r),"".concat(this.options.clientId,"::").concat(r.authorizationParams.audience,"::").concat(r.authorizationParams.scope));return e.detailedResponse?i:i==null?void 0:i.access_token}async _getTokenSilently(e){const{cacheMode:t}=e,r=Ti(e,["cacheMode"]);if(t!=="off"){const i=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(i)return i}if(t!=="cache-only"){if(!await(async(i,o=3)=>{for(let a=0;a<o;a++)if(await i())return!0;return!1})(()=>i0.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new ov;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),t!=="off"){const c=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(c)return c}const i=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(r):await this._getTokenFromIFrame(r),{id_token:o,access_token:a,oauthTokenScope:s,expires_in:l}=i;return Object.assign(Object.assign({id_token:o,access_token:a},s?{scope:s}:null),{expires_in:l})}finally{await i0.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},t={}){var r;const i=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:yh(this.scope,(r=e.authorizationParams)===null||r===void 0?void 0:r.scope)})});return t=Object.assign(Object.assign({},WW),t),await this.loginWithPopup(i,t),(await this.cacheManager.get(new Ja({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const t=e.logoutParams||{},{federated:r}=t,i=Ti(t,["federated"]),o=r?"&federated":"";return this._url("/v2/logout?".concat(av(Object.assign({clientId:e.clientId},i))))+o}async logout(e={}){const t=c_(e),{openUrl:r}=t,i=Ti(t,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const o=this._buildLogoutUrl(i);r?await r(o):r!==!1&&window.location.assign(o)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!t.organization&&(t.organization=r);const{url:i,state:o,nonce:a,code_verifier:s,redirect_uri:l,scope:c,audience:u}=await this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new gr("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const d=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,h=await((p,m,b=60)=>new Promise((g,v)=>{const x=window.document.createElement("iframe");x.setAttribute("width","0"),x.setAttribute("height","0"),x.style.display="none";const y=()=>{window.document.body.contains(x)&&(window.document.body.removeChild(x),window.removeEventListener("message",w,!1))};let w;const k=setTimeout(()=>{v(new ov),y()},1e3*b);w=function(_){if(_.origin!=m||!_.data||_.data.type!=="authorization_response")return;const T=_.source;T&&T.close(),_.data.response.error?v(gr.fromPayload(_.data.response)):g(_.data.response),clearTimeout(k),window.removeEventListener("message",w,!1),setTimeout(y,2e3)},window.addEventListener("message",w,!1),window.document.body.appendChild(x),x.setAttribute("src",p)}))(i,this.domainUrl,d);if(o!==h.state)throw new gr("state_mismatch","Invalid state");const f=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:s,code:h.code,grant_type:"authorization_code",redirect_uri:l,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:t.organization});return Object.assign(Object.assign({},f),{scope:c,oauthTokenScope:f.scope,audience:u})}catch(d){throw d.error==="login_required"&&this.logout({openUrl:!1}),d}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new Ja({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new Q5(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const r=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{const o=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:r}),i&&{timeout:i}));return Object.assign(Object.assign({},o),{scope:e.authorizationParams.scope,oauthTokenScope:o.scope,audience:e.authorizationParams.audience||"default"})}catch(o){if((o.message.indexOf("Missing Refresh Token")>-1||o.message&&o.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw o}}async _saveEntryInCache(e){const{id_token:t,decodedToken:r}=e,i=Ti(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:r}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(i)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",t=await this.cacheManager.getIdToken(new Ja({clientId:this.options.clientId,audience:e,scope:this.scope})),r=this.userCache.get("@@user@@");return t&&t.id_token===(r==null?void 0:r.id_token)?r:(this.userCache.set("@@user@@",t),t)}async _getEntryFromCache({scope:e,audience:t,clientId:r}){const i=await this.cacheManager.get(new Ja({scope:e,audience:t,clientId:r}),60);if(i&&i.access_token){const{access_token:o,oauthTokenScope:a,expires_in:s}=i,l=await this._getIdTokenFromCache();return l&&Object.assign(Object.assign({id_token:l.id_token,access_token:o},a?{scope:a}:null),{expires_in:s})}}async _requestToken(e,t){const{nonceIn:r,organization:i}=t||{},o=await JW(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),a=await this._verifyIdToken(o.id_token,r,i);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},o),{decodedToken:a,scope:e.scope,audience:e.audience||"default"}),o.scope?{oauthTokenScope:o.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||a.claims.org_id),Object.assign(Object.assign({},o),{decodedToken:a})}};var i6={isAuthenticated:!1,isLoading:!0},no=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},hV=cn(cn({},i6),{buildAuthorizeUrl:no,buildLogoutUrl:no,getAccessTokenSilently:no,getAccessTokenWithPopup:no,getIdTokenClaims:no,loginWithRedirect:no,loginWithPopup:no,logout:no,handleRedirectCallback:no}),o6=Y.createContext(hV),u_=function(n){$W(e,n);function e(t,r){var i=n.call(this,r||t)||this;return i.error=t,i.error_description=r,Object.setPrototypeOf(i,e.prototype),i}return e}(Error),fV=/[?&]code=[^&]+/,pV=/[?&]state=[^&]+/,mV=/[?&]error=[^&]+/,gV=function(n){return n===void 0&&(n=window.location.search),(fV.test(n)||mV.test(n))&&pV.test(n)},a6=function(n){return function(e){return e instanceof Error?e:e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"?"error_description"in e&&typeof e.error_description=="string"?new u_(e.error,e.error_description):new u_(e.error):new Error(n)}},d_=a6("Login failed"),o0=a6("Get access token failed"),s6=function(n){var e;n!=null&&n.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),n.authorizationParams=n.authorizationParams||{},n.authorizationParams.redirect_uri=n.redirectUri,delete n.redirectUri),!((e=n==null?void 0:n.authorizationParams)===null||e===void 0)&&e.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),n.authorizationParams.redirect_uri=n.authorizationParams.redirectUri,delete n.authorizationParams.redirectUri)},bV=function(n,e){switch(e.type){case"LOGIN_POPUP_STARTED":return cn(cn({},n),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return cn(cn({},n),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return n.user===e.user?n:cn(cn({},n),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return cn(cn({},n),{isAuthenticated:!1,user:void 0});case"ERROR":return cn(cn({},n),{isLoading:!1,error:e.error})}},vV=function(n){return s6(n),cn(cn({},n),{auth0Client:{name:"auth0-react",version:"2.3.0"}})},xV=function(n){window.history.replaceState({},document.title,(n==null?void 0:n.returnTo)||window.location.pathname)},yV=function(n){var e=n.children,t=n.skipRedirectCallback,r=n.onRedirectCallback,i=r===void 0?xV:r,o=n.context,a=o===void 0?o6:o,s=UW(n,["children","skipRedirectCallback","onRedirectCallback","context"]),l=Y.useState(function(){return new dV(vV(s))})[0],c=Y.useReducer(bV,i6),u=c[0],d=c[1],h=Y.useRef(!1),f=Y.useCallback(function(k){return d({type:"ERROR",error:k}),k},[]);Y.useEffect(function(){h.current||(h.current=!0,function(){return Xs(void 0,void 0,void 0,function(){var k,_,T;return Zs(this,function(E){switch(E.label){case 0:return E.trys.push([0,7,,8]),k=void 0,gV()&&!t?[4,l.handleRedirectCallback()]:[3,3];case 1:return _=E.sent().appState,[4,l.getUser()];case 2:return k=E.sent(),i(_,k),[3,6];case 3:return[4,l.checkSession()];case 4:return E.sent(),[4,l.getUser()];case 5:k=E.sent(),E.label=6;case 6:return d({type:"INITIALISED",user:k}),[3,8];case 7:return T=E.sent(),f(d_(T)),[3,8];case 8:return[2]}})})}())},[l,i,t,f]);var p=Y.useCallback(function(k){return s6(k),l.loginWithRedirect(k)},[l]),m=Y.useCallback(function(k,_){return Xs(void 0,void 0,void 0,function(){var T,E;return Zs(this,function(A){switch(A.label){case 0:d({type:"LOGIN_POPUP_STARTED"}),A.label=1;case 1:return A.trys.push([1,3,,4]),[4,l.loginWithPopup(k,_)];case 2:return A.sent(),[3,4];case 3:return T=A.sent(),f(d_(T)),[2];case 4:return[4,l.getUser()];case 5:return E=A.sent(),d({type:"LOGIN_POPUP_COMPLETE",user:E}),[2]}})})},[l]),b=Y.useCallback(function(k){return k===void 0&&(k={}),Xs(void 0,void 0,void 0,function(){return Zs(this,function(_){switch(_.label){case 0:return[4,l.logout(k)];case 1:return _.sent(),(k.openUrl||k.openUrl===!1)&&d({type:"LOGOUT"}),[2]}})})},[l]),g=Y.useCallback(function(k){return Xs(void 0,void 0,void 0,function(){var _,T,E,A;return Zs(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,3,5]),[4,l.getTokenSilently(k)];case 1:return _=M.sent(),[3,5];case 2:throw T=M.sent(),o0(T);case 3:return E=d,A={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return E.apply(void 0,[(A.user=M.sent(),A)]),[7];case 5:return[2,_]}})})},[l]),v=Y.useCallback(function(k,_){return Xs(void 0,void 0,void 0,function(){var T,E,A,M;return Zs(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,3,5]),[4,l.getTokenWithPopup(k,_)];case 1:return T=I.sent(),[3,5];case 2:throw E=I.sent(),o0(E);case 3:return A=d,M={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return A.apply(void 0,[(M.user=I.sent(),M)]),[7];case 5:return[2,T]}})})},[l]),x=Y.useCallback(function(){return l.getIdTokenClaims()},[l]),y=Y.useCallback(function(k){return Xs(void 0,void 0,void 0,function(){var _,T,E;return Zs(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,3,5]),[4,l.handleRedirectCallback(k)];case 1:return[2,A.sent()];case 2:throw _=A.sent(),o0(_);case 3:return T=d,E={type:"HANDLE_REDIRECT_COMPLETE"},[4,l.getUser()];case 4:return T.apply(void 0,[(E.user=A.sent(),E)]),[7];case 5:return[2]}})})},[l]),w=Y.useMemo(function(){return cn(cn({},u),{getAccessTokenSilently:g,getAccessTokenWithPopup:v,getIdTokenClaims:x,loginWithRedirect:p,loginWithPopup:m,logout:b,handleRedirectCallback:y})},[u,g,v,x,p,m,b,y]);return de.createElement(a.Provider,{value:w},e)},wV=function(n){return n===void 0&&(n=o6),Y.useContext(n)};const kV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",_V="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",CV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm0 319.91a20 20 0 1120-20 20 20 0 01-20 20zm21.72-201.15l-5.74 122a16 16 0 01-32 0l-5.74-121.94v-.05a21.74 21.74 0 1143.44 0z'/></svg>",EV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80c-8.66 0-16.58 7.36-16 16l8 216a8 8 0 008 8h0a8 8 0 008-8l8-216c.58-8.64-7.34-16-16-16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='416' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",SV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0116 16v288a16 16 0 01-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0116-16c131.57.59 192 32.84 208 96zM256 160v288' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",TV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M464 128L240 384l-96-96M144 384l-96-96M368 128L232 284' class='ionicon-fill-none ionicon-stroke-width'/></svg>",AV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",IV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",Wy="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",ef="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 368L144 144M368 144L144 368' class='ionicon-fill-none ionicon-stroke-width'/></svg>",RV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8-69 0-113.44 45.79-128 91.2-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M320 255.79l-64-64-64 64M256 448.21V207.79' class='ionicon-fill-none ionicon-stroke-width'/></svg>",l6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='128' y='128' width='336' height='336' rx='57' ry='57' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",DV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/></svg>",h_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 64h66.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62V432a48 48 0 01-48 48H192a48 48 0 01-48-48V304' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M288 72v120a32 32 0 0032 32h120' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M160 80v152a23.69 23.69 0 01-24 24c-12 0-24-9.1-24-24V88c0-30.59 16.57-56 48-56s48 24.8 48 55.38v138.75c0 43-27.82 77.87-72 77.87s-72-34.86-72-77.87V144' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",f_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Wc="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120M176 288h160M176 368h160' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",p_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M176 272l80 80 80-80M256 48v288' class='ionicon-fill-none ionicon-stroke-width'/></svg>",m_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M440 432H72a40 40 0 01-40-40V120a40 40 0 0140-40h75.89a40 40 0 0122.19 6.72l27.84 18.56a40 40 0 0022.19 6.72H440a40 40 0 0140 40v240a40 40 0 01-40 40zM32 192h448' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",OV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M414.39 97.61A224 224 0 1097.61 414.39 224 224 0 10414.39 97.61zM184 208a24 24 0 11-24 24 23.94 23.94 0 0124-24zm167.67 106.17c-12 40.3-50.2 69.83-95.62 69.83s-83.62-29.53-95.72-69.83a8 8 0 017.83-10.17h175.69a8 8 0 017.82 10.17zM328 256a24 24 0 1124-24 23.94 23.94 0 01-24 24z'/></svg>",MV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='184' cy='232' r='24'/><path d='M256.05 384c-45.42 0-83.62-29.53-95.71-69.83a8 8 0 017.82-10.17h175.69a8 8 0 017.82 10.17c-11.99 40.3-50.2 69.83-95.62 69.83z'/><circle cx='328' cy='232' r='24'/><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",PV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z'/></svg>",BV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0018 0c96.26-65.34 184.09-143.09 183-252.42-.54-52.67-42.32-96.81-95.08-96.81z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",zV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 164s1.44-33 33.54-59.46C212.6 88.83 235.49 84.28 256 84c18.73-.23 35.47 2.94 45.48 7.82C318.59 100.2 352 120.6 352 164c0 45.67-29.18 66.37-62.35 89.18S248 298.36 248 324' stroke-linecap='round' stroke-miterlimit='10' stroke-width='40' class='ionicon-fill-none'/><circle cx='248' cy='399.99' r='32'/></svg>",LV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M80 212v236a16 16 0 0016 16h96V328a24 24 0 0124-24h80a24 24 0 0124 24v136h96a16 16 0 0016-16V212' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256M400 179V64h-48v69' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",lv="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='80' width='416' height='352' rx='48' ry='48' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='336' cy='176' r='32' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M304 335.79l-90.66-90.49a32 32 0 00-43.87-1.3L48 352M224 432l123.34-123.34a32 32 0 0143.11-2L464 368' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",cv="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 352h-64a96 96 0 010-192h64M304 160h64a96 96 0 010 192h-64M163.29 256h187.42' stroke-linecap='round' stroke-linejoin='round' stroke-width='36' class='ionicon-fill-none'/></svg>",jV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",NV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",FV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M473.16 221.48l-2.26-9.59H262.46v88.22H387c-12.93 61.4-72.93 93.72-121.94 93.72-35.66 0-73.25-15-98.13-39.11a140.08 140.08 0 01-41.8-98.88c0-37.16 16.7-74.33 41-98.78s61-38.13 97.49-38.13c41.79 0 71.74 22.19 82.94 32.31l62.69-62.36C390.86 72.72 340.34 32 261.6 32c-60.75 0-119 23.27-161.58 65.71C58 139.5 36.25 199.93 36.25 256s20.58 113.48 61.3 155.6c43.51 44.92 105.13 68.4 168.58 68.4 57.73 0 112.45-22.62 151.45-63.66 38.34-40.4 58.17-96.3 58.17-154.9 0-24.67-2.48-39.32-2.59-39.96z'/></svg>",$V="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='44' d='M358.62 129.28L86.49 402.08 70 442l39.92-16.49 272.8-272.13-24.1-24.1zM413.07 74.84l-11.79 11.78 24.1 24.1 11.79-11.79a16.51 16.51 0 000-23.34l-.75-.75a16.51 16.51 0 00-23.35 0z' class='ionicon-fill-none'/></svg>",UV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z'/><path d='M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z'/></svg>",HV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>",WV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224H176a16 16 0 010-32h160a16 16 0 010 32z'/></svg>",VV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M414.39 97.61A224 224 0 1097.61 414.39 224 224 0 10414.39 97.61zM184 208a24 24 0 11-24 24 23.94 23.94 0 0124-24zm-23.67 149.83c12-40.3 50.2-69.83 95.62-69.83s83.62 29.53 95.71 69.83a8 8 0 01-7.82 10.17H168.15a8 8 0 01-7.82-10.17zM328 256a24 24 0 1124-24 23.94 23.94 0 01-24 24z'/></svg>",qV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='184' cy='232' r='24'/><path d='M256 288c45.42 0 83.62 29.53 95.71 69.83a8 8 0 01-7.87 10.17H168.15a8 8 0 01-7.82-10.17C172.32 317.53 210.53 288 256 288z'/><circle cx='328' cy='232' r='24'/><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",GV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><path d='M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z'/></svg>",KV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M192 53.84S208 48 256 48s74 16 96 32h64a64 64 0 0164 64v48a64 64 0 01-64 64h-30a32.34 32.34 0 00-27.37 15.4S350 290.19 324 335.22 248 448 240 464c-29 0-43-22-34-47.71 10.28-29.39 23.71-54.38 27.46-87.09.54-4.78-3.14-12-8-12L96 307' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M96 241l80 2c20 1.84 32 12.4 32 30h0c0 17.6-14 28.84-32 30l-80 4c-17.6 0-32-16.4-32-34v-.17A32 32 0 0196 241zM64 176l112 2c18 .84 32 12.41 32 30h0c0 17.61-14 28.86-32 30l-112 2a32.1 32.1 0 01-32-32h0a32.1 32.1 0 0132-32zM112 48l64 3c21 1.84 32 11.4 32 29h0c0 17.6-14.4 30-32 30l-64 2a32.09 32.09 0 01-32-32h0a32.09 32.09 0 0132-32zM80 112l96 2c19 .84 32 12.4 32 30h0c0 17.6-13 28.84-32 30l-96 2a32.09 32.09 0 01-32-32h0a32.09 32.09 0 0132-32z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",YV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 458.16S304 464 256 464s-74-16-96-32H96a64 64 0 01-64-64v-48a64 64 0 0164-64h30a32.34 32.34 0 0027.37-15.4S162 221.81 188 176.78 264 64 272 48c29 0 43 22 34 47.71-10.28 29.39-23.71 54.38-27.46 87.09-.54 4.78 3.14 12 7.95 12L416 205' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M416 271l-80-2c-20-1.84-32-12.4-32-30h0c0-17.6 14-28.84 32-30l80-4c17.6 0 32 16.4 32 34v.17A32 32 0 01416 271zM448 336l-112-2c-18-.84-32-12.41-32-30h0c0-17.61 14-28.86 32-30l112-2a32.1 32.1 0 0132 32h0a32.1 32.1 0 01-32 32zM400 464l-64-3c-21-1.84-32-11.4-32-29h0c0-17.6 14.4-30 32-30l64-2a32.09 32.09 0 0132 32h0a32.09 32.09 0 01-32 32zM432 400l-96-2c-19-.84-32-12.4-32-30h0c0-17.6 13-28.84 32-30l96-2a32.09 32.09 0 0132 32h0a32.09 32.09 0 01-32 32z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",XV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' class='ionicon-fill-none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>",ZV="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",JV=()=>{const n=ya(),[e]=Jp(),t=async()=>{try{const{data:r,error:i}=await _e.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/Cephaline-Supabase/app"}});if(i)throw i;await e({message:"Google login successful!",duration:2e3,position:"top",color:"success"}),n.push("/Cephaline-Supabase/app","forward","replace")}catch(r){await e({message:r.message||"Google login failed",duration:3e3,position:"top",color:"danger"}),console.error("Google login error:",r)}};return C.jsxs(We,{expand:"block",onClick:t,fill:"outline",className:"google-login-button",children:[C.jsx(Xe,{slot:"start",icon:FV,className:"google-icon"}),"Continue with Google"]})},QV=({message:n,isOpen:e,onClose:t})=>C.jsx(Bs,{isOpen:e,onDidDismiss:t,header:"Notification",message:n,buttons:["OK"]}),eq=()=>{const n=ya(),[e,t]=Y.useState(""),[r,i]=Y.useState(""),[o,a]=Y.useState(""),[s,l]=Y.useState(!1),[c,u]=Y.useState(!1),[d,h]=Y.useState(!1),{isAuthenticated:f,user:p,getAccessTokenSilently:m}=wV(),b=async()=>{try{h(!0);const{error:g}=await _e.auth.signInWithPassword({email:e,password:r});if(g)throw g;u(!0),setTimeout(()=>{n.push("/Cephaline-Supabase/app","forward","replace")},300)}catch(g){a(g.message||"Login failed"),l(!0)}finally{h(!1)}};return C.jsxs(Tr,{children:[C.jsx(Tn,{children:C.jsx(An,{children:C.jsx(Yn,{style:{textAlign:"left"},children:"Cephaline Coding Journal App"})})}),C.jsx(jt,{className:"ion-padding",fullscreen:!0,children:C.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:C.jsx(sr,{className:"fancy-card",style:{width:"90%",maxWidth:"400px",padding:"2rem"},children:C.jsxs(ar,{children:[C.jsx("h2",{style:{textAlign:"center",marginBottom:"1.5rem"},children:"USER LOGIN"}),C.jsx(hn,{fill:"outline",className:"fancy-input",type:"email",placeholder:"Email",value:e,onIonChange:g=>t(g.detail.value),disabled:d}),C.jsx(hn,{className:"fancy-input",fill:"outline",type:"password",placeholder:"Password",value:r,onIonChange:g=>i(g.detail.value),style:{marginTop:"1rem"},disabled:d,children:C.jsx(Nl,{slot:"end"})}),C.jsx(We,{className:"fancy-button",expand:"block",onClick:b,style:{marginTop:"2rem",borderRadius:"8px"},disabled:d,children:d?"Logging in...":"Login"}),C.jsx("div",{style:{textAlign:"center",margin:"1rem 0"},children:C.jsx("span",{style:{color:"#666"},children:"OR"})}),C.jsx(JV,{}),C.jsx(We,{fill:"clear",expand:"block",routerLink:"/Cephaline-Supabase/Registration",color:"primary",disabled:d,children:"Don't have an account? Register here"}),C.jsx(QV,{message:o,isOpen:s,onClose:()=>l(!1)}),C.jsx(Ec,{isOpen:c,onDidDismiss:()=>u(!1),message:"Login successful! Redirecting...",duration:1500,position:"top",color:"primary"})]})})})})]})},tq={};var uv=null;function nq(n){try{return crypto.getRandomValues(new Uint8Array(n))}catch(e){}try{return tq.randomBytes(n)}catch(e){}if(!uv)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return uv(n)}function rq(n){uv=n}function Vy(n,e){if(n=n||qy,typeof n!="number")throw Error("Illegal arguments: "+typeof n+", "+typeof e);n<4?n=4:n>31&&(n=31);var t=[];return t.push("$2b$"),n<10&&t.push("0"),t.push(n.toString()),t.push("$"),t.push(Qf(nq(Xu),Xu)),t.join("")}function c6(n,e,t){if(typeof e=="function"&&(t=e,e=void 0),typeof n=="function"&&(t=n,n=void 0),typeof n>"u")n=qy;else if(typeof n!="number")throw Error("illegal arguments: "+typeof n);function r(i){ui(function(){try{i(null,Vy(n))}catch(o){i(o)}})}if(t){if(typeof t!="function")throw Error("Illegal callback: "+typeof t);r(t)}else return new Promise(function(i,o){r(function(a,s){if(a){o(a);return}i(s)})})}function u6(n,e){if(typeof e>"u"&&(e=qy),typeof e=="number"&&(e=Vy(e)),typeof n!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof n+", "+typeof e);return dv(n,e)}function d6(n,e,t,r){function i(o){typeof n=="string"&&typeof e=="number"?c6(e,function(a,s){dv(n,s,o,r)}):typeof n=="string"&&typeof e=="string"?dv(n,e,o,r):ui(o.bind(this,Error("Illegal arguments: "+typeof n+", "+typeof e)))}if(t){if(typeof t!="function")throw Error("Illegal callback: "+typeof t);i(t)}else return new Promise(function(o,a){i(function(s,l){if(s){a(s);return}o(l)})})}function h6(n,e){for(var t=n.length^e.length,r=0;r<n.length;++r)t|=n.charCodeAt(r)^e.charCodeAt(r);return t===0}function iq(n,e){if(typeof n!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof n+", "+typeof e);return e.length!==60?!1:h6(u6(n,e.substring(0,e.length-31)),e)}function oq(n,e,t,r){function i(o){if(typeof n!="string"||typeof e!="string"){ui(o.bind(this,Error("Illegal arguments: "+typeof n+", "+typeof e)));return}if(e.length!==60){ui(o.bind(this,null,!1));return}d6(n,e.substring(0,29),function(a,s){a?o(a):o(null,h6(s,e))},r)}if(t){if(typeof t!="function")throw Error("Illegal callback: "+typeof t);i(t)}else return new Promise(function(o,a){i(function(s,l){if(s){a(s);return}o(l)})})}function aq(n){if(typeof n!="string")throw Error("Illegal arguments: "+typeof n);return parseInt(n.split("$")[2],10)}function sq(n){if(typeof n!="string")throw Error("Illegal arguments: "+typeof n);if(n.length!==60)throw Error("Illegal hash length: "+n.length+" != 60");return n.substring(0,29)}function lq(n){if(typeof n!="string")throw Error("Illegal arguments: "+typeof n);return f6(n)>72}var ui=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function f6(n){for(var e=0,t=0,r=0;r<n.length;++r)t=n.charCodeAt(r),t<128?e+=1:t<2048?e+=2:(t&64512)===55296&&(n.charCodeAt(r+1)&64512)===56320?(++r,e+=4):e+=3;return e}function cq(n){for(var e=0,t,r,i=new Array(f6(n)),o=0,a=n.length;o<a;++o)t=n.charCodeAt(o),t<128?i[e++]=t:t<2048?(i[e++]=t>>6|192,i[e++]=t&63|128):(t&64512)===55296&&((r=n.charCodeAt(o+1))&64512)===56320?(t=65536+((t&1023)<<10)+(r&1023),++o,i[e++]=t>>18|240,i[e++]=t>>12&63|128,i[e++]=t>>6&63|128,i[e++]=t&63|128):(i[e++]=t>>12|224,i[e++]=t>>6&63|128,i[e++]=t&63|128);return i}var Js="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Lo=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Qf(n,e){var t=0,r=[],i,o;if(e<=0||e>n.length)throw Error("Illegal len: "+e);for(;t<e;){if(i=n[t++]&255,r.push(Js[i>>2&63]),i=(i&3)<<4,t>=e){r.push(Js[i&63]);break}if(o=n[t++]&255,i|=o>>4&15,r.push(Js[i&63]),i=(o&15)<<2,t>=e){r.push(Js[i&63]);break}o=n[t++]&255,i|=o>>6&3,r.push(Js[i&63]),r.push(Js[o&63])}return r.join("")}function p6(n,e){var t=0,r=n.length,i=0,o=[],a,s,l,c,u,d;if(e<=0)throw Error("Illegal len: "+e);for(;t<r-1&&i<e&&(d=n.charCodeAt(t++),a=d<Lo.length?Lo[d]:-1,d=n.charCodeAt(t++),s=d<Lo.length?Lo[d]:-1,!(a==-1||s==-1||(u=a<<2>>>0,u|=(s&48)>>4,o.push(String.fromCharCode(u)),++i>=e||t>=r)||(d=n.charCodeAt(t++),l=d<Lo.length?Lo[d]:-1,l==-1)||(u=(s&15)<<4>>>0,u|=(l&60)>>2,o.push(String.fromCharCode(u)),++i>=e||t>=r)));)d=n.charCodeAt(t++),c=d<Lo.length?Lo[d]:-1,u=(l&3)<<6>>>0,u|=c,o.push(String.fromCharCode(u)),++i;var h=[];for(t=0;t<i;t++)h.push(o[t].charCodeAt(0));return h}var Xu=16,qy=10,uq=16,dq=100,g_=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],b_=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],m6=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Zu(n,e,t,r){var i,o=n[e],a=n[e+1];return o^=t[0],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[1],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[2],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[3],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[4],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[5],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[6],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[7],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[8],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[9],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[10],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[11],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[12],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[13],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[14],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[15],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[16],n[e]=a^t[uq+1],n[e+1]=o,n}function hl(n,e){for(var t=0,r=0;t<4;++t)r=r<<8|n[e]&255,e=(e+1)%n.length;return{key:r,offp:e}}function v_(n,e,t){for(var r=0,i=[0,0],o=e.length,a=t.length,s,l=0;l<o;l++)s=hl(n,r),r=s.offp,e[l]=e[l]^s.key;for(l=0;l<o;l+=2)i=Zu(i,0,e,t),e[l]=i[0],e[l+1]=i[1];for(l=0;l<a;l+=2)i=Zu(i,0,e,t),t[l]=i[0],t[l+1]=i[1]}function hq(n,e,t,r){for(var i=0,o=[0,0],a=t.length,s=r.length,l,c=0;c<a;c++)l=hl(e,i),i=l.offp,t[c]=t[c]^l.key;for(i=0,c=0;c<a;c+=2)l=hl(n,i),i=l.offp,o[0]^=l.key,l=hl(n,i),i=l.offp,o[1]^=l.key,o=Zu(o,0,t,r),t[c]=o[0],t[c+1]=o[1];for(c=0;c<s;c+=2)l=hl(n,i),i=l.offp,o[0]^=l.key,l=hl(n,i),i=l.offp,o[1]^=l.key,o=Zu(o,0,t,r),r[c]=o[0],r[c+1]=o[1]}function x_(n,e,t,r,i){var o=m6.slice(),a=o.length,s;if(t<4||t>31)if(s=Error("Illegal number of rounds (4-31): "+t),r){ui(r.bind(this,s));return}else throw s;if(e.length!==Xu)if(s=Error("Illegal salt length: "+e.length+" != "+Xu),r){ui(r.bind(this,s));return}else throw s;t=1<<t>>>0;var l,c,u=0,d;typeof Int32Array=="function"?(l=new Int32Array(g_),c=new Int32Array(b_)):(l=g_.slice(),c=b_.slice()),hq(e,n,l,c);function h(){if(i&&i(u/t),u<t)for(var p=Date.now();u<t&&(u=u+1,v_(n,l,c),v_(e,l,c),!(Date.now()-p>dq)););else{for(u=0;u<64;u++)for(d=0;d<a>>1;d++)Zu(o,d<<1,l,c);var m=[];for(u=0;u<a;u++)m.push((o[u]>>24&255)>>>0),m.push((o[u]>>16&255)>>>0),m.push((o[u]>>8&255)>>>0),m.push((o[u]&255)>>>0);if(r){r(null,m);return}else return m}r&&ui(h)}if(typeof r<"u")h();else for(var f;;)if(typeof(f=h())<"u")return f||[]}function dv(n,e,t,r){var i;if(typeof n!="string"||typeof e!="string")if(i=Error("Invalid string / salt: Not a string"),t){ui(t.bind(this,i));return}else throw i;var o,a;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(i=Error("Invalid salt version: "+e.substring(0,2)),t){ui(t.bind(this,i));return}else throw i;if(e.charAt(2)==="$")o="\0",a=3;else{if(o=e.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||e.charAt(3)!=="$")if(i=Error("Invalid salt revision: "+e.substring(2,4)),t){ui(t.bind(this,i));return}else throw i;a=4}if(e.charAt(a+2)>"$")if(i=Error("Missing salt rounds"),t){ui(t.bind(this,i));return}else throw i;var s=parseInt(e.substring(a,a+1),10)*10,l=parseInt(e.substring(a+1,a+2),10),c=s+l,u=e.substring(a+3,a+25);n+=o>="a"?"\0":"";var d=cq(n),h=p6(u,Xu);function f(p){var m=[];return m.push("$2"),o>="a"&&m.push(o),m.push("$"),c<10&&m.push("0"),m.push(c.toString()),m.push("$"),m.push(Qf(h,h.length)),m.push(Qf(p,m6.length*4-1)),m.join("")}if(typeof t>"u")return f(x_(d,h,c));x_(d,h,c,function(p,m){p?t(p,null):t(null,f(m))},r)}function fq(n,e){return Qf(n,e)}function pq(n,e){return p6(n,e)}const y_={setRandomFallback:rq,genSaltSync:Vy,genSalt:c6,hashSync:u6,hash:d6,compareSync:iq,compare:oq,getRounds:aq,getSalt:sq,truncates:lq,encodeBase64:fq,decodeBase64:pq},mq=({message:n,isOpen:e,onClose:t})=>C.jsx(Bs,{isOpen:e,onDidDismiss:t,header:"Notification",message:n,buttons:["OK"]}),gq=()=>{const[n,e]=Y.useState(""),[t,r]=Y.useState(""),[i,o]=Y.useState(""),[a,s]=Y.useState(""),[l,c]=Y.useState(""),[u,d]=Y.useState(""),[h,f]=Y.useState(!1),[p,m]=Y.useState(!1),[b,g]=Y.useState(""),[v,x]=Y.useState(!1),y=()=>{if(!a.endsWith("@nbsc.edu.ph")){g("Only @nbsc.edu.ph emails are allowed to register."),x(!0);return}if(l!==u){g("Passwords do not match."),x(!0);return}f(!0)},w=async()=>{f(!1);try{const{data:_,error:T}=await _e.auth.signUp({email:a,password:l});if(T)throw new Error("Account creation failed: "+T.message);const E=await y_.genSalt(10),A=await y_.hash(l,E),{error:M}=await _e.from("users").insert([{username:n,user_email:a,user_firstname:t,user_lastname:i,user_password:A}]);if(M)throw new Error("Failed to save user data: "+M.message);m(!0)}catch(_){_ instanceof Error?g(_.message):g("An unknown error occurred."),x(!0)}},k={marginTop:"15px",color:"white",backgroundColor:"#1e1e1e",borderRadius:"8px",padding:"12px","--background":"#1e1e1e","--color":"#fff","--placeholder-color":"#aaa","--highlight-color-focused":"#3a8ef6"};return C.jsx(Tr,{children:C.jsx(jt,{fullscreen:!0,className:"ion-padding",style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#121212",height:"100vh"},children:C.jsx(sr,{style:{background:"#000",width:"100%",maxWidth:"500px",padding:"20px",borderRadius:"12px",boxShadow:"0 4px 10px rgba(0,0,0,0.6)",margin:"auto"},children:C.jsxs(ar,{children:[C.jsx("h1",{style:{color:"white",marginBottom:"20px"},children:"Create your account"}),C.jsx(hn,{label:"Username",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter a unique username",value:n,onIonChange:_=>e(_.detail.value),style:k}),C.jsx(hn,{label:"First Name",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter your first name",value:t,onIonChange:_=>r(_.detail.value),style:k}),C.jsx(hn,{label:"Last Name",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter your last name",value:i,onIonChange:_=>o(_.detail.value),style:k}),C.jsx(hn,{label:"Email",labelPlacement:"stacked",fill:"outline",type:"email",placeholder:"youremail@nbsc.edu.ph",value:a,onIonChange:_=>s(_.detail.value),style:k}),C.jsx(hn,{label:"Password",labelPlacement:"stacked",fill:"outline",type:"password",placeholder:"Enter password",value:l,onIonChange:_=>c(_.detail.value),style:k,children:C.jsx(Nl,{slot:"end"})}),C.jsx(hn,{label:"Confirm Password",labelPlacement:"stacked",fill:"outline",type:"password",placeholder:"Confirm password",value:u,onIonChange:_=>d(_.detail.value),style:k,children:C.jsx(Nl,{slot:"end"})}),C.jsx(We,{onClick:y,expand:"block",shape:"round",color:"primary",style:{marginTop:"20px"},children:"Register"}),C.jsx(We,{routerLink:"/Cephaline-Supabase",expand:"block",fill:"clear",shape:"round",color:"primary",children:"Already have an account? Sign in"}),C.jsx(ha,{isOpen:h,onDidDismiss:()=>f(!1),children:C.jsx(jt,{className:"ion-padding",children:C.jsxs(sr,{className:"ion-padding",style:{marginTop:"25%"},children:[C.jsxs(fy,{children:[C.jsx(Al,{children:"User Registration Details"}),C.jsx("hr",{}),C.jsx(Ug,{children:"Username"}),C.jsx(Al,{children:n}),C.jsx(Ug,{children:"Email"}),C.jsx(Al,{children:a}),C.jsx(Ug,{children:"Name"}),C.jsxs(Al,{children:[t," ",i]})]}),C.jsx(ar,{}),C.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginRight:"5px"},children:[C.jsx(We,{fill:"clear",onClick:()=>f(!1),children:"Cancel"}),C.jsx(We,{color:"primary",onClick:w,children:"Confirm"})]})]})})}),C.jsx(ha,{isOpen:p,onDidDismiss:()=>m(!1),children:C.jsxs(jt,{className:"ion-padding",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",textAlign:"center"},children:[C.jsx(Yn,{style:{marginTop:"35%"},children:"Registration Successful 🎉"}),C.jsxs(Ln,{children:[C.jsx("p",{children:"Your account has been created successfully."}),C.jsx("p",{children:"Please check your email address."})]}),C.jsx(We,{routerLink:"/Cephaline-Supabase",routerDirection:"back",color:"primary",children:"Go to Login"})]})}),C.jsx(mq,{message:b,isOpen:v,onClose:()=>x(!1)})]})})})})},bq=()=>{const[n,e]=Y.useState("Loading..."),[t,r]=Y.useState("Loading..."),[i,o]=Y.useState("https://placehold.co/200");Y.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:{user:s},error:l}=await _e.auth.getUser();if(!s){e("Not logged in");return}const{data:c,error:u}=await _e.from("users").select("username, user_firstname, user_lastname, user_avatar_url").eq("user_email",s.email).single();if(u)throw u;if(e(c.username||"No username"),r("".concat(c.user_firstname," ").concat(c.user_lastname).trim()||"No bio"),c.user_avatar_url)if(c.user_avatar_url.startsWith("http"))o(c.user_avatar_url);else{const{data:{publicUrl:d}}=await _e.storage.from("user-avatars").getPublicUrl(c.user_avatar_url);o(d)}else o("https://placehold.co/200")}catch(s){console.error("Error fetching profile:",s),e("Error loading profile"),r("Please try again later")}};return C.jsxs("div",{style:{padding:"16px",textAlign:"center"},children:[C.jsx(GS,{style:{width:"200px",height:"200px",margin:"0 auto 16px"},children:C.jsx(Zp,{src:i,style:{objectFit:"cover"},onError:s=>{s.target.src="https://placehold.co/200"}})}),C.jsxs(Cn,{children:[C.jsx("h2",{style:{margin:"8px 0",fontSize:"1.5rem"},children:n}),C.jsx("p",{style:{margin:"8px 0",color:"#666"},children:t})]}),C.jsxs(We,{fill:"outline",style:{marginTop:"16px"},routerLink:"/Cephaline-Supabase/app/editProfile",children:[C.jsx(Xe,{icon:$V,slot:"start"}),"Edit Profile"]})]})};function vq({value:n,onChange:e}){return C.jsx(OF,{placeholder:"Find Journal",value:n,onIonInput:t=>e(t.detail.value),debounce:300,style:{width:"1500px"}})}const xq=({onJournalCreated:n})=>{const[e,t]=Y.useState(!1),[r,i]=Y.useState(""),[o,a]=Y.useState(""),[s,l]=Y.useState("#3880ff"),[c,u]=Y.useState("#555555"),[d,h]=Y.useState("#ffffff"),[f,p]=Y.useState(!1),[m,b]=Y.useState(""),g=[{value:"#3880ff",name:"Primary Blue"},{value:"#3dc2ff",name:"Light Blue"},{value:"#2dd36f",name:"Success Green"},{value:"#ffc409",name:"Warning Yellow"},{value:"#eb445a",name:"Danger Red"},{value:"#92949c",name:"Medium Gray"},{value:"#555555",name:"Dark Gray"},{value:"#000000",name:"Black"},{value:"#ffffff",name:"White"},{value:"#fff8e1",name:"Warm White"},{value:"#f5f5f5",name:"Light Gray"}],v=async()=>{if(!r.trim()){b("Journal title is required"),p(!0);return}try{const{data:{user:x},error:y}=await _e.auth.getUser();if(y||!x)throw new Error((y==null?void 0:y.message)||"User not authenticated");const{data:w,error:k}=await _e.from("journals").insert({user_id:x.id,title:r,description:o,title_color:s,description_color:c,card_color:d}).select().single();if(k)throw k;n&&n(w),i(""),a(""),t(!1)}catch(x){console.error("Error creating journal:",x),b(x instanceof Error?x.message:"Failed to create journal"),p(!0)}};return C.jsxs(C.Fragment,{children:[C.jsxs(We,{onClick:()=>t(!0),expand:"block",color:"primary",style:{margin:"0 10px",width:"100px"},children:[C.jsx(Xe,{slot:"start",icon:SV}),"New Journal"]}),C.jsxs(ha,{isOpen:e,onDidDismiss:()=>t(!1),children:[C.jsx(Tn,{children:C.jsxs(An,{color:"primary",children:[C.jsx(Fn,{slot:"start",children:C.jsx(We,{onClick:()=>t(!1),children:C.jsx(Xe,{icon:Wy})})}),C.jsx(Yn,{children:"Create New Journal"}),C.jsx(Fn,{slot:"end",children:C.jsx(We,{onClick:v,strong:!0,children:"Save"})})]})}),C.jsx(jt,{className:"ion-padding",children:C.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[C.jsxs(Vn,{children:[C.jsxs(Cn,{position:"stacked",color:"primary",children:["Journal Title ",C.jsx("span",{style:{color:"red"},children:"*"})]}),C.jsx(hn,{value:r,onIonChange:x=>i(x.detail.value||""),placeholder:"Enter journal title",autofocus:!0,clearOnEdit:!0})]}),C.jsxs(Vn,{children:[C.jsx(Cn,{position:"stacked",color:"primary",children:"Description"}),C.jsx(py,{value:o,onIonChange:x=>a(x.detail.value||""),placeholder:"Enter journal description",rows:6,autoGrow:!0})]}),C.jsxs("div",{style:{marginTop:"20px"},children:[C.jsxs(Vn,{children:[C.jsx(Cn,{children:"Title Color"}),C.jsx(Xh,{value:s,onIonChange:x=>l(x.detail.value),interface:"popover",children:g.map(x=>C.jsx(so,{value:x.value,children:C.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[C.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:x.value,marginRight:"8px",border:"1px solid #ddd"}}),x.name]})},x.value))})]}),C.jsxs(Vn,{children:[C.jsx(Cn,{children:"Description Color"}),C.jsx(Xh,{value:c,onIonChange:x=>u(x.detail.value),interface:"popover",children:g.map(x=>C.jsx(so,{value:x.value,children:C.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[C.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:x.value,marginRight:"8px",border:"1px solid #ddd"}}),x.name]})},x.value))})]}),C.jsxs(Vn,{children:[C.jsx(Cn,{children:"Card Background"}),C.jsx(Xh,{value:d,onIonChange:x=>h(x.detail.value),interface:"popover",children:g.map(x=>C.jsx(so,{value:x.value,children:C.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[C.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:x.value,marginRight:"8px",border:"1px solid #ddd"}}),x.name]})},x.value))})]})]}),C.jsxs("div",{style:{marginTop:"30px",padding:"15px",backgroundColor:d,borderRadius:"8px",borderLeft:"4px solid var(--ion-color-primary)",boxShadow:"2px 2px 5px rgba(0,0,0,0.1)"},children:[C.jsx("h3",{style:{color:s,margin:"0 0 10px 0"},children:r||"Title Preview"}),C.jsx("p",{style:{color:c,fontStyle:"italic",margin:"8px 0"},children:o||"Description preview text goes here..."}),C.jsx("small",{style:{color:"#888",display:"block",textAlign:"right"},children:"Created: Just now"})]})]})})]}),C.jsx(Bs,{isOpen:f,onDidDismiss:()=>p(!1),header:"Error",message:m,buttons:["OK"]})]})},yq=({journals:n,setJournals:e,searchText:t,sortOption:r})=>{const i=By(),[o,a]=Y.useState(!0);Y.useEffect(()=>{(async()=>{try{a(!0);const{data:{user:u}}=await _e.auth.getUser();if(!u)throw new Error("User not authenticated");const{data:d,error:h}=await _e.from("journals").select("*").eq("user_id",u.id).order("created_at",{ascending:!1});if(h)throw h;e(d||[])}catch(u){console.error("Error fetching journals:",u)}finally{a(!1)}})()},[e]);const s=Y.useMemo(()=>[...n.filter(u=>{var d;return u.title.toLowerCase().includes(t.toLowerCase())||((d=u.description)==null?void 0:d.toLowerCase().includes(t.toLowerCase()))})].sort((u,d)=>{switch(r){case"title-asc":return u.title.localeCompare(d.title);case"title-desc":return d.title.localeCompare(u.title);case"date-newest":return new Date(d.created_at).getTime()-new Date(u.created_at).getTime();case"date-oldest":return new Date(u.created_at).getTime()-new Date(d.created_at).getTime();case"color-asc":return(u.card_color||"").localeCompare(d.card_color||"");case"color-desc":return(d.card_color||"").localeCompare(u.card_color||"");default:return 0}}),[n,t,r]),l=async c=>{try{const{data:u,error:d}=await _e.from("journal_pages").select("page_id").eq("journal_id",c).order("created_at",{ascending:!1}).limit(1);if(d)throw d;u!=null&&u.length?i.push("/Cephaline-Supabase/app/Overviewing/".concat(c)):i.push("/Cephaline-Supabase/app/JournalPage/".concat(c))}catch(u){console.error("Error checking journal pages:",u),i.push("/Cephaline-Supabase/app/JournalPage/".concat(c))}};return o?C.jsxs("div",{className:"loading-container",children:[C.jsx(Cc,{name:"crescent"}),C.jsx("p",{children:"Loading your journals..."})]}):s.length===0?C.jsx("div",{className:"empty-state",children:C.jsx("p",{children:"No journals match your search."})}):C.jsx("div",{className:"bookshelf-container",children:C.jsxs("div",{className:"bookshelf",children:[C.jsx("div",{className:"shelf"}),C.jsx("div",{className:"journal-grid-container",children:s.map(c=>C.jsxs("div",{className:"journal-card-wrapper",style:{"--card-color":c.card_color,"--title-color":c.title_color},onClick:()=>l(c.journal_id),children:[C.jsx("div",{className:"journal-spine",children:C.jsxs("div",{className:"journal-title-container",children:[C.jsx("h3",{className:"journal-title",children:c.title}),C.jsx("div",{className:"journal-date",children:new Date(c.created_at).toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})}),C.jsx("div",{className:"journal-card-preview",children:C.jsxs(sr,{className:"journal-card",children:[C.jsx(fy,{children:C.jsx(Al,{style:{color:c.title_color},children:c.title})}),C.jsxs(ar,{children:[C.jsx("p",{style:{color:c.description_color},children:c.description}),C.jsxs("small",{children:["Created: ",new Date(c.created_at).toLocaleDateString()]})]})]})})]},c.journal_id))})]})})},wq=({value:n,onChange:e})=>C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"-3px",marginBottom:"4px",marginLeft:"30px"},children:[C.jsx(Cn,{children:"Sort by:"}),C.jsxs(Xh,{value:n,placeholder:"Select sort",onIonChange:t=>e(t.detail.value),children:[C.jsx(so,{value:"title-asc",children:"Title (A–Z)"}),C.jsx(so,{value:"title-desc",children:"Title (Z–A)"}),C.jsx(so,{value:"date-newest",children:"Date (Newest)"}),C.jsx(so,{value:"date-oldest",children:"Date (Oldest)"}),C.jsx(so,{value:"color-asc",children:"Background Color (A–Z)"}),C.jsx(so,{value:"color-desc",children:"Background Color (Z–A)"})]})]}),kq=()=>{const[n,e]=Y.useState([]),[t,r]=Y.useState(""),[i,o]=Y.useState("date-newest"),[a,s]=Y.useState(0),l=c=>{e(u=>[c,...u])};return yF(()=>{s(c=>c+1)}),C.jsxs(Tr,{children:[C.jsx(Tn,{children:C.jsx(An,{children:C.jsx(Yn,{children:"Journals"})})}),C.jsxs(jt,{children:[C.jsx(bq,{}),C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[C.jsx(vq,{value:t,onChange:r}),C.jsx(xq,{onJournalCreated:l})]}),C.jsx(wq,{value:i,onChange:o}),C.jsx(yq,{journals:n,setJournals:e,searchText:t,sortOption:i},a)]})]})},_q=({avatarPreview:n,handleAvatarChange:e})=>{const t=Y.useRef(null);return C.jsx(us,{children:C.jsx(_o,{className:"ion-justify-content-center ion-align-items-center",children:C.jsxs(pi,{className:"ion-text-center",children:[n&&C.jsx(GS,{style:{width:"200px",height:"200px",margin:"10px auto"},children:C.jsx(Zp,{src:n,style:{objectFit:"cover"}})}),C.jsx("input",{type:"file",ref:t,style:{display:"none"},accept:"image/*",onChange:e}),C.jsx(We,{expand:"block",onClick:()=>{var r;return(r=t.current)==null?void 0:r.click()},children:"Upload Avatar"})]})})})},Cq=({username:n,firstName:e,lastName:t,setUsername:r,setFirstName:i,setLastName:o})=>C.jsxs(us,{children:[C.jsx(_o,{children:C.jsx(pi,{children:C.jsx(hn,{label:"Username",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter username",value:n,onIonChange:a=>r(a.detail.value)})})}),C.jsxs(_o,{children:[C.jsx(pi,{size:"6",children:C.jsx(hn,{label:"First Name",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter First Name",value:e,onIonChange:a=>i(a.detail.value)})}),C.jsx(pi,{size:"6",children:C.jsx(hn,{label:"Last Name",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter Last Name",value:t,onIonChange:a=>o(a.detail.value)})})]})]}),Eq=({password:n,confirmPassword:e,currentPassword:t,setPassword:r,setConfirmPassword:i,setCurrentPassword:o})=>C.jsxs(C.Fragment,{children:[C.jsx(us,{children:C.jsxs(_o,{children:[C.jsx(Ln,{color:"secondary",children:C.jsx("h3",{children:"Change Password"})}),C.jsx(pi,{size:"12",children:C.jsx(hn,{label:"New Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Enter New Password",value:n,onIonChange:a=>r(a.detail.value),children:C.jsx(Nl,{slot:"end"})})})]})}),C.jsx(us,{children:C.jsx(_o,{children:C.jsx(pi,{size:"12",children:C.jsx(hn,{label:"Confirm Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Confirm New Password",value:e,onIonChange:a=>i(a.detail.value),children:C.jsx(Nl,{slot:"end"})})})})}),C.jsx(us,{children:C.jsxs(_o,{children:[C.jsx(Ln,{color:"secondary",children:C.jsx("h3",{children:"Confirm Changes"})}),C.jsx(pi,{size:"12",children:C.jsx(hn,{label:"Current Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Enter Current Password to Save Changes",value:t,onIonChange:a=>o(a.detail.value),children:C.jsx(Nl,{slot:"end"})})})]})})]});function Sq(){var n=Y.useRef(!1),e=Y.useCallback(function(){return n.current},[]);return Y.useEffect(function(){return n.current=!0,function(){n.current=!1}},[]),e}var Tq=function(n){n===void 0&&(n={});var e=Y.useState(n),t=e[0],r=e[1],i=Y.useCallback(function(o){r(function(a){return Object.assign({},a,o instanceof Function?o(a):o)})},[]);return[t,i]},Aq=function(){var n=document.getSelection();if(!n.rangeCount)return function(){};for(var e=document.activeElement,t=[],r=0;r<n.rangeCount;r++)t.push(n.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return n.removeAllRanges(),function(){n.type==="Caret"&&n.removeAllRanges(),n.rangeCount||t.forEach(function(i){n.addRange(i)}),e&&e.focus()}},Iq=Aq,w_={"text/plain":"Text","text/html":"Url",default:"Text"},Rq="Copy to clipboard: #{key}, Enter";function Dq(n){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,e)}function Oq(n,e){var t,r,i,o,a,s,l=!1;e||(e={}),t=e.debug||!1;try{i=Iq(),o=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=n,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData>"u"){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=w_[e.format]||w_.default;window.clipboardData.setData(d,n)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,n);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(s),o.selectNodeContents(s),a.addRange(o);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){t&&console.error("unable to copy using execCommand: ",u),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",n),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(d){t&&console.error("unable to copy using clipboardData: ",d),t&&console.error("falling back to prompt"),r=Dq("message"in e?e.message:Rq),window.prompt(r,n)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(o):a.removeAllRanges()),s&&document.body.removeChild(s),i()}return l}var Mq=Oq;const Pq=Es(Mq);var Bq=function(){var n=Sq(),e=Tq({value:void 0,error:void 0,noUserInteraction:!0}),t=e[0],r=e[1],i=Y.useCallback(function(o){if(n()){var a,s;try{if(typeof o!="string"&&typeof o!="number"){var l=new Error("Cannot copy typeof "+typeof o+" to clipboard, must be a string");r({value:o,error:l,noUserInteraction:!0});return}else if(o===""){var l=new Error("Cannot copy empty string to clipboard.");r({value:o,error:l,noUserInteraction:!0});return}s=o.toString(),a=Pq(s),r({value:s,error:void 0,noUserInteraction:a})}catch(c){r({value:s,error:c,noUserInteraction:a})}}},[]);return[t,i]};const zq=({userId:n,initialEnabled:e=!1,onToggleChange:t,disabled:r})=>{const[i,o]=Y.useState(""),[a,s]=Y.useState(!1),[l,c]=Y.useState(""),[u,d]=Y.useState(!1),[h,f]=Y.useState(e),p=Y.useCallback(()=>{var k;const x="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",y=new Uint32Array(16);window.crypto.getRandomValues(y);let w="";return y.forEach(_=>{w+=x[_%x.length]}),((k=w.match(/.{4}/g))==null?void 0:k.join(" "))||""},[]),m=Y.useCallback(async()=>{var x;try{const{data:y,error:w}=await _e.from("totp_codes").select("code_hash").eq("user_id",n).is("used_at",null).limit(1);if(w)throw w;return{enabled:!!(y!=null&&y.length),secret:(x=y==null?void 0:y[0])==null?void 0:x.code_hash}}catch(y){return console.error("Error checking TOTP status:",y),{enabled:!1}}},[n]);Y.useEffect(()=>{(async()=>{var y;if(n){d(!0);try{const{enabled:w,secret:k}=await m();f(w),w&&k&&o(((y=k.match(/.{4}/g))==null?void 0:y.join(" "))||k)}finally{d(!1)}}})()},[n,m]);const b=Y.useCallback(async x=>{d(!0);try{if(x){const y=p(),{error:w}=await _e.from("totp_codes").delete().eq("user_id",n);if(w)throw w;const{error:k}=await _e.from("totp_codes").insert({user_id:n,code_hash:y.replace(/\s/g,""),created_at:new Date().toISOString()});if(k)throw k;return o(y),!0}else{const{error:y}=await _e.from("totp_codes").delete().eq("user_id",n);if(y)throw y;return o(""),!0}}catch(y){return console.error("Error updating TOTP:",y),c(y.message||"Failed to update TOTP"),s(!0),!1}finally{d(!1)}},[n,p]),g=async x=>{const y=x.detail.checked;if(u)return;await b(y)?(f(y),t==null||t(y)):f(!y)},v=async()=>{if(i)try{await navigator.clipboard.writeText(i.replace(/\s/g,"")),c("Copied to clipboard!"),s(!0)}catch(x){c("Copy failed"),s(!0)}};return C.jsxs("div",{className:"ion-padding",children:[C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[C.jsx(Cn,{children:C.jsx("strong",{children:"Authenticator App (TOTP)"})}),u?C.jsx(Cc,{name:"crescent"}):C.jsx(my,{checked:h,onIonChange:g,disabled:u||r})]}),h&&C.jsxs(C.Fragment,{children:[C.jsx(sr,{children:C.jsx(ar,{children:C.jsx(us,{children:C.jsxs(_o,{className:"ion-align-items-center",children:[C.jsx(pi,{children:C.jsxs(Ln,{children:[C.jsx("h3",{style:{margin:0},children:"Secret Key:"}),C.jsx("p",{style:{fontFamily:"monospace",fontSize:"1.1rem",letterSpacing:"1px",wordBreak:"break-all",margin:"8px 0"},children:i||"Loading..."})]})}),C.jsx(pi,{size:"auto",children:C.jsx(We,{fill:"clear",onClick:v,disabled:!i,children:C.jsx(Xe,{icon:l6})})})]})})})}),C.jsx("div",{style:{marginTop:"16px"},children:C.jsxs(Ln,{color:"medium",children:[C.jsx("p",{children:"How to setup:"}),C.jsxs("ol",{style:{paddingLeft:"20px",margin:"8px 0"},children:[C.jsx("li",{children:"Copy the secret key above"}),C.jsx("li",{children:"Open your authenticator app"}),C.jsx("li",{children:"Add new account and paste the key"}),C.jsx("li",{children:"Save and use the generated codes"})]})]})})]}),C.jsx(Ec,{isOpen:a,onDidDismiss:()=>s(!1),message:l,duration:2e3,position:"top"})]})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var g6=function(n,e){return(g6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])})(n,e)};function yi(n,e){function t(){this.constructor=n}g6(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Ee(n,e,t,r){return new(t||(t=Promise))(function(i,o){function a(c){try{l(r.next(c))}catch(u){o(u)}}function s(c){try{l(r.throw(c))}catch(u){o(u)}}function l(c){c.done?i(c.value):new t(function(u){u(c.value)}).then(a,s)}l((r=r.apply(n,[])).next())})}function Se(n,e){var t,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){a=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(u[0]===6&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(n,a)}catch(d){u=[6,d],r=0}finally{t=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}var Lq=function(){function n(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return n.prototype.setPlatform=function(e,t){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},n.prototype.registerFlag=function(e,t,r){if(this.flagRegistry[e]={evaluationFn:t,setHook:r},this.urlFlags[e]!=null){var i=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+i+"."),this.set(e,i)}},n.prototype.get=function(e){return e in this.flags?this.flags[e]:(this.flags[e]=this.evaluateFlag(e),this.flags[e])},n.prototype.getNumber=function(e){return this.get(e)},n.prototype.getBool=function(e){return this.get(e)},n.prototype.getFlags=function(){return this.flags},Object.defineProperty(n.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),n.prototype.set=function(e,t){if(this.flagRegistry[e]==null)throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(t)},n.prototype.evaluateFlag=function(e){if(this.flagRegistry[e]==null)throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},n.prototype.setFlags=function(e){this.flags=Object.assign({},e)},n.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},n.prototype.populateURLFlags=function(){var e=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var t,r,i=(t=this.global.location.search,r={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(o){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];return jq(r,a[0],a[1]),a.join("=")}),r);"tfjsflags"in i&&i.tfjsflags.split(",").forEach(function(o){var a=o.split(":"),s=a[0],l=a[1];e.urlFlags[s]=function(c,u){if((u=u.toLowerCase())==="true"||u==="false")return u==="true";if(""+ +u===u)return+u;throw new Error("Could not parse value flag value "+u+" for flag "+c+".")}(s,l)})}},n}();function jq(n,e,t){n[decodeURIComponent(e)]=decodeURIComponent(t||"")}function oe(){return b6}var b6=null,ep=new Map,hv=new Map;function v6(n,e){var t=y6(n,e);return ep.get(t)}function Nq(n){return hv.get(n)}function k_(n){for(var e=ep.entries(),t=[];;){var r=e.next(),i=r.done,o=r.value;if(i)break;var a=o[0],s=o[1];a.split("_")[0]===n&&t.push(s)}return t}function x6(n){var e=n.kernelName,t=n.backendName,r=y6(e,t);if(ep.has(r))throw new Error("The kernel '"+e+"' for backend '"+t+"' is already registered");ep.set(r,n)}function Fq(n){var e=n.kernelName;hv.has(e)&&console.warn("Overriding the gradient for '"+e+"'"),hv.set(e,n)}function y6(n,e){return e+"_"+n}function fv(n,e,t){return Math.max(n,Math.min(e,t))}function w6(n){return n%2==0?n:n+1}function $q(n){for(var e=0,t=0;t<n.length;t++)e+=n[t];return e}function W(n,e){if(!n)throw new Error(typeof e=="string"?e:e())}function ct(n,e,t){t===void 0&&(t=""),W(mn(n,e),function(){return t+" Shapes "+n+" and "+e+" must match"})}function Ic(n){W(n!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function lc(n,e,t){if(e===void 0&&(e=[]),t===void 0&&(t=!1),e==null&&(e=[]),Array.isArray(n)||ji(n)&&!t)for(var r=0;r<n.length;++r)lc(n[r],e,t);else e.push(n);return e}function Te(n){if(n.length===0)return 1;for(var e=n[0],t=1;t<n.length;t++)e*=n[t];return e}function mn(n,e){if(n===e)return!0;if(n==null||e==null||n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Ut(n){return n%1==0}function Uq(n){if(Math.tanh!=null)return Math.tanh(n);if(n===1/0)return 1;if(n===-1/0)return-1;var e=Math.exp(2*n);return(e-1)/(e+1)}function pv(n){var e=Math.ceil(Math.sqrt(n));return[e,Math.ceil(n/e)]}function $l(n,e){return e<=n.length?n:n+" ".repeat(e-n.length)}function __(n,e,t){return e===void 0&&(e=function(r){return 0}),new Promise(function(r,i){var o=0,a=function(){if(n())r();else{o++;var s=e(o);t!=null&&o>=t?i():setTimeout(a,s)}};a()})}function Hq(n,e){for(var t=1,r=-1,i=0;i<n.length;++i)if(n[i]>=0)t*=n[i];else if(n[i]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+i);r=i}else if(n[i]<0)throw Error("Shapes can not be < 0. Found "+n[i]+" at dim "+i);if(r===-1){if(e>0&&e!==t)throw Error("Size("+e+") must match the product of shape "+n);return n}if(t===0)throw Error("Cannot infer the missing size in ["+n+"] when there are 0 elements");if(e%t!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+t);var o=n.slice();return o[r]=e/t,o}function on(n,e){var t=e.length;return W((n=n==null?e.map(function(r,i){return i}):[].concat(n)).every(function(r){return r>=-t&&r<t}),function(){return"All values in axis param must be in range [-"+t+", "+t+") but got axis "+n}),W(n.every(function(r){return Ut(r)}),function(){return"All values in axis param must be integers but got axis "+n}),n.map(function(r){return r<0?t+r:r})}function qa(n,e){for(var t=[],r=[],i=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||i?null:on(e,n).sort(),a=0,s=0;s<n.length;++s){if(o!=null){if(o[a]===s&&n[s]!==1)throw new Error("Can't squeeze axis "+s+" since its dim '"+n[s]+"' is not 1");(o[a]==null||o[a]>s)&&n[s]===1&&(t.push(n[s]),r.push(s)),o[a]<=s&&a++}n[s]!==1&&(t.push(n[s]),r.push(s))}return{newShape:t,keptDims:r}}function Ju(n,e){var t=null;if(n==null||n==="float32")t=new Float32Array(e);else if(n==="int32")t=new Int32Array(e);else{if(n!=="bool")throw new Error("Unknown data type "+n);t=new Uint8Array(e)}return t}function tp(n,e){var t=null;if(n==null||n==="float32")t=new Float32Array(e);else if(n==="int32")t=new Int32Array(e);else if(n==="bool")t=new Uint8Array(e);else{if(n!=="string")throw new Error("Unknown data type "+n);t=new Array(e)}return t}function Wq(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+e+" being uploaded contains "+r+".")}}function Vq(n){return n==="bool"||n==="complex64"||n==="float32"||n==="int32"||n==="string"}function qq(n,e){return e!=="complex64"&&(e!=="float32"||n==="complex64")&&(e!=="int32"||n==="float32"||n==="complex64")&&(e!=="bool"||n!=="bool")}function ji(n){return n instanceof Float32Array||n instanceof Int32Array||n instanceof Uint8Array}function k6(n){if(n==="float32"||n==="int32")return 4;if(n==="complex64")return 8;if(n==="bool")return 1;throw new Error("Unknown dtype "+n)}function Gq(n){if(n==null)return 0;var e=0;return n.forEach(function(t){return e+=t.length}),e}function Gy(n){return typeof n=="string"||n instanceof String}function Kq(n){return typeof n=="boolean"}function Yq(n){return typeof n=="number"}function Dd(n){return Array.isArray(n)?Dd(n[0]):n instanceof Float32Array?"float32":n instanceof Int32Array||n instanceof Uint8Array?"int32":Yq(n)?"float32":Gy(n)?"string":Kq(n)?"bool":"float32"}function mv(n){return!!(n&&n.constructor&&n.call&&n.apply)}function gv(n,e){for(var t=e;t<n;++t)if(n%t==0)return t;return n}function Ni(n){var e=n.length;if(e<2)return[];var t=new Array(e-1);t[e-2]=n[e-1];for(var r=e-3;r>=0;--r)t[r]=t[r+1]*n[r+1];return t}function _6(n,e,t){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(n)&&(n=lc(n)),t&&Wq(n,e),function(o,a){return o instanceof Float32Array&&a==="float32"||o instanceof Int32Array&&a==="int32"||o instanceof Uint8Array&&a==="bool"}(n,e))return n;if(e==null||e==="float32"||e==="complex64")return new Float32Array(n);if(e==="int32")return new Int32Array(n);if(e==="bool"){for(var r=new Uint8Array(n.length),i=0;i<r.length;++i)Math.round(n[i])!==0&&(r[i]=1);return r}throw new Error("Unknown data type "+e)}function C_(n,e){if(n.length===0)return e[0];var t=n.reduce(function(r,i){return r*i});if(t===0)return[];if(t!==e.length)throw new Error("["+n+"] does not match the input size.");return function r(i,o,a){var s=new Array;if(o.length===1)for(var l=o[0],c=0;c<l;c++)s[c]=a[i+c];else{l=o[0];var u=o.slice(1),d=u.reduce(function(h,f){return h*f});for(c=0;c<l;c++)s[c]=r(i+c*d,u,a)}return s}(0,n,e)}function C6(n,e){for(var t=Od(n,e),r=0;r<t.length;r++)t[r]=1;return t}function Od(n,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(n);if(e==="int32")return new Int32Array(n);if(e==="bool")return new Uint8Array(n);throw new Error("Unknown data type "+e)}function Ai(){return oe().platform.now()}function E6(n){n.forEach(function(e){W(Number.isInteger(e)&&e>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+n+"]."})})}function Xq(n,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",oe().platform.encode(n,e)}function np(n,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",oe().platform.decode(n,e)}function E_(n,e,t){if(e===0)return 0;if(e===1)return n[0];for(var r=n[n.length-1],i=0;i<n.length-1;++i)r+=t[i]*n[i];return r}function Zq(n,e,t){if(e===0)return[];if(e===1)return[n];for(var r=new Array(e),i=0;i<r.length-1;++i)r[i]=Math.floor(n/t[i]),n-=r[i]*t[i];return r[r.length-1]=n,r}var Jq=function(){function n(e,t){this.backendTimer=e,this.logger=t,t==null&&(this.logger=new Qq)}return n.prototype.profileKernel=function(e,t,r){var i,o=this,a=this.backendTimer.time(function(){i=r()});return i.forEach(function(s){s.data().then(function(l){(function(c,u,d){if(u!=="float32")return!1;for(var h=0;h<c.length;h++){var f=c[h];if(isNaN(f)||!isFinite(f))return console.warn("Found "+f+" in the result of '"+d+"'"),!0}})(l,s.dtype,e),a.then(function(c){var u="";c.getExtraProfileInfo!=null&&(u=c.getExtraProfileInfo()),o.logger.logKernelProfile(e,s,l,c.kernelMs,t,u)})})}),i},n}(),Qq=function(){function n(){}return n.prototype.logKernelProfile=function(e,t,r,i,o,a){var s=typeof i=="number"?$l(i+"ms",9):i.error,l=$l(e,25),c=t.rank,u=t.size,d=$l(t.shape.toString(),14),h="";for(var f in o){var p=o[f].shape||t.shape,m=p.length;h+=f+": "+m+"D "+(m>0?p:"")+" "}console.log("%c"+l+"	%c"+s+"	%c"+c+"D "+d+"	%c"+u+"	%c"+h+"	%c"+a,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},n}(),S_=20,Vc=3,a0=7;function eG(n,e,t,r){var i=Ni(e),o=function(c,u,d,h){var f=Te(u),p=h[h.length-1],m=new Array(p).fill(0),b=u.length,g=d==="complex64"?Gc(c):c;if(b>1)for(var v=0;v<f/p;v++)for(var x=v*p,y=0;y<p;y++)m[y]=Math.max(m[y],qc(g[x+y],0,d).length);return m}(n,e,t,i),a=e.length,s=function c(u,d,h,f,p,m){m===void 0&&(m=!0);var b=h==="complex64"?2:1,g=d[0],v=d.length;if(v===0)return h==="complex64"?[qc(Gc(u)[0],0,h)]:h==="bool"?[S6(u[0])]:[u[0].toString()];if(v===1){if(g>S_){var x=Vc*b,y=Array.from(u.slice(0,x)),w=Array.from(u.slice((g-Vc)*b,g*b));return h==="complex64"&&(y=Gc(y),w=Gc(w)),["["+y.map(function(O,P){return qc(O,p[P],h)}).join(", ")+", ..., "+w.map(function(O,P){return qc(O,p[g-Vc+P],h)}).join(", ")+"]"]}return["["+(h==="complex64"?Gc(u):Array.from(u)).map(function(O,P){return qc(O,p[P],h)}).join(", ")+"]"]}var k=d.slice(1),_=f.slice(1),T=f[0]*b,E=[];if(g>S_){for(var A=0;A<Vc;A++){var M=(I=A*T)+T;E.push.apply(E,c(u.slice(I,M),k,h,_,p,!1))}for(E.push("..."),A=g-Vc;A<g;A++)M=(I=A*T)+T,E.push.apply(E,c(u.slice(I,M),k,h,_,p,A===g-1))}else for(A=0;A<g;A++){var I;M=(I=A*T)+T,E.push.apply(E,c(u.slice(I,M),k,h,_,p,A===g-1))}var L=v===2?",":"";for(E[0]="["+E[0]+L,A=1;A<E.length-1;A++)E[A]=" "+E[A]+L;var S=",\n";for(A=2;A<v;A++)S+="\n";return E[E.length-1]=" "+E[E.length-1]+"]"+(m?"":S),E}(n,e,t,i,o),l=["Tensor"];return r&&(l.push("  dtype: "+t),l.push("  rank: "+a),l.push("  shape: ["+e+"]"),l.push("  values:")),l.push(s.map(function(c){return"    "+c}).join("\n")),l.join("\n")}function qc(n,e,t){return $l(Array.isArray(n)?parseFloat(n[0].toFixed(a0))+" + "+parseFloat(n[1].toFixed(a0))+"j":Gy(n)?"'"+n+"'":t==="bool"?S6(n):parseFloat(n.toFixed(a0)).toString(),e)}function S6(n){return n===0?"false":"true"}function Gc(n){for(var e=[],t=0;t<n.length;t+=2)e.push([n[t],n[t+1]]);return e}var Qu=function(){function n(e,t,r){var i=this;if(this.dtype=t,this.shape=e.slice(),this.size=Te(e),r!=null){var o=r.length;W(o===this.size,function(){return"Length of values '"+o+"' does not match the size inferred by the shape '"+i.size+"'."})}if(t==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||tp(t,this.size),this.strides=Ni(e)}return n.prototype.set=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];r.length===0&&(r=[0]),W(r.length===this.rank,function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+t.rank+")"});var o=this.locToIndex(r);this.values[o]=e},n.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.length===0&&(e=[0]);for(var r=0,i=0,o=e;i<o.length;i++){var a=o[i];if(a<0||a>=this.shape[r]){var s="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(s)}r++}for(var l=e[e.length-1],c=0;c<e.length-1;++c)l+=this.strides[c]*e[c];return this.values[l]},n.prototype.locToIndex=function(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];for(var t=e[e.length-1],r=0;r<e.length-1;++r)t+=this.strides[r]*e[r];return t},n.prototype.indexToLoc=function(e){if(this.rank===0)return[];if(this.rank===1)return[e];for(var t=new Array(this.shape.length),r=0;r<t.length-1;++r)t[r]=Math.floor(e/this.strides[r]),e-=t[r]*this.strides[r];return t[t.length-1]=e,t},Object.defineProperty(n.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),n.prototype.toTensor=function(){return Di().makeTensor(this.values,this.shape,this.dtype)},n}(),Di=null,re=null,T6=null,At=function(){function n(e,t,r,i){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=Te(e),this.strides=Ni(e),this.dataId=r,this.id=i,this.rankType=this.rank<5?this.rank.toString():"higher"}return n.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},n.prototype.asScalar=function(){return this.throwIfDisposed(),W(this.size===1,function(){return"The array must have only 1 element."}),this.reshape([])},n.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},n.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},n.prototype.as3D=function(e,t,r){return this.throwIfDisposed(),this.reshape([e,t,r])},n.prototype.as4D=function(e,t,r,i){return this.throwIfDisposed(),this.reshape([e,t,r,i])},n.prototype.as5D=function(e,t,r,i,o){return this.throwIfDisposed(),this.reshape([e,t,r,i,o])},n.prototype.asType=function(e){return this.throwIfDisposed(),re.cast(this,e)},Object.defineProperty(n.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),n.prototype.buffer=function(){return Ee(this,void 0,void 0,function(){var e;return Se(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,re.buffer(this.shape,this.dtype,e)]}})})},n.prototype.bufferSync=function(){return re.buffer(this.shape,this.dtype,this.dataSync())},n.prototype.array=function(){return Ee(this,void 0,void 0,function(){var e;return Se(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,C_(this.shape,e)]}})})},n.prototype.arraySync=function(){return C_(this.shape,this.dataSync())},n.prototype.data=function(){return Ee(this,void 0,void 0,function(){var e,t;return Se(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),e=Di().read(this.dataId),this.dtype!=="string"?[3,2]:[4,e];case 1:t=r.sent();try{return[2,t.map(function(i){return np(i)})]}catch(i){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,e]}})})},n.prototype.dataSync=function(){this.throwIfDisposed();var e=Di().readSync(this.dataId);if(this.dtype==="string")try{return e.map(function(t){return np(t)})}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},n.prototype.bytes=function(){return Ee(this,void 0,void 0,function(){var e;return Se(this,function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,Di().read(this.dataId)];case 1:return e=t.sent(),this.dtype==="string"?[2,e]:[2,new Uint8Array(e.buffer)]}})})},n.prototype.dispose=function(){this.isDisposed||(Di().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(n.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),n.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},n.prototype.toFloat=function(){return this.asType("float32")},n.prototype.toInt=function(){return this.asType("int32")},n.prototype.toBool=function(){return this.asType("bool")},n.prototype.print=function(e){return e===void 0&&(e=!1),re.print(this,e)},n.prototype.reshape=function(e){return this.throwIfDisposed(),re.reshape(this,e)},n.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},n.prototype.expandDims=function(e){return e===void 0&&(e=0),re.expandDims(this,e)},n.prototype.cumsum=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=!1),r===void 0&&(r=!1),re.cumsum(this,e,t,r)},n.prototype.squeeze=function(e){return this.throwIfDisposed(),re.squeeze(this,e)},n.prototype.clone=function(){return this.throwIfDisposed(),re.clone(this)},n.prototype.oneHot=function(e,t,r){return this.throwIfDisposed(),re.oneHot(this,e,t,r)},n.prototype.toString=function(e){return e===void 0&&(e=!1),eG(this.dataSync(),this.shape,this.dtype,e)},n.prototype.tile=function(e){return this.throwIfDisposed(),re.tile(this,e)},n.prototype.gather=function(e,t){return t===void 0&&(t=0),this.throwIfDisposed(),re.gather(this,e,t)},n.prototype.matMul=function(e,t,r){return t===void 0&&(t=!1),r===void 0&&(r=!1),this.throwIfDisposed(),re.matMul(this,e,t,r)},n.prototype.dot=function(e){return this.throwIfDisposed(),re.dot(this,e)},n.prototype.norm=function(e,t,r){return e===void 0&&(e="euclidean"),t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),re.norm(this,e,t,r)},n.prototype.slice=function(e,t){return this.throwIfDisposed(),re.slice(this,e,t)},n.prototype.reverse=function(e){return this.throwIfDisposed(),re.reverse(this,e)},n.prototype.concat=function(e,t){return t===void 0&&(t=0),this.throwIfDisposed(),e instanceof n&&(e=[e]),re.concat([this].concat(e),t)},n.prototype.split=function(e,t){return t===void 0&&(t=0),this.throwIfDisposed(),re.split(this,e,t)},n.prototype.stack=function(e,t){return t===void 0&&(t=0),re.stack([this,e],t)},n.prototype.unstack=function(e){return e===void 0&&(e=0),re.unstack(this,e)},n.prototype.pad=function(e,t){return t===void 0&&(t=0),re.pad(this,e,t)},n.prototype.batchNormalization=function(e,t,r,i,o){return r===void 0&&(r=.001),T6("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,o,i,r)},n.prototype.batchNorm=function(e,t,r,i,o){return o===void 0&&(o=.001),this.throwIfDisposed(),re.batchNorm(this,e,t,r,i,o)},n.prototype.all=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.all(this,e,t)},n.prototype.any=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.any(this,e,t)},n.prototype.logSumExp=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.logSumExp(this,e,t)},n.prototype.sum=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.sum(this,e,t)},n.prototype.prod=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.prod(this,e,t)},n.prototype.mean=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.mean(this,e,t)},n.prototype.min=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.min(this,e,t)},n.prototype.max=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.max(this,e,t)},n.prototype.argMin=function(e){return e===void 0&&(e=null),this.throwIfDisposed(),re.argMin(this,e)},n.prototype.argMax=function(e){return e===void 0&&(e=null),this.throwIfDisposed(),re.argMax(this,e)},n.prototype.cast=function(e){return this.throwIfDisposed(),re.cast(this,e)},n.prototype.add=function(e){return this.throwIfDisposed(),re.add(this,e)},n.prototype.addStrict=function(e){return this.throwIfDisposed(),re.addStrict(this,e)},n.prototype.atan2=function(e){return this.throwIfDisposed(),re.atan2(this,e)},n.prototype.sub=function(e){return this.throwIfDisposed(),re.sub(this,e)},n.prototype.subStrict=function(e){return this.throwIfDisposed(),re.subStrict(this,e)},n.prototype.pow=function(e){return this.throwIfDisposed(),re.pow(this,e)},n.prototype.powStrict=function(e){return this.throwIfDisposed(),re.powStrict(this,e)},n.prototype.mul=function(e){return this.throwIfDisposed(),re.mul(this,e)},n.prototype.mulStrict=function(e){return this.throwIfDisposed(),re.mulStrict(this,e)},n.prototype.div=function(e){return this.throwIfDisposed(),re.div(this,e)},n.prototype.divNoNan=function(e){return this.throwIfDisposed(),re.divNoNan(this,e)},n.prototype.floorDiv=function(e){return this.throwIfDisposed(),re.floorDiv(this,e)},n.prototype.divStrict=function(e){return this.throwIfDisposed(),re.divStrict(this,e)},n.prototype.minimum=function(e){return this.throwIfDisposed(),re.minimum(this,e)},n.prototype.minimumStrict=function(e){return this.throwIfDisposed(),re.minimumStrict(this,e)},n.prototype.maximum=function(e){return this.throwIfDisposed(),re.maximum(this,e)},n.prototype.maximumStrict=function(e){return this.throwIfDisposed(),re.maximumStrict(this,e)},n.prototype.mod=function(e){return this.throwIfDisposed(),re.mod(this,e)},n.prototype.modStrict=function(e){return this.throwIfDisposed(),re.modStrict(this,e)},n.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),re.squaredDifferenceStrict(this,e)},n.prototype.transpose=function(e){return this.throwIfDisposed(),re.transpose(this,e)},n.prototype.notEqual=function(e){return this.throwIfDisposed(),re.notEqual(this,e)},n.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),re.notEqualStrict(this,e)},n.prototype.less=function(e){return this.throwIfDisposed(),re.less(this,e)},n.prototype.lessStrict=function(e){return this.throwIfDisposed(),re.lessStrict(this,e)},n.prototype.equal=function(e){return this.throwIfDisposed(),re.equal(this,e)},n.prototype.equalStrict=function(e){return this.throwIfDisposed(),re.equalStrict(this,e)},n.prototype.lessEqual=function(e){return this.throwIfDisposed(),re.lessEqual(this,e)},n.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),re.lessEqualStrict(this,e)},n.prototype.greater=function(e){return this.throwIfDisposed(),re.greater(this,e)},n.prototype.greaterStrict=function(e){return this.throwIfDisposed(),re.greaterStrict(this,e)},n.prototype.greaterEqual=function(e){return this.throwIfDisposed(),re.greaterEqual(this,e)},n.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),re.greaterEqualStrict(this,e)},n.prototype.logicalAnd=function(e){return this.throwIfDisposed(),re.logicalAnd(this,e)},n.prototype.logicalOr=function(e){return this.throwIfDisposed(),re.logicalOr(this,e)},n.prototype.logicalNot=function(){return this.throwIfDisposed(),re.logicalNot(this)},n.prototype.logicalXor=function(e){return this.throwIfDisposed(),re.logicalXor(this,e)},n.prototype.where=function(e,t){return this.throwIfDisposed(),re.where(e,this,t)},n.prototype.neg=function(){return this.throwIfDisposed(),re.neg(this)},n.prototype.ceil=function(){return this.throwIfDisposed(),re.ceil(this)},n.prototype.floor=function(){return this.throwIfDisposed(),re.floor(this)},n.prototype.sign=function(){return this.throwIfDisposed(),re.sign(this)},n.prototype.isNaN=function(){return this.throwIfDisposed(),re.isNaN(this)},n.prototype.isInf=function(){return this.throwIfDisposed(),re.isInf(this)},n.prototype.isFinite=function(){return this.throwIfDisposed(),re.isFinite(this)},n.prototype.exp=function(){return this.throwIfDisposed(),re.exp(this)},n.prototype.expm1=function(){return this.throwIfDisposed(),re.expm1(this)},n.prototype.log=function(){return this.throwIfDisposed(),re.log(this)},n.prototype.log1p=function(){return this.throwIfDisposed(),re.log1p(this)},n.prototype.sqrt=function(){return this.throwIfDisposed(),re.sqrt(this)},n.prototype.rsqrt=function(){return this.throwIfDisposed(),re.rsqrt(this)},n.prototype.square=function(){return this.throwIfDisposed(),re.square(this)},n.prototype.reciprocal=function(){return this.throwIfDisposed(),re.reciprocal(this)},n.prototype.abs=function(){return this.throwIfDisposed(),re.abs(this)},n.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),re.clipByValue(this,e,t)},n.prototype.relu=function(){return this.throwIfDisposed(),re.relu(this)},n.prototype.relu6=function(){return this.throwIfDisposed(),re.relu6(this)},n.prototype.elu=function(){return this.throwIfDisposed(),re.elu(this)},n.prototype.selu=function(){return this.throwIfDisposed(),re.selu(this)},n.prototype.leakyRelu=function(e){return e===void 0&&(e=.2),this.throwIfDisposed(),re.leakyRelu(this,e)},n.prototype.prelu=function(e){return this.throwIfDisposed(),re.prelu(this,e)},n.prototype.sigmoid=function(){return this.throwIfDisposed(),re.sigmoid(this)},n.prototype.logSigmoid=function(){return this.throwIfDisposed(),re.logSigmoid(this)},n.prototype.softplus=function(){return this.throwIfDisposed(),re.softplus(this)},n.prototype.zerosLike=function(){return this.throwIfDisposed(),re.zerosLike(this)},n.prototype.onesLike=function(){return this.throwIfDisposed(),re.onesLike(this)},n.prototype.sin=function(){return this.throwIfDisposed(),re.sin(this)},n.prototype.cos=function(){return this.throwIfDisposed(),re.cos(this)},n.prototype.tan=function(){return this.throwIfDisposed(),re.tan(this)},n.prototype.asin=function(){return this.throwIfDisposed(),re.asin(this)},n.prototype.acos=function(){return this.throwIfDisposed(),re.acos(this)},n.prototype.atan=function(){return this.throwIfDisposed(),re.atan(this)},n.prototype.sinh=function(){return this.throwIfDisposed(),re.sinh(this)},n.prototype.cosh=function(){return this.throwIfDisposed(),re.cosh(this)},n.prototype.tanh=function(){return this.throwIfDisposed(),re.tanh(this)},n.prototype.asinh=function(){return this.throwIfDisposed(),re.asinh(this)},n.prototype.acosh=function(){return this.throwIfDisposed(),re.acosh(this)},n.prototype.atanh=function(){return this.throwIfDisposed(),re.atanh(this)},n.prototype.erf=function(){return this.throwIfDisposed(),re.erf(this)},n.prototype.round=function(){return this.throwIfDisposed(),re.round(this)},n.prototype.step=function(e){return e===void 0&&(e=0),this.throwIfDisposed(),re.step(this,e)},n.prototype.softmax=function(e){return e===void 0&&(e=-1),this.throwIfDisposed(),re.softmax(this,e)},n.prototype.logSoftmax=function(e){return e===void 0&&(e=-1),this.throwIfDisposed(),re.logSoftmax(this,e)},n.prototype.resizeBilinear=function(e,t){return t===void 0&&(t=!1),this.throwIfDisposed(),re.image.resizeBilinear(this,e,t)},n.prototype.resizeNearestNeighbor=function(e,t){return t===void 0&&(t=!1),this.throwIfDisposed(),re.image.resizeNearestNeighbor(this,e,t)},n.prototype.conv1d=function(e,t,r,i,o,a){return i===void 0&&(i="NWC"),o===void 0&&(o=1),this.throwIfDisposed(),re.conv1d(this,e,t,r,i,o,a)},n.prototype.conv2d=function(e,t,r,i,o,a){return i===void 0&&(i="NHWC"),o===void 0&&(o=[1,1]),this.throwIfDisposed(),re.conv2d(this,e,t,r,i,o,a)},n.prototype.conv2dTranspose=function(e,t,r,i,o){return this.throwIfDisposed(),re.conv2dTranspose(this,e,t,r,i,o)},n.prototype.depthwiseConv2D=function(e,t,r,i,o,a){return i===void 0&&(i="NHWC"),o===void 0&&(o=[1,1]),this.throwIfDisposed(),re.depthwiseConv2d(this,e,t,r,i,o,a)},n.prototype.separableConv2d=function(e,t,r,i,o,a){return o===void 0&&(o=[1,1]),a===void 0&&(a="NHWC"),this.throwIfDisposed(),re.separableConv2d(this,e,t,r,i,o,a)},n.prototype.avgPool=function(e,t,r,i){return this.throwIfDisposed(),re.avgPool(this,e,t,r,i)},n.prototype.maxPool=function(e,t,r,i){return this.throwIfDisposed(),re.maxPool(this,e,t,r,i)},n.prototype.localResponseNormalization=function(e,t,r,i){return e===void 0&&(e=5),t===void 0&&(t=1),r===void 0&&(r=1),i===void 0&&(i=.5),re.localResponseNormalization(this,e,t,r,i)},n.prototype.pool=function(e,t,r,i,o){return this.throwIfDisposed(),re.pool(this,e,t,r,i,o)},n.prototype.variable=function(e,t,r){return e===void 0&&(e=!0),this.throwIfDisposed(),Di().makeVariable(this,e,t,r)},n.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),re.unsortedSegmentSum(this,e,t)},n.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),re.batchToSpaceND(this,e,t)},n.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),re.spaceToBatchND(this,e,t)},n.prototype.topk=function(e,t){return e===void 0&&(e=1),t===void 0&&(t=!0),this.throwIfDisposed(),re.topk(this,e,t)},n.prototype.stridedSlice=function(e,t,r,i,o,a,s,l){return i===void 0&&(i=0),o===void 0&&(o=0),a===void 0&&(a=0),s===void 0&&(s=0),l===void 0&&(l=0),this.throwIfDisposed(),re.stridedSlice(this,e,t,r,i,o,a,s,l)},n.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),re.depthToSpace(this,e,t)},n.prototype.fft=function(){return this.throwIfDisposed(),re.spectral.fft(this)},n.prototype.ifft=function(){return this.throwIfDisposed(),re.spectral.ifft(this)},n.prototype.rfft=function(){return this.throwIfDisposed(),re.spectral.rfft(this)},n.prototype.irfft=function(){return this.throwIfDisposed(),re.spectral.irfft(this)},n}();Object.defineProperty(At,Symbol.hasInstance,{value:function(n){return!!n&&n.dataId!=null&&n.shape!=null&&n.dtype!=null}});var T_,bv,vv,xv,yv,cc=function(n){function e(t,r,i,o){var a=n.call(this,t.shape,t.dtype,t.dataId,o)||this;return a.trainable=r,a.name=i,a}return yi(e,n),e.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and previous value ("+this.dtype+") must match");if(!mn(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and previous value ("+this.shape+") must match");Di().disposeTensor(this),this.dataId=t.dataId,Di().incRef(this,null)},e.prototype.dispose=function(){Di().disposeVariable(this),this.isDisposedInternal=!0},e}(At);Object.defineProperty(cc,Symbol.hasInstance,{value:function(n){return n instanceof At&&n.assign!=null&&n.assign instanceof Function}}),function(n){n.R0="R0",n.R1="R1",n.R2="R2",n.R3="R3",n.R4="R4",n.R5="R5",n.R6="R6"}(T_||(T_={})),function(n){n.float32="float32",n.int32="int32",n.bool="int32",n.complex64="complex64"}(bv||(bv={})),function(n){n.float32="float32",n.int32="int32",n.bool="bool",n.complex64="complex64"}(vv||(vv={})),function(n){n.float32="float32",n.int32="float32",n.bool="float32",n.complex64="complex64"}(xv||(xv={})),function(n){n.float32="complex64",n.int32="complex64",n.bool="complex64",n.complex64="complex64"}(yv||(yv={}));var tG={float32:xv,int32:bv,bool:vv,complex64:yv};function wn(n,e){if(n==="string"||e==="string"){if(n==="string"&&e==="string")return"string";throw new Error("Can not upcast "+n+" with "+e)}return tG[n][e]}function s0(n){return wn(n,"int32")}function Mt(n,e){if(n.dtype===e.dtype)return[n,e];var t=wn(n.dtype,e.dtype);return[n.cast(t),e.cast(t)]}function nG(n,e){W(n.dtype===e.dtype,function(){return"The dtypes of the first("+n.dtype+") and second("+e.dtype+") input must match"})}function A6(n){var e=[];return function t(r,i,o){if(r!=null){if(r instanceof At)return void i.push(r);if(a=r,!(!Array.isArray(a)&&typeof a!="object")){var a,s=r;for(var l in s){var c=s[l];o.has(c)||(o.add(c),t(c,i,o))}}}}(n,e,new Set),e}var l0,A_=function(){function n(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return n.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},n}(),rG=function(){function n(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new A_}return n.prototype.ready=function(){return Ee(this,void 0,void 0,function(){var e,t,r;return Se(this,function(i){switch(i.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];e=this.getSortedBackends(),t=0,i.label=1;case 1:return t<e.length?(r=e[t],[4,this.initializeBackend(r).success]):[3,5];case 2:return i.sent()?[4,this.setBackend(r)]:[3,4];case 3:return i.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(n.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),n.prototype.backendNames=function(){return Object.keys(this.registryFactory)},n.prototype.findBackend=function(e){return!(e in this.registry)&&(!(e in this.registryFactory)||this.initializeBackend(e).asyncInit)?null:this.registry[e]},n.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},n.prototype.registerBackend=function(e,t,r){return r===void 0&&(r=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:r},!0)},n.prototype.setBackend=function(e){return Ee(this,void 0,void 0,function(){var t,r,i;return Se(this,function(o){switch(o.label){case 0:if(this.registryFactory[e]==null)throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,this.registry[e]!=null?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),r=t.success,t.asyncInit?[4,r]:[3,2]);case 1:return i=o.sent(),[3,3];case 2:i=r,o.label=3;case 3:if(!i)return[2,!1];o.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Jq(this.backendInstance),[2,!0]}})})},n.prototype.setupRegisteredKernels=function(){var e=this;k_(this.backendName).forEach(function(t){t.setupFunc!=null&&t.setupFunc(e.backendInstance)})},n.prototype.disposeRegisteredKernels=function(e){var t=this;k_(e).forEach(function(r){r.disposeFunc!=null&&r.disposeFunc(t.registry[e])})},n.prototype.initializeBackend=function(e){var t=this,r=this.registryFactory[e];if(r==null)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var i=r.factory();if(Promise.resolve(i)===i){var o=++this.pendingBackendInitId,a=i.then(function(s){return!(o<t.pendingBackendInitId)&&(t.registry[e]=s,t.pendingBackendInit=null,!0)}).catch(function(s){return!(o<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(s.stack||s.message),!1)});return this.pendingBackendInit=a,{success:a,asyncInit:!0}}return this.registry[e]=i,{success:!0,asyncInit:!1}}catch(s){return console.warn("Initialization of backend "+e+" failed"),console.warn(s.stack||s.message),{success:!1,asyncInit:!1}}},n.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},n.prototype.getSortedBackends=function(){var e=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(t,r){return e.registryFactory[r].priority-e.registryFactory[t].priority})},n.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var r=e[t],i=this.initializeBackend(r),o=i.success,a=i.asyncInit;if(a||o)return{name:r,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")},n.prototype.moveData=function(e,t){var r=this.state.tensorInfo.get(t),i=r.backend,o=this.readSync(t);i.disposeData(t),r.backend=e,e.move(t,o,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},n.prototype.tidy=function(e,t){var r,i=this,o=null;if(t==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");t=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof t!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}return this.scopedRun(function(){return i.startScope(o)},function(){return i.endScope(r)},function(){return(r=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r})},n.prototype.scopedRun=function(e,t,r){e();try{var i=r();return t(),i}catch(o){throw t(),o}},n.prototype.nextTensorId=function(){return n.nextTensorId++},n.prototype.nextVariableId=function(){return n.nextVariableId++},n.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),r={x:e};return this.addTapeNode(this.state.activeScope.name,r,[t],function(i){return{x:function(){return i.toFloat()}}},[]),t},n.prototype.runKernel=function(e,t,r,i,o){return this.runKernelFunc(null,t,null,e,r,i,o)},n.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},n.prototype.checkKernelForMemLeak=function(e,t,r){var i=this.backend.numDataIds(),o=0;r.forEach(function(l){o+=l.dtype==="complex64"?3:1});var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=i-t-o-a;if(s>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+s+" data ids) after running '"+e+"'")},n.prototype.runKernelFunc=function(e,t,r,i,o,a,s){var l,c=this;a===void 0&&(a=[]),s===void 0&&(s=[]);var u=[],d=this.isTapeOn();i==null&&(i=this.state.activeScope!=null?this.state.activeScope.name:"");var h,f=function(v){d&&(u=v.map(function(x){return c.keep(c.clone(x))}))},p=this.state.numBytes,m=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var b,g=v6(i,this.backendName);return h=g!=null?function(){var v=c.backend.numDataIds();b=g.kernelFunc({inputs:t,attrs:o,backend:c.backend});var x=Array.isArray(b)?b:[b];c.shouldCheckForMemLeaks()&&c.checkKernelForMemLeak(i,v,x);var y=x.map(function(k){var _=k.dataId,T=k.shape,E=k.dtype;return c.makeTensorFromDataId(_,T,E)}),w=y.filter(function(k,_){return s[_]});return f((a||[]).slice().concat(w)),y}:function(){var v=c.backend.numDataIds();b=c.tidy(function(){return e(c.backend,f)});var x=Array.isArray(b)?b:[b];return c.shouldCheckForMemLeaks()&&c.checkKernelForMemLeak(i,v,x),x},this.scopedRun(function(){return c.state.kernelDepth++},function(){return c.state.kernelDepth--},function(){l=c.ENV.getBool("DEBUG")?c.profiler.profileKernel(i,t,function(){return h()}):h()}),d&&this.addTapeNode(i,t,l,r,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:i,bytesAdded:this.state.numBytes-p,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-m,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map(function(v){return t[v].shape}),outputShapes:l.map(function(v){return v.shape})}),Array.isArray(b)?l:l[0]},n.prototype.makeTensor=function(e,t,r,i){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",i=i||this.backend;var o=e;r==="string"&&Gy(e[0])&&(o=e.map(function(u){return Xq(u)}));var a=i.write(o,t,r),s=new At(t,r,a,this.nextTensorId());if(this.incRef(s,i),r==="string"){var l=this.state.tensorInfo.get(a),c=Gq(o);this.state.numBytes+=c-l.bytes,l.bytes=c}return s},n.prototype.makeTensorFromDataId=function(e,t,r,i){var o=new At(t,r=r||"float32",e,this.nextTensorId());return this.incRef(o,i),o},n.prototype.makeVariable=function(e,t,r,i){t===void 0&&(t=!0),r=r||this.nextVariableId().toString(),i!=null&&i!==e.dtype&&(e=e.asType(i));var o=new cc(e,t,r,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},n.prototype.incRef=function(e,t){var r=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++,r===0){this.state.numDataBuffers++;var i=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(i=e.size*k6(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:i,refCount:0}),this.state.numBytes+=i}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof cc||this.track(e)},n.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,e.dtype==="string"&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?(e.dtype!=="complex64"&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},n.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},n.prototype.disposeVariable=function(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]},n.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},n.prototype.profile=function(e){return Ee(this,void 0,void 0,function(){var t,r;return Se(this,function(i){return this.state.profiling=!0,t=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(o){return o.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]})})},n.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},n.prototype.addTapeNode=function(e,t,r,i,o){var a=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:r,saved:o},l=Nq(e);l!=null&&(i=l.gradFunc),i!=null&&(s.gradient=function(c){return c=c.map(function(u,d){if(u==null){var h=r[d],f=Od(h.size,h.dtype);return a.makeTensor(f,h.shape,h.dtype)}return u}),i(c.length>1?c:c[0],o)}),this.state.activeTape.push(s)},n.prototype.keep=function(e){return e.kept=!0,e},n.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},n.prototype.endTape=function(){this.state.gradientDepth--},n.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},n.prototype.endScope=function(e){for(var t=this,r=A6(e),i=new Set(r.map(function(l){return l.id})),o=0;o<this.state.activeScope.track.length;o++){var a=this.state.activeScope.track[o];a.kept||i.has(a.id)||a.dispose()}var s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(function(l){l.kept||l.scopeId!==s.id||t.track(l)})},n.prototype.gradients=function(e,t,r,i){var o=this;if(i===void 0&&(i=!1),W(t.length>0,function(){return"gradients() received an empty list of xs."}),r!=null&&r.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var a=this.scopedRun(function(){return o.startTape()},function(){return o.endTape()},function(){return o.tidy("forward",e)});W(a instanceof At,function(){return"The result y returned by f() must be a tensor."});var s=function(l,c,u){for(var d={},h={},f=0;f<c.length;f++)d[c[f].id]=!0;for(f=0;f<l.length;f++){var p=(k=l[f]).inputs;for(var m in p){for(var b=p[m],g=!1,v=0;v<c.length;v++)if(d[b.id]){k.outputs.forEach(function(A){return d[A.id]=!0}),g=!0,h[k.id]=!0;break}if(g)break}}var x={};x[u.id]=!0;var y={};for(f=l.length-1;f>=0;f--)for(p=(k=l[f]).inputs,v=0;v<k.outputs.length;v++)if(x[k.outputs[v].id]){for(var m in p)x[p[m].id]=!0,y[k.id]=!0;break}var w=[];for(f=0;f<l.length;f++){var k;if(h[(k=l[f]).id]&&y[k.id]){var _={};for(var m in k.inputs){var T=k.inputs[m];d[T.id]&&(_[m]=T)}var E=Object.assign({},k);E.inputs=_,E.outputs=k.outputs,w.push(E)}}return w}(this.state.activeTape,t,a);if(!i&&s.length===0&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var l,c,u={};u[a.id]=r==null?(l=a.shape,c=C6(Te(l),"float32"),G.makeTensor(c,l,"float32")):r,function(h,f,p){for(var m=function(g){var v=f[g],x=[];if(v.outputs.forEach(function(_){var T=h[_.id];T!=null?x.push(T):x.push(null)}),v.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+v.kernelName+".");var y=v.gradient(x),w=function(_){if(!(_ in y))throw new Error("Cannot backprop through input "+_+". Available gradients found: "+Object.keys(y)+".");var T=p(function(){return y[_]()});if(T.dtype!=="float32")throw new Error("Error in gradient for op "+v.kernelName+". The gradient of input "+_+" must have 'float32' dtype, but has '"+T.dtype+"'");var E=v.inputs[_];if(!mn(T.shape,E.shape))throw new Error("Error in gradient for op "+v.kernelName+". The gradient of input '"+_+"' has shape '"+T.shape+"', which does not match the shape of the input '"+E.shape+"'");if(h[E.id]==null)h[E.id]=T;else{var A=h[E.id];h[E.id]=A.add(T),A.dispose()}};for(var k in v.inputs)w(k)},b=f.length-1;b>=0;b--)m(b)}(u,s,function(h){return o.tidy(h)});var d=t.map(function(h){return u[h.id]});return o.state.gradientDepth===0&&(o.state.activeTape.forEach(function(h){for(var f=0,p=h.saved;f<p.length;f++)p[f].dispose()}),o.state.activeTape=null),{value:a,grads:d}})},n.prototype.customGrad=function(e){var t=this;return W(mv(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];W(i.every(function(s){return s instanceof At}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var a={};return i.forEach(function(s,l){a[l]=s}),t.runKernelFunc(function(s,l){return W((r=e.apply(void 0,i.concat([l]))).value instanceof At,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),W(mv(r.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),r.value},a,function(s,l){var c=r.gradFunc(s,l),u=Array.isArray(c)?c:[c];W(u.length===i.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),W(u.every(function(h){return h instanceof At}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var d={};return u.forEach(function(h,f){d[f]=function(){return h}}),d})}},n.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},n.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},n.prototype.time=function(e){return Ee(this,void 0,void 0,function(){var t,r;return Se(this,function(i){switch(i.label){case 0:return t=Ai(),[4,this.backend.time(e)];case 1:return(r=i.sent()).wallMs=Ai()-t,[2,r]}})})},n.prototype.track=function(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(n.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),n.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new A_,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},n.nextTensorId=0,n.nextVariableId=0,n}(),G=function(){var n=function(){if(l0==null){var t=void 0;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else{if(typeof self>"u")throw new Error("Could not find a global object");t=self}l0=t}return l0}();if(n._tfengine==null){var e=new Lq(n);n._tfengine=new rG(e)}return function(t){b6=t}(n._tfengine.ENV),Di=function(){return n._tfengine},n._tfengine}();function I6(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var ro=oe();ro.registerFlag("DEBUG",function(){return!1},function(n){n&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),ro.registerFlag("IS_BROWSER",function(){return I6()}),ro.registerFlag("IS_NODE",function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0}),ro.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),ro.registerFlag("PROD",function(){return!1}),ro.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return ro.getBool("DEBUG")}),ro.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),ro.registerFlag("IS_TEST",function(){return!1});var ed,yr,vr,$a={},c0={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function iG(n,e){$a[n]=e}function Gi(n){n in $a||($a[n]=function(t){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=function(i){if(typeof OffscreenCanvas<"u"&&i===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(t);return r.addEventListener("webglcontextlost",function(i){i.preventDefault(),delete $a[t]},!1),t===1?r.getContext("webgl",c0)||r.getContext("experimental-webgl",c0):r.getContext("webgl2",c0)}(n));var e=$a[n];return e.isContextLost()?(delete $a[n],Gi(n)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),$a[n])}function Am(n,e){return[e,n]}function ku(n){var e=Te(n);return pv(Math.ceil(e/4))}function Md(n,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(n/2))]}function Ky(n,e){var t,r,i,o,a,s,l,c,u,d=n;return oe().getNumber("WEBGL_VERSION")===2?(t=d.R32F,r=d.R16F,i=d.RGBA16F,o=d.RGBA32F,a=d.RED,s=4,l=1,c=d.HALF_FLOAT,u=d.FLOAT):(t=n.RGBA,r=n.RGBA,i=n.RGBA,o=d.RGBA,a=n.RGBA,s=4,l=4,c=e!=null?e.HALF_FLOAT_OES:null,u=n.FLOAT),{internalFormatFloat:t,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:o,textureFormatFloat:a,downloadTextureFormat:n.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:l,textureTypeHalfFloat:c,textureTypeFloat:u}}function Ie(n,e,t){var r=t();return e&&function(i){var o=i.getError();if(o!==i.NO_ERROR)throw new Error("WebGL Error: "+lG(i,o))}(n),r}(function(n){n[n.DENSE=0]="DENSE",n[n.SHARED_BATCH=1]="SHARED_BATCH"})(ed||(ed={})),function(n){n[n.RENDER=0]="RENDER",n[n.UPLOAD=1]="UPLOAD",n[n.PIXELS=2]="PIXELS",n[n.DOWNLOAD=3]="DOWNLOAD"}(yr||(yr={})),function(n){n[n.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",n[n.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",n[n.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",n[n.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",n[n.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(vr||(vr={}));var oG=596e-10,aG=65504;function sG(n){return!!(oe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||n===0||oG<Math.abs(n)&&Math.abs(n)<aG)}function lG(n,e){switch(e){case n.NO_ERROR:return"NO_ERROR";case n.INVALID_ENUM:return"INVALID_ENUM";case n.INVALID_VALUE:return"INVALID_VALUE";case n.INVALID_OPERATION:return"INVALID_OPERATION";case n.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case n.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case n.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function wh(n,e,t){return Io(n,e,function(){return n.getExtension(t)},'Extension "'+t+'" not supported on this browser.')}function cG(n,e,t){var r=Io(n,e,function(){return n.createShader(n.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Ie(n,e,function(){return n.shaderSource(r,t)}),Ie(n,e,function(){return n.compileShader(r)}),n.getShaderParameter(r,n.COMPILE_STATUS)===!1)throw console.log(n.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function uG(n,e,t){var r=Io(n,e,function(){return n.createShader(n.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Ie(n,e,function(){return n.shaderSource(r,t)}),Ie(n,e,function(){return n.compileShader(r)}),n.getShaderParameter(r,n.COMPILE_STATUS)===!1)throw function(i,o){var a=dG.exec(o);if(a==null)return console.log("Couldn't parse line number in error: "+o),void console.log(i);for(var s=+a[1],l=i.split("\n"),c=l.length.toString().length+2,u=l.map(function(b,g){return $l((g+1).toString(),c)+b}),d=0,h=0;h<u.length;h++)d=Math.max(u[h].length,d);var f=u.slice(0,s-1),p=u.slice(s-1,s),m=u.slice(s);console.log(f.join("\n")),console.log(o.split("\n")[0]),console.log("%c "+$l(p[0],d),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(m.join("\n"))}(t,n.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var u0,d0,dG=/ERROR: [0-9]+:([0-9]+):/g;function hG(n,e){return Io(n,e,function(){return n.createProgram()},"Unable to create WebGLProgram.")}function fG(n,e,t){if(Ie(n,e,function(){return n.linkProgram(t)}),n.getProgramParameter(t,n.LINK_STATUS)===!1)throw console.log(n.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function h0(n,e,t){if(Ie(n,e,function(){return n.validateProgram(t)}),n.getProgramParameter(t,n.VALIDATE_STATUS)===!1)throw console.log(n.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function pG(n,e,t){var r=Io(n,e,function(){return n.createBuffer()},"Unable to create WebGLBuffer");return Ie(n,e,function(){return n.bindBuffer(n.ARRAY_BUFFER,r)}),Ie(n,e,function(){return n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW)}),r}function mG(n,e,t){var r=Io(n,e,function(){return n.createBuffer()},"Unable to create WebGLBuffer");return Ie(n,e,function(){return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r)}),Ie(n,e,function(){return n.bufferData(n.ELEMENT_ARRAY_BUFFER,t,n.STATIC_DRAW)}),r}function gG(n,e){return Io(n,e,function(){return n.createTexture()},"Unable to create WebGLTexture.")}function bG(n,e){var t=oe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n<=0||e<=0){var r="["+n+"x"+e+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(n>t||e>t)throw r="["+n+"x"+e+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+("["+t+"x"+t+"]")+".")}function vG(n,e){return Io(n,e,function(){return n.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function I_(n,e,t,r,i,o,a,s){var l=n.getAttribLocation(t,r);return l!==-1&&(Ie(n,e,function(){return n.bindBuffer(n.ARRAY_BUFFER,i)}),Ie(n,e,function(){return n.vertexAttribPointer(l,o,n.FLOAT,!1,a,s)}),Ie(n,e,function(){return n.enableVertexAttribArray(l)}),!0)}function xG(n,e,t,r){CG(n,r),Ie(n,e,function(){return n.activeTexture(n.TEXTURE0+r)}),Ie(n,e,function(){return n.bindTexture(n.TEXTURE_2D,t)})}function yG(n,e,t,r){return Io(n,e,function(){return n.getUniformLocation(t,r)},'uniform "'+r+'" not present in program.')}function wG(n,e,t){return n.getUniformLocation(e,t)}function kG(n,e,t,r,i,o){Ie(n,e,function(){return xG(n,e,r,o)}),Ie(n,e,function(){return n.uniform1i(i,o)})}function f0(n,e,t,r){Ie(n,e,function(){return n.bindFramebuffer(n.FRAMEBUFFER,r)}),Ie(n,e,function(){return n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0)})}function R_(n,e,t){Ie(n,e,function(){return n.bindFramebuffer(n.FRAMEBUFFER,t)}),Ie(n,e,function(){return n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,null,0)})}function kh(n){var e=n.checkFramebufferStatus(n.FRAMEBUFFER);if(e!==n.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+_G(n,e))}function _G(n,e){switch(e){case n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case n.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function Io(n,e,t,r){var i=Ie(n,e,function(){return t()});if(i==null)throw new Error(r);return i}function CG(n,e){var t=n.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+n.TEXTURE0;if(r<n.TEXTURE0||r>t)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+t+"]")+".")}function rp(n,e){return e===void 0&&(e=2),Te(n.slice(0,n.length-e))}function ip(n){if(n.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[n.length>1?n[n.length-2]:1,n[n.length-1]]}function p0(n){var e=[1,1,1];return n.length===0||n.length===1&&n[0]===1||(e=[rp(n)].concat(ip(n))),e}function EG(n,e){var t;e===void 0&&(e=!1);var r=oe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e&&(r*=2,(n=n.map(function(c,u){return u>=n.length-2?w6(n[u]):n[u]})).length===1&&(n=[2,n[0]])),n.length!==2){var i=qa(n);n=i.newShape}var o=Te(n);if(n.length<=1&&o<=r)return[1,o];if(n.length===2&&n[0]<=r&&n[1]<=r)return n;if(n.length===3&&n[0]*n[1]<=r&&n[2]<=r)return[n[0]*n[1],n[2]];if(n.length===3&&n[0]<=r&&n[1]*n[2]<=r)return[n[0],n[1]*n[2]];if(n.length===4&&n[0]*n[1]*n[2]<=r&&n[3]<=r)return[n[0]*n[1]*n[2],n[3]];if(n.length===4&&n[0]<=r&&n[1]*n[2]*n[3]<=r)return[n[0],n[1]*n[2]*n[3]];if(e){var a=rp(n),s=2,l=2;return n.length&&(s=(t=ip(n))[0],l=t[1]),pv(o=a*(s/2)*(l/2)).map(function(c){return 2*c})}return pv(o)}function _h(n){return n%2==0}function Ch(n,e){if(mn(n=n.slice(-2),e=e.slice(-2))||!n.length||!e.length||n[0]===0||n[1]===0||e[0]===0||e[1]===0)return!0;if(n.length!==e.length){var t=n.slice(-1)[0],r=e.slice(-1)[0];if(t===r||_h(t)&&_h(r)&&(n[0]===1||e[0]===1))return!0}return n[1]===e[1]&&_h(n[0])&&_h(e[0])}function SG(n){if(u0==null){var e=Gi(n);u0=e.getParameter(e.MAX_TEXTURE_SIZE)}return u0}function TG(n){if(d0==null){var e=Gi(n);d0=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,d0)}function AG(n){if(n===0)return 0;var e=Gi(n);return Gr(e,"EXT_disjoint_timer_query_webgl2")&&n===2?2:Gr(e,"EXT_disjoint_timer_query")?1:0}function Gr(n,e){return n.getExtension(e)!=null}function D_(n){try{if(Gi(n)!=null)return!0}catch(e){return!1}return!1}function IG(n){if(n===0)return!1;var e=Gi(n);if(n===1){if(!Gr(e,"OES_texture_float"))return!1}else if(!Gr(e,"EXT_color_buffer_float"))return!1;return wv(e)}function RG(n){if(n===0)return!1;var e=Gi(n);if(n!==1){if(Gr(e,"EXT_color_buffer_float"))return wv(e);if(Gr(e,"EXT_color_buffer_half_float")){var t=e.getExtension("EXT_color_buffer_half_float");return function(r,i){var o=Ky(r,i),a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),r.texImage2D(r.TEXTURE_2D,0,o.internalFormatHalfFloat,1,1,0,o.textureFormatFloat,o.textureTypeHalfFloat,null);var s=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,s),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,a,0);var l=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(a),r.deleteFramebuffer(s),l}(e,t)}return!1}return!!Gr(e,"OES_texture_float")&&!!Gr(e,"WEBGL_color_buffer_float")&&wv(e)}function wv(n){var e=Ky(n),t=n.createTexture();n.bindTexture(n.TEXTURE_2D,t),n.texImage2D(n.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);var r=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,r),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0);var i=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(t),n.deleteFramebuffer(r),i}function DG(n){return n===2&&Gi(n).fenceSync!=null}var je=oe();function R6(n){oe().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(n+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function ke(n,e){return G.tidy(n,e)}function rr(n){A6(n).forEach(function(e){return e.dispose()})}function OG(n){return G.keep(n)}function op(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];oe().getBool("IS_TEST")||console.warn.apply(console,n)}function Aa(n,e){var t=n;if(ji(n))return e==="string"?[]:[n.length];if(!Array.isArray(n))return[];for(var r=[];Array.isArray(t)||ji(t)&&e!=="string";)r.push(t.length),t=t[0];return Array.isArray(n)&&oe().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function i(o,a,s){if(s=s||[],!Array.isArray(o)&&!ji(o))return void W(a.length===0,function(){return"Element arr["+s.join("][")+"] is a primitive, but should be an array/TypedArray of "+a[0]+" elements"});W(a.length>0,function(){return"Element arr["+s.join("][")+"] should be a primitive, but is an array of "+o.length+" elements"}),W(o.length===a[0],function(){return"Element arr["+s.join("][")+"] should have "+a[0]+" elements, but has "+o.length+" elements"});for(var l=a.slice(1),c=0;c<o.length;++c)i(o[c],l,s.concat(c))}(n,r,[]),r}function O_(n,e,t,r){if(n!=null&&(n!=="numeric"&&n!==e||n==="numeric"&&e==="string"))throw new Error("Argument '"+t+"' passed to '"+r+"' must be "+n+" tensor, but got "+e+" tensor")}function j(n,e,t,r){if(r===void 0&&(r="numeric"),n instanceof At)return O_(r,n.dtype,e,t),n;var i=Dd(n);if(i!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),O_(r,i,e,t),n==null||!ji(n)&&!Array.isArray(n)&&typeof n!="number"&&typeof n!="boolean"&&typeof n!="string"){var o=n==null?"null":n.constructor.name;throw new Error("Argument '"+e+"' passed to '"+t+"' must be a Tensor or TensorLike, but got '"+o+"'")}var a=Aa(n,i);ji(n)||Array.isArray(n)||(n=[n]);var s=i!=="string"?_6(n,i,oe().getBool("DEBUG")):lc(n,[],!0);return G.makeTensor(s,a,i)}function ap(n,e,t,r){if(r===void 0&&(r="numeric"),!Array.isArray(n))throw new Error("Argument "+e+" passed to "+t+" must be a `Tensor[]` or `TensorLike[]`");return n.map(function(i,o){return j(i,e+"["+o+"]",t)},r)}function D6(n,e){for(var t=0;t<n.length;++t)if(n[n.length-t-1]!==e-1-t)return!1;return!0}function MG(n,e,t){for(var r=n.length+e.length,i=[],o=0,a=0,s=0;s<r;s++)t.indexOf(s)===-1?i.push(n[o++]):i.push(e[a++]);return i}function Rn(n,e){for(var t=[],r=n.length,i=0;i<r;i++)e.indexOf(i)===-1&&t.push(n[i]);return[t,e.map(function(o){return n[o]})]}function cr(n,e){return MG(n,e.map(function(t){return 1}),e)}function br(n,e,t){W(D6(e,t),function(){return n+" supports only inner-most axes for now. Got axes "+e+" and rank-"+t+" input."})}function Ki(n,e){if(D6(n,e))return null;for(var t=[],r=0;r<e;++r)n.indexOf(r)===-1&&t.push(r);return n.forEach(function(i){return t.push(i)}),t}function Yy(n){return n.map(function(e,t){return[t,e]}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}function Yi(n,e){for(var t=[],r=e-n;r<e;++r)t.push(r);return t}function PG(n,e){var t=n[0].length;n.forEach(function(i,o){W(i.length===t,function(){return"Error in concat"+t+"D: rank of tensors["+o+"] must be the same as the rank of the rest ("+t+")"})}),W(e>=0&&e<t,function(){return"Error in concat"+t+"D: axis must be between 0 and "+(t-1)+"."});var r=n[0];n.forEach(function(i,o){for(var a=0;a<t;a++)W(a===e||i[a]===r[a],function(){return"Error in concat"+t+"D: Shape of tensors["+o+"] ("+i+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+o+"."})})}function uc(n,e){for(var t=n[0].slice(),r=1;r<n.length;r++)t[e]+=n[r][e];return t}function q(n){var e=Object.keys(n);if(e.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+e.length+" keys.");var t=e[0],r=n[t];t.endsWith("_")&&(t=t.substring(0,t.length-1));var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];G.startScope(t);try{var s=r.apply(void 0,o);return s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),G.endScope(s),s}catch(l){throw G.endScope(null),l}};return Object.defineProperty(i,"name",{value:t,configurable:!0}),i}je.registerFlag("HAS_WEBGL",function(){return je.getNumber("WEBGL_VERSION")>0}),je.registerFlag("WEBGL_VERSION",function(){return D_(2)?2:D_(1)?1:0}),je.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return je.get("WEBGL_VERSION")===2}),je.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),je.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),je.registerFlag("WEBGL_PACK",function(){return je.getBool("HAS_WEBGL")}),je.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return je.getBool("WEBGL_PACK")}),je.registerFlag("WEBGL_PACK_CLIP",function(){return je.getBool("WEBGL_PACK")}),je.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),je.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return je.getBool("WEBGL_PACK")}),je.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return je.getBool("WEBGL_PACK")}),je.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return je.getBool("WEBGL_PACK")}),je.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return je.getBool("WEBGL_PACK")}),je.registerFlag("WEBGL_PACK_REDUCE",function(){return je.getBool("WEBGL_PACK")}),je.registerFlag("WEBGL_LAZILY_UNPACK",function(){return je.getBool("WEBGL_PACK")}),je.registerFlag("WEBGL_CONV_IM2COL",function(){return je.getBool("WEBGL_PACK")}),je.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return SG(je.getNumber("WEBGL_VERSION"))}),je.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return TG(je.getNumber("WEBGL_VERSION"))}),je.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var n=je.getNumber("WEBGL_VERSION");return n===0?0:AG(n)}),je.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return je.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(n=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4))));var n}),je.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return IG(je.getNumber("WEBGL_VERSION"))}),je.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!je.getBool("WEBGL_FORCE_F16_TEXTURES")&&je.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),je.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return RG(je.getNumber("WEBGL_VERSION"))}),je.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return DG(je.getNumber("WEBGL_VERSION"))}),je.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return je.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),T6=R6;var yn=q({complex_:function(n,e){var t=j(n,"real","complex"),r=j(e,"imag","complex");return ct(t.shape,r.shape,"real and imag shapes, "+t.shape+" and "+r.shape+", must match in call to tf.complex()."),G.runKernelFunc(function(i){return i.complex(t,r)},{$real:t,$imag:r})}}),Hr=q({real_:function(n){var e=j(n,"input","real");return G.runKernelFunc(function(t){return t.real(e)},{$input:e})}}),Oi=q({imag_:function(n){var e=j(n,"input","imag");return G.runKernelFunc(function(t){return t.imag(e)},{$input:e})}});function kn(n,e,t){return Ia(n,e,Aa(n,t),t)}function Ia(n,e,t,r){if(r==null&&(r=Dd(n)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!ji(n)&&!Array.isArray(n)&&typeof n!="number"&&typeof n!="boolean"&&typeof n!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){E6(e);var i=Te(e),o=Te(t);W(i===o,function(){return"Based on the provided shape, ["+e+"], the tensor should have "+i+" values but has "+o});for(var a=0;a<t.length;++a){var s=t[a],l=a!==t.length-1||s!==Te(e.slice(a));W(t[a]===e[a]||!l,function(){return"Error creating a new Tensor. Inferred shape ("+t+") does not match the provided shape ("+e+"). "})}}return ji(n)||Array.isArray(n)||(n=[n]),e=e||t,n=r!=="string"?_6(n,r,oe().getBool("DEBUG")):lc(n,[],!0),G.makeTensor(n,e,r)}function ve(n,e){if((ji(n)&&e!=="string"||Array.isArray(n))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&ji(n)&&!(n instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Ia(n,[],[],e)}function Vt(n,e){Ic(n);var t=Aa(n,e);if(t.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Ia(n,null,t,e)}function fa(n,e,t){if(Ic(n),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var r=Aa(n,t);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Ia(n,e,r,t)}function Xy(n,e,t){if(Ic(n),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var r=Aa(n,t);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Ia(n,e,r,t)}function er(n,e,t){if(Ic(n),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var r=Aa(n,t);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Ia(n,e,r,t)}function BG(n,e,t){if(Ic(n),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var r=Aa(n,t);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Ia(n,e,r,t)}function zG(n,e,t){if(Ic(n),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var r=Aa(n,t);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Ia(n,e=e||r,r,t)}function LG(n,e,t,r){return e===void 0&&(e=!0),G.makeVariable(n,e,t,r)}function Rc(n,e){if(e===void 0&&(e="float32"),e==="complex64"){var t=Rc(n,"float32"),r=_t(n,"float32");return yn(t,r)}var i=C6(Te(n),e);return G.makeTensor(i,n,e)}function _t(n,e){if(e===void 0&&(e="float32"),e==="complex64"){var t=_t(n,"float32"),r=_t(n,"float32");return yn(t,r)}var i=Od(Te(n),e);return G.makeTensor(i,n,e)}function Fi(n,e,t){return G.runKernelFunc(function(r){return r.fill(n,e,t)},{})}function jG(n,e,t){if(t<=0)throw new Error("The number of values should be positive.");return G.runKernelFunc(function(r){return r.linspace(n,e,t)},{})}function sp(n,e,t,r){if(t===void 0&&(t=1),r===void 0&&(r="float32"),t===0)throw new Error("Cannot have a step of zero");if(n===e||n<e&&t<0||e<n&&t>1)return _t([0],r);var i=Od(Math.abs(Math.ceil((e-n)/t)),r);e<n&&t===1&&(t=-1),i[0]=n;for(var o=1;o<i.length;o++)i[o]=i[o-1]+t;return Vt(i,r)}var O6=q({onesLike_:function(n){var e=j(n,"x","onesLike");if(e.dtype==="complex64"){var t=O6(Hr(e)),r=at(Oi(e));return yn(t,r)}return G.runKernelFunc(function(i){return i.onesLike(e)},{$x:e},function(i,o){return{$x:function(){return at(i)}}})}}),at=q({zerosLike_:function(n){var e=j(n,"x","zerosLike");return G.runKernelFunc(function(t){return t.zerosLike(e)},{$x:e},function(t,r){return{$x:function(){return at(t)}}})}}),Jt=q({concat_:function(n,e){e===void 0&&(e=0),W(n.length>=1,function(){return"Pass at least one tensor to concat"});var t=ap(n,"tensors","concat");t[0].dtype==="complex64"&&t.forEach(function(s){if(s.dtype!=="complex64")throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+s.dtype+". ")}),e=on(e,t[0].shape)[0];var r=uc(t.map(function(s){return s.shape}),e);if(Te(r)===0)return kn([],r);if((t=t.filter(function(s){return s.size>0})).length===1)return t[0];var i=t.map(function(s){return s.shape});PG(i,e);var o=t,a={axis:e};return G.runKernelFunc(function(s){return s.concat(t,e)},o,function(s){var l=i.map(function(c){return c[e]});return Zy(s,l,e).map(function(c){return function(){return c}})},"Concat",a)}}),NG=q({concat1d_:function(n){return Jt(n,0)}}),FG=q({concat2d_:function(n,e){return Jt(n,e)}}),$G=q({concat3d_:function(n,e){return Jt(n,e)}}),UG=q({concat4d_:function(n,e){return Jt(n,e)}}),Zy=q({split_:function(n,e,t){t===void 0&&(t=0);var r,i=j(n,"x","split");return t=on(t,i.shape)[0],typeof e=="number"?(W(i.shape[t]%e==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(e).fill(i.shape[t]/e)):(W(i.shape[t]===e.reduce(function(o,a){return o+a}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=e),G.runKernelFunc(function(o){return o.split(i,r,t)},{$x:i},function(o){return{$x:function(){return Jt(o,t)}}})}});function js(n,e){return n(e={exports:{}},e.exports),e.exports}var HG=js(function(n){(function(e,t,r){function i(s){var l,c=this,u=(l=4022871197,function(d){d=d.toString();for(var h=0;h<d.length;h++){var f=.02519603282416938*(l+=d.charCodeAt(h));f-=l=f>>>0,l=(f*=l)>>>0,l+=4294967296*(f-=l)}return 23283064365386963e-26*(l>>>0)});c.next=function(){var d=2091639*c.s0+23283064365386963e-26*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=0|d)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(s),c.s0<0&&(c.s0+=1),c.s1-=u(s),c.s1<0&&(c.s1+=1),c.s2-=u(s),c.s2<0&&(c.s2+=1),u=null}function o(s,l){return l.c=s.c,l.s0=s.s0,l.s1=s.s1,l.s2=s.s2,l}function a(s,l){var c=new i(s),u=l&&l.state,d=c.next;return d.int32=function(){return 4294967296*c.next()|0},d.double=function(){return d()+11102230246251565e-32*(2097152*d()|0)},d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=a:this.alea=a})(0,n)}),WG=js(function(n){(function(e,t,r){function i(s){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},s===(0|s)?l.x=s:c+=s;for(var u=0;u<c.length+64;u++)l.x^=0|c.charCodeAt(u),l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function a(s,l){var c=new i(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(h===0);return h},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=a:this.xor128=a})(0,n)}),VG=js(function(n){(function(e,t,r){function i(s){var l=this,c="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^d^d<<1)|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(0|s)?l.x=s:c+=s;for(var u=0;u<c.length+64;u++)l.x^=0|c.charCodeAt(u),u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function a(s,l){var c=new i(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(h===0);return h},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=a:this.xorwow=a})(0,n)}),qG=js(function(n){(function(e,t,r){function i(s){var l=this;l.next=function(){var c,u,d=l.x,h=l.i;return c=d[h],u=(c^=c>>>7)^c<<24,u^=(c=d[h+1&7])^c>>>10,u^=(c=d[h+3&7])^c>>>3,u^=(c=d[h+4&7])^c<<7,c=d[h+7&7],u^=(c^=c<<13)^c<<9,d[h]=u,l.i=h+1&7,u},function(c,u){var d,h=[];if(u===(0|u))h[0]=u;else for(u=""+u,d=0;d<u.length;++d)h[7&d]=h[7&d]<<15^u.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],c.x=h,c.i=0,d=256;d>0;--d)c.next()}(l,s)}function o(s,l){return l.x=s.x.slice(),l.i=s.i,l}function a(s,l){s==null&&(s=+new Date);var c=new i(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(h===0);return h},d.int32=c.next,d.quick=d,u&&(u.x&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=a:this.xorshift7=a})(0,n)}),GG=js(function(n){(function(e,t,r){function i(s){var l=this;l.next=function(){var c,u,d=l.w,h=l.X,f=l.i;return l.w=d=d+1640531527|0,u=h[f+34&127],c=h[f=f+1&127],u^=u<<13,c^=c<<17,u^=u>>>15,c^=c>>>12,u=h[f]=u^c,l.i=f,u+(d^d>>>16)|0},function(c,u){var d,h,f,p,m,b=[],g=128;for(u===(0|u)?(h=u,u=null):(u+="\0",h=0,g=Math.max(g,u.length)),f=0,p=-32;p<g;++p)u&&(h^=u.charCodeAt((p+32)%u.length)),p===0&&(m=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,p>=0&&(m=m+1640531527|0,f=(d=b[127&p]^=h+m)==0?f+1:0);for(f>=128&&(b[127&(u&&u.length||0)]=-1),f=127,p=512;p>0;--p)h=b[f+34&127],d=b[f=f+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,b[f]=h^d;c.w=m,c.X=b,c.i=f}(l,s)}function o(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function a(s,l){s==null&&(s=+new Date);var c=new i(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(h===0);return h},d.int32=c.next,d.quick=d,u&&(u.X&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=a:this.xor4096=a})(0,n)}),KG=js(function(n){(function(e,t,r){function i(s){var l=this,c="";l.next=function(){var d=l.b,h=l.c,f=l.d,p=l.a;return d=d<<25^d>>>7^h,h=h-f|0,f=f<<24^f>>>8^p,p=p-d|0,l.b=d=d<<20^d>>>12^h,l.c=h=h-f|0,l.d=f<<16^h>>>16^p,l.a=p-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=0|s):c+=s;for(var u=0;u<c.length+20;u++)l.b^=0|c.charCodeAt(u),l.next()}function o(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function a(s,l){var c=new i(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(h===0);return h},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=a:this.tychei=a})(0,n)}),Ua=js(function(n){(function(e,t){var r,i=this,o=256,a=6,s="random",l=t.pow(o,a),c=t.pow(2,52),u=2*c,d=o-1;function h(g,v,x){var y=[],w=m(function T(E,A){var M,I=[],L=typeof E;if(A&&L=="object")for(M in E)try{I.push(T(E[M],A-1))}catch(S){}return I.length?I:L=="string"?E:E+"\0"}((v=v==1?{entropy:!0}:v||{}).entropy?[g,b(e)]:g==null?function(){try{var T;return r&&(T=r.randomBytes)?T=T(o):(T=new Uint8Array(o),(i.crypto||i.msCrypto).getRandomValues(T)),b(T)}catch(M){var E=i.navigator,A=E&&E.plugins;return[+new Date,i,A,i.screen,b(e)]}}():g,3),y),k=new f(y),_=function(){for(var T=k.g(a),E=l,A=0;T<c;)T=(T+A)*o,E*=o,A=k.g(1);for(;T>=u;)T/=2,E/=2,A>>>=1;return(T+A)/E};return _.int32=function(){return 0|k.g(4)},_.quick=function(){return k.g(4)/4294967296},_.double=_,m(b(k.S),e),(v.pass||x||function(T,E,A,M){return M&&(M.S&&p(M,k),T.state=function(){return p(k,{})}),A?(t[s]=T,E):T})(_,w,"global"in v?v.global:this==t,v.state)}function f(g){var v,x=g.length,y=this,w=0,k=y.i=y.j=0,_=y.S=[];for(x||(g=[x++]);w<o;)_[w]=w++;for(w=0;w<o;w++)_[w]=_[k=d&k+g[w%x]+(v=_[w])],_[k]=v;(y.g=function(T){for(var E,A=0,M=y.i,I=y.j,L=y.S;T--;)E=L[M=d&M+1],A=A*o+L[d&(L[M]=L[I=d&I+E])+(L[I]=E)];return y.i=M,y.j=I,A})(o)}function p(g,v){return v.i=g.i,v.j=g.j,v.S=g.S.slice(),v}function m(g,v){for(var x,y=g+"",w=0;w<y.length;)v[d&w]=d&(x^=19*v[d&w])+y.charCodeAt(w++);return b(v)}function b(g){return String.fromCharCode.apply(0,g)}if(t["seed"+s]=h,m(t.random(),e),n.exports){n.exports=h;try{r=require("crypto")}catch(g){}}})([],Math)});Ua.alea=HG,Ua.xor128=WG,Ua.xorwow=VG,Ua.xorshift7=qG,Ua.xor4096=GG,Ua.tychei=KG;var Im=Ua.alea,Jy=function(){function n(e,t,r,i,o){this.mean=e,this.stdDev=t,this.dtype=r,this.nextVal=NaN,this.truncated=i,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=o||Math.random();this.random=Im(a.toString())}return n.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,r,i=!1;!i;){var o=void 0,a=void 0,s=void 0;do s=(o=2*this.random()-1)*o+(a=2*this.random()-1)*a;while(s>=1||s===0);var l=Math.sqrt(-2*Math.log(s)/s);t=this.mean+this.stdDev*o*l,r=this.mean+this.stdDev*a*l,this.truncated&&!this.isValidTruncated(t)||(i=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(t)},n.prototype.convertValue=function(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)},n.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},n}(),YG=function(){function n(e,t,r,i){this.alpha=e,this.beta=1/t,this.dtype=r;var o=i||Math.random();this.randu=Im(o.toString()),this.randn=new Jy(0,1,r,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return n.prototype.nextValue=function(){for(var e,t,r,i,o,a;;){do i=this.randn.nextValue(),a=1+this.c*i;while(a<=0);if(a*=a*a,t=1-.331*(e=i*i)*e,r=.5*e+this.d*(1-a+Math.log(a)),(o=this.randu())<t||Math.log(o)<r)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)},n.prototype.convertValue=function(e){return this.dtype==="float32"?e:Math.round(e)},n}(),XG=function(){function n(e,t,r,i){var o=this;if(e===void 0&&(e=0),t===void 0&&(t=1),this.canReturnFloat=function(){return o.dtype==null||o.dtype==="float32"},this.min=e,this.range=t-e,this.dtype=r,i==null&&(i=Math.random()),typeof i=="number"&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=Im(i)}return n.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},n.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},n}();function $e(n,e,t){return e===void 0&&(e="float32"),e=e||"float32",E6(n),new Qu(n,e,t)}function ZG(n,e){e===void 0&&(e=!1),console.log(n.toString(e))}var M6=q({batchToSpaceND_:function(n,e,t){var r=j(n,"x","batchToSpaceND"),i=e.reduce(function(o,a){return o*a});return W(r.rank>=1+e.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+e.length}),W(t.length===e.length,function(){return"crops.length is "+t.length+" but should be equal to blockShape.length  "+e.length}),W(r.shape[0]%i==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+e.join(" * ")+" === "+i}),G.runKernelFunc(function(o){return o.batchToSpaceND(r,e,t)},{$x:r},function(o){return{$x:function(){return o.spaceToBatchND(e,t)}}})}}),JG=q({broadcastTo_:function(n,e){var t=j(n,"broadcastTo","x"),r=t.shape;if(e.some(function(l){return!(l>0)||l%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+e+"].");if(e.length<t.rank)throw new Error("broadcastTo(): shape.length="+e.length+" < input.rank="+t.rank+".");if(e.length>t.rank){for(var i=t.shape.slice();i.length<e.length;)i.unshift(1);t=t.reshape(i)}for(var o=Array.from(e),a=e.length-1;a>=0;a--)if(t.shape[a]===e[a])o[a]=1;else if(t.shape[a]!==1)throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+e+"].");var s=o.map(function(l,c){return l>1?c:-1}).filter(function(l){return l>=0});return s.length===0?t.clone():G.runKernelFunc(function(l){return l.tile(t,o)},{input:t},function(l){return{input:function(){return l.sum(s,!0)}}})}}),QG=q({cast_:function(n,e){var t=j(n,"x","cast");if(!Vq(e))throw new Error("Failed to cast to unknown dtype "+e);if(e==="string"&&t.dtype!=="string"||e!=="string"&&t.dtype==="string")throw new Error("Only strings can be casted to strings");var r={dtype:e};return G.runKernelFunc(function(i){return i.cast(t,e)},{x:t},function(i){return{x:function(){return i.clone()}}},"Cast",r)}}),eK=q({clone_:function(n){var e=j(n,"x","clone",null);return G.runKernelFunc(function(){return G.makeTensorFromDataId(e.dataId,e.shape,e.dtype)},{$x:e},function(t){return{$x:function(){return t.toFloat()}}})}}),tK=q({cumsum_:function(n,e,t,r){e===void 0&&(e=0),t===void 0&&(t=!1),r===void 0&&(r=!1);var i=j(n,"x","cumsum"),o=Ki([e|=0],i.rank),a=i;o!=null&&(a=i.transpose(o));var s=Yi(1,i.rank)[0],l=G.runKernelFunc(function(c){return c.cumsum(a,s,t,r)},{permutedX:a},function(c){return{permutedX:function(){return c.cumsum(e,t,!r)}}});return o!=null&&(l=l.transpose(o)),l}}),nK=q({depthToSpace_:function(n,e,t){t===void 0&&(t="NHWC");var r=j(n,"x","depthToSpace"),i=t==="NHWC"?r.shape[1]:r.shape[2],o=t==="NHWC"?r.shape[2]:r.shape[3],a=t==="NHWC"?r.shape[3]:r.shape[1];return W(i*e>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+e+"  for depthToSpace with input shape\n      "+r.shape}),W(o*e>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+e+" for depthToSpace with input shape\n          "+r.shape}),W(a%(e*e)==0,function(){return"Dimension size must be evenly divisible by "+e*e+" but is "+a+" for depthToSpace with input shape "+r.shape}),G.runKernelFunc(function(s){return s.depthToSpace(r,e,t)},{$x:r})}}),Fr=q({expandDims_:function(n,e){e===void 0&&(e=0);var t=j(n,"x","expandDims",null);W(e<=t.rank,function(){return"Axis must be <= rank of the tensor"});var r=t.shape.slice();return e<0&&(W(-(t.rank+1)<=e,function(){return"Axis must be in the interval ["+-(t.rank+1)+", "+t.rank+"]"}),e=t.rank+e+1),r.splice(e,0,1),di(t,r)}}),P6=q({eye_:function(n,e,t,r){r===void 0&&(r="float32"),e==null&&(e=n);for(var i=$e([n,e],r),o=n<=e?n:e,a=0;a<o;++a)i.set(1,a,a);var s=i.toTensor().as2D(n,e);if(t==null)return s;if(t.length===1)return Ul(Fr(s,0),[t[0],1,1]);if(t.length===2)return Ul(Fr(Fr(s,0),0),[t[0],t[1],1,1]);if(t.length===3)return Ul(Fr(Fr(Fr(s,0),0),0),[t[0],t[1],t[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+t.length+"D.")}}),rK=q({multinomial_:function(n,e,t,r){r===void 0&&(r=!1);var i=j(n,"logits","multinomial"),o=i.size,a=i.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+o+".");if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+a);t=t||Math.random();var s=a===1?i.as2D(1,-1):i,l=G.runKernelFunc(function(c){return c.multinomial(s,r,e,t)},{logits2D:s});return a===1?l.as1D():l}}),kv=q({oneHot_:function(n,e,t,r){if(t===void 0&&(t=1),r===void 0&&(r=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var i=j(n,"indices","oneHot","int32"),o=i.shape.concat([e]);return i=i.flatten(),G.runKernelFunc(function(a){return a.oneHot(i,e,t,r)},{$indices:i},function(a){return{$indices:function(){return _t(i.shape,"float32")}}}).reshape(o)}}),Ns=q({pad_:function(n,e,t){t===void 0&&(t=0);var r=j(n,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i={paddings:e,constantValue:t};return G.runKernelFunc(function(o){return o.pad(r,e,t)},{x:r},function(o){var a=e.map(function(s){return s[0]});return{x:function(){return o.slice(a,r.shape)}}},"PadV2",i)}}),iK=q({pad1d_:function(n,e,t){return t===void 0&&(t=0),W(e.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),Ns(n,[e],t)}}),oK=q({pad2d_:function(n,e,t){return t===void 0&&(t=0),W(e.length===2&&e[0].length===2&&e[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Ns(n,e,t)}}),aK=q({pad3d_:function(n,e,t){return t===void 0&&(t=0),W(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Ns(n,e,t)}}),sK=q({pad4d_:function(n,e,t){return t===void 0&&(t=0),W(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Ns(n,e,t)}}),lK=q({rand_:function(n,e,t){var r=Te(n),i=null;if(t==null||t==="float32")i=new Float32Array(r);else if(t==="int32")i=new Int32Array(r);else{if(t!=="bool")throw new Error("Unknown data type "+t);i=new Uint8Array(r)}for(var o=0;o<r;o++)i[o]=e();return G.makeTensor(i,n,t)}}),cK=q({randomNormal_:function(n,e,t,r,i){if(e===void 0&&(e=0),t===void 0&&(t=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var o=new Jy(e,t,r,!1,i),a=$e(n,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),uK=q({randomGamma_:function(n,e,t,r,i){if(t===void 0&&(t=1),r===void 0&&(r="float32"),t==null&&(t=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error("Unsupported data type "+r);for(var o=new YG(e,t,r,i),a=$e(n,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),B6=q({randomUniform_:function(n,e,t,r,i){e===void 0&&(e=0),t===void 0&&(t=1),r===void 0&&(r="float32");for(var o=$e(n,r),a=new XG(e,t,null,i),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),di=q({reshape_:function(n,e){var t=j(n,"x","reshape",null);e=Hq(e,t.size),W(t.size===Te(e),function(){return"new shape and old shape must have the same number of elements."});var r={shape:e};return G.runKernelFunc(function(i){return i.reshape(t,e)},{x:t},function(i){return{x:function(){return i.reshape(t.shape)}}},"Reshape",r)}}),z6=q({spaceToBatchND_:function(n,e,t){var r=j(n,"x","spaceToBatchND");return W(r.rank>=1+e.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+e.length}),W(t.length===e.length,function(){return"paddings.shape[0] "+t.length+" must be equal to [blockShape] "+e.length}),W(r.shape.reduce(function(i,o,a){return a>0&&a<=e.length?i&&(o+t[a-1][0]+t[a-1][1])%e[a-1]==0:i},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+t.toString()+" must be divisible by blockShapes "+e.toString()}),G.runKernelFunc(function(i){return i.spaceToBatchND(r,e,t)},{$x:r},function(i){return{$x:function(){return i.batchToSpaceND(e,t)}}})}}),L6=q({squeeze_:function(n,e){var t=j(n,"x","squeeze");return di(t,qa(t.shape,e).newShape)}}),Ar=q({stack_:function(n,e){e===void 0&&(e=0);var t=ap(n,"tensors","stack");if(W(t.length>=1,function(){return"Pass at least one tensor to tf.stack"}),t.length===1)return t[0].expandDims(e);var r=t[0].rank,i=t[0].shape,o=t[0].dtype;W(e<=r,function(){return"Axis must be <= rank of the tensor"}),t.forEach(function(s){ct(i,s.shape,"All tensors passed to stack must have matching shapes")}),t.forEach(function(s){W(o===s.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var a=t.map(function(s){return s.expandDims(e)});return Jt(a,e)}}),Ul=q({tile_:function(n,e){var t=j(n,"x","tile",null);W(t.rank===e.length,function(){return"Error in transpose: rank of input "+t.rank+" must match length of reps "+e+"."});var r=[t],i={reps:e};return G.runKernelFunc(function(o,a){var s=o.tile(t,e);return a([t]),s},{x:t},function(o,a){var s=a[0];return{x:function(){var l=at(s);if(s.rank===1)for(var c=0;c<e[0];++c)l=l.add(o.slice([c*s.shape[0]],[s.shape[0]]));else if(s.rank===2)for(c=0;c<e[0];++c)for(var u=0;u<e[1];++u)l=l.add(o.slice([c*s.shape[0],u*s.shape[1]],[s.shape[0],s.shape[1]]));else if(s.rank===3)for(c=0;c<e[0];++c)for(u=0;u<e[1];++u)for(var d=0;d<e[2];++d)l=l.add(o.slice([c*s.shape[0],u*s.shape[1],d*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(s.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+s.rank+" tensors yet.");for(c=0;c<e[0];++c)for(u=0;u<e[1];++u)for(d=0;d<e[2];++d)for(var h=0;h<e[3];++h)l=l.add(o.slice([c*s.shape[0],u*s.shape[1],d*s.shape[2],h*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return l}}},"Tile",i,r)}}),dK=q({truncatedNormal_:function(n,e,t,r,i){if(e===void 0&&(e=0),t===void 0&&(t=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var o=new Jy(e,t,r,!0,i),a=$e(n,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),Qt=q({unstack_:function(n,e){e===void 0&&(e=0),e=e||0;var t=j(n,"x","unstack");W(e>=-t.shape.length&&e<t.shape.length,function(){return"Axis = "+e+" is not in [-"+t.shape.length+", "+t.shape.length+")"}),e<0&&(e+=t.shape.length);var r={axis:e};return G.runKernelFunc(function(i){return i.unstack(t,e)},{x:t},function(i){return{x:function(){return Ar(i,e)}}},"Unpack",r)}}),hK=function(n,e){return Ee(this,void 0,void 0,function(){var t,r,i,o,a,s,l,c,u,d;return Se(this,function(h){switch(h.label){case 0:return t=j(n,"x","setdiff1d"),r=j(e,"y","setdiff1d"),W(t.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+t.dtype+") and y ("+r.dtype+")."}),W(t.rank===1,function(){return"x should be 1D tensor, but got x ("+t.shape+")."}),W(r.rank===1,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,t.data()];case 1:return i=h.sent(),[4,r.data()];case 2:for(o=h.sent(),a=new Set(o),s=0,u=0;u<i.length;u++)a.has(i[u])||s++;for(l=new Qu([s],t.dtype),c=new Qu([s],"int32"),u=0,d=0;u<i.length;u++)a.has(i[u])||(l.values[d]=i[u],c.values[d]=u,d++);return[2,[l.toTensor(),c.toTensor()]]}})})};function lp(n,e,t,r){r===void 0&&(r=!0);var i=[];if(r)(i=i.concat(e.slice(0))).push(n[0]/t),i=i.concat(n.slice(1));else{i=i.concat(n[0]);for(var o=e.length,a=0;a<o;++a)i=i.concat([n[a+1]/e[a],e[a]]);i=i.concat(n.slice(o+1))}return i}function cp(n,e,t){t===void 0&&(t=!0);var r=[];if(t){r.push(e);for(var i=e+1;i<n;++i)i<=2*e?(r.push(i),r.push(i-(e+1))):r.push(i)}else{var o=[],a=[];for(i=1;i<n;++i)i>=2*e+1||i%2==1?a.push(i):o.push(i);r.push.apply(r,o),r.push(0),r.push.apply(r,a)}return r}function up(n,e,t,r){r===void 0&&(r=!0);var i=[];r?i.push(n[0]/t):i.push(n[0]*t);for(var o=1;o<n.length;++o)o<=e.length?r?i.push(e[o-1]*n[o]):i.push(n[o]/e[o-1]):i.push(n[o]);return i}function j6(n,e){for(var t=[0],r=0;r<e;++r)t.push(n[r][0]);return t}function N6(n,e,t){for(var r=n.slice(0,1),i=0;i<t;++i)r.push(n[i+1]-e[i][0]-e[i][1]);return r}function F6(n,e){if(n.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+n.rank+".");if(e.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(e.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.shape[e.rank-1]>n.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+e.shape[e.rank-1]+" vs. "+n.rank);if(n.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+n.shape+".");for(var t=e.shape,r=t[t.length-1],i=1,o=0;o<t.length-1;++o)i*=t[o];var a=n.shape,s=t.slice();s.pop();var l=1;for(o=r;o<n.rank;++o)l*=a[o],s.push(a[o]);var c=Ni(n.shape).map(function(u){return u/l}).concat([1]).slice(0,r);return[s,i,l,c]}var $6=30;function m0(n){return n<=$6?n:gv(n,Math.floor(Math.sqrt(n)))}function fK(n,e,t){var r=e.rank>1?e.shape[e.rank-1]:1,i=e.rank>1?e.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+t.shape+", indices.shape: "+e.shape+", shape: "+n+", sliceDim: "+r+", and batchDim: "+i+".";if(t.rank<i)throw new Error(o+" update.rank < "+i+". ");if(n.length<r+(t.rank-i))throw new Error(o+" Output shape length < "+(r+(t.rank-i)));if(t.rank!==i+n.length-r)throw new Error(o+" update.rank != "+(i+n.length-r));for(var a=0;a<i;++a)if(t.shape[a]!==e.shape[a])throw new Error(o+" updates.shape["+a+"] ("+t.shape[a]+") != indices.shape["+a+"] ("+e.shape[a]+").");for(a=0;a<t.rank-i;++a)if(t.shape[a+i]!==n[a+r])throw new Error(o+" updates.shape["+(a+i)+"] ("+t.shape[a+i]+") != shape["+(a+i)+"] ("+n[a+i]+")")}function pK(n,e,t){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(n.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+n.rank+".");if(e.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(t.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+t);if(t.length===0){if(e.size===0)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(n.size===0)throw new Error("Updates specified for empty output. updates shape: "+n.shape)}fK(t,e,n)}function dp(n,e,t){for(var r=e.shape.length,i=r>1?e.shape[r-1]:1,o=t.length,a=1,s=i;s<o;++s)a*=t[s];var l=i<1?1:i;return{sliceRank:i,numUpdates:Te(e.shape)/l,sliceSize:a,strides:Ni(t.slice(0,i)).concat([1]),outputSize:Te(t)}}function mK(n,e,t){W(n.rank===e.length,function(){return"Error in slice"+n.rank+"D: Length of begin "+e+" must match the rank of the array ("+n.rank+")."}),W(n.rank===t.length,function(){return"Error in slice"+n.rank+"D: Length of size "+t+" must match the rank of the array ("+n.rank+")."});for(var r=function(o){W(e[o]+t[o]<=n.shape[o],function(){return"Error in slice"+n.rank+"D: begin["+o+"] + size["+o+"] ("+(e[o]+t[o])+") would overflow input.shape["+o+"] ("+n.shape[o]+")"})},i=0;i<n.rank;++i)r(i)}function M_(n){for(var e=[],t=0;n>0;)1&n&&e.push(t),n/=2,t++;return e}function Qy(n,e,t){for(var r=[],i=0;i<n.length;i++)r[i]=Math.ceil((e[i]-n[i])/t[i]);return r}function gK(n,e,t,r,i){var o=e[i],a=t[i]||1;(n&1<<i||o==null)&&(o=a>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[i];return o<0&&(o+=s),o=fv(0,o,s-1)}function bK(n,e,t,r,i){var o=e[i],a=t[i]||1;(n&1<<i||o==null)&&(o=a>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[i];return o<0&&(o+=s),o=a>0?fv(0,o,s):fv(-1,o,s-1)}function U6(n,e,t){for(var r=t.length,i=0;i<t.length;i++)if(t[i]>1){r=i;break}for(i=r+1;i<t.length;i++)if(e[i]>0||t[i]!==n[i])return!1;return!0}function H6(n,e){for(var t=n.length>0?n[n.length-1]:1,r=0;r<n.length-1;r++)t+=n[r]*e[r];return t}function vK(n,e){W(mv(n),function(){return"The f passed in variableGrads(f) must be a function"}),W(e==null||Array.isArray(e)&&e.every(function(u){return u instanceof cc}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var t=e!=null;if(!t)for(var r in e=[],G.registeredVariables)e.push(G.registeredVariables[r]);var i=t?e.filter(function(u){return!u.trainable}):null,o=e.length;W((e=e.filter(function(u){return u.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+o+" variables is trainable."});var a=G.gradients(n,e,null,!0),s=a.value,l=a.grads;W(l.some(function(u){return u!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),W(s.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var c={};return e.forEach(function(u,d){l[d]!=null&&(c[u.name]=l[d])}),i!=null&&i.forEach(function(u){return c[u.name]=null}),{value:s,grads:c}}function Rm(n){return G.customGrad(n)}var Ro=q({softmax_:function(n,e){e===void 0&&(e=-1);var t=j(n,"logits","softmax","float32");if(e===-1&&(e=t.rank-1),e!==t.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+t.rank+" and dim was "+e);return G.runKernelFunc(function(r,i){var o=r.softmax(t,e);return i([o]),o},{logits:t},function(r,i){var o=i[0],a=r.mul(o);return{logits:function(){return a.sub(a.sum([e],!0).mul(o))}}},"Softmax",{dim:e},[],[!0])}}),xK=q({logSoftmax_:function(n,e){e===void 0&&(e=-1);var t=j(n,"logits","logSoftmax");if(e===-1&&(e=t.rank-1),e!==t.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+t.rank+" and axis was "+e);return Rm(function(r,i){var o=r.max(e,!0),a=r.sub(o),s=a.toFloat().sub(a.exp().sum(e,!0).log());return i([s]),{value:s,gradFunc:function(l,c){var u=c[0].exp();return l.sub(l.sum(e,!0).mul(u))}}})(t)}}),W6=function(){function n(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return n.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},n.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},n.prototype.has=function(e){return this.data.has(e)},n.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},n.prototype.numDataIds=function(){return this.dataIdsCount},n}(),V6=function(){function n(){}return n.prototype.time=function(e){return te("time")},n.prototype.read=function(e){return te("read")},n.prototype.readSync=function(e){return te("readSync")},n.prototype.numDataIds=function(){return te("numDataIds")},n.prototype.disposeData=function(e){return te("disposeData")},n.prototype.write=function(e,t,r){return te("write")},n.prototype.move=function(e,t,r,i){return te("move")},n.prototype.memory=function(){return te("memory")},n.prototype.floatPrecision=function(){return te("floatPrecision")},n.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},n.prototype.batchMatMul=function(e,t,r,i){return te("batchMatMul")},n.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,te("fusedBatchMatMul")},n.prototype.slice=function(e,t,r){return te("slice")},n.prototype.stridedSlice=function(e,t,r,i){return te("stridedSlice")},n.prototype.unstack=function(e,t){return te("unstack")},n.prototype.reverse=function(e,t){return te("reverse")},n.prototype.concat=function(e,t){return te("concat")},n.prototype.neg=function(e){return te("neg")},n.prototype.add=function(e,t){return te("add")},n.prototype.addN=function(e){return te("addN")},n.prototype.subtract=function(e,t){return te("subtract")},n.prototype.multiply=function(e,t){return te("multiply")},n.prototype.realDivide=function(e,t){return te("realDivide")},n.prototype.floorDiv=function(e,t){return te("floorDiv")},n.prototype.sum=function(e,t){return te("sum")},n.prototype.prod=function(e,t){return te("prod")},n.prototype.unsortedSegmentSum=function(e,t,r){return te("unsortedSegmentSum")},n.prototype.argMin=function(e,t){return te("argMin")},n.prototype.argMax=function(e,t){return te("argMax")},n.prototype.equal=function(e,t){return te("equal")},n.prototype.notEqual=function(e,t){return te("notEqual")},n.prototype.less=function(e,t){return te("less")},n.prototype.lessEqual=function(e,t){return te("lessEqual")},n.prototype.greater=function(e,t){return te("greater")},n.prototype.greaterEqual=function(e,t){return te("greaterEqual")},n.prototype.logicalNot=function(e){return te("logicalNot")},n.prototype.logicalAnd=function(e,t){return te("logicalAnd")},n.prototype.logicalOr=function(e,t){return te("logicalOr")},n.prototype.where=function(e){return te("where")},n.prototype.select=function(e,t,r){return te("select")},n.prototype.topk=function(e,t,r){return te("topk")},n.prototype.min=function(e,t){return te("min")},n.prototype.minimum=function(e,t){return te("minimum")},n.prototype.mod=function(e,t){return te("mod")},n.prototype.max=function(e,t){return te("max")},n.prototype.maximum=function(e,t){return te("maximum")},n.prototype.all=function(e,t){return te("all")},n.prototype.any=function(e,t){return te("any")},n.prototype.squaredDifference=function(e,t){return te("squaredDifference")},n.prototype.ceil=function(e){return te("ceil")},n.prototype.floor=function(e){return te("floor")},n.prototype.round=function(e){return te("round")},n.prototype.sign=function(e){return te("sign")},n.prototype.isNaN=function(e){return te("isNaN")},n.prototype.isInf=function(e){return te("isInf")},n.prototype.isFinite=function(e){return te("isFinite")},n.prototype.pow=function(e,t){return te("pow")},n.prototype.exp=function(e){return te("exp")},n.prototype.expm1=function(e){return te("expm1")},n.prototype.softmax=function(e,t){return te("softmax")},n.prototype.log=function(e){return te("log")},n.prototype.log1p=function(e){return te("log1p")},n.prototype.sqrt=function(e){return te("sqrt")},n.prototype.rsqrt=function(e){return te("rsqrt")},n.prototype.square=function(e){return te("square")},n.prototype.reciprocal=function(e){return te("reciprocal")},n.prototype.relu=function(e){return te("relu")},n.prototype.relu6=function(e){return te("relu6")},n.prototype.prelu=function(e,t){return te("prelu")},n.prototype.elu=function(e){return te("elu")},n.prototype.eluDer=function(e,t){return te("eluDer")},n.prototype.selu=function(e){return te("selu")},n.prototype.int=function(e){return te("int")},n.prototype.clip=function(e,t,r){return te("clip")},n.prototype.abs=function(e){return te("abs")},n.prototype.complexAbs=function(e){return te("complexAbs")},n.prototype.sigmoid=function(e){return te("sigmoid")},n.prototype.softplus=function(e){return te("softplus")},n.prototype.sin=function(e){return te("sin")},n.prototype.cos=function(e){return te("cos")},n.prototype.tan=function(e){return te("tan")},n.prototype.asin=function(e){return te("asin")},n.prototype.acos=function(e){return te("acos")},n.prototype.atan=function(e){return te("atan")},n.prototype.atan2=function(e,t){return te("atan2")},n.prototype.sinh=function(e){return te("sinh")},n.prototype.cosh=function(e){return te("cosh")},n.prototype.tanh=function(e){return te("tanh")},n.prototype.asinh=function(e){return te("asinh")},n.prototype.acosh=function(e){return te("acosh")},n.prototype.atanh=function(e){return te("atanh")},n.prototype.erf=function(e){return te("erf")},n.prototype.step=function(e,t){return te("step")},n.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,te("fusedConv2d")},n.prototype.conv2d=function(e,t,r){return te("conv2d")},n.prototype.conv2dDerInput=function(e,t,r){return te("conv2dDerInput")},n.prototype.conv2dDerFilter=function(e,t,r){return te("conv2dDerFilter")},n.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,te("fusedDepthwiseConv2D")},n.prototype.depthwiseConv2D=function(e,t,r){return te("depthwiseConv2D")},n.prototype.depthwiseConv2DDerInput=function(e,t,r){return te("depthwiseConv2DDerInput")},n.prototype.depthwiseConv2DDerFilter=function(e,t,r){return te("depthwiseConv2DDerFilter")},n.prototype.conv3d=function(e,t,r){return te("conv3d")},n.prototype.conv3dDerInput=function(e,t,r){return te("conv3dDerInput")},n.prototype.conv3dDerFilter=function(e,t,r){return te("conv3dDerFilter")},n.prototype.maxPool=function(e,t){return te("maxPool")},n.prototype.maxPoolBackprop=function(e,t,r,i){return te("maxPoolBackprop")},n.prototype.avgPool=function(e,t){return te("avgPool")},n.prototype.avgPoolBackprop=function(e,t,r){return te("avgPoolBackprop")},n.prototype.avgPool3d=function(e,t){return te("avgPool3d")},n.prototype.avgPool3dBackprop=function(e,t,r){return te("avgPool3dBackprop")},n.prototype.maxPool3d=function(e,t){return te("maxPool3d")},n.prototype.maxPool3dBackprop=function(e,t,r,i){return te("maxPool3dBackprop")},n.prototype.reshape=function(e,t){return te("reshape")},n.prototype.cast=function(e,t){return te("cast")},n.prototype.tile=function(e,t){return te("tile")},n.prototype.pad=function(e,t,r){return te("pad")},n.prototype.transpose=function(e,t){return te("transpose")},n.prototype.gather=function(e,t,r){return te("gather")},n.prototype.gatherND=function(e,t){return te("gatherND")},n.prototype.scatterND=function(e,t,r){return te("scatterND")},n.prototype.batchToSpaceND=function(e,t,r){return te("batchToSpaceND")},n.prototype.spaceToBatchND=function(e,t,r){return te("spaceToBatchND")},n.prototype.resizeBilinear=function(e,t,r,i){return te("resizeBilinear")},n.prototype.resizeBilinearBackprop=function(e,t,r){return te("resizeBilinearBackprop")},n.prototype.resizeNearestNeighbor=function(e,t,r,i){return te("resizeNearestNeighbor")},n.prototype.resizeNearestNeighborBackprop=function(e,t,r){return te("resizeNearestNeighborBackprop")},n.prototype.batchNormalization=function(e,t,r,i,o,a){return te("batchNormalization")},n.prototype.localResponseNormalization4D=function(e,t,r,i,o){return te("localResponseNormalization4D")},n.prototype.LRNGrad=function(e,t,r,i,o,a,s){return te("LRNGrad")},n.prototype.multinomial=function(e,t,r,i){return te("multinomial")},n.prototype.oneHot=function(e,t,r,i){return te("oneHot")},n.prototype.cumsum=function(e,t,r,i){return te("cumsum")},n.prototype.nonMaxSuppression=function(e,t,r,i,o){return te("nonMaxSuppression")},n.prototype.fft=function(e){return te("fft")},n.prototype.ifft=function(e){return te("ifft")},n.prototype.complex=function(e,t){return te("complex")},n.prototype.real=function(e){return te("real")},n.prototype.imag=function(e){return te("imag")},n.prototype.cropAndResize=function(e,t,r,i,o,a){return te("cropAndResize")},n.prototype.depthToSpace=function(e,t,r){return te("depthToSpace")},n.prototype.split=function(e,t,r){return te("split")},n.prototype.sparseToDense=function(e,t,r,i){return te("sparseToDense")},n.prototype.diag=function(e){return te("diag")},n.prototype.fill=function(e,t,r){return te("fill")},n.prototype.onesLike=function(e){return te("onesLike")},n.prototype.zerosLike=function(e){return te("zerosLike")},n.prototype.linspace=function(e,t,r){return te("linspace")},n.prototype.dispose=function(){return te("dispose")},n}();function te(n){throw new Error("'"+n+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function ta(n,e){for(var t=n.length,r=[],i=0;i<t;i++){var o=t-1-i,a=n[o]||1;(e[e.length-1-i]||1)>1&&a===1&&r.unshift(o)}return r}function nn(n,e){for(var t=[],r=0;r<e.length;r++){var i=n[n.length-r-1],o=e.length-r-1,a=e[o];(i==null||i===1&&a>1)&&t.unshift(o)}return t}function tt(n,e){for(var t=[],r=Math.max(n.length,e.length),i=0;i<r;i++){var o=n[n.length-i-1];o==null&&(o=1);var a=e[e.length-i-1];if(a==null&&(a=1),o===1)t.unshift(a);else if(a===1)t.unshift(o);else{if(o!==a)throw Error("Operands could not be broadcast together with shapes "+n+" and "+e+".");t.unshift(o)}}return t}function td(n,e,t,r,i,o,a){a===void 0&&(a="channelsLast");var s,l=pp(e),c=l[0],u=l[1];if(a==="channelsLast")s=[c,u,n[3],n[3]];else{if(a!=="channelsFirst")throw new Error("Unknown dataFormat "+a);s=[c,u,n[1],n[1]]}return Fs(n,s,t,r,i,o,!1,a)}function hp(n,e,t,r,i,o,a){a===void 0&&(a="NDHWC");var s,l,c=_v(e),u=c[0],d=c[1],h=c[2];if(a==="NDHWC")l="channelsLast",s=[u,d,h,n[4],n[4]];else{if(a!=="NCDHW")throw new Error("Unknown dataFormat "+a);l="channelsFirst",s=[u,d,h,n[1],n[1]]}return fp(n,s,t,r,i,!1,l,o)}function Fs(n,e,t,r,i,o,a,s){a===void 0&&(a=!1),s===void 0&&(s="channelsLast");var l=[-1,-1,-1,-1],c=l[0],u=l[1],d=l[2],h=l[3];if(s==="channelsLast")c=n[0],u=n[1],d=n[2],h=n[3];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);c=n[0],h=n[1],u=n[2],d=n[3]}var f,p=e[0],m=e[1],b=e[3],g=pp(t),v=g[0],x=g[1],y=pp(r),w=y[0],k=y[1],_=Hl(p,w),T=Hl(m,k),E=function(S,O,P,z,N,B,U,$){var F,ee,X;if(typeof S=="number"){F={top:S,bottom:S,left:S,right:S,type:S===0?"VALID":"NUMBER"};var Q=function(Me,He,Ne,R,ne){R==null&&(R=q6(Me,He,Ne));var J=Me[0],V=Me[1],H=_u((J-He+2*R)/Ne+1,ne);W(Ut(H),function(){return"The output # of rows ("+H+") must be an integer. Change the stride and/or zero pad parameters"});var K=_u((V-He+2*R)/Ne+1,ne);return W(Ut(K),function(){return"The output # of columns ("+K+") must be an integer. Change the stride and/or zero pad parameters"}),[H,K]}([O,P],B,z,S,$);ee=Q[0],X=Q[1]}else if(S==="same"){ee=Math.ceil(O/z),X=Math.ceil(P/N);var be=Math.max(0,(ee-1)*z+B-O),ye=Math.max(0,(X-1)*N+U-P),ge=Math.floor(be/2),we=be-ge,Ue=Math.floor(ye/2);F={top:ge,bottom:we,left:Ue,right:ye-Ue,type:"SAME"}}else{if(S!=="valid")throw Error("Unknown padding parameter: "+S);F={top:0,bottom:0,left:0,right:0,type:"VALID"},ee=Math.ceil((O-B+1)/z),X=Math.ceil((P-U+1)/N)}return{padInfo:F,outHeight:ee,outWidth:X}}(i,u,d,v,x,_,T,o),A=E.padInfo,M=E.outHeight,I=E.outWidth,L=a?b*h:b;return s==="channelsFirst"?f=[c,L,M,I]:s==="channelsLast"&&(f=[c,M,I,L]),{batchSize:c,dataFormat:s,inHeight:u,inWidth:d,inChannels:h,outHeight:M,outWidth:I,outChannels:L,padInfo:A,strideHeight:v,strideWidth:x,filterHeight:p,filterWidth:m,effectiveFilterHeight:_,effectiveFilterWidth:T,dilationHeight:w,dilationWidth:k,inShape:n,outShape:f,filterShape:e}}function fp(n,e,t,r,i,o,a,s){o===void 0&&(o=!1),a===void 0&&(a="channelsLast");var l=[-1,-1,-1,-1,-1],c=l[0],u=l[1],d=l[2],h=l[3],f=l[4];if(a==="channelsLast")c=n[0],u=n[1],d=n[2],h=n[3],f=n[4];else{if(a!=="channelsFirst")throw new Error("Unknown dataFormat "+a);c=n[0],f=n[1],u=n[2],d=n[3],h=n[4]}var p,m=e[0],b=e[1],g=e[2],v=e[4],x=_v(t),y=x[0],w=x[1],k=x[2],_=_v(r),T=_[0],E=_[1],A=_[2],M=Hl(m,T),I=Hl(b,E),L=Hl(g,A),S=function(U,$,F,ee,X,Q,be,ye,ge,we,Ue){var Me,He,Ne,R;if(typeof U=="number"){Me={top:U,bottom:U,left:U,right:U,front:U,back:U,type:U===0?"VALID":"NUMBER"};var ne=function(xe,fe,Be,rt,Le,Nt){Le==null&&(Le=q6(xe,fe,rt));var ti=xe[0],Gt=xe[1],ni=xe[2],ut=_u((ti-fe+2*Le)/rt+1,Nt);W(Ut(ut),function(){return"The output # of depths ("+ut+") must be an integer. Change the stride and/or zero pad parameters"});var ki=_u((Gt-fe+2*Le)/rt+1,Nt);W(Ut(ki),function(){return"The output # of rows ("+ki+") must be an integer. Change the stride and/or zero pad parameters"});var Zi=_u((ni-fe+2*Le)/rt+1,Nt);return W(Ut(Zi),function(){return"The output # of columns ("+Zi+") must be an integer. Change the stride and/or zero pad parameters"}),[ut,ki,Zi,Be]}([$,F,ee,1],ye,1,X,U,Ue);He=ne[0],Ne=ne[1],R=ne[2]}else if(U==="same"){He=Math.ceil($/X),Ne=Math.ceil(F/Q),R=Math.ceil(ee/be);var J=(He-1)*X+ye-$,V=(Ne-1)*Q+ge-F,H=(R-1)*be+we-ee,K=Math.floor(J/2),se=J-K,le=Math.floor(V/2),Z=V-le,he=Math.floor(H/2);Me={top:le,bottom:Z,left:he,right:H-he,front:K,back:se,type:"SAME"}}else{if(U!=="valid")throw Error("Unknown padding parameter: "+U);Me={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},He=Math.ceil(($-ye+1)/X),Ne=Math.ceil((F-ge+1)/Q),R=Math.ceil((ee-we+1)/be)}return{padInfo:Me,outDepth:He,outHeight:Ne,outWidth:R}}(i,u,d,h,y,w,k,M,I,L,s),O=S.padInfo,P=S.outDepth,z=S.outHeight,N=S.outWidth,B=o?v*f:v;return a==="channelsFirst"?p=[c,B,P,z,N]:a==="channelsLast"&&(p=[c,P,z,N,B]),{batchSize:c,dataFormat:a,inDepth:u,inHeight:d,inWidth:h,inChannels:f,outDepth:P,outHeight:z,outWidth:N,outChannels:B,padInfo:O,strideDepth:y,strideHeight:w,strideWidth:k,filterDepth:m,filterHeight:b,filterWidth:g,effectiveFilterDepth:M,effectiveFilterHeight:I,effectiveFilterWidth:L,dilationDepth:T,dilationHeight:E,dilationWidth:A,inShape:n,outShape:p,filterShape:e}}function q6(n,e,t,r){r===void 0&&(r=1);var i=Hl(e,r);return Math.floor((n[0]*(t-1)-t+i)/2)}function pp(n){return typeof n=="number"?[n,n,n]:n.length===2?[n[0],n[1],1]:n}function _v(n){return typeof n=="number"?[n,n,n]:n}function Hl(n,e){return e<=1?n:n+(n-1)*(e-1)}function _u(n,e){if(!e)return n;switch(e){case"round":return Math.round(n);case"ceil":return Math.ceil(n);case"floor":return Math.floor(n);default:throw new Error("Unknown roundingMode "+e)}}function dc(n){var e=pp(n),t=e[0],r=e[1],i=e[2];return t===1&&r===1&&i===1}function ur(n,e){return dc(n)||dc(e)}function e1(n){if(n==="NHWC")return"channelsLast";if(n==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+n)}function G6(n,e,t){if(e==="complex64"){if(n.dtype==="complex64")return n.clone();var r=_t(n.shape),i=n.toFloat(),o=t.complex(i,r);return r.dispose(),i.dispose(),o}if(!qq(n.dtype,e))return G.makeTensorFromDataId(n.dataId,n.shape,e);if(n.dtype==="complex64"){var a=t.real(n);return o=a.cast(e),a.dispose(),o}if(e==="int32")return t.int(n);if(e==="bool"){var s=ve(0,n.dtype);return o=t.notEqual(n,s),s.dispose(),o}throw new Error("Error in Cast: failed to cast "+n.dtype+" to "+e)}function Cv(n,e){return G.makeTensorFromDataId(n.dataId,e,n.dtype)}function K6(n,e,t){var r=(e-n)/(t-1),i=Od(t,"float32");i[0]=n;for(var o=1;o<i.length;o++)i[o]=i[o-1]+r;return Vt(i,"float32")}function Ev(n,e){if(n.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+n.length+", imag: "+e.length+".");for(var t=new Float32Array(2*n.length),r=0;r<t.length;r+=2)t[r]=n[r/2],t[r+1]=e[r/2];return t}function P_(n,e){return{real:n[2*e],imag:n[2*e+1]}}function yK(n,e,t,r){n[2*r]=e,n[2*r+1]=t}function wK(n,e,t){var r=(t?2:-2)*Math.PI*(n/e);return{real:Math.cos(r),imag:Math.sin(r)}}function kK(n,e,t){var r=function(o,a,s){return function(l,c,u){for(var d=0,h=l.length,f=0,p=!1;d<h;){var m=u(c,l[f=d+(h-d>>>1)]);m>0?d=f+1:(h=f,p=!m)}return p?d:-d-1}(o,a,s||_K)}(n,e,t),i=r<0?-(r+1):r;n.splice(i,0,e)}function _K(n,e){return n>e?1:n<e?-1:0}function t1(n,e,t,r,i){return Y6(n,e,t,r,i,0).selectedIndices}function n1(n,e,t,r,i,o){var a=Y6(n,e,t,r,i,o);return a.numValidOutputs.dispose(),{selectedIndices:a.selectedIndices,selectedScores:a.selectedScores}}function Y6(n,e,t,r,i,o,a,s){s===void 0&&(s=!1);for(var l=Array.from(e).map(function(y,w){return{score:y,boxIndex:w,suppressBeginIndex:0}}).filter(function(y){return y.score>i}).sort(B_),c=o>0?-.5/o:0,u=[],d=[];u.length<t&&l.length>0;){var h=l.pop(),f=h.score,p=h.boxIndex,m=h.suppressBeginIndex;if(f<i)break;for(var b=!1,g=u.length-1;g>=m;--g){var v=CK(n,p,u[g]);if(v>=r){b=!0;break}if(h.score=h.score*EK(r,c,v),h.score<=i)break}h.suppressBeginIndex=u.length,b||(h.score===f?(u.push(p),d.push(h.score)):h.score>i&&kK(l,h,B_))}var x=u.length;return s&&(u.fill(0,x),d.fill(0,x)),{selectedIndices:Vt(u,"int32"),selectedScores:Vt(d,"float32"),numValidOutputs:ve(x,"int32")}}function CK(n,e,t){var r=n.subarray(4*e,4*e+4),i=n.subarray(4*t,4*t+4),o=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),c=Math.min(i[0],i[2]),u=Math.min(i[1],i[3]),d=Math.max(i[0],i[2]),h=Math.max(i[1],i[3]),f=(s-o)*(l-a),p=(d-c)*(h-u);if(f<=0||p<=0)return 0;var m=Math.max(o,c),b=Math.max(a,u),g=Math.min(s,d),v=Math.min(l,h),x=Math.max(g-m,0)*Math.max(v-b,0);return x/(f+p-x)}function EK(n,e,t){var r=Math.exp(e*t*t);return t<=n?r:0}function B_(n,e){return n.score-e.score||n.score===e.score&&e.boxIndex-n.boxIndex}function X6(n,e,t){var r=new Array(n.rank).fill(0),i=n.shape.slice();return e.map(function(o){i[t]=o;var a=n.slice(r,i);return r[t]+=o,a})}function Z6(n,e){for(var t=new Array(n.rank),r=0;r<t.length;r++)t[r]=n.shape[r]*e[r];var i=$e(t,n.dtype);for(r=0;r<i.values.length;++r){for(var o=i.indexToLoc(r),a=new Array(n.rank),s=0;s<a.length;s++)a[s]=o[s]%n.shape[s];var l=n.locToIndex(a);i.values[r]=n.values[l]}return i.toTensor()}function J6(n,e,t,r,i){for(var o=e[e.length-1],a=[n.length/o,o],s=a[0],l=a[1],c=Ju(t,s*r),u=Ju("int32",s*r),d=0;d<s;d++){for(var h=d*l,f=n.subarray(h,h+l),p=[],m=0;m<f.length;m++)p.push({value:f[m],index:m});p.sort(function(y,w){return w.value-y.value});var b=d*r,g=c.subarray(b,b+r),v=u.subarray(b,b+r);for(m=0;m<r;m++)g[m]=p[m].value,v[m]=p[m].index}var x=e.slice();return x[x.length-1]=r,[kn(c,x,t),kn(u,x,"int32")]}function r1(n,e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(r);var i=$e(n,"int32"),o=$e([t.length,n.length],"int32");for(r=0;r<t.length;r++){var a=i.indexToLoc(t[r]),s=r*n.length;o.values.set(a,s)}return o.toTensor()}var SK=function(n,e){this.outputShape=[],this.outputShape=n,this.variableNames=e.map(function(i,o){return"T"+o});var t=[];this.variableNames.forEach(function(i){t.push("float v"+i+" = get"+i+"AtOutCoords();")});var r=this.variableNames.map(function(i){return"v"+i}).join(" + ");this.userCode="\n      void main() {\n        "+t.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},TK=function(n,e){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.variableNames=e.map(function(i,o){return"T"+o});var t=[];this.variableNames.forEach(function(i){t.push("vec4 v"+i+" = get"+i+"AtOutCoords();")});var r=this.variableNames.map(function(i){return"v"+i}).join(" + ");this.userCode="\n      void main() {\n        "+t.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},AK=function(n,e,t){this.variableNames=["A"];var r=n.windowSize,i=n.batchSize,o=n.inSize,a=Math.ceil(o/r);t||this.variableNames.push("bestIndicesA"),this.outputShape=[i,a];var s=e==="max"?">":"<",l=t?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+l+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function Q6(n,e){return["x","y","z","w","u","v"].slice(0,e).map(function(t){return n+"."+t})}function tr(n,e){return e===1?[n]:Q6(n,e)}function On(){var n,e,t,r,i,o,a,s,l,c;return oe().getNumber("WEBGL_VERSION")===2?(n="#version 300 es",e="in",t="out",r="in",i="texture",o="outputColor",a="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(n="",e="attribute",t="varying",r="varying",i="texture2D",o="gl_FragColor",a="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:n,attribute:e,varyingVs:t,varyingFs:r,texture2D:i,output:o,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:l,defineRound:c}}function es(n,e,t){t===void 0&&(t="index");var r=Ni(e);return r.map(function(i,o){return"int "+n[o]+" = "+t+" / "+i+"; "+(o===r.length-1?"int "+n[o+1]+" = "+t+" - "+n[o]+" * "+i:"index -= "+n[o]+" * "+i)+";"}).join("")}function i1(n){var e=Ni(n).map(function(t){return t.toString()});return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+e[0]+" + coords.y * "+e[1]+" + coords.z;\n  }\n"}var eT="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function IK(n,e,t,r){var i=[];n.forEach(function(f){var p=Te(f.shapeInfo.logicalShape);f.shapeInfo.isUniform?i.push("uniform float "+f.name+(p>1?"["+p+"]":"")+";"):(i.push("uniform sampler2D "+f.name+";"),i.push("uniform int offset"+f.name+";"))});var o,a,s=i.join("\n"),l=n.map(function(f){return function(p,m,b){b===void 0&&(b=!1);var g="";g+=b?tT(p):fl(p);var v=p.shapeInfo.logicalShape,x=m.logicalShape;return v.length<=x.length&&(g+=b?function(y,w){var k,_=y.name,T=_.charAt(0).toUpperCase()+_.slice(1),E="get"+T+"AtOutCoords",A=y.shapeInfo.logicalShape.length,M=w.logicalShape.length,I=ta(y.shapeInfo.logicalShape,w.logicalShape),L=kt(M),S=M-A,O=["x","y","z","w","u","v"];k=A===0?"":M<2&&I.length>=1?"coords = 0;":I.map(function(F){return"coords."+O[F+S]+" = 0;"}).join("\n");var P="";P=M<2&&A>0?"coords":y.shapeInfo.logicalShape.map(function(F,ee){return"coords."+O[ee+S]}).join(", ");var z="return outputValue;",N=Te(y.shapeInfo.logicalShape)===1,B=Te(w.logicalShape)===1;if(A!==1||N||B){if(N&&!B)z=M===1?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(I.length){var U=A-2,$=A-1;I.indexOf(U)>-1&&I.indexOf($)>-1?z="return vec4(outputValue.x);":I.indexOf(U)>-1?z="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":I.indexOf($)>-1&&(z="return vec4(outputValue.xx, outputValue.zz);")}}else z="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+E+"() {\n      "+L+" coords = getOutputCoords();\n      "+k+"\n      vec4 outputValue = get"+T+"("+P+");\n      "+z+"\n    }\n  "}(p,m):function(y,w){var k=y.name,_=k.charAt(0).toUpperCase()+k.slice(1),T="get"+_+"AtOutCoords",E=w.texShape,A=y.shapeInfo.texShape,M=y.shapeInfo.logicalShape.length,I=w.logicalShape.length;if(!y.shapeInfo.isUniform&&M===I&&y.shapeInfo.flatOffset==null&&mn(A,E))return"\n      float "+T+"() {\n        return sampleTexture("+k+", resultUV);\n      }\n    ";var L,S=kt(I),O=ta(y.shapeInfo.logicalShape,w.logicalShape),P=I-M,z=["x","y","z","w","u","v"];L=M===0?"":I<2&&O.length>=1?"coords = 0;":O.map(function(B){return"coords."+z[B+P]+" = 0;"}).join("\n");var N="";return N=I<2&&M>0?"coords":y.shapeInfo.logicalShape.map(function(B,U){return"coords."+z[U+P]}).join(", "),"\n    float "+T+"() {\n      "+S+" coords = getOutputCoords();\n      "+L+"\n      return get"+_+"("+N+");\n    }\n  "}(p,m)),g}(f,e,r)}).join("\n"),c=e.texShape,u=On(),d=function(f){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+f.texture2D+"(textureSampler, uv).r;\n    }\n  "}(u),h=function(f){return f.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+f.varyingFs+" vec2 resultUV;\n    "+f.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+f.defineSpecialNaN+"\n    "+f.defineSpecialInf+"\n    "+f.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+RK+"\n    "+DK+"\n    "+OK+"\n  "}(u);return e.isPacked?(o=function(f,p){switch(f.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(y,w){var k=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)];return k[0]===1?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+k[1]+".0);\n      }\n    ":k[1]===1?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+k[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+k[0]+", "+k[1]+"));\n      return 2 * (resTexRC.x * "+k[1]+" + resTexRC.y);\n    }\n  "}(0,p);case 2:return function(y,w){var k=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)];if(mn(y,w))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+k[0]+", "+k[1]+"));\n      }\n    ";var _=Math.ceil(y[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+k[0]+", "+k[1]+"));\n\n      int index = resTexRC.x * "+k[1]+" + resTexRC.y;\n      int r = 2 * (index / "+_+");\n      int c = imod(index, "+_+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(f,p);case 3:return m=f,b=p,g=[Math.ceil(b[0]/2),Math.ceil(b[1]/2)],v=Math.ceil(m[2]/2),x=v*Math.ceil(m[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+g[0]+", "+g[1]+"));\n      int index = resTexRC.x * "+g[1]+" + resTexRC.y;\n\n      int b = index / "+x+";\n      index -= b * "+x+";\n\n      int r = 2 * (index / "+v+");\n      int c = imod(index, "+v+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(y,w){for(var k=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)],_=Math.ceil(y[y.length-1]/2),T=_*Math.ceil(y[y.length-2]/2),E=T,A="",M="b, r, c",I=2;I<y.length-1;I++)E*=y[y.length-I-1],A="\n      int b"+I+" = index / "+E+";\n      index -= b"+I+" * "+E+";\n    "+A,M="b"+I+", "+M;return"\n    ivec"+y.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+k[0]+", "+k[1]+"));\n      int index = resTexRC.x * "+k[1]+" + resTexRC.y;\n\n      "+A+"\n\n      int b = index / "+T+";\n      index -= b * "+T+";\n\n      int r = 2 * (index / "+_+");\n      int c = imod(index, "+_+") * 2;\n\n      return ivec"+y.length+"("+M+");\n    }\n  "}(f,p)}var m,b,g,v,x}(e.logicalShape,c),a=function(f){return"\n    void setOutput(vec4 val) {\n      "+f.output+" = val;\n    }\n  "}(u)):(o=function(f,p){switch(f.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(g,v){return v[0]===1?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+v[1]+".0);\n      }\n    ":v[1]===1?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+v[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+v[0]+", "+v[1]+"));\n      return resTexRC.x * "+v[1]+" + resTexRC.y;\n    }\n  "}(0,p);case 2:return function(g,v){return mn(g,v)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+v[0]+", "+v[1]+"));\n      }\n    ":g[1]===1?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+v[0]+", "+v[1]+"));\n        int index = resTexRC.x * "+v[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":g[0]===1?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+v[0]+", "+v[1]+"));\n        int index = resTexRC.x * "+v[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+v[0]+", "+v[1]+"));\n      int index = resTexRC.x * "+v[1]+" + resTexRC.y;\n      int r = index / "+g[1]+";\n      int c = index - r * "+g[1]+";\n      return ivec2(r, c);\n    }\n  "}(f,p);case 3:return m=p,b=es(["r","c","d"],f),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+m[0]+", "+m[1]+"));\n      int index = resTexRC.x * "+m[1]+" + resTexRC.y;\n      "+b+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(g,v){var x=es(["r","c","d","d2"],g);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+v[0]+", "+v[1]+"));\n      int index = resTexRC.x * "+v[1]+" + resTexRC.y;\n      "+x+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(f,p);case 5:return function(g,v){var x=es(["r","c","d","d2","d3"],g);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+v[0]+",\n                             "+v[1]+"));\n\n      int index = resTexRC.x * "+v[1]+" + resTexRC.y;\n\n      "+x+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(f,p);case 6:return function(g,v){var x=es(["r","c","d","d2","d3","d4"],g);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+v[0]+", "+v[1]+"));\n      int index = resTexRC.x * "+v[1]+" + resTexRC.y;\n\n      "+x+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(f,p);default:throw new Error(f.length+"-D output sampling is not yet supported")}var m,b}(e.logicalShape,c),a=function(f){return"\n    void setOutput(float val) {\n      "+f.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(u)),r&&(h+=MK),[h,d,a,s,o,l,t].join("\n")}function fl(n){var e=n.shapeInfo.logicalShape;switch(e.length){case 0:return function(t){var r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1);if(t.shapeInfo.isUniform)return"float "+i+"() {return "+r+";}";var o=t.shapeInfo.texShape,a=o[0],s=o[1];if(a===1&&s===1)return"\n      float "+i+"() {\n        return sampleTexture("+r+", halfCR);\n      }\n    ";var l=t.shapeInfo.texShape,c=l[0],u=l[1],d=za(r);return"\n    float "+i+"() {\n      vec2 uv = uvFromFlat("+c+", "+u+", "+d+");\n      return sampleTexture("+r+", uv);\n    }\n  "}(n);case 1:return function(t){var r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1);if(t.shapeInfo.isUniform)return"\n      float "+i+"(int index) {\n        "+Qs(t)+"\n      }\n    ";var o=t.shapeInfo.texShape,a=o[0],s=o[1];if(s===1&&a===1)return"\n      float "+i+"(int index) {\n        return sampleTexture("+r+", halfCR);\n      }\n    ";var l=za(r);return s===1?"\n      float "+i+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+l+") + 0.5) / "+a+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":a===1?"\n      float "+i+"(int index) {\n        vec2 uv = vec2((float(index + "+l+") + 0.5) / "+s+".0, 0.5);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+i+"(int index) {\n      vec2 uv = uvFromFlat("+a+", "+s+", index + "+l+");\n      return sampleTexture("+r+", uv);\n    }\n  "}(n);case 2:return function(t){var r=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),a=t.shapeInfo.texShape;if(a!=null&&mn(r,a)){var s=a[0],l=a[1];return"\n    float "+o+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+l+".0, "+s+".0);\n      return sampleTexture("+i+", uv);\n    }\n  "}var c=qa(r),u=c.newShape,d=c.keptDims,h=u;if(h.length<r.length){var f=pl(t,h);return"\n      "+fl(f)+"\n      float "+o+"(int row, int col) {\n        return "+o+"("+ml(["row","col"],d)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+r[1]+", 1)));\n        "+Qs(t)+"\n      }\n    ";var p=a[0],m=a[1],b=za(i);return m===1?"\n    float "+o+"(int row, int col) {\n      float index = dot(vec3(row, col, "+b+"), vec3("+r[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+p+".0);\n      return sampleTexture("+i+", uv);\n    }\n  ":p===1?"\n    float "+o+"(int row, int col) {\n      float index = dot(vec3(row, col, "+b+"), vec3("+r[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+m+".0, 0.5);\n      return sampleTexture("+i+", uv);\n    }\n  ":"\n  float "+o+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+r[1]+" + col + "+b+";\n    vec2 uv = uvFromFlat("+p+", "+m+", index);\n    return sampleTexture("+i+", uv);\n  }\n"}(n);case 3:return function(t){var r=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),a=r[1]*r[2],s=r[2],l=qa(r),c=l.newShape,u=l.keptDims,d=c;if(d.length<r.length){var h=pl(t,d);return"\n        "+fl(h)+"\n        float "+o+"(int row, int col, int depth) {\n          return "+o+"("+ml(["row","col","depth"],u)+");\n        }\n      "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+a+", "+s+", 1)));\n        "+Qs(t)+"\n      }\n    ";var f=t.shapeInfo.texShape,p=f[0],m=f[1],b=t.shapeInfo.flatOffset;if(m===a&&b==null)return"\n        float "+o+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+s+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+m+".0, "+p+".0);\n          return sampleTexture("+i+", uv);\n        }\n      ";if(m===s&&b==null)return"\n    float "+o+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+r[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+m+".0, "+p+".0);\n      return sampleTexture("+i+", uv);\n    }\n  ";var g=za(i);return"\n      float "+o+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+a+" + col * "+s+" + depth + "+g+";\n        vec2 uv = uvFromFlat("+p+", "+m+", index);\n        return sampleTexture("+i+", uv);\n      }\n  "}(n);case 4:return function(t){var r=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),a=r[3],s=r[2]*a,l=r[1]*s,c=qa(r),u=c.newShape,d=c.keptDims;if(u.length<r.length){var h=pl(t,u);return"\n      "+fl(h)+"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        return "+o+"("+ml(["row","col","depth","depth2"],d)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+l+", "+s+", "+a+", 1)));\n        "+Qs(t)+"\n      }\n    ";var f=t.shapeInfo.flatOffset,p=t.shapeInfo.texShape,m=p[0],b=p[1];if(b===l&&f==null)return"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+s+", "+a+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+b+".0, "+m+".0);\n        return sampleTexture("+i+", uv);\n      }\n    ";if(b===a&&f==null)return"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+r[1]*r[2]+", "+r[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+b+".0, "+m+".0);\n        return sampleTexture("+i+", uv);\n      }\n    ";var g=za(i);return"\n    float "+o+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+l+" + col * "+s+" +\n          depth * "+a+" + depth2;\n      vec2 uv = uvFromFlat("+m+", "+b+", index + "+g+");\n      return sampleTexture("+i+", uv);\n    }\n  "}(n);case 5:return function(t){var r=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),a=r[4],s=r[3]*a,l=r[2]*s,c=r[1]*l,u=qa(r),d=u.newShape,h=u.keptDims;if(d.length<r.length){var f=pl(t,d);return"\n      "+fl(f)+"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+o+"("+ml(["row","col","depth","depth2","depth3"],h)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+c+", "+l+", "+s+", "+a+")) +\n          depth3;\n        "+Qs(t)+"\n      }\n    ";var p=t.shapeInfo.flatOffset,m=t.shapeInfo.texShape,b=m[0],g=m[1];if(g===c&&p==null)return"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+l+", "+s+", "+a+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+g+".0, "+b+".0);\n        return sampleTexture("+i+", uv);\n      }\n    ";if(g===a&&p==null)return"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+r[1]*r[2]*r[3]+",\n               "+r[2]*r[3]+", "+r[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+g+".0, "+b+".0);\n        return sampleTexture("+i+", uv);\n      }\n    ";var v=za(i);return"\n    float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+c+" + col * "+l+" + depth * "+s+" +\n          depth2 * "+a+" + depth3 + "+v+";\n      vec2 uv = uvFromFlat("+b+", "+g+", index);\n      return sampleTexture("+i+", uv);\n    }\n  "}(n);case 6:return function(t){var r=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),a=qa(r),s=a.newShape,l=a.keptDims;if(s.length<r.length){var c=pl(t,s);return"\n      "+fl(c)+"\n      float "+o+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+o+"("+ml(["row","col","depth","depth2","depth3","depth4"],l)+");\n      }\n    "}var u=r[5],d=r[4]*u,h=r[3]*d,f=r[2]*h,p=r[1]*f;if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+p+", "+f+", "+h+", "+d+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+u+", 1)));\n        "+Qs(t)+"\n      }\n    ";var m=t.shapeInfo.flatOffset,b=t.shapeInfo.texShape,g=b[0],v=b[1];if(v===p&&m==null)return"\n      float "+o+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+f+", "+h+", "+d+", "+u+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+v+".0, "+g+".0);\n        return sampleTexture("+i+", uv);\n      }\n    ";if(v===u&&m==null)return"\n      float "+o+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+r[1]*r[2]*r[3]*r[4]+",\n               "+r[2]*r[3]*r[4]+",\n               "+r[3]*r[4]+",\n               "+r[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+v+".0, "+g+".0);\n        return sampleTexture("+i+", uv);\n      }\n    ";var x=za(i);return"\n    float "+o+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+p+" + col * "+f+" + depth * "+h+" +\n          depth2 * "+d+" + depth3 * "+u+" + depth4 + "+x+";\n      vec2 uv = uvFromFlat("+g+", "+v+", index);\n      return sampleTexture("+i+", uv);\n    }\n  "}(n);default:throw new Error(e.length+"-D input sampling is not yet supported")}}function tT(n){var e,t,r;switch(n.shapeInfo.logicalShape.length){case 0:return e=n.name,t="get"+e.charAt(0).toUpperCase()+e.slice(1),r=On(),"\n    vec4 "+t+"() {\n      return "+r.texture2D+"("+e+", halfCR);\n    }\n  ";case 1:return function(i){var o=i.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),s=i.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=On();return"\n    vec4 "+a+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+l[0]+", "+l[1]+", index);\n      return "+c.texture2D+"("+o+", uv);\n    }\n  "}(n);case 2:return function(i){var o=i.shapeInfo.logicalShape,a=i.name,s="get"+a.charAt(0).toUpperCase()+a.slice(1),l=i.shapeInfo.texShape,c=l[0],u=l[1],d=On();if(l!=null&&mn(o,l))return"\n      vec4 "+s+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+u+".0, "+c+".0);\n\n        return "+d.texture2D+"("+a+", uv);\n      }\n    ";var h=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)],f=Math.ceil(o[1]/2);return"\n    vec4 "+s+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+f+", "+h[0]+", "+h[1]+", row, col);\n      return "+d.texture2D+"("+a+", uv);\n    }\n  "}(n);case 3:return function(i){var o=i.shapeInfo.logicalShape,a=i.name,s="get"+a.charAt(0).toUpperCase()+a.slice(1),l=i.shapeInfo.texShape,c=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];if(o[0]===1){var u=o.slice(1),d=pl(i,u);return"\n        "+tT(d)+"\n        vec4 "+s+"(int b, int row, int col) {\n          return "+s+"("+ml(["b","row","col"],[1,2])+");\n        }\n      "}var h=c[0],f=c[1],p=Math.ceil(o[2]/2),m=p*Math.ceil(o[1]/2),b=On();return"\n    vec4 "+s+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+h+", "+f+", "+m+", "+p+", b, row, col);\n      return "+b.texture2D+"("+a+", uv);\n    }\n  "}(n);default:return function(i){for(var o=i.shapeInfo.logicalShape,a=o.length,s=i.name,l="get"+s.charAt(0).toUpperCase()+s.slice(1),c=i.shapeInfo.texShape,u=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)],d=u[0],h=u[1],f=Math.ceil(o[a-1]/2),p=f*Math.ceil(o[a-2]/2),m="int b, int row, int col",b="b * "+p+" + (row / 2) * "+f+" + (col / 2)",g=2;g<a-1;g++)m="int b"+g+", "+m,p*=o[a-g-1],b="b"+g+" * "+p+" + "+b;var v=On();return"\n    vec4 "+l+"("+m+") {\n      int index = "+b+";\n      int texR = index / "+h+";\n      int texC = index - texR * "+h+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+h+", "+d+");\n      return "+v.texture2D+"("+s+", uv);\n    }\n  "}(n)}}var RK="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",DK="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",OK="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",MK="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function za(n){return"offset"+n}function Qs(n){var e=n.name,t=Te(n.shapeInfo.logicalShape);return t<2?"return "+e+";":"\n    for (int i = 0; i < "+t+"; i++) {\n      if (i == index) {\n        return "+e+"[i];\n      }\n    }\n  "}function kt(n){if(n<=1)return"int";if(n===2)return"ivec2";if(n===3)return"ivec3";if(n===4)return"ivec4";if(n===5)return"ivec5";if(n===6)return"ivec6";throw Error("GPU for rank "+n+" is not yet supported")}function pl(n,e){var t=JSON.parse(JSON.stringify(n));return t.shapeInfo.logicalShape=e,t}function ml(n,e){return e.map(function(t){return n[t]}).join(", ")}var PK=function(n,e,t,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,W(n.length>2,function(){return"Packed arg"+(t.charAt(0).toUpperCase()+t.slice(1))+" supports only inputs with rank above 2."});var i=n[n.length-1],o=Math.ceil(i/e);this.outputShape=n.slice(0,-1),o>1&&this.outputShape.push(o),r||this.variableNames.push("bestIndicesA");var a,s,l=this.outputShape,c=l.length,u=kt(c),d=tr("coords",c);if(o===1){var h=kt(s=c+1);a="\n        "+h+" sourceLocR = "+h+"("+d.join()+", 0);\n        ++"+d[c-1]+";\n        "+h+" sourceLocG = "+h+"("+d.join()+", 0);\n        ++"+d[c-2]+";\n        "+h+" sourceLocA = "+h+"("+d.join()+", 0);\n        --"+d[c-1]+";\n        "+h+" sourceLocB = "+h+"("+d.join()+", 0);\n        --"+d[c-2]+";"}else s=c,a="\n        "+u+" sourceLocR = coords;\n        ++"+d[c-1]+";\n        "+u+" sourceLocG = coords;\n        ++"+d[c-2]+";\n        "+u+" sourceLocA = coords;\n        --"+d[c-1]+";\n        "+u+" sourceLocB = coords;\n        --"+d[c-2]+";";var f=["x","y","z","w","u","v"].slice(0,s),p="."+f[s-1],m=f.map(function(T){return"int "+T}),b=tr("sourceLocR",s-1).concat("inIdx.r"),g=tr("sourceLocG",s-1).concat("inIdx.g"),v=tr("sourceLocB",s-1).concat("inIdx.b"),x=tr("sourceLocA",s-1).concat("inIdx.a"),y=t==="max"?"greaterThan":"lessThan",w=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+b.join()+"),\n                             getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+v.join()+"),\n                             getBestIndicesAChannel("+x.join()+")));",k="vec4(\n            getAChannel("+b.join()+"),\n            hasNextCol ? getAChannel("+g.join()+") : 0.,\n            hasNextRow ? getAChannel("+v.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+x.join()+") : 0.)",_=r?"":"\n      float getBestIndicesAChannel("+m.join()+") {\n        return getChannel(getBestIndicesA("+f.join()+"),\n                                          vec2("+f.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+m.join()+") {\n        return getChannel(getA("+f.join()+"),\n                               vec2("+f.slice(-2).join()+"));\n      }\n      "+_+"\n      void main() {\n        "+u+" coords = getOutputCoords();\n        bool hasNextCol = "+d[c-1]+" < "+(l[c-1]-1)+";\n        bool hasNextRow = "+d[c-2]+" < "+(l[c-2]-1)+";\n        "+a+"\n        ivec4 srcIdx = ivec4(sourceLocR"+p+", sourceLocG"+p+",\n          sourceLocB"+p+", sourceLocA"+p+") * "+e+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+k+";\n\n        for (int i = 0; i < "+e+"; i++) {\n          inIdx = srcIdx;\n          "+w+"\n          vec4 candidate = "+k+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+y+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},BK=function(n){this.variableNames=["dy"],this.outputShape=n.inShape;var e=n.filterHeight,t=n.filterWidth,r=n.strideHeight,i=n.strideWidth,o=n.dilationHeight,a=n.dilationWidth,s=n.effectiveFilterHeight,l=n.effectiveFilterWidth,c=s-1-n.padInfo.top,u=l-1-n.padInfo.left,d=1/(e*t);this.userCode="\n      const ivec2 pads = ivec2("+c+", "+u+");\n      const float avgMultiplier = float("+d+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+o+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+n.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+l+";\n            wC+= "+a+") {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},zK=function(n){this.variableNames=["dy"],this.outputShape=n.inShape;var e=n.filterDepth,t=n.filterHeight,r=n.filterWidth,i=n.strideDepth,o=n.strideHeight,a=n.strideWidth,s=n.dilationDepth,l=n.dilationHeight,c=n.dilationWidth,u=n.effectiveFilterDepth,d=n.effectiveFilterHeight,h=n.effectiveFilterWidth,f=u-1-n.padInfo.front,p=d-1-n.padInfo.top,m=h-1-n.padInfo.left,b=1/(e*t*r);this.userCode="\n      const ivec3 pads = ivec3("+f+", "+p+", "+m+");\n      const float avgMultiplier = float("+b+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+u+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+i+".0;\n\n          if (dyD < 0.0 || dyD >= "+n.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+d+";\n              wR += "+l+") {\n            float dyR = float(dyRCorner + wR) / "+o+".0;\n\n            if (dyR < 0.0 || dyR >= "+n.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+h+";\n                wC += "+c+") {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},LK=function(n,e,t,r,i,o){this.outputShape=[],this.variableNames=["x","mean","variance"],tt(n,e),tt(n,t);var a="0.0";r!=null&&(tt(n,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="1.0";i!=null&&(tt(n,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=n,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+a+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+o+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},jK=function(n,e,t,r,i,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],tt(n,e),tt(n,t);var a="vec4(0.0)";r!=null&&(tt(n,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="vec4(1.0)";i!=null&&(tt(n,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=n,this.userCode="\n      void main() {\n        vec4 offset = "+a+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+o+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},NK="return areal * breal - aimag * bimag;",FK="return areal * bimag + aimag * breal;",z_=function(n,e,t){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=tt(e,t),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+n+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},g0="return a + b;",b0="return a - b;",L_="return a * b;",nT="return (a < 0.) ? b * a : a;",Pt=function(n,e,t){this.variableNames=["A","B"],this.outputShape=tt(e,t),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+n+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},rT="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",io=function(n,e,t,r){r===void 0&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=tt(e,t);var i=this.outputShape.length,o="";if(r)if(i===0||Te(this.outputShape)===1)o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(o="\n          "+kt(i)+" coords = getOutputCoords();\n        ",i===1)o+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var a=tr("coords",i);o+="\n            bool nextRowOutOfBounds =\n              ("+a[i-2]+" + 1) >= "+this.outputShape[i-2]+";\n            bool nextColOutOfBounds =\n              ("+a[i-1]+" + 1) >= "+this.outputShape[i-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+n+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+o+"\n\n        setOutput(result);\n      }\n    "},$K=function(){function n(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return n.prototype.getCustomSetupFunc=function(e,t){var r=this;return function(i,o){r.minLoc==null&&(r.minLoc=i.getUniformLocationNoThrow(o,"minVal"),r.maxLoc=i.getUniformLocationNoThrow(o,"maxVal")),i.gl.uniform1f(r.minLoc,e),i.gl.uniform1f(r.maxLoc,t)}},n}(),UK=function(){function n(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return n.prototype.getCustomSetupFunc=function(e,t){var r=this;return function(i,o){r.minLoc==null&&(r.minLoc=i.getUniformLocationNoThrow(o,"minVal"),r.maxLoc=i.getUniformLocationNoThrow(o,"maxVal")),i.gl.uniform1f(r.minLoc,e),i.gl.uniform1f(r.maxLoc,t)}},n}(),HK=function(n){this.variableNames=["real","imag"],this.outputShape=n,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},WK=function(n){this.outputShape=[],this.outputShape=uc(n,1),this.variableNames=n.map(function(s,l){return"T"+l});var e=new Array(n.length-1);e[0]=n[0][1];for(var t=1;t<e.length;t++)e[t]=e[t-1]+n[t][1];var r=["if (yC < "+e[0]+") setOutput(getT0(yR, yC));"];for(t=1;t<e.length;t++){var i=e[t-1];r.push("else if (yC < "+e[t]+") setOutput(getT"+t+"(yR, yC-"+i+"));")}var o=e.length,a=e[e.length-1];r.push("else setOutput(getT"+o+"(yR, yC-"+a+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},VK=function(n,e){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=uc(n,e);var t=this.outputShape,r=t.length,i=kt(r),o=tr("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=n.map(function(b,g){return"T"+g});var s=new Array(n.length-1);s[0]=n[0][e];for(var l=1;l<s.length;l++)s[l]=s[l-1]+n[l][e];var c=a[e],u=a.slice(-2),d=a.join(),h="if ("+c+" < "+s[0]+") {\n        return getChannel(\n            getT0("+d+"), vec2("+u.join()+"));\n        }";for(l=1;l<s.length;l++){var f=s[l-1];h+="\n        if ("+c+" < "+s[l]+"  && "+c+" >= "+s[l-1]+") {\n          return getChannel(\n            getT"+l+"("+Eh(a,c,f)+"),\n            vec2("+Eh(u,c,f)+"));\n        }"}var p=s.length,m=s[s.length-1];h+="\n        return getChannel(\n          getT"+p+"("+Eh(a,c,m)+"),\n          vec2("+Eh(u,c,m)+"));",this.userCode="\n      float getValue("+a.map(function(b){return"int "+b})+") {\n        "+h+"\n      }\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+o+"), 0., 0., 0.);\n\n        "+o[r-1]+" = "+o[r-1]+" + 1;\n        if ("+o[r-1]+" < "+t[r-1]+") {\n          result.g = getValue("+o+");\n        }\n\n        "+o[r-2]+" = "+o[r-2]+" + 1;\n        if ("+o[r-2]+" < "+t[r-2]+") {\n          result.a = getValue("+o+");\n        }\n\n        "+o[r-1]+" = "+o[r-1]+" - 1;\n        if ("+o[r-2]+" < "+t[r-2]+" &&\n            "+o[r-1]+" < "+t[r-1]+") {\n          result.b = getValue("+o+");\n        }\n        setOutput(result);\n      }\n    "};function Eh(n,e,t){var r=n.indexOf(e);return n.map(function(i,o){return o===r?i+" - "+t:i}).join()}var qK=function(n){this.variableNames=["x","dy"],this.outputShape=n.filterShape;var e=n.strideHeight,t=n.strideWidth,r=n.padInfo.top,i=n.padInfo.left,o=n.dataFormat==="channelsLast";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+n.batchSize+"; b++) {\n          for (int yR = 0; yR < "+n.outHeight+"; yR++) {\n            int xR = wR + yR * "+e+" - "+r+";\n\n            if (xR < 0 || xR >= "+n.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+n.outWidth+"; yC++) {\n              int xC = wC + yC * "+t+" - "+i+";\n\n              if (xC < 0 || xC >= "+n.inWidth+") {\n                continue;\n              }\n\n              if ("+o+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},GK=function(n){this.variableNames=["dy","W"],this.outputShape=n.inShape;var e=n.filterHeight,t=n.filterWidth,r=n.strideHeight,i=n.strideWidth,o=n.dataFormat==="channelsLast",a=e-1-n.padInfo.top,s=t-1-n.padInfo.left,l=o?1:2,c=o?2:3,u=o?3:1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+u+"];\n\n        ivec2 dyCorner = ivec2(coords["+l+"], coords["+c+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+n.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+t+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+t+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+n.outChannels+"; d2++) {\n\n              if ("+o+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},KK=function(n){this.variableNames=["x","dy"],this.outputShape=n.filterShape;var e=n.strideDepth,t=n.strideHeight,r=n.strideWidth,i=n.padInfo.front,o=n.padInfo.top,a=n.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+n.batchSize+"; b++) {\n          for (int yF = 0; yF < "+n.outDepth+"; yF++) {\n            int xF = wF + yF * "+e+" - "+i+";\n\n            if (xF < 0 || xF >= "+n.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+n.outHeight+"; yR++) {\n              int xR = wR + yR * "+t+" - "+o+";\n\n              if (xR < 0 || xR >= "+n.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+n.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+a+";\n\n                if (xC < 0 || xC >= "+n.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},YK=function(n){this.variableNames=["dy","W"],this.outputShape=n.inShape;var e=n.filterDepth,t=n.filterHeight,r=n.filterWidth,i=n.strideDepth,o=n.strideHeight,a=n.strideWidth,s=e-1-n.padInfo.front,l=t-1-n.padInfo.top,c=r-1-n.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+l+", "+c+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+e+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+i+".0;\n\n          if (dyF < 0.0 || dyF >= "+n.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+e+" - 1 - wF;\n\n          for (int wR = 0; wR < "+t+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+o+".0;\n\n            if (dyR < 0.0 || dyR >= "+n.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+t+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+n.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},XK=function(n){this.variableNames=["x","dy"],this.outputShape=n.filterShape;var e=n.strideHeight,t=n.strideWidth,r=n.padInfo.top,i=n.padInfo.left,o=n.outChannels/n.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+o+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+n.batchSize+"; b++) {\n          for (int yR = 0; yR < "+n.outHeight+"; yR++) {\n            int xR = wR + yR * "+e+" - "+r+";\n\n            if (xR < 0 || xR >= "+n.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+n.outWidth+"; yC++) {\n              int xC = wC + yC * "+t+" - "+i+";\n\n              if (xC < 0 || xC >= "+n.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ZK=function(n){this.variableNames=["dy","W"],this.outputShape=n.inShape;var e=n.filterHeight,t=n.filterWidth,r=n.strideHeight,i=n.strideWidth,o=e-1-n.padInfo.top,a=t-1-n.padInfo.left,s=n.outChannels/n.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+n.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+t+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+t+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},j_=function(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=n.outShape;var i=n.padInfo.top,o=n.padInfo.left,a=n.strideHeight,s=n.strideWidth,l=n.dilationHeight,c=n.dilationWidth,u=n.filterHeight,d=n.filterWidth,h=4*Math.floor(n.inChannels/4),f=n.inChannels%4,p=n.dataFormat==="channelsLast",m=p?1:2,b=p?2:3,g=p?3:1,v="",x="";t&&(v=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+t+"\n        }":"\n          float activation(float x) {\n            "+t+"\n          }\n        ",x="result = activation(result);");var y=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+v+"\n\n      const ivec2 strides = ivec2("+a+", "+s+");\n      const ivec2 pads = ivec2("+i+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+g+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+m+"], coords["+b+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+u+"; wR++) {\n          int xR = xRCorner + wR * "+l+";\n\n          if (xR < 0 || xR >= "+n.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+d+"; wC++) {\n            int xC = xCCorner + wC * "+c+";\n\n            if (xC < 0 || xC >= "+n.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+h+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+p+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(f===1)+") {\n\n              if ("+p+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+h+") *\n                    getW(wR, wC, "+h+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+h+", xR, xC) *\n                    getW(wR, wC, "+h+", d2);\n              }\n\n            } else if ("+(f===2)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+h+", d2),\n                getW(wR, wC, "+h+" + 1, d2)\n              );\n\n              if ("+p+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+h+"),\n                  getX(batch, xR, xC, "+h+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+h+", xR, xC),\n                  getX(batch, "+h+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(f===3)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+h+", d2),\n                getW(wR, wC, "+h+" + 1, d2),\n                getW(wR, wC, "+h+" + 2, d2)\n              );\n\n              if ("+p+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+h+"),\n                  getX(batch, xR, xC, "+h+" + 1),\n                  getX(batch, xR, xC, "+h+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+h+", xR, xC),\n                  getX(batch, "+h+" + 1, xR, xC),\n                  getX(batch, "+h+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+y+"\n        "+x+"\n        setOutput(result);\n      }\n    "},JK=function(n){this.variableNames=["x","W"],this.outputShape=n.outShape;var e=n.padInfo.front,t=n.padInfo.top,r=n.padInfo.left,i=n.strideDepth,o=n.strideHeight,a=n.strideWidth,s=n.dilationDepth,l=n.dilationHeight,c=n.dilationWidth,u=n.filterDepth,d=n.filterHeight,h=n.filterWidth,f=4*Math.floor(n.inChannels/4),p=n.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+i+", "+o+", "+a+");\n      const ivec3 pads = ivec3("+e+", "+t+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+u+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+n.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+d+"; wR++) {\n            int xR = xRCorner + wR * "+l+";\n\n            if (xR < 0 || xR >= "+n.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+h+"; wC++) {\n              int xC = xCCorner + wC * "+c+";\n\n              if (xC < 0 || xC >= "+n.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+f+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(p===1)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+f+") *\n                  getW(wF, wR, wC, "+f+", d2);\n              } else if ("+(p===2)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(p===3)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1),\n                  getX(batch, xF, xR, xC, "+f+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2),\n                  getW(wF, wR, wC, "+f+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},N_=function(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=n.outShape;var i=n.inHeight,o=n.inWidth,a=n.padInfo.top,s=n.padInfo.left,l=n.strideHeight,c=n.strideWidth,u=n.dilationHeight,d=n.dilationWidth,h=n.filterHeight,f=n.filterWidth,p=n.outChannels/n.inChannels,m="",b="";t&&(m=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+t+"\n        }":"\n          float activation(float x) {\n            "+t+"\n          }\n        ",b="result = activation(result);");var g=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+m+"\n\n      const ivec2 strides = ivec2("+l+", "+c+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+p+";\n        int q = d2 - d1 * "+p+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+h+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+i+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+d+";\n\n            if (xC < 0 || xC >= "+o+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+g+"\n        "+b+"\n        setOutput(result);\n      }\n    "},F_=function(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.outShape;for(var i=n.inHeight,o=n.inWidth,a=n.padInfo.top,s=n.padInfo.left,l=n.strideHeight,c=n.strideWidth,u=n.dilationHeight,d=n.dilationWidth,h=n.filterHeight,f=n.filterWidth,p=f,m="int xR; int xC; int xCOffset;",b=0;b<h;b++)for(var g=0;g<f;g++)m+="\n          vec4 xTexelR"+b+"C"+2*g+" = vec4(0.);\n          vec4 wR"+b+"C"+g+" = vec4(0.);\n          vec4 xR"+b+"C"+g+" = vec4(0.);";for(b=0;b<h;b++)for(var v=0;v<p;v++){if(m+="\n          xR = xRCorner + "+b*u+";\n          xC = xCCorner + "+(g=2*v)*d+";\n        ",c===1){if(g<f&&(m+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+b+"C"+g+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+o+") {\n                    xTexelR"+b+"C"+g+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+b+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+o+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+o+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+b+"C"+g+" = vec4(previous.zw, xTexelR"+b+"C"+g+".xy);\n                } else {\n                  xR"+b+"C"+g+" = vec4(0, 0, xTexelR"+b+"C"+g+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+i+" && xC >= 0 && xC < "+o+") {\n                  xTexelR"+b+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+b+"C"+g+" = vec4(0.);\n                }\n\n                xR"+b+"C"+g+" = xTexelR"+b+"C"+g+";\n              ",g+1<f)){var x=s%2==0?w6(d):d;d%2==0&&s%2==1||d%2!=0&&s%2!=1?(m+="\n                  xCOffset = xC + "+s%2+" + "+x+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+o+") {\n                    xTexelR"+b+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",d>1&&(m+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+i+" &&\n                      xCOffset >= 0 && xCOffset < "+o+") {\n                      xTexelR"+b+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+b+"C"+g+" = vec4(0.);\n                    }\n                  "),m+="\n                  xR"+b+"C"+(g+1)+" = vec4(\n                    xTexelR"+b+"C"+g+".zw, xTexelR"+b+"C"+(g+2)+".xy);\n                "):m+="\n                  xCOffset = xC + "+x+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+o+") {\n                    xTexelR"+b+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+b+"C"+(g+1)+" = xTexelR"+b+"C"+(g+2)+";\n                "}}else g<f&&(m+="\n              if(xR >= 0 && xR < "+i+") {\n            ",s%2==1?(m+="\n                xCOffset = xC + 1 - "+c+";\n                if(xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+b+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+b+"C"+g+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+o+") {\n                  xTexelR"+b+"C"+(g+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+b+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+b+"C"+g+" = vec4(\n                  xTexelR"+b+"C"+g+".zw, xTexelR"+b+"C"+(g+2)+".zw);\n              ",g+1<f&&(m+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+c+";\n                  if(xCOffset >= 0 && xCOffset < "+o+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+b+"C"+(g+1)+" = vec4(xTexelR"+b+"C"+(g+2)+".xy, final.xy);\n                ")):(m+="\n                if(xC >= 0 && xC < "+o+") {\n                  xTexelR"+b+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+b+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+c+";\n                if(xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+b+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+b+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+b+"C"+g+" = vec4(\n                  xTexelR"+b+"C"+g+".xy, xTexelR"+b+"C"+(g+2)+".xy);\n              ",g+1<f&&(m+="\n                  xR"+b+"C"+(g+1)+" = vec4(\n                    xTexelR"+b+"C"+g+".zw, xTexelR"+b+"C"+(g+2)+".zw);\n                ")),m+="}");g<f&&(m+="\n            vec4 wTexelR"+b+"C"+g+" = getW("+b+", "+g+", d1, q);\n            wR"+b+"C"+g+" = vec4(wTexelR"+b+"C"+g+".xz, wTexelR"+b+"C"+g+".xz);\n          ",g+1<f&&(m+="\n              vec4 wTexelR"+b+"C"+(g+1)+" = getW("+b+", "+(g+1)+", d1, q);\n              wR"+b+"C"+(g+1)+" =\n                vec4(wTexelR"+b+"C"+(g+1)+".xz, wTexelR"+b+"C"+(g+1)+".xz);"))}for(b=0;b<h;b++)for(g=0;g<f;g++)m+="dotProd += xR"+b+"C"+g+" * wR"+b+"C"+g+";";var y="",w="";t&&(y=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+t+"\n        }":"vec4 activation(vec4 x) {\n          "+t+"\n        }",w="result = activation(result);");var k=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+l+", "+c+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+m+"\n\n        vec4 result = dotProd;\n        "+k+"\n        "+w+"\n        setOutput(result);\n      }\n    "},QK=function(n,e,t,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=n[0],a=n[1],s=n[2],l=n[3],c=e[0],u=t[0],d=t[1];this.outputShape=[c,u,d,l];var h=r==="bilinear"?1:0,f=[a-1+".0",s-1+".0"],p=f[0],m=f[1],b=u>1?[""+(a-1)/(u-1),"(y2-y1) * height_ratio","y1*"+p+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+p],g=b[0],v=b[1],x=b[2],y=d>1?[""+(s-1)/(d-1),"(x2-x1) * width_ratio","x1*"+m+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+m],w=y[0],k=y[1],_=y[2];this.userCode="\n      const float height_ratio = float("+g+");\n      const float width_ratio = float("+w+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+o+") {\n          return;\n        }\n\n        float height_scale = "+v+";\n        float width_scale = "+k+";\n\n        float in_y = "+x+";\n        if( in_y < 0.0 || in_y > "+p+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n        float in_x = "+_+";\n        if( in_x < 0.0 || in_x > "+m+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+h+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},eY=function(n,e,t){this.variableNames=["x"],this.outputShape=n;var r=n.length,i=n[n.length-1],o=t?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(t?"return "+i+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+kt(r)+" coords = getOutputCoords();\n        int end = "+$_(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+i+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+o+" end) {\n            continue;\n          }\n          if (idx == end && "+e+") {\n            continue;\n          }\n          "+$_(r,"coords")+" = idx;\n          val += getX("+function(a,s){if(a===1)return""+s;if(a===2)return s+".x, "+s+".y";if(a===3)return s+".x, "+s+".y, "+s+".z";if(a===4)return s+".x, "+s+".y, "+s+".z, "+s+".w";throw Error("Cumulative sum for rank "+a+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function $_(n,e){if(n===1)return""+e;if(n===2)return e+".y";if(n===3)return e+".z";if(n===4)return e+".w";throw Error("Cumulative sum for rank "+n+" is not yet supported")}var tY=function(n){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=ed.DENSE;var e=ku(n),t=On();this.outputShape=n,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+es(["r","c","d"],n)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+e[0]+", "+e[1]+"));\n        int index = 4 * (resTexRC.x * "+e[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+t.output+" = result;\n      }\n    "},nY=function(n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=ed.DENSE;var e=ku(n),t=On();this.outputShape=n,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+es(["r","c","d"],n)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+e[0]+", "+e[1]+"));\n        int index = 4 * (resTexRC.x * "+e[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+t.output+" = result;\n      }\n    "},rY=function(){function n(e,t,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return n.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},n.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},n.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},n.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},n.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},n}(),iY=function(n){this.variableNames=["X"],this.outputShape=[n,n],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},oY=function(n){this.variableNames=["A"],this.outTexUsage=yr.DOWNLOAD;var e=On();this.outputShape=n,this.userCode="\n      "+eT+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+e.output+" = encode_float(x);\n      }\n    "},aY=function(n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=yr.DOWNLOAD;var e=On();this.outputShape=n,this.userCode="\n      "+eT+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+e.output+" = encode_float(x);\n      }\n    "},sY=function(n,e,t){t===void 0&&(t=!1),this.variableNames=["A"];var r=On(),i=e[0],o=e[1];this.outputShape=n;var a="result";t&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      "+i1(n)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+o+";\n        int c = imod(flatIndex, "+o+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+o+".0, "+i+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+a+", 0., 0., 0.);\n      }\n    "},lY=function(n,e,t){t===void 0&&(t=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=On(),i=e[0],o=e[1];this.outputShape=n;var a="",s="result";t&&(s="floor(result * 255. + 0.5)");for(var l=0;l<=1;l++)for(var c=0;c<=1;c++){var u=2*l+c;a+="\n          localCoords = coords;\n          if(localCoords[2] + "+c+" < "+n[2]+") {\n            localCoords[2] += "+c+";\n            if(localCoords[1] + "+l+" < "+n[1]+") {\n              localCoords[1] += "+l+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+o+";\n              c = imod(flatIndex, "+o+");\n              uv = (vec2(c, r) + halfCR) / vec2("+o+".0, "+i+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+u+"] = values[0];\n              } else if(offset == 1) {\n                result["+u+"] = values[1];\n              } else if(offset == 2) {\n                result["+u+"] = values[2];\n              } else {\n                result["+u+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+i1(n)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+a+"\n\n        "+r.output+" = "+s+";\n      }\n    "},cY="return real * expR - imag * expI;",uY="return real * expI + imag * expR;",U_=function(n,e,t){this.variableNames=["real","imag"];var r=e[1];this.outputShape=e;var i=t?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,o=t?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+i+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+n+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+o+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},dY=function(){function n(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return n.prototype.getCustomSetupFunc=function(e){var t=this;return function(r,i){t.valueLoc==null&&(t.valueLoc=r.getUniformLocationNoThrow(i,"value")),r.gl.uniform1f(t.valueLoc,e)}},n}(),hY=function(n,e,t){this.variableNames=["A","indices"];var r=n.slice();r[t]=e,this.outputShape=r,this.rank=r.length;var i=kt(this.rank),o=function(a,s){var l=a.length;if(l>4)throw Error("Gather for rank "+l+" is not yet supported");if(l===1)return"int(getIndices(resRC))";for(var c=["resRC.x","resRC.y","resRC.z","resRC.w"],u=[],d=0;d<a.length;d++)d===s?u.push("int(getIndices("+c[d]+"))"):u.push(""+c[d]);return u.join()}(n,t);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},fY=function(n,e,t){this.sliceDim=n,this.strides=e,this.variableNames=["x","indices"],this.outputShape=t;var r=kt(e.length),i=kt(t.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+i+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+o+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function pY(n,e){var t=On();return cG(n,e,t.version+"\n    precision highp float;\n    "+t.attribute+" vec3 clipSpacePos;\n    "+t.attribute+" vec2 uv;\n    "+t.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function mY(n,e){return pG(n,e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function gY(n,e){return mG(n,e,new Uint16Array([0,1,2,2,1,3]))}function Pd(n,e,t,r,i,o,a){bG(t,r);var s=gG(n,e),l=n.TEXTURE_2D;return Ie(n,e,function(){return n.bindTexture(l,s)}),Ie(n,e,function(){return n.texParameteri(l,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE)}),Ie(n,e,function(){return n.texParameteri(l,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)}),Ie(n,e,function(){return n.texParameteri(l,n.TEXTURE_MIN_FILTER,n.NEAREST)}),Ie(n,e,function(){return n.texParameteri(l,n.TEXTURE_MAG_FILTER,n.NEAREST)}),Ie(n,e,function(){return n.texImage2D(l,0,i,t,r,0,o,a,null)}),Ie(n,e,function(){return n.bindTexture(n.TEXTURE_2D,null)}),s}function bY(n,e,t,r,i){var o=Am(t,r);return Pd(n,e,o[0],o[1],i.internalFormatFloat,i.textureFormatFloat,n.FLOAT)}function vY(n,e,t,r,i){var o=Am(t,r);return Pd(n,e,o[0],o[1],i.internalFormatHalfFloat,i.textureFormatFloat,i.textureTypeHalfFloat)}function xY(n,e,t,r,i){var o=Am(t,r);return Pd(n,e,o[0],o[1],n.RGBA,n.RGBA,n.UNSIGNED_BYTE)}function yY(n,e,t,r,i){var o=Md(t,r);return Pd(n,e,o[0],o[1],i.internalFormatPackedFloat,n.RGBA,n.FLOAT)}function wY(n,e,t,r,i){var o=Md(t,r);return Pd(n,e,o[0],o[1],i.internalFormatPackedHalfFloat,n.RGBA,i.textureTypeHalfFloat)}function kY(n,e,t,r){return Ie(n,e,function(){return n.bindBuffer(n.ARRAY_BUFFER,r)}),I_(n,e,t,"clipSpacePos",r,3,20,0)&&I_(n,e,t,"uv",r,2,20,12)}function _Y(n,e,t,r,i,o,a){var s,l,c;Ie(n,e,function(){return n.bindTexture(n.TEXTURE_2D,t)}),o instanceof Uint8Array?(s=new Uint8Array(r*i*4),l=n.UNSIGNED_BYTE,c=n.RGBA):(s=new Float32Array(r*i*4),l=n.FLOAT,c=a.internalFormatPackedFloat),s.set(o),Ie(n,e,function(){return n.texImage2D(n.TEXTURE_2D,0,c,r,i,0,n.RGBA,l,s)}),Ie(n,e,function(){return n.bindTexture(n.TEXTURE_2D,null)})}function CY(n,e,t,r){Ie(n,e,function(){return n.bindTexture(n.TEXTURE_2D,t)}),r.data instanceof Uint8Array?Ie(n,e,function(){return n.texImage2D(n.TEXTURE_2D,0,n.RGBA,r.width,r.height,0,n.RGBA,n.UNSIGNED_BYTE,r.data)}):Ie(n,e,function(){return n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r)}),Ie(n,e,function(){return n.bindTexture(n.TEXTURE_2D,null)})}function EY(n,e,t,r,i){var o=n.createBuffer();Ie(n,e,function(){return n.bindBuffer(n.PIXEL_PACK_BUFFER,o)});var a=16*t*r;return Ie(n,e,function(){return n.bufferData(n.PIXEL_PACK_BUFFER,a,n.STREAM_READ)}),Ie(n,e,function(){return n.readPixels(0,0,r,t,n.RGBA,n.FLOAT,0)}),Ie(n,e,function(){return n.bindBuffer(n.PIXEL_PACK_BUFFER,null)}),o}function SY(n,e,t){var r=n,i=new Float32Array(t);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function TY(n,e,t,r,i){var o=Am(t,r),a=o[0],s=o[1],l=new Uint8Array(t*r*4);return Ie(n,e,function(){return n.readPixels(0,0,a,s,i.downloadTextureFormat,n.UNSIGNED_BYTE,l)}),new Float32Array(l.buffer)}function AY(n,e,t,r,i,o,a,s){var l=n,c=new Float32Array(function(u,d){var h=Md(u,d);return h[0]*h[1]*4}(o,a));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}function IY(n,e,t,r){var i=new Float32Array(t*r*4);return Ie(n,e,function(){return n.readPixels(0,0,r,t,n.RGBA,n.FLOAT,i)}),i}var RY=function(){function n(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=oe().getNumber("WEBGL_VERSION");e!=null?(this.gl=e,iG(t,e)):this.gl=Gi(t);var r="WEBGL_color_buffer_float";if(oe().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=wh(this.gl,this.debug,"OES_texture_float"),Gr(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=wh(this.gl,this.debug,"OES_texture_half_float");else if(oe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Gr(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=wh(this.gl,this.debug,"EXT_color_buffer_half_float");else if(oe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Gr(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!Gr(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=mY(this.gl,this.debug),this.indexBuffer=gY(this.gl,this.debug),this.framebuffer=vG(this.gl,this.debug),this.textureConfig=Ky(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(n.prototype,"debug",{get:function(){return oe().getBool("DEBUG")},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){var e=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;Ie(t,this.debug,function(){return t.finish()}),Ie(t,this.debug,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),Ie(t,this.debug,function(){return t.deleteFramebuffer(e.framebuffer)}),Ie(t,this.debug,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),Ie(t,this.debug,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),Ie(t,this.debug,function(){return t.deleteBuffer(e.indexBuffer)}),this.disposed=!0}},n.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),bY(this.gl,this.debug,e,t,this.textureConfig)},n.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),vY(this.gl,this.debug,e,t,this.textureConfig)},n.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),xY(this.gl,this.debug,e,t,this.textureConfig)},n.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),CY(this.gl,this.debug,e,t)},n.prototype.uploadDenseMatrixToTexture=function(e,t,r,i){this.throwIfDisposed(),_Y(this.gl,this.debug,e,t,r,i,this.textureConfig)},n.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),wY(this.gl,this.debug,e,t,this.textureConfig)},n.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),yY(this.gl,this.debug,e,t,this.textureConfig)},n.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(R_(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Ie(this.gl,this.debug,function(){return t.gl.deleteTexture(e)})},n.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,r){var i=this;return this.downloadMatrixDriver(e,function(){return TY(i.gl,i.debug,t,r,i.textureConfig)})},n.prototype.downloadPackedMatrixFromBuffer=function(e,t,r,i,o,a){return AY(this.gl,e,0,0,0,o,a,this.textureConfig)},n.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return SY(this.gl,e,t)},n.prototype.createBufferFromTexture=function(e,t,r){this.bindTextureToFrameBuffer(e);var i=EY(this.gl,this.debug,t,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),i},n.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},n.prototype.createFence=function(e){var t,r,i=this;if(oe().getBool("WEBGL_FENCE_API_ENABLED")){var o=e,a=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=function(){var s=o.clientWaitSync(a,0,0);return s===o.ALREADY_SIGNALED||s===o.CONDITION_SATISFIED},t=a}else oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),r=function(){return i.isQueryAvailable(t,oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:t,isFencePassed:r}},n.prototype.downloadMatrixFromPackedTexture=function(e,t,r){var i=this;return this.downloadMatrixDriver(e,function(){return IY(i.gl,i.debug,t,r)})},n.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,r=uG(t,this.debug,e),i=pY(t,this.debug),o=hG(t,this.debug);return Ie(t,this.debug,function(){return t.attachShader(o,i)}),Ie(t,this.debug,function(){return t.attachShader(o,r)}),fG(t,this.debug,o),this.debug&&h0(t,this.debug,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=kY(t,this.debug,this.program,this.vertexBuffer)),o},n.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&Ie(this.gl,this.debug,function(){return t.gl.deleteProgram(e)})},n.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&h0(this.gl,this.debug,this.program),Ie(this.gl,this.debug,function(){return t.gl.useProgram(e)})},n.prototype.getUniformLocation=function(e,t,r){return r===void 0&&(r=!0),this.throwIfDisposed(),r?yG(this.gl,this.debug,e,t):wG(this.gl,e,t)},n.prototype.getAttributeLocation=function(e,t){var r=this;return this.throwIfDisposed(),Ie(this.gl,this.debug,function(){return r.gl.getAttribLocation(e,t)})},n.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},n.prototype.setInputMatrixTexture=function(e,t,r){this.throwIfDisposed(),this.throwIfNoProgram(),kG(this.gl,this.debug,this.program,e,t,r)},n.prototype.setOutputMatrixTexture=function(e,t,r){this.setOutputMatrixTextureDriver(e,r,t)},n.prototype.setOutputPackedMatrixTexture=function(e,t,r){this.throwIfDisposed();var i=Md(t,r),o=i[0],a=i[1];this.setOutputMatrixTextureDriver(e,o,a)},n.prototype.setOutputMatrixWriteRegion=function(e,t,r,i){this.setOutputMatrixWriteRegionDriver(r,e,i,t)},n.prototype.setOutputPackedMatrixWriteRegion=function(e,t,r,i){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},n.prototype.debugValidate=function(){this.program!=null&&h0(this.gl,this.debug,this.program),kh(this.gl)},n.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),Ie(e,this.debug,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},n.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),Ie(this.gl,this.debug,function(){return e.gl.finish()})},n.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=wh(this.gl,this.debug,oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},n.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},n.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},n.prototype.beginQuery=function(){if(oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),r=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,r),r}var i=this.getQueryTimerExtensionWebGL1(),o=i.createQueryEXT();return i.beginQueryEXT(i.TIME_ELAPSED_EXT,o),o},n.prototype.endQuery=function(){if(oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,r=this.getQueryTimerExtensionWebGL2();t.endQuery(r.TIME_ELAPSED_EXT)}},n.prototype.waitForQueryAndGetTime=function(e){return Ee(this,void 0,void 0,function(){var t=this;return Se(this,function(r){switch(r.label){case 0:return[4,__(function(){return t.disposed||t.isQueryAvailable(e,oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(e,oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},n.prototype.getQueryTime=function(e,t){if(t===0)return null;if(t===2){var r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}var i=this.getQueryTimerExtensionWebGL1();return i.getQueryObjectEXT(e,i.QUERY_RESULT_EXT)/1e6},n.prototype.isQueryAvailable=function(e,t){if(t===0)return!0;if(t===2){var r=this.gl,i=this.getQueryTimerExtensionWebGL2(),o=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),o&&!this.disjoint}return o=(i=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,i.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),o&&!this.disjoint},n.prototype.pollFence=function(e){var t=this;return new Promise(function(r){t.addItemToPoll(function(){return e.isFencePassed()},function(){return r()})})},n.prototype.pollItems=function(){for(var e=function(r){for(var i=0;i<r.length&&r[i]();++i);return i-1}(this.itemsToPoll.map(function(r){return r.isDoneFn})),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},n.prototype.addItemToPoll=function(e,t){var r=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||__(function(){return r.pollItems(),r.itemsToPoll.length===0})},n.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),f0(this.gl,this.debug,e,this.framebuffer),this.debug&&kh(this.gl)},n.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(f0(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&kh(this.gl)):R_(this.gl,this.debug,this.framebuffer)},n.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var r=t();return this.unbindTextureToFrameBuffer(),r},n.prototype.setOutputMatrixTextureDriver=function(e,t,r){this.throwIfDisposed();var i=this.gl;f0(i,this.debug,e,this.framebuffer),this.debug&&kh(i),this.outputTexture=e,Ie(i,this.debug,function(){return i.viewport(0,0,t,r)}),Ie(i,this.debug,function(){return i.scissor(0,0,t,r)})},n.prototype.setOutputMatrixWriteRegionDriver=function(e,t,r,i){var o=this;this.throwIfDisposed(),Ie(this.gl,this.debug,function(){return o.gl.scissor(e,t,r,i)})},n.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},n.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},n}();function H_(n,e){if(n.length!==e.length)throw Error("Binary was compiled with "+n.length+" inputs, but was executed with "+e.length+" inputs");n.forEach(function(t,r){var i=t.logicalShape,o=e[r],a=o.shape;if(!mn(i,a))throw Error("Binary was compiled with different shapes than the current args. Shapes "+i+" and "+a+" must match");if(!t.isUniform||!o.isUniform){var s=t.texShape,l=o.isUniform?null:o.texData.texShape;if(!mn(s,l))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+s+" and "+l+" must match")}})}var DY=function(n,e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n;for(var r=t.filterWidth,i=t.inChannels,o=t.strideWidth,a=t.strideHeight,s=t.padInfo,l=t.outWidth,c=t.dilationWidth,u=t.dilationHeight,d=t.dataFormat,h=s.left,f=s.top,p=i*r,m=On(),b=d==="channelsLast",g=b?0:1,v=b?1:2,x="",y=0;y<=1;y++)for(var w=0;w<=1;w++)x+="\n          blockIndex = rc.y + "+w+";\n          pos = rc.x + "+y+";\n\n          if(blockIndex < "+n[1]+" && pos < "+n[0]+") {\n            offsetY = int(blockIndex / ("+l+")) * "+a+" - "+f+";\n            d0 = offsetY + "+u+" * (pos / "+p+");\n\n            if(d0 < "+e[g]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+l+".) * "+o+". - "+h+".);\n              d1 = offsetX + "+c+" * (int(mod(float(pos), "+p+".) / "+i+".));\n\n              if(d1 < "+e[v]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+i+".));\n\n                if ("+b+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*y+w)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*y+w)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+x+"\n\n        "+m.output+" = result;\n      }\n    "},OY=function(n,e,t,r,i){this.variableNames=["x"],this.outputShape=[];var o,a=e,s=n[3]-1;this.outputShape=n;var l="float("+t+") + float("+r+") * sum";o=i===.5?"inversesqrt("+l+")":i===1?"1.0/("+l+")":"exp(log("+l+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+o+";\n        setOutput(val);\n      }\n    "},MY=function(n,e,t,r,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=n,this.depth=n[3],this.depthRadius=e,this.bias=t,this.alpha=r,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+e+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+e+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+t+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+i+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+i+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},PY=function(n,e,t,r,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,a=e,s=n[3]-1;this.outputShape=n;var l="float("+t+") + float("+r+") * sum";o=i===.5?"inversesqrt("+l+")":i===1?"1.0/("+l+")":"exp(log("+l+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+a+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+a+"; j <= "+a+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+o+";\n        setOutput(result);\n      }\n    "},BY=function(n){this.variableNames=["dy","maxPos"],this.outputShape=n.inShape;var e=n.strideHeight,t=n.strideWidth,r=n.dilationHeight,i=n.effectiveFilterHeight,o=n.effectiveFilterWidth,a=i-1-n.padInfo.top,s=o-1-n.padInfo.left,l=i*o-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+i+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+e+".0;\n\n          if (dyR < 0.0 || dyR >= "+n.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+o+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+t+".0;\n\n            if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+l+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+o+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},zY=function(n){this.variableNames=["dy","maxPos"],this.outputShape=n.inShape;var e=n.strideDepth,t=n.strideHeight,r=n.strideWidth,i=n.dilationDepth,o=n.dilationHeight,a=n.dilationWidth,s=n.effectiveFilterDepth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,u=s-1-n.padInfo.front,d=l-1-n.padInfo.top,h=c-1-n.padInfo.left,f=s*l*c-1;this.userCode="\n      const ivec3 pads = ivec3("+u+", "+d+", "+h+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+i+") {\n          float dyD = float(dyDCorner + wD) / "+e+".0;\n\n          if (dyD < 0.0 || dyD >= "+n.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+o+") {\n            float dyR = float(dyRCorner + wR) / "+t+".0;\n\n            if (dyR < 0.0 || dyR >= "+n.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+a+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+f+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+l+" * "+c+" +\n                  wR * "+c+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},v0=function(n,e,t,r,i,o,a){t===void 0&&(t=!1),r===void 0&&(r=!1),i===void 0&&(i=!1),o===void 0&&(o=null),a===void 0&&(a=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;var s=t?n[1]:n[2],l=Math.ceil(s/2),c=t?"i * 2, rc.y":"rc.y, i * 2",u=r?"rc.z, i * 2":"i * 2, rc.z",d=t?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],f="",p="";o&&(f=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+o+"\n        }":"vec4 activation(vec4 x) {\n          "+o+"\n        }",p="result = activation(result);");var m=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+f+"\n\n      const float sharedDimension = "+l+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+l+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+c+");\n          vec4 b = getMatrixB(rc.x, "+u+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+d[0]+" * "+h[0]+");\n          result += ("+d[1]+" * "+h[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+m+"\n\n        "+p+"\n\n        setOutput(result);\n      }\n    "},LY=function(){function n(e,t,r){this.variableNames=["probs"],this.outputShape=[e,r],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return n.prototype.getCustomSetupFunc=function(e){var t=this;return function(r,i){t.seedLoc==null&&(t.seedLoc=r.getUniformLocation(i,"seed")),r.gl.uniform1f(t.seedLoc,e)}},n}(),jY=function(n,e,t,r){this.variableNames=["indices"],this.outputShape=[n,e],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+t+"),\n                      float(index == coords.y)));\n      }\n    "},NY=function(n){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=n;var e=n.length;if(e===0)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var t=tr("rc",e),r=kt(e),i=function(s,l,c){if(s===1)return"rc > "+l[0];for(var u="",d=s-2;d<s;d++)u+=c[d]+" >= "+l[d],d<s-1&&(u+="||");return u}(e,n,t),o=function(s,l,c,u){if(s===1)return"";var d=u.slice(-2);return"\n    int r = "+d[0]+";\n    int c = "+d[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+l+";\n    bool rEdge = rp1 >= "+c+";\n  "}(e,n[n.length-1],n[n.length-2],t),a=function(s,l){var c=s.length,u=function(d,h){for(var f=[],p=0;p<=1;p++)for(var m=0;m<=1;m++){for(var b=(p===0?"r":"rp1")+", "+(m===0?"c":"cp1"),g=2;g<d;g++)b=h[h.length-1-g]+","+b;f.push(b)}return f}(c,l);return c===1?"getA(rc),\n            rc + 1 >= "+s[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+u[0]+"),\n          cEdge ? 0. : getA("+u[1]+"),\n          rEdge ? 0. : getA("+u[2]+"),\n          rEdge || cEdge ? 0. : getA("+u[3]+")"}(n,t);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+i+") {\n            setOutput(vec4(0));\n          } else {\n            "+o+"\n\n            setOutput(vec4("+a+"));\n          }\n        }\n      "}},FY=function(n,e,t){this.variableNames=["x"],this.outputShape=e.map(function(l,c){return l[0]+n[c]+l[1]});var r=n.length,i=kt(r),o=e.map(function(l){return l[0]}).join(","),a=e.map(function(l,c){return l[0]+n[c]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=r!==1?"\n      "+i+" start = "+i+"("+o+");\n      "+i+" end = "+i+"("+a+");\n\n      void main() {\n        "+i+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+t+"));\n        } else {\n          "+i+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+o+";\n        int end = "+a+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+t+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},$Y=function(n,e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.map(function(b,g){return b[0]+n[g]+b[1]});for(var r=n.length,i=kt(r),o=e.map(function(b){return b[0]}).join(","),a=e.map(function(b,g){return b[0]+n[g]}).join(","),s=tr("rc",r),l=tr("source",r),c=s[r-1]+" < "+this.outputShape[r-1],u=r===1?"source":"vec2("+l.slice(-2).join()+")",d=[i+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+c+") {\n      ",r===1?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",r===1?"":"  "+s[r-1]+" += 1;\n         if("+c+") {"],h=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",f="",p=0,m=r===1?2:4;p<m;p++)f+="\n        "+d[p]+"\n        if ("+h+") {\n          result["+p+"] = float("+t+");\n        } else {\n          "+i+" source = rc - start;\n          result["+p+"] = getChannel(getX("+l.join()+"), "+u+");\n        }\n      ";f+=r===1?"} ":"}}",this.userCode="\n      const "+i+" start = "+i+"("+o+");\n      const "+i+" end = "+i+"("+a+");\n\n      void main() {\n        "+i+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+f+"\n        setOutput(result);\n      }\n    "},x0=function(n,e,t){if(this.variableNames=["x"],e==="avg"&&t)throw new Error("Cannot compute positions for average pool.");var r=n.filterWidth,i=n.strideHeight,o=n.strideWidth,a=n.dilationHeight,s=n.dilationWidth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,u=n.padInfo.top,d=n.padInfo.left;this.outputShape=n.outShape;var h=e==="avg",f="0.0";if(h||(f="-1.0 / 1e-20"),t)this.userCode="\n        const ivec2 strides = ivec2("+i+", "+o+");\n        const ivec2 pads = ivec2("+u+", "+d+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+a+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+n.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+n.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+c+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var p=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="avg"&&(p="avgValue / count");var m=4*Math.floor(r/4),b=r%4,g="\n      if ("+h+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+i+", "+o+");\n      const ivec2 pads = ivec2("+u+", "+d+");\n      const float initializationValue = "+f+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+n.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+f+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+l+";\n            wR += "+a+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+n.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+m+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+g+"\n          }\n\n          int xC = xCCorner + "+m+";\n          if ("+(b===1)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(b===2)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(b===3)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+g+"\n          }\n        }\n        setOutput("+p+");\n      }\n    "}},y0=function(n,e,t){if(this.variableNames=["x"],e==="avg"&&t)throw new Error("Cannot compute positions for average pool.");var r=n.filterWidth,i=n.strideDepth,o=n.strideHeight,a=n.strideWidth,s=n.dilationDepth,l=n.dilationHeight,c=n.dilationWidth,u=n.effectiveFilterDepth,d=n.effectiveFilterHeight,h=n.effectiveFilterWidth,f=n.padInfo.front,p=n.padInfo.top,m=n.padInfo.left;this.outputShape=n.outShape;var b=e==="avg",g="0.0";if(b||(g="-1.0 / 1e-20"),t)this.userCode="\n        const ivec3 strides =\n            ivec3("+i+", "+o+", "+a+");\n        const ivec3 pads = ivec3("+f+", "+p+", "+m+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+u+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+n.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+d+";\n                wR += "+l+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+n.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+h+";\n                  wC += "+c+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+n.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+d+" * "+h+" +\n                      wR * "+h+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var v=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="avg"&&(v="avgValue / count");var x=4*Math.floor(r/4),y=r%4,w="\n      if ("+b+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+i+", "+o+", "+a+");\n      const ivec3 pads = ivec3("+f+", "+p+", "+m+");\n      const float initializationValue = "+g+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+n.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+g+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+u+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+n.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+d+";\n            wR += "+l+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+n.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+x+"; wC += 4) {\n              int xC = xCCorner + wC * "+c+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+c+", ch)\n              );\n\n              "+w+"\n            }\n\n            int xC = xCCorner + "+x+";\n            if ("+(y===1)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(y===2)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(y===3)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                initializationValue\n              );\n\n              "+w+"\n            }\n          }\n          setOutput("+v+");\n        }\n      }\n    "}},UY=function(n,e){this.variableNames=["x"];var t=n.windowSize,r=n.batchSize,i=n.inSize,o=Math.ceil(i/t);this.outputShape=[r,o];var a="0.0",s="";e==="prod"?a="1.0":e==="min"?(a="1.0 / 1e-20",s="min"):e==="max"&&(a="-1.0 / 1e-20",s="max");var l=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="sum"?l="sumValue":e==="prod"?l="prodValue":e==="all"?l="allValue":e==="any"&&(l="anyValue");var c=4*Math.floor(t/4),u=t%4,d="\n      if ("+(e==="sum")+") {\n        sumValue += dot(values, ones);\n      } else if ("+(e==="prod")+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",h="vec4";e==="all"?(a="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):e==="any"&&(a="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var f="";i%t>0&&(f="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+a+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+f+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+t+";\n\n        vec4 minMaxValue = vec4("+a+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+c+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+d+"\n        }\n\n        int inIdx = inOffset + "+c+";\n        if ("+(u===1)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+d+"\n        } else if ("+(u===2)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+d+"\n        } else if ("+(u===3)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+d+"\n        }\n        setOutput("+l+");\n      }\n    "},HY=function(n,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n;for(var t="",r=0;r<4;r++){var i="thisRC = rc;";r%2==1&&(i+="thisRC.z += 1;"),r>1&&(i+="thisRC.y += 1;"),t+="\n        "+i+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+es(["r","c","d"],e)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+i1(n)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+n[1]+";\n        int cols = "+n[2]+";\n\n        "+t+"\n\n        setOutput(result);\n      }\n    "},WY=function(n,e,t){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,i=r[1],o=r[2],a=n.shape,s=a[1],l=a[2],c=[t&&s>1?i-1:i,t&&l>1?o-1:o],u=[t&&s>1?s-1:s,t&&l>1?l-1:l],d=c[0]/u[0],h=c[1]/u[1],f=1/d,p=1/h,m=2*Math.ceil(f)+2,b=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+d+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+b+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(o-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},VY=function(n,e,t,r){this.variableNames=["A"],this.outputShape=[];var i=n[0],o=n[1],a=n[2],s=n[3];this.outputShape=[i,e,t,s];var l=[r&&e>1?o-1:o,r&&t>1?a-1:a],c=[r&&e>1?e-1:e,r&&t>1?t-1:t];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/c[0]+",\n          "+l[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+o+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},qY=function(n,e,t,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=n[0],o=n[1],a=n[2],s=n[3];this.outputShape=[i,e,t,s];var l=[r&&e>1?o-1:o,r&&t>1?a-1:a],c=[r&&e>1?e-1:e,r&&t>1?t-1:t];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+l[0]/c[0]+",\n          "+l[1]/c[1]+",\n          "+l[1]/c[1]+");\n      const vec3 inputShapeRC = vec3("+o+".0, "+a+".0,\n                                     "+a+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(t-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},GY=function(n,e,t){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,i=r[1],o=r[2],a=n.shape,s=a[1],l=a[2],c=[t&&s>1?i-1:i,t&&l>1?o-1:o],u=[t&&s>1?s-1:s,t&&l>1?l-1:l],d=c[0]/u[0],h=c[1]/u[1],f=1/d,p=1/h,m=2*Math.ceil(f)+2,b=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+d+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+b+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+c[0]+") *\n                (float(dyR) / float("+u[0]+"));\n\n            float sourceFracCol =\n                float("+c[1]+") *\n                  (float(dyC) / float("+u[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+i+") - 1),\n                "+t+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+o+") - 1),\n                "+t+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},KY=function(n,e,t,r){this.variableNames=["A"],this.outputShape=[];var i=n[0],o=n[1],a=n[2],s=n[3];this.outputShape=[i,e,t,s];var l=[r&&e>1?o-1:o,r&&t>1?a-1:a],c=[r&&e>1?e-1:e,r&&t>1?t-1:t],u=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/c[0]+",\n          "+l[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+o+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+u+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},YY=function(n,e){this.variableNames=["x"];var t=n.length;if(t>4)throw new Error("WebGL backend: Reverse of rank-"+t+" tensor is not yet supported");if(this.outputShape=n,t!==1){var r=n.map(function(o,a){return function(s){return e.indexOf(s)!==-1&&n[s]!==1?n[s]+" - coords["+s+"] - 1":"coords["+s+"]"}(a)}).join(","),i=kt(t);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+n[0]+" - coord - 1));\n        }\n      "},XY=function(n,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var t=n.length;if(t>4)throw new Error("WebGL backend: Reverse of rank-"+t+" tensor is not yet supported");this.outputShape=n;var r=tr("rc",t),i=r[t-1]+" + 1 < "+this.outputShape[t-1],o=r[t-2]+" + 1 < "+this.outputShape[t-2],a=kt(t);function s(l){var c=n.map(function(u,d){return function(h,f){return e.indexOf(h)!==-1&&n[h]!==1?n[h]+" - "+f[h]+" - 1":""+f[h]}(d,l)});return"getChannel(getX("+c.join(",")+"), vec2("+c.slice(-2).join(",")+"))"}this.userCode=t===1?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+n[0]+" - rc - 1),\n            "+n[0]+" - rc - 1);\n          if("+i+"){\n              result.g = getChannel(getX("+n[0]+" - (rc  + 1) - 1),\n                "+n[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+a+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(l){return s(l)}(r.slice())+";\n          if("+i+"){\n            result.g = "+function(l){return l[t-1]="("+l[t-1]+" + 1)",s(l)}(r.slice())+";\n          }\n          if("+o+") {\n            result.b = "+function(l){return l[t-2]="("+l[t-2]+" + 1)",s(l)}(r.slice())+";\n            if("+i+") {\n              result.a = "+function(l){return l[t-1]="("+l[t-1]+" + 1)",l[t-2]="("+l[t-2]+" + 1)",s(l)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},W_=function(n,e,t,r,i,o,a){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=kt(i.length),l=kt(o.length),c="";t===1?c="i":t===2&&(c="i, j");var u="getIndices("+c+")",d="";r===1?d="i":r===2&&(d="i, coords[1]");var h="getUpdates("+d+")",f=e>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+i+");\n\n        void main() {\n          "+l+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+n+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+e+"; j++) {\n              int index = round("+u+");\n              flattenedIndex += index * "+f+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+h+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},ZY=function(n,e){this.variableNames=["x","segmentIds"];var t=n.windowSize,r=n.batchSize,i=n.inSize,o=n.numSegments,a=o*Math.ceil(i/t);this.outputShape=[r,a];var s=4*Math.floor(t/4),l=t%4,c="\n        sumValue += dot(values, segFilter);\n    ",u="";i%t>0&&(u="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var d="";i%t>0&&(d="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+u+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+d+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+o+")) * float("+t+"));\n        int currentSeg = int(mod(float(outIdx), float("+o+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+c+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(l===1)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+c+"\n        } else if ("+(l===2)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+c+"\n        } else if ("+(l===3)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+c+"\n        }\n        setOutput(sumValue);\n      }\n    "},JY=function(n,e,t){var r,i;if(this.variableNames=["c","a","b"],this.outputShape=e,t>4)throw Error("Where for rank "+t+" is not yet supported");if(t===1)i="resRC",r="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],s=[],l=0;l<e.length;l++)s.push(""+o[l]),l<n&&a.push(""+o[l]);r=a.join(),i=s.join()}var c=kt(t);this.userCode="\n      void main() {\n        "+c+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+i+"));\n        } else {\n          setOutput(getB("+i+"));\n        }\n      }\n    "},QY=function(){function n(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,r=kt(this.rank),i="uniform int start["+this.rank+"];",o=function(a){if(a===1)return"sourceLoc";if(a<=6)return w0.slice(0,a).map(function(s){return"sourceLoc."+s}).join(",");throw Error("Slicing for rank "+a+" is not yet supported")}(this.rank);t="\n        "+r+" sourceLoc;\n        "+r+" coords = getOutputCoords();\n        "+e.map(function(a,s){return"sourceLoc."+w0[s]+" = start["+s+"] + coords."+w0[s]+";"}).join("\n")+"\n      ",this.userCode="\n      "+i+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+o+"));\n      }\n    "}return n.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(r,i){t.startLoc==null&&(t.startLoc=r.getUniformLocationNoThrow(i,"start"),t.startLoc==null)||r.gl.uniform1iv(t.startLoc,e)}},n}(),w0=["x","y","z","w","u","v"],eX=function(){function n(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=kt(this.rank),r=tr("coords",this.rank),i=tr("sourceLoc",this.rank),o=this.rank===1?"sourceLoc":"vec2("+i.slice(-2).join()+")",a="getChannel(getSource("+i.join()+"), "+o+")",s="\n      result.x = "+a+";\n      if (++"+r[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+i[this.rank-1]+";\n        result.y = "+a+";\n        --"+i[this.rank-1]+";\n      }\n    ",l=this.rank===1?"":"\n      --"+r[this.rank-1]+";\n      if (++"+r[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+i[this.rank-2]+";\n        result.z = "+a+";\n        if (++"+r[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+i[this.rank-1]+";\n          result.w = "+a+";\n        }\n      }\n    ",c=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map(function(u,d){return"start["+d+"]"}).join()+");":e.map(function(u,d){return i[d]+" = "+r[d]+" + start["+d+"];"}).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+c+"\n        vec4 result = vec4(0.);\n        "+s+"\n        "+l+"\n        setOutput(result);\n      }\n    "}return n.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(r,i){t.startLoc==null&&(t.startLoc=r.getUniformLocationNoThrow(i,"start"),t.startLoc==null)||r.gl.uniform1iv(t.startLoc,e)}},n}(),tX=function(n,e,t){this.variableNames=["x"],this.outputShape=t;var r=t.length,i=kt(t.length),o=kt(t.length),a="";if(r===1)a="coords * strides + begin";else{var s=0;a=t.map(function(l,c){return s++,t.length===1?"coords * strides["+c+"] + begin["+c+"]":"coords["+(s-1)+"] * strides["+c+"] + begin["+c+"]"}).join(",")}this.userCode="\n      "+i+" begin = "+i+"("+n+");\n      "+i+" strides = "+i+"("+e+");\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "},nX=function(){function n(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return n.prototype.acquireTexture=function(e,t,r){var i,o=V_(t,r),a=q_(e,o,r);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[a].shift();return this.usedTextures[a].push(s),s}return this.numUsedTextures++,this.log(),o===vr.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):o===vr.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):o===vr.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):o===vr.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):o===vr.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(i),i},n.prototype.releaseTexture=function(e,t,r,i){if(this.freeTextures!=null){var o=q_(t,V_(r,i),i);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(e),this.numFreeTextures++,this.numUsedTextures--;var a=this.usedTextures[o],s=a.indexOf(e);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");a.splice(s,1),this.log()}},n.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},n.prototype.getNumUsedTextures=function(){return this.numUsedTextures},n.prototype.getNumFreeTextures=function(){return this.numFreeTextures},n.prototype.dispose=function(){var e=this;if(this.freeTextures!=null){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(r){e.gpgpu.deleteMatrixTexture(r)});for(var t in this.usedTextures)this.usedTextures[t].forEach(function(i){e.gpgpu.deleteMatrixTexture(i)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},n}();function V_(n,e){if(n===yr.UPLOAD)return vr.PACKED_2X2_FLOAT32;if(n===yr.RENDER||n==null)return function(t){return oe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?vr.PACKED_2X2_FLOAT32:vr.UNPACKED_FLOAT32:t?vr.PACKED_2X2_FLOAT16:vr.UNPACKED_FLOAT16}(e);if(n===yr.DOWNLOAD||n===yr.PIXELS)return vr.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+n)}function q_(n,e,t){return n[0]+"_"+n[1]+"_"+e+"_"+t}var rX=function(n,e){this.variableNames=["A"];for(var t=new Array(n.length),r=0;r<t.length;r++)t[r]=n[r]*e[r];this.outputShape=t,this.rank=t.length;var i=kt(this.rank),o=function(a){var s=a.length;if(s>5)throw Error("Tile for rank "+s+" is not yet supported");if(s===1)return"imod(resRC, "+a[0]+")";for(var l=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],c=[],u=0;u<a.length;u++)c.push("imod("+l[u]+", "+a[u]+")");return c.join()}(n);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},iX=function(n,e){this.variableNames=["A"];for(var t=new Array(n.length),r=0;r<t.length;r++)t[r]=n[e[r]];this.outputShape=t,this.rank=t.length;var i=kt(this.rank),o=function(a){var s=a.length;if(s>6)throw Error("Transpose for rank "+s+" is not yet supported");for(var l=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],c=new Array(s),u=0;u<a.length;u++)c[a[u]]=l[u];return c.join()}(e);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+o+"));\n    }\n    "},oX=function(n,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var t=new Array(n.length),r=0;r<t.length;r++)t[r]=n[e[r]];if(this.outputShape=t,this.rank=t.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var i=kt(this.rank),o=Q6("rc",this.rank),a=new Array(this.rank);for(r=0;r<e.length;r++)a[e[r]]=o[r];var s="vec2("+a.slice(-2).join()+")",l="++"+o[this.rank-1]+" < "+t[this.rank-1],c="getChannel(getA("+a.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+i+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+c+";\n      if("+l+") {\n        result[1] = "+c+";\n      }\n      --"+o[this.rank-1]+";\n      if(++"+o[this.rank-2]+" < "+t[this.rank-2]+") {\n        result[2] = "+c+";\n        if("+l+") {\n          result[3] = "+c+";\n        }\n      }\n      setOutput(result);\n    }\n    "},o1=1.7580993408473768,a1=1.0507009873554805,Ge=function(n,e){this.variableNames=["A"],this.outputShape=n,this.userCode="\n      float unaryOperation(float x) {\n        "+e+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},wi="if (isnan(x)) return x;",aX="return x;",G_="return abs(x);",iT=wi+"\n  return (x < 0.0) ? 0.0 : x;\n",oT=wi+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",aT="return (x >= 0.0) ? x : (exp(x) - 1.0);",sX="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+o1+";\n  float scale = "+a1+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",K_="return -x;",Y_="return ceil(x);",X_="return floor(x);",Z_="return exp(x);",J_="return exp(x) - 1.0;",lX=wi+"\n  return sin(x);\n",cX=wi+"\n  return cos(x);\n",uX=wi+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",dX=wi+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",hX=wi+"\n  return atan(x);\n",fX=wi+"return log(x + sqrt(x * x + 1.0));",pX=wi+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",mX=wi+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",Sh="return x;",gX="return x;",sT="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",lT="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cT="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Kc=function(n,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},bX=function(n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=n;var e=n.length,t=tr("rc",e),r=kt(e),i=function(s,l){if(s===1)return"rc";for(var c="",u=0;u<s;u++)c+=l[u],u<s-1&&(c+=",");return c}(e,t),o=t.slice(-2),a=e<=1?"rc":"vec2("+o.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+i+");\n\n        setOutput(getChannel(packedInput, "+a+"));\n      }\n    "},Th={};function Ah(n,e){if(e===void 0&&(e=!1),n==="linear")return e?gX:aX;if(n==="relu")return e?sT:iT;if(n==="elu")return e?cT:aT;if(n==="relu6")return e?lT:oT;if(n==="prelu")return e?rT:nT;throw new Error("Activation "+n+" has not been implemented for the WebGL backend.")}var vX=600,xX=function(n){function e(t){var r,i=n.call(this)||this;if(i.pendingRead=new WeakMap,i.pendingDisposal=new WeakSet,i.dataRefCount=new WeakMap,i.numBytesInGPU=0,i.uploadWaitMs=0,i.downloadWaitMs=0,i.warnedAboutMemory=!1,i.pendingDeletes=0,i.disposed=!1,!oe().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(t==null){var o=Gi(oe().getNumber("WEBGL_VERSION"));i.binaryCache=((r=oe().getNumber("WEBGL_VERSION"))in Th||(Th[r]={}),Th[r]),i.gpgpu=new RY(o),i.canvas=o.canvas,i.gpgpuCreatedLocally=!0}else i.gpgpu=t,i.binaryCache={},i.gpgpuCreatedLocally=!1,i.canvas=t.gl.canvas;return i.textureManager=new nX(i.gpgpu),i.numMBBeforeWarning=oe().global.screen==null?1024:oe().global.screen.height*oe().global.screen.width*window.devicePixelRatio*vX/1024/1024,i.texData=new W6(i,G),i}return yi(e,n),e.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},e.prototype.write=function(t,r,i){if(oe().getBool("DEBUG")&&this.checkNumericalProblems(t),i==="complex64"&&t!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var o={};return this.texData.set(o,{shape:r,dtype:i,values:t,usage:yr.UPLOAD}),o},e.prototype.move=function(t,r,i,o){if(oe().getBool("DEBUG")&&this.checkNumericalProblems(r),o==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:i,dtype:o,values:r,usage:yr.UPLOAD})},e.prototype.readSync=function(t){var r=this.texData.get(t),i=r.values,o=r.dtype,a=r.complexTensors,s=r.slice,l=r.shape,c=r.isPacked;if(s!=null){var u=void 0;u=c?new Kc(l,Sh):new Ge(l,Sh);var d=this.runWebGLProgram(u,[{dataId:t,shape:l,dtype:o}],o),h=this.readSync(d.dataId);return this.disposeData(d.dataId),h}if(i!=null)return this.convertAndCacheOnCPU(t);if(o==="string")return i;var f,p,m=this.activeTimers!=null;return m&&(f=Ai()),o==="complex64"?p=Ev(a.real.dataSync(),a.imag.dataSync()):p=this.getValuesFromTexture(t),m&&(this.downloadWaitMs+=Ai()-f),this.convertAndCacheOnCPU(t,p)},e.prototype.read=function(t){return Ee(this,void 0,void 0,function(){var r,i,o,a,s,l,c,u,d,h,f,p,m,b,g,v,x,y,w,k,_,T;return Se(this,function(E){switch(E.label){case 0:if(this.pendingRead.has(t))return r=this.pendingRead.get(t),[2,new Promise(function(A){return r.push(A)})];if(i=this.texData.get(t),o=i.values,a=i.shape,s=i.slice,l=i.dtype,c=i.complexTensors,u=i.isPacked,s!=null)return d=void 0,d=u?new Kc(a,Sh):new Ge(a,Sh),h=this.runWebGLProgram(d,[{dataId:t,shape:a,dtype:l}],l),f=this.read(h.dataId),this.disposeData(h.dataId),[2,f];if(o!=null)return[2,this.convertAndCacheOnCPU(t)];if(!oe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&oe().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return p=null,l!=="complex64"&&oe().get("WEBGL_BUFFER_SUPPORTED")&&(m=this.decode(t),b=this.texData.get(m.dataId),p=(T=this.gpgpu).createBufferFromTexture.apply(T,[b.texture].concat(ku(a)))),this.pendingRead.set(t,[]),l==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:E.sent(),E.label=2;case 2:return l!=="complex64"?[3,4]:[4,Promise.all([c.real.data(),c.imag.data()])];case 3:return v=E.sent(),x=v[0],y=v[1],g=Ev(x,y),[3,5];case 4:p==null?g=this.getValuesFromTexture(t):(w=Te(a),g=this.gpgpu.downloadFloat32MatrixFromBuffer(p,w)),E.label=5;case 5:return m!=null&&this.disposeData(m.dataId),k=this.convertAndCacheOnCPU(t,g),_=this.pendingRead.get(t),this.pendingRead.delete(t),_.forEach(function(A){return A(k)}),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t),this.pendingDeletes--),[2,k]}})})},e.prototype.checkNumericalProblems=function(t){if(t!=null)for(var r=0;r<t.length;r++){var i=t[r];if(!sG(i))throw oe().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+i+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+i+" cannot be represented on this device.")}},e.prototype.getValuesFromTexture=function(t){var r,i=this.texData.get(t),o=i.shape,a=i.dtype,s=i.isPacked,l=Te(o);if(oe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var c=this.decode(t),u=this.texData.get(c.dataId),d=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[u.texture].concat(ku(o))).subarray(0,l);return this.disposeData(c.dataId),d}var h=oe().getBool("WEBGL_PACK")&&s===!0,f=h?p0(o):o,p=h?new aY(f):new oY(f),m=this.runWebGLProgram(p,[{shape:f,dtype:a,dataId:t}],"float32"),b=this.texData.get(m.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(b.texture,b.texShape[0],b.texShape[1]).subarray(0,l);return this.disposeData(m.dataId),g},e.prototype.time=function(t){return Ee(this,void 0,void 0,function(){var r,i,o,a,s,l,c;return Se(this,function(u){switch(u.label){case 0:return r=this.activeTimers,i=[],o=!1,this.programTimersStack==null?(this.programTimersStack=i,o=!0):this.activeTimers.push(i),this.activeTimers=i,t(),a=lc(this.activeTimers.map(function(d){return d.query})).filter(function(d){return d!=null}),s=lc(this.activeTimers.map(function(d){return d.name})).filter(function(d){return d!=null}),this.activeTimers=r,o&&(this.programTimersStack=null),l={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(a)]:[3,2];case 1:return c=u.sent(),l.kernelMs=$q(c),l.getExtraProfileInfo=function(){return c.map(function(d,h){return{name:s[h],ms:d}}).map(function(d){return d.name+": "+d.ms}).join(", ")},[3,3];case 2:l.kernelMs={error:"WebGL query timers are not supported in this environment."},u.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,l]}})})},e.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},e.prototype.startTimer=function(){return oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Ai(),endMs:null}},e.prototype.endTimer=function(t){return oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=Ai(),t)},e.prototype.getQueryTime=function(t){return Ee(this,void 0,void 0,function(){var r;return Se(this,function(i){return oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(t)]:[2,(r=t).endMs-r.startMs]})})},e.prototype.disposeData=function(t){if(!this.pendingDisposal.has(t)){if(this.pendingRead.has(t))return this.pendingDisposal.add(t),void this.pendingDeletes++;if(this.texData.has(t)){this.releaseGPUData(t);var r=this.texData.get(t).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(t)}}},e.prototype.releaseGPUData=function(t){var r=this.texData.get(t),i=r.texture,o=r.dtype,a=r.texShape,s=r.usage,l=r.isPacked,c=r.slice,u=c&&c.origDataId||t,d=this.dataRefCount.get(u);d>1?this.dataRefCount.set(u,d-1):(this.dataRefCount.delete(u),i!=null&&(this.numBytesInGPU-=this.computeBytes(a,o),this.textureManager.releaseTexture(i,a,s,l)));var h=this.texData.get(t);h.texture=null,h.texShape=null,h.isPacked=!1,h.slice=null},e.prototype.getTexture=function(t){return this.uploadToGPU(t),this.texData.get(t).texture},e.prototype.getDataInfo=function(t){return this.texData.get(t)},e.prototype.getCPUBackend=function(){return oe().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=G.findBackend("cpu")),this.cpuBackend):null},e.prototype.shouldExecuteOnCPU=function(t,r){var i=this;return r===void 0&&(r=128),this.getCPUBackend()!=null&&t.every(function(o){return i.texData.get(o.dataId).texture==null&&o.size<r})},e.prototype.getGPGPUContext=function(){return this.gpgpu},e.prototype.complex=function(t,r){var i=this.makeOutput(t.shape,"complex64");return this.texData.get(i.dataId).complexTensors={real:G.keep(t.clone()),imag:G.keep(r.clone())},i},e.prototype.real=function(t){return this.texData.get(t.dataId).complexTensors.real.clone()},e.prototype.imag=function(t){return this.texData.get(t.dataId).complexTensors.imag.clone()},e.prototype.slice=function(t,r,i){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.slice(t,r,i);if(Te(i)===0)return kn([],i,t.dtype);var o=this.texData.get(t.dataId).isPacked,a=U6(t.shape,r,i);if(o||!a){var s=oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new eX(i):new QY(i),l=s.getCustomSetupFunc(r);return this.compileAndRun(s,[t],null,l)}return this.uploadToGPU(t.dataId),this.shallowSlice(t,r,i)},e.prototype.shallowSlice=function(t,r,i){var o=this.texData.get(t.dataId),a=this.makeOutput(i,t.dtype),s=this.texData.get(a.dataId);Object.assign(s,o),s.shape=i,s.dtype=t.dtype;var l=H6(r,t.strides);o.slice&&(l+=o.slice.flatOffset),s.slice={flatOffset:l,origDataId:o.slice&&o.slice.origDataId||t.dataId};var c=this.dataRefCount.get(s.slice.origDataId)||1;return this.dataRefCount.set(s.slice.origDataId,c+1),a},e.prototype.stridedSlice=function(t,r,i,o){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.stridedSlice(t,r,i,o);var a=Qy(r,i,o);if(a.some(function(l){return l===0}))return kn([],a);var s=new tX(r,o,a);return this.compileAndRun(s,[t])},e.prototype.reverse=function(t,r){var i=oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new XY(t.shape,r):new YY(t.shape,r);return this.compileAndRun(i,[t])},e.prototype.concat=function(t,r){if(t[0].dtype==="complex64"){var i=t.map(function(f){return Hr(f)}),o=t.map(function(f){return Oi(f)});return yn(this.concat(i,r),this.concat(o,r))}if(this.shouldExecuteOnCPU(t))return this.cpuBackend.concat(t,r);if(t.length===1)return t[0];if(t.length>oe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var a=Math.floor(t.length/2),s=this.concat(t.slice(0,a),r),l=this.concat(t.slice(a),r);return this.concat([s,l],r)}if(oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&t[0].rank>1){var c=new VK(t.map(function(f){return f.shape}),r);return this.compileAndRun(c,t)}var u=uc(t.map(function(f){return f.shape}),r),d=t.map(function(f){return f.as2D(-1,Te(f.shape.slice(r)))}),h=new WK(d.map(function(f){return f.shape}));return this.compileAndRun(h,d).reshape(u)},e.prototype.neg=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.neg(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,K_,t.dtype);var r=new Ge(t.shape,K_);return this.compileAndRun(r,[t])},e.prototype.batchMatMul=function(t,r,i,o){var a=i?t.shape[2]:t.shape[1],s=o?r.shape[1]:r.shape[2],l=i?t.shape[1]:t.shape[2],c=t.shape[0];if((a===1||s===1)&&l>1e3){i&&(t=t.transpose([0,2,1])),o&&(r=r.transpose([0,2,1]));var u=s===1?t:t.as3D(c,l,1),d=s===1?2:1,h=s===1?r.as3D(c,1,l):r;return this.multiply(u,h).sum(d,!0)}var f=wn(t.dtype,r.dtype),p=new v0(t.shape,[c,a,s],i,o);return this.compileAndRun(p,[t,r],f)},e.prototype.fusedBatchMatMul=function(t){var r=t.a,i=t.b,o=t.transposeA,a=t.transposeB,s=t.bias,l=t.activation,c=t.preluActivationWeights,u=o?r.shape[2]:r.shape[1],d=a?i.shape[1]:i.shape[2],h=r.shape[0],f=wn(r.dtype,i.dtype),p=s!=null,m=c!=null,b=l?Ah(l,!0):null,g=new v0(r.shape,[h,u,d],o,a,p,b,m),v=[r,i];return s&&v.push(s),c&&v.push(c),this.compileAndRun(g,v,f)},e.prototype.multiply=function(t,r){if(t.dtype==="complex64"){var i=this.texData.get(t.dataId),o=this.texData.get(r.dataId),a=new z_(NK,t.shape,r.shape),s=new z_(FK,t.shape,r.shape),l=[this.makeComplexComponentTensorInfo(t,i.complexTensors.real),this.makeComplexComponentTensorInfo(t,i.complexTensors.imag),this.makeComplexComponentTensorInfo(r,o.complexTensors.real),this.makeComplexComponentTensorInfo(r,o.complexTensors.imag)],c=this.compileAndRun(a,l),u=this.compileAndRun(s,l),d=this.complex(c,u);return c.dispose(),u.dispose(),d}if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.multiply(t,r);if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,L_,t.dtype);var h=new Pt(L_,t.shape,r.shape);return this.compileAndRun(h,[t,r],t.dtype)},e.prototype.batchNormalization=function(t,r,i,o,a,s){var l=[t,r,i],c=null;s!=null&&(c=s.shape,l.push(s));var u=null;if(a!=null&&(u=a.shape,l.push(a)),oe().getBool("WEBGL_PACK_NORMALIZATION")){var d=new jK(t.shape,r.shape,i.shape,c,u,o);return this.compileAndRun(d,l)}var h=new LK(t.shape,r.shape,i.shape,c,u,o);return this.compileAndRun(h,l)},e.prototype.localResponseNormalization4D=function(t,r,i,o,a){var s=oe().getBool("WEBGL_PACK_NORMALIZATION")?new PY(t.shape,r,i,o,a):new OY(t.shape,r,i,o,a);return this.compileAndRun(s,[t])},e.prototype.LRNGrad=function(t,r,i,o,a,s,l){var c=new MY(r.shape,o,a,s,l);return this.compileAndRun(c,[r,i,t])},e.prototype.tile=function(t,r){if(t.dtype==="string"){var i=this.readSync(t.dataId).map(function(a){return np(a)});return Z6($e(t.shape,t.dtype,i),r)}var o=new rX(t.shape,r);return this.compileAndRun(o,[t])},e.prototype.pad=function(t,r,i){var o=oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new $Y(t.shape,r,i):new FY(t.shape,r,i);return this.compileAndRun(o,[t])},e.prototype.transpose=function(t,r){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.transpose(t,r);var i=oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new oX(t.shape,r):new iX(t.shape,r);return this.compileAndRun(i,[t])},e.prototype.gather=function(t,r,i){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.gather(t,r,i);var o=new hY(t.shape,r.size,i);return this.compileAndRun(o,[t,r])},e.prototype.batchToSpaceND=function(t,r,i){W(t.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var o=r.reduce(function(d,h){return d*h}),a=lp(t.shape,r,o),s=cp(a.length,r.length),l=up(t.shape,r,o),c=j6(i,r.length),u=N6(l,i,r.length);return t.reshape(a).transpose(s).reshape(l).slice(c,u)},e.prototype.spaceToBatchND=function(t,r,i){W(t.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var o=r.reduce(function(h,f){return h*f}),a=[[0,0]];a.push.apply(a,i);for(var s=1+r.length;s<t.shape.length;++s)a.push([0,0]);var l=t.pad(a),c=lp(l.shape,r,o,!1),u=cp(c.length,r.length,!1),d=up(l.shape,r,o,!1);return l.reshape(c).transpose(u).reshape(d)},e.prototype.reduce=function(t,r,i){var o=t.shape[0],a=t.shape[1],s=m0(a),l=new UY({windowSize:s,inSize:a,batchSize:o},r),c=this.compileAndRun(l,[t],i);return c.shape[1]===1?c:this.reduce(c,r,i)},e.prototype.argReduce=function(t,r,i){i===void 0&&(i=null);var o=t.shape[0],a=t.shape[1];i!=null&&(o=i.shape[0],a=i.shape[1]);var s=m0(a),l=new AK({windowSize:s,inSize:a,batchSize:o},r,i==null),c=[t];i!=null&&c.push(i);var u=this.compileAndRun(l,c,"int32");return u.shape[1]===1?u:this.argReduce(t,r,u)},e.prototype.argReducePacked=function(t,r,i){i===void 0&&(i=null);var o=i!=null?i.shape:t.shape,a=m0(o[o.length-1]),s=new PK(o,a,r,i==null),l=i==null?[t]:[t,i],c=this.compileAndRun(s,l,"int32");return c.rank===t.rank?this.argReducePacked(t,r,c):c},e.prototype.sum=function(t,r){br("sum",r,t.rank);var i=Rn(t.shape,r),o=i[0],a=Te(i[1]),s=t.as2D(-1,a),l=s0(t.dtype);return this.reduce(s,"sum",l).reshape(o)},e.prototype.prod=function(t,r){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.prod(t,r);var i=Rn(t.shape,r),o=i[0],a=Te(i[1]),s=t.as2D(-1,a),l=s0(t.dtype);return this.reduce(s,"prod",l).reshape(o)},e.prototype.unsortedSegmentSum=function(t,r,i){var o=0,a=Ki([o],t.rank),s=t;a!=null&&(s=t.transpose(a),o=Yi(1,t.rank)[0]);var l=function(f,p,m){for(var b=[],g=f.length,v=0;v<g;v++)v!==p?b.push(f[v]):b.push(m);return b}(s.shape,o,i),c=Te([s.shape[o]]),u=s.as2D(-1,c),d=s0(t.dtype),h=this.segOpCompute(u,"unsortedSegmentSum",r,d,i).reshape(l);return a!=null&&(h=h.transpose(Yy(a))),h},e.prototype.segOpCompute=function(t,r,i,o,a){var s=t.shape[0],l=t.shape[1],c=function(h,f){var p,m=!1;for(h<=$6?(p=h,m=!0):p=gv(h,Math.floor(Math.sqrt(h)));!m;)p>f||p===h?m=!0:p=gv(h,p+1);return p}(l,a),u=new ZY({windowSize:c,inSize:l,batchSize:s,numSegments:a}),d=this.compileAndRun(u,[t,i],o);return d.shape[1]===a?d:(i=sp(0,a).tile([l/c]),this.segOpCompute(d,r,i,o,a))},e.prototype.argMinMaxReduce=function(t,r,i){var o=[r];if(br("arg"+i.charAt(0).toUpperCase()+i.slice(1),o,t.rank),!oe().getBool("WEBGL_PACK_REDUCE")||t.rank<=2){var a=Rn(t.shape,o),s=a[0],l=Te(a[1]),c=t.as2D(-1,l);return this.argReduce(c,i).reshape(s)}return this.argReducePacked(t,i)},e.prototype.argMin=function(t,r){return this.argMinMaxReduce(t,r,"min")},e.prototype.argMax=function(t,r){return this.argMinMaxReduce(t,r,"max")},e.prototype.cumsum=function(t,r,i,o){if(r!==t.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(t.rank-1)+" but got axis="+r);var a=new eY(t.shape,i,o);return this.compileAndRun(a,[t])},e.prototype.equal=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(equal(a, b));\n","bool");var i=new Pt("return float(a == b);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.notEqual=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(notEqual(a, b));\n","bool");var i=new Pt("return float(a != b);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.less=function(t,r){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.less(t,r);if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(lessThan(a, b));\n","bool");var i=new Pt("return float(a < b);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.lessEqual=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(lessThanEqual(a, b));\n","bool");var i=new Pt("return float(a <= b);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.greater=function(t,r){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.greater(t,r);if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(greaterThan(a, b));\n","bool");var i=new Pt("return float(a > b);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.greaterEqual=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var i=new Pt("return float(a >= b);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.logicalNot=function(t){var r=new Ge(t.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[t])},e.prototype.logicalAnd=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var i=new Pt("return float(a >= 1.0 && b >= 1.0);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.logicalOr=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var i=new Pt("return float(a >= 1.0 || b >= 1.0);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.select=function(t,r,i){var o=new JY(t.rank,r.shape,r.rank);return this.compileAndRun(o,[t,r,i],wn(r.dtype,i.dtype))},e.prototype.where=function(t){op("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=t.dataSync();return r1(t.shape,r)},e.prototype.topk=function(t,r,i){return J6(t.dataSync(),t.shape,t.dtype,r)},e.prototype.min=function(t,r){br("min",r,t.rank);var i=Rn(t.shape,r),o=i[0],a=Te(i[1]),s=t.as2D(-1,a);return this.reduce(s,"min",s.dtype).reshape(o)},e.prototype.minimum=function(t,r){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.minimum(t,r);var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,r.shape):new Pt("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",t.shape,r.shape);return this.compileAndRun(i,[t,r])},e.prototype.mod=function(t,r){var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,r.shape):new Pt("if (b == 0.0) return NAN;\n  return mod(a, b);",t.shape,r.shape);return this.compileAndRun(i,[t,r])},e.prototype.max=function(t,r){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.max(t,r);br("max",r,t.rank);var i=Rn(t.shape,r),o=i[0],a=Te(i[1]),s=t.as2D(-1,a);return this.reduce(s,"max",s.dtype).reshape(o)},e.prototype.maximum=function(t,r){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.maximum(t,r);var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,r.shape):new Pt("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",t.shape,r.shape);return this.compileAndRun(i,[t,r])},e.prototype.all=function(t,r){br("all",r,t.rank);var i=Rn(t.shape,r),o=i[0],a=Te(i[1]),s=t.as2D(-1,a);return this.reduce(s,"all",s.dtype).reshape(o)},e.prototype.any=function(t,r){br("any",r,t.rank);var i=Rn(t.shape,r),o=i[0],a=Te(i[1]),s=t.as2D(-1,a);return this.reduce(s,"any",s.dtype).reshape(o)},e.prototype.realDivide=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var i=new Pt("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",t.shape,r.shape);return this.compileAndRun(i,[t,r],"float32")},e.prototype.floorDiv=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var i=new Pt("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",t.shape,r.shape);return this.compileAndRun(i,[t,r],"int32")},e.prototype.add=function(t,r){if(t.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(t,r,g0);if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.add(t,r);var i=wn(t.dtype,r.dtype);if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,g0,i);var o=new Pt(g0,t.shape,r.shape);return this.compileAndRun(o,[t,r],i)},e.prototype.packedUnaryOp=function(t,r,i){var o=new Kc(t.shape,r);return this.compileAndRun(o,[t],i)},e.prototype.packedBinaryOp=function(t,r,i,o,a){a===void 0&&(a=!1);var s=new io(i,t.shape,r.shape,a);return this.compileAndRun(s,[t,r],o)},e.prototype.complexSeparableBinaryOp=function(t,r,i){var o=this,a=this.texData.get(t.dataId),s=this.texData.get(r.dataId),l=[[a.complexTensors.real,s.complexTensors.real],[a.complexTensors.imag,s.complexTensors.imag]].map(function(h){var f=h[0],p=h[1],m=o.makeComplexComponentTensorInfo(t,f),b=o.makeComplexComponentTensorInfo(r,p),g=new Pt(i,t.shape,r.shape);return o.compileAndRun(g,[m,b],wn(f.dtype,p.dtype))}),c=l[0],u=l[1],d=this.complex(c,u);return c.dispose(),u.dispose(),d},e.prototype.makeComplexComponentTensorInfo=function(t,r){return{dataId:r.dataId,dtype:r.dtype,shape:t.shape}},e.prototype.addN=function(t){if(t.length===1)return t[0];if(t.length>oe().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(t.length/2),i=this.addN(t.slice(0,r)),o=this.addN(t.slice(r));return this.addN([i,o])}var a=t.map(function(c){return c.dtype}).reduce(function(c,u){return wn(c,u)}),s=t.map(function(c){return c.shape}),l=oe().getBool("WEBGL_PACK")?new TK(t[0].shape,s):new SK(t[0].shape,s);return this.compileAndRun(l,t,a)},e.prototype.subtract=function(t,r){if(t.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(t,r,b0);if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.subtract(t,r);var i=wn(t.dtype,r.dtype);if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,b0,t.dtype);var o=new Pt(b0,t.shape,r.shape);return this.compileAndRun(o,[t,r],i)},e.prototype.pow=function(t,r){var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,r.shape):new Pt("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",t.shape,r.shape),o=wn(t.dtype,r.dtype);return this.compileAndRun(i,[t,r],o)},e.prototype.ceil=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.ceil(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,Y_,t.dtype);var r=new Ge(t.shape,Y_);return this.compileAndRun(r,[t])},e.prototype.floor=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.floor(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,X_,t.dtype);var r=new Ge(t.shape,X_);return this.compileAndRun(r,[t])},e.prototype.sign=function(t){var r=new Ge(t.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(r,[t])},e.prototype.isNaN=function(t){var r=new Ge(t.shape,"return float(isnan(x));");return this.compileAndRun(r,[t],"bool")},e.prototype.isInf=function(t){var r=new Ge(t.shape,"return float(isinf(x));");return this.compileAndRun(r,[t],"bool")},e.prototype.isFinite=function(t){var r=new Ge(t.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[t],"bool")},e.prototype.round=function(t){var r=new Ge(t.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(r,[t])},e.prototype.exp=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.exp(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,Z_,t.dtype);var r=new Ge(t.shape,Z_);return this.compileAndRun(r,[t])},e.prototype.expm1=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.expm1(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,J_,t.dtype);var r=new Ge(t.shape,J_);return this.compileAndRun(r,[t])},e.prototype.softmax=function(t,r){var i=on([r],t.shape),o=this.max(t,i),a=cr(o.shape,i),s=this.subtract(t,o.reshape(a)),l=this.exp(s),c=this.sum(l,i).reshape(a);return this.realDivide(l,c)},e.prototype.log=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.log(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",t.dtype);var r=new Ge(t.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(r,[t])},e.prototype.log1p=function(t){var r=new Ge(t.shape,"return log(1.0 + x);");return this.compileAndRun(r,[t])},e.prototype.sqrt=function(t){var r=new Ge(t.shape,"return sqrt(x);");return this.compileAndRun(r,[t])},e.prototype.rsqrt=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.rsqrt(t);var r=new Ge(t.shape,"return inversesqrt(x);");return this.compileAndRun(r,[t])},e.prototype.reciprocal=function(t){var r=new Ge(t.shape,"return 1.0 / x;");return this.compileAndRun(r,[t])},e.prototype.relu=function(t){var r;return r=oe().getBool("WEBGL_PACK")?new Kc(t.shape,sT):new Ge(t.shape,iT),this.compileAndRun(r,[t])},e.prototype.relu6=function(t){var r;return r=oe().getBool("WEBGL_PACK")?new Kc(t.shape,lT):new Ge(t.shape,oT),this.compileAndRun(r,[t])},e.prototype.prelu=function(t,r){var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io(rT,t.shape,r.shape):new Pt(nT,t.shape,r.shape);return this.compileAndRun(i,[t,r])},e.prototype.elu=function(t){if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,cT,t.dtype);var r=new Ge(t.shape,aT);return this.compileAndRun(r,[t])},e.prototype.eluDer=function(t,r){var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",t.shape,r.shape):new Pt("return (b >= 1.0) ? a : a * (b + 1.0);",t.shape,r.shape);return this.compileAndRun(i,[t,r])},e.prototype.selu=function(t){var r=new Ge(t.shape,sX);return this.compileAndRun(r,[t])},e.prototype.int=function(t){var r=new Ge(t.shape,"return float(int(x));");return this.compileAndRun(r,[t],"int32")},e.prototype.clip=function(t,r,i){var o,a=(o=oe().getBool("WEBGL_PACK_CLIP")?new UK(t.shape):new $K(t.shape)).getCustomSetupFunc(r,i);return this.compileAndRun(o,[t],null,a)},e.prototype.abs=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.abs(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,G_,t.dtype);var r=new Ge(t.shape,G_);return this.compileAndRun(r,[t])},e.prototype.complexAbs=function(t){var r=this.texData.get(t.dataId),i=new HK(t.shape),o=[this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)];return this.compileAndRun(i,o)},e.prototype.sigmoid=function(t){var r=new Ge(t.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[t])},e.prototype.softplus=function(t){var r=new Ge(t.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(r,[t])},e.prototype.sin=function(t){var r=new Ge(t.shape,lX);return this.compileAndRun(r,[t])},e.prototype.cos=function(t){var r=new Ge(t.shape,cX);return this.compileAndRun(r,[t])},e.prototype.tan=function(t){var r=new Ge(t.shape,"return tan(x);");return this.compileAndRun(r,[t])},e.prototype.asin=function(t){var r=new Ge(t.shape,uX);return this.compileAndRun(r,[t])},e.prototype.acos=function(t){var r=new Ge(t.shape,dX);return this.compileAndRun(r,[t])},e.prototype.atan=function(t){var r=new Ge(t.shape,hX);return this.compileAndRun(r,[t])},e.prototype.atan2=function(t,r){var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,r.shape):new Pt("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",t.shape,r.shape);return this.compileAndRun(i,[t,r])},e.prototype.sinh=function(t){var r=new Ge(t.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(r,[t])},e.prototype.cosh=function(t){var r=new Ge(t.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(r,[t])},e.prototype.tanh=function(t){var r=new Ge(t.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(r,[t])},e.prototype.asinh=function(t){var r=new Ge(t.shape,fX);return this.compileAndRun(r,[t])},e.prototype.acosh=function(t){var r=new Ge(t.shape,pX);return this.compileAndRun(r,[t])},e.prototype.atanh=function(t){var r=new Ge(t.shape,mX);return this.compileAndRun(r,[t])},e.prototype.erf=function(t){var r=new Ge(t.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(r,[t])},e.prototype.step=function(t,r){var i=new Ge(t.shape,function(o){return o===void 0&&(o=0),wi+"\n    return x > 0.0 ? 1.0 : float("+o+");\n  "}(r));return this.compileAndRun(i,[t])},e.prototype.conv2dByMatMul=function(t,r,i,o,a,s){var l=t.shape,c=this.texData.get(t.dataId),u=i.inChannels,d=l[0]*l[1]*l[2],h=i.outChannels,f=i.dataFormat==="channelsLast",p=(d===1||h===1)&&u>1e3,m=l[2]%2!=0&&!!c.isPacked;if(p||!oe().getBool("WEBGL_LAZILY_UNPACK")||!oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!m){var b=f?l[0]*l[1]*l[2]:l[0]*l[2]*l[3],g=this.reshape(t,[1,b,i.inChannels]),v=this.reshape(r,[1,i.inChannels,i.outChannels]);return this.reshape(this.fusedBatchMatMul({a:g,b:v,transposeA:!1,transposeB:!1,bias:o,activation:a,preluActivationWeights:s}),i.outShape)}var x=f?l[0]*l[1]*(l[2]+1):l[0]*l[2]*(l[3]+1),y={dataId:t.dataId,shape:[1,x,i.inChannels],dtype:t.dtype},w=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,W(Ch(c.shape,y.shape),function(){return"packed reshape "+c.shape+" to "+y.shape+" isn't free"});var k=this.reshape(r,[1,i.inChannels,i.outChannels]),_=this.fusedBatchMatMul({a:y,b:k,transposeA:!1,transposeB:!1,bias:o,activation:a,preluActivationWeights:s}),T=this.texData.get(_.dataId);return W(T.isPacked,function(){return"batchMatMul result is expected to be packed"}),c.shape=w,T.shape=i.outShape,G.makeTensorFromDataId(_.dataId,i.outShape,_.dtype)},e.prototype.conv2dWithIm2Row=function(t,r,i,o,a,s){var l=i.filterWidth,c=i.filterHeight,u=i.inChannels,d=i.outWidth,h=i.outHeight,f=i.dataFormat==="channelsLast",p=l*c*u,m=h*d,b=[p,m],g=t.squeeze([0]),v=r.reshape([1,p,-1]),x=new DY(b,g.shape,i),y=this.compileAndRun(x,[g]).reshape([1,b[0],b[1]]),w=o!=null,k=s!=null,_=a?Ah(a,!0):null,T=new v0(y.shape,[1,m,i.outChannels],!0,!1,w,_,k),E=[y,v];o&&E.push(o),k&&E.push(s);var A=this.compileAndRun(T,E);return f?A.reshape([1,h,d,i.outChannels]):A.reshape([1,i.outChannels,h,d])},e.prototype.fusedConv2d=function(t){var r=t.input,i=t.filter,o=t.convInfo,a=t.bias,s=t.activation,l=t.preluActivationWeights;if(o.filterHeight===1&&o.filterWidth===1&&o.dilationHeight===1&&o.dilationWidth===1&&o.strideHeight===1&&o.strideWidth===1&&(o.padInfo.type==="SAME"||o.padInfo.type==="VALID"))return this.conv2dByMatMul(r,i,o,a,s,l);if(oe().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,i,o,a,s,l);var c=a!=null,u=l!=null,d=s?Ah(s,!1):null,h=new j_(o,c,d,u),f=[r,i];return a&&f.push(a),l&&f.push(l),this.compileAndRun(h,f)},e.prototype.conv2d=function(t,r,i){if(i.filterHeight===1&&i.filterWidth===1&&i.dilationHeight===1&&i.dilationWidth===1&&i.strideHeight===1&&i.strideWidth===1&&(i.padInfo.type==="SAME"||i.padInfo.type==="VALID"))return this.conv2dByMatMul(t,r,i);if(oe().getBool("WEBGL_CONV_IM2COL")&&t.shape[0]===1)return this.conv2dWithIm2Row(t,r,i);var o=new j_(i);return this.compileAndRun(o,[t,r])},e.prototype.conv2dDerInput=function(t,r,i){var o=new GK(i);return this.compileAndRun(o,[t,r])},e.prototype.conv2dDerFilter=function(t,r,i){var o=new qK(i);return this.compileAndRun(o,[t,r])},e.prototype.fusedDepthwiseConv2D=function(t){var r,i=t.input,o=t.filter,a=t.convInfo,s=t.bias,l=t.activation,c=t.preluActivationWeights,u=oe().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1,d=l?Ah(l,u):null,h=[i,o],f=s!=null,p=c!=null;return f&&h.push(s),p&&h.push(c),u?(r=new F_(a,f,d,p),this.compileAndRun(r,h)):(r=new N_(a,f,d,p),this.compileAndRun(r,h))},e.prototype.depthwiseConv2D=function(t,r,i){var o;return oe().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1?(o=new F_(i),this.compileAndRun(o,[t,r])):(o=new N_(i),this.compileAndRun(o,[t,r]))},e.prototype.depthwiseConv2DDerInput=function(t,r,i){var o=new ZK(i);return this.compileAndRun(o,[t,r])},e.prototype.depthwiseConv2DDerFilter=function(t,r,i){var o=new XK(i);return this.compileAndRun(o,[t,r])},e.prototype.conv3d=function(t,r,i){var o=new JK(i);return this.compileAndRun(o,[t,r])},e.prototype.conv3dDerInput=function(t,r,i){var o=new YK(i);return this.compileAndRun(o,[t,r])},e.prototype.conv3dDerFilter=function(t,r,i){var o=new KK(i);return this.compileAndRun(o,[t,r])},e.prototype.maxPool=function(t,r){var i=new x0(r,"max",!1);return this.compileAndRun(i,[t])},e.prototype.avgPool=function(t,r){var i=new x0(r,"avg",!1);return this.compileAndRun(i,[t],"float32")},e.prototype.maxPoolBackprop=function(t,r,i,o){var a=new x0(o,"max",!0),s=this.compileAndRun(a,[r]),l=new BY(o),c=this.compileAndRun(l,[t,s],r.dtype);return s.dispose(),c},e.prototype.avgPoolBackprop=function(t,r,i){var o=new BK(i);return this.compileAndRun(o,[t],r.dtype)},e.prototype.cast=function(t,r){return G6(t,r,this)},e.prototype.unstack=function(t,r){for(var i=t.shape[r],o=new Array(t.rank-1),a=0,s=0;s<t.rank;s++)s!==r&&(o[a++]=t.shape[s]);var l=new Array(t.rank).fill(0),c=t.shape.slice();c[r]=1;var u=new Array(i);for(s=0;s<u.length;s++)l[r]=s,u[s]=this.slice(t,l,c).reshape(o);return u},e.prototype.avgPool3d=function(t,r){var i=new y0(r,"avg",!1);return this.compileAndRun(i,[t],"float32")},e.prototype.avgPool3dBackprop=function(t,r,i){var o=new zK(i);return this.compileAndRun(o,[t],r.dtype)},e.prototype.maxPool3d=function(t,r){var i=new y0(r,"max",!1);return this.compileAndRun(i,[t],"float32")},e.prototype.maxPool3dBackprop=function(t,r,i,o){var a=new y0(o,"max",!0),s=this.compileAndRun(a,[r]),l=new zY(o),c=this.compileAndRun(l,[t,s],r.dtype);return s.dispose(),c},e.prototype.reshape=function(t,r){var i=this.texData.get(t.dataId);if(i.isPacked&&!Ch(t.shape,r)&&(i.texture===null||!Ch(i.shape,r))){var o=this.packedReshape(t,r);return G.makeTensorFromDataId(o.dataId,o.shape,o.dtype)}return Cv(t,r)},e.prototype.resizeBilinear=function(t,r,i,o){var a=oe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new qY(t.shape,r,i,o):new VY(t.shape,r,i,o);return this.compileAndRun(a,[t],"float32")},e.prototype.resizeBilinearBackprop=function(t,r,i){var o=new WY(t,r,i);return this.compileAndRun(o,[t])},e.prototype.resizeNearestNeighbor=function(t,r,i,o){var a=new KY(t.shape,r,i,o);return this.compileAndRun(a,[t])},e.prototype.resizeNearestNeighborBackprop=function(t,r,i){var o=new GY(t,r,i);return this.compileAndRun(o,[t])},e.prototype.multinomial=function(t,r,i,o){var a=r?t:Ro(t),s=a.shape[0],l=a.shape[1],c=new LY(s,l,i),u=c.getCustomSetupFunc(o);return this.compileAndRun(c,[a],"int32",u)},e.prototype.oneHot=function(t,r,i,o){var a=new jY(t.size,r,i,o);return this.compileAndRun(a,[t])},e.prototype.diag=function(t){var r=new iY(t.size);return this.compileAndRun(r,[t])},e.prototype.nonMaxSuppression=function(t,r,i,o,a){return op("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),t1(t.dataSync(),r.dataSync(),i,o,a)},e.prototype.cropAndResize=function(t,r,i,o,a,s){var l=new QK(t.shape,r.shape,o,a,s);return this.compileAndRun(l,[t,r,i],"float32")},e.prototype.depthToSpace=function(t,r,i){W(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});var o=t.shape[0],a=i==="NHWC"?t.shape[1]:t.shape[2],s=i==="NHWC"?t.shape[2]:t.shape[3],l=i==="NHWC"?t.shape[3]:t.shape[1],c=a*r,u=s*r,d=l/(r*r),h=new rY(i==="NHWC"?[o,c,u,d]:[o,d,c,u],r,i);return this.compileAndRun(h,[t])},e.prototype.split=function(t,r,i){return X6(t,r,i)},e.prototype.scatterND=function(t,r,i){var o=dp(0,t,i),a=o.sliceRank,s=o.numUpdates,l=o.sliceSize,c=o.strides,u=o.outputSize,d=[u/l,l],h=t.reshape([s,a]),f=r.reshape([s,l]);if(u===0)return Cv(kn([]),i);var p=ve(0),m=new W_(s,a,h.rank,f.rank,c,d);return this.compileAndRun(m,[f,h,p]).reshape(i)},e.prototype.sparseToDense=function(t,r,i,o){var a=dp(0,t,i),s=a.sliceRank,l=a.numUpdates,c=a.strides,u=a.outputSize,d=new W_(l,s,t.rank,r.rank,c,[u,1]);return this.compileAndRun(d,[r,t,o]).reshape(i)},e.prototype.fft=function(t){return this.fftImpl(t,!1)},e.prototype.ifft=function(t){return this.fftImpl(t,!0)},e.prototype.fftImpl=function(t,r){var i=this.texData.get(t.dataId),o=new U_(cY,t.shape,r),a=new U_(uY,t.shape,r),s=[this.makeComplexComponentTensorInfo(t,i.complexTensors.real),this.makeComplexComponentTensorInfo(t,i.complexTensors.imag)],l=this.compileAndRun(o,s),c=this.compileAndRun(a,s),u=this.complex(l,c).as2D(t.shape[0],t.shape[1]);return l.dispose(),c.dispose(),u},e.prototype.gatherND=function(t,r){var i=r.shape,o=i[i.length-1],a=F6(t,r),s=a[0],l=a[1],c=a[2],u=a[3],d=r.reshape([l,o]),h=t.reshape([t.size/c,c]),f=new fY(o,u,[l,c]);return this.compileAndRun(f,[h,d]).reshape(s)},e.prototype.fill=function(t,r,i){if((i=i||Dd(r))==="string"){var o=tp(i,Te(t));return o.fill(r),G.makeTensor(o,t,i,this)}var a=new dY(t,r),s=a.getCustomSetupFunc(r);return this.compileAndRun(a,[],i,s)},e.prototype.onesLike=function(t){if(t.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(t.shape,1,t.dtype)},e.prototype.zerosLike=function(t){return this.fill(t.shape,t.dtype==="string"?"":0,t.dtype)},e.prototype.linspace=function(t,r,i){return K6(t,r,i)},e.prototype.makeTensorInfo=function(t,r){var i=this.write(null,t,r);return this.texData.get(i).usage=null,{dataId:i,shape:t,dtype:r}},e.prototype.makeOutput=function(t,r){var i=this.makeTensorInfo(t,r).dataId;return G.makeTensorFromDataId(i,t,r,this)},e.prototype.unpackTensor=function(t){var r=new bX(t.shape);return this.runWebGLProgram(r,[t],t.dtype)},e.prototype.packTensor=function(t){var r=new NY(t.shape);return this.runWebGLProgram(r,[t],t.dtype,null,!0)},e.prototype.packedReshape=function(t,r){var i=[rp(t.shape)].concat(ip(t.shape)),o={dtype:t.dtype,shape:i,dataId:t.dataId},a=[rp(r)].concat(ip(r)),s=new HY(a,i),l=this.runWebGLProgram(s,[o],t.dtype,null,!0);return{dataId:l.dataId,shape:r,dtype:l.dtype}},e.prototype.decode=function(t){var r,i=this.texData.get(t),o=i.isPacked,a=i.shape,s=i.dtype,l=p0(a);return r=o?new nY(l):new tY(l),{dtype:s,shape:a,dataId:this.runWebGLProgram(r,[{shape:l,dtype:s,dataId:t}],s,null,!0).dataId}},e.prototype.runWebGLProgram=function(t,r,i,o,a){var s=this;a===void 0&&(a=!1);var l=this.makeTensorInfo(t.outputShape,i),c=this.texData.get(l.dataId);if(t.packedOutput&&(c.isPacked=!0),t.outPackingScheme===ed.DENSE){var u=ku(t.outputShape);c.texShape=u.map(function(x){return 2*x})}if(t.outTexUsage!=null&&(c.usage=t.outTexUsage),Te(l.shape)===0)return c.values=Ju(l.dtype,0),l;var d=[],h=r.map(function(x){if(x.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var y=s.texData.get(x.dataId);if(y.texture==null){if(!t.packedInputs&&Te(x.shape)<=oe().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:x.shape,texData:null,isUniform:!0,uniformValues:y.values};t.packedInputs&&(y.isPacked=!0,y.shape=x.shape)}else if(!!y.isPacked!=!!t.packedInputs)x=y.isPacked?s.unpackTensor(x):s.packTensor(x),d.push(x),y=s.texData.get(x.dataId);else if(y.isPacked&&!Ch(y.shape,x.shape)){var w=x,k=x.shape;x.shape=y.shape,x=s.packedReshape(x,k),d.push(x),y=s.texData.get(x.dataId),w.shape=k}return s.uploadToGPU(x.dataId),{shape:x.shape,texData:y,isUniform:!1}});this.uploadToGPU(l.dataId);var f,p={shape:l.shape,texData:c,isUniform:!1},m=function(x,y,w){var k="";y.concat(w).forEach(function(E){var A=E.texData!=null&&E.texData.slice!=null&&E.texData.slice.flatOffset>0,M=E.isUniform?"uniform":E.texData.texShape;k+=E.shape+"_"+M+"_"+A});var _=x.userCode,T=x.constructor.name;return T+="_"+k+"_"+_}(t,h,p),b=this.getAndSaveBinary(m,function(){return function(x,y,w,k){var _=y.userCode,T=w.map(function(N,B){var U={logicalShape:N.shape,texShape:N.isUniform?null:N.texData.texShape,isUniform:N.isUniform,isPacked:!N.isUniform&&N.texData.isPacked,flatOffset:null};return N.texData!=null&&N.texData.slice!=null&&N.texData.slice.flatOffset>0&&(U.flatOffset=N.texData.slice.flatOffset),{name:y.variableNames[B],shapeInfo:U}}),E=T.map(function(N){return N.shapeInfo}),A={logicalShape:k.shape,texShape:k.texData.texShape,isUniform:!1,isPacked:k.texData.isPacked,flatOffset:null},M=IK(T,A,_,y.packedInputs),I=x.createProgram(M),L=null,S=x.getUniformLocation(I,"NAN",!1);oe().getNumber("WEBGL_VERSION")===1&&(L=x.getUniformLocation(I,"INFINITY",!1));for(var O={},P=0;P<y.variableNames.length;P++){var z=y.variableNames[P];O[z]=x.getUniformLocation(I,z,!1),O["offset"+z]=x.getUniformLocation(I,"offset"+z,!1)}return{program:y,source:M,webGLProgram:I,uniformLocations:O,inShapeInfos:E,outShapeInfo:A,infLoc:L,nanLoc:S}}(s.gpgpu,t,h,p)}),g=this.activeTimers!=null;if(g&&(f=this.startTimer()),function(x,y,w,k,_){H_(y.inShapeInfos,w),H_([y.outShapeInfo],[k]);var T=k.texData.texture,E=k.texData.texShape;k.texData.isPacked?x.setOutputPackedMatrixTexture(T,E[0],E[1]):x.setOutputMatrixTexture(T,E[0],E[1]),x.setProgram(y.webGLProgram),oe().getNumber("WEBGL_VERSION")===1&&y.infLoc!==null&&x.gl.uniform1f(y.infLoc,1/0),y.nanLoc!==null&&x.gl.uniform1f(y.nanLoc,NaN),w.forEach(function(A,M){var I=y.program.variableNames[M],L=y.uniformLocations[I],S=y.uniformLocations["offset"+I];if(L!=null)if(A.isUniform)if(Te(A.shape)<2)x.gl.uniform1f(L,A.uniformValues[0]);else{var O=A.uniformValues;O instanceof Float32Array||(O=new Float32Array(O)),x.gl.uniform1fv(L,O)}else A.texData.slice!=null&&S!=null&&x.gl.uniform1i(S,A.texData.slice.flatOffset),x.setInputMatrixTexture(A.texData.texture,L,M)}),_!=null&&_(x,y.webGLProgram),x.executeProgram()}(this.gpgpu,b,h,p,o),d.forEach(function(x){return s.disposeData(x.dataId)}),g&&(f=this.endTimer(f),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(f)})),!oe().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&a===!1){var v=this.unpackTensor(l);return this.disposeData(l.dataId),v}return l},e.prototype.compileAndRun=function(t,r,i,o,a){a===void 0&&(a=!1),i=i||r[0].dtype;var s=this.runWebGLProgram(t,r,i,o,a);return G.makeTensorFromDataId(s.dataId,s.shape,s.dtype)},e.prototype.getAndSaveBinary=function(t,r){return t in this.binaryCache||(this.binaryCache[t]=r()),this.binaryCache[t]},e.prototype.getTextureManager=function(){return this.textureManager},e.prototype.dispose=function(){var t=this;this.disposed||(oe().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(r){t.gpgpu.deleteProgram(t.binaryCache[r].webGLProgram),delete t.binaryCache[r]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},e.prototype.floatPrecision=function(){var t=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=ke(function(){if(!oe().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=oe().getBool("DEBUG");oe().set("DEBUG",!1);var i=t.abs(ve(1e-8)).dataSync()[0];if(oe().set("DEBUG",r),i>0)return 32}return 16})),this.floatPrecisionValue},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.uploadToGPU=function(t){var r,i=this.texData.get(t),o=i.shape,a=i.dtype,s=i.values,l=i.texture,c=i.usage,u=i.isPacked;if(l==null){var d,h=this.activeTimers!=null;h&&(d=Ai());var f=i.texShape;if(f==null&&(f=EG(o,u),i.texShape=f),s!=null){var p=p0(o),m=void 0,b=f[1],g=f[0],v=s instanceof Uint8Array;u?(b=(r=Md(f[0],f[1]))[0],g=r[1],m=new lY(p,[g,b],v)):m=new sY(p,[g,b],v);var x=this.makeTensorInfo([g,b],a);this.texData.get(x.dataId).usage=v?yr.PIXELS:yr.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),b,g,s);var y=this.runWebGLProgram(m,[x],a,null,!0),w=this.texData.get(y.dataId);i.texture=w.texture,i.texShape=w.texShape,i.isPacked=w.isPacked,i.usage=w.usage,this.disposeData(x.dataId),this.texData.delete(y.dataId),i.values=null,h&&(this.uploadWaitMs+=Ai()-d)}else{var k=this.acquireTexture(f,c,a,u);i.texture=k}}},e.prototype.convertAndCacheOnCPU=function(t,r){var i=this.texData.get(t),o=i.dtype;return this.releaseGPUData(t),r!=null&&(i.values=function(a,s){if(s==="float32"||s==="complex64")return a;if(s==="int32"||s==="bool"){for(var l=s==="int32"?new Int32Array(a.length):new Uint8Array(a.length),c=0;c<l.length;++c)l[c]=Math.round(a[c]);return l}throw new Error("Unknown dtype "+s)}(r,o)),i.values},e.prototype.acquireTexture=function(t,r,i,o){if(this.numBytesInGPU+=this.computeBytes(t,i),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+a+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(t,r,o)},e.prototype.computeBytes=function(t,r){return t[0]*t[1]*k6(r)},e}(V6);I6()&&G.registerBackend("webgl",function(){return new xX},2);var yX=q({square_:function(n){var e=j(n,"x","square"),t=[e];return G.runKernelFunc(function(r,i){return i([e]),r.square(e)},{x:e},null,"Square",{},t,[])}}),nd="SquaredDifference",uT=q({squaredDifference_:function(n,e){var t,r=j(n,"a","squaredDifference"),i=j(e,"b","squaredDifference");t=Mt(r,i),r=t[0],i=t[1],tt(r.shape,i.shape);var o={a:r,b:i},a=[r,i];return G.runKernelFunc(function(s,l){var c=s.squaredDifference(r,i);return l([r,i]),c},o,function(s,l){var c=l[0],u=l[1],d=ve(2);return{a:function(){return s.mul(c.sub(u).mul(d))},b:function(){return s.mul(u.sub(c).mul(d))}}},nd,{},a,[])}}),wX=q({abs_:function(n){var e=j(n,"x","abs");return e.dtype==="complex64"?G.runKernelFunc(function(t){return t.complexAbs(e)},{$x:e}):G.runKernelFunc(function(t,r){var i=t.abs(e);return r([e]),i},{x:e},function(t,r){var i=r[0];return{x:function(){return t.mul(i.toFloat().step(-1))}}},"Abs")}}),kX=q({acos_:function(n){var e=j(n,"x","acos");return G.runKernelFunc(function(t,r){var i=t.acos(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.divStrict(ve(1).sub(i.toFloat().square()).sqrt()).neg()}}})}}),_X=q({acosh_:function(n){var e=j(n,"x","acosh");return G.runKernelFunc(function(t,r){var i=t.acosh(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.divStrict(i.toFloat().square().sub(1).sqrt())}}})}}),CX=q({asin_:function(n){var e=j(n,"x","asin");return G.runKernelFunc(function(t,r){var i=t.asin(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.divStrict(ve(1).sub(i.toFloat().square()).sqrt())}}})}}),EX=q({asinh_:function(n){var e=j(n,"x","asinh");return G.runKernelFunc(function(t,r){var i=t.asinh(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.divStrict(ve(1).add(i.toFloat().square()).sqrt())}}})}}),SX=q({atan_:function(n){var e=j(n,"x","atan");return G.runKernelFunc(function(t,r){var i=t.atan(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.div(i.toFloat().square().add(1))}}})}}),TX=q({atanh_:function(n){var e=j(n,"x","atanh");return G.runKernelFunc(function(t,r){var i=t.atanh(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.div(ve(1).sub(i.toFloat().square()))}}})}}),AX=q({ceil_:function(n){var e=j(n,"x","ceil");return G.runKernelFunc(function(t){return t.ceil(e)},{$x:e},function(t){return{$x:function(){return at(t)}}})}}),s1=q({clipByValue_:function(n,e,t){var r=j(n,"x","clipByValue");W(e<=t,function(){return"Error in clip: min ("+e+") must be less than or equal to max ("+t+")."});var i=[r],o={min:e,max:t};return G.runKernelFunc(function(a,s){var l=a.clip(r,e,t);return s([r]),l},{x:r},function(a,s){var l=s[0];return{x:function(){return a.where(l.greaterEqual(e).logicalAnd(l.lessEqual(t)),at(a))}}},"ClipByValue",o,i)}}),IX=q({cos_:function(n){var e=j(n,"x","cos"),t=[e];return G.runKernelFunc(function(r,i){var o=r.cos(e);return i([e]),o},{x:e},function(r,i){var o=i[0];return{x:function(){return o.toFloat().sin().neg().mul(r)}}},"Cos",{},t)}}),RX=q({cosh_:function(n){var e=j(n,"x","cosh");return G.runKernelFunc(function(t,r){var i=t.cosh(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return i.toFloat().sinh().mulStrict(t)}}})}}),DX=q({erf_:function(n){var e=j(n,"x","erf");return W(e.dtype==="int32"||e.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),e.dtype==="int32"&&(e=e.toFloat()),G.runKernelFunc(function(t,r){var i=t.erf(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.mul(i.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),Sv=q({exp_:function(n){var e=j(n,"x","exp");return G.runKernelFunc(function(t,r){var i=t.exp(e);return r([i]),i},{x:e},function(t,r){return{x:function(){return t.mulStrict(r[0])}}},"Exp",{},[],[!0])}}),OX=q({expm1_:function(n){var e=j(n,"x","expm1");return G.runKernelFunc(function(t,r){var i=t.expm1(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.mul(i.exp())}}})}}),MX=q({floor_:function(n){var e=j(n,"x","floor");return G.runKernelFunc(function(t){return t.floor(e)},{$x:e},function(t){return{$x:function(){return at(t)}}})}}),PX=q({log_:function(n){var e=j(n,"x","log"),t=[e];return G.runKernelFunc(function(r,i){var o=r.log(e);return i([e]),o},{x:e},function(r,i){var o=i[0];return{x:function(){return r.div(o.toFloat())}}},"Log",{},t)}}),BX=q({log1p_:function(n){var e=j(n,"x","log1p");return G.runKernelFunc(function(t,r){var i=t.log1p(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.div(i.add(1))}}})}}),zX=q({logSigmoid_:function(n){var e=j(n,"x","logSigmoid");return G.runKernelFunc(function(t,r){var i=t.softplus(e.neg()).neg();return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.mul(i.neg().sigmoid())}}})}}),mp=q({neg_:function(n){var e=j(n,"x","neg"),t=[e];return G.runKernelFunc(function(r){return r.neg(e)},{x:e},function(r){return{x:function(){return r.neg()}}},"Neg",{},t)}}),LX=q({reciprocal_:function(n){var e=j(n,"x","reciprocal");return G.runKernelFunc(function(t,r){var i=t.reciprocal(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.div(i.square().neg())}}})}}),jX=q({round_:function(n){var e=j(n,"x","round");return G.runKernelFunc(function(t){return t.round(e)},{$x:e},function(t){return{$x:function(){return at(t)}}})}}),dT=q({rsqrt_:function(n){var e=j(n,"x","rsqrt"),t=[e];return G.runKernelFunc(function(r,i){var o=r.rsqrt(e);return i([e]),o},{x:e},function(r,i){var o=i[0];return{x:function(){return r.div(o.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},t)}}),hT=q({sigmoid_:function(n){var e=j(n,"x","sigmoid");return G.runKernelFunc(function(t,r){var i=t.sigmoid(e);return r([i]),i},{x:e},function(t,r){var i=r[0];return{x:function(){return t.mul(i.mul(ve(1).sub(i)))}}},"Sigmoid")}}),NX=q({sign_:function(n){var e=j(n,"x","sign");return G.runKernelFunc(function(t){return t.sign(e)},{$x:e},function(t){return{$x:function(){return at(t)}}})}}),FX=q({isNaN_:function(n){var e=j(n,"x","isNaN");return G.runKernelFunc(function(t){return t.isNaN(e)},{$x:e},function(t){return{$x:function(){return at(t)}}})}}),$X=q({isInf_:function(n){var e=j(n,"x","isInf");return G.runKernelFunc(function(t){return t.isInf(e)},{$x:e},function(t){return{$x:function(){return at(t)}}})}}),UX=q({isFinite_:function(n){var e=j(n,"x","isFinite");return G.runKernelFunc(function(t){return t.isFinite(e)},{$x:e},function(t){return{$x:function(){return at(t)}}})}}),HX=q({sin_:function(n){var e=j(n,"x","sin"),t=[e];return G.runKernelFunc(function(r,i){var o=r.sin(e);return i([e]),o},{x:e},function(r,i){var o=i[0];return{x:function(){return o.toFloat().cos().mul(r)}}},"Sin",{},t)}}),WX=q({sinh_:function(n){var e=j(n,"x","sinh");return G.runKernelFunc(function(t,r){var i=t.sinh(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return i.toFloat().cosh().mulStrict(t)}}})}}),VX=q({softplus_:function(n){var e=j(n,"x","softplus");return G.runKernelFunc(function(t,r){var i=t.softplus(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.mul(i.sigmoid())}}})}}),qX=q({sqrt_:function(n){var e=j(n,"x","sqrt");return G.runKernelFunc(function(t,r){var i=t.sqrt(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.div(i.toFloat().sqrt().mul(2))}}})}}),GX=q({step_:function(n,e){e===void 0&&(e=0);var t=j(n,"x","step");return G.runKernelFunc(function(r){return r.step(t,e)},{$x:t},function(r){return{$x:function(){return at(r)}}})}}),KX=q({tan_:function(n){var e=j(n,"x","tan");return G.runKernelFunc(function(t,r){var i=t.tan(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.div(i.cos().square())}}})}}),YX=q({tanh_:function(n){var e=j(n,"x","tanh");return G.runKernelFunc(function(t,r){var i=t.tanh(e);return r([i]),i},{x:e},function(t,r){var i=r[0];return{x:function(){return ve(1).sub(i.square()).mulStrict(t)}}},"Tanh",{},null,[!0])}});function fT(n,e,t,r,i,o){var a,s,l=j(n,"x","batchNorm"),c=j(e,"mean","batchNorm"),u=j(t,"variance","batchNorm");return i!=null&&(a=j(i,"scale","batchNorm")),r!=null&&(s=j(r,"offset","batchNorm")),W(l.rank===2,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),W(c.rank===2||c.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+c.rank+"."}),W(u.rank===2||u.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+u.rank+"."}),a!=null&&W(a.rank===2||a.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+a.rank+"."}),s!=null&&W(s.rank===2||s.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),Bd(l,c,u,s,a,o)}function pT(n,e,t,r,i,o){var a,s,l=j(n,"x","batchNorm"),c=j(e,"mean","batchNorm"),u=j(t,"variance","batchNorm");return i!=null&&(a=j(i,"scale","batchNorm")),r!=null&&(s=j(r,"offset","batchNorm")),W(l.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),W(c.rank===3||c.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+c.rank+"."}),W(u.rank===3||u.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+u.rank+"."}),a!=null&&W(a.rank===3||a.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+a.rank+"."}),s!=null&&W(s.rank===3||s.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),Bd(l,c,u,s,a,o)}function mT(n,e,t,r,i,o){var a,s,l=j(n,"x","batchNorm"),c=j(e,"mean","batchNorm"),u=j(t,"variance","batchNorm");return i!=null&&(a=j(i,"scale","batchNorm")),r!=null&&(s=j(r,"offset","batchNorm")),W(l.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+l.rank+"."}),W(c.rank===4||c.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+c.rank+"."}),W(u.rank===4||u.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+u.rank+"."}),a!=null&&W(a.rank===4||a.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+a.rank+"."}),s!=null&&W(s.rank===4||s.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),Bd(l,c,u,s,a,o)}function Bd(n,e,t,r,i,o){o==null&&(o=.001);var a,s,l,c=j(n,"x","batchNorm"),u=j(e,"mean","batchNorm"),d=j(t,"variance","batchNorm");i!=null&&(a=j(i,"scale","batchNorm")),r!=null&&(s=j(r,"offset","batchNorm")),W(u.rank===d.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),W(s==null||u.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),W(a==null||u.rank===a.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),l=c.rank===0||c.rank===1?c.as4D(1,1,1,c.size):c.rank===2?c.as4D(1,1,c.shape[0],c.shape[1]):c.rank===3?c.as4D(1,c.shape[0],c.shape[1],c.shape[2]):c;var h=[c,u,d,a];return G.runKernelFunc(function(f,p){var m=f.batchNormalization(l,Ih(u),Ih(d),o,Ih(a),Ih(s));return p([c,u,d,a]),m},{x:c,mean:u,variance:d,scale:a,offset:s},function(f,p){var m=p,b=m[0],g=m[1],v=m[2],x=m[3],y=x==null?ve(1):x,w=nn(g.shape,l.shape),k=[];if(g.rank===1){for(var _=0;_<l.shape.length-1;++_)k.push(l.shape[_]);k.push(1)}var T=b.sub(g),E=f.mul(y),A=dT(v.add(ve(o))),M=A.mul(A).mul(A).mul(ve(-.5));return{x:function(){return g.rank===1?f.mul(Ul(A.as4D(1,1,1,g.shape[0]),k)).mul(y).reshape(b.shape):f.mul(A).mul(y).reshape(b.shape)},mean:function(){var I=A.mul(ve(-1)).mul(E);return g.rank===1&&(I=I.sum(w)),I.reshape(g.shape)},variance:function(){var I=M.mul(T).mul(E);return g.rank===1&&(I=I.sum(w)),I.reshape(g.shape)},scale:function(){var I=T.mul(A),L=f.mul(I);return g.rank===1&&(L=L.sum(w)),L.reshape(g.shape)},offset:function(){var I=f;return g.rank===1&&(I=I.sum(w)),I.reshape(g.shape)}}},"BatchNormalization",{varianceEpsilon:o},h).reshape(c.shape)}function Ih(n){return n==null?null:n.rank===0?n.as1D():n.rank===1?n:n.rank===2?n.as4D(1,1,n.shape[0],n.shape[1]):n.rank===3?n.as4D(1,n.shape[0],n.shape[1],n.shape[2]):n}function Dm(){R6("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var XX=q({batchNormalization2d_:function(n,e,t,r,i,o){return r===void 0&&(r=.001),Dm(),fT(n,e,t,o,i,r)}}),ZX=q({batchNormalization3d_:function(n,e,t,r,i,o){return r===void 0&&(r=.001),Dm(),pT(n,e,t,o,i,r)}}),JX=q({batchNormalization4d_:function(n,e,t,r,i,o){return r===void 0&&(r=.001),Dm(),mT(n,e,t,o,i,r)}}),QX=q({batchNormalization_:function(n,e,t,r,i,o){return r===void 0&&(r=.001),Dm(),Bd(n,e,t,o,i,r)}}),gT=q({batchNorm_:Bd}),eZ=q({batchNorm2d_:fT}),tZ=q({batchNorm3d_:pT}),nZ=q({batchNorm4d_:mT}),Om=q({logicalAnd_:function(n,e){var t=j(n,"a","logicalAnd","bool"),r=j(e,"b","logicalAnd","bool");return tt(t.shape,r.shape),G.runKernelFunc(function(i){return i.logicalAnd(t,r)},{a:t,b:r},null,"LogicalAnd")}}),rZ=q({logicalNot_:function(n){var e=j(n,"x","logicalNot","bool");return G.runKernelFunc(function(t){return t.logicalNot(e)},{$x:e})}}),bT=q({logicalOr_:function(n,e){var t=j(n,"a","logicalOr","bool"),r=j(e,"b","logicalOr","bool");return tt(t.shape,r.shape),G.runKernelFunc(function(i){return i.logicalOr(t,r)},{$a:t,$b:r})}}),iZ=q({logicalXor_:function(n,e){var t=j(n,"a","logicalXor","bool"),r=j(e,"b","logicalXor","bool");return tt(t.shape,r.shape),bT(n,e).logicalAnd(Om(n,e).logicalNot())}}),_s=q({where_:function(n,e,t){var r=j(e,"a","where"),i=j(t,"b","where"),o=j(n,"condition","where","bool");return ct(r.shape,i.shape,"Error in where: "),o.rank===1?W(o.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):ct(o.shape,i.shape,"Error in where: "),G.runKernelFunc(function(a,s){var l=a.select(o,r,i);return s([o]),l},{$condition:o,$a:r,$b:i},function(a,s){var l=s[0];return{$condition:function(){return at(l).toFloat()},$a:function(){return a.mul(l.cast(a.dtype))},$b:function(){return a.mul(l.logicalNot().cast(a.dtype))}}})}}),vT=function(n){return Ee(this,void 0,void 0,function(){var e,t,r;return Se(this,function(i){switch(i.label){case 0:return[4,(e=j(n,"condition","whereAsync","bool")).data()];case 1:return t=i.sent(),r=r1(e.shape,t),n!==e&&e.dispose(),[2,r]}})})},Qe=q({add_:function(n,e){var t,r=j(n,"a","add"),i=j(e,"b","add");t=Mt(r,i),r=t[0],i=t[1];var o=tt(r.shape,i.shape);return G.runKernelFunc(function(a){return a.add(r,i)},{a:r,b:i},function(a){return{a:function(){var s=a,l=nn(r.shape,o);return l.length>0&&(s=s.sum(l)),s.reshape(r.shape)},b:function(){var s=a,l=nn(i.shape,o);return l.length>0&&(s=s.sum(l)),s.reshape(i.shape)}}},"Add")}}),oZ=q({addN_:function(n){W(Array.isArray(n),function(){return"The argument passed to tf.addN() must be a list of tensors"}),W(n.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+n.length});var e=n.map(function(i,o){return j(i,"tensors"+o,"addN")}),t=e[0];e.forEach(function(i){if(i.dtype!==t.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(i){if(!mn(i.shape,t.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=e;return G.runKernelFunc(function(i){return i.addN(e)},r,function(i){var o={};return e.forEach(function(a,s){o[s]=function(){return i.clone()}}),o},"AddN")}}),aZ=q({addStrict_:function(n,e){var t=j(n,"a","addStrict"),r=j(e,"b","addStrict");return ct(t.shape,r.shape,"Error in addStrict: "),t.add(r)}}),sZ=q({atan2_:function(n,e){var t,r=j(n,"a","atan2"),i=j(e,"b","atan2");t=Mt(r,i),r=t[0],i=t[1];var o=tt(r.shape,i.shape);return G.runKernelFunc(function(a,s){var l=a.atan2(r,i);return s([r,i]),l},{$a:r,$b:i},function(a,s){var l=s[0],c=s[1];return{$a:function(){var u=Qe(l.square(),c.square()),d=a.mul(c.div(u)),h=nn(l.shape,o);return h.length>0&&(d=d.sum(h)),d.reshape(l.shape)},$b:function(){var u=Qe(l.square(),c.square()),d=mp(a.mul(l.div(u))),h=nn(c.shape,o);return h.length>0&&(d=d.sum(h)),d.reshape(c.shape)}}})}}),li=q({div_:function(n,e){var t,r=j(n,"a","div"),i=j(e,"b","div");if(t=Mt(r,i),r=t[0],i=t[1],r.dtype==="int32"&&i.dtype==="int32")return xT(r,i);var o=tt(r.shape,i.shape);return G.runKernelFunc(function(a,s){var l=a.realDivide(r,i);return s([r,i]),l},{a:r,b:i},function(a,s){var l=s[0],c=s[1];return{a:function(){var u=a.div(c.toFloat()),d=nn(l.shape,o);return d.length>0?u.sum(d).reshape(l.shape):u},b:function(){var u=a.mul(l.toFloat()),d=nn(c.shape,o);d.length>0&&(u=u.sum(d).reshape(c.shape));var h=c.square();return u.div(h.toFloat()).neg()}}},"Div")}}),lZ=q({divNoNan_:function(n,e){var t,r=j(n,"a","div"),i=j(e,"b","div");r=(t=Mt(r,i))[0],i=t[1];var o=li(r,i),a=at(o),s=i.equal(a);return _s(s,a,o)}}),cZ=q({divStrict_:function(n,e){var t=j(n,"a","div"),r=j(e,"b","div");return ct(t.shape,r.shape,"Error in divideStrict: "),t.div(r)}}),xT=q({floorDiv_:function(n,e){var t,r=j(n,"a","floorDiv"),i=j(e,"b","floorDiv");t=Mt(r,i),r=t[0],i=t[1];var o=tt(r.shape,i.shape);return G.runKernelFunc(function(a,s){var l=a.floorDiv(r,i);return s([r,i]),l},{a:r,b:i},function(a,s){var l=s[0],c=s[1];return{a:function(){var u=a.div(c.toFloat()),d=nn(l.shape,o);return d.length>0?u.sum(d).reshape(l.shape):u},b:function(){var u=a.mul(l.toFloat()),d=nn(c.shape,o);d.length>0&&(u=u.sum(d).reshape(c.shape));var h=c.square();return u.div(h.toFloat()).neg()}}},"FloorDiv")}}),l1=q({maximum_:function(n,e){var t,r=j(n,"a","maximum"),i=j(e,"b","maximum");return t=Mt(r,i),r=t[0],i=t[1],r.dtype==="bool"&&(r=r.toInt(),i=i.toInt()),tt(r.shape,i.shape),G.runKernelFunc(function(o,a){var s=o.maximum(r,i);return a([r,i]),s},{a:r,b:i},function(o,a){var s=a[0],l=a[1];return{a:function(){return o.mul(s.greaterEqual(l).toFloat())},b:function(){return o.mul(s.less(l).toFloat())}}},"Maximum")}}),uZ=q({maximumStrict_:function(n,e){var t=j(n,"a","maximumStrict"),r=j(e,"b","maximumStrict");return ct(t.shape,r.shape,"Error in maximumStrict: "),t.maximum(r)}}),yT=q({minimum_:function(n,e){var t,r=j(n,"a","minimum"),i=j(e,"b","minimum");return t=Mt(r,i),r=t[0],i=t[1],r.dtype==="bool"&&(r=r.toInt(),i=i.toInt()),tt(r.shape,i.shape),G.runKernelFunc(function(o,a){var s=o.minimum(r,i);return a([r,i]),s},{a:r,b:i},function(o,a){var s=a[0],l=a[1];return{a:function(){return o.mul(s.lessEqual(l).toFloat())},b:function(){return o.mul(s.greater(l).toFloat())}}},"Minimum")}}),dZ=q({minimumStrict_:function(n,e){var t=j(n,"a","minimumStrict"),r=j(e,"b","minimumStrict");return ct(t.shape,r.shape,"Error in minimumStrict: "),t.minimum(r)}}),hZ=q({mod_:function(n,e){var t,r=j(n,"a","mod"),i=j(e,"b","mod");t=Mt(r,i),r=t[0],i=t[1];var o=tt(r.shape,i.shape);return G.runKernelFunc(function(a,s){var l=a.mod(r,i);return s([r,i]),l},{$a:r,$b:i},function(a,s){var l=s[0],c=s[1];return{$a:function(){var u=nn(l.shape,o);return u.length>0?a.sum(u).reshape(l.shape):a},$b:function(){var u=a.mul(l.div(c).floor().neg()),d=nn(c.shape,o);return d.length>0?u.sum(d).reshape(c.shape):u}}})}}),fZ=q({modStrict_:function(n,e){var t=j(n,"a","modStrict"),r=j(e,"b","modStrict");return ct(t.shape,r.shape,"Error in modStrict: "),t.mod(r)}}),jn=q({mul_:function(n,e){var t,r=j(n,"a","mul"),i=j(e,"b","mul");t=Mt(r,i),r=t[0],i=t[1];var o=tt(r.shape,i.shape);return G.runKernelFunc(function(a,s){var l=a.multiply(r,i);return s([r,i]),l},{a:r,b:i},function(a,s){var l=s[0],c=s[1];return{a:function(){var u=a.mul(c.toFloat()),d=nn(l.shape,o);return d.length>0?u.sum(d).reshape(l.shape):u},b:function(){var u=a.mul(l.toFloat()),d=nn(c.shape,o);return d.length>0?u.sum(d).reshape(c.shape):u}}},"Mul")}}),pZ=q({mulStrict_:function(n,e){var t=j(n,"a","mul"),r=j(e,"b","mul");return ct(t.shape,r.shape,"Error in multiplyStrict: "),t.mul(r)}}),gp=q({pow_:function(n,e){var t,r=j(n,"base","pow"),i=j(e,"exp","pow");t=Mt(r,i),r=t[0],i=t[1];var o=tt(r.shape,i.shape),a=[r,i];return G.runKernelFunc(function(s,l){var c=s.pow(r,i);return l([r,i,c]),c},{a:r,b:i},function(s,l){var c=l[0],u=l[1],d=l[2];return{a:function(){var h=u.toFloat(),f=s.mul(h.mul(c.pow(h.sub(ve(1))))),p=nn(c.shape,o);return p.length>0&&(f=f.sum(p)),f.reshape(c.shape)},b:function(){var h=c.greater(0),f=c.log().where(h,at(c)),p=s.mul(d.mul(f)),m=nn(u.shape,o);return m.length>0&&(p=p.sum(m)),p.reshape(u.shape)}}},"Pow",{},a,[!0])}}),mZ=q({powStrict_:function(n,e){return ct(n.shape,e.shape,"Error in powStrict: "),n.pow(e)}}),gZ=q({squaredDifferenceStrict_:function(n,e){var t=j(n,"a","squaredDifferenceStrict"),r=j(e,"b","squaredDifferenceStrict");return ct(t.shape,r.shape,"Error in squaredDifferenceStrict: "),t.squaredDifference(r)}}),rn=q({sub_:function(n,e){var t,r=j(n,"a","sub"),i=j(e,"b","sub");t=Mt(r,i),r=t[0],i=t[1];var o=tt(r.shape,i.shape);return G.runKernelFunc(function(a){return a.subtract(r,i)},{a:r,b:i},function(a){return{a:function(){var s=a,l=nn(r.shape,o);return l.length>0&&(s=s.sum(l)),s.reshape(r.shape)},b:function(){var s=a,l=nn(i.shape,o);return l.length>0&&(s=s.sum(l)),s.neg().reshape(i.shape)}}},"Sub")}}),bZ=q({subStrict_:function(n,e){var t=j(n,"a","subStrict"),r=j(e,"b","subStrict");return ct(t.shape,r.shape,"Error in subStrict: "),t.sub(r)}}),wT=q({equal_:function(n,e){var t,r=j(n,"a","equal"),i=j(e,"b","equal");return t=Mt(r,i),r=t[0],i=t[1],tt(r.shape,i.shape),G.runKernelFunc(function(o){return o.equal(r,i)},{$a:r,$b:i})}}),vZ=q({equalStrict_:function(n,e){var t=j(n,"a","equalStrict"),r=j(e,"b","equalStrict");return ct(t.shape,r.shape,"Error in equalStrict: "),t.equal(r)}}),xZ=q({greater_:function(n,e){var t,r=j(n,"a","greater"),i=j(e,"b","greater");return t=Mt(r,i),r=t[0],i=t[1],tt(r.shape,i.shape),G.runKernelFunc(function(o){return o.greater(r,i)},{a:r,b:i},null,"Greater")}}),kT=q({greaterEqual_:function(n,e){var t,r=j(n,"a","greaterEqual"),i=j(e,"b","greaterEqual");return t=Mt(r,i),r=t[0],i=t[1],tt(r.shape,i.shape),G.runKernelFunc(function(o,a){var s=o.greaterEqual(r,i);return a([r,i]),s},{a:r,b:i},function(o,a){var s=a[0],l=a[1];return{a:function(){return at(s)},b:function(){return at(l)}}},"GreaterEqual")}}),yZ=q({greaterEqualStrict_:function(n,e){var t=j(n,"a","greaterEqualStrict"),r=j(e,"b","greaterEqualStrict");return ct(t.shape,r.shape,"Error in greaterEqualStrict: "),t.greaterEqual(r)}}),wZ=q({greaterStrict_:function(n,e){var t=j(n,"a","greaterStrict"),r=j(e,"b","greaterStrict");return ct(t.shape,r.shape,"Error in greaterStrict: "),t.greater(r)}}),kZ=q({less_:function(n,e){var t,r=j(n,"a","less"),i=j(e,"b","less");return t=Mt(r,i),r=t[0],i=t[1],tt(r.shape,i.shape),G.runKernelFunc(function(o){return o.less(r,i)},{a:r,b:i},null,"Less")}}),_Z=q({lessEqual_:function(n,e){var t,r=j(n,"a","lessEqual"),i=j(e,"b","lessEqual");return t=Mt(r,i),r=t[0],i=t[1],tt(r.shape,i.shape),G.runKernelFunc(function(o,a){var s=o.lessEqual(r,i);return a([r,i]),s},{a:r,b:i},null,"LessEqual")}}),CZ=q({lessEqualStrict_:function(n,e){var t=j(n,"a","lessEqualStrict"),r=j(e,"b","lessEqualStrict");return ct(t.shape,r.shape,"Error in lessEqualStrict: "),t.lessEqual(r)}}),EZ=q({lessStrict_:function(n,e){var t=j(n,"a","lessStrict"),r=j(e,"b","lessStrict");return ct(t.shape,r.shape,"Error in lessStrict: "),t.less(r)}}),SZ=q({notEqual_:function(n,e){var t,r=j(n,"a","notEqual"),i=j(e,"b","notEqual");return t=Mt(r,i),r=t[0],i=t[1],tt(r.shape,i.shape),G.runKernelFunc(function(o){return o.notEqual(r,i)},{a:r,b:i},null,"NotEqual")}}),TZ=q({notEqualStrict_:function(n,e){var t=j(n,"a","notEqualStrict"),r=j(e,"b","notEqualStrict");return ct(t.shape,r.shape,"Error in notEqualStrict: "),t.notEqual(r)}});function Q_(n,e){for(var t=[],r=n;r<e;++r)t.push(r);return t}function eC(n){for(var e=[],t=0;t<n.length;++t)for(var r=0;r<n[t].length;++r)e.push(n[t][r]);return e}var c1=q({gather_:function(n,e,t){t===void 0&&(t=0);var r=j(n,"x","gather"),i=j(e,"indices","gather","int32");t=on(t,r.shape)[0];var o=function(a,s,l){for(var c=a.shape[l],u=[],d=1,h=1,f=0;f<l;f++)u.push(a.shape[f]),d*=a.shape[f];for(f=0;f<s.rank;f++)u.push(s.shape[f]);for(f=l+1;f<a.rank;f++)u.push(a.shape[f]),h*=a.shape[f];return{batchSize:d,sliceSize:h,dimSize:c,outputShape:u}}(r,i,t);return G.runKernelFunc(function(a,s){var l=a.gather(r,i.flatten(),t);return s([i]),l},{x:r,indices:i},function(a,s){var l=s[0];return{x:function(){var c=r.shape,u=l.size,d=c.slice(0,t),h=d.length,f=c.slice(t,c.length).slice(1),p=f.length,m=Q_(0,h),b=Q_(h+1,h+1+p),g=eC([d,[u],f]),v=a.reshape(g),x=l.reshape([u]),y=eC([[h],m,b]),w=v.transpose(y),k=_T(w,x,r.shape[t]),_=Yy(y);return k=k.transpose(_)},indices:function(){return l}}},"Gather",{axis:t}).reshape(o.outputShape)}}),_T=q({unsortedSegmentSum_:function(n,e,t){var r=j(n,"x","unsortedSegmentSum"),i=j(e,"segmentIds","unsortedSegmentSum","int32");return W(Ut(t),function(){return"numSegments must be of dtype int"}),G.runKernelFunc(function(o,a){var s=o.unsortedSegmentSum(r,i,t);return a([i]),s},{$x:r},function(o,a){var s=a[0];return{$x:function(){return function(l,c){for(var u=l1(c,at(c)),d=c1(l,u),h=kT(c,ve(0,"int32")),f=d.rank-h.rank,p=0;p<f;++p)h=Fr(h,p+1);h=Om(h,Rc(d.shape,"bool"));var m=at(d);return _s(h,d,m)}(o,s)}}})}}),AZ=function(n,e,t){return Ee(this,void 0,void 0,function(){var r,i,o,a,s,l,c,u,d,h,f,p,m;return Se(this,function(b){switch(b.label){case 0:for(r=j(n,"tensor","boolMask"),i=j(e,"mask","boolMask","bool"),o=t==null?0:t,a=i.rank,s=r.shape,W(a>0,function(){return"mask cannot be scalar"}),ct(s.slice(o,o+a),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,c=o;c<o+a;c++)l*=s[c];return u=s.slice(0,o).concat([l],s.slice(o+a)),d=r.reshape(u),h=i.reshape([-1]),[4,vT(h)];case 1:return f=b.sent(),p=f.squeeze([1]),m=c1(d,p,o),n!==r&&r.dispose(),e!==i&&i.dispose(),p.dispose(),d.dispose(),h.dispose(),f.dispose(),[2,m]}})})};function CT(n,e,t,r,i,o,a){o===void 0&&(o="NHWC"),W(n.length===e.rank,function(){return"Length of inShape ("+n.length+") and rank of dy ("+e.rank+") must match"});var s=n,l=e,c=!1;e.rank===3&&(c=!0,l=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),s=[1,n[0],n[1],n[2]]),W(s.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),W(l.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+l.rank}),W(t.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+t.rank});var u=o==="NHWC"?s[3]:s[1],d=o==="NHWC"?l.shape[3]:l.shape[1];W(u===t.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+u+") must match input depth for filter "+t.shape[2]+"."}),W(d===t.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+d+") must match output depth for filter "+t.shape[3]+"."}),a!=null&&W(Ut(i),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var h=e1(o),f=Fs(s,t.shape,r,1,i,a,!1,h),p=G.runKernelFunc(function(m,b){var g=m.conv2dDerInput(l,t,f);return b([t,l]),g},{dy4D:l,filter:t},function(m,b){var g=b[0],v=b[1];return{dy4D:function(){return ei(m,g,r,i,o,1,a)},filter:function(){return u1(m,v,g.shape,r,i,o,a)}}});return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function k0(n){var e=function(o){return typeof o=="number"?[o,o,o]:o.length===2?[o[0],o[1],1]:o}(n),t=e[0],r=e[1],i=e[2];return t===1&&r===1&&i===1}function ET(n,e,t,r,i){W(n.length===e.rank,function(){return"Length of inShape ("+n.length+") and rank of dy ("+e.rank+") must match"});var o=n,a=e,s=!1;e.rank===4&&(s=!0,a=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]),o=[1,n[0],n[1],n[2],n[3]]);var l=o[4],c=a.shape[4];W(o.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+o.length+"."}),W(a.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+a.rank}),W(t.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+t.rank}),W(l===t.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+l+") must match input depth for filter "+t.shape[3]+"."}),W(c===t.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+c+") must match output depth for filter "+t.shape[4]+"."});var u=fp(o,t.shape,r,1,i),d=G.runKernelFunc(function(h){return h.conv3dDerInput(a,t,u)},{dy5D:a});return s?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}var IZ=q({conv1d_:function(n,e,t,r,i,o,a){i===void 0&&(i="NWC"),o===void 0&&(o=1);var s=j(n,"x","conv1d"),l=j(e,"filter","conv1d"),c=s,u=!1;s.rank===2&&(u=!0,c=s.as3D(1,s.shape[0],s.shape[1])),W(c.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."}),W(l.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+l.rank+"."}),a!=null&&W(Ut(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}),W(c.shape[2]===l.shape[1],function(){return"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+l.shape[1]+"."}),W(ur(t,o),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+t+" and dilation '"+o+"'"}),W(i==="NWC",function(){return"Error in conv1d: got dataFormat of "+i+" but only NWC is currently supported."});var d=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]),h=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),f=ei(h,d,[1,t],r,"NHWC",[1,o],a);return u?f.as2D(f.shape[2],f.shape[3]):f.as3D(f.shape[0],f.shape[2],f.shape[3])}}),ei=q({conv2d_:function(n,e,t,r,i,o,a){i===void 0&&(i="NHWC"),o===void 0&&(o=[1,1]);var s=j(n,"x","conv2d"),l=j(e,"filter","conv2d"),c=s,u=!1;s.rank===3&&(u=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),W(c.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+c.rank+"."}),W(l.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+l.rank+"."}),a!=null&&W(Ut(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var d=i==="NHWC"?c.shape[3]:c.shape[1];W(d===l.shape[2],function(){return"Error in conv2d: depth of input ("+d+") must match input depth for filter "+l.shape[2]+"."}),W(ur(t,o),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+o+"'"});var h=e1(i),f=Fs(c.shape,l.shape,t,o,r,a,!1,h),p=[l,c],m=G.runKernelFunc(function(b,g){var v=b.conv2d(c,l,f);return g([l,c]),v},{x:c,filter:l},function(b,g){var v=g,x=v[0],y=v[1];return W(dc(o),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"}),{x:function(){return ST(y.shape,b,x,t,r,i)},filter:function(){return u1(y,b,x.shape,t,r,i)}}},"Conv2D",f,p);return u?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),RZ=q({conv3d_:function(n,e,t,r,i,o){i===void 0&&(i="NDHWC"),o===void 0&&(o=[1,1,1]);var a=j(n,"x","conv3d"),s=j(e,"filter","conv3d"),l=a,c=!1;a.rank===4&&(c=!0,l=a.as5D(1,a.shape[0],a.shape[1],a.shape[2],a.shape[3])),W(l.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+l.rank+"."}),W(s.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),W(l.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+l.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),W(function(h,f){return k0(h)||k0(f)}(t,o),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+o+"'"}),W(i==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+i+" but only NDHWC is currently supported."});var u=fp(l.shape,s.shape,t,o,r),d=G.runKernelFunc(function(h,f){var p=h.conv3d(l,s,u);return f([l,s]),p},{x:l,$filter:s},function(h,f){W(k0(o),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"});var p=f[0],m=f[1];return{x:function(){return ET(p.shape,h,m,t,r)},$filter:function(){return function(b,g,v,x,y){var w=b;b.rank===4&&(w=b.as5D(1,b.shape[0],b.shape[1],b.shape[2],b.shape[3]));var k=g;k.rank===4&&(k=g.as5D(1,g.shape[0],g.shape[1],g.shape[2],g.shape[3])),W(w.rank===5,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+w.shape+"."}),W(k.rank===5,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+k.shape+"."}),W(v.length===5,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+v+"."}),W(w.shape[4]===v[3],function(){return"Error in conv3dDerFilter: depth of input "+w.shape[4]+") must match input depth in filter ("+v[3]+"."}),W(k.shape[4]===v[4],function(){return"Error in conv3dDerFilter: depth of dy ("+k.shape[4]+") must match output depth for filter ("+v[4]+")."});var _=fp(w.shape,v,x,1,y);return G.runKernelFunc(function(T){return T.conv3dDerFilter(w,k,_)},{x5D:w,dy5D:k})}(p,h,m.shape,t,r)}}});return c?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),u1=q({conv2dDerFilter_:function(n,e,t,r,i,o,a){o===void 0&&(o="NHWC");var s=n;n.rank===3&&(s=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var l=e;l.rank===3&&(l=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),W(s.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),W(l.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+l.shape+"."}),W(t.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+t+"."});var c=o==="NHWC"?s.shape[3]:s.shape[1],u=o==="NHWC"?l.shape[3]:l.shape[1];W(c===t[2],function(){return"Error in conv2dDerFilter: depth of input "+c+") must match input depth in filter ("+t[2]+"."}),W(u===t[3],function(){return"Error in conv2dDerFilter: depth of dy ("+u+") must match output depth for filter ("+t[3]+")."}),a!=null&&W(Ut(i),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var d=e1(o),h=Fs(s.shape,t,r,1,i,a,!1,d);return G.runKernelFunc(function(f){return f.conv2dDerFilter(s,l,h)},{x4D:s,dy4D:l})}}),ST=q({conv2dDerInput_:CT}),Mm=q({depthwiseConv2d_:function(n,e,t,r,i,o,a){o===void 0&&(o=[1,1]);var s=j(n,"x","depthwiseConv2d"),l=j(e,"filter","depthwiseConv2d"),c=s,u=!1;s.rank===3&&(u=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),W(c.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."}),W(l.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+l.rank+"."}),W(c.shape[3]===l.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+l.shape[2]+"."}),o==null&&(o=[1,1]),W(ur(t,o),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+o+"'"}),a!=null&&W(Ut(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var d=Fs(c.shape,l.shape,t,o,r,a,!0),h=[c,l],f=G.runKernelFunc(function(p,m){var b=p.depthwiseConv2D(c,l,d);return m([c,l]),b},{x:c,filter:l},function(p,m){W(dc(o),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+o+"'"});var b=m[0],g=m[1];return{x:function(){return TT(b.shape,p,g,d)},filter:function(){return AT(b,p,g.shape,d)}}},"DepthwiseConv2dNative",d,h);return u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}}),TT=q({depthwiseConv2dDerInput_:function(n,e,t,r){var i=e,o=!1;e.rank===3&&(o=!0,i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=G.runKernelFunc(function(s){return s.depthwiseConv2DDerInput(i,t,r)},{dy4D:i});return o?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}}),AT=q({depthwiseConv2dDerFilter_:function(n,e,t,r){var i=n;n.rank===3&&(i=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var o=e;return o.rank===3&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),G.runKernelFunc(function(a){return a.depthwiseConv2DDerFilter(i,o,r)},{x4D:i,dy4D:o})}}),d1=q({separableConv2d_:function(n,e,t,r,i,o,a){o===void 0&&(o=[1,1]),a===void 0&&(a="NHWC");var s=j(n,"x","separableConv2d"),l=j(e,"depthwiseFilter","separableConv2d"),c=j(t,"pointwiseFilter","separableConv2d"),u=s,d=!1;if(s.rank===3&&(d=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),a==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");W(u.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+u.rank+"."}),W(l.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+l.rank+"."}),W(c.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+l.rank+"."}),W(c.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+c.shape[0]+"."}),W(c.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+c.shape[1]+"."});var h=l.shape[2],f=l.shape[3];W(c.shape[2]===h*f,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+h*f+", but got "+c.shape[2]+"."});var p=Mm(u,l,r,i,a,o),m=ei(p,c,1,"valid",a);return d?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),DZ=q({conv2dTranspose_:function(n,e,t,r,i,o){return CT(t,j(n,"x","conv2dTranspose"),j(e,"filter","conv2dTranspose"),r,i,"NHWC",o)}}),OZ=q({conv3dTranspose_:function(n,e,t,r,i){return ET(t,j(n,"x","conv3dTranspose"),j(e,"filter","conv3dTranspose"),r,i)}}),Pm=q({matMul_:function(n,e,t,r){var i;t===void 0&&(t=!1),r===void 0&&(r=!1);var o=j(n,"a","matMul"),a=j(e,"b","matMul");i=Mt(o,a),o=i[0],a=i[1];var s=t?o.shape[o.rank-2]:o.shape[o.rank-1],l=r?a.shape[a.rank-1]:a.shape[a.rank-2],c=t?o.shape[o.rank-1]:o.shape[o.rank-2],u=r?a.shape[a.rank-2]:a.shape[a.rank-1],d=o.shape.slice(0,-2),h=a.shape.slice(0,-2),f=Te(d),p=Te(h);W(o.rank>=2&&a.rank>=2&&o.rank===a.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+o.rank+" and "+a.rank+"."}),W(mn(d,h),function(){return"Error in matMul: outer dimensions ("+d+") and ("+h+") of Tensors with shapes "+o.shape+" and "+a.shape+" must match."}),W(s===l,function(){return"Error in matMul: inner shapes ("+s+") and ("+l+") of Tensors with shapes "+o.shape+" and "+a.shape+" and transposeA="+t+" and transposeB="+r+" must match."});var m=o.shape.slice(0,-2).concat([c,u]),b=t?o.as3D(f,s,c):o.as3D(f,c,s),g=r?a.as3D(p,u,l):a.as3D(p,l,u),v={transposeA:t,transposeB:r};return G.runKernelFunc(function(x,y){var w=x.batchMatMul(b,g,t,r);return y([b,g]),w},{a:b,b:g},function(x,y){var w=y,k=w[0],_=w[1];return t||r?!t&&r?{a:function(){return x.matMul(_,!1,!1)},b:function(){return x.matMul(k,!0,!1)}}:t&&!r?{a:function(){return _.matMul(x,!1,!0)},b:function(){return k.matMul(x,!1,!1)}}:{a:function(){return _.matMul(x,!0,!0)},b:function(){return x.matMul(k,!0,!0)}}:{a:function(){return x.matMul(_,!1,!0)},b:function(){return k.matMul(x,!0,!1)}}},"BatchMatMul",v).reshape(m)}}),MZ=q({dot_:function(n,e){var t=j(n,"t1","dot"),r=j(e,"t2","dot");W(!(t.rank!==1&&t.rank!==2||r.rank!==1&&r.rank!==2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+t.rank+" and "+r.rank+"."});var i=t.rank===1?t.size:t.shape[1],o=r.rank===1?r.size:r.shape[0];return W(i===o,function(){return"Error in dot: inner dimensions of inputs must match, but got "+i+" and "+o+"."}),t.rank===1&&r.rank===1?t.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():t.rank===1&&r.rank===2?t.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():t.rank===2&&r.rank===1?t.matMul(r.as2D(-1,1)).as1D():t.matMul(r.as2D(r.shape[0],r.shape[1]))}}),PZ=q({outerProduct_:function(n,e){var t=j(n,"v1","outerProduct"),r=j(e,"v2","outerProduct");return W(t.rank===1&&r.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+t.rank+" and "+r.rank+"."}),t.as2D(-1,1).matMul(r.as2D(1,-1))}}),zd=q({reverse_:function(n,e){var t=j(n,"x","reverse");if(t.rank===0)return t.clone();var r=on(e,t.shape);return G.runKernelFunc(function(i){return i.reverse(t,r)},{$x:t},function(i){return{$x:function(){return i.reverse(r)}}}).reshapeAs(t)}}),BZ=q({reverse1d_:function(n){var e=j(n,"x","reverse");return W(e.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+e.rank+"."}),zd(e,0)}}),zZ=q({reverse2d_:function(n,e){var t=j(n,"x","reverse");return W(t.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+t.rank+"."}),zd(t,e)}}),LZ=q({reverse3d_:function(n,e){var t=j(n,"x","reverse");return W(t.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+t.rank+"."}),zd(t,e)}}),jZ=q({reverse4d_:function(n,e){var t=j(n,"x","reverse");return W(t.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+t.rank+"."}),zd(t,e)}});function IT(n,e,t,r,i,o){var a=j(n,"x","maxPool"),s=a,l=!1;a.rank===3&&(l=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),W(s.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),W(ur(t,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+r+"'"}),o!=null&&W(Ut(i),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var c=td(s.shape,e,t,r,i,o);if(c.filterWidth===1&&c.filterHeight===1&&mn(c.inShape,c.outShape))return a.clone();var u=[s],d=G.runKernelFunc(function(h,f){var p=h.maxPool(s,c);return f([s,p]),p},{x:s},function(h,f){var p=f[0],m=f[1];return{x:function(){return function(b,g,v,x,y,w,k,_){var T=j(b,"dy","maxPoolBackprop"),E=j(g,"input","maxPoolBackprop"),A=j(v,"output","maxPoolBackprop");W(E.rank===T.rank,function(){return"Rank of input ("+E.rank+") does not match rank of dy ("+T.rank+")"}),W(ur(y,w),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+y+" and dilations '"+w+"'"}),W(T.rank===4,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+T.rank+"."}),W(E.rank===4,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+E.rank+"."});var M=td(E.shape,x,y,w,k,_);return G.runKernelFunc(function(I){return I.maxPoolBackprop(T,E,A,M)},{$dy:T,$input:E})}(h,p,m,e,t,r,i)}}},"MaxPool",c,u);return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}function RT(n,e,t,r,i,o){var a=j(n,"x","avgPool","float32");W(ur(t,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+r+"'"});var s=a,l=!1;a.rank===3&&(l=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),W(s.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),o!=null&&W(Ut(i),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var c=td(s.shape,e,t,r,i,o);if(c.filterWidth===1&&c.filterHeight===1&&mn(c.inShape,c.outShape))return a.clone();var u=G.runKernelFunc(function(d){return d.avgPool(s,c)},{x:s},function(d){return{x:function(){return function(h,f,p,m,b,g){var v=j(h,"dy","avgPoolBackprop"),x=j(f,"input","avgPoolBackprop");W(x.rank===v.rank,function(){return"Rank of input ("+x.rank+") does not match rank of dy ("+v.rank+")"}),W(ur(m,b),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+m+" and dilations '"+b+"'"});var y=x,w=v,k=!1;x.rank===3&&(k=!0,y=x.as4D(1,x.shape[0],x.shape[1],x.shape[2]),w=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),W(w.rank===4,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+w.rank+"."}),W(y.rank===4,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+y.rank+"."});var _=td(y.shape,p,m,b,g),T=G.runKernelFunc(function(E){return E.avgPoolBackprop(w,y,_)},{dy4D:w,input4D:y});return k?T.as3D(T.shape[1],T.shape[2],T.shape[3]):T}(d,s,e,t,r,i)}}},"AvgPool",c);return u=u.cast(a.dtype),l?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}var ln=q({maxPool_:function(n,e,t,r,i){return IT(n,e,t,1,r,i)}}),Ld=q({avgPool_:function(n,e,t,r,i){return RT(n,e,t,1,r,i)}}),NZ=q({pool_:function(n,e,t,r,i,o){i==null&&(i=[1,1]),o==null&&(o=1),r===0&&(r="valid");var a=j(n,"x","maxPool"),s=a,l=!1;a.rank===3&&(l=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),W(ur(o,i),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"});var c,u=td(s.shape,e,o,i,r),d=[u.dilationHeight,u.dilationWidth];c=r==="same"?function(y,w){var k=y.map(function(E,A){return E+(E-1)*(w[A]-1)}).map(function(E){return E-1}),_=k.map(function(E){return Math.floor(E/2)}),T=k.map(function(E,A){return E-_[A]});return k.map(function(E,A){return[_[A],T[A]]})}([u.filterHeight,u.filterWidth],d):[[0,0],[0,0]];var h=d[0]===1&&d[1]===1,f=function(y,w,k){var _=k.map(function(S){return S[0]}),T=k.map(function(S){return S[1]}),E=y.concat(_,T),A=w.map(function(S,O){return(S-E[O]%S)%S}),M=T.map(function(S,O){return S+A[O]}),I=w.map(function(S,O){return[_[O],M[O]]}),L=w.map(function(S,O){return[0,A[O]]});return[I,L]}([u.inHeight,u.inWidth],d,c),p=f[0],m=f[1],b=h?r:"valid",g=h?s:z6(s,d,p),v=(t==="avg"?function(){return RT(g,e,o,1,b)}:function(){return IT(g,e,o,1,b)})(),x=h?v:M6(v,d,m);return l?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),FZ=q({maxPool3d_:function(n,e,t,r,i,o,a){o===void 0&&(o="NDHWC");var s=j(n,"x","maxPool3d"),l=s,c=!1;s.rank===4&&(c=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),a==null&&(a=[1,1,1]),W(l.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+l.rank+"."}),W(o==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+o}),W(ur(t,a),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+a+"'"}),i!=null&&W(Ut(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var u=hp(l.shape,e,t,a,r,i,o),d=G.runKernelFunc(function(h,f){var p=h.maxPool3d(l,u);return f([l,p]),p},{x:l},function(h,f){var p=f[0],m=f[1];return{x:function(){return function(b,g,v,x,y,w,k,_){var T=j(b,"dy","maxPool3dBackprop"),E=j(g,"input","maxPool3dBackprop"),A=j(v,"output","maxPool3dBackprop"),M=T,I=E,L=A,S=!1;E.rank===4&&(S=!0,M=T.as5D(1,T.shape[0],T.shape[1],T.shape[2],T.shape[3]),I=E.as5D(1,E.shape[0],E.shape[1],E.shape[2],E.shape[3]),L=A.as5D(1,A.shape[0],A.shape[1],A.shape[2],A.shape[3])),W(M.rank===5,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+M.rank+"."}),W(I.rank===5,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+I.rank+"."}),W(L.rank===5,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+L.rank+"."}),w==null&&(w=[1,1,1]),W(ur(y,w),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+y+" and dilations '"+w+"'"}),_!=null&&W(Ut(k),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+_+" but got pad "+k+"."});var O=hp(I.shape,x,y,w,k,_),P=G.runKernelFunc(function(z){return z.maxPool3dBackprop(M,I,L,O)},{dy5D:M,input5D:I});return S?P.as4D(P.shape[1],P.shape[2],P.shape[3],P.shape[4]):P}(h,p,m,e,t,a,r,i)}}});return c?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),$Z=q({avgPool3d_:function(n,e,t,r,i,o,a){o===void 0&&(o="NDHWC");var s=j(n,"x","avgPool3d","float32"),l=s,c=!1;s.rank===4&&(c=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),a==null&&(a=[1,1,1]),W(l.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+l.rank+"."}),W(o==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+o}),W(ur(t,a),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+a+"'"}),i!=null&&W(Ut(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var u=hp(l.shape,e,t,a,r,i,o),d=G.runKernelFunc(function(h){return h.avgPool3d(l,u)},{x:l},function(h){return{x:function(){return function(f,p,m,b,g,v,x){var y=j(f,"dy","avgPool3dBackprop"),w=j(p,"input","avgPool3dBackprop"),k=y,_=w,T=!1;w.rank===4&&(T=!0,k=y.as5D(1,y.shape[0],y.shape[1],y.shape[2],y.shape[3]),_=w.as5D(1,w.shape[0],w.shape[1],w.shape[2],w.shape[3])),W(k.rank===5,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+k.rank+"."}),W(_.rank===5,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+_.rank+"."}),g==null&&(g=[1,1,1]),W(ur(b,g),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+b+" and dilations '"+g+"'"}),x!=null&&W(Ut(v),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+x+" but got pad "+v+"."});var E=hp(_.shape,m,b,g,v,x),A=G.runKernelFunc(function(M){return M.avgPool3dBackprop(k,_,E)},{dy5D:k,input5D:_});return T?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}(h,l,e,t,a,r,i)}}});return d=d.cast(l.dtype),c?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),Hi=q({slice_:function(n,e,t){var r,i,o=j(n,"x","slice");if(o.rank===0)throw new Error("Slicing scalar is not possible");(r=typeof e=="number"?[e].concat(new Array(o.rank-1).fill(0)):e.length<o.rank?e.concat(new Array(o.rank-e.length).fill(0)):e.slice()).forEach(function(l){W(l!==-1,function(){return"slice() does not support negative begin indexing."})}),i=(i=t==null?new Array(o.rank).fill(-1):typeof t=="number"?[t].concat(new Array(o.rank-1).fill(-1)):t.length<o.rank?t.concat(new Array(o.rank-t.length).fill(-1)):t).map(function(l,c){return l>=0?l:(W(l===-1,function(){return"Negative size values should be exactly -1 but got "+l+" for the slice() size at index "+c+"."}),o.shape[c]-r[c])}),mK(o,r,i);var a=o.shape,s={begin:r,size:i};return G.runKernelFunc(function(l){return l.slice(o,r,i)},{x:o},function(l){for(var c=[],u=0;u<l.rank;u++)c.push([r[u],a[u]-r[u]-i[u]]);return{x:function(){return l.pad(c)}}},"Slice",s)}}),UZ=q({slice1d_:function(n,e,t){var r=j(n,"x","slice1d");return W(r.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),Hi(r,[e],[t])}}),HZ=q({slice2d_:function(n,e,t){var r=j(n,"x","slice2d");return W(r.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),Hi(r,e,t)}}),DT=q({slice3d_:function(n,e,t){var r=j(n,"x","slice3d");return W(r.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),Hi(r,e,t)}}),WZ=q({slice4d_:function(n,e,t){var r=j(n,"x","slice4d");return W(r.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),Hi(r,e,t)}});function OT(n,e,t,r,i){return e.rank<t.rank&&(e=e.reshape(cr(e.shape,r))),n.rank<t.rank&&(n=n.reshape(cr(n.shape,r))),{x:function(){var o=n.mul(t.equal(e).cast(n.dtype));return i==null?o:o.transpose(i)}}}var VZ=q({all_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","all","bool"),i=on(e,r.shape),o=i,a=Ki(o,r.rank);a!=null&&(r=r.transpose(a),o=Yi(o.length,r.rank));var s=G.runKernelFunc(function(c){return c.all(r,o)},{$x:r});if(t){var l=cr(s.shape,i);return s.reshape(l)}return s}}),qZ=q({any_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","any","bool"),i=on(e,r.shape),o=i,a=Ki(o,r.rank);a!=null&&(r=r.transpose(a),o=Yi(o.length,r.rank));var s=G.runKernelFunc(function(c){return c.any(r,o)},{$x:r});if(t){var l=cr(s.shape,i);return s.reshape(l)}return s}}),GZ=q({argMax_:function(n,e){e===void 0&&(e=0);var t=j(n,"x","argMax");e==null&&(e=0);var r=on(e,t.shape),i=Ki(r,t.rank);i!=null&&(t=t.transpose(i),r=Yi(r.length,t.rank));var o={axis:r[0]},a=[t];return G.runKernelFunc(function(s,l){var c=s.argMax(t,r[0]);return l([t]),c},{x:t},function(s,l){var c=l[0];return{x:function(){return at(c)}}},"ArgMax",o,a)}}),KZ=q({argMin_:function(n,e){e===void 0&&(e=0);var t=j(n,"x","argMin");e==null&&(e=0);var r=on(e,t.shape),i=Ki(r,t.rank);return i!=null&&(t=t.transpose(i),r=Yi(r.length,t.rank)),G.runKernelFunc(function(o,a){var s=o.argMin(t,r[0]);return a([t]),s},{$x:t},function(o,a){var s=a[0];return{$x:function(){return at(s)}}})}}),YZ=q({logSumExp_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","logSumExp"),i=on(e,r.shape),o=r.max(i,!0),a=r.sub(o).exp().sum(i).log(),s=o.reshape(a.shape).add(a);if(t){var l=cr(s.shape,i);return s.reshape(l)}return s}}),Bm=q({max_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","max"),i=r,o=on(e,r.shape),a=o,s=Ki(a,r.rank);s!=null&&(r=r.transpose(s),a=Yi(a.length,r.rank));var l=[r],c=G.runKernelFunc(function(d,h){var f=d.max(r,a);return h([i,f]),f},{x:r},function(d,h){return OT(d,h[1],h[0],o,s)},"Max",{axes:a},l,[!0]);if(t){var u=cr(c.shape,o);c=c.reshape(u)}return c}}),XZ=q({mean_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","mean"),i=on(e,r.shape),o=Te(Rn(r.shape,i)[1]);return Rm(function(a){var s=ve(o);return{value:(s.dtype===a.dtype?a:a.cast(s.dtype)).div(s).sum(e,t),gradFunc:function(l){var c=a.shape.slice();return i.forEach(function(u){c[u]=1}),l.reshape(c).mul(Rc(a.shape,"float32")).div(o)}}})(r)}}),ZZ=q({min_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","min"),i=r,o=on(e,r.shape),a=o,s=Ki(a,r.rank);s!=null&&(r=r.transpose(s),a=Yi(a.length,r.rank));var l=[r],c=G.runKernelFunc(function(d,h){var f=d.min(r,a);return h([i,f]),f},{x:r},function(d,h){return OT(d,h[1],h[0],o,s)},"Min",{axes:a},l,[!0]);if(t){var u=cr(c.shape,o);c=c.reshape(u)}return c}}),JZ=q({moments_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=on(e,(n=j(n,"x","moments")).shape),i=n.mean(r,t),o=i.shape;t||(o=cr(i.shape,r));var a=n.toFloat().sub(i.reshape(o)).square();return{mean:i,variance:a.mean(r,t)}}}),MT=q({sum_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","sum");r.dtype==="bool"&&(r=r.toInt());var i=on(e,r.shape);return Rm(function(o){var a=Ki(i,o.rank),s=i,l=o;a!=null&&(l=o.transpose(a),s=Yi(s.length,o.rank));var c=function(f){var p=o.shape.slice();return i.forEach(function(m){p[m]=1}),f.reshape(p).mul(Rc(o.shape,"float32"))},u={axes:s},d=G.runKernelFunc(function(f){return f.sum(l,s)},{x:l},function(f){return{x:function(){return c(f)}}},"Sum",u);if(t){var h=cr(d.shape,i);d=d.reshape(h)}return{value:d,gradFunc:c}})(r)}}),QZ=q({prod_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","prod");r.dtype==="bool"&&(r=r.toInt());var i=on(e,r.shape),o=Ki(i,r.rank),a=i,s=r;o!=null&&(s=r.transpose(o),a=Yi(a.length,r.rank));var l=G.runKernelFunc(function(u){return u.prod(s,a)},{permutedX:s});if(t){var c=cr(l.shape,i);l=l.reshape(c)}return l}}),PT=q({elu_:function(n){var e=j(n,"x","elu");return G.runKernelFunc(function(t,r){var i=t.elu(e);return r([i]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return G.runKernelFunc(function(o){return o.eluDer(t,i)},{dy:t,y:i})}}})}}),eJ=q({leakyRelu_:function(n,e){e===void 0&&(e=.2);var t=j(n,"x","leakyRelu");return l1(ve(e).mul(t),t)}}),BT=q({prelu_:function(n,e){var t=j(n,"x","prelu"),r=j(e,"alpha","prelu");return G.runKernelFunc(function(i,o){var a=i.prelu(t,r);return o([t,r]),a},{x:t,alpha:r},function(i,o){var a=o[0],s=o[1],l=a.greater(0);return{x:function(){return _s(l,i,i.mul(s))},alpha:function(){var c=_s(l,at(i),i.mul(a)),u=nn(s.shape,i.shape);return u.length>0&&(c=c.sum(u)),c.reshape(s.shape)}}},"Prelu")}}),Dt=q({relu_:function(n){var e=j(n,"x","relu");return e.dtype==="bool"?e.toInt():G.runKernelFunc(function(t,r){var i=t.relu(e);return r([e]),i},{x:e},function(t,r){var i=r[0];return{x:function(){return t.mulStrict(i.step().toFloat())}}},"Relu")}}),zT=q({relu6_:function(n){var e=j(n,"x","relu6");return e.dtype==="bool"?e.toInt():G.runKernelFunc(function(t,r){var i=t.relu6(e);return r([e]),i},{x:e},function(t,r){var i=r[0],o=i.lessEqual(6).mul(i.step());return{x:function(){return t.mulStrict(o.toFloat())}}},"Relu6")}}),tJ=q({selu_:function(n){var e=j(n,"x","selu");return G.runKernelFunc(function(t,r){var i=t.selu(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){var o=i.greater(ve(0)),a=ve(o1),s=ve(a1),l=t.mul(s),c=t.mul(a).mul(i.toFloat().exp());return _s(o,l,c)}}})}}),ka=q({transpose_:function(n,e){var t=j(n,"x","transpose");if(e==null&&(e=t.shape.map(function(i,o){return o}).reverse()),W(t.rank===e.length,function(){return"Error in transpose: rank of input "+t.rank+" must match length of perm "+e+"."}),e.forEach(function(i){W(i>=0&&i<t.rank,function(){return"All entries in 'perm' must be between 0 and "+(t.rank-1)+" but got "+e})}),t.rank<=1)return t.clone();var r={perm:e};return G.runKernelFunc(function(i){return i.transpose(t,e)},{x:t},function(i){var o=Yy(e);return{x:function(){return i.transpose(o)}}},"Transpose",r)}}),nJ=q({localResponseNormalization_:function(n,e,t,r,i){e===void 0&&(e=5),t===void 0&&(t=1),r===void 0&&(r=1),i===void 0&&(i=.5);var o=j(n,"x","localResponseNormalization");W(o.rank===4||o.rank===3,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+o.rank+"."}),W(Ut(e),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+e+"."});var a=o,s=!1;o.rank===3&&(s=!0,a=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]));var l=G.runKernelFunc(function(c,u){var d=c.localResponseNormalization4D(a,e,t,r,i);return u([a,d]),d},{x4D:a},function(c,u){var d=u[0],h=u[1];return{x4D:function(){return G.runKernelFunc(function(f){return f.LRNGrad(c,d,h,e,t,r,i)},{})}}});return s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),LT=q({norm_:function(n,e,t,r){e===void 0&&(e="euclidean"),t===void 0&&(t=null),r===void 0&&(r=!1);var i=function s(l,c,u){if(u===void 0&&(u=null),l.rank===0)return l.abs();if(l.rank!==1&&u===null)return s(l.reshape([-1]),c,u);if(l.rank===1||typeof u=="number"||Array.isArray(u)&&u.length===1){if(c===1)return l.abs().sum(u);if(c===1/0)return l.abs().max(u);if(c===-1/0)return l.abs().min(u);if(c==="euclidean"||c===2)return l.abs().pow(ve(2,"int32")).sum(u).sqrt();throw new Error("Error in norm: invalid ord value: "+c)}if(Array.isArray(u)&&u.length===2){if(c===1)return l.abs().sum(u[0]).max(u[1]-1);if(c===1/0)return l.abs().sum(u[1]).max(u[0]);if(c===-1/0)return l.abs().sum(u[1]).min(u[0]);if(c==="fro"||c==="euclidean")return l.square().sum(u).sqrt();throw new Error("Error in norm: invalid ord value: "+c)}throw new Error("Error in norm: invalid axis: "+u)}(n=j(n,"x","norm"),e,t),o=i.shape;if(r){var a=on(t,n.shape);o=cr(i.shape,a)}return i.reshape(o)}}),rJ=q({basicLSTMCell_:function(n,e,t,r,i,o){var a=j(n,"forgetBias","basicLSTMCell"),s=j(e,"lstmKernel","basicLSTMCell"),l=j(t,"lstmBias","basicLSTMCell"),c=j(r,"data","basicLSTMCell"),u=j(i,"c","basicLSTMCell"),d=j(o,"h","basicLSTMCell"),h=c.concat(d,1).matMul(s).add(l),f=h.shape[0],p=h.shape[1]/4,m=[f,p],b=h.slice([0,0],m),g=h.slice([0,p],m),v=h.slice([0,2*p],m),x=h.slice([0,3*p],m),y=b.sigmoid().mulStrict(g.tanh()).addStrict(u.mulStrict(a.add(v).sigmoid())),w=y.tanh().mulStrict(x.sigmoid());return[y,w]}}),iJ=q({multiRNNCell_:function(n,e,t,r){for(var i=j(e,"data","multiRNNCell"),o=ap(t,"c","multiRNNCell"),a=ap(r,"h","multiRNNCell"),s=i,l=[],c=0;c<n.length;c++){var u=n[c](s,o[c],a[c]);l.push(u[0]),l.push(u[1]),s=u[1]}var d=[],h=[];for(c=0;c<l.length;c+=2)d.push(l[c]),h.push(l[c+1]);return[d,h]}}),oJ=q({movingAverage_:function(n,e,t,r,i){i===void 0&&(i=!0);var o=j(n,"v","movingAverage"),a=j(e,"x","movingAverage"),s=j(t,"decay","movingAverage");nG(o,a),W(mn(o.shape,a.shape),function(){return"Shape mismatch in v and x"});var l=ve(1),c=l.sub(s),u=a.sub(o).mul(c);if(i){W(r!=null,function(){return"When using zeroDebias: true, step is required."});var d=j(r,"step","movingAverage");u=u.div(l.sub(gp(s,d)))}return o.add(u)}}),aJ=q({stridedSlice_:function(n,e,t,r,i,o,a,s,l){if(i===void 0&&(i=0),o===void 0&&(o=0),a===void 0&&(a=0),s===void 0&&(s=0),l===void 0&&(l=0),r==null&&(r=new Array(e.length)),a!==0)throw new Error("ellipsis mask is not yet supported");var c=j(n,"x","stridedSlice"),u=M_(s),d=c.shape.slice();u.forEach(function(b){e[b]=0,t[b]=1,d.splice(b,0,1)}),c=c.reshape(d);for(var h=0;h<c.rank;h++)e[h]=gK(i,e,r,c.shape,h),t[h]=bK(o,t,r,c.shape,h),r[h]=r[h]||1;var f=M_(l);f.forEach(function(b){t[b]=e[b]+1,r[b]=1});var p=Qy(e,t,r),m=p.filter(function(b,g){return f.indexOf(g)===-1});return r.every(function(b){return b===1})?Hi(c,e,p).reshape(m):G.runKernelFunc(function(b){return b.stridedSlice(c,e,t,r)},{$x:c}).reshape(m)}}),sJ=q({topk_:function(n,e,t){e===void 0&&(e=1),t===void 0&&(t=!0);var r=j(n,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var i=r.shape[r.shape.length-1];if(e>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+e);var o=G.runKernelFunc(function(a){return a.topk(r,e,t)},{$x:r});return{values:o[0],indices:o[1]}}}),lJ=q({scatterND_:function(n,e,t){var r=j(n,"indices","scatterND","int32"),i=j(e,"updates","scatterND");return pK(i,r,t),G.runKernelFunc(function(o){return o.scatterND(r,i,t)},{indices:r,updates:i},null,"ScatterNd",{shape:t})}}),h1=q({fft_:function(n){W(n.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+n.dtype+"."});var e=n.shape[n.shape.length-1],t=n.size/e,r=n.as2D(t,e);return G.runKernelFunc(function(i){return i.fft(r)},{input:n}).reshape(n.shape)}}),bp=q({ifft_:function(n){W(n.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+n.dtype+"."});var e=n.shape[n.shape.length-1],t=n.size/e,r=n.as2D(t,e);return G.runKernelFunc(function(i){return i.ifft(r)},{input:n}).reshape(n.shape)}}),f1=q({rfft_:function(n,e){W(n.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+n.dtype});var t,r=n.shape[n.shape.length-1],i=n.size/r;if(e!=null&&e<r){var o=n.shape.map(function(g){return 0}),a=n.shape.map(function(g){return g});a[n.shape.length-1]=e,t=n.slice(o,a),r=e}else if(e!=null&&e>r){var s=n.shape.map(function(g){return g});s[n.shape.length-1]=e-r,t=n.concat(_t(s),n.shape.length-1),r=e}else t=n;var l=t.zerosLike(),c=yn(t,l).as2D(i,r),u=h1(c),d=Math.floor(r/2)+1,h=Hr(u),f=Oi(u),p=h.split([d,r-d],h.shape.length-1),m=f.split([d,r-d],f.shape.length-1),b=t.shape.slice();return b[t.shape.length-1]=d,yn(p[0],m[0]).reshape(b)}}),jT=q({irfft_:function(n){var e=n.shape[n.shape.length-1],t=n.size/e;if(e<=2){var r=n.as2D(t,e),i=bp(r);return Hr(i)}var o=[t,2*(e-1)],a=Hr(n).as2D(t,e),s=Oi(n).as2D(t,e),l=a.slice([0,1],[t,e-2]).reverse(1),c=s.slice([0,1],[t,e-2]).reverse(1).mul(ve(-1)),u=a.concat(l,1),d=s.concat(c,1);return r=yn(u,d).as2D(o[0],o[1]),i=bp(r),Hr(i)}}),cJ=Object.freeze({fft:h1,ifft:bp,rfft:f1,irfft:jT}),uJ=q({sparseToDense_:function(n,e,t,r){r===void 0&&(r=0);var i=j(n,"sparseIndices","sparseToDense","int32"),o=j(e,"sparseValues","sparseToDense"),a=j(r,"defaultValue","sparseToDense",o.dtype);return function(s,l,c,u){if(s.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+s.dtype+".");if(s.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+s.shape+".");var d=s.rank>0?s.shape[0]:1,h=s.rank>1?s.shape[1]:1;if(c.length!==h)throw new Error("outputShape has incorrect number of elements:, "+c.length+", should be: "+h+".");var f=l.size;if(l.rank!==0&&(l.rank!==1||f!==d))throw new Error("sparseValues has incorrect shape "+l.shape+", should be [] or ["+d+"]");if(l.dtype!==u.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,o,t,a),G.runKernelFunc(function(s){return s.sparseToDense(i,o,t,a)},{$sparseIndices:i,$sparseValues:o,$defaultValue:a})}}),dJ=q({gatherND_:function(n,e){var t=j(e,"indices","gatherND","int32"),r=j(n,"x","gatherND");return G.runKernelFunc(function(i){return i.gatherND(r,t)},{x:r,indices:t},null,"GatherNd")}}),hJ=q({diag_:function(n){var e=j(n,"x","diag").flatten(),t=n.shape.concat(n.shape);return G.runKernelFunc(function(r){return r.diag(e)},{$x:e}).reshape(t)}}),fJ=q({dropout_:function(n,e,t,r){var i=j(n,"x","dropout");if(W(i.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+i.dtype+" tensor instead."}),W(e>=0&&e<1,function(){return"rate must be a float in the range [0, 1), but got "+e+"."}),e===0)return n instanceof At?i.clone():i;var o=function(l,c){if(c==null)return l.shape.slice();if(mn(l.shape,c))return c;if(l.shape.length===c.length){for(var u=[],d=0;d<l.shape.length;d++)c[d]==null&&l.shape[d]!=null?u.push(l.shape[d]):u.push(c[d]);return u}return c}(i,t),a=1-e,s=B6(o,0,1,"float32",r).add(a).floor().div(a);return i.mul(s)}});function NT(n,e,t){for(var r=1-n%2,i=new Float32Array(n),o=0;o<n;++o){var a=2*Math.PI*o/(n+r-1);i[o]=e-t*Math.cos(a)}return Vt(i,"float32")}var p1=q({hannWindow_:function(n){return NT(n,.5,.5)}}),FT=q({hammingWindow_:function(n){return NT(n,.54,.46)}}),m1=q({frame_:function(n,e,t,r,i){r===void 0&&(r=!1),i===void 0&&(i=0);for(var o=0,a=[];o+e<=n.size;)a.push(Hi(n,o,e)),o+=t;if(r)for(;o<n.size;){var s=o+e-n.size,l=Jt([Hi(n,o,e-s),Fi([s],i)]);a.push(l),o+=t}return a.length===0?fa([],[0,e]):Jt(a).as2D(a.length,e)}}),$T=q({stft_:function(n,e,t,r,i){var o;i===void 0&&(i=p1),r==null&&(o=e,r=Math.floor(Math.pow(2,Math.ceil(Math.log(o)/Math.log(2)))));for(var a=m1(n,e,t),s=jn(a,i(e)),l=[],c=0;c<a.shape[0];c++)l.push(f1(s.slice([c,0],[1,e]),r));return Jt(l)}}),pJ=Object.freeze({hannWindow:p1,hammingWindow:FT,frame:m1,stft:$T}),Mn,mJ=function(n,e,t){return t===void 0&&(t=1),Ee(this,void 0,void 0,function(){var r,i,o,a,s,l,c,u,d,h,f,p,m,b;return Se(this,function(g){switch(g.label){case 0:return r=j(n,"predictions","inTopK"),i=j(e,"targets","inTopK"),W(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),W(r.rank-1===i.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+i.rank}),ct(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=r.shape[r.shape.length-1],W(t>0&&t<=o,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+o+"), but got "+t}),[4,r.data()];case 1:return a=g.sent(),[4,i.data()];case 2:for(s=g.sent(),l=[a.length/o,o],u=l[1],d=Ju("bool",c=l[0]),h=0;h<c;h++){for(f=h*u,p=a.subarray(f,f+u),m=[],b=0;b<p.length;b++)m.push({value:p[b],index:b});for(m.sort(function(v,x){return x.value-v.value}),d[h]=0,b=0;b<t;b++)if(m[b].index===s[h]){d[h]=1;break}}return n!==r&&r.dispose(),e!==i&&i.dispose(),[2,kn(d,i.shape,"bool")]}})})};(function(n){n[n.NONE=0]="NONE",n[n.MEAN=1]="MEAN",n[n.SUM=2]="SUM",n[n.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Mn||(Mn={}));var gJ=q({absoluteDifference_:function(n,e,t,r){r===void 0&&(r=Mn.SUM_BY_NONZERO_WEIGHTS);var i=j(n,"labels","absoluteDifference"),o=j(e,"predictions","absoluteDifference"),a=null;t!=null&&(a=j(t,"weights","absoluteDifference")),ct(i.shape,o.shape,"Error in absoluteDifference: ");var s=i.sub(o).abs();return Do(s,a,r)}}),Do=q({computeWeightedLoss_:function(n,e,t){t===void 0&&(t=Mn.SUM_BY_NONZERO_WEIGHTS);var r=j(n,"losses","computeWeightedLoss"),i=null;e!=null&&(i=j(e,"weights","computeWeightedLoss"));var o=i==null?r:r.mul(i);if(t===Mn.NONE)return o;if(t===Mn.SUM)return o.sum();if(t===Mn.MEAN){if(i==null)return o.mean();var a=r.size/i.size,s=o.sum().div(i.sum());return a>1?s.div(ve(a)):s}if(t===Mn.SUM_BY_NONZERO_WEIGHTS){if(i==null)return o.sum().div(ve(r.size));var l=i.mul(Rc(r.shape)).notEqual(ve(0)).sum().toFloat();return o.sum().div(l)}throw Error("Unknown reduction: "+t)}}),bJ=q({cosineDistance_:function(n,e,t,r,i){i===void 0&&(i=Mn.SUM_BY_NONZERO_WEIGHTS);var o=j(n,"labels","cosineDistance"),a=j(e,"predictions","cosineDistance"),s=null;r!=null&&(s=j(r,"weights","cosineDistance")),ct(o.shape,a.shape,"Error in cosineDistance: ");var l=ve(1).sub(o.mul(a).sum(t,!0));return Do(l,s,i)}}),vJ=q({hingeLoss_:function(n,e,t,r){r===void 0&&(r=Mn.SUM_BY_NONZERO_WEIGHTS);var i=j(n,"labels","hingeLoss"),o=j(e,"predictions","hingeLoss"),a=null;t!=null&&(a=j(t,"weights","hingeLoss")),ct(i.shape,o.shape,"Error in hingeLoss: ");var s=ve(1);i=ve(2).mul(i).sub(s);var l=s.sub(i.mul(o)).relu();return Do(l,a,r)}}),xJ=q({huberLoss_:function(n,e,t,r,i){r===void 0&&(r=1),i===void 0&&(i=Mn.SUM_BY_NONZERO_WEIGHTS);var o=j(n,"labels","huberLoss"),a=j(e,"predictions","huberLoss"),s=null;t!=null&&(s=j(t,"weights","huberLoss")),ct(o.shape,a.shape,"Error in huberLoss: ");var l=ve(r),c=a.sub(o).abs(),u=yT(c,l),d=c.sub(u),h=ve(.5).mul(u.square()).add(l.mul(d));return Do(h,s,i)}}),yJ=q({logLoss_:function(n,e,t,r,i){r===void 0&&(r=1e-7),i===void 0&&(i=Mn.SUM_BY_NONZERO_WEIGHTS);var o=j(n,"labels","logLoss"),a=j(e,"predictions","logLoss"),s=null;t!=null&&(s=j(t,"weights","logLoss")),ct(o.shape,a.shape,"Error in logLoss: ");var l=ve(1),c=ve(r),u=o.mul(a.add(c).log()).neg().sub(l.sub(o).mul(l.sub(a).add(c).log()));return Do(u,s,i)}}),wJ=q({meanSquaredError_:function(n,e,t,r){r===void 0&&(r=Mn.SUM_BY_NONZERO_WEIGHTS);var i=j(n,"labels","meanSquaredError"),o=j(e,"predictions","meanSquaredError"),a=null;t!=null&&(a=j(t,"weights","meanSquaredError")),ct(i.shape,o.shape,"Error in meanSquaredError: ");var s=i.squaredDifference(o);return Do(s,a,r)}}),kJ=q({sigmoidCrossEntropy_:function(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=Mn.SUM_BY_NONZERO_WEIGHTS);var o=j(n,"multiClassLabels","sigmoidCrossEntropy"),a=j(e,"logits","sigmoidCrossEntropy"),s=null;if(t!=null&&(s=j(t,"weights","sigmoidCrossEntropy")),ct(o.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){var l=ve(r),c=ve(1),u=ve(.5);o=o.mul(c.sub(l)).add(u.mul(l))}var d=function(h,f){var p=j(h,"labels","sigmoidCrossEntropyWithLogits"),m=j(f,"logits","sigmoidCrossEntropyWithLogits");ct(p.shape,m.shape,"Error in sigmoidCrossEntropyWithLogits: ");var b=m.relu(),g=m.mul(p),v=m.abs().neg().exp().log1p();return b.sub(g).add(v)}(o,a);return Do(d,s,i)}}),_J=q({softmaxCrossEntropy_:function(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=Mn.SUM_BY_NONZERO_WEIGHTS);var o=j(n,"onehotLabels","softmaxCrossEntropy"),a=j(e,"logits","softmaxCrossEntropy"),s=null;if(t!=null&&(s=j(t,"weights","softmaxCrossEntropy")),ct(o.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){var l=ve(r),c=ve(1),u=ve(o.shape[1]);o=o.mul(c.sub(l)).add(l.div(u))}var d=function(h,f,p){if(p===void 0&&(p=-1),p===-1&&(p=f.rank-1),p!==f.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+f.rank+" and dim was "+p);return Rm(function(m,b,g){var v=b.logSumExp([p],!0),x=b.toFloat().sub(v);return g([m,x]),{value:x.mul(m).neg().sum([p]),gradFunc:function(y,w){var k=w[0],_=w[1],T=cr(y.shape,[p]);return[y.reshape(T).mul(k.toFloat().sub(_.exp())),y.reshape(T).mul(_.exp().sub(k.toFloat()))]}}})(h,f)}(o,a);return Do(d,s,i)}}),CJ=Object.freeze({get Reduction(){return Mn},absoluteDifference:gJ,computeWeightedLoss:Do,cosineDistance:bJ,hingeLoss:vJ,huberLoss:xJ,logLoss:yJ,meanSquaredError:wJ,sigmoidCrossEntropy:kJ,softmaxCrossEntropy:_J});function tC(n,e){return e===void 0&&(e=!1),G.tidy(function(){if(n.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+n.shape.length+"D Tensor.");for(var t=n.shape[0],r=n.shape[1],i=P6(t),o=n.clone(),a=fa([[1]],[1,1]),s=a.clone(),l=t>=r?r:t,c=function(d){var h,f=o,p=s,m=i;h=G.tidy(function(){var b=o.slice([d,d],[t-d,1]),g=b.norm(),v=o.slice([d,d],[1,1]),x=fa([[-1]]).where(v.greater(0),fa([[1]])),y=v.sub(x.mul(g)),w=b.div(y);s=w.shape[0]===1?a.clone():a.concat(w.slice([1,0],[w.shape[0]-1,w.shape[1]]),0);var k=x.matMul(y).div(g).neg(),_=o.slice([d,0],[t-d,r]),T=k.mul(s);if(d===0)o=_.sub(T.matMul(s.transpose().matMul(_)));else{var E=_.sub(T.matMul(s.transpose().matMul(_)));o=o.slice([0,0],[d,r]).concat(E,0)}var A=i.slice([0,d],[t,i.shape[1]-d]);if(d===0)i=A.sub(A.matMul(s).matMul(T.transpose()));else{var M=A.sub(A.matMul(s).matMul(T.transpose()));i=i.slice([0,0],[t,d]).concat(M,1)}return[s,o,i]}),s=h[0],o=h[1],i=h[2],rr([f,p,m])},u=0;u<l;++u)c(u);return!e&&t>r&&(i=i.slice([0,0],[t,r]),o=o.slice([0,0],[r,r])),[i,o]})}var EJ=q({bandPart_:function(n,e,t){if(e%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+e+".");if(t%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+t+".");var r=j(n,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var i=r.shape,o=r.shape.slice(-2),a=o[0],s=o[1];if(!(e<=a))throw new Error("bandPart(): numLower ("+e+") must not be greater than the number of rows ("+a+").");if(!(t<=s))throw new Error("bandPart(): numUpper ("+t+") must not be greater than the number of columns ("+s+").");e<0&&(e=a),t<0&&(t=s);var l=sp(0,a,1,"int32").reshape([-1,1]),c=sp(0,s,1,"int32"),u=rn(l,c),d=Om(u.lessEqual(ve(+e,"int32")),u.greaterEqual(ve(-t,"int32"))),h=_t([a,s],r.dtype);return Ar(Qt(r.reshape([-1,a,s])).map(function(f){return _s(d,f,h)})).reshape(i)}}),SJ=q({gramSchmidt_:function(n){var e;if(Array.isArray(n)){e=!1,W(n!=null&&n.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var t=n[0].shape[0],r=function(l){W(n[l].shape[0]===t,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+n[l].shape[0]+" vs. "+t+")"})},i=1;i<n.length;++i)r(i)}else e=!0,n=Zy(n,n.shape[0],0).map(function(l){return L6(l,[0])});W(n.length<=n[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+n.length+") exceeds number of dimensions ("+n[0].shape[0]+")."});var o=[],a=n,s=function(l){o.push(G.tidy(function(){var c=a[l];if(l>0)for(var u=0;u<l;++u){var d=MT(o[u].mulStrict(c)).mul(o[u]);c=c.sub(d)}return c.div(LT(c,"euclidean"))}))};for(i=0;i<n.length;++i)s(i);return e?Ar(o,0):o}}),TJ=q({qr_:function(n,e){if(e===void 0&&(e=!1),n.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+n.rank);if(n.rank===2)return tC(n,e);var t=n.shape.slice(0,n.shape.length-2).reduce(function(a,s){return a*s}),r=Qt(n.reshape([t,n.shape[n.shape.length-2],n.shape[n.shape.length-1]]),0),i=[],o=[];return r.forEach(function(a){var s=tC(a,e),l=s[0],c=s[1];i.push(l),o.push(c)}),[Ar(i,0).reshape(n.shape),Ar(o,0).reshape(n.shape)]}}),AJ=Object.freeze({bandPart:EJ,gramSchmidt:SJ,qr:TJ});function zm(n,e,t,r,i,o){r==null&&(r=.5),i==null&&(i=Number.NEGATIVE_INFINITY),o==null&&(o=0);var a=n.shape[0];return t=Math.min(t,a),W(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),W(n.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+n.rank+"'"}),W(n.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+n.shape[1]}),W(e.rank===1,function(){return"scores must be a 1D tensor"}),W(e.shape[0]===a,function(){return"scores has incompatible shape with boxes. Expected "+a+", but was "+e.shape[0]}),W(0<=o&&o<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+o+"'"}),{maxOutputSize:t,iouThreshold:r,scoreThreshold:i,softNmsSigma:o}}var IJ=q({resizeBilinear_:function(n,e,t){t===void 0&&(t=!1);var r=j(n,"images","resizeBilinear");W(r.rank===3||r.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),W(e.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+e+"."});var i=r,o=!1;r.rank===3&&(o=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=e[0],s=e[1],l=G.runKernelFunc(function(c,u){return u([i]),c.resizeBilinear(i,a,s,t)},{x:i},function(c,u){return{x:function(){return G.runKernelFunc(function(d){return d.resizeBilinearBackprop(c,u[0],t)},{})}}},"ResizeBilinear",{alignCorners:t,newHeight:a,newWidth:s});return o?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),RJ=q({resizeNearestNeighbor_:function(n,e,t){t===void 0&&(t=!1);var r=j(n,"images","resizeNearestNeighbor");W(r.rank===3||r.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),W(e.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+e+"."}),W(r.dtype==="float32"||r.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"});var i=r,o=!1;r.rank===3&&(o=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=e[0],s=e[1],l=G.runKernelFunc(function(c,u){return u([i]),c.resizeNearestNeighbor(i,a,s,t)},{batchImages:i},function(c,u){return{batchImages:function(){return G.runKernelFunc(function(d){return d.resizeNearestNeighborBackprop(c,u[0],t)},{})}}});return o?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),DJ=q({nonMaxSuppression_:function(n,e,t,r,i){r===void 0&&(r=.5),i===void 0&&(i=Number.NEGATIVE_INFINITY);var o=j(n,"boxes","nonMaxSuppression"),a=j(e,"scores","nonMaxSuppression"),s=zm(o,a,t,r,i);t=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;var l={maxOutputSize:t,iouThreshold:r,scoreThreshold:i};return G.runKernelFunc(function(c){return c.nonMaxSuppression(o,a,t,r,i)},{boxes:o,scores:a},null,"NonMaxSuppressionV3",l)}}),OJ=function(n,e,t,r,i){return r===void 0&&(r=.5),i===void 0&&(i=Number.NEGATIVE_INFINITY),Ee(this,void 0,void 0,function(){var o,a,s,l,c,u,d;return Se(this,function(h){switch(h.label){case 0:return o=j(n,"boxes","nonMaxSuppressionAsync"),a=j(e,"scores","nonMaxSuppressionAsync"),s=zm(o,a,t,r,i),t=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold,[4,Promise.all([o.data(),a.data()])];case 1:return l=h.sent(),c=l[0],u=l[1],d=t1(c,u,t,r,i),o!==n&&o.dispose(),a!==e&&a.dispose(),[2,d]}})})},MJ=q({nonMaxSuppressionWithScore_:function(n,e,t,r,i,o){r===void 0&&(r=.5),i===void 0&&(i=Number.NEGATIVE_INFINITY),o===void 0&&(o=0);var a=j(n,"boxes","nonMaxSuppression"),s=j(e,"scores","nonMaxSuppression"),l=zm(a,s,t,r,i,o),c={maxOutputSize:t=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:i=l.scoreThreshold,softNmsSigma:o=l.softNmsSigma},u=G.runKernel("NonMaxSuppressionV5",{boxes:a,scores:s},c);return{selectedIndices:u[0],selectedScores:u[1]}}}),PJ=function(n,e,t,r,i,o){return r===void 0&&(r=.5),i===void 0&&(i=Number.NEGATIVE_INFINITY),o===void 0&&(o=0),Ee(this,void 0,void 0,function(){var a,s,l,c,u,d,h;return Se(this,function(f){switch(f.label){case 0:return a=j(n,"boxes","nonMaxSuppressionAsync"),s=j(e,"scores","nonMaxSuppressionAsync"),l=zm(a,s,t,r,i,o),t=l.maxOutputSize,r=l.iouThreshold,i=l.scoreThreshold,o=l.softNmsSigma,[4,Promise.all([a.data(),s.data()])];case 1:return c=f.sent(),u=c[0],d=c[1],h=n1(u,d,t,r,i,o),a!==n&&a.dispose(),s!==e&&s.dispose(),[2,h]}})})},BJ=q({cropAndResize_:function(n,e,t,r,i,o){var a=j(n,"image","cropAndResize"),s=j(e,"boxes","cropAndResize","float32"),l=j(t,"boxInd","cropAndResize","int32");i=i||"bilinear",o=o||0;var c=s.shape[0];return W(a.rank===4,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+a.rank+"."}),W(s.rank===2&&s.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+c+",4] but had shape "+s.shape+"."}),W(l.rank===1&&l.shape[0]===c,function(){return"Error in cropAndResize: boxInd must be have size ["+c+"] but had shape "+s.shape+"."}),W(r.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),W(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),W(i==="bilinear"||i==="nearest",function(){return"method must be bilinear or nearest, but was "+i}),G.runKernelFunc(function(u,d){return u.cropAndResize(a,s,l,r,i,o)},{images:a,boxes:s,boxInd:l},null,"CropAndResize",{method:i,extrapolationValue:o,cropSize:r})}}),g1=Object.freeze({resizeBilinear:IJ,resizeNearestNeighbor:RJ,nonMaxSuppression:DJ,nonMaxSuppressionAsync:OJ,nonMaxSuppressionWithScore:MJ,nonMaxSuppressionWithScoreAsync:PJ,cropAndResize:BJ}),b1=function(n,e){return!(n>0)||e==="linear"},v1=function(n,e,t){if(t==null||t==="linear")return n;if(t==="relu")return n.mul(e.step());throw new Error("Gradient for activation "+t+" has not been implemented yet.")},x1=function(n,e){var t=e,r=nn(n.shape,e.shape);return r.length>0&&(t=t.sum(r)),t.reshape(n.shape)},y1=function(n,e,t){if(e==="linear")return n;if(e==="relu")return Dt(n);if(e==="elu")return PT(n);if(e==="relu6")return zT(n);if(e==="prelu")return BT(n,t);throw new Error("Unknown fused activation "+e+".")},zJ=q({fusedMatMul_:function(n){var e,t=n.a,r=n.b,i=n.transposeA,o=i!==void 0&&i,a=n.transposeB,s=a!==void 0&&a,l=n.bias,c=n.activation,u=c===void 0?"linear":c,d=n.preluActivationWeights;if(b1(G.state.gradientDepth,u)===!1){var h=Pm(t,r,o,s);return l!=null&&(h=Qe(h,l)),y1(h,u,d)}var f=j(t,"a","fused matMul"),p=j(r,"b","fused matMul");e=Mt(f,p),f=e[0],p=e[1];var m=o?f.shape[f.rank-2]:f.shape[f.rank-1],b=s?p.shape[p.rank-1]:p.shape[p.rank-2],g=o?f.shape[f.rank-1]:f.shape[f.rank-2],v=s?p.shape[p.rank-2]:p.shape[p.rank-1],x=f.shape.slice(0,-2),y=p.shape.slice(0,-2),w=Te(x),k=Te(y);W(f.rank>=2&&p.rank>=2&&f.rank===p.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+f.rank+" and "+p.rank+"."}),W(mn(x,y),function(){return"Error in fused matMul: outer dimensions ("+x+") and ("+y+") of Tensors with shapes "+f.shape+" and "+p.shape+" must match."}),W(m===b,function(){return"Error in fused matMul: inner shapes ("+m+") and ("+b+") of Tensors with shapes "+f.shape+" and "+p.shape+" and transposeA="+o+" and transposeB="+s+" must match."});var _,T,E=f.shape.slice(0,-2).concat([g,v]),A=o?f.as3D(w,m,g):f.as3D(w,g,m),M=s?p.as3D(k,v,b):p.as3D(k,b,v);l!=null&&tt(E,(_=Mt(_=j(l,"bias","fused matMul"),f)[0]).shape),d!=null&&(T=j(d,"prelu weights","fused matMul"));var I={a:A,b:M};l!=null&&(I.bias=_),d!=null&&(I.preluActivationWeights=T);var L=[A,M];return G.runKernelFunc(function(S,O){var P=S.fusedBatchMatMul({a:A,b:M,transposeA:o,transposeB:s,bias:_,activation:u,preluActivationWeights:T});return O([A,M,P]),P},I,function(S,O){var P=O[0],z=O[1],N=O[2],B=v1(S,N,u),U={};return l!=null&&(U={bias:function(){return x1(_,B)}}),Object.assign(o||s?!o&&s?{a:function(){return B.matMul(z,!1,!1)},b:function(){return B.matMul(P,!0,!1)}}:o&&!s?{a:function(){return z.matMul(B,!1,!0)},b:function(){return P.matMul(B,!1,!1)}}:{a:function(){return z.matMul(B,!0,!0)},b:function(){return B.matMul(P,!0,!0)}}:{a:function(){return B.matMul(z,!1,!0)},b:function(){return P.matMul(B,!0,!1)}},U)},"_FusedMatMul",{transposeA:o,transposeB:s,activation:u},L,[!0]).reshape(E)}}),LJ=q({fusedConv2d_:function(n){var e=n.x,t=n.filter,r=n.strides,i=n.pad,o=n.dataFormat,a=o===void 0?"NHWC":o,s=n.dilations,l=s===void 0?[1,1]:s,c=n.dimRoundingMode,u=n.bias,d=n.activation,h=d===void 0?"linear":d,f=n.preluActivationWeights;if(h=h||"linear",b1(G.state.gradientDepth,h)===!1){var p=ei(e,t,r,i,a,l,c);return u!=null&&(p=Qe(p,u)),y1(p,h,f)}var m=j(e,"x","conv2d"),b=j(t,"filter","conv2d"),g=m,v=!1;m.rank===3&&(v=!0,g=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),W(g.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+g.rank+"."}),W(b.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+b.rank+"."}),c!=null&&W(Ut(i),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+i+"."}),W(g.shape[3]===b.shape[2],function(){return"Error in conv2d: depth of input ("+g.shape[3]+") must match input depth for filter "+b.shape[2]+"."}),W(ur(r,l),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"}),W(a==="NHWC",function(){return"Error in conv2d: got dataFormat of "+a+" but only NHWC is currently supported."});var x,y,w=Fs(g.shape,b.shape,r,l,i,c);u!=null&&(x=Mt(x=j(u,"bias","fused conv2d"),m)[0],tt(w.outShape,x.shape)),f!=null&&(y=j(f,"prelu weights","fused conv2d"));var k={x:g,filter:b};u!=null&&(k.bias=x),f!=null&&(k.preluActivationWeights=y);var _=[b,g],T=G.runKernelFunc(function(E,A){var M=E.fusedConv2d({input:g,filter:b,convInfo:w,bias:x,activation:h,preluActivationWeights:y});return A([b,g,M]),M},k,function(E,A){var M=A,I=M[0],L=M[1],S=M[2],O=v1(E,S,h);W(dc(l),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+l+"'"});var P={};return u!=null&&(P={bias:function(){return x1(x,O)}}),Object.assign({x:function(){return ST(L.shape,O,I,r,i)},filter:function(){return u1(L,O,I.shape,r,i)}},P)},"FusedConv2D",{convInfo:w,activation:h},_,[!0]);return v?T.as3D(T.shape[1],T.shape[2],T.shape[3]):T}}),jJ=q({fusedDepthwiseConv2d_:function(n){var e=n.x,t=n.filter,r=n.strides,i=n.pad,o=n.dataFormat,a=o===void 0?"NHWC":o,s=n.dilations,l=s===void 0?[1,1]:s,c=n.dimRoundingMode,u=n.bias,d=n.activation,h=d===void 0?"linear":d,f=n.preluActivationWeights;if(b1(G.state.gradientDepth,h)===!1){var p=Mm(e,t,r,i,a,l,c);return u!=null&&(p=Qe(p,u)),y1(p,h,f)}var m=j(e,"x","depthwiseConv2d"),b=j(t,"filter","depthwiseConv2d"),g=m,v=!1;m.rank===3&&(v=!0,g=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),W(g.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+g.rank+"."}),W(b.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+b.rank+"."}),W(g.shape[3]===b.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+g.shape[3]+") must match the inChannels dimension in filter "+b.shape[2]+"."}),l==null&&(l=[1,1]),W(ur(r,l),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"}),c!=null&&W(Ut(i),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+c+" but got pad "+i+"."});var x,y,w=Fs(g.shape,b.shape,r,l,i,c,!0);u!=null&&(x=Mt(x=j(u,"bias","fused conv2d"),m)[0],tt(w.outShape,x.shape)),f!=null&&(y=j(f,"prelu weights","fused depthwiseConv2d"));var k={x:g,filter:b};u!=null&&(k.bias=x),f!=null&&(k.preluActivationWeights=y);var _=[b,g],T=G.runKernelFunc(function(E,A){var M=E.fusedDepthwiseConv2D({input:g,filter:b,convInfo:w,bias:x,activation:h,preluActivationWeights:y});return A([b,g,M]),M},k,function(E,A){W(dc(l),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+l+"'"});var M=A[0],I=A[1],L=A[2],S=v1(E,L,h),O={};return u!=null&&(O={bias:function(){return x1(x,S)}}),Object.assign({x:function(){return TT(I.shape,S,M,w)},filter:function(){return AT(I,S,M.shape,w)}},O)},"FusedDepthwiseConv2D",{convInfo:w,activation:h},_,[!0]);return v?T.as3D(T.shape[1],T.shape[2],T.shape[3]):T}}),NJ=Object.freeze({matMul:zJ,conv2d:LJ,depthwiseConv2d:jJ}),FJ=Object.freeze({image:g1,linalg:AJ,losses:CJ,spectral:cJ,fused:NJ,signal:pJ,square:yX,squaredDifference:uT,conv1d:IZ,conv2d:ei,conv3d:RZ,depthwiseConv2d:Mm,separableConv2d:d1,conv2dTranspose:DZ,conv3dTranspose:OZ,op:q,batchNormalization2d:XX,batchNormalization3d:ZX,batchNormalization4d:JX,batchNormalization:QX,batchNorm:gT,batchNorm2d:eZ,batchNorm3d:tZ,batchNorm4d:nZ,booleanMaskAsync:AZ,complex:yn,real:Hr,imag:Oi,concat:Jt,concat1d:NG,concat2d:FG,concat3d:$G,concat4d:UG,split:Zy,matMul:Pm,dot:MZ,outerProduct:PZ,reverse:zd,reverse1d:BZ,reverse2d:zZ,reverse3d:LZ,reverse4d:jZ,maxPool:ln,avgPool:Ld,pool:NZ,maxPool3d:FZ,avgPool3d:$Z,slice:Hi,slice1d:UZ,slice2d:HZ,slice3d:DT,slice4d:WZ,abs:wX,acos:kX,acosh:_X,asin:CX,asinh:EX,atan:SX,atanh:TX,ceil:AX,clipByValue:s1,cos:IX,cosh:RX,erf:DX,exp:Sv,expm1:OX,floor:MX,log:PX,log1p:BX,logSigmoid:zX,neg:mp,reciprocal:LX,round:jX,rsqrt:dT,sigmoid:hT,sign:NX,isNaN:FX,isInf:$X,isFinite:UX,sin:HX,sinh:WX,softplus:VX,sqrt:qX,step:GX,tan:KX,tanh:YX,all:VZ,any:qZ,argMax:GZ,argMin:KZ,logSumExp:YZ,max:Bm,mean:XZ,min:ZZ,moments:JZ,sum:MT,prod:QZ,equal:wT,equalStrict:vZ,greater:xZ,greaterEqual:kT,greaterEqualStrict:yZ,greaterStrict:wZ,less:kZ,lessEqual:_Z,lessEqualStrict:CZ,lessStrict:EZ,notEqual:SZ,notEqualStrict:TZ,add:Qe,addN:oZ,addStrict:aZ,atan2:sZ,div:li,divNoNan:lZ,divStrict:cZ,floorDiv:xT,maximum:l1,maximumStrict:uZ,minimum:yT,minimumStrict:dZ,mod:hZ,modStrict:fZ,mul:jn,mulStrict:pZ,pow:gp,powStrict:mZ,squaredDifferenceStrict:gZ,sub:rn,subStrict:bZ,elu:PT,leakyRelu:eJ,prelu:BT,relu:Dt,relu6:zT,selu:tJ,logicalAnd:Om,logicalNot:rZ,logicalOr:bT,logicalXor:iZ,where:_s,whereAsync:vT,buffer:$e,print:ZG,batchToSpaceND:M6,broadcastTo:JG,cast:QG,clone:eK,cumsum:tK,depthToSpace:nK,expandDims:Fr,eye:P6,multinomial:rK,oneHot:kv,pad:Ns,pad1d:iK,pad2d:oK,pad3d:aK,pad4d:sK,rand:lK,randomNormal:cK,randomGamma:uK,randomUniform:B6,reshape:di,spaceToBatchND:z6,squeeze:L6,stack:Ar,tile:Ul,truncatedNormal:dK,unstack:Qt,setdiff1dAsync:hK,fill:Fi,linspace:jG,ones:Rc,range:sp,scalar:ve,tensor:kn,tensor1d:Vt,tensor2d:fa,tensor3d:Xy,tensor4d:er,tensor5d:BG,tensor6d:zG,variable:LG,zeros:_t,onesLike:O6,zerosLike:at,transpose:ka,softmax:Ro,logSoftmax:xK,localResponseNormalization:nJ,norm:LT,gather:c1,unsortedSegmentSum:_T,basicLSTMCell:rJ,multiRNNCell:iJ,movingAverage:oJ,stridedSlice:aJ,topk:sJ,scatterND:lJ,fft:h1,ifft:bp,rfft:f1,irfft:jT,sparseToDense:uJ,gatherND:dJ,diag:hJ,dropout:fJ,hannWindow:p1,hammingWindow:FT,frame:m1,stft:$T,inTopKAsync:mJ});function ue(n,e){Array.isArray(n)||(n=[n]),n.forEach(function(t){t!=null&&W(t.dtype!=="complex64",function(){return e+" does not support complex64 tensors."})})}function _0(n,e,t,r){if(t==="linear")return n.linear(e);if(t==="relu")return n.relu(e);if(t==="elu")return n.elu(e);if(t==="relu6")return n.relu6(e);if(t==="prelu")return n.prelu(e,r);throw new Error("Activation "+t+" has not been implemented for the CPU backend.")}var $J=function(n){function e(){var t=n.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new W6(t,G),t}return yi(e,n),e.prototype.write=function(t,r,i){this.firstUse&&(this.firstUse=!1,oe().get("IS_NODE")&&op("\n============================\nHi there 👋. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var o={};return this.data.set(o,{values:t,dtype:i}),o},e.prototype.move=function(t,r,i,o){this.data.set(t,{values:r,dtype:o})},e.prototype.numDataIds=function(){return this.data.numDataIds()},e.prototype.read=function(t){return Ee(this,void 0,void 0,function(){return Se(this,function(r){return[2,this.readSync(t)]})})},e.prototype.readSync=function(t){var r=this.data.get(t),i=r.dtype,o=r.complexTensors;return i==="complex64"?Ev(this.readSync(o.real.dataId),this.readSync(o.imag.dataId)):this.data.get(t).values},e.prototype.bufferSync=function(t){var r=this.readSync(t.dataId),i=r;if(t.dtype==="string")try{i=r.map(function(o){return np(o)})}catch(o){throw new Error("Failed to decode encoded string bytes into utf-8")}return $e(t.shape,t.dtype,i)},e.prototype.makeOutput=function(t,r,i){var o=this.write(t,r,i);return G.makeTensorFromDataId(o,r,i,this)},e.prototype.disposeData=function(t){if(this.data.has(t)){var r=this.data.get(t).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.data.delete(t)}},e.prototype.time=function(t){return Ee(this,void 0,void 0,function(){var r;return Se(this,function(i){return r=Ai(),t(),[2,{kernelMs:Ai()-r}]})})},e.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},e.prototype.complex=function(t,r){var i=this.makeOutput(null,t.shape,"complex64");return this.data.get(i.dataId).complexTensors={real:G.keep(t.clone()),imag:G.keep(r.clone())},i},e.prototype.real=function(t){return this.data.get(t.dataId).complexTensors.real.clone()},e.prototype.imag=function(t){return this.data.get(t.dataId).complexTensors.imag.clone()},e.prototype.slice=function(t,r,i){if(ue(t,"slice"),U6(t.shape,r,i)){var o=H6(r,t.strides),a=Te(i);return kn(this.readSync(t.dataId).subarray(o,o+a),i,t.dtype)}for(var s=$e(i,t.dtype),l=this.bufferSync(t),c=0;c<s.size;++c){var u=s.indexToLoc(c).map(function(d,h){return d+r[h]});s.values[c]=l.get.apply(l,u)}return s.toTensor()},e.prototype.stridedSlice=function(t,r,i,o){ue(t,"stridedSlice");var a=Qy(r,i,o);if(a.some(function(f){return f===0}))return kn([],a);for(var s=$e(a,t.dtype),l=this.bufferSync(t),c=0;c<s.size;c++){for(var u=s.indexToLoc(c),d=new Array(u.length),h=0;h<d.length;h++)d[h]=u[h]*o[h]+r[h];s.set.apply(s,[l.get.apply(l,d)].concat(u))}return s.toTensor()},e.prototype.diag=function(t){for(var r=this.readSync(t.dataId),i=$e([t.size,t.size],t.dtype),o=i.values,a=0;a<r.length;a++)o[a*t.size+a]=r[a];return i.toTensor()},e.prototype.unstack=function(t,r){for(var i=t.shape[r],o=new Array(t.rank-1),a=0,s=0;s<t.rank;s++)s!==r&&(o[a++]=t.shape[s]);var l=new Array(t.rank).fill(0),c=t.shape.slice();c[r]=1;var u=new Array(i);for(s=0;s<u.length;s++)l[r]=s,u[s]=this.slice(t,l,c).reshape(o);return u},e.prototype.reverse=function(t,r){ue(t,"reverse");for(var i=$e(t.shape,t.dtype),o=this.bufferSync(t),a=function(l){var c=i.indexToLoc(l),u=c.slice();r.forEach(function(d){return u[d]=t.shape[d]-1-u[d]}),i.set.apply(i,[o.get.apply(o,u)].concat(c))},s=0;s<i.size;s++)a(s);return i.toTensor()},e.prototype.concat=function(t,r){var i=this;if(t[0].dtype==="complex64"){var o=t.map(function(f){return Hr(f)}),a=t.map(function(f){return Oi(f)});return yn(this.concat(o,r),this.concat(a,r))}var s=t.map(function(f){var p=Te(f.shape.slice(r));return f.as2D(-1,p)}),l=uc(s.map(function(f){return f.shape}),1),c=$e(l,t[0].dtype).values;if(s[0].shape[0]===1){var u=0;s.forEach(function(f){c.set(i.readSync(f.dataId),u),u+=f.size})}else{var d=0;s.forEach(function(f){for(var p=i.readSync(f.dataId),m=0,b=0;b<f.shape[0];++b)for(var g=b*l[1]+d,v=0;v<f.shape[1];++v)c[g+v]=p[m++];d+=f.shape[1]})}var h=uc(t.map(function(f){return f.shape}),r);return kn(c,h,t[0].dtype)},e.prototype.neg=function(t){return ue(t,"neg"),this.multiply(ve(-1),t)},e.prototype.add=function(t,r){return t.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),r.cast("complex64"),function(i,o,a,s){return{real:i+a,imag:o+s}}):this.broadcastedBinaryOp(t,r,wn(t.dtype,r.dtype),function(i,o){return i+o})},e.prototype.addN=function(t){var r=this;ue(t,"addN");for(var i=t.map(function(u){return r.readSync(u.dataId)}),o=$e(t[0].shape,t[0].dtype),a=o.values,s=0;s<t.length;s++)for(var l=i[s],c=0;c<a.length;c++)a[c]+=l[c];return o.toTensor()},e.prototype.softmax=function(t,r){var i=on([r],t.shape),o=this.max(t,i),a=cr(o.shape,i),s=this.subtract(t,o.reshape(a)),l=this.exp(s),c=this.sum(l,i).reshape(a);return this.realDivide(l,c)},e.prototype.subtract=function(t,r){return t.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),r.cast("complex64"),function(i,o,a,s){return{real:i-a,imag:o-s}}):this.broadcastedBinaryOp(t,r,wn(t.dtype,r.dtype),function(i,o){return i-o})},e.prototype.pow=function(t,r){return ue([t,r],"pow"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){return Math.pow(i,o)})},e.prototype.batchMatMul=function(t,r,i,o){ue([t,r],"matMul");for(var a=i?t.shape[1]:t.shape[2],s=i?t.shape[2]:t.shape[1],l=o?r.shape[1]:r.shape[2],c=t.shape[0],u=this.readSync(t.dataId),d=this.readSync(r.dataId),h=i?[t.strides[0],1,t.strides[1]]:[t.strides[0],t.strides[1],1],f=h[0],p=h[1],m=h[2],b=o?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],g=b[0],v=b[1],x=b[2],y=s*l,w=$e([c,s,l],t.dtype),k=w.values,_=this.blockSize,T=0;T<c;T++)for(var E=0;E<s;E+=_)for(var A=0;A<l;A+=_)for(var M=0;M<a;M+=_)for(var I=Math.min(E+_,s),L=Math.min(A+_,l),S=Math.min(M+_,a),O=E;O<I;O++)for(var P=A;P<L;P++){for(var z=0,N=M;N<S;N++)z+=u[T*f+O*p+N*m]*d[N*g+P*v+T*x];k[T*y+(O*l+P)]+=z}return w.toTensor()},e.prototype.fusedBatchMatMul=function(t){var r=t.a,i=t.b,o=t.transposeA,a=t.transposeB,s=t.bias,l=t.activation,c=t.preluActivationWeights,u=this.batchMatMul(r,i,o,a);return s&&(u=this.add(u,s)),l&&(u=_0(this,u,l,c)),u},e.prototype.multiply=function(t,r){return t.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),r.cast("complex64"),function(i,o,a,s){return{real:i*a-o*s,imag:i*s+o*a}}):this.broadcastedBinaryOp(t,r,wn(t.dtype,r.dtype),function(i,o){return i*o})},e.prototype.realDivide=function(t,r){return ue([t,r],"realDivide"),this.broadcastedBinaryOp(t,r,"float32",function(i,o){return i/o})},e.prototype.floorDiv=function(t,r){return ue([t,r],"floorDiv"),this.broadcastedBinaryOp(t,r,"int32",function(i,o){return Math.floor(i/o)})},e.prototype.sum=function(t,r){ue(t,"sum"),br("sum",r,t.rank);for(var i=Rn(t.shape,r),o=i[0],a=i[1],s=_t(o,wn(t.dtype,"int32")),l=Te(a),c=this.readSync(s.dataId),u=this.readSync(t.dataId),d=0;d<c.length;++d){for(var h=d*l,f=0,p=0;p<l;++p)f+=u[h+p];c[d]=f}return s},e.prototype.prod=function(t,r){ue(t,"sum");for(var i=Rn(t.shape,r),o=i[0],a=i[1],s=_t(o,wn(t.dtype,"int32")),l=Te(a),c=this.readSync(s.dataId),u=this.readSync(t.dataId),d=0;d<c.length;++d){for(var h=d*l,f=1,p=0;p<l;++p)f*=u[h+p];c[d]=f}return s},e.prototype.unsortedSegmentSum=function(t,r,i){ue(t,"unsortedSegmentSum");for(var o=[],a=t.rank-r.rank,s=0;s<a;++s)r=r.expandDims(s+1);for(s=0;s<i;++s){var l=ve(s,"int32"),c=wT(l,r).asType("float32").mul(t).sum(0);o.push(c)}return Ar(o)},e.prototype.argMin=function(t,r){ue(t,"argMin");var i=[r];br("argMin",i,t.rank);for(var o=Rn(t.shape,i),a=o[0],s=o[1],l=_t(a,"int32"),c=Te(s),u=this.readSync(l.dataId),d=this.readSync(t.dataId),h=0;h<u.length;++h){for(var f=h*c,p=d[f],m=0,b=0;b<c;++b){var g=d[f+b];g<p&&(p=g,m=b)}u[h]=m}return l},e.prototype.argMax=function(t,r){ue(t,"argMax");var i=[r];br("argMax",i,t.rank);for(var o=Rn(t.shape,i),a=o[0],s=o[1],l=_t(a,"int32"),c=Te(s),u=this.readSync(l.dataId),d=this.readSync(t.dataId),h=0;h<u.length;++h){for(var f=h*c,p=d[f],m=0,b=0;b<c;++b){var g=d[f+b];g>p&&(p=g,m=b)}u[h]=m}return l},e.prototype.cumsum=function(t,r,i,o){if(ue(t,"cumsum"),r!==t.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(t.rank-1)+" but got axis="+r);for(var a=wn(t.dtype,"int32"),s=_t(t.shape,a),l=this.readSync(s.dataId),c=this.readSync(t.dataId),u=t.shape[t.rank-1],d=o?function(b,g){return b+u-g-1}:function(b,g){return b+g},h=0;h<c.length;h+=u)for(var f=0;f<u;f++){var p=d(h,f);if(f===0)l[p]=i?0:c[p];else{var m=d(h,f-1);l[p]=i?c[m]+l[m]:c[p]+l[m]}}return s},e.prototype.equal=function(t,r){return ue([t,r],"equal"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i===o?1:0})},e.prototype.notEqual=function(t,r){return ue([t,r],"notEqual"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i!==o?1:0})},e.prototype.less=function(t,r){return ue([t,r],"less"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i<o?1:0})},e.prototype.lessEqual=function(t,r){return ue([t,r],"lessEqual"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i<=o?1:0})},e.prototype.greater=function(t,r){return ue([t,r],"greater"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i>o?1:0})},e.prototype.greaterEqual=function(t,r){return ue([t,r],"greaterEqual"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i>=o?1:0})},e.prototype.logicalNot=function(t){ue(t,"logicalNot");for(var r=this.readSync(t.dataId),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r[o]?0:1;return this.makeOutput(i,t.shape,"bool")},e.prototype.logicalAnd=function(t,r){return ue([t,r],"logicalAnd"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i&&o})},e.prototype.logicalOr=function(t,r){return ue([t,r],"logicalOr"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i||o})},e.prototype.select=function(t,r,i){ue([t,r,i],"select");for(var o=this.readSync(t.dataId),a=this.readSync(r.dataId),s=this.readSync(i.dataId),l=_t(r.shape,wn(r.dtype,i.dtype)),c=this.readSync(l.dataId),u=0,d=t.rank===0||t.rank>1||r.rank===1?1:Te(r.shape.slice(1)),h=0;h<o.length;h++)for(var f=0;f<d;f++)o[h]===1?c[u++]=a[h]:c[u++]=s[h];return l},e.prototype.where=function(t){ue([t],"where");var r=this.readSync(t.dataId);return r1(t.shape,r)},e.prototype.topk=function(t,r,i){return ue(t,"topk"),J6(this.readSync(t.dataId),t.shape,t.dtype,r)},e.prototype.min=function(t,r){ue(t,"min"),br("min",r,t.rank);for(var i=Rn(t.shape,r),o=i[0],a=i[1],s=_t(o,t.dtype),l=Te(a),c=this.readSync(s.dataId),u=this.readSync(t.dataId),d=0;d<c.length;++d){for(var h=d*l,f=u[h],p=0;p<l;++p){var m=u[h+p];m<f&&(f=m)}c[d]=f}return s},e.prototype.minimum=function(t,r){return ue([t,r],"minimum"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){return Math.min(i,o)})},e.prototype.mod=function(t,r){return ue([t,r],"mod"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){var a=i%o;return i<0&&o<0||i>=0&&o>=0?a:(a+o)%o})},e.prototype.max=function(t,r){ue(t,"max"),br("max",r,t.rank);for(var i=Rn(t.shape,r),o=i[0],a=i[1],s=_t(o,t.dtype),l=Te(a),c=this.readSync(s.dataId),u=this.readSync(t.dataId),d=0;d<c.length;++d){for(var h=d*l,f=u[h],p=0;p<l;++p){var m=u[h+p];m>f&&(f=m)}c[d]=f}return s},e.prototype.maximum=function(t,r){return ue([t,r],"maximum"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){return Math.max(i,o)})},e.prototype.all=function(t,r){ue(t,"all"),br("all",r,t.rank);for(var i=Rn(t.shape,r),o=i[0],a=i[1],s=_t(o,t.dtype),l=Te(a),c=this.readSync(s.dataId),u=this.readSync(t.dataId),d=0;d<c.length;++d){for(var h=d*l,f=u[h],p=0;p<l;++p){var m=u[h+p];f=f&&m}c[d]=f}return s},e.prototype.any=function(t,r){ue(t,"any"),br("any",r,t.rank);for(var i=Rn(t.shape,r),o=i[0],a=i[1],s=_t(o,t.dtype),l=Te(a),c=this.readSync(s.dataId),u=this.readSync(t.dataId),d=0;d<c.length;++d){for(var h=d*l,f=u[h],p=0;p<l;++p){var m=u[h+p];f=f||m}c[d]=f}return s},e.prototype.squaredDifference=function(t,r){return ue([t,r],"squaredDifference"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){var a=i-o;return a*a})},e.prototype.ceil=function(t){ue(t,"ceil");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o)i[o]=Math.ceil(r[o]);return this.makeOutput(i,t.shape,"float32")},e.prototype.floor=function(t){ue(t,"floor");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o)i[o]=Math.floor(r[o]);return this.makeOutput(i,t.shape,"float32")},e.prototype.sign=function(t){ue(t,"x");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o)r[o]<0?i[o]=-1:r[o]>0?i[o]=1:i[o]=0;return this.makeOutput(i,t.shape,"float32")},e.prototype.isNaN=function(t){ue(t,"x");for(var r=this.readSync(t.dataId),i=new Uint8Array(r.length),o=0;o<r.length;++o)Number.isNaN(r[o])&&(i[o]=1);return this.makeOutput(i,t.shape,"bool")},e.prototype.isInf=function(t){ue(t,"x");for(var r=this.readSync(t.dataId),i=new Uint8Array(r.length),o=0;o<r.length;++o)Math.abs(r[o])===1/0&&(i[o]=1);return this.makeOutput(i,t.shape,"bool")},e.prototype.isFinite=function(t){ue(t,"x");for(var r=this.readSync(t.dataId),i=new Uint8Array(r.length),o=0;o<r.length;++o)Number.isFinite(r[o])&&(i[o]=1);return this.makeOutput(i,t.shape,"bool")},e.prototype.round=function(t){ue(t,"round");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o){var a=Math.floor(r[o]);r[o]-a<.5?i[o]=Math.floor(r[o]):r[o]-a>.5?i[o]=Math.ceil(r[o]):i[o]=a%2==0?a:a+1}return this.makeOutput(i,t.shape,"float32")},e.prototype.exp=function(t){ue(t,"exp");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o)i[o]=Math.exp(r[o]);return this.makeOutput(i,t.shape,"float32")},e.prototype.expm1=function(t){ue(t,"expm1");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o)i[o]=Math.expm1(r[o]);return this.makeOutput(i,t.shape,"float32")},e.prototype.log=function(t){ue(t,"log");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o){var a=r[o];i[o]=Math.log(a)}return this.makeOutput(i,t.shape,"float32")},e.prototype.log1p=function(t){ue(t,"log1p");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o){var a=r[o];i[o]=Math.log1p(a)}return this.makeOutput(i,t.shape,"float32")},e.prototype.sqrt=function(t){ue(t,"sqrt");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o){var a=r[o];i[o]=Math.sqrt(a)}return this.makeOutput(i,t.shape,"float32")},e.prototype.rsqrt=function(t){ue(t,"rsqrt");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o){var a=r[o];i[o]=1/Math.sqrt(a)}return this.makeOutput(i,t.shape,"float32")},e.prototype.reciprocal=function(t){ue(t,"reciprocal");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o)i[o]=1/r[o];return this.makeOutput(i,t.shape,"float32")},e.prototype.linear=function(t){return t},e.prototype.relu=function(t){ue(t,"relu");for(var r=_t(t.shape,t.dtype),i=this.readSync(r.dataId),o=this.readSync(t.dataId),a=0;a<o.length;++a)i[a]=Math.max(0,o[a]);return r},e.prototype.relu6=function(t){ue(t,"relu");for(var r=_t(t.shape,t.dtype),i=this.readSync(r.dataId),o=this.readSync(t.dataId),a=0;a<o.length;++a)i[a]=Math.min(Math.max(0,o[a]),6);return r},e.prototype.prelu=function(t,r){return ue([t,r],"prelu"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){return i<0?o*i:i})},e.prototype.elu=function(t){ue(t,"elu");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o){var a=i[o];r[o]=a>=0?a:Math.exp(a)-1}return this.makeOutput(r,t.shape,"float32")},e.prototype.eluDer=function(t,r){ue([t,r],"eluDer");for(var i=new Float32Array(r.size),o=this.readSync(r.dataId),a=this.readSync(t.dataId),s=0;s<o.length;++s){var l=o[s];i[s]=l>=1?a[s]:a[s]*(l+1)}return this.makeOutput(i,r.shape,"float32")},e.prototype.selu=function(t){ue(t,"selu");for(var r=o1,i=a1,o=new Float32Array(t.size),a=this.readSync(t.dataId),s=0;s<a.length;++s){var l=a[s];o[s]=l>=0?i*l:r*(Math.exp(l)-1)}return this.makeOutput(o,t.shape,"float32")},e.prototype.clip=function(t,r,i){ue(t,"clip");for(var o=new Float32Array(t.size),a=this.readSync(t.dataId),s=0;s<a.length;++s){var l=a[s];o[s]=l>i?i:l<r?r:l}return this.makeOutput(o,t.shape,"float32")},e.prototype.abs=function(t){for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.abs(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.complexAbs=function(t){for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<t.size;++o){var a=i[2*o],s=i[2*o+1];r[o]=Math.hypot(a,s)}return this.makeOutput(r,t.shape,"float32")},e.prototype.int=function(t){ue(t,"int");for(var r=new Int32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=i[o];return this.makeOutput(r,t.shape,"int32")},e.prototype.sigmoid=function(t){ue(t,"sigmoid");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=1/(1+Math.exp(-i[o]));return this.makeOutput(r,t.shape,"float32")},e.prototype.softplus=function(t){ue(t,"softplus");for(var r=Math.log(11920928955078125e-23)+2,i=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a){var s=o[a]>-r,l=o[a]<r,c=Math.exp(o[a]),u=void 0;u=l?c:s?o[a]:Math.log(1+c),i[a]=u}return this.makeOutput(i,t.shape,"float32")},e.prototype.sin=function(t){ue(t,"sin");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.sin(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.cos=function(t){ue(t,"cos");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.cos(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.tan=function(t){ue(t,"tan");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.tan(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.asin=function(t){ue(t,"asin");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.asin(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.acos=function(t){ue(t,"acos");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.acos(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.atan=function(t){ue(t,"atan");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.atan(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.atan2=function(t,r){return ue([t,r],"atan2"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){return Math.atan2(i,o)})},e.prototype.sinh=function(t){ue(t,"sinh");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.sinh(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.cosh=function(t){ue(t,"cosh");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.cosh(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.tanh=function(t){ue(t,"tanh");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Uq(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.asinh=function(t){ue(t,"asinh");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.asinh(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.acosh=function(t){ue(t,"acosh");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.acosh(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.atanh=function(t){ue(t,"atanh");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.atanh(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.erf=function(t){ue(t,"erf");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o){var a=Math.sign(i[o]),s=Math.abs(i[o]),l=1/(1+.3275911*s);r[o]=a*(1-((((1.061405429*l-1.453152027)*l+1.421413741)*l-.284496736)*l+.254829592)*l*Math.exp(-s*s))}return this.makeOutput(r,t.shape,"float32")},e.prototype.step=function(t,r){r===void 0&&(r=0),ue(t,"step");for(var i=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a){var s=o[a];isNaN(s)?i[a]=NaN:i[a]=s>0?1:r}return this.makeOutput(i,t.shape,"float32")},e.prototype.fusedConv2d=function(t){var r=t.input,i=t.filter,o=t.convInfo,a=t.bias,s=t.activation,l=t.preluActivationWeights,c=this.conv2d(r,i,o);return a&&(c=this.add(c,a)),s&&(c=_0(this,c,s,l)),c},e.prototype.conv2d=function(t,r,i){ue([t,r],"conv2d");for(var o=i.filterHeight,a=i.filterWidth,s=i.dilationHeight,l=i.dilationWidth,c=i.padInfo.left,u=i.padInfo.top,d=i.dataFormat==="channelsLast",h=$e(i.outShape,t.dtype),f=t.strides[0],p=d?t.strides[1]:t.strides[2],m=d?t.strides[2]:1,b=d?1:t.strides[1],g=h.strides[0],v=d?h.strides[1]:h.strides[2],x=d?h.strides[2]:1,y=d?1:h.strides[1],w=this.readSync(t.dataId),k=this.readSync(r.dataId),_=h.values,T=0;T<i.batchSize;++T)for(var E=T*f,A=T*g,M=0;M<i.outHeight;++M)for(var I=A+M*v,L=M*i.strideHeight-u,S=0;S<o;S++){var O=L+S*s;if(!(O<0||O>=i.inHeight))for(var P=S*r.strides[0],z=E+O*p,N=0;N<i.outWidth;++N)for(var B=I+N*x,U=N*i.strideWidth-c,$=0;$<a;$++){var F=U+$*l;if(!(F<0||F>=i.inWidth))for(var ee=z+F*m,X=P+$*r.strides[1],Q=0;Q<i.inChannels;++Q){for(var be=w[ee+Q*b],ye=0;ye<i.outChannels;++ye)_[B+ye*y]+=be*k[X+ye];X+=i.outChannels}}}return h.toTensor()},e.prototype.conv3d=function(t,r,i){for(var o=i.filterDepth,a=i.filterHeight,s=i.filterWidth,l=i.dilationDepth,c=i.dilationHeight,u=i.dilationWidth,d=i.padInfo.front,h=i.padInfo.left,f=i.padInfo.top,p=$e(i.outShape,t.dtype),m=this.readSync(t.dataId),b=this.readSync(r.dataId),g=p.values,v=0;v<i.batchSize;++v)for(var x=v*t.strides[0],y=v*p.strides[0],w=0;w<i.outDepth;++w)for(var k=y+w*p.strides[1],_=w*i.strideDepth-d,T=0;T<o;T++){var E=_+T*l;if(!(E<0||E>=i.inDepth))for(var A=T*r.strides[0],M=x+E*t.strides[1],I=0;I<i.outHeight;++I)for(var L=k+I*p.strides[2],S=I*i.strideHeight-f,O=0;O<a;O++){var P=S+O*c;if(!(P<0||P>=i.inHeight))for(var z=A+O*r.strides[1],N=M+P*t.strides[2],B=0;B<i.outWidth;++B)for(var U=L+B*i.outChannels,$=B*i.strideWidth-h,F=0;F<s;F++){var ee=$+F*u;if(!(ee<0||ee>=i.inWidth))for(var X=z+F*r.strides[2],Q=N+ee*i.inChannels,be=X,ye=0;ye<i.inChannels;++ye){for(var ge=m[Q+ye],we=0;we<i.outChannels;++we)g[U+we]+=ge*b[be+we];be+=i.outChannels}}}}return p.toTensor()},e.prototype.conv2dDerInput=function(t,r,i){ue([t,r],"conv2dDerInput");for(var o=$e(i.inShape,"float32"),a=o.values,s=this.readSync(t.dataId),l=this.readSync(r.dataId),c=r.strides,u=c[0],d=c[1],h=c[2],f=i.batchSize,p=i.filterHeight,m=i.filterWidth,b=i.inChannels,g=i.inHeight,v=i.inWidth,x=i.outChannels,y=i.outHeight,w=i.outWidth,k=i.strideHeight,_=i.strideWidth,T=i.dataFormat,E=p-1-i.padInfo.top,A=m-1-i.padInfo.left,M=T==="channelsLast",I=o.strides[0],L=M?o.strides[1]:o.strides[2],S=M?o.strides[2]:1,O=M?1:o.strides[1],P=t.strides[0],z=M?t.strides[1]:t.strides[2],N=M?t.strides[2]:1,B=M?1:t.strides[1],U=0;U<f;++U)for(var $=0;$<b;++$)for(var F=0;F<g;++F)for(var ee=F-E,X=Math.max(0,Math.ceil(ee/k)),Q=Math.min(y,(p+ee)/k),be=0;be<v;++be){for(var ye=be-A,ge=Math.max(0,Math.ceil(ye/_)),we=Math.min(w,(m+ye)/_),Ue=0,Me=X;Me<Q;++Me)for(var He=Me*k-ee,Ne=ge;Ne<we;++Ne)for(var R=P*U+z*Me+N*Ne,ne=u*(p-1-He)+d*(m-1-(Ne*_-ye))+h*$,J=0;J<x;++J)Ue+=s[R+B*J]*l[ne+J];a[I*U+L*F+S*be+O*$]=Ue}return o.toTensor()},e.prototype.conv3dDerInput=function(t,r,i){for(var o=$e(i.inShape,"float32"),a=o.values,s=o.strides,l=s[0],c=s[1],u=s[2],d=s[3],h=this.readSync(t.dataId),f=t.strides,p=f[0],m=f[1],b=f[2],g=f[3],v=this.readSync(r.dataId),x=r.strides,y=x[0],w=x[1],k=x[2],_=x[3],T=i.batchSize,E=i.filterDepth,A=i.filterHeight,M=i.filterWidth,I=i.inChannels,L=i.inDepth,S=i.inHeight,O=i.inWidth,P=i.outChannels,z=i.outDepth,N=i.outHeight,B=i.outWidth,U=i.strideDepth,$=i.strideHeight,F=i.strideWidth,ee=E-1-i.padInfo.front,X=A-1-i.padInfo.top,Q=M-1-i.padInfo.left,be=0;be<T;++be)for(var ye=0;ye<I;++ye)for(var ge=0;ge<L;++ge)for(var we=ge-ee,Ue=Math.max(0,Math.ceil(we/U)),Me=Math.min(z,(E+we)/U),He=0;He<S;++He)for(var Ne=He-X,R=Math.max(0,Math.ceil(Ne/$)),ne=Math.min(N,(A+Ne)/$),J=0;J<O;++J){for(var V=J-Q,H=Math.max(0,Math.ceil(V/F)),K=Math.min(B,(M+V)/F),se=0,le=Ue;le<Me;++le)for(var Z=le*U-we,he=R;he<ne;++he)for(var xe=he*$-Ne,fe=H;fe<K;++fe)for(var Be=p*be+m*le+b*he+g*fe,rt=y*(E-1-Z)+w*(A-1-xe)+k*(M-1-(fe*F-V))+_*ye,Le=0;Le<P;++Le)se+=h[Be+Le]*v[rt+Le];a[l*be+c*ge+u*He+d*J+ye]=se}return o.toTensor()},e.prototype.conv2dDerFilter=function(t,r,i){ue([t,r],"conv2dDerFilter");for(var o=i.strideHeight,a=i.strideWidth,s=i.filterHeight,l=i.filterWidth,c=i.dataFormat==="channelsLast",u=$e(i.filterShape,"float32"),d=i.padInfo.left,h=i.padInfo.top,f=this.bufferSync(t),p=this.bufferSync(r),m=0;m<s;++m)for(var b=Math.max(0,Math.ceil((h-m)/o)),g=Math.min(i.outHeight,(i.inHeight+h-m)/o),v=0;v<l;++v)for(var x=Math.max(0,Math.ceil((d-v)/a)),y=Math.min(i.outWidth,(i.inWidth+d-v)/a),w=0;w<i.inChannels;++w)for(var k=0;k<i.outChannels;++k){for(var _=0,T=0;T<i.batchSize;++T)for(var E=b;E<g;++E)for(var A=m+E*o-h,M=x;M<y;++M){var I=v+M*a-d;_+=c?f.get(T,A,I,w)*p.get(T,E,M,k):f.get(T,w,A,I)*p.get(T,k,E,M)}u.set(_,m,v,w,k)}return u.toTensor()},e.prototype.conv3dDerFilter=function(t,r,i){for(var o=i.strideDepth,a=i.strideHeight,s=i.strideWidth,l=i.filterDepth,c=i.filterHeight,u=i.filterWidth,d=$e(i.filterShape,"float32"),h=d.values,f=d.strides,p=f[0],m=f[1],b=f[2],g=f[3],v=this.readSync(r.dataId),x=r.strides,y=x[0],w=x[1],k=x[2],_=x[3],T=this.readSync(t.dataId),E=t.strides,A=E[0],M=E[1],I=E[2],L=E[3],S=i.padInfo.front,O=i.padInfo.left,P=i.padInfo.top,z=0;z<l;++z)for(var N=Math.max(0,Math.ceil((S-z)/o)),B=Math.min(i.outDepth,(i.inDepth+S-z)/o),U=z*p,$=0;$<c;++$)for(var F=Math.max(0,Math.ceil((P-$)/a)),ee=Math.min(i.outHeight,(i.inHeight+P-$)/a),X=$*m+U,Q=0;Q<u;++Q)for(var be=Math.max(0,Math.ceil((O-Q)/s)),ye=Math.min(i.outWidth,(i.inWidth+O-Q)/s),ge=Q*b+X,we=0;we<i.inChannels;++we)for(var Ue=we*g+ge,Me=0;Me<i.outChannels;++Me){for(var He=0,Ne=0;Ne<i.batchSize;++Ne)for(var R=Ne*A,ne=Ne*y,J=N;J<B;++J)for(var V=(z+J*o-S)*M+R,H=J*w+ne,K=F;K<ee;++K)for(var se=($+K*a-P)*I+V,le=K*k+H,Z=be;Z<ye;++Z){var he=Z*_+le;He+=T[(Q+Z*s-O)*L+se+we]*v[he+Me]}h[Ue+Me]=He}return d.toTensor()},e.prototype.fusedDepthwiseConv2D=function(t){var r=t.input,i=t.filter,o=t.convInfo,a=t.bias,s=t.activation,l=t.preluActivationWeights,c=this.depthwiseConv2D(r,i,o);return a&&(c=this.add(c,a)),s&&(c=_0(this,c,s,l)),c},e.prototype.depthwiseConv2D=function(t,r,i){ue([t,r],"depthwiseConv2D");for(var o=i.filterHeight,a=i.filterWidth,s=i.dilationHeight,l=i.dilationWidth,c=i.padInfo.left,u=i.padInfo.top,d=i.outChannels/i.inChannels,h=$e(i.outShape,t.dtype),f=this.readSync(t.dataId),p=this.readSync(r.dataId),m=h.values,b=0;b<i.batchSize;++b)for(var g=b*t.strides[0],v=b*h.strides[0],x=0;x<i.outHeight;++x)for(var y=v+x*h.strides[1],w=x*i.strideHeight-c,k=0;k<o;++k){var _=w+k*s;if(!(_<0||_>=i.inHeight))for(var T=k*r.strides[0],E=g+_*t.strides[1],A=0;A<i.outWidth;++A)for(var M=y+A*h.strides[2],I=A*i.strideWidth-u,L=0;L<a;++L){var S=I+L*l;if(!(S<0||S>=i.inWidth))for(var O=T+L*r.strides[1],P=E+S*i.inChannels,z=M,N=O,B=0;B<i.inChannels;++B){for(var U=f[P+B],$=0;$<d;++$)m[z+$]+=U*p[N+$];z+=d,N+=d}}}return h.toTensor()},e.prototype.depthwiseConv2DDerInput=function(t,r,i){ue([t,r],"depthwiseConv2DDerInput");for(var o=$e(i.inShape,"float32"),a=o.values,s=o.strides,l=s[0],c=s[1],u=s[2],d=this.readSync(t.dataId),h=t.strides,f=h[0],p=h[1],m=h[2],b=this.readSync(r.dataId),g=r.strides,v=g[0],x=g[1],y=g[2],w=i.batchSize,k=i.filterHeight,_=i.filterWidth,T=i.inChannels,E=i.inHeight,A=i.inWidth,M=i.outChannels,I=i.outHeight,L=i.outWidth,S=i.strideHeight,O=i.strideWidth,P=k-1-i.padInfo.top,z=_-1-i.padInfo.left,N=M/T,B=0;B<w;++B)for(var U=0;U<T;++U)for(var $=0;$<E;++$)for(var F=$-P,ee=Math.max(0,Math.ceil(F/S)),X=Math.min(I,(k+F)/S),Q=0;Q<A;++Q){for(var be=Q-z,ye=Math.max(0,Math.ceil(be/O)),ge=Math.min(L,(_+be)/O),we=0,Ue=ee;Ue<X;++Ue)for(var Me=Ue*S-F,He=ye;He<ge;++He)for(var Ne=f*B+p*Ue+m*He,R=v*(k-1-Me)+x*(_-1-(He*O-be))+y*U,ne=0;ne<N;++ne)we+=d[Ne+(U*N+ne)]*b[R+ne];a[l*B+c*$+u*Q+U]=we}return o.toTensor()},e.prototype.depthwiseConv2DDerFilter=function(t,r,i){ue([t,r],"depthwiseConv2DDerFilter");for(var o=i.strideHeight,a=i.strideWidth,s=i.filterHeight,l=i.filterWidth,c=$e(i.filterShape,"float32"),u=i.padInfo.left,d=i.padInfo.top,h=i.outChannels/i.inChannels,f=this.bufferSync(t),p=this.bufferSync(r),m=0;m<s;++m)for(var b=Math.max(0,Math.ceil((d-m)/o)),g=Math.min(i.outHeight,(i.inHeight+d-m)/o),v=0;v<l;++v)for(var x=Math.max(0,Math.ceil((u-v)/a)),y=Math.min(i.outWidth,(i.inWidth+u-v)/a),w=0;w<i.outChannels;++w){for(var k=Math.trunc(w/h),_=w%h,T=0,E=0;E<i.batchSize;++E)for(var A=b;A<g;++A)for(var M=m+A*o-d,I=x;I<y;++I){var L=v+I*a-u;T+=f.get(E,M,L,k)*p.get(E,A,I,w)}c.set(T,m,v,k,_)}return c.toTensor()},e.prototype.tile=function(t,r){return ue(t,"tile"),Z6(this.bufferSync(t),r)},e.prototype.pad=function(t,r,i){ue(t,"pad");var o=r.map(function(h,f){return h[0]+t.shape[f]+h[1]}),a=r.map(function(h){return h[0]}),s=this.bufferSync(t),l=$e(o,t.dtype);i!==0&&l.values.fill(i);for(var c=0;c<t.size;c++){var u=s.indexToLoc(c),d=u.map(function(h,f){return h+a[f]});l.set.apply(l,[s.get.apply(s,u)].concat(d))}return l.toTensor()},e.prototype.transpose=function(t,r){ue(t,"transpose");for(var i=new Array(t.rank),o=0;o<i.length;o++)i[o]=t.shape[r[o]];var a=this.readSync(t.dataId),s=$e(i,t.dtype),l=this.bufferSync(t);for(o=0;o<t.size;++o){for(var c=l.indexToLoc(o),u=new Array(c.length),d=0;d<u.length;d++)u[d]=c[r[d]];var h=s.locToIndex(u);s.values[h]=a[o]}return s.toTensor()},e.prototype.gather=function(t,r,i){ue([t,r],"gather");var o=t.shape.slice(),a=this.readSync(r.dataId);o[i]=a.length;for(var s=$e(o,t.dtype),l=this.bufferSync(t),c=0;c<s.size;++c){var u=s.indexToLoc(c),d=u.slice();d[i]=a[u[i]];var h=l.locToIndex(d);s.values[c]=l.values[h]}return s.toTensor()},e.prototype.batchToSpaceND=function(t,r,i){ue([t],"batchToSpaceND");var o=r.reduce(function(d,h){return d*h}),a=lp(t.shape,r,o),s=cp(a.length,r.length),l=up(t.shape,r,o),c=j6(i,r.length),u=N6(l,i,r.length);return t.reshape(a).transpose(s).reshape(l).slice(c,u)},e.prototype.spaceToBatchND=function(t,r,i){ue([t],"spaceToBatchND");var o=r.reduce(function(h,f){return h*f}),a=[[0,0]];a.push.apply(a,i);for(var s=1+r.length;s<t.shape.length;++s)a.push([0,0]);var l=t.pad(a),c=lp(l.shape,r,o,!1),u=cp(c.length,r.length,!1),d=up(l.shape,r,o,!1);return l.reshape(c).transpose(u).reshape(d)},e.prototype.pool=function(t,r,i){ue(t,"pool");for(var o=r.strideHeight,a=r.strideWidth,s=r.dilationHeight,l=r.dilationWidth,c=r.effectiveFilterHeight,u=r.effectiveFilterWidth,d=r.padInfo.top,h=r.padInfo.left,f=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,p=this.readSync(t.dataId),m=$e(r.outShape,t.dtype),b=m.values,g=r.outShape[1]*r.outShape[2]*r.outShape[3],v=r.outShape[2]*r.outShape[3],x=r.outShape[3],y=0;y<r.batchSize;++y)for(var w=y*g,k=y*t.strides[0],_=0;_<r.inChannels;++_)for(var T=0;T<r.outHeight;++T)for(var E=T*o-d,A=Math.max(0,E),M=Math.min(r.inHeight,c+E),I=w+T*v,L=0;L<r.outWidth;++L){for(var S=L*a-h,O=Math.max(0,S),P=Math.min(r.inWidth,u+S),z=f,N=0,B=0,U=A;U<M;U+=s){for(var $=k+U*t.strides[1],F=O;F<P;F+=l){var ee=p[$+F*t.strides[2]+_];i==="max"&&ee>z?z=ee:i==="avg"&&(N+=ee,B++)}if(isNaN(z))break}b[I+L*x+_]=i==="avg"?N/B:z}return m.toTensor()},e.prototype.maxPool=function(t,r){return this.pool(t,r,"max")},e.prototype.maxPoolPositions=function(t,r){for(var i=$e(r.outShape,"int32"),o=r.strideHeight,a=r.strideWidth,s=r.dilationHeight,l=r.dilationWidth,c=r.effectiveFilterHeight,u=r.effectiveFilterWidth,d=r.padInfo.top,h=r.padInfo.left,f=this.bufferSync(t),p=0;p<r.batchSize;++p)for(var m=0;m<r.inChannels;++m)for(var b=0;b<r.outHeight;++b){for(var g=b*o-d,v=g;v<0;)v+=s;for(var x=Math.min(r.inHeight,c+g),y=0;y<r.outWidth;++y){for(var w=y*a-h,k=w;k<0;)k+=l;for(var _=Math.min(r.inWidth,u+w),T=Number.NEGATIVE_INFINITY,E=-1,A=v;A<x;A+=s)for(var M=A-g,I=k;I<_;I+=l){var L=I-w,S=f.get(p,A,I,m);S>T&&(T=S,E=M*u+L)}i.set(E,p,b,y,m)}}return i.toTensor()},e.prototype.maxPoolBackprop=function(t,r,i,o){ue([r,i],"maxPoolBackprop");for(var a=this.maxPoolPositions(r,o),s=o.strideHeight,l=o.strideWidth,c=o.dilationHeight,u=o.dilationWidth,d=o.effectiveFilterHeight,h=o.effectiveFilterWidth,f=h-1-o.padInfo.left,p=d-1-o.padInfo.top,m=$e(r.shape,"float32"),b=this.bufferSync(a),g=this.bufferSync(t),v=0;v<o.batchSize;++v)for(var x=0;x<o.inChannels;++x)for(var y=0;y<o.inHeight;++y)for(var w=0;w<o.inWidth;++w){for(var k=y-p,_=w-f,T=0,E=0;E<d;E+=c){var A=(k+E)/s;if(!(A<0||A>=o.outHeight||Math.floor(A)!==A))for(var M=0;M<h;M+=u){var I=(_+M)/l;if(!(I<0||I>=o.outWidth||Math.floor(I)!==I)){var L=d*h-1-b.get(v,A,I,x)===E*h+M?1:0;L!==0&&(T+=g.get(v,A,I,x)*L)}}}m.set(T,v,y,w,x)}return m.toTensor()},e.prototype.avgPoolBackprop=function(t,r,i){ue([t,r],"avgPoolBackprop");for(var o=i.strideHeight,a=i.strideWidth,s=i.filterHeight,l=i.filterWidth,c=i.dilationHeight,u=i.dilationWidth,d=i.effectiveFilterHeight,h=i.effectiveFilterWidth,f=h-1-i.padInfo.left,p=d-1-i.padInfo.top,m=$e(r.shape,"float32"),b=1/(s*l),g=this.bufferSync(t),v=0;v<i.batchSize;++v)for(var x=0;x<i.inChannels;++x)for(var y=0;y<i.inHeight;++y)for(var w=0;w<i.inWidth;++w){for(var k=y-p,_=w-f,T=0,E=0;E<d;E+=c){var A=(k+E)/o;if(!(A<0||A>=i.outHeight||Math.floor(A)!==A))for(var M=0;M<h;M+=u){var I=(_+M)/a;I<0||I>=i.outWidth||Math.floor(I)!==I||(T+=g.get(v,A,I,x))}}m.set(T*b,v,y,w,x)}return m.toTensor()},e.prototype.pool3d=function(t,r,i){ue(t,"pool3d");for(var o=r.strideDepth,a=r.strideHeight,s=r.strideWidth,l=r.dilationDepth,c=r.dilationHeight,u=r.dilationWidth,d=r.effectiveFilterDepth,h=r.effectiveFilterHeight,f=r.effectiveFilterWidth,p=r.padInfo.front,m=r.padInfo.top,b=r.padInfo.left,g=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=this.readSync(t.dataId),x=$e(r.outShape,t.dtype),y=x.values,w=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],k=r.outShape[2]*r.outShape[3]*r.outShape[4],_=r.outShape[3]*r.outShape[4],T=r.outShape[4],E=0;E<r.batchSize;++E)for(var A=E*w,M=E*t.strides[0],I=0;I<r.inChannels;++I)for(var L=0;L<r.outDepth;++L){for(var S=L*o-p,O=S;O<0;)O+=l;for(var P=Math.min(r.inDepth,d+S),z=A+L*k,N=0;N<r.outHeight;++N){for(var B=N*a-m,U=B;U<0;)U+=c;for(var $=Math.min(r.inHeight,h+B),F=z+N*_,ee=0;ee<r.outWidth;++ee){for(var X=ee*s-b,Q=X;Q<0;)Q+=u;for(var be=Math.min(r.inWidth,f+X),ye=F+ee*T,ge=g,we=0,Ue=0,Me=O;Me<P;Me+=l){for(var He=M+Me*t.strides[1],Ne=U;Ne<$;Ne+=c){for(var R=He+Ne*t.strides[2],ne=Q;ne<be;ne+=u){var J=v[R+ne*t.strides[3]+I];if(i==="max"&&J>ge?ge=J:i==="avg"&&(we+=J,Ue++),isNaN(ge))break}if(isNaN(ge))break}if(isNaN(ge))break}y[ye+I]=i==="avg"?we/Ue:ge}}}return x.toTensor()},e.prototype.avgPool3d=function(t,r){return ue(t,"avgPool3d"),this.pool3d(t,r,"avg").toFloat()},e.prototype.avgPool3dBackprop=function(t,r,i){ue([t,r],"avgPool3dBackprop");for(var o=i.strideDepth,a=i.strideHeight,s=i.strideWidth,l=i.filterDepth,c=i.filterHeight,u=i.filterWidth,d=i.dilationDepth,h=i.dilationHeight,f=i.dilationWidth,p=i.effectiveFilterDepth,m=i.effectiveFilterHeight,b=i.effectiveFilterWidth,g=p-1-i.padInfo.front,v=b-1-i.padInfo.left,x=m-1-i.padInfo.top,y=$e(r.shape,"float32"),w=1/(l*c*u),k=this.bufferSync(t),_=0;_<i.batchSize;++_)for(var T=0;T<i.inChannels;++T)for(var E=0;E<i.inDepth;++E)for(var A=0;A<i.inHeight;++A)for(var M=0;M<i.inWidth;++M){for(var I=E-g,L=A-x,S=M-v,O=0,P=0;P<p;P+=d){var z=(I+P)/o;if(!(z<0||z>=i.outDepth||Math.floor(z)!==z))for(var N=0;N<m;N+=h){var B=(L+N)/a;if(!(B<0||B>=i.outHeight||Math.floor(B)!==B))for(var U=0;U<b;U+=f){var $=(S+U)/s;$<0||$>=i.outWidth||Math.floor($)!==$||(O+=k.get(_,z,B,$,T))}}}y.set(O*w,_,E,A,M,T)}return y.toTensor()},e.prototype.maxPool3d=function(t,r){return ue(t,"maxPool3d"),this.pool3d(t,r,"max").toFloat()},e.prototype.maxPool3dPositions=function(t,r){for(var i=$e(r.outShape,"int32"),o=r.strideDepth,a=r.strideHeight,s=r.strideWidth,l=r.dilationDepth,c=r.dilationHeight,u=r.dilationWidth,d=r.effectiveFilterDepth,h=r.effectiveFilterHeight,f=r.effectiveFilterWidth,p=r.padInfo.front,m=r.padInfo.top,b=r.padInfo.left,g=this.bufferSync(t),v=0;v<r.batchSize;++v)for(var x=0;x<r.inChannels;++x)for(var y=0;y<r.outDepth;++y){for(var w=y*o-p,k=w;k<0;)k+=l;for(var _=Math.min(r.inDepth,d+w),T=0;T<r.outHeight;++T){for(var E=T*a-m,A=E;A<0;)A+=c;for(var M=Math.min(r.inHeight,h+E),I=0;I<r.outWidth;++I){for(var L=I*s-b,S=L;S<0;)S+=u;for(var O=Math.min(r.inWidth,f+L),P=Number.NEGATIVE_INFINITY,z=-1,N=k;N<_;N+=l)for(var B=N-w,U=A;U<M;U+=c)for(var $=U-E,F=S;F<O;F+=u){var ee=F-L,X=g.get(v,N,U,F,x);X>=P&&(P=X,z=B*h*f+$*h+ee)}i.set(z,v,y,T,I,x)}}}return i.toTensor()},e.prototype.maxPool3dBackprop=function(t,r,i,o){ue([r,i],"maxPool3dBackprop");for(var a=this.maxPool3dPositions(r,o),s=o.strideDepth,l=o.strideHeight,c=o.strideWidth,u=o.dilationDepth,d=o.dilationHeight,h=o.dilationWidth,f=o.effectiveFilterDepth,p=o.effectiveFilterHeight,m=o.effectiveFilterWidth,b=f-1-o.padInfo.front,g=m-1-o.padInfo.left,v=p-1-o.padInfo.top,x=$e(r.shape,"float32"),y=this.bufferSync(a),w=this.bufferSync(t),k=0;k<o.batchSize;++k)for(var _=0;_<o.inChannels;++_)for(var T=0;T<o.inDepth;++T)for(var E=0;E<o.inHeight;++E)for(var A=0;A<o.inWidth;++A){for(var M=T-b,I=E-v,L=A-g,S=0,O=0;O<f;O+=u){var P=(M+O)/s;if(!(P<0||P>=o.outDepth||Math.floor(P)!==P))for(var z=0;z<p;z+=d){var N=(I+z)/l;if(!(N<0||N>=o.outHeight||Math.floor(N)!==N))for(var B=0;B<m;B+=h){var U=(L+B)/c;if(!(U<0||U>=o.outWidth||Math.floor(U)!==U)){var $=f*p*m-1-y.get(k,P,N,U,_)===O*p*m+z*m+B?1:0;$!==0&&(S+=w.get(k,P,N,U,_)*$)}}}}x.set(S,k,T,E,A,_)}return x.toTensor()},e.prototype.cast=function(t,r){return G6(t,r,this)},e.prototype.reshape=function(t,r){return Cv(t,r)},e.prototype.avgPool=function(t,r){return ue(t,"avgPool"),this.pool(t,r,"avg").toFloat()},e.prototype.resizeBilinear=function(t,r,i,o){ue(t,"resizeBilinear");for(var a=t.shape,s=a[0],l=a[1],c=a[2],u=a[3],d=this.readSync(t.dataId),h=new Float32Array(Te([s,r,i,u])),f=[o&&r>1?l-1:l,o&&i>1?c-1:c],p=[o&&r>1?r-1:r,o&&i>1?i-1:i],m=0,b=f[0]/p[0],g=f[1]/p[1],v=0;v<s;v++)for(var x=0;x<r;x++)for(var y=b*x,w=Math.floor(y),k=y-w,_=Math.min(l-1,Math.ceil(y)),T=v*t.strides[0]+w*t.strides[1],E=v*t.strides[0]+_*t.strides[1],A=0;A<i;A++)for(var M=g*A,I=Math.floor(M),L=M-I,S=Math.min(c-1,Math.ceil(M)),O=T+I*t.strides[2],P=E+I*t.strides[2],z=T+S*t.strides[2],N=E+S*t.strides[2],B=0;B<u;B++){var U=d[O+B],$=d[P+B],F=U+(d[z+B]-U)*L,ee=F+($+(d[N+B]-$)*L-F)*k;h[m++]=ee}return kn(h,[s,r,i,u])},e.prototype.resizeBilinearBackprop=function(t,r,i){ue([t,r],"resizeBilinearBackprop");for(var o=r.shape,a=o[0],s=o[1],l=o[2],c=o[3],u=t.shape,d=u[1],h=u[2],f=new Float32Array(a*s*l*c),p=[i&&d>1?s-1:s,i&&h>1?l-1:l],m=[i&&d>1?d-1:d,i&&h>1?h-1:h],b=p[0]/m[0],g=p[1]/m[1],v=this.readSync(t.dataId),x=0,y=0;y<a;y++)for(var w=y*r.strides[0],k=0;k<d;k++)for(var _=k*b,T=Math.floor(_),E=Math.min(Math.ceil(_),s-1),A=w+T*r.strides[1],M=w+E*r.strides[1],I=_-T,L=1-I,S=0;S<h;S++)for(var O=S*g,P=Math.floor(O),z=Math.min(Math.ceil(O),l-1),N=O-P,B=1-N,U=A+P*r.strides[2],$=A+z*r.strides[2],F=M+P*r.strides[2],ee=M+z*r.strides[2],X=L*B,Q=L*N,be=I*B,ye=I*N,ge=0;ge<c;ge++){var we=v[x++];f[U+ge]+=we*X,f[$+ge]+=we*Q,f[F+ge]+=we*be,f[ee+ge]+=we*ye}return er(f,[a,l,s,c],r.dtype)},e.prototype.resizeNearestNeighbor=function(t,r,i,o){ue(t,"resizeNearestNeighbor");for(var a=t.shape,s=a[0],l=a[1],c=a[2],u=a[3],d=this.readSync(t.dataId),h=new Float32Array(s*r*i*u),f=[o&&r>1?l-1:l,o&&i>1?c-1:c],p=[o&&r>1?r-1:r,o&&i>1?i-1:i],m=f[0]/p[0],b=f[1]/p[1],g=0,v=0;v<s;v++)for(var x=v*t.strides[0],y=0;y<r;y++)for(var w=m*y,k=x+Math.min(l-1,o?Math.round(w):Math.floor(w))*t.strides[1],_=0;_<i;_++)for(var T=b*_,E=k+Math.min(c-1,o?Math.round(T):Math.floor(T))*t.strides[2],A=0;A<u;A++){var M=d[E+A];h[g++]=M}return kn(h,[s,r,i,u],t.dtype)},e.prototype.resizeNearestNeighborBackprop=function(t,r,i){ue([t,r],"resizeNearestNeighborBackprop");for(var o=r.shape,a=o[0],s=o[1],l=o[2],c=o[3],u=t.shape,d=u[1],h=u[2],f=new Float32Array(a*s*l*c),p=this.readSync(t.dataId),m=[i&&d>1?s-1:s,i&&h>1?l-1:l],b=[i&&d>1?d-1:d,i&&h>1?h-1:h],g=m[0]/b[0],v=m[1]/b[1],x=1/g,y=1/v,w=2*Math.ceil(x)+2,k=2*Math.ceil(y)+2,_=0;_<a;_++)for(var T=_*r.strides[0],E=0;E<s;E++)for(var A=T+E*r.strides[1],M=Math.floor(E*x),I=Math.floor(M-w/2),L=0;L<l;L++)for(var S=A+L*r.strides[2],O=Math.floor(L*y),P=Math.floor(O-k/2),z=0;z<c;z++){for(var N=0,B=0;B<w;B++){var U=B+I;if(!(U<0||U>=d)){var $=T+U*t.strides[1],F=U*g;if(E===Math.min(s-1,i?Math.round(F):Math.floor(F)))for(var ee=0;ee<k;ee++){var X=ee+P;if(!(X<0||X>=h)){var Q=$+X*t.strides[2],be=X*v;L===Math.min(l-1,i?Math.round(be):Math.floor(be))&&(N+=p[Q+z])}}}}f[S+z]=N}return er(f,r.shape,r.dtype)},e.prototype.batchNormalization=function(t,r,i,o,a,s){ue([t,r,i,a,s],"batchNorm");for(var l=this.readSync(t.dataId),c=this.readSync(r.dataId),u=this.readSync(i.dataId),d=a?this.readSync(a.dataId):new Float32Array([1]),h=s?this.readSync(s.dataId):new Float32Array([0]),f=new Float32Array(l.length),p=h.length,m=d.length,b=u.length,g=c.length,v=0,x=0,y=0,w=0,k=0;k<l.length;++k)f[k]=h[v++]+(l[k]-c[x++])*d[y++]/Math.sqrt(u[w++]+o),v>=p&&(v=0),x>=g&&(x=0),y>=m&&(y=0),w>=b&&(w=0);return er(f,t.shape)},e.prototype.localResponseNormalization4D=function(t,r,i,o,a){ue(t,"localResponseNormalization4D");var s=t.shape[3],l=s-1,c=this.readSync(t.dataId),u=t.size,d=new Float32Array(u);function h(b){for(var g=b%s,v=b-g+Math.max(0,g-r),x=b-g+Math.min(g+r,l),y=0;v<=x;v++){var w=c[v];y+=w*w}return y}for(var f=0;f<u;f++){var p=h(f),m=c[f]*Math.pow(i+o*p,-a);d[f]=m}return er(d,t.shape)},e.prototype.LRNGrad=function(t,r,i,o,a,s,l){ue(t,"LRNGrad");for(var c=t.shape[3],u=this.readSync(t.dataId),d=this.readSync(r.dataId),h=this.readSync(i.dataId),f=new Float32Array(t.size),p=t.size,m=0;m<p;m++){for(var b=m%c,g=m-b+Math.max(0,b-o),v=m-b+Math.min(c,b+o+1),x=0,y=g;y<v;y++)x+=Math.pow(d[y],2);for(x=s*x+a,y=g;y<v;y++){var w=-2*s*l*d[y]*h[m]/x;m===y&&(w+=Math.pow(x,-l)),w*=u[m],f[y]+=w}}return er(f,t.shape)},e.prototype.multinomial=function(t,r,i,o){ue(t,"multinomial");for(var a=r?t:Ro(t),s=a.shape[0],l=a.shape[1],c=_t([s,i],"int32"),u=this.readSync(c.dataId),d=this.readSync(a.dataId),h=0;h<s;++h){var f=h*l,p=new Float32Array(l-1);p[0]=d[f];for(var m=1;m<p.length;++m)p[m]=p[m-1]+d[f+m];for(var b=Im(o.toString()),g=h*i,v=0;v<i;++v){var x=b();u[g+v]=p.length;for(var y=0;y<p.length;y++)if(x<p[y]){u[g+v]=y;break}}}return c},e.prototype.oneHot=function(t,r,i,o){ue(t,"oneHot");var a=new Float32Array(t.size*r);a.fill(o);for(var s=this.readSync(t.dataId),l=0;l<t.size;++l)s[l]>=0&&s[l]<r&&(a[l*r+s[l]]=i);return fa(a,[t.size,r],"int32")},e.prototype.nonMaxSuppression=function(t,r,i,o,a){return ue(t,"nonMaxSuppression"),t1(this.readSync(t.dataId),this.readSync(r.dataId),i,o,a)},e.prototype.fft=function(t){return this.fftBatch(t,!1)},e.prototype.ifft=function(t){return this.fftBatch(t,!0)},e.prototype.fftBatch=function(t,r){for(var i=t.shape[0],o=t.shape[1],a=$e(t.shape,"float32"),s=$e(t.shape,"float32"),l=Hr(t).as2D(i,o),c=Oi(t).as2D(i,o),u=0;u<i;u++)for(var d=l.slice([u,0],[1,o]),h=c.slice([u,0],[1,o]),f=yn(d,h),p=this.readSync(this.fftImpl(f,r).dataId),m=0;m<o;m++){var b=P_(p,m);a.values[u*o+m]=b.real,s.values[u*o+m]=b.imag}return yn(a.toTensor(),s.toTensor()).as2D(i,o)},e.prototype.fftImpl=function(t,r){var i=t.as1D(),o=i.size;if(this.isExponentOf2(o)){var a=this.fftRadix2(i,o,r).as2D(t.shape[0],t.shape[1]);return r&&(a=yn(Hr(a).div(ve(o)),Oi(a).div(ve(o)))),a}var s=this.readSync(t.dataId),l=function(c){for(var u=new Float32Array(c.length/2),d=new Float32Array(c.length/2),h=0;h<c.length;h+=2)u[h/2]=c[h],d[h/2]=c[h+1];return{real:u,imag:d}}(this.fourierTransformByMatmul(s,o,r));return yn(l.real,l.imag).as2D(t.shape[0],t.shape[1])},e.prototype.isExponentOf2=function(t){return(t&t-1)==0},e.prototype.fftRadix2=function(t,r,i){if(r===1)return t;var o=this.readSync(t.dataId),a=r/2,s=function(g){for(var v=Math.ceil(g.length/4),x=new Float32Array(v),y=new Float32Array(v),w=0;w<g.length;w+=4)x[Math.floor(w/4)]=g[w],y[Math.floor(w/4)]=g[w+1];return{real:x,imag:y}}(o),l=yn(s.real,s.imag).as1D(),c=function(g){for(var v=Math.floor(g.length/4),x=new Float32Array(v),y=new Float32Array(v),w=2;w<g.length;w+=4)x[Math.floor(w/4)]=g[w],y[Math.floor(w/4)]=g[w+1];return{real:x,imag:y}}(o),u=yn(c.real,c.imag).as1D();l=this.fftRadix2(l,a,i),u=this.fftRadix2(u,a,i);var d=function(g,v){for(var x=new Float32Array(g/2),y=new Float32Array(g/2),w=0;w<Math.ceil(g/2);w++){var k=(v?2:-2)*Math.PI*(w/g);x[w]=Math.cos(k),y[w]=Math.sin(k)}return{real:x,imag:y}}(r,i),h=yn(d.real,d.imag).mul(u),f=l.add(h),p=l.sub(h),m=Hr(f).concat(Hr(p)),b=Oi(f).concat(Oi(p));return yn(m,b).as1D()},e.prototype.fourierTransformByMatmul=function(t,r,i){for(var o=new Float32Array(2*r),a=0;a<r;a++){for(var s=0,l=0,c=0;c<r;c++){var u=wK(a*c,r,i),d=P_(t,c);s+=d.real*u.real-d.imag*u.imag,l+=d.real*u.imag+d.imag*u.real}i&&(s/=r,l/=r),yK(o,s,l,a)}return o},e.prototype.depthToSpace=function(t,r,i){W(i==="NHWC",function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+i}),W(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});for(var o=t.shape[0],a=t.shape[1],s=t.shape[2],l=t.shape[3],c=a*r,u=s*r,d=l/(r*r),h=this.readSync(t.dataId),f=new Float32Array(o*c*u*d),p=0,m=0;m<o;++m)for(var b=0;b<c;++b)for(var g=Math.floor(b/r),v=b%r,x=0;x<u;++x)for(var y=Math.floor(x/r),w=(v*r+x%r)*d,k=0;k<d;++k){var _=k+w+l*(y+s*(g+a*m));f[p++]=h[_]}return er(f,[o,c,u,d])},e.prototype.broadcastedBinaryOp=function(t,r,i,o){var a=tt(t.shape,r.shape),s=$e(a,i),l=this.readSync(t.dataId),c=this.readSync(r.dataId),u=ta(t.shape,a),d=ta(r.shape,a),h=s.values;if(u.length+d.length===0)for(var f=0;f<h.length;++f)h[f]=o(l[f%l.length],c[f%c.length]);else{var p=this.bufferSync(t),m=this.bufferSync(r),b=function(g){var v=s.indexToLoc(g),x=v.slice(-t.rank);u.forEach(function(_){return x[_]=0});var y=p.locToIndex(x),w=v.slice(-r.rank);d.forEach(function(_){return w[_]=0});var k=m.locToIndex(w);h[g]=o(l[y],c[k])};for(f=0;f<h.length;++f)b(f)}return s.toTensor()},e.prototype.broadcastedBinaryComplexOp=function(t,r,i){var o=tt(t.shape,r.shape),a=$e(o,"float32"),s=$e(o,"float32"),l=this.readSync(t.dataId),c=this.readSync(r.dataId),u=ta(t.shape,o),d=ta(r.shape,o),h=a.values,f=s.values;if(u.length+d.length===0)for(var p=0;p<h.length;p++){var m=p%l.length,b=p%c.length,g=i(l[2*m],l[2*m+1],c[2*b],c[2*b+1]);h[p]=g.real,f[p]=g.imag}else{var v=this.bufferSync(this.data.get(t.dataId).complexTensors.real),x=this.bufferSync(this.data.get(r.dataId).complexTensors.real),y=function(w){var k=a.indexToLoc(w),_=k.slice(-t.rank);u.forEach(function(I){return _[I]=0});var T=v.locToIndex(_),E=k.slice(-r.rank);d.forEach(function(I){return E[I]=0});var A=x.locToIndex(E),M=i(l[2*T],l[2*T+1],c[2*A],c[2*A+1]);h[w]=M.real,f[w]=M.imag};for(p=0;p<h.length;p++)y(p)}return this.complex(a.toTensor(),s.toTensor())},e.prototype.split=function(t,r,i){return X6(t,r,i)},e.prototype.dispose=function(){},e.prototype.floatPrecision=function(){return 32},e.prototype.epsilon=function(){return 1e-7},e.prototype.cropAndResize=function(t,r,i,o,a,s){for(var l=t.shape,c=l[0],u=l[1],d=l[2],h=l[3],f=r.shape[0],p=o[0],m=o[1],b=$e([f,p,m,h],"float32"),g=this.readSync(r.dataId),v=this.readSync(i.dataId),x=this.readSync(t.dataId),y=t.strides,w=b.strides,k=0;k<f;k++){var _=4*k,T=g[_],E=g[_+1],A=g[_+2],M=g[_+3],I=v[k];if(!(I>=c))for(var L=p>1?(A-T)*(u-1)/(p-1):0,S=m>1?(M-E)*(d-1)/(m-1):0,O=0;O<p;O++){var P=p>1?T*(u-1)+O*L:.5*(T+A)*(u-1);if(P<0||P>u-1)for(var z=0;z<m;z++)for(var N=0;N<h;N++){var B=N+z*w[2]+O*w[1]+k*w[0];b.values[B]=s}else if(a==="bilinear"){var U=Math.floor(P),$=Math.ceil(P),F=P-U;for(z=0;z<m;z++)if((Me=m>1?E*(d-1)+z*S:.5*(E+M)*(d-1))<0||Me>d-1)for(N=0;N<h;N++)B=N+z*w[2]+O*w[1]+k*w[0],b.values[B]=s;else{var ee=Math.floor(Me),X=Math.ceil(Me),Q=Me-ee;for(N=0;N<h;N++){var be=x[B=N+ee*y[2]+U*y[1]+I*y[0]],ye=x[B=N+X*y[2]+U*y[1]+I*y[0]],ge=x[B=N+ee*y[2]+$*y[1]+I*y[0]],we=be+(ye-be)*Q,Ue=ge+(x[B=N+X*y[2]+$*y[1]+I*y[0]]-ge)*Q;B=N+z*w[2]+O*w[1]+k*w[0],b.values[B]=we+(Ue-we)*F}}}else for(z=0;z<m;++z){var Me;if((Me=m>1?E*(d-1)+z*S:.5*(E+M)*(d-1))<0||Me>d-1)for(N=0;N<h;N++)B=N+z*w[2]+O*w[1]+k*w[0],b.values[B]=s;else{var He=Math.round(Me),Ne=Math.round(P);for(N=0;N<h;N++){var R=N+He*y[2]+Ne*y[1]+I*y[0],ne=N+z*w[2]+O*w[1]+k*w[0];b.values[ne]=x[R]}}}}}return b.toTensor()},e.prototype.sparseToDense=function(t,r,i,o){var a=dp(0,t,i),s=a.sliceRank,l=a.numUpdates,c=a.sliceSize,u=a.strides,d=a.outputSize;return this.scatter(t,r,i,d,c,l,s,u,o,!1)},e.prototype.gatherND=function(t,r){var i=r.shape,o=i[i.length-1],a=F6(t,r),s=a[0],l=a[1],c=a[2],u=a[3];if(l===0)return kn([],s,t.dtype);for(var d=new Qu([l,c],t.dtype),h=this.readSync(r.dataId),f=this.readSync(t.dataId),p=0;p<l;p++){for(var m=[],b=0,g=0;g<o;g++){var v=h[p*o+g];b+=v*u[g],m.push(v)}if(b<0||b>=t.size/c)throw new Error("Invalid indices: "+m+" does not index into "+t.shape);for(var x=0;x<c;x++)d.values[p*c+x]=f[b*c+x]}return d.toTensor().reshape(s)},e.prototype.scatterND=function(t,r,i){var o=dp(0,t,i),a=o.sliceRank,s=o.numUpdates,l=o.sliceSize,c=o.strides,u=o.outputSize,d=ve(0);return this.scatter(t,r,i,u,l,s,a,c,d,!0)},e.prototype.fill=function(t,r,i){var o=tp(i=i||Dd(r),Te(t));return o.fill(r),G.makeTensor(o,t,i,this)},e.prototype.onesLike=function(t){if(t.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(t.shape,1,t.dtype)},e.prototype.zerosLike=function(t){var r=tp(t.dtype,Te(t.shape));return this.makeOutput(r,t.shape,t.dtype)},e.prototype.linspace=function(t,r,i){return K6(t,r,i)},e.prototype.scatter=function(t,r,i,o,a,s,l,c,u,d){var h=[o/a,a],f=this.readSync(t.dataId),p=this.readSync(r.dataId);if(o===0)return kn([],i,r.dtype);var m=new Qu(h,r.dtype);m.values.fill(this.readSync(u.dataId)[0]);for(var b=0;b<s;b++){for(var g=[],v=0,x=0;x<l;x++){var y=f[b*l+x];g.push(y),v+=y*c[x]}if(v<0||v>=o/a)throw new Error("Invalid indices: "+g+" does not index into "+i);for(var w=0;w<a;w++)d?m.values[v*a+w]+=p[b*a+w]:m.values[v*a+w]=r.rank===0?p[0]:p[b*a+w]}return m.toTensor().reshape(i)},e}(V6);G.registerBackend("cpu",function(){return new $J},1);for(var C0=0,nC=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=n.attrs,i=e,o=i.boxes,a=i.scores,s=r,l=s.maxOutputSize,c=s.iouThreshold,u=s.scoreThreshold,d=s.softNmsSigma,h=t;ue(o,"NonMaxSuppressionWithScore");var f=n1(h.data.get(o.dataId).values,h.data.get(a.dataId).values,l,c,u,d);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=e.x,i=t;ue(r,"square");for(var o=i.data.get(r.dataId).values,a=new Float32Array(o.length),s=0;s<o.length;++s){var l=o[s];a[s]=l*l}return{dataId:i.write(a,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:nd,backendName:"cpu",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=e,i=r.a,o=r.b,a=t;ue([i,o],nd);var s=a.data.get(i.dataId).values,l=a.data.get(o.dataId).values,c=function(h,f,p,m,b,g){var v=tt(h,f),x=v.length,y=Ni(v),w=Ju(b,Te(v)),k=h.length,_=f.length,T=Ni(h),E=Ni(f),A=ta(h,v),M=ta(f,v);if(A.length+M.length===0)for(var I=0;I<w.length;++I)w[I]=g(p[I%p.length],m[I%m.length]);else{var L=function(S){var O=Zq(S,x,y),P=O.slice(-k);A.forEach(function(U){return P[U]=0});var z=E_(P,k,T),N=O.slice(-_);M.forEach(function(U){return N[U]=0});var B=E_(N,_,E);w[S]=g(p[z],m[B])};for(I=0;I<w.length;++I)L(I)}return[w,v]}(i.shape,o.shape,s,l,i.dtype,function(h,f){var p=h-f;return p*p}),u=c[0],d=c[1];return{dataId:a.write(u,d,i.dtype),shape:d,dtype:i.dtype}}}];C0<nC.length;C0++)x6(nC[C0]);var el,UJ=function(n){this.variableNames=["A"];var e=On(),t=n[0],r=n[1];this.outputShape=n,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+t+".0);\n\n        vec4 values = "+e.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},HJ=function(n){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var e=On(),t=n[0],r=n[1];this.outputShape=n,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+t+".0);\n            vec4 values = "+e.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+e.output+" = result;\n      }\n    "};for(var E0=0,rC=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=n.attrs,i=e.pixels,o=r.numChannels,a=typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement,l=a?[i.videoWidth,i.videoHeight]:[i.width,i.height],c=l[0],u=l[1],d=[u,c],h=[u,c,o];(s||a)&&(el==null&&(el=document.createElement("canvas").getContext("2d")),el.canvas.width=c,el.canvas.height=u,el.drawImage(i,0,0,c,u),i=el.canvas);var f=t.makeTensorInfo(d,"int32");t.texData.get(f.dataId).usage=yr.PIXELS,t.gpgpu.uploadPixelDataToTexture(t.getTexture(f.dataId),i);var p=oe().getBool("WEBGL_PACK")?new HJ(h):new UJ(h),m=t.runWebGLProgram(p,[f],"int32");return t.disposeData(f.dataId),m}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=n.attrs;op("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var i=e,o=i.boxes,a=i.scores,s=r,l=s.maxOutputSize,c=s.iouThreshold,u=s.scoreThreshold,d=s.softNmsSigma,h=t,f=n1(h.readSync(o.dataId),h.readSync(a.dataId),l,c,u,d);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=e.x,i=t,o=new Ge(r.shape,"return x * x;");return i.runWebGLProgram(o,[r],r.dtype)}},{kernelName:nd,backendName:"webgl",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=e,i=r.a,o=r.b,a=t,s=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("return (a - b) * (a - b);",i.shape,o.shape):new Pt("return (a - b) * (a - b);",i.shape,o.shape);return a.compileAndRun(s,[i,o])}}];E0<rC.length;E0++)x6(rC[E0]);for(var S0=0,iC=[{kernelName:"Square",gradFunc:function(n,e){var t=e[0];return{x:function(){return n.mul(t.toFloat().mul(2))}}}},{kernelName:nd,gradFunc:function(n,e){var t=e[0],r=e[1],i=ve(2);return{a:function(){return jn(n,jn(i,rn(t,r)))},b:function(){return jn(n,jn(i,rn(r,t)))}}}}];S0<iC.length;S0++)Fq(iC[S0]);var WJ=function(){function n(){}return n.prototype.fetch=function(e,t){return fetch(e,t)},n.prototype.now=function(){return performance.now()},n.prototype.encode=function(e,t){if(t!=="utf-8"&&t!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+t);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},n.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},n}();oe().get("IS_BROWSER")&&oe().setPlatform("browser",new WJ);var T0,VJ=function(){return require("node-fetch")},qJ=function(){function n(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return n.prototype.fetch=function(e,t){return oe().global.fetch!=null?oe().global.fetch(e,t):(T0==null&&(T0=VJ()),T0(e,t))},n.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},n.prototype.encode=function(e,t){if(t!=="utf-8"&&t!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},n.prototype.decode=function(e,t){return e.length===0?"":new this.util.TextDecoder(t).decode(e)},n}();oe().get("IS_NODE")&&oe().setPlatform("node",new qJ);var Tv={float32:4,int32:4,uint16:2,uint8:1,bool:1},vp=4;function UT(n,e){for(var t={},r=0,i=function(s){var l=s.name,c=s.dtype,u=s.shape,d=Te(u),h=void 0;if("quantization"in s){var f=s.quantization;if(f.dtype!=="uint8"&&f.dtype!=="uint16")throw new Error("Weight "+s.name+" has unknown quantization dtype "+f.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var p=Tv[f.dtype],m=n.slice(r,r+d*p),b=f.dtype==="uint8"?new Uint8Array(m):new Uint16Array(m);if(c==="float32")h=Float32Array.from(b,function(k){return k*f.scale+f.min});else{if(c!=="int32")throw new Error("Unsupported dtype in weight '"+l+"': "+c);h=Int32Array.from(b,function(k){return Math.round(k*f.scale+f.min)})}r+=d*p}else if(c==="string"){var g=Te(s.shape);h=[];for(var v=0;v<g;v++){var x=new Uint32Array(n.slice(r,r+vp))[0];r+=vp;var y=new Uint8Array(n.slice(r,r+x));h.push(y),r+=x}}else{var w=Tv[c];if(m=n.slice(r,r+d*w),c==="float32")h=new Float32Array(m);else if(c==="int32")h=new Int32Array(m);else{if(c!=="bool")throw new Error("Unsupported dtype in weight '"+l+"': "+c);h=new Uint8Array(m)}r+=d*w}t[l]=kn(h,u,c)},o=0,a=e;o<a.length;o++)i(a[o]);return t}function GJ(n){if(n===null)throw new Error("Invalid input value: "+JSON.stringify(n));var e=0,t=[];n.forEach(function(o){if(e+=o.byteLength,t.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+o.constructor.name)});var r=new Uint8Array(e),i=0;return t.forEach(function(o){r.set(new Uint8Array(o.buffer),i),i+=o.byteLength}),r.buffer}var Av=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function oC(n){return Av?Buffer.byteLength(n):new Blob([n]).size}function w1(n){var e=0;n.forEach(function(i){e+=i.byteLength});var t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(new Uint8Array(i),r),r+=i.byteLength}),t.buffer}function aC(n){for(n=n.trim();n.endsWith("/");)n=n.slice(0,n.length-1);var e=n.split("/");return e[e.length-1]}function jd(n){if(n.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:n.modelTopology==null?0:oC(JSON.stringify(n.modelTopology)),weightSpecsBytes:n.weightSpecs==null?0:oC(JSON.stringify(n.weightSpecs)),weightDataBytes:n.weightData==null?0:n.weightData.byteLength}}var wr=function(){function n(){this.saveRouters=[],this.loadRouters=[]}return n.getInstance=function(){return n.instance==null&&(n.instance=new n),n.instance},n.registerSaveRouter=function(e){n.getInstance().saveRouters.push(e)},n.registerLoadRouter=function(e){n.getInstance().loadRouters.push(e)},n.getSaveHandlers=function(e){return n.getHandlers(e,"save")},n.getLoadHandlers=function(e,t){return n.getHandlers(e,"load",t)},n.getHandlers=function(e,t,r){var i=[];return(t==="load"?n.getInstance().loadRouters:n.getInstance().saveRouters).forEach(function(o){var a=o(e,r);a!==null&&i.push(a)}),i},n}(),Wl="://",pa=function(){function n(){this.managers={}}return n.getInstance=function(){return n.instance==null&&(n.instance=new n),n.instance},n.registerManager=function(e,t){W(e!=null,function(){return"scheme must not be undefined or null."}),e.endsWith(Wl)&&(e=e.slice(0,e.indexOf(Wl))),W(e.length>0,function(){return"scheme must not be an empty string."});var r=n.getInstance();W(r.managers[e]==null,function(){return"A model store manager is already registered for scheme '"+e+"'."}),r.managers[e]=t},n.getManager=function(e){var t=this.getInstance().managers[e];if(t==null)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},n.getSchemes=function(){return Object.keys(this.getInstance().managers)},n}();function tf(n){if(n.indexOf(Wl)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+pa.getSchemes().join(","));return{scheme:n.split(Wl)[0],path:n.split(Wl)[1]}}function sC(n,e,t){return t===void 0&&(t=!1),Ee(this,void 0,void 0,function(){var r,i,o,a,s,l,c,u,d;return Se(this,function(h){switch(h.label){case 0:return W(n!==e,function(){return"Old path and new path are the same: '"+n+"'"}),W((r=wr.getLoadHandlers(n)).length>0,function(){return"Copying failed because no load handler is found for source URL "+n+"."}),W(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+n+"."}),i=r[0],W((o=wr.getSaveHandlers(e)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+e+"."}),W(o.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+e+"."}),a=o[0],s=tf(n).scheme,l=tf(n).path,c=s===tf(n).scheme,[4,i.load()];case 1:return u=h.sent(),t&&c?[4,pa.getManager(s).removeModel(l)]:[3,3];case 2:h.sent(),h.label=3;case 3:return[4,a.save(u)];case 4:return d=h.sent(),!t||c?[3,6]:[4,pa.getManager(s).removeModel(l)];case 5:h.sent(),h.label=6;case 6:return[2,d.modelArtifactsInfo]}})})}var ts="models_store",na="model_info_store";function HT(){if(!oe().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var n=window||self,e=n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB||n.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function Iv(n){var e=n.result;e.createObjectStore(ts,{keyPath:"modelPath"}),e.createObjectStore(na,{keyPath:"modelPath"})}var Vl=function(){function n(e){if(this.indexedDB=HT(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return n.prototype.save=function(e){return Ee(this,void 0,void 0,function(){return Se(this,function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},n.prototype.load=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},n.prototype.databaseAction=function(e,t){var r=this;return new Promise(function(i,o){var a=r.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return Iv(a)},a.onsuccess=function(){var s=a.result;if(t==null){var l=s.transaction(ts,"readonly"),c=l.objectStore(ts).get(r.modelPath);c.onsuccess=function(){if(c.result==null)return s.close(),o(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));i(c.result.modelArtifacts)},c.onerror=function(m){return s.close(),o(c.error)},l.oncomplete=function(){return s.close()}}else{var u,d=jd(t),h=s.transaction(na,"readwrite"),f=h.objectStore(na),p=f.put({modelPath:r.modelPath,modelArtifactsInfo:d});p.onsuccess=function(){var m=(u=s.transaction(ts,"readwrite")).objectStore(ts).put({modelPath:r.modelPath,modelArtifacts:t,modelArtifactsInfo:d});m.onsuccess=function(){return i({modelArtifactsInfo:d})},m.onerror=function(b){var g=(f=h.objectStore(na)).delete(r.modelPath);g.onsuccess=function(){return s.close(),o(m.error)},g.onerror=function(v){return s.close(),o(m.error)}}},p.onerror=function(m){return s.close(),o(p.error)},h.oncomplete=function(){u==null?s.close():u.oncomplete=function(){return s.close()}}}},a.onerror=function(s){return o(a.error)}})},n.URL_SCHEME="indexeddb://",n}(),lC=function(n){return oe().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(Vl.URL_SCHEME)?(e=n.slice(Vl.URL_SCHEME.length),new Vl(e)):null;var e};wr.registerSaveRouter(lC),wr.registerLoadRouter(lC);var KJ=function(){function n(){this.indexedDB=HT()}return n.prototype.listModels=function(){return Ee(this,void 0,void 0,function(){var e=this;return Se(this,function(t){return[2,new Promise(function(r,i){var o=e.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return Iv(o)},o.onsuccess=function(){var a=o.result,s=a.transaction(na,"readonly"),l=s.objectStore(na).getAll();l.onsuccess=function(){for(var c={},u=0,d=l.result;u<d.length;u++){var h=d[u];c[h.modelPath]=h.modelArtifactsInfo}r(c)},l.onerror=function(c){return a.close(),i(l.error)},s.oncomplete=function(){return a.close()}},o.onerror=function(a){return i(o.error)}})]})})},n.prototype.removeModel=function(e){return Ee(this,void 0,void 0,function(){var t=this;return Se(this,function(r){var i;return e=(i=e).startsWith(Vl.URL_SCHEME)?i.slice(Vl.URL_SCHEME.length):i,[2,new Promise(function(o,a){var s=t.indexedDB.open("tensorflowjs",1);s.onupgradeneeded=function(){return Iv(s)},s.onsuccess=function(){var l,c=s.result,u=c.transaction(na,"readwrite"),d=u.objectStore(na),h=d.get(e);h.onsuccess=function(){if(h.result==null)return c.close(),a(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var f=d.delete(e),p=function(){var m=(l=c.transaction(ts,"readwrite")).objectStore(ts).delete(e);m.onsuccess=function(){return o(h.result.modelArtifactsInfo)},m.onerror=function(b){return a(h.error)}};f.onsuccess=p,f.onerror=function(m){return p(),c.close(),a(h.error)}},h.onerror=function(f){return c.close(),a(h.error)},u.oncomplete=function(){l==null?c.close():l.oncomplete=function(){return c.close()}}},s.onerror=function(l){return a(s.error)}})]})})},n}();if(oe().getBool("IS_BROWSER"))try{pa.registerManager(Vl.URL_SCHEME,new KJ)}catch(n){}var fo="/",gl="tensorflowjs_models",WT="info",YJ="model_topology",XJ="weight_specs",ZJ="weight_data",JJ="model_metadata";function VT(n){return{info:[gl,n,WT].join(fo),topology:[gl,n,YJ].join(fo),weightSpecs:[gl,n,XJ].join(fo),weightData:[gl,n,ZJ].join(fo),modelMetadata:[gl,n,JJ].join(fo)}}function QJ(n){var e=n.split(fo);if(e.length<3)throw new Error("Invalid key format: "+n);return e.slice(1,e.length-1).join(fo)}var ql=function(){function n(e){if(!oe().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=VT(this.modelPath)}return n.prototype.save=function(e){return Ee(this,void 0,void 0,function(){var t,r,i;return Se(this,function(o){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),i=jd(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(a){if(Av)return Buffer.from(a).toString("base64");for(var s=new Uint8Array(a),l="",c=0,u=s.length;c<u;c++)l+=String.fromCharCode(s[c]);return btoa(l)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:i}]}catch(a){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+i.modelTopologyBytes+", weightSpecsBytes="+i.weightSpecsBytes+", weightDataBytes="+i.weightDataBytes+".")}return[2]})})},n.prototype.load=function(){return Ee(this,void 0,void 0,function(){var e,t,r,i,o,a,s;return Se(this,function(l){if((e=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},(r=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=r,(i=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=i,(o=this.LS.getItem(this.keys.modelMetadata))!=null&&(a=JSON.parse(o),t.format=a.format,t.generatedBy=a.generatedBy,t.convertedBy=a.convertedBy,t.userDefinedMetadata=a.userDefinedMetadata),(s=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(c){if(Av){var u=Buffer.from(c,"base64");return u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)}for(var d=atob(c),h=new Uint8Array(d.length),f=0;f<d.length;++f)h.set([d.charCodeAt(f)],f);return h.buffer}(s),[2,t]})})},n.URL_SCHEME="localstorage://",n}(),cC=function(n){return oe().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(ql.URL_SCHEME)?(e=n.slice(ql.URL_SCHEME.length),new ql(e)):null;var e};wr.registerSaveRouter(cC),wr.registerLoadRouter(cC);var eQ=function(){function n(){W(oe().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),W(typeof window>"u"||window.localStorage!==void 0,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return n.prototype.listModels=function(){return Ee(this,void 0,void 0,function(){var e,t,r,i,o,a;return Se(this,function(s){for(e={},t=gl+fo,r=fo+WT,i=0;i<this.LS.length;++i)(o=this.LS.key(i)).startsWith(t)&&o.endsWith(r)&&(a=QJ(o),e[a]=JSON.parse(this.LS.getItem(o)));return[2,e]})})},n.prototype.removeModel=function(e){return Ee(this,void 0,void 0,function(){var t,r;return Se(this,function(i){var o;if(e=(o=e).startsWith(ql.URL_SCHEME)?o.slice(ql.URL_SCHEME.length):o,t=VT(e),this.LS.getItem(t.info)==null)throw new Error("Cannot find model at path '"+e+"'");return r=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,r]})})},n}();if(oe().getBool("IS_BROWSER"))try{pa.registerManager(ql.URL_SCHEME,new eQ)}catch(n){}var tQ="model",nQ=".json",rQ=".weights.bin";function uC(n){return new Promise(function(e){return setTimeout(e)}).then(n)}var A0=function(){function n(e){if(!oe().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(n.URL_SCHEME)&&(e=e.slice(n.URL_SCHEME.length)),e!=null&&e.length!==0||(e=tQ),this.modelTopologyFileName=e+nQ,this.weightDataFileName=e+rQ}return n.prototype.save=function(e){return Ee(this,void 0,void 0,function(){var t,r,i,o,a,s;return Se(this,function(l){switch(l.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],i={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:r},o=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),(a=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,a.href=o,[4,uC(function(){return a.dispatchEvent(new MouseEvent("click"))})];case 2:return l.sent(),e.weightData==null?[3,4]:((s=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=t,[4,uC(function(){return s.dispatchEvent(new MouseEvent("click"))})]);case 3:l.sent(),l.label=4;case 4:return[2,{modelArtifactsInfo:jd(e)}]}})})},n.URL_SCHEME="downloads://",n}(),iQ=function(){function n(e){if(e==null||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return n.prototype.load=function(){return Ee(this,void 0,void 0,function(){var e,t,r=this;return Se(this,function(i){return e=this.files[0],t=this.files.slice(1),[2,new Promise(function(o,a){var s=new FileReader;s.onload=function(l){var c=JSON.parse(l.target.result),u=c.modelTopology;if(u!=null){t.length===0&&o({modelTopology:u});var d=c.weightsManifest;if(d!=null){var h;try{h=r.checkManifestAndWeightFiles(d,t)}catch(b){return void a(b)}var f=[],p=[],m=[];d.forEach(function(b){b.paths.forEach(function(g){p.push(g),m.push(null)}),f.push.apply(f,b.weights)}),d.forEach(function(b){b.paths.forEach(function(g){var v=new FileReader;v.onload=function(x){var y=x.target.result,w=p.indexOf(g);m[w]=y,m.indexOf(null)===-1&&o({modelTopology:u,weightSpecs:f,weightData:w1(m),format:c.format,generatedBy:c.generatedBy,convertedBy:c.convertedBy,userDefinedMetadata:c.userDefinedMetadata})},v.onerror=function(x){return a("Failed to weights data from file of path '"+g+"'.")},v.readAsArrayBuffer(h[g])})})}else a(new Error("weightManifest field is missing from file "+e.name))}else a(new Error("modelTopology field is missing from file "+e.name))},s.onerror=function(l){return a("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},s.readAsText(e)})]})})},n.prototype.checkManifestAndWeightFiles=function(e,t){for(var r=[],i=t.map(function(l){return aC(l.name)}),o={},a=0,s=e;a<s.length;a++)s[a].paths.forEach(function(l){var c=aC(l);if(r.indexOf(c)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+c+"'");if(r.push(c),i.indexOf(c)===-1)throw new Error("Weight file with basename '"+c+"' is not provided.");o[l]=t[i.indexOf(c)]});if(r.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+t.length+").");return o},n}();function dC(n,e,t,r){(function(o){W(o!=null&&Array.isArray(o)&&o.length>0,function(){return"promises must be a none empty array"})})(n),function(o,a){W(o>=0&&o<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+o}),W(a>=0&&a<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+a}),W(a>=o,function(){return"startFraction must be no more than endFraction, but got startFraction "+o+" and endFraction "+a})}(t=t==null?0:t,r=r==null?1:r);var i=0;return Promise.all(n.map(function(o){return o.then(function(a){var s=t+ ++i/n.length*(r-t);return e(s),a}),o}))}function qT(n,e){return Ee(this,void 0,void 0,function(){var t,r,i,o,a,s,l,c,u;return Se(this,function(d){switch(d.label){case 0:return e==null&&(e={}),t=e.fetchFunc==null?oe().platform.fetch:e.fetchFunc,r=n.map(function(h){return t(h,e.requestInit,{isBinary:!0})}),i=0,o=.5,e.onProgress!=null?[3,2]:[4,Promise.all(r)];case 1:return a=d.sent(),[3,4];case 2:return[4,dC(r,e.onProgress,i,o)];case 3:a=d.sent(),d.label=4;case 4:return s=a.map(function(h){return h.arrayBuffer()}),l=.5,c=1,e.onProgress!=null?[3,6]:[4,Promise.all(s)];case 5:return u=d.sent(),[3,8];case 6:return[4,dC(s,e.onProgress,l,c)];case 7:u=d.sent(),d.label=8;case 8:return[2,u]}})})}function hC(n){var e=this;return function(t,r,i){return r===void 0&&(r=""),Ee(e,void 0,void 0,function(){var o,a,s,l,c,u,d,h,f,p;return Se(this,function(m){switch(m.label){case 0:if(o=t.map(function(){return!1}),a={},s=i!=null?i.map(function(){return!1}):[],l=[],t.forEach(function(b,g){var v=0;b.weights.forEach(function(x){var y="quantization"in x?x.quantization.dtype:x.dtype,w=Tv[y]*Te(x.shape),k=function(){o[g]=!0,a[g]==null&&(a[g]=[]),a[g].push({manifestEntry:x,groupOffset:v,sizeBytes:w})};i!=null?i.forEach(function(_,T){_===x.name&&(k(),s[T]=!0)}):k(),l.push(x.name),v+=w})}),!s.every(function(b){return b}))throw c=i.filter(function(b,g){return!s[g]}),new Error("Could not find weights in manifest with names: "+c.join(", ")+". \nManifest JSON has weights with names: "+l.join(", ")+".");return u=o.reduce(function(b,g,v){return g&&b.push(v),b},[]),d=[],u.forEach(function(b){t[b].paths.forEach(function(g){var v=r+(r.endsWith("/")?"":"/")+g;d.push(v)})}),[4,n(d)];case 1:return h=m.sent(),f={},p=0,u.forEach(function(b){for(var g=t[b].paths.length,v=0,x=0;x<g;x++)v+=h[p+x].byteLength;for(var y=new ArrayBuffer(v),w=new Uint8Array(y),k=0,_=0;_<g;_++){var T=new Uint8Array(h[p+_]);w.set(T,k),k+=T.byteLength}a[b].forEach(function(E){var A=UT(y.slice(E.groupOffset,E.groupOffset+E.sizeBytes),[E.manifestEntry]);for(var M in A)f[M]=A[M]}),p+=g}),[2,f]}})})}}wr.registerSaveRouter(function(n){return oe().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(A0.URL_SCHEME)?function(e){return e===void 0&&(e="model"),new A0(e)}(n.slice(A0.URL_SCHEME.length)):null});var GT=function(){function n(e,t){if(this.DEFAULT_METHOD="POST",t==null&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,t.fetchFunc!=null?(W(typeof t.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=t.fetchFunc):this.fetch=oe().platform.fetch,W(e!=null&&e.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(e)&&W(e.length===2,function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."}),this.path=e,t.requestInit!=null&&t.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return n.prototype.save=function(e){return Ee(this,void 0,void 0,function(){var t,r,i,o;return Se(this,function(a){switch(a.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],i={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:r},t.body.append("model.json",new Blob([JSON.stringify(i)],{type:"application/json"}),"model.json"),e.weightData!=null&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((o=a.sent()).ok)return[2,{modelArtifactsInfo:jd(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+o.status+".")}})})},n.prototype.load=function(){return Ee(this,void 0,void 0,function(){var e,t,r,i,o,a,s,l,c,u,d,h;return Se(this,function(f){switch(f.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=f.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");f.label=2;case 2:return f.trys.push([2,4,,5]),[4,e.json()];case 3:return t=f.sent(),[3,5];case 4:throw f.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(i=t.modelTopology,o=t.weightsManifest,a=t.generatedBy,s=t.convertedBy,l=t.format,c=t.userDefinedMetadata,i==null&&o==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return o==null?[3,7]:[4,this.loadWeights(o)];case 6:h=f.sent(),u=h[0],d=h[1],f.label=7;case 7:return[2,{modelTopology:i,weightSpecs:u,weightData:d,userDefinedMetadata:c,generatedBy:a,convertedBy:s,format:l}]}})})},n.prototype.loadWeights=function(e){return Ee(this,void 0,void 0,function(){var t,r,i,o,a,s,l,c,u,d,h;return Se(this,function(f){switch(f.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,r=function(p){var m=p.lastIndexOf("/"),b=p.lastIndexOf("?"),g=p.substring(0,m),v=b>m?p.substring(b):"";return[g+"/",v]}(t),i=r[0],o=r[1],a=this.weightPathPrefix||i,s=[],l=0,c=e;l<c.length;l++)u=c[l],s.push.apply(s,u.weights);return d=[],e.forEach(function(p){p.paths.forEach(function(m){d.push(a+m+o)})}),[4,qT(d,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return h=f.sent(),[2,[s,w1(h)]]}})})},n.URL_SCHEME_REGEX=/^https?:\/\//,n}();function Rv(n){return n.match(GT.URL_SCHEME_REGEX)!=null}var fC=function(n,e){return typeof fetch>"u"?null:(Array.isArray(n)?n.every(function(t){return Rv(t)}):Rv(n))?Dv(n,{onProgress:e}):null};function Dv(n,e){return new GT(n,e)}wr.registerSaveRouter(fC),wr.registerLoadRouter(fC);var I0=function(){function n(e){this.modelArtifacts=e}return n.prototype.load=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(e){return[2,this.modelArtifacts]})})},n}(),oQ=function(){function n(e){this.saveHandler=e}return n.prototype.save=function(e){return Ee(this,void 0,void 0,function(){return Se(this,function(t){return[2,this.saveHandler(e)]})})},n}(),KT=Object.freeze({browserFiles:function(n){return new iQ(n)},browserHTTPRequest:function(n,e){return Dv(n,e)},concatenateArrayBuffers:w1,decodeWeights:UT,encodeWeights:function(n,e){return Ee(this,void 0,void 0,function(){var t,r,i,o,a,s=this;return Se(this,function(l){switch(l.label){case 0:for(t=[],r=[],i=Array.isArray(n)?n.map(function(c){return c.name}):Object.keys(n),o=function(c){var u=i[c],d=Array.isArray(n)?n[c].tensor:n[u];if(d.dtype!=="float32"&&d.dtype!=="int32"&&d.dtype!=="bool"&&d.dtype!=="string")throw new Error("Unsupported dtype in weight '"+u+"': "+d.dtype);var h={name:u,shape:d.shape,dtype:d.dtype};if(d.dtype==="string"){var f=new Promise(function(p){return Ee(s,void 0,void 0,function(){var m,b,g,v,x,y,w;return Se(this,function(k){switch(k.label){case 0:return[4,d.bytes()];case 1:for(m=k.sent(),b=m.reduce(function(_,T){return _+T.length},0)+vp*m.length,g=new Uint8Array(b),v=0,x=0;x<m.length;x++)y=m[x],w=new Uint8Array(new Uint32Array([y.length]).buffer),g.set(w,v),v+=vp,g.set(y,v),v+=y.length;return p(g),[2]}})})});r.push(f)}else r.push(d.data());e!=null&&(h.group=e),t.push(h)},a=0;a<i.length;++a)o(a);return[4,Promise.all(r)];case 1:return[2,{data:GJ(l.sent()),specs:t}]}})})},fromMemory:function(n,e,t,r){return arguments.length===1?n.modelTopology!=null||n.weightSpecs!=null?new I0(n):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new I0({modelTopology:n})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new I0({modelTopology:n,weightSpecs:e,weightData:t,trainingConfig:r}))},getLoadHandlers:function(n,e){return wr.getLoadHandlers(n,e)},getModelArtifactsInfoForJSON:jd,getSaveHandlers:function(n){return wr.getSaveHandlers(n)},http:Dv,isHTTPScheme:Rv,loadWeights:function(n,e,t,r){return e===void 0&&(e=""),Ee(this,void 0,void 0,function(){return Se(this,function(i){return[2,hC(function(o){return qT(o,{requestInit:r})})(n,e,t)]})})},registerLoadRouter:function(n){return wr.registerLoadRouter(n)},registerSaveRouter:function(n){return wr.registerSaveRouter(n)},weightsLoaderFactory:hC,withSaveHandler:function(n){return new oQ(n)},copyModel:function(n,e){return Ee(this,void 0,void 0,function(){return Se(this,function(t){return[2,sC(n,e,!1)]})})},listModels:function(){return Ee(this,void 0,void 0,function(){var n,e,t,r,i,o,a;return Se(this,function(s){switch(s.label){case 0:n=pa.getSchemes(),e={},t=0,r=n,s.label=1;case 1:return t<r.length?(i=r[t],[4,pa.getManager(i).listModels()]):[3,4];case 2:for(a in o=s.sent())e[i+Wl+a]=o[a];s.label=3;case 3:return t++,[3,1];case 4:return[2,e]}})})},moveModel:function(n,e){return Ee(this,void 0,void 0,function(){return Se(this,function(t){return[2,sC(n,e,!0)]})})},removeModel:function(n){return Ee(this,void 0,void 0,function(){var e;return Se(this,function(t){return e=tf(n),[2,pa.getManager(e.scheme).removeModel(e.path)]})})}}),tl;q({confusionMatrix_:function(n,e,t){var r=j(n,"labels","confusionMatrix"),i=j(e,"predictions","confusionMatrix");W(t==null||t>0&&Number.isInteger(t),function(){return"If provided, numClasses must be a positive integer, but got "+t}),W(r.rank===1,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),W(i.rank===1,function(){return"Expected the rank of predictions to be 1, but got "+i.rank}),W(r.shape[0]===i.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+i.shape[0]+". Labels and predictions should have the same number of elements."}),W(t>0&&Number.isInteger(t),function(){return"numClasses is required to be a positive integer, but got "+t});var o=kv(r.asType("int32"),t),a=kv(i.asType("int32"),t);return o.transpose().matMul(a).asType("int32")}});var aQ=q({fromPixels_:function(n,e){if(e===void 0&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(n==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var t=!1,r=!1,i=!1,o=!1,a=!1;if(n.data instanceof Uint8Array)t=!0;else if(typeof ImageData<"u"&&n instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement)i=!0;else if(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement)o=!0;else{if(n.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+n.constructor.name);a=!0}if(i&&i&&n.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(v6("FromPixels",G.backendName)!=null)return G.runKernel("FromPixels",{pixels:n},{numChannels:e});var s,l,c=i?[n.videoWidth,n.videoHeight]:[n.width,n.height],u=c[0],d=c[1];if(a?s=n.getContext("2d").getImageData(0,0,u,d).data:r||t?s=n.data:(o||i)&&(tl==null&&(tl=document.createElement("canvas").getContext("2d")),tl.canvas.width=u,tl.canvas.height=d,tl.drawImage(n,0,0,u,d),s=tl.getImageData(0,0,u,d).data),e===4)l=new Int32Array(s);else{var h=u*d;l=new Int32Array(h*e);for(var f=0;f<h;f++)for(var p=0;p<e;++p)l[f*e+p]=s[4*f+p]}return Xy(l,[d,u,e],"int32")}}),k1=Object.freeze({toPixels:function(n,e){return Ee(this,void 0,void 0,function(){var t,r,i,o,a,s,l,c,u,d,h,f,p,m,b,g,v,x,y,w,k,_,T;return Se(this,function(E){switch(E.label){case 0:if(t=j(n,"img","toPixels"),n instanceof At||(t=t.toInt()),t.rank!==2&&t.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+t.rank+".");if(r=t.shape.slice(0,2),i=r[0],o=r[1],(a=t.rank===2?1:t.shape[2])>4||a===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+a);return[4,t.data()];case 1:return s=E.sent(),l=t.min(),c=t.max(),[4,Promise.all([l.data(),c.data()])];case 2:if(u=E.sent(),d=u[0],h=u[1],f=d[0],p=h[0],l.dispose(),c.dispose(),t.dtype==="float32"){if(f<0||p>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+f+" - "+p+"].")}else{if(t.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+t.dtype+". Please use float32 or int32 tensors.");if(f<0||p>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+f+" - "+p+"].")}for(m=t.dtype==="float32"?255:1,b=new Uint8ClampedArray(o*i*4),g=0;g<i*o;++g)v=void 0,x=void 0,y=void 0,w=void 0,a===1?(v=s[g]*m,x=s[g]*m,y=s[g]*m,w=255):a===3?(v=s[3*g]*m,x=s[3*g+1]*m,y=s[3*g+2]*m,w=255):a===4&&(v=s[4*g]*m,x=s[4*g+1]*m,y=s[4*g+2]*m,w=s[4*g+3]*m),b[(k=4*g)+0]=Math.round(v),b[k+1]=Math.round(x),b[k+2]=Math.round(y),b[k+3]=Math.round(w);return e!=null&&(e.width=o,e.height=i,_=e.getContext("2d"),T=new ImageData(b,o,i),_.putImageData(T,0,0)),t!==n&&t.dispose(),[2,b]}})})},fromPixels:aQ}),sQ=function(){function n(){}return n.prototype.getClassName=function(){return this.constructor.className},n.fromConfig=function(e,t){return new e(t)},n}(),lQ=function(){function n(){this.classNameMap={}}return n.getMap=function(){return n.instance==null&&(n.instance=new n),n.instance},n.register=function(e){n.getMap().classNameMap[e.className]=[e,e.fromConfig]},n}();function $s(n){W(n.className!=null,function(){return"Class being registered does not have the static className property defined."}),W(typeof n.className=="string",function(){return"className is required to be a string, but got type "+typeof n.className}),W(n.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),lQ.register(n)}var Us=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return yi(e,n),e.prototype.minimize=function(t,r,i){r===void 0&&(r=!1);var o=this.computeGradients(t,i),a=o.value,s=o.grads;if(i!=null){var l=i.map(function(c){return{name:c.name,tensor:s[c.name]}});this.applyGradients(l)}else this.applyGradients(s);return rr(s),r?a:(a.dispose(),null)},Object.defineProperty(e.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),e.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},e.prototype.computeGradients=function(t,r){return vK(t,r)},e.prototype.dispose=function(){this.iterations_!=null&&rr(this.iterations_)},e.prototype.saveIterations=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(t){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:ve(this.iterations_,"int32")}]})})},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(t){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){return Se(this,function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},e.prototype.extractIterations=function(t){return Ee(this,void 0,void 0,function(){var r;return Se(this,function(i){switch(i.label){case 0:return r=this,[4,t[0].tensor.data()];case 1:return r.iterations_=i.sent()[0],[2,t.slice(1)]}})})},e}(sQ);Object.defineProperty(Us,Symbol.hasInstance,{value:function(n){return n.minimize!=null&&n.computeGradients!=null&&n.applyGradients!=null}});var cQ=function(n){function e(t,r,i){i===void 0&&(i=null);var o=n.call(this)||this;return o.learningRate=t,o.rho=r,o.epsilon=i,o.accumulatedGrads=[],o.accumulatedUpdates=[],i==null&&(o.epsilon=G.backend.epsilon()),o}return yi(e,n),e.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map(function(i){return i.name}):Object.keys(t)).forEach(function(i,o){var a=G.registeredVariables[i];r.accumulatedGrads[o]==null&&(r.accumulatedGrads[o]={originalName:i+"/accum_grad",variable:ke(function(){return at(a).variable(!1)})}),r.accumulatedUpdates[o]==null&&(r.accumulatedUpdates[o]={originalName:i+"/accum_var",variable:ke(function(){return at(a).variable(!1)})});var s=Array.isArray(t)?t[o].tensor:t[i];if(s!=null){var l=r.accumulatedGrads[o].variable,c=r.accumulatedUpdates[o].variable;ke(function(){var u=l.mul(r.rho).add(s.square().mul(1-r.rho)),d=c.add(r.epsilon).sqrt().div(l.add(r.epsilon).sqrt()).mul(s),h=c.mul(r.rho).add(d.square().mul(1-r.rho));l.assign(u),c.assign(h);var f=d.mul(-r.learningRate).add(a);a.assign(f)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedUpdates!=null&&(rr(this.accumulatedGrads.map(function(t){return t.variable})),rr(this.accumulatedUpdates.map(function(t){return t.variable})))},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){var t;return Se(this,function(r){switch(r.label){case 0:return t=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(t.map(function(i){return{name:i.originalName,tensor:i.variable}}))]}})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){var r;return Se(this,function(i){switch(i.label){case 0:return[4,this.extractIterations(t)];case 1:return t=i.sent(),r=t.length/2,this.accumulatedGrads=t.slice(0,r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.accumulatedUpdates=t.slice(r,2*r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(t,r){return new t(r.learningRate,r.rho,r.epsilon)},e.className="Adadelta",e}(Us);$s(cQ);var uQ=function(n){function e(t,r){r===void 0&&(r=.1);var i=n.call(this)||this;return i.learningRate=t,i.initialAccumulatorValue=r,i.accumulatedGrads=[],i}return yi(e,n),e.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map(function(i){return i.name}):Object.keys(t)).forEach(function(i,o){var a=G.registeredVariables[i];r.accumulatedGrads[o]==null&&(r.accumulatedGrads[o]={originalName:i+"/accumulator",variable:ke(function(){return Fi(a.shape,r.initialAccumulatorValue).variable(!1)})});var s=Array.isArray(t)?t[o].tensor:t[i];if(s!=null){var l=r.accumulatedGrads[o].variable;ke(function(){var c=l.add(s.square());l.assign(c);var u=s.div(c.add(G.backend.epsilon()).sqrt()).mul(-r.learningRate).add(a);a.assign(u)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedGrads!=null&&rr(this.accumulatedGrads.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulatedGrads.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){return Se(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:return t=r.sent(),this.accumulatedGrads=t.map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(t,r){return new t(r.learningRate,r.initialAccumulatorValue)},e.className="Adagrad",e}(Us);$s(uQ);var dQ=function(n){function e(t,r,i,o){o===void 0&&(o=null);var a=n.call(this)||this;return a.learningRate=t,a.beta1=r,a.beta2=i,a.epsilon=o,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],ke(function(){a.accBeta1=ve(r).variable(),a.accBeta2=ve(i).variable()}),o==null&&(a.epsilon=G.backend.epsilon()),a}return yi(e,n),e.prototype.applyGradients=function(t){var r=this,i=Array.isArray(t)?t.map(function(o){return o.name}):Object.keys(t);ke(function(){var o=rn(1,r.accBeta1),a=rn(1,r.accBeta2);i.forEach(function(s,l){var c=G.registeredVariables[s];r.accumulatedFirstMoment[l]==null&&(r.accumulatedFirstMoment[l]={originalName:s+"/m",variable:ke(function(){return at(c).variable(!1)})}),r.accumulatedSecondMoment[l]==null&&(r.accumulatedSecondMoment[l]={originalName:s+"/v",variable:ke(function(){return at(c).variable(!1)})});var u=Array.isArray(t)?t[l].tensor:t[s];if(u!=null){var d=r.accumulatedFirstMoment[l].variable,h=r.accumulatedSecondMoment[l].variable,f=d.mul(r.beta1).add(u.mul(1-r.beta1)),p=h.mul(r.beta2).add(u.square().mul(1-r.beta2)),m=f.div(o),b=p.div(a);d.assign(f),h.assign(p);var g=m.div(b.sqrt().add(r.epsilon)).mul(-r.learningRate).add(c);c.assign(g)}}),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&rr(this.accumulatedFirstMoment.map(function(t){return t.variable})),this.accumulatedSecondMoment!=null&&rr(this.accumulatedSecondMoment.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){var t;return Se(this,function(r){switch(r.label){case 0:return t=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(t.map(function(i){return{name:i.originalName,tensor:i.variable}}))]}})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){var r,i=this;return Se(this,function(o){switch(o.label){case 0:return[4,this.extractIterations(t)];case 1:return t=o.sent(),ke(function(){i.accBeta1.assign(gp(i.beta1,i.iterations_+1)),i.accBeta2.assign(gp(i.beta2,i.iterations_+1))}),r=t.length/2,this.accumulatedFirstMoment=t.slice(0,r).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),this.accumulatedSecondMoment=t.slice(r,2*r).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(t,r){return new t(r.learningRate,r.beta1,r.beta2,r.epsilon)},e.className="Adam",e}(Us);$s(dQ);var hQ=function(n){function e(t,r,i,o,a){o===void 0&&(o=null),a===void 0&&(a=0);var s=n.call(this)||this;return s.learningRate=t,s.beta1=r,s.beta2=i,s.epsilon=o,s.decay=a,s.accumulatedFirstMoment=[],s.accumulatedWeightedInfNorm=[],ke(function(){s.iteration=ve(0).variable(),s.accBeta1=ve(r).variable()}),o==null&&(s.epsilon=G.backend.epsilon()),s}return yi(e,n),e.prototype.applyGradients=function(t){var r=this,i=Array.isArray(t)?t.map(function(o){return o.name}):Object.keys(t);ke(function(){var o=rn(1,r.accBeta1),a=li(-r.learningRate,r.iteration.mul(r.decay).add(1));i.forEach(function(s,l){var c=G.registeredVariables[s];r.accumulatedFirstMoment[l]==null&&(r.accumulatedFirstMoment[l]={originalName:s+"/m",variable:at(c).variable(!1)}),r.accumulatedWeightedInfNorm[l]==null&&(r.accumulatedWeightedInfNorm[l]={originalName:s+"/v",variable:at(c).variable(!1)});var u=Array.isArray(t)?t[l].tensor:t[s];if(u!=null){var d=r.accumulatedFirstMoment[l].variable,h=r.accumulatedWeightedInfNorm[l].variable,f=d.mul(r.beta1).add(u.mul(1-r.beta1)),p=h.mul(r.beta2),m=u.abs(),b=p.maximum(m);d.assign(f),h.assign(b);var g=a.div(o).mul(f.div(b.add(r.epsilon))).add(c);c.assign(g)}}),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&rr(this.accumulatedFirstMoment.map(function(t){return t.variable})),this.accumulatedWeightedInfNorm!=null&&rr(this.accumulatedWeightedInfNorm.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(t){throw new Error("getWeights() is not implemented for Adamax yet.")})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){return Se(this,function(r){throw new Error("setWeights() is not implemented for Adamax yet.")})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(t,r){return new t(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},e.className="Adamax",e}(Us);$s(hQ);var YT=function(n){function e(t){var r=n.call(this)||this;return r.learningRate=t,r.setLearningRate(t),r}return yi(e,n),e.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map(function(i){return i.name}):Object.keys(t)).forEach(function(i,o){var a=Array.isArray(t)?t[o].tensor:t[i];if(a!=null){var s=G.registeredVariables[i];ke(function(){var l=r.c.mul(a).add(s);s.assign(l)})}}),this.incrementIterations()},e.prototype.setLearningRate=function(t){this.learningRate=t,this.c!=null&&this.c.dispose(),this.c=OG(ve(-t))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()]]}})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){return Se(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:if((t=r.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(t,r){return new t(r.learningRate)},e.className="SGD",e}(Us);$s(YT);var fQ=function(n){function e(t,r,i){i===void 0&&(i=!1);var o=n.call(this,t)||this;return o.learningRate=t,o.momentum=r,o.useNesterov=i,o.accumulations=[],o.m=ve(o.momentum),o}return yi(e,n),e.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map(function(i){return i.name}):Object.keys(t)).forEach(function(i,o){var a=G.registeredVariables[i];r.accumulations[o]==null&&(r.accumulations[o]={originalName:i+"/momentum",variable:ke(function(){return at(a).variable(!1)})});var s=r.accumulations[o].variable,l=Array.isArray(t)?t[o].tensor:t[i];l!=null&&ke(function(){var c,u=r.m.mul(s).add(l);c=r.useNesterov?r.c.mul(l.add(u.mul(r.m))).add(a):r.c.mul(u).add(a),s.assign(u),a.assign(c)})}),this.incrementIterations()},e.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&rr(this.accumulations.map(function(t){return t.variable}))},e.prototype.setMomentum=function(t){this.momentum=t},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulations.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){return Se(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:return t=r.sent(),this.accumulations=t.map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(t,r){return new t(r.learningRate,r.momentum,r.useNesterov)},e.className="Momentum",e}(YT);$s(fQ);var pQ=function(n){function e(t,r,i,o,a){r===void 0&&(r=.9),i===void 0&&(i=0),o===void 0&&(o=null),a===void 0&&(a=!1);var s=n.call(this)||this;if(s.learningRate=t,s.decay=r,s.momentum=i,s.epsilon=o,s.accumulatedMeanSquares=[],s.accumulatedMoments=[],s.accumulatedMeanGrads=[],s.centered=a,o==null&&(s.epsilon=G.backend.epsilon()),t==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return s}return yi(e,n),e.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map(function(i){return i.name}):Object.keys(t)).forEach(function(i,o){var a=G.registeredVariables[i];r.accumulatedMeanSquares[o]==null&&(r.accumulatedMeanSquares[o]={originalName:i+"/rms",variable:ke(function(){return at(a).variable(!1)})}),r.accumulatedMoments[o]==null&&(r.accumulatedMoments[o]={originalName:i+"/momentum",variable:ke(function(){return at(a).variable(!1)})}),r.accumulatedMeanGrads[o]==null&&r.centered&&(r.accumulatedMeanGrads[o]={originalName:i+"/mg",variable:ke(function(){return at(a).variable(!1)})});var s=Array.isArray(t)?t[o].tensor:t[i];if(s!=null){var l=r.accumulatedMeanSquares[o].variable,c=r.accumulatedMoments[o].variable;ke(function(){var u=l.mul(r.decay).add(s.square().mul(1-r.decay));if(r.centered){var d=r.accumulatedMeanGrads[o].variable,h=d.mul(r.decay).add(s.mul(1-r.decay)),f=c.mul(r.momentum).add(s.mul(r.learningRate).div(u.sub(h.square().add(r.epsilon)).sqrt()));l.assign(u),d.assign(h),c.assign(f);var p=a.sub(f);a.assign(p)}else{var m=l.mul(r.decay).add(s.square().mul(1-r.decay));f=c.mul(r.momentum).add(s.mul(r.learningRate).div(m.add(r.epsilon).sqrt())),l.assign(m),c.assign(f),p=a.sub(f),a.assign(p)}})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&rr(this.accumulatedMeanSquares.map(function(t){return t.variable})),this.accumulatedMeanGrads!=null&&this.centered&&rr(this.accumulatedMeanGrads.map(function(t){return t.variable})),this.accumulatedMoments!=null&&rr(this.accumulatedMoments.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){var t;return Se(this,function(r){switch(r.label){case 0:return t=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&t.push.apply(t,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(t.map(function(i){return{name:i.originalName,tensor:i.variable}}))]}})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){var r;return Se(this,function(i){switch(i.label){case 0:return[4,this.extractIterations(t)];case 1:return t=i.sent(),r=this.centered?t.length/3:t.length/2,this.accumulatedMeanSquares=t.slice(0,r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.accumulatedMoments=t.slice(r,2*r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=t.slice(2*r,3*r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(t,r){return new t(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},e.className="RMSProp",e}(Us);$s(pQ);At.prototype.squaredDifference=function(n){return uT(this,n)},re=FJ;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ov=function(n,e){return Ov=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},Ov(n,e)};function Fe(n,e){Ov(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Dn=function(){return Dn=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Dn.apply(this,arguments)};function Re(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,[])).next())})}function De(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Cu(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Gl=function(){function n(e,t){if(!ds(e)||!ds(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:t}));this._width=e,this._height=t}return Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),n.prototype.reverse=function(){return new n(1/this.width,1/this.height)},n}();function Lm(n,e){return n instanceof At&&n.shape.length===e}function mQ(n){return Lm(n,2)}function jm(n){return Lm(n,3)}function ma(n){return Lm(n,4)}function gQ(n){return n%1!==0}function pC(n){return n%2===0}function bQ(n,e){e===void 0&&(e=2);var t=Math.pow(10,e);return Math.floor(n*t)/t}function mC(n){return n&&n.width&&n.height}function vQ(n,e){var t=n.width,r=n.height,i=e/Math.max(r,t);return new Gl(Math.round(t*i),Math.round(r*i))}function _1(n){return n.reduce(function(e,t){return e.add(t)},new lt(0,0)).div(new lt(n.length,n.length))}function rd(n,e,t){return Array(n).fill(0).map(function(r,i){return e+i*t})}function ds(n){return!!n&&n!==1/0&&n!==-1/0&&!isNaN(n)||n===0}function gC(n){return ds(n)&&0<=n&&n<=1}var lt=function(){function n(e,t){this._x=e,this._y=t}return Object.defineProperty(n.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),n.prototype.add=function(e){return new n(this.x+e.x,this.y+e.y)},n.prototype.sub=function(e){return new n(this.x-e.x,this.y-e.y)},n.prototype.mul=function(e){return new n(this.x*e.x,this.y*e.y)},n.prototype.div=function(e){return new n(this.x/e.x,this.y/e.y)},n.prototype.abs=function(){return new n(Math.abs(this.x),Math.abs(this.y))},n.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},n.prototype.floor=function(){return new n(Math.floor(this.x),Math.floor(this.y))},n}(),_a=function(){function n(e,t){t===void 0&&(t=!0);var r=e||{},i=[r.left,r.top,r.right,r.bottom].every(ds),o=[r.x,r.y,r.width,r.height].every(ds);if(!o&&!i)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var a=o?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=a[0],l=a[1],c=a[2],u=a[3];n.assertIsValidBox({x:s,y:l,width:c,height:u},"Box.constructor",t),this._x=s,this._y=l,this._width=c,this._height=u}return n.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(ds)},n.assertIsValidBox=function(e,t,r){if(r===void 0&&(r=!1),!n.isRect(e))throw new Error(t+" - invalid box: "+JSON.stringify(e)+", expected object with properties x, y, width, height");if(!r&&(e.width<0||e.height<0))throw new Error(t+" - width ("+e.width+") and height ("+e.height+") must be positive numbers")},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topLeft",{get:function(){return new lt(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topRight",{get:function(){return new lt(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomLeft",{get:function(){return new lt(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomRight",{get:function(){return new lt(this.right,this.bottom)},enumerable:!0,configurable:!0}),n.prototype.round=function(){var e=[this.x,this.y,this.width,this.height].map(function(a){return Math.round(a)}),t=e[0],r=e[1],i=e[2],o=e[3];return new n({x:t,y:r,width:i,height:o})},n.prototype.floor=function(){var e=[this.x,this.y,this.width,this.height].map(function(a){return Math.floor(a)}),t=e[0],r=e[1],i=e[2],o=e[3];return new n({x:t,y:r,width:i,height:o})},n.prototype.toSquare=function(){var e=this,t=e.x,r=e.y,i=e.width,o=e.height,a=Math.abs(i-o);return i<o&&(t-=a/2,i+=a),o<i&&(r-=a/2,o+=a),new n({x:t,y:r,width:i,height:o})},n.prototype.rescale=function(e){var t=mC(e)?e.width:e,r=mC(e)?e.height:e;return new n({x:this.x*t,y:this.y*r,width:this.width*t,height:this.height*r})},n.prototype.pad=function(e,t){var r=[this.x-e/2,this.y-t/2,this.width+e,this.height+t],i=r[0],o=r[1],a=r[2],s=r[3];return new n({x:i,y:o,width:a,height:s})},n.prototype.clipAtImageBorders=function(e,t){var r=this,i=r.x,o=r.y,a=r.right,s=r.bottom,l=Math.max(i,0),c=Math.max(o,0),u=a-l,d=s-c,h=Math.min(u,e-l),f=Math.min(d,t-c);return new n({x:l,y:c,width:h,height:f}).floor()},n.prototype.shift=function(e,t){var r=this,i=r.width,o=r.height,a=this.x+e,s=this.y+t;return new n({x:a,y:s,width:i,height:o})},n.prototype.padAtBorders=function(e,t){var r=this.width+1,i=this.height+1,o=1,a=1,s=r,l=i,c=this.left,u=this.top,d=this.right,h=this.bottom;return d>t&&(s=-d+t+r,d=t),h>e&&(l=-h+e+i,h=e),c<1&&(l=2-c,c=1),u<1&&(l=2-u,u=1),{dy:a,edy:l,dx:o,edx:s,y:u,ey:h,x:c,ex:d,w:r,h:i}},n.prototype.calibrate=function(e){return new n({left:this.left+e.left*this.width,top:this.top+e.top*this.height,right:this.right+e.right*this.width,bottom:this.bottom+e.bottom*this.height}).toSquare().round()},n}(),Nm=function(n){Fe(e,n);function e(t,r,i,o,a){return a===void 0&&(a=!1),n.call(this,{left:t,top:r,right:i,bottom:o},a)||this}return e}(_a),XT=function(){function n(e,t,r,i,o){this._imageDims=new Gl(o.width,o.height),this._score=e,this._classScore=t,this._className=r,this._box=new _a(i).rescale(this._imageDims)}return Object.defineProperty(n.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"relativeBox",{get:function(){return new _a(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),n.prototype.forSize=function(e,t){return new n(this.score,this.classScore,this.className,this.relativeBox,{width:e,height:t})},n}(),Xi=function(n){Fe(e,n);function e(t,r,i){return n.call(this,t,t,"",r,i)||this}return e.prototype.forSize=function(t,r){var i=n.prototype.forSize.call(this,t,r),o=i.score,a=i.relativeBox,s=i.imageDims;return new e(o,a,s)},e}(XT);function xQ(n,e,t){t===void 0&&(t=!0);var r=Math.max(0,Math.min(n.right,e.right)-Math.max(n.left,e.left)),i=Math.max(0,Math.min(n.bottom,e.bottom)-Math.max(n.top,e.top)),o=r*i;return t?o/(n.area+e.area-o):o/Math.min(n.area,e.area)}function yQ(n){var e=n.map(function(s){return s.x}),t=n.map(function(s){return s.y}),r=e.reduce(function(s,l){return l<s?l:s},1/0),i=t.reduce(function(s,l){return l<s?l:s},1/0),o=e.reduce(function(s,l){return s<l?l:s},0),a=t.reduce(function(s,l){return s<l?l:s},0);return new Nm(r,i,o,a)}function id(n,e,t,r){r===void 0&&(r=!0);for(var i=e.map(function(s,l){return{score:s,boxIndex:l}}).sort(function(s,l){return s.score-l.score}).map(function(s){return s.boxIndex}),o=[],a=function(){var s=i.pop();o.push(s);for(var l=i,c=[],u=0;u<l.length;u++){var d=l[u],h=n[s],f=n[d];c.push(xQ(h,f,r))}i=i.filter(function(p,m){return c[m]<=t})};i.length>0;)a();return o}function Nd(n,e){return ke(function(){var t=e[0],r=e[1],i=e[2],o=Fi(Cu(n.shape.slice(0,3),[1]),t),a=Fi(Cu(n.shape.slice(0,3),[1]),r),s=Fi(Cu(n.shape.slice(0,3),[1]),i),l=Jt([o,a,s],3);return rn(n,l)})}function wQ(n,e){return e===void 0&&(e=!1),ke(function(){var t=n.shape.slice(1),r=t[0],i=t[1];if(r===i)return n;var o=Math.abs(r-i),a=Math.round(o*(e?.5:1)),s=r>i?2:1,l=function(f){var p=n.shape.slice();return p[s]=f,Fi(p,0)},c=l(a),u=o-c.shape[s],d=e&&u?l(u):null,h=[d,n,c].filter(function(f){return!!f}).map(function(f){return f.toFloat()});return Jt(h,s)})}function R0(n){return 1/(1+Math.exp(-n))}var C1=function(n){Fe(e,n);function e(t,r,i,o,a){return a===void 0&&(a=!1),n.call(this,{x:t,y:r,width:i,height:o},a)||this}return e}(_a),kQ=.5,_Q=.43,CQ=.45,xp=function(){function n(e,t,r){r===void 0&&(r=new lt(0,0));var i=t.width,o=t.height;this._imgDims=new Gl(i,o),this._shift=r,this._positions=e.map(function(a){return a.mul(new lt(i,o)).add(r)})}return Object.defineProperty(n.prototype,"shift",{get:function(){return new lt(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map(function(t){return t.sub(e._shift).div(new lt(e.imageWidth,e.imageHeight))})},enumerable:!0,configurable:!0}),n.prototype.forSize=function(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})},n.prototype.shiftBy=function(e,t){return new this.constructor(this.relativePositions,this._imgDims,new lt(e,t))},n.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},n.prototype.align=function(e,t){if(t===void 0&&(t={}),e){var r=e instanceof Xi?e.box.floor():new _a(e);return this.shiftBy(r.x,r.y).align(null,t)}var i=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),o=i.useDlibAlignment,a=i.minBoxPadding;return o?this.alignDlib():this.alignMinBbox(a)},n.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),t=e[0],r=e[1],i=e[2],o=function(d){return i.sub(d).magnitude()},a=(o(t)+o(r))/2,s=Math.floor(a/CQ),l=_1(e),c=Math.floor(Math.max(0,l.x-kQ*s)),u=Math.floor(Math.max(0,l.y-_Q*s));return new C1(c,u,Math.min(s,this.imageWidth+c),Math.min(s,this.imageHeight+u))},n.prototype.alignMinBbox=function(e){var t=yQ(this.positions);return t.pad(t.width*e,t.height*e)},n.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},n}(),EQ=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getRefPointsForAlignment=function(){var t=this.positions;return[t[0],t[1],_1([t[3],t[4]])]},e}(xp),SQ=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getJawOutline=function(){return this.positions.slice(0,17)},e.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},e.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},e.prototype.getNose=function(){return this.positions.slice(27,36)},e.prototype.getLeftEye=function(){return this.positions.slice(36,42)},e.prototype.getRightEye=function(){return this.positions.slice(42,48)},e.prototype.getMouth=function(){return this.positions.slice(48,68)},e.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(_1)},e}(xp),bC=function(){function n(e,t){this._label=e,this._distance=t}return Object.defineProperty(n.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),n.prototype.toString=function(e){return e===void 0&&(e=!0),""+this.label+(e?" ("+bQ(this.distance)+")":"")},n}(),vC=function(n){Fe(e,n);function e(t,r){var i=n.call(this,t)||this;return i._label=r,i}return e.assertIsValidLabeledBox=function(t,r){if(_a.assertIsValidBox(t,r),!ds(t.label))throw new Error(r+" - expected property label ("+t.label+") to be a number")},Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),e}(_a),Rh=function(){function n(e,t){if(typeof e!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=t}return Object.defineProperty(n.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),n.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(e){return Array.from(e)})}},n.fromJSON=function(e){var t=e.descriptors.map(function(r){return new Float32Array(r)});return new n(e.label,t)},n}();(function(n){Fe(e,n);function e(t,r,i,o){var a=n.call(this,t,r)||this;return a._score=i,a._classScore=o,a}return e.assertIsValidPredictedBox=function(t,r){if(vC.assertIsValidLabeledBox(t,r),!gC(t.score)||!gC(t.classScore))throw new Error(r+" - expected properties score ("+t.score+") and ("+t.classScore+") to be a number between [0, 1]")},Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),e})(vC);function TQ(n){return n.detection instanceof Xi}function E1(n,e){var t={detection:e};return Object.assign({},n,t)}function ZT(){var n=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},e=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:n,readFile:e}}function JT(n){var e="";if(!n)try{n=require("fs")}catch(r){e=r.toString()}var t=n?function(r){return new Promise(function(i,o){n.readFile(r,function(a,s){return a?o(a):i(s)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+e)};return{readFile:t}}function QT(){var n=global.Canvas||global.HTMLCanvasElement,e=global.Image||global.HTMLImageElement,t=function(){if(n)return new n;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},r=function(){if(e)return new e;throw new Error("createImageElement - missing Image implementation for nodejs environment")},i=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},o=JT();return Dn({Canvas:n||function(){function a(){}return a}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){function a(){}return a}(),Image:e||function(){function a(){}return a}(),ImageData:global.ImageData||function(){function a(){}return a}(),Video:global.HTMLVideoElement||function(){function a(){}return a}(),createCanvasElement:t,createImageElement:r,fetch:i},o)}function eA(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function tA(){return typeof global=="object"&&typeof require=="function"&&typeof module<"u"&&typeof process<"u"&&!!process.version}var Kt;function AQ(){if(!Kt)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return Kt}function Mv(n){Kt=n}function S1(){eA()&&Mv(ZT()),tA()&&Mv(QT())}function IQ(n){if(Kt||S1(),!Kt)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var e=n.Canvas,t=e===void 0?Kt.Canvas:e,r=n.Image,i=r===void 0?Kt.Image:r;Kt.Canvas=t,Kt.Image=i,Kt.createCanvasElement=n.createCanvasElement||function(){return new t},Kt.createImageElement=n.createImageElement||function(){return new i},Kt.ImageData=n.ImageData||Kt.ImageData,Kt.Video=n.Video||Kt.Video,Kt.fetch=n.fetch||Kt.fetch,Kt.readFile=n.readFile||Kt.readFile}var $n={getEnv:AQ,setEnv:Mv,initialize:S1,createBrowserEnv:ZT,createFileSystem:JT,createNodejsEnv:QT,monkeyPatch:IQ,isBrowser:eA,isNodejs:tA};S1();function nA(n){return!$n.isNodejs()&&typeof n=="string"?document.getElementById(n):n}function Cs(n){var e=$n.getEnv(),t=e.Canvas,r=e.CanvasRenderingContext2D;if(n instanceof r)return n;var i=nA(n);if(!(i instanceof t))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var o=i.getContext("2d");if(!o)throw new Error("resolveContext2d - canvas 2d context is null");return o}var xC;(function(n){n.TOP_LEFT="TOP_LEFT",n.TOP_RIGHT="TOP_RIGHT",n.BOTTOM_LEFT="BOTTOM_LEFT",n.BOTTOM_RIGHT="BOTTOM_RIGHT"})(xC||(xC={}));function rA(n){var e=$n.getEnv(),t=e.Image,r=e.Video;return n instanceof t&&n.complete||n instanceof r&&n.readyState>=3}function RQ(n){return new Promise(function(e,t){if(n instanceof $n.getEnv().Canvas||rA(n))return e();function r(o){o.currentTarget&&(o.currentTarget.removeEventListener("load",r),o.currentTarget.removeEventListener("error",i),e(o))}function i(o){o.currentTarget&&(o.currentTarget.removeEventListener("load",r),o.currentTarget.removeEventListener("error",i),t(o))}n.addEventListener("load",r),n.addEventListener("error",i)})}function iA(n){var e=$n.getEnv(),t=e.Image,r=e.Video;return n instanceof t?new Gl(n.naturalWidth,n.naturalHeight):n instanceof r?new Gl(n.videoWidth,n.videoHeight):new Gl(n.width,n.height)}function Fm(n){var e=n.width,t=n.height,r=$n.getEnv().createCanvasElement,i=r();return i.width=e,i.height=t,i}function T1(n,e){var t=$n.getEnv().ImageData;if(!(n instanceof t)&&!rA(n))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=iA(n),i=r.width,o=r.height,a=Fm({width:i,height:o});return n instanceof t?Cs(a).putImageData(n,0,0):Cs(a).drawImage(n,0,0,i,o),a}function DQ(n,e){return Re(this,void 0,void 0,function(){var t,r,i,o,a,s;return De(this,function(l){switch(l.label){case 0:return t=$n.getEnv().createCanvasElement(),r=n.shape.slice(ma(n)?1:0),i=r[0],o=r[1],a=r[2],s=ke(function(){return n.as3D(i,o,a).toInt()}),[4,k1.toPixels(s,t)];case 1:return l.sent(),s.dispose(),[2,t]}})})}function yC(n){var e=$n.getEnv(),t=e.Image,r=e.Canvas,i=e.Video;return n instanceof t||n instanceof r||n instanceof i}function OQ(n,e,t){t===void 0&&(t=!1);var r=$n.getEnv(),i=r.Image,o=r.Canvas;if(!(n instanceof i||n instanceof o))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var a=iA(n),s=e/Math.max(a.height,a.width),l=s*a.width,c=s*a.height,u=Fm({width:e,height:e}),d=n instanceof o?n:T1(n),h=Math.abs(l-c)/2,f=t&&l<c?h:0,p=t&&c<l?h:0;return Cs(u).drawImage(d,f,p,l,c),u}var yp=function(){function n(e,t){var r=this;if(t===void 0&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach(function(i,o){if(jm(i)){r._imageTensors[o]=i,r._inputDimensions[o]=i.shape;return}if(ma(i)){var a=i.shape[0];if(a!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+a+" passed, but not supported in input array");r._imageTensors[o]=i,r._inputDimensions[o]=i.shape.slice(1);return}var s=i instanceof $n.getEnv().Canvas?i:T1(i);r._canvases[o]=s,r._inputDimensions[o]=[s.height,s.width,3]})}return Object.defineProperty(n.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"reshapedInputDimensions",{get:function(){var e=this;return rd(this.batchSize,0,1).map(function(t,r){return e.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),n.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},n.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},n.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},n.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},n.prototype.getReshapedInputDimensions=function(e){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var t=this.getInputWidth(e),r=this.getInputHeight(e);return vQ({width:t,height:r},this.inputSize)},n.prototype.toBatchTensor=function(e,t){var r=this;return t===void 0&&(t=!0),this._inputSize=e,ke(function(){var i=rd(r.batchSize,0,1).map(function(a){var s=r.getInput(a);if(s instanceof At){var l=ma(s)?s:s.expandDims();return l=wQ(l,t),(l.shape[1]!==e||l.shape[2]!==e)&&(l=g1.resizeBilinear(l,[e,e])),l.as3D(e,e,3)}if(s instanceof $n.getEnv().Canvas)return k1.fromPixels(OQ(s,e,t));throw new Error("toBatchTensor - at batchIdx "+a+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+s)}),o=Ar(i.map(function(a){return a.toFloat()})).as4D(r.batchSize,e,e,3);return o})},n}();function gn(n){return Re(this,void 0,void 0,function(){var e,t,r;return De(this,function(i){switch(i.label){case 0:if(n instanceof yp)return[2,n];if(e=Array.isArray(n)?n:[n],!e.length)throw new Error("toNetInput - empty array passed as input");return t=function(o){return Array.isArray(n)?" at input index "+o+":":""},r=e.map(nA),r.forEach(function(o,a){if(!yC(o)&&!jm(o)&&!ma(o))throw typeof e[a]=="string"?new Error("toNetInput -"+t(a)+" string passed, but could not resolve HTMLElement for element id "+e[a]):new Error("toNetInput -"+t(a)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(ma(o)){var s=o.shape[0];if(s!==1)throw new Error("toNetInput -"+t(a)+" tf.Tensor4D with batchSize "+s+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(o){return yC(o)&&RQ(o)}))];case 1:return i.sent(),[2,new yp(r,Array.isArray(n))]}})})}function A1(n,e){return Re(this,void 0,void 0,function(){var t,r,i,o,a,s,l;return De(this,function(c){switch(c.label){case 0:return t=$n.getEnv().Canvas,r=n,n instanceof t?[3,5]:[4,gn(n)];case 1:if(i=c.sent(),i.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return o=i.getInput(0),o instanceof t?(a=o,[3,4]):[3,2];case 2:return[4,DQ(o)];case 3:a=c.sent(),c.label=4;case 4:r=a,c.label=5;case 5:return s=Cs(r),l=e.map(function(u){return u instanceof Xi?u.forSize(r.width,r.height).box.floor():u}).map(function(u){return u.clipAtImageBorders(r.width,r.height)}),[2,l.map(function(u){var d=u.x,h=u.y,f=u.width,p=u.height,m=Fm({width:f,height:p});return Cs(m).putImageData(s.getImageData(d,h,f,p),0,0),m})]}})})}function I1(n,e){return Re(this,void 0,void 0,function(){return De(this,function(t){if(!jm(n)&&!ma(n))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(ma(n)&&n.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,ke(function(){var r=n.shape.slice(ma(n)?1:0),i=r[0],o=r[1],a=r[2],s=e.map(function(c){return c instanceof Xi?c.forSize(o,i).box:c}).map(function(c){return c.clipAtImageBorders(o,i)}),l=s.map(function(c){var u=c.x,d=c.y,h=c.width,f=c.height;return DT(n.as3D(i,o,a),[d,u,0],[f,h,a])});return l})]})})}function MQ(n,e){return Re(this,void 0,void 0,function(){var t,r;return De(this,function(i){switch(i.label){case 0:return t=$n.getEnv().fetch,[4,t(n,e)];case 1:if(r=i.sent(),!(r.status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function PQ(n){return Re(this,void 0,void 0,function(){return De(this,function(e){switch(e.label){case 0:return[4,MQ(n)];case 1:return[2,e.sent().json()]}})})}function oA(n,e){var t=e+"-weights_manifest.json";if(!n)return{modelBaseUri:"",manifestUri:t};if(n==="/")return{modelBaseUri:"/",manifestUri:"/"+t};var r=n.startsWith("http://")?"http://":n.startsWith("https://")?"https://":"";n=n.replace(r,"");var i=n.split("/").filter(function(s){return s}),o=n.endsWith(".json")?i[i.length-1]:t,a=r+(n.endsWith(".json")?i.slice(0,i.length-1):i).join("/");return a=n.startsWith("/")?"/"+a:a,{modelBaseUri:a,manifestUri:a==="/"?"/"+o:a+"/"+o}}function BQ(n,e){return Re(this,void 0,void 0,function(){var t,r,i,o;return De(this,function(a){switch(a.label){case 0:return t=oA(n,e),r=t.manifestUri,i=t.modelBaseUri,[4,PQ(r)];case 1:return o=a.sent(),[2,KT.loadWeights(o,i)]}})})}var Oo=function(){function n(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(n.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),n.prototype.getParamFromPath=function(e){var t=this.traversePropertyPath(e),r=t.obj,i=t.objProp;return r[i]},n.prototype.reassignParamFromPath=function(e,t){var r=this.traversePropertyPath(e),i=r.obj,o=r.objProp;i[o].dispose(),i[o]=t},n.prototype.getParamList=function(){var e=this;return this._paramMappings.map(function(t){var r=t.paramPath;return{path:r,tensor:e.getParamFromPath(r)}})},n.prototype.getTrainableParams=function(){return this.getParamList().filter(function(e){return e.tensor instanceof cc})},n.prototype.getFrozenParams=function(){return this.getParamList().filter(function(e){return!(e.tensor instanceof cc)})},n.prototype.variable=function(){var e=this;this.getFrozenParams().forEach(function(t){var r=t.path,i=t.tensor;e.reassignParamFromPath(r,i.variable())})},n.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach(function(t){var r=t.path,i=t.tensor,o=kn(i.dataSync());i.dispose(),e.reassignParamFromPath(r,o)})},n.prototype.dispose=function(e){e===void 0&&(e=!0),this.getParamList().forEach(function(t){if(e&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()}),this._params=void 0},n.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(e){var t=e.tensor;return Array.from(t.dataSync())}).reduce(function(e,t){return e.concat(t)}))},n.prototype.load=function(e){return Re(this,void 0,void 0,function(){return De(this,function(t){switch(t.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return t.sent(),[2]}})})},n.prototype.loadFromUri=function(e){return Re(this,void 0,void 0,function(){var t;return De(this,function(r){switch(r.label){case 0:if(e&&typeof e!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,BQ(e,this.getDefaultModelName())];case 1:return t=r.sent(),this.loadFromWeightMap(t),[2]}})})},n.prototype.loadFromDisk=function(e){return Re(this,void 0,void 0,function(){var t,r,i,o,a,s,l,c,u,d;return De(this,function(h){switch(h.label){case 0:if(e&&typeof e!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return t=$n.getEnv().readFile,r=oA(e,this.getDefaultModelName()),i=r.manifestUri,o=r.modelBaseUri,a=function(f){return Promise.all(f.map(function(p){return t(p).then(function(m){return m.buffer})}))},s=KT.weightsLoaderFactory(a),u=(c=JSON).parse,[4,t(i)];case 1:return l=u.apply(c,[h.sent().toString()]),[4,s(l,o)];case 2:return d=h.sent(),this.loadFromWeightMap(d),[2]}})})},n.prototype.loadFromWeightMap=function(e){var t=this.extractParamsFromWeigthMap(e),r=t.paramMappings,i=t.params;this._paramMappings=r,this._params=i},n.prototype.extractWeights=function(e){var t=this.extractParams(e),r=t.paramMappings,i=t.params;this._paramMappings=r,this._params=i},n.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=e.split("/").reduce(function(o,a){if(!o.nextObj.hasOwnProperty(a))throw new Error("traversePropertyPath - object does not have property "+a+", for path "+e);return{obj:o.nextObj,objProp:a,nextObj:o.nextObj[a]}},{nextObj:this.params}),r=t.obj,i=t.objProp;if(!r||!i||!(r[i]instanceof At))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:r,objProp:i}},n}();function kr(n,e,t){return ke(function(){var r=d1(n,e.depthwise_filter,e.pointwise_filter,t,"same");return r=Qe(r,e.bias),r})}function D0(n,e,t){return t===void 0&&(t=!1),ke(function(){var r=Dt(t?Qe(ei(n,e.conv0.filters,[2,2],"same"),e.conv0.bias):kr(n,e.conv0,[2,2])),i=kr(r,e.conv1,[1,1]),o=Dt(Qe(r,i)),a=kr(o,e.conv2,[1,1]);return Dt(Qe(r,Qe(i,a)))})}function Dh(n,e,t,r){return t===void 0&&(t=!1),r===void 0&&(r=!0),ke(function(){var i=Dt(t?Qe(ei(n,e.conv0.filters,r?[2,2]:[1,1],"same"),e.conv0.bias):kr(n,e.conv0,r?[2,2]:[1,1])),o=kr(i,e.conv1,[1,1]),a=Dt(Qe(i,o)),s=kr(a,e.conv2,[1,1]),l=Dt(Qe(i,Qe(o,s))),c=kr(l,e.conv3,[1,1]);return Dt(Qe(i,Qe(o,Qe(s,c))))})}function mi(n,e,t,r){return t===void 0&&(t="same"),r===void 0&&(r=!1),ke(function(){var i=Qe(ei(n,e.filters,[1,1],t),e.bias);return r?Dt(i):i})}function Mo(n,e){Object.keys(n).forEach(function(t){e.some(function(r){return r.originalPath===t})||n[t].dispose()})}function $m(n,e){return function(t,r,i,o){var a=er(n(t*r*i*i),[i,i,t,r]),s=Vt(n(r));return e.push({paramPath:o+"/filters"},{paramPath:o+"/bias"}),{filters:a,bias:s}}}function R1(n,e){return function(t,r,i){var o=fa(n(t*r),[t,r]),a=Vt(n(r));return e.push({paramPath:i+"/weights"},{paramPath:i+"/bias"}),{weights:o,bias:a}}}var aA=function(){function n(e,t,r){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=r}return n}();function D1(n,e){return function(t,r,i){var o=er(n(9*t),[3,3,t,1]),a=er(n(t*r),[1,1,t,r]),s=Vt(n(r));return e.push({paramPath:i+"/depthwise_filter"},{paramPath:i+"/pointwise_filter"},{paramPath:i+"/bias"}),new aA(o,a,s)}}function O1(n){return function(e){var t=n(e+"/depthwise_filter",4),r=n(e+"/pointwise_filter",4),i=n(e+"/bias",1);return new aA(t,r,i)}}function Ra(n,e){return function(t,r,i){var o=n[t];if(!Lm(o,r))throw new Error("expected weightMap["+t+"] to be a Tensor"+r+"D, instead have "+o);return e.push({originalPath:t,paramPath:i||t}),o}}function Po(n){var e=n;function t(i){var o=e.slice(0,i);return e=e.slice(i),o}function r(){return e}return{extractWeights:t,getRemainingWeights:r}}function sA(n,e){var t=$m(n,e),r=D1(n,e);function i(a,s,l,c){c===void 0&&(c=!1);var u=c?t(a,s,3,l+"/conv0"):r(a,s,l+"/conv0"),d=r(s,s,l+"/conv1"),h=r(s,s,l+"/conv2");return{conv0:u,conv1:d,conv2:h}}function o(a,s,l,c){c===void 0&&(c=!1);var u=i(a,s,l,c),d=u.conv0,h=u.conv1,f=u.conv2,p=r(s,s,l+"/conv3");return{conv0:d,conv1:h,conv2:f,conv3:p}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:o}}function zQ(n){var e=[],t=Po(n),r=t.extractWeights,i=t.getRemainingWeights,o=sA(r,e).extractDenseBlock4Params,a=o(3,32,"dense0",!0),s=o(32,64,"dense1"),l=o(64,128,"dense2"),c=o(128,256,"dense3");if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:e,params:{dense0:a,dense1:s,dense2:l,dense3:c}}}function lA(n){return function(e){var t=n(e+"/filters",4),r=n(e+"/bias",1);return{filters:t,bias:r}}}function cA(n,e){var t=Ra(n,e),r=lA(t),i=O1(t);function o(s,l){l===void 0&&(l=!1);var c=l?r(s+"/conv0"):i(s+"/conv0"),u=i(s+"/conv1"),d=i(s+"/conv2");return{conv0:c,conv1:u,conv2:d}}function a(s,l){l===void 0&&(l=!1);var c=l?r(s+"/conv0"):i(s+"/conv0"),u=i(s+"/conv1"),d=i(s+"/conv2"),h=i(s+"/conv3");return{conv0:c,conv1:u,conv2:d,conv3:h}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:a}}function LQ(n){var e=[],t=cA(n,e).extractDenseBlock4Params,r={dense0:t("dense0",!0),dense1:t("dense1"),dense2:t("dense2"),dense3:t("dense3")};return Mo(n,e),{params:r,paramMappings:e}}var uA=function(n){Fe(e,n);function e(){return n.call(this,"FaceFeatureExtractor")||this}return e.prototype.forwardInput=function(t){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return ke(function(){var i=t.toBatchTensor(112,!0),o=[122.782,117.001,104.298],a=Nd(i,o).div(ve(255)),s=Dh(a,r.dense0,!0);return s=Dh(s,r.dense1),s=Dh(s,r.dense2),s=Dh(s,r.dense3),s=Ld(s,[7,7],[2,2],"valid"),s})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,gn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},e.prototype.extractParamsFromWeigthMap=function(t){return LQ(t)},e.prototype.extractParams=function(t){return zQ(t)},e}(Oo);function Mi(n,e){return ke(function(){return Qe(Pm(n,e.weights),e.bias)})}function jQ(n,e,t){var r=[],i=Po(n),o=i.extractWeights,a=i.getRemainingWeights,s=R1(o,r),l=s(e,t,"fc");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:r,params:{fc:l}}}function NQ(n){var e=[],t=Ra(n,e);function r(o){var a=t(o+"/weights",2),s=t(o+"/bias",1);return{weights:a,bias:s}}var i={fc:r("fc")};return Mo(n,e),{params:i,paramMappings:e}}function dA(n){var e={},t={};return Object.keys(n).forEach(function(r){var i=r.startsWith("fc")?t:e;i[r]=n[r]}),{featureExtractorMap:e,classifierMap:t}}var hA=function(n){Fe(e,n);function e(t,r){var i=n.call(this,t)||this;return i._faceFeatureExtractor=r,i}return Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(t){var r=this,i=this.params;if(!i)throw new Error(this._name+" - load model before inference");return ke(function(){var o=t instanceof yp?r.faceFeatureExtractor.forwardInput(t):t;return Mi(o.as2D(o.shape[0],-1),i.fc)})},e.prototype.dispose=function(t){t===void 0&&(t=!0),this.faceFeatureExtractor.dispose(t),n.prototype.dispose.call(this,t)},e.prototype.loadClassifierParams=function(t){var r=this.extractClassifierParams(t),i=r.params,o=r.paramMappings;this._params=i,this._paramMappings=o},e.prototype.extractClassifierParams=function(t){return jQ(t,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},e.prototype.extractParamsFromWeigthMap=function(t){var r=dA(t),i=r.featureExtractorMap,o=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(i),NQ(o)},e.prototype.extractParams=function(t){var r=this.getClassifierChannelsIn(),i=this.getClassifierChannelsOut(),o=i*r+i,a=t.slice(0,t.length-o),s=t.slice(t.length-o);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(s)},e}(Oo),wC=["neutral","happy","sad","angry","fearful","disgusted","surprised"],FQ=function(){function n(e){var t=this;if(e.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);wC.forEach(function(r,i){t[r]=e[i]})}return n.prototype.asSortedArray=function(){var e=this;return wC.map(function(t){return{expression:t,probability:e[t]}}).sort(function(t,r){return r.probability-t.probability})},n}(),$Q=function(n){Fe(e,n);function e(t){return t===void 0&&(t=new uA),n.call(this,"FaceExpressionNet",t)||this}return e.prototype.forwardInput=function(t){var r=this;return ke(function(){return Ro(r.runNet(t))})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,gn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.predictExpressions=function(t){return Re(this,void 0,void 0,function(){var r,i,o,a,s=this;return De(this,function(l){switch(l.label){case 0:return[4,gn(t)];case 1:return r=l.sent(),[4,this.forwardInput(r)];case 2:return i=l.sent(),[4,Promise.all(Qt(i).map(function(c){return Re(s,void 0,void 0,function(){var u;return De(this,function(d){switch(d.label){case 0:return[4,c.data()];case 1:return u=d.sent(),c.dispose(),[2,u]}})})}))];case 3:return o=l.sent(),i.dispose(),a=o.map(function(c){return new FQ(c)}),[2,r.isBatchInput?a:a[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_expression_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e.prototype.getClassifierChannelsOut=function(){return 7},e}(hA);function fA(n,e){var t={expressions:e};return Object.assign({},n,t)}function UQ(n){return TQ(n)&&n.landmarks instanceof xp&&n.unshiftedLandmarks instanceof xp&&n.alignedRect instanceof Xi}function M1(n,e){var t=n.detection.box,r=e.shiftBy(t.x,t.y),i=r.align(),o=n.detection.imageDims,a=new Xi(n.detection.score,i.rescale(o.reverse()),o),s={landmarks:r,unshiftedLandmarks:e,alignedRect:a};return Object.assign({},n,s)}function HQ(n,e){var t=$m(n,e),r=D1(n,e);function i(a,s,l){var c=r(a,s,l+"/separable_conv0"),u=r(s,s,l+"/separable_conv1"),d=t(a,s,1,l+"/expansion_conv");return{separable_conv0:c,separable_conv1:u,expansion_conv:d}}function o(a,s){var l=r(a,a,s+"/separable_conv0"),c=r(a,a,s+"/separable_conv1"),u=r(a,a,s+"/separable_conv2");return{separable_conv0:l,separable_conv1:c,separable_conv2:u}}return{extractConvParams:t,extractSeparableConvParams:r,extractReductionBlockParams:i,extractMainBlockParams:o}}function WQ(n,e){var t=[],r=Po(n),i=r.extractWeights,o=r.getRemainingWeights,a=HQ(i,t),s=a.extractConvParams,l=a.extractSeparableConvParams,c=a.extractReductionBlockParams,u=a.extractMainBlockParams,d=s(3,32,3,"entry_flow/conv_in"),h=c(32,64,"entry_flow/reduction_block_0"),f=c(64,128,"entry_flow/reduction_block_1"),p={conv_in:d,reduction_block_0:h,reduction_block_1:f},m={};rd(e,0,1).forEach(function(x){m["main_block_"+x]=u(128,"middle_flow/main_block_"+x)});var b=c(128,256,"exit_flow/reduction_block"),g=l(256,512,"exit_flow/separable_conv"),v={reduction_block:b,separable_conv:g};if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{entry_flow:p,middle_flow:m,exit_flow:v}}}function VQ(n,e){var t=Ra(n,e),r=lA(t),i=O1(t);function o(s){var l=i(s+"/separable_conv0"),c=i(s+"/separable_conv1"),u=r(s+"/expansion_conv");return{separable_conv0:l,separable_conv1:c,expansion_conv:u}}function a(s){var l=i(s+"/separable_conv0"),c=i(s+"/separable_conv1"),u=i(s+"/separable_conv2");return{separable_conv0:l,separable_conv1:c,separable_conv2:u}}return{extractConvParams:r,extractSeparableConvParams:i,extractReductionBlockParams:o,extractMainBlockParams:a}}function qQ(n,e){var t=[],r=VQ(n,t),i=r.extractConvParams,o=r.extractSeparableConvParams,a=r.extractReductionBlockParams,s=r.extractMainBlockParams,l=i("entry_flow/conv_in"),c=a("entry_flow/reduction_block_0"),u=a("entry_flow/reduction_block_1"),d={conv_in:l,reduction_block_0:c,reduction_block_1:u},h={};rd(e,0,1).forEach(function(b){h["main_block_"+b]=s("middle_flow/main_block_"+b)});var f=a("exit_flow/reduction_block"),p=o("exit_flow/separable_conv"),m={reduction_block:f,separable_conv:p};return Mo(n,t),{params:{entry_flow:d,middle_flow:h,exit_flow:m},paramMappings:t}}function pA(n,e,t){return Qe(ei(n,e.filters,t,"same"),e.bias)}function O0(n,e,t){t===void 0&&(t=!0);var r=t?Dt(n):n;return r=kr(r,e.separable_conv0,[1,1]),r=kr(Dt(r),e.separable_conv1,[1,1]),r=ln(r,[3,3],[2,2],"same"),r=Qe(r,pA(n,e.expansion_conv,[2,2])),r}function GQ(n,e){var t=kr(Dt(n),e.separable_conv0,[1,1]);return t=kr(Dt(t),e.separable_conv1,[1,1]),t=kr(Dt(t),e.separable_conv2,[1,1]),t=Qe(t,n),t}var KQ=function(n){Fe(e,n);function e(t){var r=n.call(this,"TinyXception")||this;return r._numMainBlocks=t,r}return e.prototype.forwardInput=function(t){var r=this,i=this.params;if(!i)throw new Error("TinyXception - load model before inference");return ke(function(){var o=t.toBatchTensor(112,!0),a=[122.782,117.001,104.298],s=Nd(o,a).div(ve(256)),l=Dt(pA(s,i.entry_flow.conv_in,[2,2]));return l=O0(l,i.entry_flow.reduction_block_0,!1),l=O0(l,i.entry_flow.reduction_block_1),rd(r._numMainBlocks,0,1).forEach(function(c){l=GQ(l,i.middle_flow["main_block_"+c])}),l=O0(l,i.exit_flow.reduction_block),l=Dt(kr(l,i.exit_flow.separable_conv,[1,1])),l})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,gn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"tiny_xception_model"},e.prototype.extractParamsFromWeigthMap=function(t){return qQ(t,this._numMainBlocks)},e.prototype.extractParams=function(t){return WQ(t,this._numMainBlocks)},e}(Oo);function YQ(n){var e=[],t=Po(n),r=t.extractWeights,i=t.getRemainingWeights,o=R1(r,e),a=o(512,1,"fc/age"),s=o(512,2,"fc/gender");if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:e,params:{fc:{age:a,gender:s}}}}function XQ(n){var e=[],t=Ra(n,e);function r(o){var a=t(o+"/weights",2),s=t(o+"/bias",1);return{weights:a,bias:s}}var i={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Mo(n,e),{params:i,paramMappings:e}}var wp;(function(n){n.FEMALE="female",n.MALE="male"})(wp||(wp={}));var ZQ=function(n){Fe(e,n);function e(t){t===void 0&&(t=new KQ(2));var r=n.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=t,r}return Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(t){var r=this,i=this.params;if(!i)throw new Error(this._name+" - load model before inference");return ke(function(){var o=t instanceof yp?r.faceFeatureExtractor.forwardInput(t):t,a=Ld(o,[7,7],[2,2],"valid").as2D(o.shape[0],-1),s=Mi(a,i.fc.age).as1D(),l=Mi(a,i.fc.gender);return{age:s,gender:l}})},e.prototype.forwardInput=function(t){var r=this;return ke(function(){var i=r.runNet(t),o=i.age,a=i.gender;return{age:o,gender:Ro(a)}})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,gn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.predictAgeAndGender=function(t){return Re(this,void 0,void 0,function(){var r,i,o,a,s,l,c=this;return De(this,function(u){switch(u.label){case 0:return[4,gn(t)];case 1:return r=u.sent(),[4,this.forwardInput(r)];case 2:return i=u.sent(),o=Qt(i.age),a=Qt(i.gender),s=o.map(function(d,h){return{ageTensor:d,genderTensor:a[h]}}),[4,Promise.all(s.map(function(d){var h=d.ageTensor,f=d.genderTensor;return Re(c,void 0,void 0,function(){var p,m,b,g,v;return De(this,function(x){switch(x.label){case 0:return[4,h.data()];case 1:return p=x.sent()[0],[4,f.data()];case 2:return m=x.sent()[0],b=m>.5,g=b?wp.MALE:wp.FEMALE,v=b?m:1-m,h.dispose(),f.dispose(),[2,{age:p,gender:g,genderProbability:v}]}})})}))];case 3:return l=u.sent(),i.age.dispose(),i.gender.dispose(),[2,r.isBatchInput?l:l[0]]}})})},e.prototype.getDefaultModelName=function(){return"age_gender_model"},e.prototype.dispose=function(t){t===void 0&&(t=!0),this.faceFeatureExtractor.dispose(t),n.prototype.dispose.call(this,t)},e.prototype.loadClassifierParams=function(t){var r=this.extractClassifierParams(t),i=r.params,o=r.paramMappings;this._params=i,this._paramMappings=o},e.prototype.extractClassifierParams=function(t){return YQ(t)},e.prototype.extractParamsFromWeigthMap=function(t){var r=dA(t),i=r.featureExtractorMap,o=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(i),XQ(o)},e.prototype.extractParams=function(t){var r=1539,i=t.slice(0,t.length-r),o=t.slice(t.length-r);return this.faceFeatureExtractor.extractWeights(i),this.extractClassifierParams(o)},e}(Oo),mA=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postProcess=function(t,r,i){var o=i.map(function(s){var l=s.width,c=s.height,u=r/Math.max(c,l);return{width:l*u,height:c*u}}),a=o.length;return ke(function(){var s=function(h,f){return Ar([Fi([68],h),Fi([68],f)],1).as2D(1,136).as1D()},l=function(h,f){var p=o[h],m=p.width,b=p.height;return f(m,b)?Math.abs(m-b)/2:0},c=function(h){return l(h,function(f,p){return f<p})},u=function(h){return l(h,function(f,p){return p<f})},d=t.mul(Fi([a,136],r)).sub(Ar(Array.from(Array(a),function(h,f){return s(c(f),u(f))}))).div(Ar(Array.from(Array(a),function(h,f){return s(o[f].width,o[f].height)})));return d})},e.prototype.forwardInput=function(t){var r=this;return ke(function(){var i=r.runNet(t);return r.postProcess(i,t.inputSize,t.inputDimensions.map(function(o){var a=o[0],s=o[1];return{height:a,width:s}}))})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,gn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.detectLandmarks=function(t){return Re(this,void 0,void 0,function(){var r,i,o,a=this;return De(this,function(s){switch(s.label){case 0:return[4,gn(t)];case 1:return r=s.sent(),i=ke(function(){return Qt(a.forwardInput(r))}),[4,Promise.all(i.map(function(l,c){return Re(a,void 0,void 0,function(){var u,d,h,f,p;return De(this,function(m){switch(m.label){case 0:return h=(d=Array).from,[4,l.data()];case 1:return u=h.apply(d,[m.sent()]),f=u.filter(function(b,g){return pC(g)}),p=u.filter(function(b,g){return!pC(g)}),[2,new SQ(Array(68).fill(0).map(function(b,g){return new lt(f[g],p[g])}),{height:r.getInputHeight(c),width:r.getInputWidth(c)})]}})})}))];case 2:return o=s.sent(),i.forEach(function(l){return l.dispose()}),[2,r.isBatchInput?o:o[0]]}})})},e.prototype.getClassifierChannelsOut=function(){return 136},e}(hA),gA=function(n){Fe(e,n);function e(t){return t===void 0&&(t=new uA),n.call(this,"FaceLandmark68Net",t)||this}return e.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e}(mA);function JQ(n){var e=[],t=cA(n,e).extractDenseBlock3Params,r={dense0:t("dense0",!0),dense1:t("dense1"),dense2:t("dense2")};return Mo(n,e),{params:r,paramMappings:e}}function QQ(n){var e=[],t=Po(n),r=t.extractWeights,i=t.getRemainingWeights,o=sA(r,e).extractDenseBlock3Params,a=o(3,32,"dense0",!0),s=o(32,64,"dense1"),l=o(64,128,"dense2");if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:e,params:{dense0:a,dense1:s,dense2:l}}}var eee=function(n){Fe(e,n);function e(){return n.call(this,"TinyFaceFeatureExtractor")||this}return e.prototype.forwardInput=function(t){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return ke(function(){var i=t.toBatchTensor(112,!0),o=[122.782,117.001,104.298],a=Nd(i,o).div(ve(255)),s=D0(a,r.dense0,!0);return s=D0(s,r.dense1),s=D0(s,r.dense2),s=Ld(s,[14,14],[2,2],"valid"),s})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,gn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},e.prototype.extractParamsFromWeigthMap=function(t){return JQ(t)},e.prototype.extractParams=function(t){return QQ(t)},e}(Oo),tee=function(n){Fe(e,n);function e(t){return t===void 0&&(t=new eee),n.call(this,"FaceLandmark68TinyNet",t)||this}return e.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},e.prototype.getClassifierChannelsIn=function(){return 128},e}(mA);(function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(gA);function nee(n,e){return Qe(jn(n,e.weights),e.biases)}function P1(n,e,t,r,i){i===void 0&&(i="same");var o=e.conv,a=o.filters,s=o.bias,l=ei(n,a,t,i);return l=Qe(l,s),l=nee(l,e.scale),r?Dt(l):l}function ree(n,e){return P1(n,e,[1,1],!0)}function bA(n,e){return P1(n,e,[1,1],!1)}function vA(n,e){return P1(n,e,[2,2],!0,"valid")}function iee(n,e){function t(s,l,c){var u=n(s),d=u.length/(l*c*c);if(gQ(d))throw new Error("depth has to be an integer: "+d+", weights.length: "+u.length+", numFilters: "+l+", filterSize: "+c);return ke(function(){return ka(er(u,[l,d,c,c]),[2,3,1,0])})}function r(s,l,c,u){var d=t(s,l,c),h=Vt(n(l));return e.push({paramPath:u+"/filters"},{paramPath:u+"/bias"}),{filters:d,bias:h}}function i(s,l){var c=Vt(n(s)),u=Vt(n(s));return e.push({paramPath:l+"/weights"},{paramPath:l+"/biases"}),{weights:c,biases:u}}function o(s,l,c,u){var d=r(s,l,c,u+"/conv"),h=i(l,u+"/scale");return{conv:d,scale:h}}function a(s,l,c,u,d){d===void 0&&(d=!1);var h=o((d?.5:1)*s,l,c,u+"/conv1"),f=o(s,l,c,u+"/conv2");return{conv1:h,conv2:f}}return{extractConvLayerParams:o,extractResidualLayerParams:a}}function oee(n){var e=Po(n),t=e.extractWeights,r=e.getRemainingWeights,i=[],o=iee(t,i),a=o.extractConvLayerParams,s=o.extractResidualLayerParams,l=a(4704,32,7,"conv32_down"),c=s(9216,32,3,"conv32_1"),u=s(9216,32,3,"conv32_2"),d=s(9216,32,3,"conv32_3"),h=s(36864,64,3,"conv64_down",!0),f=s(36864,64,3,"conv64_1"),p=s(36864,64,3,"conv64_2"),m=s(36864,64,3,"conv64_3"),b=s(147456,128,3,"conv128_down",!0),g=s(147456,128,3,"conv128_1"),v=s(147456,128,3,"conv128_2"),x=s(589824,256,3,"conv256_down",!0),y=s(589824,256,3,"conv256_1"),w=s(589824,256,3,"conv256_2"),k=s(589824,256,3,"conv256_down_out"),_=ke(function(){return ka(fa(t(256*128),[128,256]),[1,0])});if(i.push({paramPath:"fc"}),r().length!==0)throw new Error("weights remaing after extract: "+r().length);var T={conv32_down:l,conv32_1:c,conv32_2:u,conv32_3:d,conv64_down:h,conv64_1:f,conv64_2:p,conv64_3:m,conv128_down:b,conv128_1:g,conv128_2:v,conv256_down:x,conv256_1:y,conv256_2:w,conv256_down_out:k,fc:_};return{params:T,paramMappings:i}}function aee(n,e){var t=Ra(n,e);function r(a){var s=t(a+"/scale/weights",1),l=t(a+"/scale/biases",1);return{weights:s,biases:l}}function i(a){var s=t(a+"/conv/filters",4),l=t(a+"/conv/bias",1),c=r(a);return{conv:{filters:s,bias:l},scale:c}}function o(a){return{conv1:i(a+"/conv1"),conv2:i(a+"/conv2")}}return{extractConvLayerParams:i,extractResidualLayerParams:o}}function see(n){var e=[],t=aee(n,e),r=t.extractConvLayerParams,i=t.extractResidualLayerParams,o=r("conv32_down"),a=i("conv32_1"),s=i("conv32_2"),l=i("conv32_3"),c=i("conv64_down"),u=i("conv64_1"),d=i("conv64_2"),h=i("conv64_3"),f=i("conv128_down"),p=i("conv128_1"),m=i("conv128_2"),b=i("conv256_down"),g=i("conv256_1"),v=i("conv256_2"),x=i("conv256_down_out"),y=n.fc;if(e.push({originalPath:"fc",paramPath:"fc"}),!mQ(y))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+y);var w={conv32_down:o,conv32_1:a,conv32_2:s,conv32_3:l,conv64_down:c,conv64_1:u,conv64_2:d,conv64_3:h,conv128_down:f,conv128_1:p,conv128_2:m,conv256_down:b,conv256_1:g,conv256_2:v,conv256_down_out:x,fc:y};return Mo(n,e),{params:w,paramMappings:e}}function Ci(n,e){var t=ree(n,e.conv1);return t=bA(t,e.conv2),t=Qe(t,n),t=Dt(t),t}function Oh(n,e){var t=vA(n,e.conv1);t=bA(t,e.conv2);var r=Ld(n,2,2,"valid"),i=_t(r.shape),o=r.shape[3]!==t.shape[3],a=r.shape[1]!==t.shape[1]||r.shape[2]!==t.shape[2];if(a){var s=Cu(t.shape);s[1]=1;var l=_t(s);t=Jt([t,l],1);var c=Cu(t.shape);c[2]=1;var u=_t(c);t=Jt([t,u],2)}return r=o?Jt([r,i],3):r,t=Qe(r,t),t=Dt(t),t}var lee=function(n){Fe(e,n);function e(){return n.call(this,"FaceRecognitionNet")||this}return e.prototype.forwardInput=function(t){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return ke(function(){var i=t.toBatchTensor(150,!0).toFloat(),o=[122.782,117.001,104.298],a=Nd(i,o).div(ve(256)),s=vA(a,r.conv32_down);s=ln(s,3,2,"valid"),s=Ci(s,r.conv32_1),s=Ci(s,r.conv32_2),s=Ci(s,r.conv32_3),s=Oh(s,r.conv64_down),s=Ci(s,r.conv64_1),s=Ci(s,r.conv64_2),s=Ci(s,r.conv64_3),s=Oh(s,r.conv128_down),s=Ci(s,r.conv128_1),s=Ci(s,r.conv128_2),s=Oh(s,r.conv256_down),s=Ci(s,r.conv256_1),s=Ci(s,r.conv256_2),s=Oh(s,r.conv256_down_out);var l=s.mean([1,2]),c=Pm(l,r.fc);return c})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,gn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.computeFaceDescriptor=function(t){return Re(this,void 0,void 0,function(){var r,i,o,a=this;return De(this,function(s){switch(s.label){case 0:return[4,gn(t)];case 1:return r=s.sent(),i=ke(function(){return Qt(a.forwardInput(r))}),[4,Promise.all(i.map(function(l){return l.data()}))];case 2:return o=s.sent(),i.forEach(function(l){return l.dispose()}),[2,r.isBatchInput?o:o[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_recognition_model"},e.prototype.extractParamsFromWeigthMap=function(t){return see(t)},e.prototype.extractParams=function(t){return oee(t)},e}(Oo);function xA(n,e){var t={descriptor:e};return Object.assign({},n,t)}function yA(n,e){var t={age:e};return Object.assign({},n,t)}function wA(n,e,t){var r={gender:e,genderProbability:t};return Object.assign({},n,r)}var kA=function(){function n(e){var t=e===void 0?{}:e,r=t.minFaceSize,i=t.scaleFactor,o=t.maxNumScales,a=t.scoreThresholds,s=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=i||.709,this._maxNumScales=o||10,this._scoreThresholds=a||[.6,.7,.7],this._scaleSteps=s,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(l){return typeof l!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(l){return typeof l!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(n.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),n}();function cee(n,e){function t(l,c){var u=er(n(9*l),[3,3,l,1]),d=Vt(n(l)),h=Vt(n(l)),f=Vt(n(l)),p=Vt(n(l));return e.push({paramPath:c+"/filters"},{paramPath:c+"/batch_norm_scale"},{paramPath:c+"/batch_norm_offset"},{paramPath:c+"/batch_norm_mean"},{paramPath:c+"/batch_norm_variance"}),{filters:u,batch_norm_scale:d,batch_norm_offset:h,batch_norm_mean:f,batch_norm_variance:p}}function r(l,c,u,d,h){var f=er(n(l*c*u*u),[u,u,l,c]),p=Vt(n(c));return e.push({paramPath:d+"/filters"},{paramPath:d+"/"+(h?"batch_norm_offset":"bias")}),{filters:f,bias:p}}function i(l,c,u,d){var h=r(l,c,u,d,!0),f=h.filters,p=h.bias;return{filters:f,batch_norm_offset:p}}function o(l,c,u){var d=t(l,u+"/depthwise_conv"),h=i(l,c,1,u+"/pointwise_conv");return{depthwise_conv:d,pointwise_conv:h}}function a(){var l=i(3,32,3,"mobilenetv1/conv_0"),c=o(32,64,"mobilenetv1/conv_1"),u=o(64,128,"mobilenetv1/conv_2"),d=o(128,128,"mobilenetv1/conv_3"),h=o(128,256,"mobilenetv1/conv_4"),f=o(256,256,"mobilenetv1/conv_5"),p=o(256,512,"mobilenetv1/conv_6"),m=o(512,512,"mobilenetv1/conv_7"),b=o(512,512,"mobilenetv1/conv_8"),g=o(512,512,"mobilenetv1/conv_9"),v=o(512,512,"mobilenetv1/conv_10"),x=o(512,512,"mobilenetv1/conv_11"),y=o(512,1024,"mobilenetv1/conv_12"),w=o(1024,1024,"mobilenetv1/conv_13");return{conv_0:l,conv_1:c,conv_2:u,conv_3:d,conv_4:h,conv_5:f,conv_6:p,conv_7:m,conv_8:b,conv_9:g,conv_10:v,conv_11:x,conv_12:y,conv_13:w}}function s(){var l=i(1024,256,1,"prediction_layer/conv_0"),c=i(256,512,3,"prediction_layer/conv_1"),u=i(512,128,1,"prediction_layer/conv_2"),d=i(128,256,3,"prediction_layer/conv_3"),h=i(256,128,1,"prediction_layer/conv_4"),f=i(128,256,3,"prediction_layer/conv_5"),p=i(256,64,1,"prediction_layer/conv_6"),m=i(64,128,3,"prediction_layer/conv_7"),b=r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),g=r(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),v=r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),x=r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),y=r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),w=r(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),k=r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),_=r(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),T=r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),E=r(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),A=r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),M=r(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),I={box_encoding_predictor:b,class_predictor:g},L={box_encoding_predictor:v,class_predictor:x},S={box_encoding_predictor:y,class_predictor:w},O={box_encoding_predictor:k,class_predictor:_},P={box_encoding_predictor:T,class_predictor:E},z={box_encoding_predictor:A,class_predictor:M};return{conv_0:l,conv_1:c,conv_2:u,conv_3:d,conv_4:h,conv_5:f,conv_6:p,conv_7:m,box_predictor_0:I,box_predictor_1:L,box_predictor_2:S,box_predictor_3:O,box_predictor_4:P,box_predictor_5:z}}return{extractMobilenetV1Params:a,extractPredictionLayerParams:s}}function uee(n){var e=[],t=Po(n),r=t.extractWeights,i=t.getRemainingWeights,o=cee(r,e),a=o.extractMobilenetV1Params,s=o.extractPredictionLayerParams,l=a(),c=s(),u=Xy(r(5118*4),[1,5118,4]),d={extra_dim:u};if(e.push({paramPath:"output_layer/extra_dim"}),i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{params:{mobilenetv1:l,prediction_layer:c,output_layer:d},paramMappings:e}}function dee(n,e){var t=Ra(n,e);function r(c,u,d){var h=t(c+"/Conv2d_"+u+"_pointwise/weights",4,d+"/filters"),f=t(c+"/Conv2d_"+u+"_pointwise/convolution_bn_offset",1,d+"/batch_norm_offset");return{filters:h,batch_norm_offset:f}}function i(c){var u="mobilenetv1/conv_"+c,d="MobilenetV1/Conv2d_"+c+"_depthwise",h=u+"/depthwise_conv",f=u+"/pointwise_conv",p=t(d+"/depthwise_weights",4,h+"/filters"),m=t(d+"/BatchNorm/gamma",1,h+"/batch_norm_scale"),b=t(d+"/BatchNorm/beta",1,h+"/batch_norm_offset"),g=t(d+"/BatchNorm/moving_mean",1,h+"/batch_norm_mean"),v=t(d+"/BatchNorm/moving_variance",1,h+"/batch_norm_variance");return{depthwise_conv:{filters:p,batch_norm_scale:m,batch_norm_offset:b,batch_norm_mean:g,batch_norm_variance:v},pointwise_conv:r("MobilenetV1",c,f)}}function o(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:i(1),conv_2:i(2),conv_3:i(3),conv_4:i(4),conv_5:i(5),conv_6:i(6),conv_7:i(7),conv_8:i(8),conv_9:i(9),conv_10:i(10),conv_11:i(11),conv_12:i(12),conv_13:i(13)}}function a(c,u){var d=t(c+"/weights",4,u+"/filters"),h=t(c+"/biases",1,u+"/bias");return{filters:d,bias:h}}function s(c){var u=a("Prediction/BoxPredictor_"+c+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+c+"/box_encoding_predictor"),d=a("Prediction/BoxPredictor_"+c+"/ClassPredictor","prediction_layer/box_predictor_"+c+"/class_predictor");return{box_encoding_predictor:u,class_predictor:d}}function l(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:s(0),box_predictor_1:s(1),box_predictor_2:s(2),box_predictor_3:s(3),box_predictor_4:s(4),box_predictor_5:s(5)}}return{extractMobilenetV1Params:o,extractPredictionLayerParams:l}}function hee(n){var e=[],t=dee(n,e),r=t.extractMobilenetV1Params,i=t.extractPredictionLayerParams,o=n["Output/extra_dim"];if(e.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!jm(o))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+o);var a={mobilenetv1:r(),prediction_layer:i(),output_layer:{extra_dim:o}};return Mo(n,e),{params:a,paramMappings:e}}function Si(n,e,t){return ke(function(){var r=ei(n,e.filters,t,"same");return r=Qe(r,e.batch_norm_offset),s1(r,0,6)})}var fee=.0010000000474974513;function pee(n,e,t){return ke(function(){var r=Mm(n,e.filters,t,"same");return r=gT(r,e.batch_norm_mean,e.batch_norm_variance,e.batch_norm_offset,e.batch_norm_scale,fee),s1(r,0,6)})}function mee(n){return[2,4,6,12].some(function(e){return e===n})?[2,2]:[1,1]}function gee(n,e){return ke(function(){var t=null,r=Si(n,e.conv_0,[2,2]),i=[e.conv_1,e.conv_2,e.conv_3,e.conv_4,e.conv_5,e.conv_6,e.conv_7,e.conv_8,e.conv_9,e.conv_10,e.conv_11,e.conv_12,e.conv_13];if(i.forEach(function(o,a){var s=a+1,l=mee(s);r=pee(r,o.depthwise_conv,l),r=Si(r,o.pointwise_conv,[1,1]),s===11&&(t=r)}),t===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:t}})}function bee(n,e,t,r,i){var o=n.shape[0],a=Math.min(t,o),s=e.map(function(u,d){return{score:u,boxIndex:d}}).filter(function(u){return u.score>i}).sort(function(u,d){return d.score-u.score}),l=function(u){return u<=r?1:0},c=[];return s.forEach(function(u){if(!(c.length>=a)){for(var d=u.score,h=c.length-1;h>=0;--h){var f=vee(n,u.boxIndex,c[h]);if(f!==0&&(u.score*=l(f),u.score<=i))break}d===u.score&&c.push(u.boxIndex)}}),c}function vee(n,e,t){var r=n.arraySync(),i=Math.min(r[e][0],r[e][2]),o=Math.min(r[e][1],r[e][3]),a=Math.max(r[e][0],r[e][2]),s=Math.max(r[e][1],r[e][3]),l=Math.min(r[t][0],r[t][2]),c=Math.min(r[t][1],r[t][3]),u=Math.max(r[t][0],r[t][2]),d=Math.max(r[t][1],r[t][3]),h=(a-i)*(s-o),f=(u-l)*(d-c);if(h<=0||f<=0)return 0;var p=Math.max(i,l),m=Math.max(o,c),b=Math.min(a,u),g=Math.min(s,d),v=Math.max(b-p,0)*Math.max(g-m,0);return v/(h+f-v)}function xee(n){var e=Qt(ka(n,[1,0])),t=[rn(e[2],e[0]),rn(e[3],e[1])],r=[Qe(e[0],li(t[0],ve(2))),Qe(e[1],li(t[1],ve(2)))];return{sizes:t,centers:r}}function yee(n,e){var t=xee(n),r=t.sizes,i=t.centers,o=Qt(ka(e,[1,0])),a=li(jn(Sv(li(o[2],ve(5))),r[0]),ve(2)),s=Qe(jn(li(o[0],ve(10)),r[0]),i[0]),l=li(jn(Sv(li(o[3],ve(5))),r[1]),ve(2)),c=Qe(jn(li(o[1],ve(10)),r[1]),i[1]);return ka(Ar([rn(s,a),rn(c,l),Qe(s,a),Qe(c,l)]),[1,0])}function wee(n,e,t){return ke(function(){var r=n.shape[0],i=yee(di(Ul(t.extra_dim,[r,1,1]),[-1,4]),di(n,[-1,4]));i=di(i,[r,i.shape[0]/r,4]);var o=hT(Hi(e,[0,0,1],[-1,-1,-1])),a=Hi(o,[0,0,0],[-1,-1,1]);a=di(a,[r,a.shape[1]]);var s=Qt(i),l=Qt(a);return{boxes:s,scores:l}})}function nl(n,e){return ke(function(){var t=n.shape[0],r=di(mi(n,e.box_encoding_predictor),[t,-1,1,4]),i=di(mi(n,e.class_predictor),[t,-1,3]);return{boxPredictionEncoding:r,classPrediction:i}})}function kee(n,e,t){return ke(function(){var r=Si(n,t.conv_0,[1,1]),i=Si(r,t.conv_1,[2,2]),o=Si(i,t.conv_2,[1,1]),a=Si(o,t.conv_3,[2,2]),s=Si(a,t.conv_4,[1,1]),l=Si(s,t.conv_5,[2,2]),c=Si(l,t.conv_6,[1,1]),u=Si(c,t.conv_7,[2,2]),d=nl(e,t.box_predictor_0),h=nl(n,t.box_predictor_1),f=nl(i,t.box_predictor_2),p=nl(a,t.box_predictor_3),m=nl(l,t.box_predictor_4),b=nl(u,t.box_predictor_5),g=Jt([d.boxPredictionEncoding,h.boxPredictionEncoding,f.boxPredictionEncoding,p.boxPredictionEncoding,m.boxPredictionEncoding,b.boxPredictionEncoding],1),v=Jt([d.classPrediction,h.classPrediction,f.classPrediction,p.classPrediction,m.classPrediction,b.classPrediction],1);return{boxPredictions:g,classPredictions:v}})}var Um=function(){function n(e){var t=e===void 0?{}:e,r=t.minConfidence,i=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=i||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(n.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),n}(),_A=function(n){Fe(e,n);function e(){return n.call(this,"SsdMobilenetv1")||this}return e.prototype.forwardInput=function(t){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return ke(function(){var i=t.toBatchTensor(512,!1).toFloat(),o=rn(jn(i,ve(.007843137718737125)),ve(1)),a=gee(o,r.mobilenetv1),s=kee(a.out,a.conv11,r.prediction_layer),l=s.boxPredictions,c=s.classPredictions;return wee(l,c,r.output_layer)})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,gn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.locateFaces=function(t,r){return r===void 0&&(r={}),Re(this,void 0,void 0,function(){var i,o,a,s,l,c,u,d,h,f,p,m,b,g,v,x,y,w,k,_,T;return De(this,function(E){switch(E.label){case 0:return i=new Um(r),o=i.maxResults,a=i.minConfidence,[4,gn(t)];case 1:for(s=E.sent(),l=this.forwardInput(s),c=l.boxes,u=l.scores,d=c[0],h=u[0],f=1;f<c.length;f++)c[f].dispose(),u[f].dispose();return b=(m=Array).from,[4,h.data()];case 2:return p=b.apply(m,[E.sent()]),g=.5,v=bee(d,p,o,g,a),x=s.getReshapedInputDimensions(0),y=s.inputSize,w=y/x.width,k=y/x.height,_=d.arraySync(),T=v.map(function(A){var M=[Math.max(0,_[A][0]),Math.min(1,_[A][2])].map(function(z){return z*k}),I=M[0],L=M[1],S=[Math.max(0,_[A][1]),Math.min(1,_[A][3])].map(function(z){return z*w}),O=S[0],P=S[1];return new Xi(p[A],new C1(O,I,P-O,L-I),{height:s.getInputHeight(0),width:s.getInputWidth(0)})}),d.dispose(),h.dispose(),[2,T]}})})},e.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},e.prototype.extractParamsFromWeigthMap=function(t){return hee(t)},e.prototype.extractParams=function(t){return uee(t)},e}(Oo);(function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(_A);var _ee=.4,Cee=[new lt(.738768,.874946),new lt(2.42204,2.65704),new lt(4.30971,7.04493),new lt(10.246,4.59428),new lt(12.6868,11.8741)],Eee=[new lt(1.603231,2.094468),new lt(6.041143,7.080126),new lt(2.882459,3.518061),new lt(4.266906,5.178857),new lt(9.041765,10.66308)],See=[117.001,114.697,97.404],Tee="tiny_yolov2_model",Aee="tiny_yolov2_separable_conv_model",Mh=function(n){return typeof n=="number"};function Iee(n){if(!n)throw new Error("invalid config: "+n);if(typeof n.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+n.withSeparableConvs);if(!Mh(n.iouThreshold)||n.iouThreshold<0||n.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+n.iouThreshold);if(!Array.isArray(n.classes)||!n.classes.length||!n.classes.every(function(e){return typeof e=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(n.classes));if(!Array.isArray(n.anchors)||!n.anchors.length||!n.anchors.map(function(e){return e||{}}).every(function(e){return Mh(e.x)&&Mh(e.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(n.anchors));if(n.meanRgb&&(!Array.isArray(n.meanRgb)||n.meanRgb.length!==3||!n.meanRgb.every(Mh)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(n.meanRgb))}function B1(n){return ke(function(){var e=jn(n,ve(.10000000149011612));return Qe(Dt(rn(n,e)),e)})}function jo(n,e){return ke(function(){var t=Ns(n,[[0,0],[1,1],[1,1],[0,0]]);return t=ei(t,e.conv.filters,[1,1],"valid"),t=rn(t,e.bn.sub),t=jn(t,e.bn.truediv),t=Qe(t,e.conv.bias),B1(t)})}function No(n,e){return ke(function(){var t=Ns(n,[[0,0],[1,1],[1,1],[0,0]]);return t=d1(t,e.depthwise_filter,e.pointwise_filter,[1,1],"valid"),t=Qe(t,e.bias),B1(t)})}function Ree(n,e){var t=$m(n,e);function r(a,s){var l=Vt(n(a)),c=Vt(n(a));return e.push({paramPath:s+"/sub"},{paramPath:s+"/truediv"}),{sub:l,truediv:c}}function i(a,s,l){var c=t(a,s,3,l+"/conv"),u=r(s,l+"/bn");return{conv:c,bn:u}}var o=D1(n,e);return{extractConvParams:t,extractConvWithBatchNormParams:i,extractSeparableConvParams:o}}function Dee(n,e,t,r){var i=Po(n),o=i.extractWeights,a=i.getRemainingWeights,s=[],l=Ree(o,s),c=l.extractConvParams,u=l.extractConvWithBatchNormParams,d=l.extractSeparableConvParams,h;if(e.withSeparableConvs){var f=r[0],p=r[1],m=r[2],b=r[3],g=r[4],v=r[5],x=r[6],y=r[7],w=r[8],k=e.isFirstLayerConv2d?c(f,p,3,"conv0"):d(f,p,"conv0"),_=d(p,m,"conv1"),T=d(m,b,"conv2"),E=d(b,g,"conv3"),A=d(g,v,"conv4"),M=d(v,x,"conv5"),I=y?d(x,y,"conv6"):void 0,L=w?d(y,w,"conv7"):void 0,S=c(w||y||x,5*t,1,"conv8");h={conv0:k,conv1:_,conv2:T,conv3:E,conv4:A,conv5:M,conv6:I,conv7:L,conv8:S}}else{var f=r[0],p=r[1],m=r[2],b=r[3],g=r[4],v=r[5],x=r[6],y=r[7],w=r[8],k=u(f,p,"conv0"),_=u(p,m,"conv1"),T=u(m,b,"conv2"),E=u(b,g,"conv3"),A=u(g,v,"conv4"),M=u(v,x,"conv5"),I=u(x,y,"conv6"),L=u(y,w,"conv7"),S=c(w,5*t,1,"conv8");h={conv0:k,conv1:_,conv2:T,conv3:E,conv4:A,conv5:M,conv6:I,conv7:L,conv8:S}}if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{params:h,paramMappings:s}}function Oee(n,e){var t=Ra(n,e);function r(s){var l=t(s+"/sub",1),c=t(s+"/truediv",1);return{sub:l,truediv:c}}function i(s){var l=t(s+"/filters",4),c=t(s+"/bias",1);return{filters:l,bias:c}}function o(s){var l=i(s+"/conv"),c=r(s+"/bn");return{conv:l,bn:c}}var a=O1(t);return{extractConvParams:i,extractConvWithBatchNormParams:o,extractSeparableConvParams:a}}function Mee(n,e){var t=[],r=Oee(n,t),i=r.extractConvParams,o=r.extractConvWithBatchNormParams,a=r.extractSeparableConvParams,s;if(e.withSeparableConvs){var l=e.filterSizes&&e.filterSizes.length||9;s={conv0:e.isFirstLayerConv2d?i("conv0"):a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:l>7?a("conv6"):void 0,conv7:l>8?a("conv7"):void 0,conv8:i("conv8")}}else s={conv0:o("conv0"),conv1:o("conv1"),conv2:o("conv2"),conv3:o("conv3"),conv4:o("conv4"),conv5:o("conv5"),conv6:o("conv6"),conv7:o("conv7"),conv8:i("conv8")};return Mo(n,t),{params:s,paramMappings:t}}var kC;(function(n){n[n.XS=224]="XS",n[n.SM=320]="SM",n[n.MD=416]="MD",n[n.LG=608]="LG"})(kC||(kC={}));var z1=function(){function n(e){var t=e===void 0?{}:e,r=t.inputSize,i=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=i||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(n.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),n}(),CA=function(n){Fe(e,n);function e(t){var r=n.call(this,"TinyYolov2")||this;return Iee(t),r._config=t,r}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),e.prototype.runTinyYolov2=function(t,r){var i=jo(t,r.conv0);return i=ln(i,[2,2],[2,2],"same"),i=jo(i,r.conv1),i=ln(i,[2,2],[2,2],"same"),i=jo(i,r.conv2),i=ln(i,[2,2],[2,2],"same"),i=jo(i,r.conv3),i=ln(i,[2,2],[2,2],"same"),i=jo(i,r.conv4),i=ln(i,[2,2],[2,2],"same"),i=jo(i,r.conv5),i=ln(i,[2,2],[1,1],"same"),i=jo(i,r.conv6),i=jo(i,r.conv7),mi(i,r.conv8,"valid",!1)},e.prototype.runMobilenet=function(t,r){var i=this.config.isFirstLayerConv2d?B1(mi(t,r.conv0,"valid",!1)):No(t,r.conv0);return i=ln(i,[2,2],[2,2],"same"),i=No(i,r.conv1),i=ln(i,[2,2],[2,2],"same"),i=No(i,r.conv2),i=ln(i,[2,2],[2,2],"same"),i=No(i,r.conv3),i=ln(i,[2,2],[2,2],"same"),i=No(i,r.conv4),i=ln(i,[2,2],[2,2],"same"),i=No(i,r.conv5),i=ln(i,[2,2],[1,1],"same"),i=r.conv6?No(i,r.conv6):i,i=r.conv7?No(i,r.conv7):i,mi(i,r.conv8,"valid",!1)},e.prototype.forwardInput=function(t,r){var i=this,o=this.params;if(!o)throw new Error("TinyYolov2 - load model before inference");return ke(function(){var a=t.toBatchTensor(r,!1).toFloat();return a=i.config.meanRgb?Nd(a,i.config.meanRgb):a,a=a.div(ve(256)),i.config.withSeparableConvs?i.runMobilenet(a,o):i.runTinyYolov2(a,o)})},e.prototype.forward=function(t,r){return Re(this,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return i=this.forwardInput,[4,gn(t)];case 1:return[4,i.apply(this,[o.sent(),r])];case 2:return[2,o.sent()]}})})},e.prototype.detect=function(t,r){return r===void 0&&(r={}),Re(this,void 0,void 0,function(){var i,o,a,s,l,c,u,d,h,f,p,m,b,g,v=this;return De(this,function(x){switch(x.label){case 0:return i=new z1(r),o=i.inputSize,a=i.scoreThreshold,[4,gn(t)];case 1:return s=x.sent(),[4,this.forwardInput(s,o)];case 2:return l=x.sent(),c=ke(function(){return Qt(l)[0].expandDims()}),u={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(c,s.getReshapedInputDimensions(0),a)];case 3:return d=x.sent(),l.dispose(),c.dispose(),h=d.map(function(y){return y.box}),f=d.map(function(y){return y.score}),p=d.map(function(y){return y.classScore}),m=d.map(function(y){return v.config.classes[y.label]}),b=id(h.map(function(y){return y.rescale(o)}),f,this.config.iouThreshold,!0),g=b.map(function(y){return new XT(f[y],p[y],m[y],h[y],u)}),[2,g]}})})},e.prototype.getDefaultModelName=function(){return""},e.prototype.extractParamsFromWeigthMap=function(t){return Mee(t,this.config)},e.prototype.extractParams=function(t){var r=this.config.filterSizes||e.DEFAULT_FILTER_SIZES,i=r?r.length:void 0;if(i!==7&&i!==8&&i!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+i+" filterSizes in config");return Dee(t,this.config,this.boxEncodingSize,r)},e.prototype.extractBoxes=function(t,r,i){return Re(this,void 0,void 0,function(){var o,a,s,l,c,u,d,h,f,p,m,b,g,v,x,y,w,k,_,T,E,A,M,I,L,S,O,P,z,N=this;return De(this,function(B){switch(B.label){case 0:return o=r.width,a=r.height,s=Math.max(o,a),l=s/o,c=s/a,u=t.shape[1],d=this.config.anchors.length,h=ke(function(){var U=t.reshape([u,u,d,N.boxEncodingSize]),$=U.slice([0,0,0,0],[u,u,d,4]),F=U.slice([0,0,0,4],[u,u,d,1]),ee=N.withClassScores?Ro(U.slice([0,0,0,5],[u,u,d,N.config.classes.length]),3):ve(0);return[$,F,ee]}),f=h[0],p=h[1],m=h[2],b=[],[4,p.array()];case 1:return g=B.sent(),[4,f.array()];case 2:v=B.sent(),x=0,B.label=3;case 3:if(!(x<u))return[3,12];y=0,B.label=4;case 4:if(!(y<u))return[3,11];w=0,B.label=5;case 5:return w<d?(k=R0(g[x][y][w][0]),!i||k>i?(_=(y+R0(v[x][y][w][0]))/u*l,T=(x+R0(v[x][y][w][1]))/u*c,E=Math.exp(v[x][y][w][2])*this.config.anchors[w].x/u*l,A=Math.exp(v[x][y][w][3])*this.config.anchors[w].y/u*c,M=_-E/2,I=T-A/2,L={row:x,col:y,anchor:w},this.withClassScores?[4,this.extractPredictedClass(m,L)]:[3,7]):[3,9]):[3,10];case 6:return z=B.sent(),[3,8];case 7:z={classScore:1,label:0},B.label=8;case 8:S=z,O=S.classScore,P=S.label,b.push(Dn({box:new Nm(M,I,M+E,I+A),score:k,classScore:k*O,label:P},L)),B.label=9;case 9:return w++,[3,5];case 10:return y++,[3,4];case 11:return x++,[3,3];case 12:return f.dispose(),p.dispose(),m.dispose(),[2,b]}})})},e.prototype.extractPredictedClass=function(t,r){return Re(this,void 0,void 0,function(){var i,o,a,s;return De(this,function(l){switch(l.label){case 0:return i=r.row,o=r.col,a=r.anchor,[4,t.array()];case 1:return s=l.sent(),[2,Array(this.config.classes.length).fill(0).map(function(c,u){return s[i][o][a][u]}).map(function(c,u){return{classScore:c,label:u}}).reduce(function(c,u){return c.classScore>u.classScore?c:u})]}})})},e.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],e}(Oo),Pee=function(n){Fe(e,n);function e(t){t===void 0&&(t=!0);var r=this,i=Object.assign({},{withSeparableConvs:t,iouThreshold:_ee,classes:["face"]},t?{anchors:Eee,meanRgb:See}:{anchors:Cee,withClassScores:!0});return r=n.call(this,i)||this,r}return Object.defineProperty(e.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(t,r){return Re(this,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return[4,this.detect(t,r)];case 1:return i=o.sent(),[2,i.map(function(a){return new Xi(a.score,a.relativeBox,{width:a.imageWidth,height:a.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return this.withSeparableConvs?Aee:Tee},e.prototype.extractParamsFromWeigthMap=function(t){return n.prototype.extractParamsFromWeigthMap.call(this,t)},e}(CA),EA=function(n){Fe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return e}(z1),Fd=function(){function n(){}return n.prototype.then=function(e){return Re(this,void 0,void 0,function(){var t;return De(this,function(r){switch(r.label){case 0:return t=e,[4,this.run()];case 1:return[2,t.apply(void 0,[r.sent()])]}})})},n.prototype.run=function(){return Re(this,void 0,void 0,function(){return De(this,function(e){throw new Error("ComposableTask - run is not implemented")})})},n}();function Hm(n,e,t,r,i){return i===void 0&&(i=function(o){var a=o.alignedRect;return a}),Re(this,void 0,void 0,function(){var o,a,s,l,c;return De(this,function(u){switch(u.label){case 0:return o=n.map(function(d){return UQ(d)?i(d):d.detection}),s=r,s?[3,5]:e instanceof At?[4,I1(e,o)]:[3,2];case 1:return l=u.sent(),[3,4];case 2:return[4,A1(e,o)];case 3:l=u.sent(),u.label=4;case 4:s=l,u.label=5;case 5:return a=s,[4,t(a)];case 6:return c=u.sent(),a.forEach(function(d){return d instanceof At&&d.dispose()}),[2,c]}})})}function L1(n,e,t,r,i){return Re(this,void 0,void 0,function(){var o=this;return De(this,function(a){return[2,Hm([n],e,function(s){return Re(o,void 0,void 0,function(){return De(this,function(l){return[2,t(s[0])]})})},r,i)]})})}function Bee(n){return ke(function(){return Ar(Qt(n,3).reverse(),3)})}var Ph=2,kp=12;function zee(n,e){var t=$m(n,e),r=R1(n,e);function i(c,u){var d=Vt(n(c));return e.push({paramPath:u}),d}function o(c,u,d){d===void 0&&(d=!1);var h=t(c[0],c[1],3,u+"/conv1"),f=i(c[1],u+"/prelu1_alpha"),p=t(c[1],c[2],3,u+"/conv2"),m=i(c[2],u+"/prelu2_alpha"),b=t(c[2],c[3],d?2:3,u+"/conv3"),g=i(c[3],u+"/prelu3_alpha");return{conv1:h,prelu1_alpha:f,conv2:p,prelu2_alpha:m,conv3:b,prelu3_alpha:g}}function a(){var c=o([3,10,16,32],"pnet"),u=t(32,2,1,"pnet/conv4_1"),d=t(32,4,1,"pnet/conv4_2");return Dn(Dn({},c),{conv4_1:u,conv4_2:d})}function s(){var c=o([3,28,48,64],"rnet",!0),u=r(576,128,"rnet/fc1"),d=i(128,"rnet/prelu4_alpha"),h=r(128,2,"rnet/fc2_1"),f=r(128,4,"rnet/fc2_2");return Dn(Dn({},c),{fc1:u,prelu4_alpha:d,fc2_1:h,fc2_2:f})}function l(){var c=o([3,32,64,64],"onet"),u=t(64,128,2,"onet/conv4"),d=i(128,"onet/prelu4_alpha"),h=r(1152,256,"onet/fc1"),f=i(256,"onet/prelu5_alpha"),p=r(256,2,"onet/fc2_1"),m=r(256,4,"onet/fc2_2"),b=r(256,10,"onet/fc2_3");return Dn(Dn({},c),{conv4:u,prelu4_alpha:d,fc1:h,prelu5_alpha:f,fc2_1:p,fc2_2:m,fc2_3:b})}return{extractPNetParams:a,extractRNetParams:s,extractONetParams:l}}function Lee(n){var e=Po(n),t=e.extractWeights,r=e.getRemainingWeights,i=[],o=zee(t,i),a=o.extractPNetParams,s=o.extractRNetParams,l=o.extractONetParams,c=a(),u=s(),d=l();if(r().length!==0)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:c,rnet:u,onet:d},paramMappings:i}}function jee(n,e){var t=Ra(n,e);function r(u){var d=t(u+"/weights",4,u+"/filters"),h=t(u+"/bias",1);return{filters:d,bias:h}}function i(u){var d=t(u+"/weights",2),h=t(u+"/bias",1);return{weights:d,bias:h}}function o(u){return t(u,1)}function a(u){var d=r(u+"/conv1"),h=o(u+"/prelu1_alpha"),f=r(u+"/conv2"),p=o(u+"/prelu2_alpha"),m=r(u+"/conv3"),b=o(u+"/prelu3_alpha");return{conv1:d,prelu1_alpha:h,conv2:f,prelu2_alpha:p,conv3:m,prelu3_alpha:b}}function s(){var u=a("pnet"),d=r("pnet/conv4_1"),h=r("pnet/conv4_2");return Dn(Dn({},u),{conv4_1:d,conv4_2:h})}function l(){var u=a("rnet"),d=i("rnet/fc1"),h=o("rnet/prelu4_alpha"),f=i("rnet/fc2_1"),p=i("rnet/fc2_2");return Dn(Dn({},u),{fc1:d,prelu4_alpha:h,fc2_1:f,fc2_2:p})}function c(){var u=a("onet"),d=r("onet/conv4"),h=o("onet/prelu4_alpha"),f=i("onet/fc1"),p=o("onet/prelu5_alpha"),m=i("onet/fc2_1"),b=i("onet/fc2_2"),g=i("onet/fc2_3");return Dn(Dn({},u),{conv4:d,prelu4_alpha:h,fc1:f,prelu5_alpha:p,fc2_1:m,fc2_2:b,fc2_3:g})}return{extractPNetParams:s,extractRNetParams:l,extractONetParams:c}}function Nee(n){var e=[],t=jee(n,e),r=t.extractPNetParams,i=t.extractRNetParams,o=t.extractONetParams,a=r(),s=i(),l=o();return Mo(n,e),{params:{pnet:a,rnet:s,onet:l},paramMappings:e}}function Pv(n,e){var t=e[0],r=e[1];return{height:Math.floor(t*n),width:Math.floor(r*n)}}function Fee(n,e,t){for(var r=t[0],i=t[1],o=kp/n,a=[],s=Math.min(r,i)*o,l=0;s>=12;)a.push(o*Math.pow(e,l)),s=s*e,l+=1;return a}var j1=function(n){Fe(e,n);function e(t,r,i,o){return n.call(this,{left:t,top:r,right:i,bottom:o},!0)||this}return e}(_a);function SA(n){return ke(function(){return jn(rn(n,ve(127.5)),ve(.0078125))})}function Kl(n,e){return ke(function(){return Qe(Dt(n),jn(e,mp(Dt(mp(n)))))})}function N1(n,e,t){return t===void 0&&(t=!1),ke(function(){var r=mi(n,e.conv1,"valid");return r=Kl(r,e.prelu1_alpha),r=ln(r,t?[2,2]:[3,3],[2,2],"same"),r=mi(r,e.conv2,"valid"),r=Kl(r,e.prelu2_alpha),r=t?r:ln(r,[3,3],[2,2],"valid"),r=mi(r,e.conv3,"valid"),r=Kl(r,e.prelu3_alpha),r})}function $ee(n,e){return ke(function(){var t=N1(n,e,!0),r=mi(t,e.conv4_1,"valid"),i=Fr(Bm(r,3),3),o=Ro(rn(r,i),3),a=mi(t,e.conv4_2,"valid");return{prob:o,regions:a}})}function Uee(n,e){return ke(function(){var t=Pv(e,n.shape.slice(1)),r=t.height,i=t.width,o=g1.resizeBilinear(n,[r,i]),a=SA(o);return ka(a,[0,2,1,3])})}function Hee(n,e,t,r){for(var i=[],o=n.arraySync(),a=0;a<n.shape[0];a++)for(var s=0;s<n.shape[1];s++)o[a][s]>=r&&i.push(new lt(s,a));var l=i.map(function(c){var u=new Nm(Math.round((c.y*Ph+1)/t),Math.round((c.x*Ph+1)/t),Math.round((c.y*Ph+kp)/t),Math.round((c.x*Ph+kp)/t)),d=o[c.y][c.x],h=e.arraySync(),f=new j1(h[c.y][c.x][0],h[c.y][c.x][1],h[c.y][c.x][2],h[c.y][c.x][3]);return{cell:u,score:d,region:f}});return l}function Wee(n,e,t,r,i){i.stage1=[];var o=e.map(function(h){return ke(function(){var f={scale:h},p=Uee(n,h),m=Date.now(),b=$ee(p,r),g=b.prob,v=b.regions;f.pnet=Date.now()-m;var x=Qt(Qt(g,3)[1])[0],y=Qt(v)[0];return{scoresTensor:x,regionsTensor:y,scale:h,statsForScale:f}})}),a=o.map(function(h){var f=h.scoresTensor,p=h.regionsTensor,m=h.scale,b=h.statsForScale,g=Hee(f,p,m,t);if(f.dispose(),p.dispose(),!g.length)return i.stage1.push(b),[];var v=Date.now(),x=id(g.map(function(y){return y.cell}),g.map(function(y){return y.score}),.5);return b.nms=Date.now()-v,b.numBoxes=x.length,i.stage1.push(b),x.map(function(y){return g[y]})}),s=a.reduce(function(h,f){return h.concat(f)},[]),l=[],c=[];if(s.length>0){var u=Date.now(),d=id(s.map(function(h){return h.cell}),s.map(function(h){return h.score}),.7);i.stage1_nms=Date.now()-u,c=d.map(function(h){return s[h].score}),l=d.map(function(h){return s[h]}).map(function(h){var f=h.cell,p=h.region;return new Nm(f.left+p.left*f.width,f.top+p.top*f.height,f.right+p.right*f.width,f.bottom+p.bottom*f.height).toSquare().round()})}return{boxes:l,scores:c}}function TA(n,e,t){var r=t.width,i=t.height;return Re(this,void 0,void 0,function(){var o,a,s,l=this;return De(this,function(c){switch(c.label){case 0:return o=Cs(n),[4,Promise.all(e.map(function(u){return Re(l,void 0,void 0,function(){var d,h,f,p,m,b,g,v;return De(this,function(x){return d=u.padAtBorders(n.height,n.width),h=d.y,f=d.ey,p=d.x,m=d.ex,b=p-1,g=h-1,v=o.getImageData(b,g,m-b,f-g),[2,$n.isNodejs()?T1(v):createImageBitmap(v)]})})}))];case 1:return a=c.sent(),s=[],a.forEach(function(u){var d=Fm({width:r,height:i}),h=Cs(d);h.drawImage(u,0,0,r,i);for(var f=h.getImageData(0,0,r,i).data,p=[],m=0;m<f.length;m+=4)p.push(f[m+2]),p.push(f[m+1]),p.push(f[m]);s.push(p)}),[2,s.map(function(u){var d=ke(function(){var h=ka(er(u,[1,r,i,3]),[0,2,1,3]).toFloat();return SA(h)});return d})]}})})}function Vee(n,e){return ke(function(){var t=N1(n,e),r=di(t,[t.shape[0],e.fc1.weights.shape[0]]),i=Mi(r,e.fc1),o=Kl(i,e.prelu4_alpha),a=Mi(o,e.fc2_1),s=Fr(Bm(a,1),1),l=Ro(rn(a,s),1),c=Mi(o,e.fc2_2),u=Qt(l,1)[1];return{scores:u,regions:c}})}function qee(n,e,t,r,i){return Re(this,void 0,void 0,function(){var o,a,s,l,c,u,d,h,f,p,m,b,g,v;return De(this,function(x){switch(x.label){case 0:return o=Date.now(),[4,TA(n,e,{width:24,height:24})];case 1:return a=x.sent(),i.stage2_extractImagePatches=Date.now()-o,o=Date.now(),s=a.map(function(y){var w=Vee(y,r);return y.dispose(),w}),i.stage2_rnet=Date.now()-o,l=s.length>1?Jt(s.map(function(y){return y.scores})):s[0].scores,d=(u=Array).from,[4,l.data()];case 2:return c=d.apply(u,[x.sent()]),l.dispose(),h=c.map(function(y,w){return{score:y,idx:w}}).filter(function(y){return y.score>t}).map(function(y){var w=y.idx;return w}),f=h.map(function(y){return e[y]}),p=h.map(function(y){return c[y]}),m=[],b=[],f.length>0&&(o=Date.now(),g=id(f,p,.7),i.stage2_nms=Date.now()-o,v=g.map(function(y){var w=s[h[y]].regions.arraySync();return new j1(w[0][0],w[0][1],w[0][2],w[0][3])}),b=g.map(function(y){return p[y]}),m=g.map(function(y,w){return f[y].calibrate(v[w])})),s.forEach(function(y){y.regions.dispose(),y.scores.dispose()}),[2,{boxes:m,scores:b}]}})})}function Gee(n,e){return ke(function(){var t=N1(n,e);t=ln(t,[2,2],[2,2],"same"),t=mi(t,e.conv4,"valid"),t=Kl(t,e.prelu4_alpha);var r=di(t,[t.shape[0],e.fc1.weights.shape[0]]),i=Mi(r,e.fc1),o=Kl(i,e.prelu5_alpha),a=Mi(o,e.fc2_1),s=Fr(Bm(a,1),1),l=Ro(rn(a,s),1),c=Mi(o,e.fc2_2),u=Mi(o,e.fc2_3),d=Qt(l,1)[1];return{scores:d,regions:c,points:u}})}function Kee(n,e,t,r,i){return Re(this,void 0,void 0,function(){var o,a,s,l,c,u,d,h,f,p,m,b,g,v,x;return De(this,function(y){switch(y.label){case 0:return o=Date.now(),[4,TA(n,e,{width:48,height:48})];case 1:return a=y.sent(),i.stage3_extractImagePatches=Date.now()-o,o=Date.now(),s=a.map(function(w){var k=Gee(w,r);return w.dispose(),k}),i.stage3_onet=Date.now()-o,l=s.length>1?Jt(s.map(function(w){return w.scores})):s[0].scores,d=(u=Array).from,[4,l.data()];case 2:return c=d.apply(u,[y.sent()]),l.dispose(),h=c.map(function(w,k){return{score:w,idx:k}}).filter(function(w){return w.score>t}).map(function(w){var k=w.idx;return k}),f=h.map(function(w){var k=s[w].regions.arraySync();return new j1(k[0][0],k[0][1],k[0][2],k[0][3])}),p=h.map(function(w,k){return e[w].calibrate(f[k])}),m=h.map(function(w){return c[w]}),b=[],g=[],v=[],p.length>0&&(o=Date.now(),x=id(p,m,.7,!1),i.stage3_nms=Date.now()-o,b=x.map(function(w){return p[w]}),g=x.map(function(w){return m[w]}),v=x.map(function(w,k){return Array(5).fill(0).map(function(_,T){var E=s[w].points.arraySync();return new lt(E[0][T]*(b[k].width+1)+b[k].left,E[0][T+5]*(b[k].height+1)+b[k].top)})})),s.forEach(function(w){w.regions.dispose(),w.scores.dispose(),w.points.dispose()}),[2,{boxes:b,scores:g,points:v}]}})})}var Yee=function(n){Fe(e,n);function e(){return n.call(this,"Mtcnn")||this}return e.prototype.load=function(t){return Re(this,void 0,void 0,function(){return De(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,n.prototype.load.call(this,t)]})})},e.prototype.loadFromDisk=function(t){return Re(this,void 0,void 0,function(){return De(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,n.prototype.loadFromDisk.call(this,t)]})})},e.prototype.forwardInput=function(t,r){return r===void 0&&(r={}),Re(this,void 0,void 0,function(){var i,o,a,s,l,c,u,d,h,f,p,m,b,g,v,x,y,w,k,_,T;return De(this,function(E){switch(E.label){case 0:if(i=this.params,!i)throw new Error("Mtcnn - load model before inference");if(o=t.canvases[0],!o)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return a={},s=Date.now(),l=ke(function(){return Bee(Fr(k1.fromPixels(o)).toFloat())}),c=function(A){return l.dispose(),a.total=Date.now()-s,A},u=l.shape.slice(1),d=u[0],h=u[1],f=new kA(r),p=f.minFaceSize,m=f.scaleFactor,b=f.maxNumScales,g=f.scoreThresholds,v=f.scaleSteps,x=(v||Fee(p,m,[d,h])).filter(function(A){var M=Pv(A,[d,h]);return Math.min(M.width,M.height)>kp}).slice(0,b),a.scales=x,a.pyramid=x.map(function(A){return Pv(A,[d,h])}),y=Date.now(),[4,Wee(l,x,g[0],i.pnet,a)];case 1:return w=E.sent(),a.total_stage1=Date.now()-y,w.boxes.length?(a.stage2_numInputBoxes=w.boxes.length,y=Date.now(),[4,qee(o,w.boxes,g[1],i.rnet,a)]):[2,c({results:[],stats:a})];case 2:return k=E.sent(),a.total_stage2=Date.now()-y,k.boxes.length?(a.stage3_numInputBoxes=k.boxes.length,y=Date.now(),[4,Kee(o,k.boxes,g[2],i.onet,a)]):[2,c({results:[],stats:a})];case 3:return _=E.sent(),a.total_stage3=Date.now()-y,T=_.boxes.map(function(A,M){return M1(E1({},new Xi(_.scores[M],new C1(A.left/h,A.top/d,A.width/h,A.height/d),{height:d,width:h})),new EQ(_.points[M].map(function(I){return I.sub(new lt(A.left,A.top)).div(new lt(A.width,A.height))}),{width:A.width,height:A.height}))}),[2,c({results:T,stats:a})]}})})},e.prototype.forward=function(t,r){return r===void 0&&(r={}),Re(this,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return i=this.forwardInput,[4,gn(t)];case 1:return[4,i.apply(this,[o.sent(),r])];case 2:return[2,o.sent().results]}})})},e.prototype.forwardWithStats=function(t,r){return r===void 0&&(r={}),Re(this,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return i=this.forwardInput,[4,gn(t)];case 1:return[2,i.apply(this,[o.sent(),r])]}})})},e.prototype.getDefaultModelName=function(){return"mtcnn_model"},e.prototype.extractParamsFromWeigthMap=function(t){return Nee(t)},e.prototype.extractParams=function(t){return Lee(t)},e}(Oo),Xee=.4,Zee=[new lt(1.603231,2.094468),new lt(6.041143,7.080126),new lt(2.882459,3.518061),new lt(4.266906,5.178857),new lt(9.041765,10.66308)],Jee=[117.001,114.697,97.404],Qee=function(n){Fe(e,n);function e(){var t=this,r={withSeparableConvs:!0,iouThreshold:Xee,classes:["face"],anchors:Zee,meanRgb:Jee,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return t=n.call(this,r)||this,t}return Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(t,r){return Re(this,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return[4,this.detect(t,r)];case 1:return i=o.sent(),[2,i.map(function(a){return new Xi(a.score,a.relativeBox,{width:a.imageWidth,height:a.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},e.prototype.extractParamsFromWeigthMap=function(t){return n.prototype.extractParamsFromWeigthMap.call(this,t)},e}(CA),Gn={ssdMobilenetv1:new _A,tinyFaceDetector:new Qee,tinyYolov2:new Pee,mtcnn:new Yee,faceLandmark68Net:new gA,faceLandmark68TinyNet:new tee,faceRecognitionNet:new lee,faceExpressionNet:new $Q,ageGenderNet:new ZQ},AA=function(n){Fe(e,n);function e(t,r,i){var o=n.call(this)||this;return o.parentTask=t,o.input=r,o.extractedFaces=i,o}return e}(Fd),F1=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r,i=this;return De(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return t=o.sent(),[4,Hm(t,this.input,function(a){return Re(i,void 0,void 0,function(){return De(this,function(s){switch(s.label){case 0:return[4,Promise.all(a.map(function(l){return Gn.faceExpressionNet.predictExpressions(l)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=o.sent(),[2,t.map(function(a,s){return fA(a,r[s])})]}})})},e.prototype.withAgeAndGender=function(){return new W1(this,this.input)},e}(AA),$1=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r;return De(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return t=i.sent(),t?[4,L1(t,this.input,function(o){return Gn.faceExpressionNet.predictExpressions(o)},this.extractedFaces)]:[2];case 2:return r=i.sent(),[2,fA(t,r)]}})})},e.prototype.withAgeAndGender=function(){return new V1(this,this.input)},e}(AA),U1=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.withAgeAndGender=function(){return new q1(this,this.input)},e.prototype.withFaceDescriptors=function(){return new K1(this,this.input)},e}(F1),H1=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.withAgeAndGender=function(){return new G1(this,this.input)},e.prototype.withFaceDescriptor=function(){return new Y1(this,this.input)},e}($1),IA=function(n){Fe(e,n);function e(t,r,i){var o=n.call(this)||this;return o.parentTask=t,o.input=r,o.extractedFaces=i,o}return e}(Fd),W1=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r,i=this;return De(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return t=o.sent(),[4,Hm(t,this.input,function(a){return Re(i,void 0,void 0,function(){return De(this,function(s){switch(s.label){case 0:return[4,Promise.all(a.map(function(l){return Gn.ageGenderNet.predictAgeAndGender(l)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=o.sent(),[2,t.map(function(a,s){var l=r[s],c=l.age,u=l.gender,d=l.genderProbability;return yA(wA(a,u,d),c)})]}})})},e.prototype.withFaceExpressions=function(){return new F1(this,this.input)},e}(IA),V1=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r,i,o,a;return De(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return t=s.sent(),t?[4,L1(t,this.input,function(l){return Gn.ageGenderNet.predictAgeAndGender(l)},this.extractedFaces)]:[2];case 2:return r=s.sent(),i=r.age,o=r.gender,a=r.genderProbability,[2,yA(wA(t,o,a),i)]}})})},e.prototype.withFaceExpressions=function(){return new $1(this,this.input)},e}(IA),q1=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.withFaceExpressions=function(){return new U1(this,this.input)},e.prototype.withFaceDescriptors=function(){return new K1(this,this.input)},e}(W1),G1=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.withFaceExpressions=function(){return new H1(this,this.input)},e.prototype.withFaceDescriptor=function(){return new Y1(this,this.input)},e}(V1),RA=function(n){Fe(e,n);function e(t,r){var i=n.call(this)||this;return i.parentTask=t,i.input=r,i}return e}(Fd),K1=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r;return De(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return t=i.sent(),[4,Hm(t,this.input,function(o){return Promise.all(o.map(function(a){return Gn.faceRecognitionNet.computeFaceDescriptor(a)}))},null,function(o){return o.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return r=i.sent(),[2,r.map(function(o,a){return xA(t[a],o)})]}})})},e.prototype.withFaceExpressions=function(){return new U1(this,this.input)},e.prototype.withAgeAndGender=function(){return new q1(this,this.input)},e}(RA),Y1=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r;return De(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return t=i.sent(),t?[4,L1(t,this.input,function(o){return Gn.faceRecognitionNet.computeFaceDescriptor(o)},null,function(o){return o.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=i.sent(),[2,xA(t,r)]}})})},e.prototype.withFaceExpressions=function(){return new H1(this,this.input)},e.prototype.withAgeAndGender=function(){return new G1(this,this.input)},e}(RA),DA=function(n){Fe(e,n);function e(t,r,i){var o=n.call(this)||this;return o.parentTask=t,o.input=r,o.useTinyLandmarkNet=i,o}return Object.defineProperty(e.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Gn.faceLandmark68TinyNet:Gn.faceLandmark68Net},enumerable:!0,configurable:!0}),e}(Fd),ete=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r,i,o,a,s=this;return De(this,function(l){switch(l.label){case 0:return[4,this.parentTask];case 1:return t=l.sent(),r=t.map(function(c){return c.detection}),this.input instanceof At?[4,I1(this.input,r)]:[3,3];case 2:return o=l.sent(),[3,5];case 3:return[4,A1(this.input,r)];case 4:o=l.sent(),l.label=5;case 5:return i=o,[4,Promise.all(i.map(function(c){return s.landmarkNet.detectLandmarks(c)}))];case 6:return a=l.sent(),i.forEach(function(c){return c instanceof At&&c.dispose()}),[2,t.map(function(c,u){return M1(c,a[u])})]}})})},e.prototype.withFaceExpressions=function(){return new U1(this,this.input)},e.prototype.withAgeAndGender=function(){return new q1(this,this.input)},e.prototype.withFaceDescriptors=function(){return new K1(this,this.input)},e}(DA),tte=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r,i,o,a;return De(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return t=s.sent(),t?(r=t.detection,this.input instanceof At?[4,I1(this.input,[r])]:[3,3]):[2];case 2:return o=s.sent(),[3,5];case 3:return[4,A1(this.input,[r])];case 4:o=s.sent(),s.label=5;case 5:return i=o,[4,this.landmarkNet.detectLandmarks(i[0])];case 6:return a=s.sent(),i.forEach(function(l){return l instanceof At&&l.dispose()}),[2,M1(t,a)]}})})},e.prototype.withFaceExpressions=function(){return new H1(this,this.input)},e.prototype.withAgeAndGender=function(){return new G1(this,this.input)},e.prototype.withFaceDescriptor=function(){return new Y1(this,this.input)},e}(DA),OA=function(n){Fe(e,n);function e(t,r){r===void 0&&(r=new Um);var i=n.call(this)||this;return i.input=t,i.options=r,i}return e}(Fd),MA=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r,i,o;return De(this,function(a){switch(a.label){case 0:return t=this,r=t.input,i=t.options,i instanceof kA?[4,Gn.mtcnn.forward(r,i)]:[3,2];case 1:return[2,a.sent().map(function(s){return s.detection})];case 2:if(o=i instanceof EA?function(s){return Gn.tinyFaceDetector.locateFaces(s,i)}:i instanceof Um?function(s){return Gn.ssdMobilenetv1.locateFaces(s,i)}:i instanceof z1?function(s){return Gn.tinyYolov2.locateFaces(s,i)}:null,!o)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,o(r)]}})})},e.prototype.runAndExtendWithFaceDetections=function(){var t=this;return new Promise(function(r){return Re(t,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return[4,this.run()];case 1:return i=o.sent(),[2,r(i.map(function(a){return E1({},a)}))]}})})})},e.prototype.withFaceLandmarks=function(t){return t===void 0&&(t=!1),new ete(this.runAndExtendWithFaceDetections(),this.input,t)},e.prototype.withFaceExpressions=function(){return new F1(this.runAndExtendWithFaceDetections(),this.input)},e.prototype.withAgeAndGender=function(){return new W1(this.runAndExtendWithFaceDetections(),this.input)},e}(OA);(function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r;return De(this,function(i){switch(i.label){case 0:return[4,new MA(this.input,this.options)];case 1:return t=i.sent(),r=t[0],t.forEach(function(o){o.score>r.score&&(r=o)}),[2,r]}})})},e.prototype.runAndExtendWithFaceDetection=function(){var t=this;return new Promise(function(r){return Re(t,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return[4,this.run()];case 1:return i=o.sent(),[2,r(i?E1({},i):void 0)]}})})})},e.prototype.withFaceLandmarks=function(t){return t===void 0&&(t=!1),new tte(this.runAndExtendWithFaceDetection(),this.input,t)},e.prototype.withFaceExpressions=function(){return new $1(this.runAndExtendWithFaceDetection(),this.input)},e.prototype.withAgeAndGender=function(){return new V1(this.runAndExtendWithFaceDetection(),this.input)},e})(OA);function nte(n,e){return e===void 0&&(e=new Um),new MA(n,e)}function rte(n,e){if(n.length!==e.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var t=Array.from(n),r=Array.from(e);return Math.sqrt(t.map(function(i,o){return i-r[o]}).reduce(function(i,o){return i+Math.pow(o,2)},0))}(function(){function n(e,t){t===void 0&&(t=.6),this._distanceThreshold=t;var r=Array.isArray(e)?e:[e];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var i=1,o=function(){return"person "+i++};this._labeledDescriptors=r.map(function(a){if(a instanceof Rh)return a;if(a instanceof Float32Array)return new Rh(o(),[a]);if(a.descriptor&&a.descriptor instanceof Float32Array)return new Rh(o(),[a.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(n.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),n.prototype.computeMeanDistance=function(e,t){return t.map(function(r){return rte(r,e)}).reduce(function(r,i){return r+i},0)/(t.length||1)},n.prototype.matchDescriptor=function(e){var t=this;return this.labeledDescriptors.map(function(r){var i=r.descriptors,o=r.label;return new bC(o,t.computeMeanDistance(e,i))}).reduce(function(r,i){return r.distance<i.distance?r:i})},n.prototype.findBestMatch=function(e){var t=this.matchDescriptor(e);return t.distance<this.distanceThreshold?t:new bC("unknown",t.distance)},n.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(e){return e.toJSON()})}},n.fromJSON=function(e){var t=e.labeledDescriptors.map(function(r){return Rh.fromJSON(r)});return new n(t,e.distanceThreshold)},n})();const ite=({initialEnabled:n=!1,onToggleChange:e,disabled:t})=>{const[r,i]=Y.useState(n),[o,a]=Y.useState(null),[s,l]=Y.useState(!1),[c,u]=Y.useState(!1),[d,h]=Y.useState(""),[f,p]=Y.useState(!1),[m,b]=Y.useState(""),[g,v]=Y.useState(!1),x=Y.useRef(null),y=Y.useRef(null),w=Y.useRef(null);Y.useEffect(()=>((async()=>{try{await Gn.tinyFaceDetector.loadFromUri("/models"),await Gn.faceLandmark68Net.loadFromUri("/models"),await Gn.faceExpressionNet.loadFromUri("/models"),v(!0)}catch(P){console.error("Failed to load face detection models:",P),h("Face detection features unavailable"),u(!0)}})(),k(),()=>{var P;(P=x.current)!=null&&P.srcObject&&x.current.srcObject.getTracks().forEach(z=>z.stop()),w.current&&clearInterval(w.current)}),[]);const k=async()=>{try{const{data:{user:O},error:P}=await _e.auth.getUser();if(P||!O)return;const{data:z,error:N}=await _e.from("user_facial_enrollments").select("storage_path").eq("user_id",O.id).single();if(N||!z)return;const{data:B,error:U}=await _e.storage.from("facial-recognition").createSignedUrl(z.storage_path,3600);if(U||!B)throw U||new Error("Failed to generate signed URL");a(B.signedUrl),i(!0),e(!0)}catch(O){console.error("Photo check error:",O),h("Failed to load existing face data"),u(!0)}},_=async()=>{if(!x.current||!y.current)return;b("Processing photo...");const O=x.current,P=y.current,z=P.getContext("2d");z&&(P.width=O.videoWidth,P.height=O.videoHeight,z.drawImage(O,0,0,P.width,P.height),P.toBlob(async N=>{N&&(await I(N)||(i(!1),e(!1))),O.srcObject&&O.srcObject.getTracks().forEach(B=>B.stop()),p(!1)},"image/jpeg",.9))},T=(O,P)=>{let z=0;for(let N=0;N<O.data.length;N+=4)z+=Math.abs(O.data[N]-P.data[N])+Math.abs(O.data[N+1]-P.data[N+1])+Math.abs(O.data[N+2]-P.data[N+2]);return z/(O.width*O.height*3)},E=async O=>{if(!g)return!1;try{const P=await nte(O,new EA).withFaceLandmarks().withFaceExpressions();return P.length>0?P[0].expressions.happy>.85:!1}catch(P){return console.error("Smile detection error:",P),!1}},A=()=>{let O=null,P=0,z=!1;w.current=setInterval(async()=>{if(!x.current||!y.current)return;const N=x.current,B=y.current,U=B.getContext("2d");if(!U)return;if(B.width=N.videoWidth,B.height=N.videoHeight,U.drawImage(N,0,0,B.width,B.height),g&&!z&&await E(B)){z=!0,b("Smile detected! Capturing..."),w.current&&clearInterval(w.current),await _();return}const $=U.getImageData(0,0,B.width,B.height);O&&(T(O,$)<5?(P++,b("Hold still... (".concat(P,"/3)")),P>=3&&(w.current&&clearInterval(w.current),await _())):(P=0,b(g?"Smile for the camera!":"Hold still..."))),O=$},500)},M=async()=>{try{p(!0),b("Initializing camera...");const O=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"}});x.current&&(x.current.srcObject=O,x.current.play()),b(g?"Smile for the camera!":"Position your face in the frame..."),A()}catch(O){console.error("Camera error:",O),h("Please enable camera permissions"),u(!0),i(!1),e(!1),p(!1)}},I=async O=>{l(!0);try{const{data:{user:P},error:z}=await _e.auth.getUser();if(z||!P)throw new Error((z==null?void 0:z.message)||"Not authenticated");const N="profile_".concat(Date.now(),".jpg"),B="".concat(P.id,"/").concat(N),U=N.split(".").pop(),{error:$}=await _e.storage.from("facial-recognition").upload(B,O,{cacheControl:"3600",upsert:!0,contentType:"image/".concat(U==="png"?"png":"jpeg")});if($)throw $;const{error:F}=await _e.from("user_facial_enrollments").upsert({user_id:P.id,storage_path:B},{onConflict:"user_id"});if(F)throw F;const{data:ee,error:X}=await _e.storage.from("facial-recognition").createSignedUrl(B,3600);if(X||!ee)throw X||new Error("Failed to generate signed URL");return a(ee.signedUrl),i(!0),e(!0),h("Face registration successful!"),u(!0),!0}catch(P){return console.error("Upload error:",P),h("Registration failed: ".concat(P instanceof Error?P.message:"Unknown error")),u(!0),!1}finally{l(!1)}},L=async O=>{const P=O.detail.checked;if(r&&!P){try{const{data:{user:z},error:N}=await _e.auth.getUser();if(N||!z)throw new Error((N==null?void 0:N.message)||"Not authenticated");const{data:B,error:U}=await _e.from("user_facial_enrollments").select("storage_path").eq("user_id",z.id).single();if(U&&U.code!=="PGRST116")throw U;if(B!=null&&B.storage_path){const{error:F}=await _e.storage.from("facial-recognition").remove([B.storage_path]);if(F)throw F}const{error:$}=await _e.from("user_facial_enrollments").delete().eq("user_id",z.id);if($)throw $;i(!1),a(null),e(!1),h("Facial recognition disabled"),u(!0)}catch(z){console.error("Cleanup error:",z),h("Failed to disable facial recognition"),u(!0),i(!0),e(!0)}return}P&&!o&&(i(!0),e(!0),await M())},S=()=>{var O;(O=x.current)!=null&&O.srcObject&&x.current.srcObject.getTracks().forEach(P=>P.stop()),w.current&&clearInterval(w.current),p(!1),o||(i(!1),e(!1))};return C.jsxs("div",{className:"ion-padding",children:[C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[C.jsx(Cn,{children:C.jsx("strong",{children:"Facial Recognition"})}),s?C.jsx(Cc,{name:"crescent"}):C.jsx(my,{checked:r,onIonChange:L,disabled:s||t||!g})]}),!g&&C.jsx(Ln,{color:"warning",children:C.jsx("p",{children:"Loading face detection features..."})}),o&&C.jsx(sr,{children:C.jsx(ar,{children:C.jsx(us,{children:C.jsx(_o,{className:"ion-align-items-center ion-justify-content-center",children:C.jsxs(pi,{size:"12",className:"ion-text-center",children:[C.jsx(Zp,{src:o,style:{width:"200px",height:"200px",borderRadius:"50%",margin:"0 auto",objectFit:"cover"}}),C.jsx(Ln,{color:"success",children:C.jsx("p",{children:"Face registered successfully"})})]})})})})}),C.jsxs(ha,{isOpen:f,onDidDismiss:S,style:{"--width":"100%","--height":"100%","--border-radius":"0","--background":"#000"},children:[C.jsx(Tn,{children:C.jsx(An,{color:"primary",children:C.jsx(Yn,{children:"Register Your Face"})})}),C.jsx(jt,{className:"ion-padding",children:C.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[C.jsx("video",{ref:x,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",maxWidth:"500px",borderRadius:"8px",margin:"0 auto",transform:"scaleX(-1)"}}),C.jsx("canvas",{ref:y,style:{display:"none"}}),C.jsx(Ln,{color:"light",style:{marginTop:"20px",textAlign:"center"},children:C.jsx("h3",{children:m})})]})}),C.jsx(TF,{children:C.jsx(An,{children:C.jsxs(We,{expand:"block",color:"danger",onClick:S,children:[C.jsx(Xe,{icon:Wy,slot:"start"}),"Cancel"]})})})]}),C.jsx(Ec,{isOpen:c,onDidDismiss:()=>u(!1),message:d,duration:3e3,position:"top"})]})},ote=()=>{const[n,e]=Y.useState(!1),[t,r]=Y.useState([]),[i,o]=Y.useState(!1),[a,s]=Y.useState(""),[l,c]=Y.useState(!1),[u,d]=Y.useState(!1),[h,f]=Y.useState(!1),[p,m]=Bq(),[b,g]=Y.useState(null),[v,x]=Y.useState(!0),[y,w]=Y.useState(null);Y.useEffect(()=>{(async()=>{var O;try{const{data:{user:P},error:z}=await _e.auth.getUser();if(z)throw z;if(P){g(P);const{data:N,error:B}=await _e.from("recovery_codes").select("code_hash, code_status").eq("user_id",P.id).eq("code_status","active");if(B)throw B;const{count:U}=await _e.from("totp_codes").select("*",{count:"exact",head:!0}).eq("user_id",P.id).is("used_at",null),{data:$}=await _e.storage.from("facial-recognition").list("".concat(P.id,"/")),F=(U!=null?U:0)>0,ee=(O=$==null?void 0:$.some(X=>X.name==="profile.jpg"))!=null?O:!1;N&&r(N),e(N&&N.length>0||F||ee),w(F?"totp":ee?"facial":null)}}catch(P){console.error("Error checking MFA status:",P),s("Failed to load MFA status"),c(!0)}finally{x(!1)}})()},[]);const k=async S=>{const O=Array.from({length:5},()=>Math.floor(1e7+Math.random()*9e7).toString()),{data:P,error:z}=await _e.from("recovery_codes").insert(O.map(N=>({user_id:S,code_hash:N,code_status:"active"}))).select("code_hash, code_status");if(z)throw z;return P||[]},_=async S=>{const{error:O}=await _e.from("recovery_codes").delete().eq("user_id",S);if(O)throw O},T=async S=>{if(S.detail.checked)if(t.length===0)try{f(!0);const P=await k((b==null?void 0:b.id)||"");r(P),e(!0),s("MFA enabled with recovery codes!"),c(!0)}catch(P){s("Failed to enable MFA"),c(!0)}finally{f(!1)}else e(!0);else d(!0)},E=async S=>{d(!1),f(!0);try{await _((b==null?void 0:b.id)||""),r([]),e(!1),w(null),s("MFA disabled successfully!"),c(!0)}catch(O){console.error("Error disabling MFA:",O),s(O.message||"Failed to disable MFA"),c(!0)}finally{f(!1)}},A=async S=>{if(S){if(w("totp"),e(!0),t.length===0)try{const O=await k((b==null?void 0:b.id)||"");r(O)}catch(O){s("Failed to generate recovery codes"),c(!0)}}else y==="totp"&&w(null)},M=async S=>{if(S){if(w("facial"),e(!0),t.length===0)try{const O=await k((b==null?void 0:b.id)||"");r(O)}catch(O){s("Failed to generate recovery codes"),c(!0)}}else y==="facial"&&w(null)},I=()=>{const S=t.map(O=>O.code_hash).join("\n");m(S),o(!0),setTimeout(()=>o(!1),2e3)},L=async()=>{if(b){f(!0);try{await _(b.id);const S=await k(b.id);r(S),s("Recovery codes regenerated!"),c(!0)}catch(S){console.error("Error regenerating codes:",S),s(S.message||"Failed to regenerate codes"),c(!0)}finally{f(!1)}}};return v?C.jsx(jt,{className:"ion-padding",children:C.jsx(Cc,{name:"crescent"})}):C.jsxs(jt,{className:"ion-padding",children:[C.jsx(sr,{children:C.jsx(ar,{children:C.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1px"},children:C.jsxs("div",{style:{flexGrow:1},children:[C.jsx("h2",{style:{margin:0},children:"Multi-Factor Authentication"}),C.jsx("p",{style:{margin:0,fontSize:"0.9em",color:"#666"},children:"Add an extra layer of security to your account"}),C.jsx(my,{checked:n,onIonChange:T,disabled:h})]})})})}),n&&C.jsxs(C.Fragment,{children:[t.length>0&&C.jsxs(sr,{children:[C.jsxs(fy,{children:[C.jsx(Al,{children:"Your Recovery Codes"}),C.jsxs(We,{expand:"block",onClick:L,color:"warning",disabled:h,children:[C.jsx(Xe,{slot:"start",icon:HV}),"Regenerate All Codes"]})]}),C.jsxs(ar,{children:[C.jsx(Ln,{color:"medium",children:C.jsx("p",{children:"Save these codes in a secure place. Each code can be used only once."})}),C.jsx(KS,{lines:"full",className:"ion-margin-vertical",children:t.map((S,O)=>C.jsx(Vn,{children:C.jsxs(Cn,{children:[C.jsx("h3",{children:S.code_hash}),C.jsxs("p",{children:["Status: ",S.code_status]})]})},O))}),C.jsxs(We,{expand:"block",onClick:I,color:"primary",children:[C.jsx(Xe,{slot:"start",icon:i?TV:l6}),i?"Copied!":"Copy All Codes"]})]})]}),C.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0px",marginTop:"10px"},children:[C.jsx(zq,{userId:(b==null?void 0:b.id)||"",initialEnabled:y==="totp",onToggleChange:A,disabled:!1}),C.jsx(ite,{initialEnabled:y==="facial",onToggleChange:M,disabled:!1})]})]}),C.jsx(Bs,{isOpen:u,onDidDismiss:()=>d(!1),header:"Disable MFA?",message:"Are you sure you want to disable Multi-Factor Authentication? This will make your account less secure.",buttons:[{text:"Cancel",role:"cancel"},{text:"Disable",handler:()=>E()}]}),C.jsx(Ec,{isOpen:l,onDidDismiss:()=>c(!1),message:a,duration:3e3,position:"top"})]})},ate=()=>{const[n,e]=Y.useState(""),[t,r]=Y.useState(""),[i,o]=Y.useState(""),[a,s]=Y.useState(""),[l,c]=Y.useState(""),[u,d]=Y.useState(""),[h,f]=Y.useState(""),[p,m]=Y.useState(null),[b,g]=Y.useState(null),[v,x]=Y.useState(!1),[y,w]=Y.useState(""),[k,_]=Y.useState(!1),[T,E]=Y.useState(!0),A=By();Y.useEffect(()=>(console.log("EditProfile component mounted"),(async()=>{E(!0),console.log("Starting to fetch session and user data...");try{const{data:P,error:z}=await _e.auth.getSession();if(console.log("Session data:",P),console.log("Session error:",z),z||!(P!=null&&P.session)){console.error("No valid session found:",z),w("You must be logged in to access this page."),x(!0),A.push("/Cephaline-Supabase/login");return}console.log("Fetching user data for email:",P.session.user.email);const{data:N,error:B}=await _e.from("users").select("user_firstname, user_lastname, user_avatar_url, user_email, username").eq("user_email",P.session.user.email).single();if(console.log("User data:",N),console.log("User error:",B),B||!N){console.error("Failed to fetch user data:",B),w("Failed to load user data. Please try again."),x(!0);return}c(N.user_firstname||""),d(N.user_lastname||""),g(N.user_avatar_url),e(N.user_email||""),f(N.username||""),console.log("User data set in state")}catch(P){console.error("Error in fetchSessionAndData:",P),w("An unexpected error occurred. Please try again."),x(!0)}finally{E(!1),console.log("Finished loading user data")}})(),()=>{console.log("Component unmounting - cleaning up"),b&&b.startsWith("blob:")&&(URL.revokeObjectURL(b),console.log("Revoked blob URL"))}),[A]);const M=O=>{var z;console.log("Avatar input changed");const P=(z=O.target.files)==null?void 0:z[0];if(P){console.log("File selected:",P.name,P.size,P.type),b&&b.startsWith("blob:")&&(URL.revokeObjectURL(b),console.log("Previous blob URL revoked")),m(P);const N=URL.createObjectURL(P);g(N),console.log("New preview URL created:",N)}else console.log("No file selected")},I=()=>(console.log("Validating form..."),i&&i!==a?(console.log("Validation failed: Passwords dont match"),w("Passwords don't match."),!1):i&&!t?(console.log("Validation failed: Current password required"),w("Please enter your current password to change your password."),!1):!l||!u?(console.log("Validation failed: Missing name fields"),w("First name and last name are required."),!1):(console.log("Form validation passed"),!0)),L=async O=>{if(!p)return b;if(console.log("Starting avatar upload for user:",O),p.size>5*1024*1024)throw new Error("Avatar image must be less than 5MB");if(!["image/jpeg","image/png","image/gif","image/webp"].includes(p.type))throw new Error("Only JPG, PNG, GIF, or WebP images are allowed");const z=p.name.split(".").pop(),N="avatar.".concat(z),B="".concat(O,"/").concat(N);try{if(b&&b.includes("user-avatars"))try{const F=b.split("user-avatars/")[1].split("?")[0];await _e.storage.from("user-avatars").remove([F])}catch(F){console.warn("Could not delete old avatar:",F)}const{error:U}=await _e.storage.from("user-avatars").upload(B,p,{cacheControl:"3600",upsert:!0,contentType:p.type});if(U)throw U;const{data:{publicUrl:$}}=_e.storage.from("user-avatars").getPublicUrl(B,{transform:{width:200,height:200,resize:"cover",quality:80}});return $}catch(U){throw console.error("Avatar upload failed:",U),new Error("Failed to upload avatar. Please try again.")}},S=async()=>{if(console.log("Update button clicked"),!I()){console.log("Validation failed - showing alert"),x(!0);return}_(!0),console.log("Starting update process...");try{const{data:O,error:P}=await _e.auth.getSession();if(console.log("Current session:",O),console.log("Session error:",P),P||!(O!=null&&O.session)){console.error("No valid session found"),w("Session expired. Please log in again."),x(!0),A.push("/Cephaline-Supabase/login");return}const z=O.session.user;if(console.log("User ID:",z.id),console.log("User email:",z.email),!z.email||!z.id){console.error("Incomplete user information"),w("User information is incomplete. Please log in again."),x(!0);return}if(i){console.log("Password change requested - verifying current password");const{error:U}=await _e.auth.signInWithPassword({email:z.email,password:t});if(console.log("Password verification result:",U),U){console.error("Current password verification failed"),w("Incorrect current password."),x(!0);return}}let N=b;try{console.log("Processing avatar upload..."),N=await L(z.id),console.log("Avatar URL after upload:",N)}catch(U){console.error("Avatar upload error:",U),w(U instanceof Error?U.message:"Failed to upload avatar"),x(!0);return}console.log("Updating user profile in database...");const{error:B}=await _e.from("users").update({user_firstname:l,user_lastname:u,user_avatar_url:N,username:h}).eq("user_email",z.email);if(console.log("Profile update result:",B),B){console.error("Profile update failed:",B),w("Profile update failed: ".concat(B.message)),x(!0);return}if(i){console.log("Updating password...");const{error:U}=await _e.auth.updateUser({password:i});if(console.log("Password update result:",U),U){console.error("Password update failed:",U),w("Password update failed: ".concat(U.message)),x(!0);return}}console.log("Profile update successful!"),w("Profile updated successfully!"),x(!0),setTimeout(()=>{console.log("Navigating back to app..."),A.push("/Cephaline-Supabase/app")},1500)}catch(O){console.error("Update error:",O),w("An unexpected error occurred. Please try again."),x(!0)}finally{_(!1),console.log("Update process completed")}};return C.jsxs(Tr,{children:[C.jsx(Tn,{children:C.jsx(Fn,{slot:"start",children:C.jsx(qu,{defaultHref:"/Cephaline-Supabase/app"})})}),C.jsxs(jt,{className:"ion-padding",children:[C.jsx(qb,{isOpen:T,message:"Loading profile..."}),C.jsx(Vn,{children:C.jsx(Ln,{color:"secondary",children:C.jsx("h1",{children:"Edit Account"})})}),C.jsx("br",{}),C.jsx(_q,{avatarPreview:b,handleAvatarChange:M}),C.jsx(Cq,{username:h,firstName:l,lastName:u,setUsername:f,setFirstName:c,setLastName:d}),C.jsx(Eq,{password:i,confirmPassword:a,currentPassword:t,setPassword:o,setConfirmPassword:s,setCurrentPassword:r}),C.jsx(We,{expand:"full",onClick:S,shape:"round",disabled:k,children:k?"Updating...":"Update Account"}),C.jsx(ote,{}),C.jsx(Bs,{isOpen:v,onDidDismiss:()=>x(!1),message:y,buttons:["OK"]})]})]})},ste=({markdownContent:n,onContentChange:e})=>C.jsx(sr,{style:{height:"400px",margin:"0 0 20px 0"},children:C.jsx(ar,{style:{height:"100%",padding:"0"},children:C.jsx(py,{value:n,placeholder:"Write your journal entry (supports Markdown formatting)...",autoGrow:!0,rows:6,onIonChange:t=>e(t.detail.value),style:{height:"100%",fontSize:"14px",padding:"10px"}})})}),lte=({onSave:n,disabled:e,loading:t})=>C.jsx(We,{onClick:n,disabled:e||t,expand:"block",children:t?C.jsxs(C.Fragment,{children:[C.jsx(Cc,{name:"crescent"}),"Saving..."]}):"Save Page"}),cte=({selectedMood:n,onMoodChange:e})=>{const t=[{level:"angry",display:"Angry",min:0,max:20,color:"#F44336",icon:CV},{level:"sad",display:"Sad",min:20,max:40,color:"#FF9800",icon:VV},{level:"neutral",display:"Neutral",min:40,max:60,color:"#FFC107",icon:WV},{level:"happy",display:"Happy",min:60,max:80,color:"#8BC34A",icon:OV},{level:"love",display:"Super Happy",min:80,max:100,color:"#4CAF50",icon:PV}],[r,i]=Y.useState(n&&t.findIndex(c=>c.level===n)*20+10||50),a=t.find(u=>r>=u.min&&r<=u.max)||t[2],s=c=>{i(c);const u=t.find(d=>c>=d.min&&c<=d.max)||t[2];e(u.level)},l=c=>{const u=c*20+10;i(u),e(t[c].level)};return C.jsxs(Vn,{lines:"none",style:{flexDirection:"column",alignItems:"flex-start",width:"100%",margin:"30px 0 50px 0",padding:"0 16px","--inner-padding-end":"0"},children:[C.jsx(Cn,{children:"Mood Spectrum"}),C.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",margin:"8px 0"},children:[C.jsx(Xe,{icon:a.icon,style:{color:a.color,minWidth:"24px"}}),C.jsx(DF,{min:0,max:100,value:r,onIonChange:c=>s(c.detail.value),style:{flex:1,margin:"0 12px","--bar-background":"linear-gradient(to right, \n              ".concat(t.map(c=>"".concat(c.color," ").concat(c.min,"%, ").concat(c.color," ").concat(c.max,"%")).join(", "))}}),C.jsx(Xe,{icon:a.icon,style:{color:a.color,minWidth:"24px"}})]}),C.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",width:"100%",gap:"8px",marginTop:"8px"},children:t.map((c,u)=>C.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",flex:"1 0 calc(20% - 8px)",minWidth:"60px"},onClick:()=>l(u),children:[C.jsx(Xe,{icon:c.icon,style:{color:c.level===a.level?c.color:"#cccccc",fontSize:"24px",padding:"4px"}}),C.jsx("span",{style:{fontSize:"10px",marginTop:"4px",color:c.level===a.level?c.color:"#666666",textAlign:"center",wordBreak:"break-word"},children:c.display})]},c.level))}),C.jsxs(Cn,{style:{fontSize:"14px",marginTop:"12px",color:a.color,fontWeight:"bold",width:"100%",textAlign:"center"},children:["Current Mood: ",a.display]})]})},ute=({onAttach:n,isUploading:e})=>{const[t,r]=Y.useState(null),[i,o]=Y.useState(!1),[a,s]=Y.useState(!1),[l,c]=Y.useState(!1),[u,d]=Y.useState(""),h=Y.useRef(null),[f,p]=Y.useState(null),[m,b]=Y.useState(null),g=[{id:"link",icon:cv,label:"Attach Link"},{id:"image",icon:lv,label:"Attach Image"},{id:"file",icon:h_,label:"Attach File"}],v=E=>{var M;if(e)return;const A=(M=E.target.files)==null?void 0:M[0];A&&(A.type.startsWith("image/")?p(A):b(A))},x=E=>{if(!e)switch(E){case"link":o(!0);break;case"image":s(!0);break;case"file":c(!0);break}},y=()=>{if(e||!u.trim())return;let E=u;/^https?:\/\//i.test(u)||(E="http://"+u),n({type:"link",content:E}),o(!1),d("")},w=()=>{e||!f||(n({type:"image",content:f}),p(null),s(!1))},k=()=>{e||!m||(n({type:"file",content:m}),b(null),c(!1))},_=()=>{o(!1),s(!1),c(!1),d(""),p(null),b(null)},T=E=>{var M;switch((M=E.split(".").pop())==null?void 0:M.toLowerCase()){case"pdf":return C.jsx(Xe,{icon:Wc,color:"danger"});case"doc":case"docx":return C.jsx(Xe,{icon:Wc,color:"primary"});case"xls":case"xlsx":return C.jsx(Xe,{icon:Wc,color:"success"});case"ppt":case"pptx":return C.jsx(Xe,{icon:Wc,color:"warning"});default:return C.jsx(Xe,{icon:Wc})}};return C.jsxs(C.Fragment,{children:[C.jsx(_o,{style:{justifyContent:"flex-start",gap:"8px",padding:"8px"},children:g.map(({id:E,icon:A,label:M})=>C.jsx(pi,{size:"auto",children:C.jsxs("div",{onMouseEnter:()=>!e&&r(E),onMouseLeave:()=>r(null),style:{position:"relative",display:"inline-block",opacity:e?.6:1},children:[C.jsx(Xe,{icon:A,size:"large",onClick:()=>x(E),style:{cursor:e?"not-allowed":"pointer",padding:"4px"}}),t===E&&C.jsx("div",{style:{position:"absolute",top:"-40px",left:"50%",transform:"translateX(-50%)",backgroundColor:"#333",color:"#fff",padding:"4px 8px",borderRadius:"4px",whiteSpace:"nowrap",zIndex:1e3,fontSize:"14px"},children:M})]})},E))}),C.jsxs(ha,{isOpen:i,onDidDismiss:_,children:[C.jsx(Tn,{children:C.jsxs(An,{children:[C.jsx(Yn,{children:"Attach Link"}),C.jsx(Fn,{slot:"end",children:C.jsx(We,{onClick:_,children:C.jsx(Xe,{icon:ef})})})]})}),C.jsxs(jt,{className:"ion-padding",children:[C.jsx(hn,{value:u,placeholder:"Enter URL (e.g., example.com)",onIonChange:E=>d(E.detail.value),style:{marginBottom:"16px"},disabled:e}),C.jsx(We,{expand:"block",onClick:y,disabled:e||!u.trim(),children:e?"Uploading...":"Attach Link"})]})]}),C.jsxs(ha,{isOpen:a,onDidDismiss:_,children:[C.jsx(Tn,{children:C.jsxs(An,{children:[C.jsx(Yn,{children:"Attach Image"}),C.jsx(Fn,{slot:"end",children:C.jsx(We,{onClick:_,children:C.jsx(Xe,{icon:ef})})})]})}),C.jsx(jt,{className:"ion-padding",children:C.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[C.jsx("div",{style:{border:"2px dashed var(--ion-color-medium)",borderRadius:"8px",padding:"20px",textAlign:"center",marginBottom:"16px",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:f?C.jsx("img",{src:URL.createObjectURL(f),alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"8px"}}):C.jsxs(C.Fragment,{children:[C.jsx(Xe,{icon:lv,size:"large",style:{marginBottom:"8px",color:"var(--ion-color-medium)"}}),C.jsx(Ln,{color:"medium",children:C.jsx("p",{children:"Drag and drop images here or"})}),C.jsx(We,{fill:"outline",style:{marginTop:"8px"},onClick:()=>{var E;return!e&&((E=h.current)==null?void 0:E.click())},disabled:e,children:"Select Image"}),C.jsx("input",{type:"file",accept:"image/*",ref:h,style:{display:"none"},onChange:v,disabled:e})]})}),C.jsx(We,{expand:"block",onClick:w,disabled:e||!f,children:e?"Uploading...":"Attach Image"})]})})]}),C.jsxs(ha,{isOpen:l,onDidDismiss:_,children:[C.jsx(Tn,{children:C.jsxs(An,{children:[C.jsx(Yn,{children:"Attach File"}),C.jsx(Fn,{slot:"end",children:C.jsx(We,{onClick:_,children:C.jsx(Xe,{icon:ef})})})]})}),C.jsx(jt,{className:"ion-padding",children:C.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[C.jsx("div",{style:{border:"2px dashed var(--ion-color-medium)",borderRadius:"8px",padding:"20px",textAlign:"center",marginBottom:"16px",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:m?C.jsxs(Vn,{lines:"none",style:{width:"100%"},children:[C.jsx(PF,{slot:"start",children:T(m.name)}),C.jsxs(Cn,{children:[C.jsx("h3",{children:m.name}),C.jsxs("p",{children:[(m.size/1024).toFixed(2)," KB"]})]})]}):C.jsxs(C.Fragment,{children:[C.jsx(Xe,{icon:h_,size:"large",style:{marginBottom:"8px",color:"var(--ion-color-medium)"}}),C.jsx(Ln,{color:"medium",children:C.jsx("p",{children:"Drag and drop files here or"})}),C.jsx(We,{fill:"outline",style:{marginTop:"8px"},onClick:()=>{var E;return!e&&((E=h.current)==null?void 0:E.click())},disabled:e,children:"Select File"}),C.jsx("input",{type:"file",ref:h,style:{display:"none"},onChange:v,disabled:e})]})}),C.jsx(We,{expand:"block",onClick:k,disabled:e||!m,children:e?"Uploading...":"Attach File"})]})})]})]})},dte=n=>/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n),hte=()=>{const n=ya(),{journalId:e}=xm(),t=e!=null&&e.startsWith(":")?e.slice(1):e,[r,i]=Y.useState(""),[o,a]=Y.useState(""),[s,l]=Y.useState(null),[c,u]=Y.useState(!1),[d,h]=Y.useState(!1),[f,p]=Y.useState(!1),[m]=Jp();if(!t||!dte(t))return C.jsx(Tr,{children:C.jsx(jt,{className:"ion-padding",children:C.jsx(sr,{color:"danger",children:C.jsx(ar,{children:"Invalid Journal ID format. Please go back and try again."})})})});const b=async k=>{h(!0);try{const{data:{user:_},error:T}=await _e.auth.getUser(),E=_==null?void 0:_.id;if(T||!E)throw new Error("You must be logged in to upload files");const A=Date.now(),M=k.name.replace(/[^a-zA-Z0-9._-]/g,"_"),I="".concat(E,"/").concat(t,"/").concat(A,"_").concat(M),{data:L,error:S}=await _e.storage.from("journal-contents").upload(I,k,{cacheControl:"3600",upsert:!1,contentType:k.type});if(S)throw S;const{data:O}=_e.storage.from("journal-contents").getPublicUrl(I);return O.publicUrl}catch(_){return m({message:"Upload failed: ".concat(_.message),duration:3e3,color:"danger"}),null}finally{h(!1)}},g=async k=>{try{let _=k.content;if(k.content instanceof File){const T=await b(k.content);if(!T)return;_=T}i(T=>T+"\n".concat(_,"\n"))}catch(_){m({message:"Failed to attach file",duration:3e3,color:"danger"})}},v=k=>{const _=[],T=k.split("\n");for(const E of T)if(E.trim())try{new URL(E.trim()),_.push({type:"link",content:E.trim()});continue}catch(A){_.push({type:"paragraph",content:E})}return _},x=()=>o.trim()?o.length>100?(m({message:"Title is too long (max 100 characters)",duration:2e3,color:"warning"}),!1):r.trim()?!0:(m({message:"Journal content cannot be empty",duration:2e3,color:"warning"}),!1):(m({message:"Page title cannot be empty",duration:2e3,color:"warning"}),!1),y=async()=>{var k;if(!(!x()||d)){u(!0);try{const{data:_,error:T}=await _e.from("journal_pages").select("page_no").eq("journal_id",t).order("page_no",{ascending:!1}).limit(1);if(T)throw T;const E=(k=_==null?void 0:_[0])!=null&&k.page_no?_[0].page_no+1:1,{data:A,error:M}=await _e.from("journal_pages").insert({journal_id:t,page_title:o.trim(),page_no:E,mood:s}).select().single();if(M)throw M;const L=v(r).map((O,P)=>({page_id:A.page_id,content_order:P+1,paragraph:O.type==="paragraph"?O.content:null,link:O.type==="link"?O.content:null})),{error:S}=await _e.from("journal_page_contents").insert(L);if(S)throw S;m({message:"Journal page saved successfully!",duration:2e3,color:"success"}),i(""),a(""),l(null)}catch(_){m({message:"Failed to save: ".concat(_.message),duration:3e3,color:"danger"})}finally{u(!1)}n.push("/Cephaline-Supabase/app","forward","replace")}},w=async()=>{try{u(!0);const{data:{user:k}}=await _e.auth.getUser();if(k){const E="".concat(k.id,"/").concat(t),{error:A}=await _e.storage.from("journal-contents").remove([E]);A&&console.error("Error deleting files:",A)}const{error:_}=await _e.from("journal_pages").delete().eq("journal_id",t);if(_)throw _;const{error:T}=await _e.from("journals").delete().eq("journal_id",t);if(T)throw T;m({message:"Journal deleted successfully",duration:2e3,color:"success"}),n.push("/Cephaline-Supabase/app","forward","replace")}catch(k){m({message:"Failed to delete journal: ".concat(k.message),duration:3e3,color:"danger"})}finally{u(!1),p(!1)}};return C.jsxs(Tr,{children:[C.jsx(Tn,{children:C.jsx(An,{})}),C.jsx(Bs,{isOpen:f,onDidDismiss:()=>p(!1),header:"Delete Journal",message:"Are you sure you want to delete this journal and all its contents? This action cannot be undone.",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Delete",handler:w}]}),C.jsxs(jt,{className:"ion-padding",children:[C.jsx(sr,{style:{marginBottom:"20px"},children:C.jsxs(ar,{children:[C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[C.jsx(Fn,{slot:"start",children:C.jsx(qu,{defaultHref:"/Cephaline-Supabase/app/home"})}),C.jsx(Fn,{slot:"end",children:C.jsx(We,{color:"danger",onClick:()=>p(!0),children:C.jsx(Xe,{slot:"icon-only",icon:ZV})})})]}),C.jsxs("p",{children:["Viewing journal entry ",C.jsx("strong",{children:t})]}),C.jsx(Vn,{children:C.jsx(hn,{value:o,placeholder:"Page Title",onIonChange:k=>a(k.detail.value)})})]})}),C.jsx("h2",{style:{margin:"20px 0"},children:"How are you feeling today?"}),C.jsx(cte,{selectedMood:s,onMoodChange:l}),C.jsx(ste,{markdownContent:r,onContentChange:i}),C.jsx(ute,{onAttach:g,isUploading:d}),C.jsx(lte,{onSave:y,disabled:!o.trim()||!r.trim()||c||d,loading:c})]})]})},fte=({journalId:n,journalTitle:e,journalDescription:t="",onUpdate:r})=>{const i=ya(),[o,a]=Y.useState(e||""),[s,l]=Y.useState(t||""),[c,u]=Y.useState(!1),[d,h]=Y.useState(!1),[f,p]=Y.useState(!1),[m,b]=Y.useState(!1),[g,v]=Y.useState(""),[x,y]=Y.useState(!1),w=ya();Y.useEffect(()=>{a(e||""),l(t||"")},[e,t]);const k=()=>{i.push("/Cephaline-Supabase/app/JournalPage/".concat(n))},_=async()=>{a(e||""),l(t||""),u(!0)},T=async()=>{if(!(o!=null&&o.trim())){v("Title cannot be empty"),b(!0);return}p(!0);try{const{error:A}=await _e.from("journals").update({title:o.trim(),description:s.trim(),updated_at:new Date().toISOString()}).eq("journal_id",n);if(A)throw A;v("Journal updated successfully"),b(!0),r&&r(),u(!1)}catch(A){console.error("Error updating journal:",A),v("Failed to update journal"),b(!0)}finally{p(!1)}},E=async()=>{try{const{data:{user:A}}=await _e.auth.getUser();if(A){const{data:O,error:P}=await _e.storage.from("journal-contents").list("".concat(A.id,"/").concat(n));if(P)throw P;if(O&&O.length>0){const z=O.map(B=>"".concat(A.id,"/").concat(n,"/").concat(B.name)),{error:N}=await _e.storage.from("journal-contents").remove(z);if(N)throw N}await _e.storage.from("journal-contents").remove(["".concat(A.id,"/").concat(n)])}const{data:M,error:I}=await _e.from("journal_pages").select("page_id").eq("journal_id",n);if(I)throw I;if(M&&M.length>0){const O=M.map(z=>z.page_id),{error:P}=await _e.from("journal_page_contents").delete().in("page_id",O);if(P)throw P}const{error:L}=await _e.from("journal_pages").delete().eq("journal_id",n);if(L)throw L;const{error:S}=await _e.from("journals").delete().eq("journal_id",n);if(S)throw S;v("Journal and all contents deleted successfully"),b(!0),setTimeout(()=>{i.push("/Cephaline-Supabase/app/journals")},1e3)}catch(A){console.error("Error deleting journal:",A),v("Failed to delete journal. Please try again."),b(!0)}finally{w.push("/Cephaline-Supabase/app","forward","replace")}};return C.jsxs(C.Fragment,{children:[C.jsx(sr,{className:"overview-main-card",children:C.jsx(ar,{children:C.jsxs("div",{className:"card-actions-container",children:[C.jsxs(We,{size:"small",onClick:k,className:"action-button",children:[C.jsx(Xe,{slot:"start",icon:kV}),"Add Page"]}),C.jsxs(We,{size:"small",color:"medium",onClick:_,className:"action-button",disabled:x,children:[C.jsx(Xe,{slot:"start",icon:GV}),x?"Loading...":"Settings"]})]})})}),C.jsxs(ha,{isOpen:c,onDidDismiss:()=>u(!1),children:[C.jsx(Tn,{children:C.jsxs(An,{children:[C.jsx(Fn,{slot:"start",children:C.jsx(We,{onClick:()=>u(!1),children:C.jsx(Xe,{slot:"icon-only",icon:Wy})})}),C.jsx(Yn,{children:"Journal Settings"}),C.jsx(Fn,{slot:"end",children:C.jsx(We,{color:"danger",onClick:()=>h(!0),disabled:f,children:C.jsx(Xe,{slot:"icon-only",icon:XV})})})]})}),C.jsxs(jt,{className:"ion-padding",children:[C.jsxs(Vn,{children:[C.jsx(Cn,{position:"stacked",children:"Title *"}),C.jsx(hn,{value:o,onIonChange:A=>{var M;return a((M=A.detail.value)!=null?M:"")},placeholder:"Enter new journal title",clearInput:!0})]}),C.jsxs(Vn,{children:[C.jsx(Cn,{position:"stacked",children:"Description"}),C.jsx(py,{value:s,onIonChange:A=>{var M;return l((M=A.detail.value)!=null?M:"")},placeholder:"Enter new journal description",rows:4,autoGrow:!0})]}),C.jsx("div",{className:"ion-padding-top",children:C.jsx(We,{expand:"block",onClick:T,disabled:!(o!=null&&o.trim())||f,children:f?"Updating...":"Save Changes"})})]})]}),C.jsx(Bs,{isOpen:d,onDidDismiss:()=>h(!1),header:"Delete Journal",message:"Are you sure you want to delete this journal? All pages will be permanently deleted.",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:E}]}),C.jsx(Ec,{isOpen:m,onDidDismiss:()=>b(!1),message:g,duration:2e3})]})},pte=({journalId:n})=>{const e=ya(),[t]=Jp();console.log("OverviewSideCard received journalId:",n);const r=async()=>{if(console.log("Page List button clicked with journalId:",n),!n){console.error("No journalId provided to OverviewSideCard"),await t({message:"Journal ID is missing! Cannot navigate.",duration:2e3,color:"danger",position:"top"});return}const i="/Cephaline-Supabase/app/page-list/".concat(n);console.log("Attempting to navigate to:",i),e.push(i)};return C.jsx(sr,{className:"overview-side-card",children:C.jsxs(ar,{children:[C.jsx("h2",{children:"Journal Navigation"}),C.jsxs(We,{expand:"block",fill:"outline",onClick:r,disabled:!n,style:{zIndex:10},children:[C.jsx(Xe,{icon:jV,slot:"start"}),"Page List"]})]})})},mte=()=>{const{journalId:n}=xm(),[e,t]=Y.useState(""),[r,i]=Y.useState(""),[o,a]=Y.useState(""),[s,l]=Y.useState({titleColor:"#3880ff",descriptionColor:"#555555",cardColor:"#ffffff"}),[c,u]=Y.useState(!0),[d,h]=Y.useState(""),[f,p]=Y.useState(!1),[m,b]=Y.useState(null),g=ya();Y.useEffect(()=>{n&&(v(),x())},[n]);const v=async()=>{u(!0);try{const{data:w,error:k}=await _e.from("journals").select("title, description, created_at, title_color, description_color, card_color").eq("journal_id",n).single();if(k)throw k;t(w.title),i(w.description||""),a(w.created_at),l({titleColor:w.title_color||"#3880ff",descriptionColor:w.description_color||"#555555",cardColor:w.card_color||"#ffffff"})}catch(w){console.error("Error fetching journal:",w),h("Failed to load journal"),p(!0)}finally{u(!1)}},x=async()=>{try{const{data:w,error:k}=await _e.from("journal_pages").select("page_id").eq("journal_id",n).order("page_no",{ascending:!0}).limit(1).single();if(k)throw k;b((w==null?void 0:w.page_id)||null)}catch(w){console.error("Error fetching first page:",w)}},y=()=>{m?g.push("/cephaline-supabase/app/JournalPageView/".concat(n,"/").concat(m)):(h("This journal has no pages yet"),p(!0))};return n?C.jsxs(Tr,{children:[C.jsx(Tn,{children:C.jsxs(An,{children:[C.jsx(Fn,{slot:"start",children:C.jsx(YS,{})}),C.jsx(Yn,{children:"Journal Overview"})]})}),C.jsxs(jt,{fullscreen:!0,children:[C.jsxs("div",{className:"overview-container",style:{padding:"16px"},children:[c?C.jsx(Cc,{name:"crescent"}):C.jsx(C.Fragment,{children:C.jsx(fte,{journalId:n,journalTitle:e,journalDescription:r,onUpdate:v})}),C.jsx(pte,{journalId:n})]}),C.jsxs("div",{className:"journal-cover clickable-book",onClick:y,style:{backgroundColor:s.cardColor,padding:"16px",borderRadius:"12px",margin:"20px auto",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease",height:"650px",width:"500px",position:"relative",borderBottom:"4px solid #d3d3d3",borderRight:"4px solid #d3d3d3",display:"flex",flexDirection:"column",justifyContent:"space-between",cursor:"pointer"},children:[C.jsx("div",{style:{height:"2px",backgroundColor:"#ccc",width:"100%",position:"absolute",top:0,left:0}}),C.jsxs("div",{style:{paddingTop:"20px"},children:[C.jsx("h1",{style:{color:s.titleColor,marginBottom:"8px",textAlign:"center",fontSize:"2rem",fontWeight:"bold"},children:e}),C.jsx("p",{style:{color:s.descriptionColor,textAlign:"center",marginTop:"50px",fontSize:"1.2rem",padding:"0 20px"},children:r})]}),C.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:C.jsxs("p",{style:{fontSize:"0.9rem",color:"#888"},children:["Created:"," ",new Date(o).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})]})}),C.jsx("div",{style:{height:"2px",backgroundColor:"#ccc",width:"100%",position:"absolute",bottom:0,left:0}})]}),C.jsx(Ec,{isOpen:f,onDidDismiss:()=>p(!1),message:d,duration:2e3})]})]}):C.jsxs(Tr,{children:[C.jsx(Tn,{children:C.jsx(An,{children:C.jsx(Yn,{children:"Error: No Journal Selected"})})}),C.jsx(jt,{children:C.jsx("p",{children:"Please select a journal from the main page."})})]})},gte=()=>{const{journalId:n}=xm(),[e,t]=Y.useState([]),[r,i]=Y.useState(!0);Y.useEffect(()=>{n&&(async()=>{try{const{data:s,error:l}=await _e.from("journal_pages").select("page_id, page_no, page_title, mood, created_at, updated_at").eq("journal_id",n).order("page_no",{ascending:!0});if(l)throw l;t(s||[])}catch(s){console.error("Error fetching pages:",s)}finally{i(!1)}})()},[n]);const o=a=>new Date(a).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return C.jsxs(Tr,{children:[C.jsx(Tn,{children:C.jsx(An,{})}),C.jsx(jt,{children:r?C.jsx("div",{className:"ion-padding",children:"Loading pages..."}):e.length===0?C.jsx("div",{className:"ion-padding",children:"No pages found for this journal."}):C.jsxs(KS,{children:[C.jsx(Fn,{slot:"start",children:C.jsx(qu,{defaultHref:"/Cephaline-Supabase/app/Overviewing/".concat(n)})}),e.map(a=>C.jsx(Vn,{routerLink:"/Cephaline-Supabase/app/JournalPageView/".concat(n,"/").concat(a.page_id),detail:!0,children:C.jsxs(Cn,{children:[C.jsxs("h2",{children:[C.jsx(Xf,{color:"medium",style:{marginRight:"8px"},children:a.page_no}),a.page_title]}),C.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"4px"},children:[a.mood&&C.jsx(Xf,{color:"tertiary",style:{marginRight:"8px"},children:a.mood}),C.jsxs(RF,{style:{fontSize:"0.8rem"},children:["Created: ",o(a.created_at)]})]})]})},a.page_id))]})})]})};function Bh(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var PA={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,o){function a(c,u){if(!i[c]){if(!r[c]){var d=typeof Bh=="function"&&Bh;if(!u&&d)return d(c,!0);if(s)return s(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[c]={exports:{}};r[c][0].call(f.exports,function(p){var m=r[c][1][p];return a(m||p)},f,f.exports,t,r,i,o)}return i[c].exports}for(var s=typeof Bh=="function"&&Bh,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(t,r,i){var o=t("./utils"),a=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,d,h,f,p,m,b=[],g=0,v=l.length,x=v,y=o.getTypeOf(l)!=="string";g<l.length;)x=v-g,d=y?(c=l[g++],u=g<v?l[g++]:0,g<v?l[g++]:0):(c=l.charCodeAt(g++),u=g<v?l.charCodeAt(g++):0,g<v?l.charCodeAt(g++):0),h=c>>2,f=(3&c)<<4|u>>4,p=1<x?(15&u)<<2|d>>6:64,m=2<x?63&d:64,b.push(s.charAt(h)+s.charAt(f)+s.charAt(p)+s.charAt(m));return b.join("")},i.decode=function(l){var c,u,d,h,f,p,m=0,b=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&x--,l.charAt(l.length-2)===s.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=a.uint8array?new Uint8Array(0|x):new Array(0|x);m<l.length;)c=s.indexOf(l.charAt(m++))<<2|(h=s.indexOf(l.charAt(m++)))>>4,u=(15&h)<<4|(f=s.indexOf(l.charAt(m++)))>>2,d=(3&f)<<6|(p=s.indexOf(l.charAt(m++))),v[b++]=c,f!==64&&(v[b++]=u),p!==64&&(v[b++]=d);return v}},{"./support":30,"./utils":32}],2:[function(t,r,i){var o=t("./external"),a=t("./stream/DataWorker"),s=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function c(u,d,h,f,p){this.compressedSize=u,this.uncompressedSize=d,this.crc32=h,this.compression=f,this.compressedContent=p}c.prototype={getContentWorker:function(){var u=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,h){return u.pipe(new s).pipe(new l("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var o=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var o=t("./utils"),a=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();r.exports=function(s,l){return s!==void 0&&s.length?o.getTypeOf(s)!=="string"?function(c,u,d,h){var f=a,p=h+d;c^=-1;for(var m=h;m<p;m++)c=c>>>8^f[255&(c^u[m])];return-1^c}(0|l,s,s.length,0):function(c,u,d,h){var f=a,p=h+d;c^=-1;for(var m=h;m<p;m++)c=c>>>8^f[255&(c^u.charCodeAt(m))];return-1^c}(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var o=null;o=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:o}},{lie:37}],7:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),s=t("./utils"),l=t("./stream/GenericWorker"),c=o?"uint8array":"array";function u(d,h){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}i.magic="\b\0",s.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function o(f,p){var m,b="";for(m=0;m<p;m++)b+=String.fromCharCode(255&f),f>>>=8;return b}function a(f,p,m,b,g,v){var x,y,w=f.file,k=f.compression,_=v!==c.utf8encode,T=s.transformTo("string",v(w.name)),E=s.transformTo("string",c.utf8encode(w.name)),A=w.comment,M=s.transformTo("string",v(A)),I=s.transformTo("string",c.utf8encode(A)),L=E.length!==w.name.length,S=I.length!==A.length,O="",P="",z="",N=w.dir,B=w.date,U={crc32:0,compressedSize:0,uncompressedSize:0};p&&!m||(U.crc32=f.crc32,U.compressedSize=f.compressedSize,U.uncompressedSize=f.uncompressedSize);var $=0;p&&($|=8),_||!L&&!S||($|=2048);var F=0,ee=0;N&&(F|=16),g==="UNIX"?(ee=798,F|=function(Q,be){var ye=Q;return Q||(ye=be?16893:33204),(65535&ye)<<16}(w.unixPermissions,N)):(ee=20,F|=function(Q){return 63&(Q||0)}(w.dosPermissions)),x=B.getUTCHours(),x<<=6,x|=B.getUTCMinutes(),x<<=5,x|=B.getUTCSeconds()/2,y=B.getUTCFullYear()-1980,y<<=4,y|=B.getUTCMonth()+1,y<<=5,y|=B.getUTCDate(),L&&(P=o(1,1)+o(u(T),4)+E,O+="up"+o(P.length,2)+P),S&&(z=o(1,1)+o(u(M),4)+I,O+="uc"+o(z.length,2)+z);var X="";return X+="\n\0",X+=o($,2),X+=k.magic,X+=o(x,2),X+=o(y,2),X+=o(U.crc32,4),X+=o(U.compressedSize,4),X+=o(U.uncompressedSize,4),X+=o(T.length,2),X+=o(O.length,2),{fileRecord:d.LOCAL_FILE_HEADER+X+T+O,dirRecord:d.CENTRAL_FILE_HEADER+o(ee,2)+X+o(M.length,2)+"\0\0\0\0"+o(F,4)+o(b,4)+T+O+M}}var s=t("../utils"),l=t("../stream/GenericWorker"),c=t("../utf8"),u=t("../crc32"),d=t("../signature");function h(f,p,m,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=m,this.encodeFileName=b,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(h,l),h.prototype.push=function(f){var p=f.meta.percent||0,m=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:m?(p+100*(m-b-1))/m:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var p=this.streamFiles&&!f.file.dir;if(p){var m=a(f,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var p=this.streamFiles&&!f.file.dir,m=a(f,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),p)this.push({data:function(b){return d.DATA_DESCRIPTOR+o(b.crc32,4)+o(b.compressedSize,4)+o(b.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var m=this.bytesWritten-f,b=function(g,v,x,y,w){var k=s.transformTo("string",w(y));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(g,2)+o(g,2)+o(v,4)+o(x,4)+o(k.length,2)+k}(this.dirRecords.length,m,f,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var p=this;return f.on("data",function(m){p.processChunk(m)}),f.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),f.on("error",function(m){p.error(m)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var p=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var m=0;m<p.length;m++)try{p[m].error(f)}catch(b){}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,p=0;p<f.length;p++)f[p].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var o=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(s,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{s.forEach(function(h,f){d++;var p=function(v,x){var y=v||x,w=o[y];if(!w)throw new Error(y+" is not a valid compression method !");return w}(f.options.compression,l.compression),m=f.options.compressionOptions||l.compressionOptions||{},b=f.dir,g=f.date;f._compressWorker(p,m).withStreamInfo("file",{name:h,dir:b,date:g,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(a,s){return new o().loadAsync(a,s)},o.external=t("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var o=t("./utils"),a=t("./external"),s=t("./utf8"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function d(h){return new a.Promise(function(f,p){var m=h.decompressed.getContentWorker().pipe(new c);m.on("error",function(b){p(b)}).on("end",function(){m.streamInfo.crc32!==h.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(h,f){var p=this;return f=o.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),u.isNode&&u.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(m){var b=new l(f);return b.load(m),b}).then(function(m){var b=[a.Promise.resolve(m)],g=m.files;if(f.checkCRC32)for(var v=0;v<g.length;v++)b.push(d(g[v]));return a.Promise.all(b)}).then(function(m){for(var b=m.shift(),g=b.files,v=0;v<g.length;v++){var x=g[v],y=x.fileNameStr,w=o.resolve(x.fileNameStr);p.file(w,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:f.createFolders}),x.dir||(p.file(w).unsafeOriginalName=y)}return b.zipComment.length&&(p.comment=b.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var o=t("../utils"),a=t("../stream/GenericWorker");function s(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(s,a),s.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var o=t("readable-stream").Readable;function a(s,l,c){o.call(this,l),this._helper=s;var u=this;s.on("data",function(d,h){u.push(d)||u._helper.pause(),c&&c(h)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}t("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,a);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,a)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var a=new Buffer(o);return a.fill(0),a},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,r,i){function o(w,k,_){var T,E=s.getTypeOf(k),A=s.extend(_||{},u);A.date=A.date||new Date,A.compression!==null&&(A.compression=A.compression.toUpperCase()),typeof A.unixPermissions=="string"&&(A.unixPermissions=parseInt(A.unixPermissions,8)),A.unixPermissions&&16384&A.unixPermissions&&(A.dir=!0),A.dosPermissions&&16&A.dosPermissions&&(A.dir=!0),A.dir&&(w=g(w)),A.createFolders&&(T=b(w))&&v.call(this,T,!0);var M=E==="string"&&A.binary===!1&&A.base64===!1;_&&_.binary!==void 0||(A.binary=!M),(k instanceof d&&k.uncompressedSize===0||A.dir||!k||k.length===0)&&(A.base64=!1,A.binary=!0,k="",A.compression="STORE",E="string");var I=null;I=k instanceof d||k instanceof l?k:p.isNode&&p.isStream(k)?new m(w,k):s.prepareContent(w,k,A.binary,A.optimizedBinaryString,A.base64);var L=new h(w,I,A);this.files[w]=L}var a=t("./utf8"),s=t("./utils"),l=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),u=t("./defaults"),d=t("./compressedObject"),h=t("./zipObject"),f=t("./generate"),p=t("./nodejsUtils"),m=t("./nodejs/NodejsStreamInputAdapter"),b=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var k=w.lastIndexOf("/");return 0<k?w.substring(0,k):""},g=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},v=function(w,k){return k=k!==void 0?k:u.createFolders,w=g(w),this.files[w]||o.call(this,w,null,{dir:!0,createFolders:k}),this.files[w]};function x(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var k,_,T;for(k in this.files)T=this.files[k],(_=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&w(_,T)},filter:function(w){var k=[];return this.forEach(function(_,T){w(_,T)&&k.push(T)}),k},file:function(w,k,_){if(arguments.length!==1)return w=this.root+w,o.call(this,w,k,_),this;if(x(w)){var T=w;return this.filter(function(A,M){return!M.dir&&T.test(A)})}var E=this.files[this.root+w];return E&&!E.dir?E:null},folder:function(w){if(!w)return this;if(x(w))return this.filter(function(E,A){return A.dir&&w.test(E)});var k=this.root+w,_=v.call(this,k),T=this.clone();return T.root=_.name,T},remove:function(w){w=this.root+w;var k=this.files[w];if(k||(w.slice(-1)!=="/"&&(w+="/"),k=this.files[w]),k&&!k.dir)delete this.files[w];else for(var _=this.filter(function(E,A){return A.name.slice(0,w.length)===w}),T=0;T<_.length;T++)delete this.files[_[T].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var k,_={};try{if((_=s.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");s.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var T=_.comment||this.comment||"";k=f.generateWorker(this,_,T)}catch(E){(k=new l("error")).error(E)}return new c(k,_.type||"string",_.mimeType)},generateAsync:function(w,k){return this.generateInternalStream(w).accumulate(k)},generateNodeStream:function(w,k){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(k)}};r.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var o=t("./DataReader");function a(s){o.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}t("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),c=s.charCodeAt(1),u=s.charCodeAt(2),d=s.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===d)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),c=s.charCodeAt(1),u=s.charCodeAt(2),d=s.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&d===h[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var o=t("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,c=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=s,c},readString:function(s){return o.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},r.exports=a},{"../utils":32}],19:[function(t,r,i){var o=t("./Uint8ArrayReader");function a(s){o.call(this,s)}t("../utils").inherits(a,o),a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var o=t("./DataReader");function a(s){o.call(this,s)}t("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var o=t("./ArrayReader");function a(s){o.call(this,s)}t("../utils").inherits(a,o),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var o=t("../utils"),a=t("../support"),s=t("./ArrayReader"),l=t("./StringReader"),c=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");r.exports=function(d){var h=o.getTypeOf(d);return o.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new c(d):a.uint8array?new u(o.transformTo("uint8array",d)):new s(o.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var o=t("./GenericWorker"),a=t("../utils");function s(l){o.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(s,o),s.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var o=t("./GenericWorker"),a=t("../crc32");function s(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(s,o),s.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var o=t("../utils"),a=t("./GenericWorker");function s(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(s,a),s.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var o=t("../utils"),a=t("./GenericWorker");function s(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=o.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}o.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(l){s.processChunk(l)}),a.on("end",function(){s.end()}),a.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=o},{}],29:[function(t,r,i){var o=t("../utils"),a=t("./ConvertWorker"),s=t("./GenericWorker"),l=t("../base64"),c=t("../support"),u=t("../external"),d=null;if(c.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch(p){}function h(p,m){return new u.Promise(function(b,g){var v=[],x=p._internalType,y=p._outputType,w=p._mimeType;p.on("data",function(k,_){v.push(k),m&&m(_)}).on("error",function(k){v=[],g(k)}).on("end",function(){try{var k=function(_,T,E){switch(_){case"blob":return o.newBlob(o.transformTo("arraybuffer",T),E);case"base64":return l.encode(T);default:return o.transformTo(_,T)}}(y,function(_,T){var E,A=0,M=null,I=0;for(E=0;E<T.length;E++)I+=T[E].length;switch(_){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(M=new Uint8Array(I),E=0;E<T.length;E++)M.set(T[E],A),A+=T[E].length;return M;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+_+"'")}}(x,v),w);b(k)}catch(_){g(_)}v=[]}).resume()})}function f(p,m,b){var g=m;switch(m){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=m,this._mimeType=b,o.checkSupport(g),this._worker=p.pipe(new a(g)),p.lock()}catch(v){this._worker=new s("error"),this._worker.error(v)}}f.prototype={accumulate:function(p){return h(this,p)},on:function(p,m){var b=this;return p==="data"?this._worker.on(p,function(g){m.call(b,g.data,g.meta)}):this._worker.on(p,function(){o.delay(m,arguments,b)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch(s){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),i.blob=a.getBlob("application/zip").size===0}catch(l){i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch(s){i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var o=t("./utils"),a=t("./support"),s=t("./nodejsUtils"),l=t("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return a.nodebuffer?s.newBufferFrom(f,"utf-8"):function(p){var m,b,g,v,x,y=p.length,w=0;for(v=0;v<y;v++)(64512&(b=p.charCodeAt(v)))==55296&&v+1<y&&(64512&(g=p.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),v++),w+=b<128?1:b<2048?2:b<65536?3:4;for(m=a.uint8array?new Uint8Array(w):new Array(w),v=x=0;x<w;v++)(64512&(b=p.charCodeAt(v)))==55296&&v+1<y&&(64512&(g=p.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),v++),b<128?m[x++]=b:(b<2048?m[x++]=192|b>>>6:(b<65536?m[x++]=224|b>>>12:(m[x++]=240|b>>>18,m[x++]=128|b>>>12&63),m[x++]=128|b>>>6&63),m[x++]=128|63&b);return m}(f)},i.utf8decode=function(f){return a.nodebuffer?o.transformTo("nodebuffer",f).toString("utf-8"):function(p){var m,b,g,v,x=p.length,y=new Array(2*x);for(m=b=0;m<x;)if((g=p[m++])<128)y[b++]=g;else if(4<(v=c[g]))y[b++]=65533,m+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&m<x;)g=g<<6|63&p[m++],v--;1<v?y[b++]=65533:g<65536?y[b++]=g:(g-=65536,y[b++]=55296|g>>10&1023,y[b++]=56320|1023&g)}return y.length!==b&&(y.subarray?y=y.subarray(0,b):y.length=b),o.applyFromCharCode(y)}(f=o.transformTo(a.uint8array?"uint8array":"array",f))},o.inherits(d,l),d.prototype.processChunk=function(f){var p=o.transformTo(a.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=p;(p=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),p.set(m,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var b=function(v,x){var y;for((x=x||v.length)>v.length&&(x=v.length),y=x-1;0<=y&&(192&v[y])==128;)y--;return y<0||y===0?x:y+c[v[y]]>x?y:x}(p),g=p;b!==p.length&&(a.uint8array?(g=p.subarray(0,b),this.leftOver=p.subarray(b,p.length)):(g=p.slice(0,b),this.leftOver=p.slice(b,p.length))),this.push({data:i.utf8decode(g),meta:f.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,o.inherits(h,l),h.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var o=t("./support"),a=t("./base64"),s=t("./nodejsUtils"),l=t("./external");function c(m){return m}function u(m,b){for(var g=0;g<m.length;++g)b[g]=255&m.charCodeAt(g);return b}t("setimmediate"),i.newBlob=function(m,b){i.checkSupport("blob");try{return new Blob([m],{type:b})}catch(v){try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(m),g.getBlob(b)}catch(x){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,b,g){var v=[],x=0,y=m.length;if(y<=g)return String.fromCharCode.apply(null,m);for(;x<y;)b==="array"||b==="nodebuffer"?v.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+g,y)))):v.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+g,y)))),x+=g;return v.join("")},stringifyByChar:function(m){for(var b="",g=0;g<m.length;g++)b+=String.fromCharCode(m[g]);return b},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(m){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch(m){return!1}}()}};function h(m){var b=65536,g=i.getTypeOf(m),v=!0;if(g==="uint8array"?v=d.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=d.applyCanBeUsed.nodebuffer),v)for(;1<b;)try{return d.stringifyByChunk(m,g,b)}catch(x){b=Math.floor(b/2)}return d.stringifyByChar(m)}function f(m,b){for(var g=0;g<m.length;g++)b[g]=m[g];return b}i.applyFromCharCode=h;var p={};p.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return p.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,s.allocBuffer(m.length))}},p.array={string:h,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(m)}},p.arraybuffer={string:function(m){return h(new Uint8Array(m))},array:function(m){return f(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(new Uint8Array(m))}},p.uint8array={string:h,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return s.newBufferFrom(m)}},p.nodebuffer={string:h,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return p.nodebuffer.uint8array(m).buffer},uint8array:function(m){return f(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,b){if(b=b||"",!m)return b;i.checkSupport(m);var g=i.getTypeOf(b);return p[g][m](b)},i.resolve=function(m){for(var b=m.split("/"),g=[],v=0;v<b.length;v++){var x=b[v];x==="."||x===""&&v!==0&&v!==b.length-1||(x===".."?g.pop():g.push(x))}return g.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":o.nodebuffer&&s.isBuffer(m)?"nodebuffer":o.uint8array&&m instanceof Uint8Array?"uint8array":o.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!o[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var b,g,v="";for(g=0;g<(m||"").length;g++)v+="\\x"+((b=m.charCodeAt(g))<16?"0":"")+b.toString(16).toUpperCase();return v},i.delay=function(m,b,g){setImmediate(function(){m.apply(g||null,b||[])})},i.inherits=function(m,b){function g(){}g.prototype=b.prototype,m.prototype=new g},i.extend=function(){var m,b,g={};for(m=0;m<arguments.length;m++)for(b in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],b)&&g[b]===void 0&&(g[b]=arguments[m][b]);return g},i.prepareContent=function(m,b,g,v,x){return l.Promise.resolve(b).then(function(y){return o.blob&&(y instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(y))!==-1)&&typeof FileReader<"u"?new l.Promise(function(w,k){var _=new FileReader;_.onload=function(T){w(T.target.result)},_.onerror=function(T){k(T.target.error)},_.readAsArrayBuffer(y)}):y}).then(function(y){var w=i.getTypeOf(y);return w?(w==="arraybuffer"?y=i.transformTo("uint8array",y):w==="string"&&(x?y=a.decode(y):g&&v!==!0&&(y=function(k){return u(k,o.uint8array?new Uint8Array(k.length):new Array(k.length))}(y))),y):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var o=t("./reader/readerFor"),a=t("./utils"),s=t("./signature"),l=t("./zipEntry"),c=t("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(d)+")")}},isSignature:function(d,h){var f=this.reader.index;this.reader.setIndex(d);var p=this.reader.readString(4)===h;return this.reader.setIndex(f),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",f=a.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,f,p=this.zip64EndOfCentralSize-44;0<p;)d=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var p=h-f;if(0<p)this.isSignature(h,s.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(d){this.reader=o(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var o=t("./reader/readerFor"),a=t("./utils"),s=t("./compressedObject"),l=t("./crc32"),c=t("./utf8"),u=t("./compressions"),d=t("./support");function h(f,p){this.options=f,this.loadOptions=p}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var p,m;if(f.skip(22),this.fileNameLength=f.readInt(2),m=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(b){for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)&&u[g].magic===b)return u[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,p,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var p=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(p),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var p,m,b,g=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<g;)p=f.readInt(2),m=f.readInt(2),b=f.readData(m),this.extraFields[p]={id:p,length:m,value:b};f.setIndex(g)},handleUTF8:function(){var f=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var m=a.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var g=a.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var p=o(f.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:c.utf8decode(p.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var p=o(f.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:c.utf8decode(p.readData(f.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function o(p,m,b){this.name=p,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=m,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=t("./stream/StreamHelper"),s=t("./stream/DataWorker"),l=t("./utf8"),c=t("./compressedObject"),u=t("./stream/GenericWorker");o.prototype={internalStream:function(p){var m=null,b="string";try{if(!p)throw new Error("No output type specified.");var g=(b=p.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),m=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(m=m.pipe(new l.Utf8EncodeWorker)),!v&&g&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(x){(m=new u("error")).error(x)}return new a(m,b,"")},async:function(p,m){return this.internalStream(p).accumulate(m)},nodeStream:function(p,m){return this.internalStream(p||"nodebuffer").toNodejsStream(m)},_compressWorker:function(p,m){if(this._data instanceof c&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,p,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new s(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<d.length;f++)o.prototype[d[f]]=h;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(o){var a,s,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var c=0,u=new l(p),d=o.document.createTextNode("");u.observe(d,{characterData:!0}),a=function(){d.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var m=o.document.createElement("script");m.onreadystatechange=function(){p(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},o.document.documentElement.appendChild(m)}:function(){setTimeout(p,0)};else{var h=new o.MessageChannel;h.port1.onmessage=p,a=function(){h.port2.postMessage(0)}}var f=[];function p(){var m,b;s=!0;for(var g=f.length;g;){for(b=f,f=[],m=-1;++m<g;)b[m]();g=f.length}s=!1}r.exports=function(m){f.push(m)!==1||s||a()}}).call(this,typeof Pn<"u"?Pn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var o=t("immediate");function a(){}var s={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,g!==a&&m(this,g)}function h(g,v,x){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function f(g,v,x){o(function(){var y;try{y=v(x)}catch(w){return s.reject(g,w)}y===g?s.reject(g,new TypeError("Cannot resolve promise with itself")):s.resolve(g,y)})}function p(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function m(g,v){var x=!1;function y(_){x||(x=!0,s.reject(g,_))}function w(_){x||(x=!0,s.resolve(g,_))}var k=b(function(){v(w,y)});k.status==="error"&&y(k.value)}function b(g,v){var x={};try{x.value=g(v),x.status="success"}catch(y){x.status="error",x.value=y}return x}(r.exports=d).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(x){return v.resolve(g()).then(function(){return x})},function(x){return v.resolve(g()).then(function(){throw x})})},d.prototype.catch=function(g){return this.then(null,g)},d.prototype.then=function(g,v){if(typeof g!="function"&&this.state===c||typeof v!="function"&&this.state===l)return this;var x=new this.constructor(a);return this.state!==u?f(x,this.state===c?g:v,this.outcome):this.queue.push(new h(x,g,v)),x},h.prototype.callFulfilled=function(g){s.resolve(this.promise,g)},h.prototype.otherCallFulfilled=function(g){f(this.promise,this.onFulfilled,g)},h.prototype.callRejected=function(g){s.reject(this.promise,g)},h.prototype.otherCallRejected=function(g){f(this.promise,this.onRejected,g)},s.resolve=function(g,v){var x=b(p,v);if(x.status==="error")return s.reject(g,x.value);var y=x.value;if(y)m(g,y);else{g.state=c,g.outcome=v;for(var w=-1,k=g.queue.length;++w<k;)g.queue[w].callFulfilled(v)}return g},s.reject=function(g,v){g.state=l,g.outcome=v;for(var x=-1,y=g.queue.length;++x<y;)g.queue[x].callRejected(v);return g},d.resolve=function(g){return g instanceof this?g:s.resolve(new this(a),g)},d.reject=function(g){var v=new this(a);return s.reject(v,g)},d.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,y=!1;if(!x)return this.resolve([]);for(var w=new Array(x),k=0,_=-1,T=new this(a);++_<x;)E(g[_],_);return T;function E(A,M){v.resolve(A).then(function(I){w[M]=I,++k!==x||y||(y=!0,s.resolve(T,w))},function(I){y||(y=!0,s.reject(T,I))})}},d.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,y=!1;if(!x)return this.resolve([]);for(var w=-1,k=new this(a);++w<x;)_=g[w],v.resolve(_).then(function(T){y||(y=!0,s.resolve(k,T))},function(T){y||(y=!0,s.reject(k,T))});var _;return k}},{immediate:36}],38:[function(t,r,i){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var o=t("./zlib/deflate"),a=t("./utils/common"),s=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),u=Object.prototype.toString,d=0,h=-1,f=0,p=8;function m(g){if(!(this instanceof m))return new m(g);this.options=a.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=o.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(x!==d)throw new Error(l[x]);if(v.header&&o.deflateSetHeader(this.strm,v.header),v.dictionary){var y;if(y=typeof v.dictionary=="string"?s.string2buf(v.dictionary):u.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(x=o.deflateSetDictionary(this.strm,y))!==d)throw new Error(l[x]);this._dict_set=!0}}function b(g,v){var x=new m(v);if(x.push(g,!0),x.err)throw x.msg||l[x.err];return x.result}m.prototype.push=function(g,v){var x,y,w=this.strm,k=this.options.chunkSize;if(this.ended)return!1;y=v===~~v?v:v===!0?4:0,typeof g=="string"?w.input=s.string2buf(g):u.call(g)==="[object ArrayBuffer]"?w.input=new Uint8Array(g):w.input=g,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new a.Buf8(k),w.next_out=0,w.avail_out=k),(x=o.deflate(w,y))!==1&&x!==d)return this.onEnd(x),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||y!==4&&y!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(w.output,w.next_out))):this.onData(a.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&x!==1);return y===4?(x=o.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d):y!==2||(this.onEnd(d),!(w.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=m,i.deflate=b,i.deflateRaw=function(g,v){return(v=v||{}).raw=!0,b(g,v)},i.gzip=function(g,v){return(v=v||{}).gzip=!0,b(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var o=t("./zlib/inflate"),a=t("./utils/common"),s=t("./utils/strings"),l=t("./zlib/constants"),c=t("./zlib/messages"),u=t("./zlib/zstream"),d=t("./zlib/gzheader"),h=Object.prototype.toString;function f(m){if(!(this instanceof f))return new f(m);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},m||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||m&&m.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var g=o.inflateInit2(this.strm,b.windowBits);if(g!==l.Z_OK)throw new Error(c[g]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function p(m,b){var g=new f(b);if(g.push(m,!0),g.err)throw g.msg||c[g.err];return g.result}f.prototype.push=function(m,b){var g,v,x,y,w,k,_=this.strm,T=this.options.chunkSize,E=this.options.dictionary,A=!1;if(this.ended)return!1;v=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?_.input=s.binstring2buf(m):h.call(m)==="[object ArrayBuffer]"?_.input=new Uint8Array(m):_.input=m,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new a.Buf8(T),_.next_out=0,_.avail_out=T),(g=o.inflate(_,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&E&&(k=typeof E=="string"?s.string2buf(E):h.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,g=o.inflateSetDictionary(this.strm,k)),g===l.Z_BUF_ERROR&&A===!0&&(g=l.Z_OK,A=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&g!==l.Z_STREAM_END&&(_.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=s.utf8border(_.output,_.next_out),y=_.next_out-x,w=s.buf2string(_.output,x),_.next_out=y,_.avail_out=T-y,y&&a.arraySet(_.output,_.output,x,y,0),this.onData(w)):this.onData(a.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(A=!0)}while((0<_.avail_in||_.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(g=o.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(_.avail_out=0))},f.prototype.onData=function(m){this.chunks.push(m)},f.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=f,i.inflate=p,i.inflateRaw=function(m,b){return(b=b||{}).raw=!0,p(m,b)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,d,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),h);else for(var f=0;f<d;f++)l[h+f]=c[u+f]},flattenChunks:function(l){var c,u,d,h,f,p;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(p=new Uint8Array(d),c=h=0,u=l.length;c<u;c++)f=l[c],p.set(f,h),h+=f.length;return p}},s={arraySet:function(l,c,u,d,h){for(var f=0;f<d;f++)l[h+f]=c[u+f]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(o)},{}],42:[function(t,r,i){var o=t("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(d){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(d){s=!1}for(var l=new o.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,h){if(h<65537&&(d.subarray&&s||!d.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(d,h));for(var f="",p=0;p<h;p++)f+=String.fromCharCode(d[p]);return f}l[254]=l[254]=1,i.string2buf=function(d){var h,f,p,m,b,g=d.length,v=0;for(m=0;m<g;m++)(64512&(f=d.charCodeAt(m)))==55296&&m+1<g&&(64512&(p=d.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),m++),v+=f<128?1:f<2048?2:f<65536?3:4;for(h=new o.Buf8(v),m=b=0;b<v;m++)(64512&(f=d.charCodeAt(m)))==55296&&m+1<g&&(64512&(p=d.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),m++),f<128?h[b++]=f:(f<2048?h[b++]=192|f>>>6:(f<65536?h[b++]=224|f>>>12:(h[b++]=240|f>>>18,h[b++]=128|f>>>12&63),h[b++]=128|f>>>6&63),h[b++]=128|63&f);return h},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var h=new o.Buf8(d.length),f=0,p=h.length;f<p;f++)h[f]=d.charCodeAt(f);return h},i.buf2string=function(d,h){var f,p,m,b,g=h||d.length,v=new Array(2*g);for(f=p=0;f<g;)if((m=d[f++])<128)v[p++]=m;else if(4<(b=l[m]))v[p++]=65533,f+=b-1;else{for(m&=b===2?31:b===3?15:7;1<b&&f<g;)m=m<<6|63&d[f++],b--;1<b?v[p++]=65533:m<65536?v[p++]=m:(m-=65536,v[p++]=55296|m>>10&1023,v[p++]=56320|1023&m)}return u(v,p)},i.utf8border=function(d,h){var f;for((h=h||d.length)>d.length&&(h=d.length),f=h-1;0<=f&&(192&d[f])==128;)f--;return f<0||f===0?h:f+l[d[f]]>h?f:h}},{"./common":41}],43:[function(t,r,i){r.exports=function(o,a,s,l){for(var c=65535&o|0,u=o>>>16&65535|0,d=0;s!==0;){for(s-=d=2e3<s?2e3:s;u=u+(c=c+a[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var o=function(){for(var a,s=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;s[l]=a}return s}();r.exports=function(a,s,l,c){var u=o,d=c+l;a^=-1;for(var h=c;h<d;h++)a=a>>>8^u[255&(a^s[h])];return-1^a}},{}],46:[function(t,r,i){var o,a=t("../utils/common"),s=t("./trees"),l=t("./adler32"),c=t("./crc32"),u=t("./messages"),d=0,h=4,f=0,p=-2,m=-1,b=4,g=2,v=8,x=9,y=286,w=30,k=19,_=2*y+1,T=15,E=3,A=258,M=A+E+1,I=42,L=113,S=1,O=2,P=3,z=4;function N(R,ne){return R.msg=u[ne],ne}function B(R){return(R<<1)-(4<R?9:0)}function U(R){for(var ne=R.length;0<=--ne;)R[ne]=0}function $(R){var ne=R.state,J=ne.pending;J>R.avail_out&&(J=R.avail_out),J!==0&&(a.arraySet(R.output,ne.pending_buf,ne.pending_out,J,R.next_out),R.next_out+=J,ne.pending_out+=J,R.total_out+=J,R.avail_out-=J,ne.pending-=J,ne.pending===0&&(ne.pending_out=0))}function F(R,ne){s._tr_flush_block(R,0<=R.block_start?R.block_start:-1,R.strstart-R.block_start,ne),R.block_start=R.strstart,$(R.strm)}function ee(R,ne){R.pending_buf[R.pending++]=ne}function X(R,ne){R.pending_buf[R.pending++]=ne>>>8&255,R.pending_buf[R.pending++]=255&ne}function Q(R,ne){var J,V,H=R.max_chain_length,K=R.strstart,se=R.prev_length,le=R.nice_match,Z=R.strstart>R.w_size-M?R.strstart-(R.w_size-M):0,he=R.window,xe=R.w_mask,fe=R.prev,Be=R.strstart+A,rt=he[K+se-1],Le=he[K+se];R.prev_length>=R.good_match&&(H>>=2),le>R.lookahead&&(le=R.lookahead);do if(he[(J=ne)+se]===Le&&he[J+se-1]===rt&&he[J]===he[K]&&he[++J]===he[K+1]){K+=2,J++;do;while(he[++K]===he[++J]&&he[++K]===he[++J]&&he[++K]===he[++J]&&he[++K]===he[++J]&&he[++K]===he[++J]&&he[++K]===he[++J]&&he[++K]===he[++J]&&he[++K]===he[++J]&&K<Be);if(V=A-(Be-K),K=Be-A,se<V){if(R.match_start=ne,le<=(se=V))break;rt=he[K+se-1],Le=he[K+se]}}while((ne=fe[ne&xe])>Z&&--H!=0);return se<=R.lookahead?se:R.lookahead}function be(R){var ne,J,V,H,K,se,le,Z,he,xe,fe=R.w_size;do{if(H=R.window_size-R.lookahead-R.strstart,R.strstart>=fe+(fe-M)){for(a.arraySet(R.window,R.window,fe,fe,0),R.match_start-=fe,R.strstart-=fe,R.block_start-=fe,ne=J=R.hash_size;V=R.head[--ne],R.head[ne]=fe<=V?V-fe:0,--J;);for(ne=J=fe;V=R.prev[--ne],R.prev[ne]=fe<=V?V-fe:0,--J;);H+=fe}if(R.strm.avail_in===0)break;if(se=R.strm,le=R.window,Z=R.strstart+R.lookahead,he=H,xe=void 0,xe=se.avail_in,he<xe&&(xe=he),J=xe===0?0:(se.avail_in-=xe,a.arraySet(le,se.input,se.next_in,xe,Z),se.state.wrap===1?se.adler=l(se.adler,le,xe,Z):se.state.wrap===2&&(se.adler=c(se.adler,le,xe,Z)),se.next_in+=xe,se.total_in+=xe,xe),R.lookahead+=J,R.lookahead+R.insert>=E)for(K=R.strstart-R.insert,R.ins_h=R.window[K],R.ins_h=(R.ins_h<<R.hash_shift^R.window[K+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[K+E-1])&R.hash_mask,R.prev[K&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=K,K++,R.insert--,!(R.lookahead+R.insert<E)););}while(R.lookahead<M&&R.strm.avail_in!==0)}function ye(R,ne){for(var J,V;;){if(R.lookahead<M){if(be(R),R.lookahead<M&&ne===d)return S;if(R.lookahead===0)break}if(J=0,R.lookahead>=E&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+E-1])&R.hash_mask,J=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),J!==0&&R.strstart-J<=R.w_size-M&&(R.match_length=Q(R,J)),R.match_length>=E)if(V=s._tr_tally(R,R.strstart-R.match_start,R.match_length-E),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=E){for(R.match_length--;R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+E-1])&R.hash_mask,J=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart,--R.match_length!=0;);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else V=s._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(V&&(F(R,!1),R.strm.avail_out===0))return S}return R.insert=R.strstart<E-1?R.strstart:E-1,ne===h?(F(R,!0),R.strm.avail_out===0?P:z):R.last_lit&&(F(R,!1),R.strm.avail_out===0)?S:O}function ge(R,ne){for(var J,V,H;;){if(R.lookahead<M){if(be(R),R.lookahead<M&&ne===d)return S;if(R.lookahead===0)break}if(J=0,R.lookahead>=E&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+E-1])&R.hash_mask,J=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=E-1,J!==0&&R.prev_length<R.max_lazy_match&&R.strstart-J<=R.w_size-M&&(R.match_length=Q(R,J),R.match_length<=5&&(R.strategy===1||R.match_length===E&&4096<R.strstart-R.match_start)&&(R.match_length=E-1)),R.prev_length>=E&&R.match_length<=R.prev_length){for(H=R.strstart+R.lookahead-E,V=s._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-E),R.lookahead-=R.prev_length-1,R.prev_length-=2;++R.strstart<=H&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+E-1])&R.hash_mask,J=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),--R.prev_length!=0;);if(R.match_available=0,R.match_length=E-1,R.strstart++,V&&(F(R,!1),R.strm.avail_out===0))return S}else if(R.match_available){if((V=s._tr_tally(R,0,R.window[R.strstart-1]))&&F(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return S}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(V=s._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<E-1?R.strstart:E-1,ne===h?(F(R,!0),R.strm.avail_out===0?P:z):R.last_lit&&(F(R,!1),R.strm.avail_out===0)?S:O}function we(R,ne,J,V,H){this.good_length=R,this.max_lazy=ne,this.nice_length=J,this.max_chain=V,this.func=H}function Ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*_),this.dyn_dtree=new a.Buf16(2*(2*w+1)),this.bl_tree=new a.Buf16(2*(2*k+1)),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(T+1),this.heap=new a.Buf16(2*y+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*y+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Me(R){var ne;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=g,(ne=R.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?I:L,R.adler=ne.wrap===2?0:1,ne.last_flush=d,s._tr_init(ne),f):N(R,p)}function He(R){var ne=Me(R);return ne===f&&function(J){J.window_size=2*J.w_size,U(J.head),J.max_lazy_match=o[J.level].max_lazy,J.good_match=o[J.level].good_length,J.nice_match=o[J.level].nice_length,J.max_chain_length=o[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=E-1,J.match_available=0,J.ins_h=0}(R.state),ne}function Ne(R,ne,J,V,H,K){if(!R)return p;var se=1;if(ne===m&&(ne=6),V<0?(se=0,V=-V):15<V&&(se=2,V-=16),H<1||x<H||J!==v||V<8||15<V||ne<0||9<ne||K<0||b<K)return N(R,p);V===8&&(V=9);var le=new Ue;return(R.state=le).strm=R,le.wrap=se,le.gzhead=null,le.w_bits=V,le.w_size=1<<le.w_bits,le.w_mask=le.w_size-1,le.hash_bits=H+7,le.hash_size=1<<le.hash_bits,le.hash_mask=le.hash_size-1,le.hash_shift=~~((le.hash_bits+E-1)/E),le.window=new a.Buf8(2*le.w_size),le.head=new a.Buf16(le.hash_size),le.prev=new a.Buf16(le.w_size),le.lit_bufsize=1<<H+6,le.pending_buf_size=4*le.lit_bufsize,le.pending_buf=new a.Buf8(le.pending_buf_size),le.d_buf=1*le.lit_bufsize,le.l_buf=3*le.lit_bufsize,le.level=ne,le.strategy=K,le.method=J,He(R)}o=[new we(0,0,0,0,function(R,ne){var J=65535;for(J>R.pending_buf_size-5&&(J=R.pending_buf_size-5);;){if(R.lookahead<=1){if(be(R),R.lookahead===0&&ne===d)return S;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var V=R.block_start+J;if((R.strstart===0||R.strstart>=V)&&(R.lookahead=R.strstart-V,R.strstart=V,F(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-M&&(F(R,!1),R.strm.avail_out===0))return S}return R.insert=0,ne===h?(F(R,!0),R.strm.avail_out===0?P:z):(R.strstart>R.block_start&&(F(R,!1),R.strm.avail_out),S)}),new we(4,4,8,4,ye),new we(4,5,16,8,ye),new we(4,6,32,32,ye),new we(4,4,16,16,ge),new we(8,16,32,32,ge),new we(8,16,128,128,ge),new we(8,32,128,256,ge),new we(32,128,258,1024,ge),new we(32,258,258,4096,ge)],i.deflateInit=function(R,ne){return Ne(R,ne,v,15,8,0)},i.deflateInit2=Ne,i.deflateReset=He,i.deflateResetKeep=Me,i.deflateSetHeader=function(R,ne){return R&&R.state?R.state.wrap!==2?p:(R.state.gzhead=ne,f):p},i.deflate=function(R,ne){var J,V,H,K;if(!R||!R.state||5<ne||ne<0)return R?N(R,p):p;if(V=R.state,!R.output||!R.input&&R.avail_in!==0||V.status===666&&ne!==h)return N(R,R.avail_out===0?-5:p);if(V.strm=R,J=V.last_flush,V.last_flush=ne,V.status===I)if(V.wrap===2)R.adler=0,ee(V,31),ee(V,139),ee(V,8),V.gzhead?(ee(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),ee(V,255&V.gzhead.time),ee(V,V.gzhead.time>>8&255),ee(V,V.gzhead.time>>16&255),ee(V,V.gzhead.time>>24&255),ee(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),ee(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(ee(V,255&V.gzhead.extra.length),ee(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(R.adler=c(R.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(ee(V,0),ee(V,0),ee(V,0),ee(V,0),ee(V,0),ee(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),ee(V,3),V.status=L);else{var se=v+(V.w_bits-8<<4)<<8;se|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(se|=32),se+=31-se%31,V.status=L,X(V,se),V.strstart!==0&&(X(V,R.adler>>>16),X(V,65535&R.adler)),R.adler=1}if(V.status===69)if(V.gzhead.extra){for(H=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>H&&(R.adler=c(R.adler,V.pending_buf,V.pending-H,H)),$(R),H=V.pending,V.pending!==V.pending_buf_size));)ee(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>H&&(R.adler=c(R.adler,V.pending_buf,V.pending-H,H)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){H=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>H&&(R.adler=c(R.adler,V.pending_buf,V.pending-H,H)),$(R),H=V.pending,V.pending===V.pending_buf_size)){K=1;break}K=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,ee(V,K)}while(K!==0);V.gzhead.hcrc&&V.pending>H&&(R.adler=c(R.adler,V.pending_buf,V.pending-H,H)),K===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){H=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>H&&(R.adler=c(R.adler,V.pending_buf,V.pending-H,H)),$(R),H=V.pending,V.pending===V.pending_buf_size)){K=1;break}K=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,ee(V,K)}while(K!==0);V.gzhead.hcrc&&V.pending>H&&(R.adler=c(R.adler,V.pending_buf,V.pending-H,H)),K===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&$(R),V.pending+2<=V.pending_buf_size&&(ee(V,255&R.adler),ee(V,R.adler>>8&255),R.adler=0,V.status=L)):V.status=L),V.pending!==0){if($(R),R.avail_out===0)return V.last_flush=-1,f}else if(R.avail_in===0&&B(ne)<=B(J)&&ne!==h)return N(R,-5);if(V.status===666&&R.avail_in!==0)return N(R,-5);if(R.avail_in!==0||V.lookahead!==0||ne!==d&&V.status!==666){var le=V.strategy===2?function(Z,he){for(var xe;;){if(Z.lookahead===0&&(be(Z),Z.lookahead===0)){if(he===d)return S;break}if(Z.match_length=0,xe=s._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++,xe&&(F(Z,!1),Z.strm.avail_out===0))return S}return Z.insert=0,he===h?(F(Z,!0),Z.strm.avail_out===0?P:z):Z.last_lit&&(F(Z,!1),Z.strm.avail_out===0)?S:O}(V,ne):V.strategy===3?function(Z,he){for(var xe,fe,Be,rt,Le=Z.window;;){if(Z.lookahead<=A){if(be(Z),Z.lookahead<=A&&he===d)return S;if(Z.lookahead===0)break}if(Z.match_length=0,Z.lookahead>=E&&0<Z.strstart&&(fe=Le[Be=Z.strstart-1])===Le[++Be]&&fe===Le[++Be]&&fe===Le[++Be]){rt=Z.strstart+A;do;while(fe===Le[++Be]&&fe===Le[++Be]&&fe===Le[++Be]&&fe===Le[++Be]&&fe===Le[++Be]&&fe===Le[++Be]&&fe===Le[++Be]&&fe===Le[++Be]&&Be<rt);Z.match_length=A-(rt-Be),Z.match_length>Z.lookahead&&(Z.match_length=Z.lookahead)}if(Z.match_length>=E?(xe=s._tr_tally(Z,1,Z.match_length-E),Z.lookahead-=Z.match_length,Z.strstart+=Z.match_length,Z.match_length=0):(xe=s._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++),xe&&(F(Z,!1),Z.strm.avail_out===0))return S}return Z.insert=0,he===h?(F(Z,!0),Z.strm.avail_out===0?P:z):Z.last_lit&&(F(Z,!1),Z.strm.avail_out===0)?S:O}(V,ne):o[V.level].func(V,ne);if(le!==P&&le!==z||(V.status=666),le===S||le===P)return R.avail_out===0&&(V.last_flush=-1),f;if(le===O&&(ne===1?s._tr_align(V):ne!==5&&(s._tr_stored_block(V,0,0,!1),ne===3&&(U(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),$(R),R.avail_out===0))return V.last_flush=-1,f}return ne!==h?f:V.wrap<=0?1:(V.wrap===2?(ee(V,255&R.adler),ee(V,R.adler>>8&255),ee(V,R.adler>>16&255),ee(V,R.adler>>24&255),ee(V,255&R.total_in),ee(V,R.total_in>>8&255),ee(V,R.total_in>>16&255),ee(V,R.total_in>>24&255)):(X(V,R.adler>>>16),X(V,65535&R.adler)),$(R),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?f:1)},i.deflateEnd=function(R){var ne;return R&&R.state?(ne=R.state.status)!==I&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==L&&ne!==666?N(R,p):(R.state=null,ne===L?N(R,-3):f):p},i.deflateSetDictionary=function(R,ne){var J,V,H,K,se,le,Z,he,xe=ne.length;if(!R||!R.state||(K=(J=R.state).wrap)===2||K===1&&J.status!==I||J.lookahead)return p;for(K===1&&(R.adler=l(R.adler,ne,xe,0)),J.wrap=0,xe>=J.w_size&&(K===0&&(U(J.head),J.strstart=0,J.block_start=0,J.insert=0),he=new a.Buf8(J.w_size),a.arraySet(he,ne,xe-J.w_size,J.w_size,0),ne=he,xe=J.w_size),se=R.avail_in,le=R.next_in,Z=R.input,R.avail_in=xe,R.next_in=0,R.input=ne,be(J);J.lookahead>=E;){for(V=J.strstart,H=J.lookahead-(E-1);J.ins_h=(J.ins_h<<J.hash_shift^J.window[V+E-1])&J.hash_mask,J.prev[V&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=V,V++,--H;);J.strstart=V,J.lookahead=E-1,be(J)}return J.strstart+=J.lookahead,J.block_start=J.strstart,J.insert=J.lookahead,J.lookahead=0,J.match_length=J.prev_length=E-1,J.match_available=0,R.next_in=le,R.input=Z,R.avail_in=se,J.wrap=K,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(o,a){var s,l,c,u,d,h,f,p,m,b,g,v,x,y,w,k,_,T,E,A,M,I,L,S,O;s=o.state,l=o.next_in,S=o.input,c=l+(o.avail_in-5),u=o.next_out,O=o.output,d=u-(a-o.avail_out),h=u+(o.avail_out-257),f=s.dmax,p=s.wsize,m=s.whave,b=s.wnext,g=s.window,v=s.hold,x=s.bits,y=s.lencode,w=s.distcode,k=(1<<s.lenbits)-1,_=(1<<s.distbits)-1;e:do{x<15&&(v+=S[l++]<<x,x+=8,v+=S[l++]<<x,x+=8),T=y[v&k];t:for(;;){if(v>>>=E=T>>>24,x-=E,(E=T>>>16&255)===0)O[u++]=65535&T;else{if(!(16&E)){if(!(64&E)){T=y[(65535&T)+(v&(1<<E)-1)];continue t}if(32&E){s.mode=12;break e}o.msg="invalid literal/length code",s.mode=30;break e}A=65535&T,(E&=15)&&(x<E&&(v+=S[l++]<<x,x+=8),A+=v&(1<<E)-1,v>>>=E,x-=E),x<15&&(v+=S[l++]<<x,x+=8,v+=S[l++]<<x,x+=8),T=w[v&_];n:for(;;){if(v>>>=E=T>>>24,x-=E,!(16&(E=T>>>16&255))){if(!(64&E)){T=w[(65535&T)+(v&(1<<E)-1)];continue n}o.msg="invalid distance code",s.mode=30;break e}if(M=65535&T,x<(E&=15)&&(v+=S[l++]<<x,(x+=8)<E&&(v+=S[l++]<<x,x+=8)),f<(M+=v&(1<<E)-1)){o.msg="invalid distance too far back",s.mode=30;break e}if(v>>>=E,x-=E,(E=u-d)<M){if(m<(E=M-E)&&s.sane){o.msg="invalid distance too far back",s.mode=30;break e}if(L=g,(I=0)===b){if(I+=p-E,E<A){for(A-=E;O[u++]=g[I++],--E;);I=u-M,L=O}}else if(b<E){if(I+=p+b-E,(E-=b)<A){for(A-=E;O[u++]=g[I++],--E;);if(I=0,b<A){for(A-=E=b;O[u++]=g[I++],--E;);I=u-M,L=O}}}else if(I+=b-E,E<A){for(A-=E;O[u++]=g[I++],--E;);I=u-M,L=O}for(;2<A;)O[u++]=L[I++],O[u++]=L[I++],O[u++]=L[I++],A-=3;A&&(O[u++]=L[I++],1<A&&(O[u++]=L[I++]))}else{for(I=u-M;O[u++]=O[I++],O[u++]=O[I++],O[u++]=O[I++],2<(A-=3););A&&(O[u++]=O[I++],1<A&&(O[u++]=O[I++]))}break}}break}}while(l<c&&u<h);l-=A=x>>3,v&=(1<<(x-=A<<3))-1,o.next_in=l,o.next_out=u,o.avail_in=l<c?c-l+5:5-(l-c),o.avail_out=u<h?h-u+257:257-(u-h),s.hold=v,s.bits=x}},{}],49:[function(t,r,i){var o=t("../utils/common"),a=t("./adler32"),s=t("./crc32"),l=t("./inffast"),c=t("./inftrees"),u=1,d=2,h=0,f=-2,p=1,m=852,b=592;function g(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(I){var L;return I&&I.state?(L=I.state,I.total_in=I.total_out=L.total=0,I.msg="",L.wrap&&(I.adler=1&L.wrap),L.mode=p,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new o.Buf32(m),L.distcode=L.distdyn=new o.Buf32(b),L.sane=1,L.back=-1,h):f}function y(I){var L;return I&&I.state?((L=I.state).wsize=0,L.whave=0,L.wnext=0,x(I)):f}function w(I,L){var S,O;return I&&I.state?(O=I.state,L<0?(S=0,L=-L):(S=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?f:(O.window!==null&&O.wbits!==L&&(O.window=null),O.wrap=S,O.wbits=L,y(I))):f}function k(I,L){var S,O;return I?(O=new v,(I.state=O).window=null,(S=w(I,L))!==h&&(I.state=null),S):f}var _,T,E=!0;function A(I){if(E){var L;for(_=new o.Buf32(512),T=new o.Buf32(32),L=0;L<144;)I.lens[L++]=8;for(;L<256;)I.lens[L++]=9;for(;L<280;)I.lens[L++]=7;for(;L<288;)I.lens[L++]=8;for(c(u,I.lens,0,288,_,0,I.work,{bits:9}),L=0;L<32;)I.lens[L++]=5;c(d,I.lens,0,32,T,0,I.work,{bits:5}),E=!1}I.lencode=_,I.lenbits=9,I.distcode=T,I.distbits=5}function M(I,L,S,O){var P,z=I.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new o.Buf8(z.wsize)),O>=z.wsize?(o.arraySet(z.window,L,S-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(O<(P=z.wsize-z.wnext)&&(P=O),o.arraySet(z.window,L,S-O,P,z.wnext),(O-=P)?(o.arraySet(z.window,L,S-O,O,0),z.wnext=O,z.whave=z.wsize):(z.wnext+=P,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=P))),0}i.inflateReset=y,i.inflateReset2=w,i.inflateResetKeep=x,i.inflateInit=function(I){return k(I,15)},i.inflateInit2=k,i.inflate=function(I,L){var S,O,P,z,N,B,U,$,F,ee,X,Q,be,ye,ge,we,Ue,Me,He,Ne,R,ne,J,V,H=0,K=new o.Buf8(4),se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return f;(S=I.state).mode===12&&(S.mode=13),N=I.next_out,P=I.output,U=I.avail_out,z=I.next_in,O=I.input,B=I.avail_in,$=S.hold,F=S.bits,ee=B,X=U,ne=h;e:for(;;)switch(S.mode){case p:if(S.wrap===0){S.mode=13;break}for(;F<16;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}if(2&S.wrap&&$===35615){K[S.check=0]=255&$,K[1]=$>>>8&255,S.check=s(S.check,K,2,0),F=$=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&$)<<8)+($>>8))%31){I.msg="incorrect header check",S.mode=30;break}if((15&$)!=8){I.msg="unknown compression method",S.mode=30;break}if(F-=4,R=8+(15&($>>>=4)),S.wbits===0)S.wbits=R;else if(R>S.wbits){I.msg="invalid window size",S.mode=30;break}S.dmax=1<<R,I.adler=S.check=1,S.mode=512&$?10:12,F=$=0;break;case 2:for(;F<16;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}if(S.flags=$,(255&S.flags)!=8){I.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){I.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=$>>8&1),512&S.flags&&(K[0]=255&$,K[1]=$>>>8&255,S.check=s(S.check,K,2,0)),F=$=0,S.mode=3;case 3:for(;F<32;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}S.head&&(S.head.time=$),512&S.flags&&(K[0]=255&$,K[1]=$>>>8&255,K[2]=$>>>16&255,K[3]=$>>>24&255,S.check=s(S.check,K,4,0)),F=$=0,S.mode=4;case 4:for(;F<16;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}S.head&&(S.head.xflags=255&$,S.head.os=$>>8),512&S.flags&&(K[0]=255&$,K[1]=$>>>8&255,S.check=s(S.check,K,2,0)),F=$=0,S.mode=5;case 5:if(1024&S.flags){for(;F<16;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}S.length=$,S.head&&(S.head.extra_len=$),512&S.flags&&(K[0]=255&$,K[1]=$>>>8&255,S.check=s(S.check,K,2,0)),F=$=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(B<(Q=S.length)&&(Q=B),Q&&(S.head&&(R=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),o.arraySet(S.head.extra,O,z,Q,R)),512&S.flags&&(S.check=s(S.check,O,Q,z)),B-=Q,z+=Q,S.length-=Q),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(B===0)break e;for(Q=0;R=O[z+Q++],S.head&&R&&S.length<65536&&(S.head.name+=String.fromCharCode(R)),R&&Q<B;);if(512&S.flags&&(S.check=s(S.check,O,Q,z)),B-=Q,z+=Q,R)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(B===0)break e;for(Q=0;R=O[z+Q++],S.head&&R&&S.length<65536&&(S.head.comment+=String.fromCharCode(R)),R&&Q<B;);if(512&S.flags&&(S.check=s(S.check,O,Q,z)),B-=Q,z+=Q,R)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;F<16;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}if($!==(65535&S.check)){I.msg="header crc mismatch",S.mode=30;break}F=$=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),I.adler=S.check=0,S.mode=12;break;case 10:for(;F<32;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}I.adler=S.check=g($),F=$=0,S.mode=11;case 11:if(S.havedict===0)return I.next_out=N,I.avail_out=U,I.next_in=z,I.avail_in=B,S.hold=$,S.bits=F,2;I.adler=S.check=1,S.mode=12;case 12:if(L===5||L===6)break e;case 13:if(S.last){$>>>=7&F,F-=7&F,S.mode=27;break}for(;F<3;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}switch(S.last=1&$,F-=1,3&($>>>=1)){case 0:S.mode=14;break;case 1:if(A(S),S.mode=20,L!==6)break;$>>>=2,F-=2;break e;case 2:S.mode=17;break;case 3:I.msg="invalid block type",S.mode=30}$>>>=2,F-=2;break;case 14:for($>>>=7&F,F-=7&F;F<32;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}if((65535&$)!=($>>>16^65535)){I.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&$,F=$=0,S.mode=15,L===6)break e;case 15:S.mode=16;case 16:if(Q=S.length){if(B<Q&&(Q=B),U<Q&&(Q=U),Q===0)break e;o.arraySet(P,O,z,Q,N),B-=Q,z+=Q,U-=Q,N+=Q,S.length-=Q;break}S.mode=12;break;case 17:for(;F<14;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}if(S.nlen=257+(31&$),$>>>=5,F-=5,S.ndist=1+(31&$),$>>>=5,F-=5,S.ncode=4+(15&$),$>>>=4,F-=4,286<S.nlen||30<S.ndist){I.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;F<3;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}S.lens[se[S.have++]]=7&$,$>>>=3,F-=3}for(;S.have<19;)S.lens[se[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,J={bits:S.lenbits},ne=c(0,S.lens,0,19,S.lencode,0,S.work,J),S.lenbits=J.bits,ne){I.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;we=(H=S.lencode[$&(1<<S.lenbits)-1])>>>16&255,Ue=65535&H,!((ge=H>>>24)<=F);){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}if(Ue<16)$>>>=ge,F-=ge,S.lens[S.have++]=Ue;else{if(Ue===16){for(V=ge+2;F<V;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}if($>>>=ge,F-=ge,S.have===0){I.msg="invalid bit length repeat",S.mode=30;break}R=S.lens[S.have-1],Q=3+(3&$),$>>>=2,F-=2}else if(Ue===17){for(V=ge+3;F<V;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}F-=ge,R=0,Q=3+(7&($>>>=ge)),$>>>=3,F-=3}else{for(V=ge+7;F<V;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}F-=ge,R=0,Q=11+(127&($>>>=ge)),$>>>=7,F-=7}if(S.have+Q>S.nlen+S.ndist){I.msg="invalid bit length repeat",S.mode=30;break}for(;Q--;)S.lens[S.have++]=R}}if(S.mode===30)break;if(S.lens[256]===0){I.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,J={bits:S.lenbits},ne=c(u,S.lens,0,S.nlen,S.lencode,0,S.work,J),S.lenbits=J.bits,ne){I.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,J={bits:S.distbits},ne=c(d,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,J),S.distbits=J.bits,ne){I.msg="invalid distances set",S.mode=30;break}if(S.mode=20,L===6)break e;case 20:S.mode=21;case 21:if(6<=B&&258<=U){I.next_out=N,I.avail_out=U,I.next_in=z,I.avail_in=B,S.hold=$,S.bits=F,l(I,X),N=I.next_out,P=I.output,U=I.avail_out,z=I.next_in,O=I.input,B=I.avail_in,$=S.hold,F=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;we=(H=S.lencode[$&(1<<S.lenbits)-1])>>>16&255,Ue=65535&H,!((ge=H>>>24)<=F);){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}if(we&&!(240&we)){for(Me=ge,He=we,Ne=Ue;we=(H=S.lencode[Ne+(($&(1<<Me+He)-1)>>Me)])>>>16&255,Ue=65535&H,!(Me+(ge=H>>>24)<=F);){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}$>>>=Me,F-=Me,S.back+=Me}if($>>>=ge,F-=ge,S.back+=ge,S.length=Ue,we===0){S.mode=26;break}if(32&we){S.back=-1,S.mode=12;break}if(64&we){I.msg="invalid literal/length code",S.mode=30;break}S.extra=15&we,S.mode=22;case 22:if(S.extra){for(V=S.extra;F<V;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}S.length+=$&(1<<S.extra)-1,$>>>=S.extra,F-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;we=(H=S.distcode[$&(1<<S.distbits)-1])>>>16&255,Ue=65535&H,!((ge=H>>>24)<=F);){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}if(!(240&we)){for(Me=ge,He=we,Ne=Ue;we=(H=S.distcode[Ne+(($&(1<<Me+He)-1)>>Me)])>>>16&255,Ue=65535&H,!(Me+(ge=H>>>24)<=F);){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}$>>>=Me,F-=Me,S.back+=Me}if($>>>=ge,F-=ge,S.back+=ge,64&we){I.msg="invalid distance code",S.mode=30;break}S.offset=Ue,S.extra=15&we,S.mode=24;case 24:if(S.extra){for(V=S.extra;F<V;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}S.offset+=$&(1<<S.extra)-1,$>>>=S.extra,F-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){I.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(U===0)break e;if(Q=X-U,S.offset>Q){if((Q=S.offset-Q)>S.whave&&S.sane){I.msg="invalid distance too far back",S.mode=30;break}be=Q>S.wnext?(Q-=S.wnext,S.wsize-Q):S.wnext-Q,Q>S.length&&(Q=S.length),ye=S.window}else ye=P,be=N-S.offset,Q=S.length;for(U<Q&&(Q=U),U-=Q,S.length-=Q;P[N++]=ye[be++],--Q;);S.length===0&&(S.mode=21);break;case 26:if(U===0)break e;P[N++]=S.length,U--,S.mode=21;break;case 27:if(S.wrap){for(;F<32;){if(B===0)break e;B--,$|=O[z++]<<F,F+=8}if(X-=U,I.total_out+=X,S.total+=X,X&&(I.adler=S.check=S.flags?s(S.check,P,X,N-X):a(S.check,P,X,N-X)),X=U,(S.flags?$:g($))!==S.check){I.msg="incorrect data check",S.mode=30;break}F=$=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;F<32;){if(B===0)break e;B--,$+=O[z++]<<F,F+=8}if($!==(4294967295&S.total)){I.msg="incorrect length check",S.mode=30;break}F=$=0}S.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return f}return I.next_out=N,I.avail_out=U,I.next_in=z,I.avail_in=B,S.hold=$,S.bits=F,(S.wsize||X!==I.avail_out&&S.mode<30&&(S.mode<27||L!==4))&&M(I,I.output,I.next_out,X-I.avail_out)?(S.mode=31,-4):(ee-=I.avail_in,X-=I.avail_out,I.total_in+=ee,I.total_out+=X,S.total+=X,S.wrap&&X&&(I.adler=S.check=S.flags?s(S.check,P,X,I.next_out-X):a(S.check,P,X,I.next_out-X)),I.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(ee==0&&X===0||L===4)&&ne===h&&(ne=-5),ne)},i.inflateEnd=function(I){if(!I||!I.state)return f;var L=I.state;return L.window&&(L.window=null),I.state=null,h},i.inflateGetHeader=function(I,L){var S;return I&&I.state&&2&(S=I.state).wrap?((S.head=L).done=!1,h):f},i.inflateSetDictionary=function(I,L){var S,O=L.length;return I&&I.state?(S=I.state).wrap!==0&&S.mode!==11?f:S.mode===11&&a(1,L,O,0)!==S.check?-3:M(I,L,O,O)?(S.mode=31,-4):(S.havedict=1,h):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var o=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,d,h,f,p,m,b,g){var v,x,y,w,k,_,T,E,A,M=g.bits,I=0,L=0,S=0,O=0,P=0,z=0,N=0,B=0,U=0,$=0,F=null,ee=0,X=new o.Buf16(16),Q=new o.Buf16(16),be=null,ye=0;for(I=0;I<=15;I++)X[I]=0;for(L=0;L<f;L++)X[d[h+L]]++;for(P=M,O=15;1<=O&&X[O]===0;O--);if(O<P&&(P=O),O===0)return p[m++]=20971520,p[m++]=20971520,g.bits=1,0;for(S=1;S<O&&X[S]===0;S++);for(P<S&&(P=S),I=B=1;I<=15;I++)if(B<<=1,(B-=X[I])<0)return-1;if(0<B&&(u===0||O!==1))return-1;for(Q[1]=0,I=1;I<15;I++)Q[I+1]=Q[I]+X[I];for(L=0;L<f;L++)d[h+L]!==0&&(b[Q[d[h+L]]++]=L);if(_=u===0?(F=be=b,19):u===1?(F=a,ee-=257,be=s,ye-=257,256):(F=l,be=c,-1),I=S,k=m,N=L=$=0,y=-1,w=(U=1<<(z=P))-1,u===1&&852<U||u===2&&592<U)return 1;for(;;){for(T=I-N,A=b[L]<_?(E=0,b[L]):b[L]>_?(E=be[ye+b[L]],F[ee+b[L]]):(E=96,0),v=1<<I-N,S=x=1<<z;p[k+($>>N)+(x-=v)]=T<<24|E<<16|A|0,x!==0;);for(v=1<<I-1;$&v;)v>>=1;if(v!==0?($&=v-1,$+=v):$=0,L++,--X[I]==0){if(I===O)break;I=d[h+b[L]]}if(P<I&&($&w)!==y){for(N===0&&(N=P),k+=S,B=1<<(z=I-N);z+N<O&&!((B-=X[z+N])<=0);)z++,B<<=1;if(U+=1<<z,u===1&&852<U||u===2&&592<U)return 1;p[y=$&w]=P<<24|z<<16|k-m|0}}return $!==0&&(p[k+$]=I-N<<24|64<<16|0),g.bits=P,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var o=t("../utils/common"),a=0,s=1;function l(H){for(var K=H.length;0<=--K;)H[K]=0}var c=0,u=29,d=256,h=d+1+u,f=30,p=19,m=2*h+1,b=15,g=16,v=7,x=256,y=16,w=17,k=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(h+2));l(M);var I=new Array(2*f);l(I);var L=new Array(512);l(L);var S=new Array(256);l(S);var O=new Array(u);l(O);var P,z,N,B=new Array(f);function U(H,K,se,le,Z){this.static_tree=H,this.extra_bits=K,this.extra_base=se,this.elems=le,this.max_length=Z,this.has_stree=H&&H.length}function $(H,K){this.dyn_tree=H,this.max_code=0,this.stat_desc=K}function F(H){return H<256?L[H]:L[256+(H>>>7)]}function ee(H,K){H.pending_buf[H.pending++]=255&K,H.pending_buf[H.pending++]=K>>>8&255}function X(H,K,se){H.bi_valid>g-se?(H.bi_buf|=K<<H.bi_valid&65535,ee(H,H.bi_buf),H.bi_buf=K>>g-H.bi_valid,H.bi_valid+=se-g):(H.bi_buf|=K<<H.bi_valid&65535,H.bi_valid+=se)}function Q(H,K,se){X(H,se[2*K],se[2*K+1])}function be(H,K){for(var se=0;se|=1&H,H>>>=1,se<<=1,0<--K;);return se>>>1}function ye(H,K,se){var le,Z,he=new Array(b+1),xe=0;for(le=1;le<=b;le++)he[le]=xe=xe+se[le-1]<<1;for(Z=0;Z<=K;Z++){var fe=H[2*Z+1];fe!==0&&(H[2*Z]=be(he[fe]++,fe))}}function ge(H){var K;for(K=0;K<h;K++)H.dyn_ltree[2*K]=0;for(K=0;K<f;K++)H.dyn_dtree[2*K]=0;for(K=0;K<p;K++)H.bl_tree[2*K]=0;H.dyn_ltree[2*x]=1,H.opt_len=H.static_len=0,H.last_lit=H.matches=0}function we(H){8<H.bi_valid?ee(H,H.bi_buf):0<H.bi_valid&&(H.pending_buf[H.pending++]=H.bi_buf),H.bi_buf=0,H.bi_valid=0}function Ue(H,K,se,le){var Z=2*K,he=2*se;return H[Z]<H[he]||H[Z]===H[he]&&le[K]<=le[se]}function Me(H,K,se){for(var le=H.heap[se],Z=se<<1;Z<=H.heap_len&&(Z<H.heap_len&&Ue(K,H.heap[Z+1],H.heap[Z],H.depth)&&Z++,!Ue(K,le,H.heap[Z],H.depth));)H.heap[se]=H.heap[Z],se=Z,Z<<=1;H.heap[se]=le}function He(H,K,se){var le,Z,he,xe,fe=0;if(H.last_lit!==0)for(;le=H.pending_buf[H.d_buf+2*fe]<<8|H.pending_buf[H.d_buf+2*fe+1],Z=H.pending_buf[H.l_buf+fe],fe++,le===0?Q(H,Z,K):(Q(H,(he=S[Z])+d+1,K),(xe=_[he])!==0&&X(H,Z-=O[he],xe),Q(H,he=F(--le),se),(xe=T[he])!==0&&X(H,le-=B[he],xe)),fe<H.last_lit;);Q(H,x,K)}function Ne(H,K){var se,le,Z,he=K.dyn_tree,xe=K.stat_desc.static_tree,fe=K.stat_desc.has_stree,Be=K.stat_desc.elems,rt=-1;for(H.heap_len=0,H.heap_max=m,se=0;se<Be;se++)he[2*se]!==0?(H.heap[++H.heap_len]=rt=se,H.depth[se]=0):he[2*se+1]=0;for(;H.heap_len<2;)he[2*(Z=H.heap[++H.heap_len]=rt<2?++rt:0)]=1,H.depth[Z]=0,H.opt_len--,fe&&(H.static_len-=xe[2*Z+1]);for(K.max_code=rt,se=H.heap_len>>1;1<=se;se--)Me(H,he,se);for(Z=Be;se=H.heap[1],H.heap[1]=H.heap[H.heap_len--],Me(H,he,1),le=H.heap[1],H.heap[--H.heap_max]=se,H.heap[--H.heap_max]=le,he[2*Z]=he[2*se]+he[2*le],H.depth[Z]=(H.depth[se]>=H.depth[le]?H.depth[se]:H.depth[le])+1,he[2*se+1]=he[2*le+1]=Z,H.heap[1]=Z++,Me(H,he,1),2<=H.heap_len;);H.heap[--H.heap_max]=H.heap[1],function(Le,Nt){var ti,Gt,ni,ut,ki,Zi,ri=Nt.dyn_tree,$d=Nt.max_code,Wm=Nt.stat_desc.static_tree,Vm=Nt.stat_desc.has_stree,qm=Nt.stat_desc.extra_bits,Ud=Nt.stat_desc.extra_base,Da=Nt.stat_desc.max_length,Hs=0;for(ut=0;ut<=b;ut++)Le.bl_count[ut]=0;for(ri[2*Le.heap[Le.heap_max]+1]=0,ti=Le.heap_max+1;ti<m;ti++)Da<(ut=ri[2*ri[2*(Gt=Le.heap[ti])+1]+1]+1)&&(ut=Da,Hs++),ri[2*Gt+1]=ut,$d<Gt||(Le.bl_count[ut]++,ki=0,Ud<=Gt&&(ki=qm[Gt-Ud]),Zi=ri[2*Gt],Le.opt_len+=Zi*(ut+ki),Vm&&(Le.static_len+=Zi*(Wm[2*Gt+1]+ki)));if(Hs!==0){do{for(ut=Da-1;Le.bl_count[ut]===0;)ut--;Le.bl_count[ut]--,Le.bl_count[ut+1]+=2,Le.bl_count[Da]--,Hs-=2}while(0<Hs);for(ut=Da;ut!==0;ut--)for(Gt=Le.bl_count[ut];Gt!==0;)$d<(ni=Le.heap[--ti])||(ri[2*ni+1]!==ut&&(Le.opt_len+=(ut-ri[2*ni+1])*ri[2*ni],ri[2*ni+1]=ut),Gt--)}}(H,K),ye(he,rt,H.bl_count)}function R(H,K,se){var le,Z,he=-1,xe=K[1],fe=0,Be=7,rt=4;for(xe===0&&(Be=138,rt=3),K[2*(se+1)+1]=65535,le=0;le<=se;le++)Z=xe,xe=K[2*(le+1)+1],++fe<Be&&Z===xe||(fe<rt?H.bl_tree[2*Z]+=fe:Z!==0?(Z!==he&&H.bl_tree[2*Z]++,H.bl_tree[2*y]++):fe<=10?H.bl_tree[2*w]++:H.bl_tree[2*k]++,he=Z,rt=(fe=0)===xe?(Be=138,3):Z===xe?(Be=6,3):(Be=7,4))}function ne(H,K,se){var le,Z,he=-1,xe=K[1],fe=0,Be=7,rt=4;for(xe===0&&(Be=138,rt=3),le=0;le<=se;le++)if(Z=xe,xe=K[2*(le+1)+1],!(++fe<Be&&Z===xe)){if(fe<rt)for(;Q(H,Z,H.bl_tree),--fe!=0;);else Z!==0?(Z!==he&&(Q(H,Z,H.bl_tree),fe--),Q(H,y,H.bl_tree),X(H,fe-3,2)):fe<=10?(Q(H,w,H.bl_tree),X(H,fe-3,3)):(Q(H,k,H.bl_tree),X(H,fe-11,7));he=Z,rt=(fe=0)===xe?(Be=138,3):Z===xe?(Be=6,3):(Be=7,4)}}l(B);var J=!1;function V(H,K,se,le){X(H,(c<<1)+(le?1:0),3),function(Z,he,xe,fe){we(Z),ee(Z,xe),ee(Z,~xe),o.arraySet(Z.pending_buf,Z.window,he,xe,Z.pending),Z.pending+=xe}(H,K,se)}i._tr_init=function(H){J||(function(){var K,se,le,Z,he,xe=new Array(b+1);for(Z=le=0;Z<u-1;Z++)for(O[Z]=le,K=0;K<1<<_[Z];K++)S[le++]=Z;for(S[le-1]=Z,Z=he=0;Z<16;Z++)for(B[Z]=he,K=0;K<1<<T[Z];K++)L[he++]=Z;for(he>>=7;Z<f;Z++)for(B[Z]=he<<7,K=0;K<1<<T[Z]-7;K++)L[256+he++]=Z;for(se=0;se<=b;se++)xe[se]=0;for(K=0;K<=143;)M[2*K+1]=8,K++,xe[8]++;for(;K<=255;)M[2*K+1]=9,K++,xe[9]++;for(;K<=279;)M[2*K+1]=7,K++,xe[7]++;for(;K<=287;)M[2*K+1]=8,K++,xe[8]++;for(ye(M,h+1,xe),K=0;K<f;K++)I[2*K+1]=5,I[2*K]=be(K,5);P=new U(M,_,d+1,h,b),z=new U(I,T,0,f,b),N=new U(new Array(0),E,0,p,v)}(),J=!0),H.l_desc=new $(H.dyn_ltree,P),H.d_desc=new $(H.dyn_dtree,z),H.bl_desc=new $(H.bl_tree,N),H.bi_buf=0,H.bi_valid=0,ge(H)},i._tr_stored_block=V,i._tr_flush_block=function(H,K,se,le){var Z,he,xe=0;0<H.level?(H.strm.data_type===2&&(H.strm.data_type=function(fe){var Be,rt=4093624447;for(Be=0;Be<=31;Be++,rt>>>=1)if(1&rt&&fe.dyn_ltree[2*Be]!==0)return a;if(fe.dyn_ltree[18]!==0||fe.dyn_ltree[20]!==0||fe.dyn_ltree[26]!==0)return s;for(Be=32;Be<d;Be++)if(fe.dyn_ltree[2*Be]!==0)return s;return a}(H)),Ne(H,H.l_desc),Ne(H,H.d_desc),xe=function(fe){var Be;for(R(fe,fe.dyn_ltree,fe.l_desc.max_code),R(fe,fe.dyn_dtree,fe.d_desc.max_code),Ne(fe,fe.bl_desc),Be=p-1;3<=Be&&fe.bl_tree[2*A[Be]+1]===0;Be--);return fe.opt_len+=3*(Be+1)+5+5+4,Be}(H),Z=H.opt_len+3+7>>>3,(he=H.static_len+3+7>>>3)<=Z&&(Z=he)):Z=he=se+5,se+4<=Z&&K!==-1?V(H,K,se,le):H.strategy===4||he===Z?(X(H,2+(le?1:0),3),He(H,M,I)):(X(H,4+(le?1:0),3),function(fe,Be,rt,Le){var Nt;for(X(fe,Be-257,5),X(fe,rt-1,5),X(fe,Le-4,4),Nt=0;Nt<Le;Nt++)X(fe,fe.bl_tree[2*A[Nt]+1],3);ne(fe,fe.dyn_ltree,Be-1),ne(fe,fe.dyn_dtree,rt-1)}(H,H.l_desc.max_code+1,H.d_desc.max_code+1,xe+1),He(H,H.dyn_ltree,H.dyn_dtree)),ge(H),le&&we(H)},i._tr_tally=function(H,K,se){return H.pending_buf[H.d_buf+2*H.last_lit]=K>>>8&255,H.pending_buf[H.d_buf+2*H.last_lit+1]=255&K,H.pending_buf[H.l_buf+H.last_lit]=255&se,H.last_lit++,K===0?H.dyn_ltree[2*se]++:(H.matches++,K--,H.dyn_ltree[2*(S[se]+d+1)]++,H.dyn_dtree[2*F(K)]++),H.last_lit===H.lit_bufsize-1},i._tr_align=function(H){X(H,2,3),Q(H,x,M),function(K){K.bi_valid===16?(ee(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)}(H)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(o){(function(a,s){if(!a.setImmediate){var l,c,u,d,h=1,f={},p=!1,m=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,l={}.toString.call(a.process)==="[object process]"?function(y){process.nextTick(function(){v(y)})}:function(){if(a.postMessage&&!a.importScripts){var y=!0,w=a.onmessage;return a.onmessage=function(){y=!1},a.postMessage("","*"),a.onmessage=w,y}}()?(d="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",x,!1):a.attachEvent("onmessage",x),function(y){a.postMessage(d+y,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(y){v(y.data)},function(y){u.port2.postMessage(y)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(y){var w=m.createElement("script");w.onreadystatechange=function(){v(y),w.onreadystatechange=null,c.removeChild(w),w=null},c.appendChild(w)}):function(y){setTimeout(v,0,y)},b.setImmediate=function(y){typeof y!="function"&&(y=new Function(""+y));for(var w=new Array(arguments.length-1),k=0;k<w.length;k++)w[k]=arguments[k+1];var _={callback:y,args:w};return f[h]=_,l(h),h++},b.clearImmediate=g}function g(y){delete f[y]}function v(y){if(p)setTimeout(v,0,y);else{var w=f[y];if(w){p=!0;try{(function(k){var _=k.callback,T=k.args;switch(T.length){case 0:_();break;case 1:_(T[0]);break;case 2:_(T[0],T[1]);break;case 3:_(T[0],T[1],T[2]);break;default:_.apply(s,T)}})(w)}finally{g(y),p=!1}}}}function x(y){y.source===a&&typeof y.data=="string"&&y.data.indexOf(d)===0&&v(+y.data.slice(d.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Pn<"u"?Pn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(PA);var bte=PA.exports;const vte=Es(bte),_C={happy:MV,sad:qV,love:BV,angry:EV,like:YV,dislike:KV,default:zV},xte=()=>{const{journalId:n,pageId:e}=xm(),[t,r]=Y.useState(null),[i,o]=Y.useState([]),[a,s]=Y.useState(!0),[l,c]=Y.useState({prev:null,next:null}),[u,d]=Y.useState(null),[h,f]=Y.useState(!1),[p,m]=Y.useState(!1),[b,g]=Y.useState(!1),[v]=Jp(),x=By();Y.useEffect(()=>{n&&e&&(async()=>{try{s(!0);const{data:S,error:O}=await _e.from("journal_pages").select("*").eq("page_id",e).single();if(O)throw O;r(S);const{data:P,error:z}=await _e.from("journal_page_contents").select("*").eq("page_id",e).order("content_order",{ascending:!0});if(z)throw z;o(P||[]);const{data:N,error:B}=await _e.from("journal_pages").select("page_id, page_no").eq("journal_id",n).order("page_no",{ascending:!0});if(B)throw B;const U=N.findIndex($=>$.page_id===e);c({prev:U>0?N[U-1].page_id:null,next:U<N.length-1?N[U+1].page_id:null})}catch(S){console.error("Error fetching page:",S),v({message:"Failed to load page data",duration:3e3,color:"danger"})}finally{s(!1)}})()},[n,e,v]);const y=L=>new Date(L).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),w=L=>{const S=L.toLowerCase();return _C[S]||_C.default},k=()=>{x.push("/Cephaline-Supabase/app/JournalPage/".concat(n,"/").concat(e))},_=()=>{x.push("/Cephaline-Supabase/app/JournalPage/".concat(n,"/").concat(e,"/content"))},T=async()=>{if(!t)throw new Error("Page data not loaded");const L=new vte,O=(N=>N.replace(/[^a-zA-Z0-9\-_]/g,"_"))(t.page_title||"page_".concat(t.page_no)),P=L.folder(O);let z="Title: ".concat(t.page_title||"Untitled Page","\n");z+="Page Number: ".concat(t.page_no,"\n"),z+="Mood: ".concat(t.mood||"Not specified","\n"),z+="Created: ".concat(new Date(t.created_at).toLocaleString(),"\n"),t.updated_at!==t.created_at&&(z+="Updated: ".concat(new Date(t.updated_at).toLocaleString(),"\n")),z+="\n==== Contents ====\n\n";for(const N of i)if(z+="[Item ".concat(N.content_order,"]\n"),z+="Type: ".concat(N.paragraph?"Text":N.link?"Link":N.image_url?"Image":N.file_url?"File":N.folder_name?"Folder":"Unknown","\n"),N.paragraph)z+="".concat(N.paragraph,"\n\n"),P==null||P.file("content_".concat(N.content_order,".txt"),N.paragraph);else if(N.link)z+="URL: ".concat(N.link,"\n\n"),P==null||P.file("link_".concat(N.content_order,".url"),"[InternetShortcut]\nURL=".concat(N.link));else if(N.image_url||N.file_url){const B=N.image_url||N.file_url||"",U=B.split("/").pop()||"file_".concat(N.content_order);z+="Filename: ".concat(U,"\n");try{const $=await fetch(B);if(!$.ok)throw new Error("HTTP ".concat($.status));const F=await $.blob();P==null||P.file(U,F),z+="Status: Downloaded successfully\n\n"}catch($){const F=$;z+="Status: Download failed (".concat(F.message,")\n\n")}}else N.folder_name&&(z+="Folder: ".concat(N.folder_name,"\n\n"));return P==null||P.file("page_contents.txt",z),await L.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}})},E=async()=>{try{s(!0);const L=await T(),S=document.createElement("a");S.href=URL.createObjectURL(L),S.download="".concat(t.page_title||"journal-page",".zip"),document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(S.href),v({message:"Download started successfully",duration:3e3,color:"success"})}catch(L){console.error("Error creating zip:",L),v({message:"Failed to prepare download. Please try again.",duration:3e3,color:"danger"})}finally{s(!1)}},A=async()=>{try{g(!0);const L=await T();await new Promise(S=>setTimeout(S,2e3)),v({message:'File "'.concat(t.page_title||"journal-page",'.zip" would be uploaded to Google Drive in a real implementation.'),duration:3e3,color:"success"})}catch(L){console.error("Error uploading to Google Drive:",L),v({message:"Failed to upload to Google Drive. Please try again.",duration:3e3,color:"danger"})}finally{g(!1)}},M=L=>{if(h)return;const S=L==="prev"?l.prev:l.next;S&&(f(!0),d(L==="prev"?"right":"left"),setTimeout(()=>{x.push("/cephaline-supabase/app/JournalPageView/".concat(n,"/").concat(S)),f(!1),d(null)},300))},I=L=>{const S=()=>L.paragraph?f_:L.image_url?lv:L.link?cv:L.file_url||L.folder_name?m_:f_;return C.jsx(sr,{className:"content-item",children:C.jsxs(ar,{children:[C.jsxs(Vn,{lines:"none",children:[C.jsx(Xe,{icon:S(),slot:"start"}),C.jsxs(Cn,{children:["Item #",L.content_order]})]}),L.paragraph&&C.jsx("div",{className:"content-paragraph",children:C.jsx(Ln,{children:L.paragraph})}),L.image_url&&C.jsx("div",{className:"content-image",children:C.jsx(Zp,{src:L.image_url,alt:"Content ".concat(L.content_order),style:{maxHeight:"300px",objectFit:"contain"}})}),L.link&&C.jsxs(We,{fill:"clear",href:L.link,target:"_blank",rel:"noopener noreferrer",children:[C.jsx(Xe,{icon:cv,slot:"start"}),"Open Link"]}),L.file_url&&C.jsxs(We,{fill:"clear",href:L.file_url,target:"_blank",rel:"noopener noreferrer",children:[C.jsx(Xe,{icon:m_,slot:"start"}),"View File"]}),L.folder_name&&C.jsx(Ln,{color:"medium",children:C.jsxs("p",{children:["Folder: ",L.folder_name]})})]})},L.content_id)};return a?C.jsx(Tr,{children:C.jsx(qb,{isOpen:a,message:"Loading page..."})}):t?C.jsxs(Tr,{children:[C.jsx(Tn,{children:C.jsxs(An,{children:[C.jsxs(Yn,{children:["Page ",t.page_no]}),C.jsxs(Fn,{slot:"end",children:[C.jsx(We,{onClick:_,children:C.jsx(Xe,{slot:"icon-only",icon:_V})}),C.jsx(We,{onClick:k,children:C.jsx(Xe,{slot:"icon-only",icon:DV})})]})]})}),C.jsx(jt,{className:"journal-page-content",children:C.jsx("div",{className:"slide-container ".concat(u?"slide-"+u:""),children:C.jsxs("div",{className:"journal-page-container",children:[C.jsx(Fn,{slot:"start",children:C.jsx(qu,{defaultHref:"/cephaline-supabase/app/Overviewing/".concat(n),style:{color:"skyblue"}})}),C.jsxs("div",{className:"journal-page-header",children:[C.jsxs("div",{className:"page-title-with-download",children:[C.jsx("h1",{style:{marginRight:"12px"},children:t.page_title}),C.jsxs(We,{fill:"clear",size:"small",onClick:()=>m(!0),children:[C.jsx(Xe,{icon:p_,slot:"start"}),"Export"]})]}),t.mood&&C.jsxs("div",{className:"mood-display",children:[C.jsx(Xe,{icon:w(t.mood),style:{marginRight:"6px",color:"var(--ion-color-primary)"}}),C.jsx(Xf,{color:"tertiary",children:t.mood.charAt(0).toUpperCase()+t.mood.slice(1)})]}),C.jsx("div",{className:"page-metadata",children:C.jsxs(Ln,{color:"medium",children:[C.jsxs("small",{children:["Created: ",y(t.created_at)]}),t.updated_at!==t.created_at&&C.jsxs("small",{children:[" • Updated: ",y(t.updated_at)]})]})})]}),C.jsxs("div",{className:"contents-section",children:[C.jsxs("h2",{className:"contents-title",children:["Page Contents",C.jsx(Xf,{color:"primary",style:{marginLeft:"8px"},children:i.length})]}),i.length===0?C.jsxs("div",{className:"empty-contents",children:[C.jsx(Ln,{color:"medium",children:"No content items yet."}),C.jsx(We,{fill:"clear",onClick:_,children:"Add Content"})]}):C.jsx("div",{className:"contents-list",children:i.map(I)})]}),C.jsxs("div",{className:"page-navigation",children:[C.jsxs(We,{fill:"clear",disabled:!l.prev||h,onClick:()=>M("prev"),children:[C.jsx(Xe,{slot:"start",icon:AV}),"Previous"]}),C.jsxs(We,{fill:"clear",disabled:!l.next||h,onClick:()=>M("next"),children:["Next",C.jsx(Xe,{slot:"end",icon:IV})]})]})]})})}),C.jsx(LF,{isOpen:p,onDidDismiss:()=>m(!1),buttons:[{text:"Download to Device",icon:p_,handler:()=>{E()}},{text:"Upload to Google Drive",icon:RV,handler:()=>{A()}},{text:"Cancel",icon:ef,role:"cancel"}]}),C.jsx(qb,{isOpen:b,message:"Uploading to Google Drive..."})]}):C.jsxs(Tr,{children:[C.jsx(Tn,{children:C.jsxs(An,{children:[C.jsx(Fn,{slot:"start",children:C.jsx(qu,{defaultHref:"/cephaline-supabase/app/Overviewing/".concat(n)})}),C.jsx(Yn,{children:"Page Not Found"})]})}),C.jsx(jt,{children:C.jsx("div",{className:"ion-padding",children:"The requested page could not be found."})})]})},yte=()=>{const n=[{name:"Home",url:"/Cephaline-Supabase/app/home",icon:LV},{name:"Profile",url:"/Cephaline-Supabase/app/editProfile",icon:UV}],t={...{animation:"blink 2s infinite",filter:"drop-shadow(0 0 8px white)"},animationDelay:"0.1s",color:"black"},r={display:"flex",color:"black",margin:"3%"},i={display:"flex",color:"white"};return C.jsxs(C.Fragment,{children:[C.jsxs(AF,{contentId:"main-content",children:[C.jsx(Tn,{children:C.jsx(An,{children:C.jsx(Yn,{style:t,children:"Menu Content"})})}),C.jsxs(jt,{className:"ion-padding",children:[n.map((o,a)=>C.jsx(IF,{children:C.jsxs(Vn,{style:r,routerLink:o.url,routerDirection:"forward",children:[C.jsx(Xe,{style:t,icon:o.icon,slot:"start"}),o.name]})},a)),C.jsxs(We,{routerLink:"/Cephaline-Supabase",routerDirection:"back",expand:"full",style:{marginTop:"10%",width:"90vw",maxWidth:"250px",height:"auto",padding:"1rem"},children:[C.jsx(Xe,{icon:NV,slot:"start",children:" "}),"Logout"]})]})]}),C.jsxs(Tr,{id:"main-content",children:[C.jsx(Tn,{children:C.jsxs(An,{children:[C.jsx(Fn,{slot:"start",children:C.jsx(YS,{style:t})}),C.jsx(Yn,{style:i,children:"Menu"})]})}),C.jsxs(Il,{id:"main",children:[C.jsx(oi,{exact:!0,path:"/Cephaline-Supabase/app/home",component:kq}),C.jsx(oi,{exact:!0,path:"/Cephaline-Supabase/app/editProfile",component:ate}),C.jsx(oi,{exact:!0,path:"/Cephaline-Supabase/app/JournalPage/:journalId?",component:hte}),C.jsx(oi,{exact:!0,path:"/Cephaline-Supabase/app/page-list/:journalId",component:gte}),C.jsx(oi,{exact:!0,path:"/Cephaline-Supabase/app/JournalPageView/:journalId/:pageId",component:xte}),C.jsx(oi,{exact:!0,path:"/Cephaline-Supabase/app/Overviewing/:journalId",component:mte}),C.jsx(oi,{exact:!0,path:"/Cephaline-Supabase/app",children:C.jsx(fU,{to:"/Cephaline-Supabase/app/home"})})]})]})]})},wte=({children:n})=>{const e=ya(),t="dev-z73ew72hke24bt8z.us.auth0.com",r="4qIWv52kRoed4sjUGlHjny5IFR0eLdZa",i=window.location.origin,o=a=>{e.push((a==null?void 0:a.returnTo)||"/Cephaline-Supabase/app","forward","replace")};return C.jsx(yV,{domain:t,clientId:r,authorizationParams:{redirect_uri:i},onRedirectCallback:o,children:n})};i$();const kte=()=>C.jsx(XS,{children:C.jsx(TU,{children:C.jsx(wte,{children:C.jsxs(Il,{children:[C.jsx(oi,{exact:!0,path:"/Cephaline-Supabase",component:eq}),C.jsx(oi,{exact:!0,path:"/Cephaline-Supabase/registration",component:gq}),C.jsx(oi,{path:"/Cephaline-Supabase/app",component:yte})]})})})}),_te=document.getElementById("root"),Cte=V8.createRoot(_te);Cte.render(C.jsx(de.StrictMode,{children:C.jsx(kte,{})}));export{yS as K,Tte as __vite_legacy_guard,Wn as a,gi as b,yd as c,Sr as d,jx as e,Hf as f,PE as g,Fb as h,wo as i,dt as j,tn as k,Lb as l,qte as m,me as n,Ite as o,Ate as p,Es as q,bs as r,Vte as s,or as w};
